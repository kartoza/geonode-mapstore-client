/*! For license information please see 2684.d4fe9ae3be4e2f41d1a5.chunk.js.LICENSE.txt */
(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[2684],{80986:(e,t,n)=>{var r=n(19911),i=n(72484);e.exports=function(e,t,n){(void 0!==n&&!i(e[t],n)||void 0===n&&!(t in e))&&r(e,t,n)}},21262:(e,t,n)=>{var r=n(46553);e.exports=function(e,t,n){for(var i=-1,o=e.length;++i<o;){var a=e[i],s=t(a);if(null!=s&&(void 0===l?s==s&&!r(s):n(s,l)))var l=s,u=a}return u}},91129:e=>{e.exports=function(e,t){return e>t}},85812:e=>{e.exports=function(e,t){return e<t}},79455:(e,t,n)=>{var r=n(60394),i=n(80986),o=n(85751),a=n(31686),s=n(33716),l=n(83638),u=n(69298);e.exports=function e(t,n,c,f,d){t!==n&&o(n,(function(o,l){if(d||(d=new r),s(o))a(t,n,l,c,e,f,d);else{var p=f?f(u(t,l),o,l+"",t,n,d):void 0;void 0===p&&(p=o),i(t,l,p)}}),l)}},31686:(e,t,n)=>{var r=n(80986),i=n(16824),o=n(5352),a=n(93268),s=n(34217),l=n(9561),u=n(80643),c=n(78893),f=n(25155),d=n(72300),p=n(33716),h=n(53893),g=n(69763),m=n(69298),y=n(23554);e.exports=function(e,t,n,v,b,x,_){var w=m(e,n),k=m(t,n),T=_.get(k);if(T)r(e,n,T);else{var C=x?x(w,k,n+"",e,t,_):void 0,O=void 0===C;if(O){var S=u(k),A=!S&&f(k),M=!S&&!A&&g(k);C=k,S||A||M?u(w)?C=w:c(w)?C=a(w):A?(O=!1,C=i(k,!0)):M?(O=!1,C=o(k,!0)):C=[]:h(k)||l(k)?(C=w,l(w)?C=y(w):p(w)&&!d(w)||(C=s(k))):O=!1}O&&(_.set(k,C),b(C,k,v,x,_),_.delete(k)),r(e,n,C)}}},84847:(e,t,n)=>{var r=n(54528),i=n(83733),o=n(77820),a=n(65491),s=n(75542),l=n(80961),u=n(70475);e.exports=function(e,t,n){var c=-1;t=r(t.length?t:[u],s(i));var f=o(e,(function(e,n,i){return{criteria:r(t,(function(t){return t(e)})),index:++c,value:e}}));return a(f,(function(e,t){return l(e,t,n)}))}},82876:e=>{var t=Math.ceil,n=Math.max;e.exports=function(e,r,i,o){for(var a=-1,s=n(t((r-e)/(i||1)),0),l=Array(s);s--;)l[o?s:++a]=e,e+=i;return l}},55941:(e,t,n)=>{var r=n(59130);e.exports=function(e,t){var n;return r(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}},65491:e=>{e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},62169:e=>{e.exports=function(e,t){for(var n,r=-1,i=e.length;++r<i;){var o=t(e[r]);void 0!==o&&(n=void 0===n?o:n+o)}return n}},57312:(e,t,n)=>{var r=n(46553);e.exports=function(e,t){if(e!==t){var n=void 0!==e,i=null===e,o=e==e,a=r(e),s=void 0!==t,l=null===t,u=t==t,c=r(t);if(!l&&!c&&!a&&e>t||a&&s&&u&&!l&&!c||i&&s&&u||!n&&u||!o)return 1;if(!i&&!a&&!c&&e<t||c&&n&&o&&!i&&!a||l&&n&&o||!s&&o||!u)return-1}return 0}},80961:(e,t,n)=>{var r=n(57312);e.exports=function(e,t,n){for(var i=-1,o=e.criteria,a=t.criteria,s=o.length,l=n.length;++i<s;){var u=r(o[i],a[i]);if(u)return i>=l?u:u*("desc"==n[i]?-1:1)}return e.index-t.index}},21993:(e,t,n)=>{var r=n(82876),i=n(85270),o=n(21248);e.exports=function(e){return function(t,n,a){return a&&"number"!=typeof a&&i(t,n,a)&&(n=a=void 0),t=o(t),void 0===n?(n=t,t=0):n=o(n),a=void 0===a?t<n?1:-1:o(a),r(t,n,a,e)}}},69298:e=>{e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},74836:e=>{e.exports=function(e){return void 0===e}},93110:(e,t,n)=>{var r=n(21262),i=n(91129),o=n(83733);e.exports=function(e,t){return e&&e.length?r(e,o(t,2),i):void 0}},59733:(e,t,n)=>{var r=n(79455),i=n(6271)((function(e,t,n,i){r(e,t,n,i)}));e.exports=i},36262:(e,t,n)=>{var r=n(21262),i=n(85812),o=n(70475);e.exports=function(e){return e&&e.length?r(e,o,i):void 0}},91435:e=>{e.exports=function(e){if("function"!=typeof e)throw new TypeError("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}},59088:(e,t,n)=>{var r=n(83733),i=n(91435),o=n(23225);e.exports=function(e,t){return o(e,i(r(t)))}},23225:(e,t,n)=>{var r=n(54528),i=n(83733),o=n(21722),a=n(91257);e.exports=function(e,t){if(null==e)return{};var n=r(a(e),(function(e){return[e]}));return t=i(t),o(e,n,(function(e,n){return t(e,n[0])}))}},83647:(e,t,n)=>{var r=n(21993)();e.exports=r},43205:(e,t,n)=>{var r=n(70235),i=n(83733),o=n(55941),a=n(80643),s=n(85270);e.exports=function(e,t,n){var l=a(e)?r:o;return n&&s(e,t,n)&&(t=void 0),l(e,i(t,3))}},33398:(e,t,n)=>{var r=n(94753),i=n(84847),o=n(98554),a=n(85270),s=o((function(e,t){if(null==e)return[];var n=t.length;return n>1&&a(e,t[0],t[1])?t=[]:n>2&&a(t[0],t[1],t[2])&&(t=[t[0]]),i(e,r(t,1),[])}));e.exports=s},75175:(e,t,n)=>{var r=n(83733),i=n(62169);e.exports=function(e,t){return e&&e.length?i(e,r(t,2)):0}},23554:(e,t,n)=>{var r=n(69960),i=n(83638);e.exports=function(e){return r(e,i(e))}},72163:(e,t,n)=>{n(44194)},44194:e=>{function t(e){return e*Math.PI/180}function n(e){var n=0;if(e.length>2)for(var r,i,o=0;o<e.length-1;o++)r=e[o],n+=t((i=e[o+1])[0]-r[0])*(2+Math.sin(t(r[1]))+Math.sin(t(i[1])));return n>=0}function r(e){if(e&&e.length>0){if(n(e[0]))return!1;if(!e.slice(1,e.length).every(n))return!1}return!0}e.exports=function(e,t){(function(e){return"Polygon"===e.type?r(e.coordinates):"MultiPolygon"===e.type?e.coordinates.every(r):void 0})(e)||t.push({message:"Polygons and MultiPolygons should follow the right-hand rule",level:"message",line:e.__line__})}},89597:(e,t,n)=>{var r=function(){"use strict";var e,t=/\s*/g,r=/^\s*|\s*$/g,i=/\s+/;function o(e){if(!e||!e.length)return 0;for(var t=0,n=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t)|0;return n}function a(e,t){return e.getElementsByTagName(t)}function s(e,t){return e.getAttribute(t)}function l(e,t){return parseFloat(s(e,t))}function u(e,t){var n=a(e,t);return n.length?n[0]:null}function c(e){for(var t=0,n=[];t<e.length;t++)n[t]=parseFloat(e[t]);return n}function f(e){var t;return e&&(t=e).normalize&&t.normalize(),e&&e.textContent||""}function d(e,t){var n,r,i={};for(r=0;r<t.length;r++)(n=u(e,t[r]))&&(i[t[r]]=f(n));return i}function p(e,t){for(var n in t)e[n]=t[n]}function h(e){return c(e.replace(t,"").split(","))}function g(e){for(var t=e.replace(r,"").split(i),n=[],o=0;o<t.length;o++)n.push(h(t[o]));return n}function m(e){var t,n=[l(e,"lon"),l(e,"lat")],r=u(e,"ele"),i=u(e,"gpxtpx:hr")||u(e,"hr"),o=u(e,"time");return r&&(t=parseFloat(f(r)),isNaN(t)||n.push(t)),{coordinates:n,time:o?f(o):null,heartRate:i?parseFloat(f(i)):null}}function y(t){return void 0!==t.xml?t.xml:e.serializeToString(t)}return"undefined"!=typeof XMLSerializer?e=new XMLSerializer:"object"!=typeof process||process.browser||(e=new(n(86799).XMLSerializer)),{kml:function(e){for(var t={type:"FeatureCollection",features:[]},n={},r={},i={},l=["Polygon","LineString","Point","Track","gx:Track"],d=a(e,"Placemark"),p=a(e,"Style"),m=a(e,"StyleMap"),v=0;v<p.length;v++){var b=o(y(p[v])).toString(16);n["#"+s(p[v],"id")]=b,r[b]=p[v]}for(var x=0;x<m.length;x++){n["#"+s(m[x],"id")]=o(y(m[x])).toString(16);for(var _=a(m[x],"Pair"),w={},k=0;k<_.length;k++)w[f(u(_[k],"key"))]=f(u(_[k],"styleUrl"));i["#"+s(m[x],"id")]=w}for(var T=0;T<d.length;T++)t.features=t.features.concat(A(d[T]));function C(e){var t,n;return"#"===(e=e||"").substr(0,1)&&(e=e.substr(1)),6!==e.length&&3!==e.length||(t=e),8===e.length&&(n=parseInt(e.substr(0,2),16)/255,t="#"+e.substr(6,2)+e.substr(4,2)+e.substr(2,2)),[t,isNaN(n)?void 0:n]}function O(e){var t=a(e,"coord"),n=[],r=[];0===t.length&&(t=a(e,"gx:coord"));for(var i=0;i<t.length;i++)n.push(c(f(t[i]).split(" ")));for(var o=a(e,"when"),s=0;s<o.length;s++)r.push(f(o[s]));return{coords:n,times:r}}function S(e){var t,n,r,i,o,s=[],c=[];if(u(e,"MultiGeometry"))return S(u(e,"MultiGeometry"));if(u(e,"MultiTrack"))return S(u(e,"MultiTrack"));if(u(e,"gx:MultiTrack"))return S(u(e,"gx:MultiTrack"));for(r=0;r<l.length;r++)if(n=a(e,l[r]))for(i=0;i<n.length;i++)if(t=n[i],"Point"===l[r])s.push({type:"Point",coordinates:h(f(u(t,"coordinates")))});else if("LineString"===l[r])s.push({type:"LineString",coordinates:g(f(u(t,"coordinates")))});else if("Polygon"===l[r]){var d=a(t,"LinearRing"),p=[];for(o=0;o<d.length;o++)p.push(g(f(u(d[o],"coordinates"))));s.push({type:"Polygon",coordinates:p})}else if("Track"===l[r]||"gx:Track"===l[r]){var m=O(t);s.push({type:"LineString",coordinates:m.coords}),m.times.length&&c.push(m.times)}return{geoms:s,coordTimes:c}}function A(e){var t,o=S(e),l={},c=f(u(e,"name")),d=f(u(e,"address")),p=f(u(e,"styleUrl")),h=f(u(e,"description")),g=u(e,"TimeSpan"),m=u(e,"TimeStamp"),y=u(e,"ExtendedData"),v=u(e,"LineStyle"),b=u(e,"PolyStyle"),x=u(e,"visibility");if(!o.geoms.length)return[];if(c&&(l.name=c),d&&(l.address=d),p){"#"!==p[0]&&(p="#"+p),l.styleUrl=p,n[p]&&(l.styleHash=n[p]),i[p]&&(l.styleMapHash=i[p],l.styleHash=n[i[p].normal]);var _=r[l.styleHash];_&&(v||(v=u(_,"LineStyle")),b||(b=u(_,"PolyStyle")))}if(h&&(l.description=h),g){var w=f(u(g,"begin")),k=f(u(g,"end"));l.timespan={begin:w,end:k}}if(m&&(l.timestamp=f(u(m,"when"))),v){var T=C(f(u(v,"color"))),O=T[0],A=T[1],M=parseFloat(f(u(v,"width")));O&&(l.stroke=O),isNaN(A)||(l["stroke-opacity"]=A),isNaN(M)||(l["stroke-width"]=M)}if(b){var E=C(f(u(b,"color"))),P=E[0],D=E[1],L=f(u(b,"fill")),R=f(u(b,"outline"));P&&(l.fill=P),isNaN(D)||(l["fill-opacity"]=D),L&&(l["fill-opacity"]="1"===L?l["fill-opacity"]||1:0),R&&(l["stroke-opacity"]="1"===R?l["stroke-opacity"]||1:0)}if(y){var I=a(y,"Data"),N=a(y,"SimpleData");for(t=0;t<I.length;t++)l[I[t].getAttribute("name")]=f(u(I[t],"value"));for(t=0;t<N.length;t++)l[N[t].getAttribute("name")]=f(N[t])}x&&(l.visibility=f(x)),o.coordTimes.length&&(l.coordTimes=1===o.coordTimes.length?o.coordTimes[0]:o.coordTimes);var j={type:"Feature",geometry:1===o.geoms.length?o.geoms[0]:{type:"GeometryCollection",geometries:o.geoms},properties:l};return s(e,"id")&&(j.id=s(e,"id")),[j]}return t},gpx:function(e){var t,n,r,i,o=a(e,"trk"),l=a(e,"rte"),c=a(e,"wpt"),h={type:"FeatureCollection",features:[]};for(t=0;t<o.length;t++)(n=y(o[t]))&&h.features.push(n);for(t=0;t<l.length;t++)(n=v(l[t]))&&h.features.push(n);for(t=0;t<c.length;t++)h.features.push((r=c[t],i=void 0,p(i=x(r),d(r,["sym"])),{type:"Feature",properties:i,geometry:{type:"Point",coordinates:m(r).coordinates}}));function g(e,t){var n=a(e,t),r=[],i=[],o=[],s=n.length;if(s<2)return{};for(var l=0;l<s;l++){var u=m(n[l]);r.push(u.coordinates),u.time&&i.push(u.time),u.heartRate&&o.push(u.heartRate)}return{line:r,times:i,heartRates:o}}function y(e){for(var t,n=a(e,"trkseg"),r=[],i=[],o=[],s=0;s<n.length;s++)(t=g(n[s],"trkpt"))&&(t.line&&r.push(t.line),t.times&&t.times.length&&i.push(t.times),t.heartRates&&t.heartRates.length&&o.push(t.heartRates));if(0!==r.length){var l=x(e);return p(l,b(u(e,"extensions"))),i.length&&(l.coordTimes=1===r.length?i[0]:i),o.length&&(l.heartRates=1===r.length?o[0]:o),{type:"Feature",properties:l,geometry:{type:1===r.length?"LineString":"MultiLineString",coordinates:1===r.length?r[0]:r}}}}function v(e){var t=g(e,"rtept");if(t.line){var n=x(e);return p(n,b(u(e,"extensions"))),{type:"Feature",properties:n,geometry:{type:"LineString",coordinates:t.line}}}}function b(e){var t={};if(e){var n=u(e,"line");if(n){var r=f(u(n,"color")),i=parseFloat(f(u(n,"opacity"))),o=parseFloat(f(u(n,"width")));r&&(t.stroke=r),isNaN(i)||(t["stroke-opacity"]=i),isNaN(o)||(t["stroke-width"]=96*o/25.4)}}return t}function x(e){var t=d(e,["name","cmt","desc","type","time","keywords"]),n=a(e,"link");n.length&&(t.links=[]);for(var r,i=0;i<n.length;i++)p(r={href:s(n[i],"href")},d(n[i],["text","type"])),t.links.push(r);return t}return h}}}();e.exports=r},5623:e=>{function t(e,t,i){e instanceof RegExp&&(e=n(e,i)),t instanceof RegExp&&(t=n(t,i));var o=r(e,t,i);return o&&{start:o[0],end:o[1],pre:i.slice(0,o[0]),body:i.slice(o[0]+e.length,o[1]),post:i.slice(o[1]+t.length)}}function n(e,t){var n=t.match(e);return n?n[0]:null}function r(e,t,n){var r,i,o,a,s,l=n.indexOf(e),u=n.indexOf(t,l+1),c=l;if(l>=0&&u>0){for(r=[],o=n.length;c>=0&&!s;)c==l?(r.push(c),l=n.indexOf(e,c+1)):1==r.length?s=[r.pop(),u]:((i=r.pop())<o&&(o=i,a=u),u=n.indexOf(t,c+1)),c=l<u&&l>=0?l:u;r.length&&(s=[o,a])}return s}e.exports=t,t.range=r},96624:(e,t,n)=>{var r;r=function(){return function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof _dereq_&&_dereq_;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};t[a][0].call(c.exports,(function(e){return i(t[a][1][e]||e)}),c,c.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof _dereq_&&_dereq_,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){"use strict";t.exports=function(e){var t=e._SomePromiseArray;function n(e){var n=new t(e),r=n.promise();return n.setHowMany(1),n.setUnwrap(),n.init(),r}e.any=function(e){return n(e)},e.prototype.any=function(){return n(this)}}},{}],2:[function(e,t,n){"use strict";var r;try{throw new Error}catch(e){r=e}var i=e("./schedule"),o=e("./queue"),a=e("./util");function s(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new o(16),this._normalQueue=new o(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var e=this;this.drainQueues=function(){e._drainQueues()},this._schedule=i}function l(e,t,n){this._lateQueue.push(e,t,n),this._queueTick()}function u(e,t,n){this._normalQueue.push(e,t,n),this._queueTick()}function c(e){this._normalQueue._pushOne(e),this._queueTick()}s.prototype.setScheduler=function(e){var t=this._schedule;return this._schedule=e,this._customScheduler=!0,t},s.prototype.hasCustomScheduler=function(){return this._customScheduler},s.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},s.prototype.disableTrampolineIfNecessary=function(){a.hasDevTools&&(this._trampolineEnabled=!1)},s.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},s.prototype.fatalError=function(e,t){t?(process.stderr.write("Fatal "+(e instanceof Error?e.stack:e)+"\n"),process.exit(2)):this.throwLater(e)},s.prototype.throwLater=function(e,t){if(1===arguments.length&&(t=e,e=function(){throw t}),"undefined"!=typeof setTimeout)setTimeout((function(){e(t)}),0);else try{this._schedule((function(){e(t)}))}catch(e){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},a.hasDevTools?(s.prototype.invokeLater=function(e,t,n){this._trampolineEnabled?l.call(this,e,t,n):this._schedule((function(){setTimeout((function(){e.call(t,n)}),100)}))},s.prototype.invoke=function(e,t,n){this._trampolineEnabled?u.call(this,e,t,n):this._schedule((function(){e.call(t,n)}))},s.prototype.settlePromises=function(e){this._trampolineEnabled?c.call(this,e):this._schedule((function(){e._settlePromises()}))}):(s.prototype.invokeLater=l,s.prototype.invoke=u,s.prototype.settlePromises=c),s.prototype._drainQueue=function(e){for(;e.length()>0;){var t=e.shift();if("function"==typeof t){var n=e.shift(),r=e.shift();t.call(n,r)}else t._settlePromises()}},s.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},s.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},s.prototype._reset=function(){this._isTickUsed=!1},t.exports=s,t.exports.firstLineError=r},{"./queue":26,"./schedule":29,"./util":36}],3:[function(e,t,n){"use strict";t.exports=function(e,t,n,r){var i=!1,o=function(e,t){this._reject(t)},a=function(e,t){t.promiseRejectionQueued=!0,t.bindingPromise._then(o,o,null,this,e)},s=function(e,t){0==(50397184&this._bitField)&&this._resolveCallback(t.target)},l=function(e,t){t.promiseRejectionQueued||this._reject(e)};e.prototype.bind=function(o){i||(i=!0,e.prototype._propagateFrom=r.propagateFromFunction(),e.prototype._boundValue=r.boundValueFunction());var u=n(o),c=new e(t);c._propagateFrom(this,1);var f=this._target();if(c._setBoundTo(u),u instanceof e){var d={promiseRejectionQueued:!1,promise:c,target:f,bindingPromise:u};f._then(t,a,void 0,c,d),u._then(s,l,void 0,c,d),c._setOnCancel(u)}else c._resolveCallback(f);return c},e.prototype._setBoundTo=function(e){void 0!==e?(this._bitField=2097152|this._bitField,this._boundTo=e):this._bitField=-2097153&this._bitField},e.prototype._isBound=function(){return 2097152==(2097152&this._bitField)},e.bind=function(t,n){return e.resolve(n).bind(t)}}},{}],4:[function(e,t,n){"use strict";var r;"undefined"!=typeof Promise&&(r=Promise);var i=e("./promise")();i.noConflict=function(){try{Promise===i&&(Promise=r)}catch(e){}return i},t.exports=i},{"./promise":22}],5:[function(e,t,n){"use strict";var r=Object.create;if(r){var i=r(null),o=r(null);i[" size"]=o[" size"]=0}t.exports=function(t){var n=e("./util"),r=n.canEvaluate;function i(e){return function(e,r){var i;if(null!=e&&(i=e[r]),"function"!=typeof i){var o="Object "+n.classString(e)+" has no method '"+n.toString(r)+"'";throw new t.TypeError(o)}return i}(e,this.pop()).apply(e,this)}function o(e){return e[this]}function a(e){var t=+this;return t<0&&(t=Math.max(0,t+e.length)),e[t]}n.isIdentifier,t.prototype.call=function(e){var t=[].slice.call(arguments,1);return t.push(e),this._then(i,void 0,void 0,t,void 0)},t.prototype.get=function(e){var t;if("number"==typeof e)t=a;else if(r){var n=(void 0)(e);t=null!==n?n:o}else t=o;return this._then(t,void 0,void 0,e,void 0)}}},{"./util":36}],6:[function(e,t,n){"use strict";t.exports=function(t,n,r,i){var o=e("./util"),a=o.tryCatch,s=o.errorObj,l=t._async;t.prototype.break=t.prototype.cancel=function(){if(!i.cancellation())return this._warn("cancellation is disabled");for(var e=this,t=e;e._isCancellable();){if(!e._cancelBy(t)){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}var n=e._cancellationParent;if(null==n||!n._isCancellable()){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}e._isFollowing()&&e._followee().cancel(),e._setWillBeCancelled(),t=e,e=n}},t.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},t.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},t.prototype._cancelBy=function(e){return e===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},t.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},t.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),l.invoke(this._cancelPromises,this,void 0))},t.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},t.prototype._unsetOnCancel=function(){this._onCancelField=void 0},t.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},t.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},t.prototype._doInvokeOnCancel=function(e,t){if(o.isArray(e))for(var n=0;n<e.length;++n)this._doInvokeOnCancel(e[n],t);else if(void 0!==e)if("function"==typeof e){if(!t){var r=a(e).call(this._boundValue());r===s&&(this._attachExtraTrace(r.e),l.throwLater(r.e))}}else e._resultCancelled(this)},t.prototype._invokeOnCancel=function(){var e=this._onCancel();this._unsetOnCancel(),l.invoke(this._doInvokeOnCancel,this,e)},t.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},t.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(e,t,n){"use strict";t.exports=function(t){var n=e("./util"),r=e("./es5").keys,i=n.tryCatch,o=n.errorObj;return function(e,a,s){return function(l){var u=s._boundValue();e:for(var c=0;c<e.length;++c){var f=e[c];if(f===Error||null!=f&&f.prototype instanceof Error){if(l instanceof f)return i(a).call(u,l)}else if("function"==typeof f){var d=i(f).call(u,l);if(d===o)return d;if(d)return i(a).call(u,l)}else if(n.isObject(l)){for(var p=r(f),h=0;h<p.length;++h){var g=p[h];if(f[g]!=l[g])continue e}return i(a).call(u,l)}}return t}}}},{"./es5":13,"./util":36}],8:[function(e,t,n){"use strict";t.exports=function(e){var t=!1,n=[];function r(){this._trace=new r.CapturedTrace(i())}function i(){var e=n.length-1;if(e>=0)return n[e]}return e.prototype._promiseCreated=function(){},e.prototype._pushContext=function(){},e.prototype._popContext=function(){return null},e._peekContext=e.prototype._peekContext=function(){},r.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,n.push(this._trace))},r.prototype._popContext=function(){if(void 0!==this._trace){var e=n.pop(),t=e._promiseCreated;return e._promiseCreated=null,t}return null},r.CapturedTrace=null,r.create=function(){if(t)return new r},r.deactivateLongStackTraces=function(){},r.activateLongStackTraces=function(){var n=e.prototype._pushContext,o=e.prototype._popContext,a=e._peekContext,s=e.prototype._peekContext,l=e.prototype._promiseCreated;r.deactivateLongStackTraces=function(){e.prototype._pushContext=n,e.prototype._popContext=o,e._peekContext=a,e.prototype._peekContext=s,e.prototype._promiseCreated=l,t=!1},t=!0,e.prototype._pushContext=r.prototype._pushContext,e.prototype._popContext=r.prototype._popContext,e._peekContext=e.prototype._peekContext=i,e.prototype._promiseCreated=function(){var e=this._peekContext();e&&null==e._promiseCreated&&(e._promiseCreated=this)}},r}},{}],9:[function(e,t,n){"use strict";t.exports=function(t,n){var r,i,o,a=t._getDomain,s=t._async,l=e("./errors").Warning,u=e("./util"),c=u.canAttachTrace,f=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,d=/\((?:timers\.js):\d+:\d+\)/,p=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,h=null,g=null,m=!1,y=!(0==u.env("BLUEBIRD_DEBUG")),v=!(0==u.env("BLUEBIRD_WARNINGS")||!y&&!u.env("BLUEBIRD_WARNINGS")),b=!(0==u.env("BLUEBIRD_LONG_STACK_TRACES")||!y&&!u.env("BLUEBIRD_LONG_STACK_TRACES")),x=0!=u.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(v||!!u.env("BLUEBIRD_W_FORGOTTEN_RETURN"));t.prototype.suppressUnhandledRejections=function(){var e=this._target();e._bitField=-1048577&e._bitField|524288},t.prototype._ensurePossibleRejectionHandled=function(){if(0==(524288&this._bitField)){this._setRejectionIsUnhandled();var e=this;setTimeout((function(){e._notifyUnhandledRejection()}),1)}},t.prototype._notifyUnhandledRejectionIsHandled=function(){H("rejectionHandled",r,void 0,this)},t.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},t.prototype._returnedNonUndefined=function(){return 0!=(268435456&this._bitField)},t.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var e=this._settledValue();this._setUnhandledRejectionIsNotified(),H("unhandledRejection",i,e,this)}},t.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},t.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},t.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},t.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},t.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},t.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},t.prototype._warn=function(e,t,n){return z(e,t,n||this)},t.onPossiblyUnhandledRejection=function(e){var t=a();i="function"==typeof e?null===t?e:u.domainBind(t,e):void 0},t.onUnhandledRejectionHandled=function(e){var t=a();r="function"==typeof e?null===t?e:u.domainBind(t,e):void 0};var _=function(){};t.longStackTraces=function(){if(s.haveItemsQueued()&&!X.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!X.longStackTraces&&V()){var e=t.prototype._captureStackTrace,r=t.prototype._attachExtraTrace;X.longStackTraces=!0,_=function(){if(s.haveItemsQueued()&&!X.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");t.prototype._captureStackTrace=e,t.prototype._attachExtraTrace=r,n.deactivateLongStackTraces(),s.enableTrampoline(),X.longStackTraces=!1},t.prototype._captureStackTrace=N,t.prototype._attachExtraTrace=j,n.activateLongStackTraces(),s.disableTrampolineIfNecessary()}},t.hasLongStackTraces=function(){return X.longStackTraces&&V()};var w=function(){try{if("function"==typeof CustomEvent){var e=new CustomEvent("CustomEvent");return u.global.dispatchEvent(e),function(e,t){var n=new CustomEvent(e.toLowerCase(),{detail:t,cancelable:!0});return!u.global.dispatchEvent(n)}}return"function"==typeof Event?(e=new Event("CustomEvent"),u.global.dispatchEvent(e),function(e,t){var n=new Event(e.toLowerCase(),{cancelable:!0});return n.detail=t,!u.global.dispatchEvent(n)}):((e=document.createEvent("CustomEvent")).initCustomEvent("testingtheevent",!1,!0,{}),u.global.dispatchEvent(e),function(e,t){var n=document.createEvent("CustomEvent");return n.initCustomEvent(e.toLowerCase(),!1,!0,t),!u.global.dispatchEvent(n)})}catch(e){}return function(){return!1}}(),k=u.isNode?function(){return process.emit.apply(process,arguments)}:u.global?function(e){var t="on"+e.toLowerCase(),n=u.global[t];return!!n&&(n.apply(u.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function T(e,t){return{promise:t}}var C={promiseCreated:T,promiseFulfilled:T,promiseRejected:T,promiseResolved:T,promiseCancelled:T,promiseChained:function(e,t,n){return{promise:t,child:n}},warning:function(e,t){return{warning:t}},unhandledRejection:function(e,t,n){return{reason:t,promise:n}},rejectionHandled:T},O=function(e){var t=!1;try{t=k.apply(null,arguments)}catch(e){s.throwLater(e),t=!0}var n=!1;try{n=w(e,C[e].apply(null,arguments))}catch(e){s.throwLater(e),n=!0}return n||t};function S(){return!1}function A(e,t,n){var r=this;try{e(t,n,(function(e){if("function"!=typeof e)throw new TypeError("onCancel must be a function, got: "+u.toString(e));r._attachCancellationCallback(e)}))}catch(e){return e}}function M(e){if(!this._isCancellable())return this;var t=this._onCancel();void 0!==t?u.isArray(t)?t.push(e):this._setOnCancel([t,e]):this._setOnCancel(e)}function E(){return this._onCancelField}function P(e){this._onCancelField=e}function D(){this._cancellationParent=void 0,this._onCancelField=void 0}function L(e,t){if(0!=(1&t)){this._cancellationParent=e;var n=e._branchesRemainingToCancel;void 0===n&&(n=0),e._branchesRemainingToCancel=n+1}0!=(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)}t.config=function(e){if("longStackTraces"in(e=Object(e))&&(e.longStackTraces?t.longStackTraces():!e.longStackTraces&&t.hasLongStackTraces()&&_()),"warnings"in e){var n=e.warnings;X.warnings=!!n,x=X.warnings,u.isObject(n)&&"wForgottenReturn"in n&&(x=!!n.wForgottenReturn)}if("cancellation"in e&&e.cancellation&&!X.cancellation){if(s.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");t.prototype._clearCancellationData=D,t.prototype._propagateFrom=L,t.prototype._onCancel=E,t.prototype._setOnCancel=P,t.prototype._attachCancellationCallback=M,t.prototype._execute=A,R=L,X.cancellation=!0}return"monitoring"in e&&(e.monitoring&&!X.monitoring?(X.monitoring=!0,t.prototype._fireEvent=O):!e.monitoring&&X.monitoring&&(X.monitoring=!1,t.prototype._fireEvent=S)),t},t.prototype._fireEvent=S,t.prototype._execute=function(e,t,n){try{e(t,n)}catch(e){return e}},t.prototype._onCancel=function(){},t.prototype._setOnCancel=function(e){},t.prototype._attachCancellationCallback=function(e){},t.prototype._captureStackTrace=function(){},t.prototype._attachExtraTrace=function(){},t.prototype._clearCancellationData=function(){},t.prototype._propagateFrom=function(e,t){};var R=function(e,t){0!=(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)};function I(){var e=this._boundTo;return void 0!==e&&e instanceof t?e.isFulfilled()?e.value():void 0:e}function N(){this._trace=new Y(this._peekContext())}function j(e,t){if(c(e)){var n=this._trace;if(void 0!==n&&t&&(n=n._parent),void 0!==n)n.attachExtraTrace(e);else if(!e.__stackCleaned__){var r=F(e);u.notEnumerableProp(e,"stack",r.message+"\n"+r.stack.join("\n")),u.notEnumerableProp(e,"__stackCleaned__",!0)}}}function z(e,n,r){if(X.warnings){var i,o=new l(e);if(n)r._attachExtraTrace(o);else if(X.longStackTraces&&(i=t._peekContext()))i.attachExtraTrace(o);else{var a=F(o);o.stack=a.message+"\n"+a.stack.join("\n")}O("warning",o)||B(o,"",!0)}}function q(e){for(var t=[],n=0;n<e.length;++n){var r=e[n],i="    (No stack trace)"===r||h.test(r),o=i&&W(r);i&&!o&&(m&&" "!==r.charAt(0)&&(r="    "+r),t.push(r))}return t}function F(e){var t=e.stack,n=e.toString();return t="string"==typeof t&&t.length>0?function(e){for(var t=e.stack.replace(/\s+$/g,"").split("\n"),n=0;n<t.length;++n){var r=t[n];if("    (No stack trace)"===r||h.test(r))break}return n>0&&"SyntaxError"!=e.name&&(t=t.slice(n)),t}(e):["    (No stack trace)"],{message:n,stack:"SyntaxError"==e.name?t:q(t)}}function B(e,t,n){if("undefined"!=typeof console){var r;if(u.isObject(e)){var i=e.stack;r=t+g(i,e)}else r=t+String(e);"function"==typeof o?o(r,n):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(r)}}function H(e,t,n,r){var i=!1;try{"function"==typeof t&&(i=!0,"rejectionHandled"===e?t(r):t(n,r))}catch(e){s.throwLater(e)}"unhandledRejection"===e?O(e,n,r)||i||B(n,"Unhandled rejection "):O(e,r)}function U(e){var t;if("function"==typeof e)t="[function "+(e.name||"anonymous")+"]";else{if(t=e&&"function"==typeof e.toString?e.toString():u.toString(e),/\[object [a-zA-Z0-9$_]+\]/.test(t))try{t=JSON.stringify(e)}catch(e){}0===t.length&&(t="(empty array)")}return"(<"+function(e){return e.length<41?e:e.substr(0,38)+"..."}(t)+">, no stack trace)"}function V(){return"function"==typeof Z}var W=function(){return!1},G=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function K(e){var t=e.match(G);if(t)return{fileName:t[1],line:parseInt(t[2],10)}}function Y(e){this._parent=e,this._promisesCreated=0;var t=this._length=1+(void 0===e?0:e._length);Z(this,Y),t>32&&this.uncycle()}u.inherits(Y,Error),n.CapturedTrace=Y,Y.prototype.uncycle=function(){var e=this._length;if(!(e<2)){for(var t=[],n={},r=0,i=this;void 0!==i;++r)t.push(i),i=i._parent;for(r=(e=this._length=r)-1;r>=0;--r){var o=t[r].stack;void 0===n[o]&&(n[o]=r)}for(r=0;r<e;++r){var a=n[t[r].stack];if(void 0!==a&&a!==r){a>0&&(t[a-1]._parent=void 0,t[a-1]._length=1),t[r]._parent=void 0,t[r]._length=1;var s=r>0?t[r-1]:this;a<e-1?(s._parent=t[a+1],s._parent.uncycle(),s._length=s._parent._length+1):(s._parent=void 0,s._length=1);for(var l=s._length+1,u=r-2;u>=0;--u)t[u]._length=l,l++;return}}}},Y.prototype.attachExtraTrace=function(e){if(!e.__stackCleaned__){this.uncycle();for(var t=F(e),n=t.message,r=[t.stack],i=this;void 0!==i;)r.push(q(i.stack.split("\n"))),i=i._parent;!function(e){for(var t=e[0],n=1;n<e.length;++n){for(var r=e[n],i=t.length-1,o=t[i],a=-1,s=r.length-1;s>=0;--s)if(r[s]===o){a=s;break}for(s=a;s>=0;--s){var l=r[s];if(t[i]!==l)break;t.pop(),i--}t=r}}(r),function(e){for(var t=0;t<e.length;++t)(0===e[t].length||t+1<e.length&&e[t][0]===e[t+1][0])&&(e.splice(t,1),t--)}(r),u.notEnumerableProp(e,"stack",function(e,t){for(var n=0;n<t.length-1;++n)t[n].push("From previous event:"),t[n]=t[n].join("\n");return n<t.length&&(t[n]=t[n].join("\n")),e+"\n"+t.join("\n")}(n,r)),u.notEnumerableProp(e,"__stackCleaned__",!0)}};var Z=function(){var e=/^\s*at\s*/,t=function(e,t){return"string"==typeof e?e:void 0!==t.name&&void 0!==t.message?t.toString():U(t)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,h=e,g=t;var n=Error.captureStackTrace;return W=function(e){return f.test(e)},function(e,t){Error.stackTraceLimit+=6,n(e,t),Error.stackTraceLimit-=6}}var r,i=new Error;if("string"==typeof i.stack&&i.stack.split("\n")[0].indexOf("stackDetection@")>=0)return h=/@/,g=t,m=!0,function(e){e.stack=(new Error).stack};try{throw new Error}catch(e){r="stack"in e}return!("stack"in i)&&r&&"number"==typeof Error.stackTraceLimit?(h=e,g=t,function(e){Error.stackTraceLimit+=6;try{throw new Error}catch(t){e.stack=t.stack}Error.stackTraceLimit-=6}):(g=function(e,t){return"string"==typeof e?e:"object"!=typeof t&&"function"!=typeof t||void 0===t.name||void 0===t.message?U(t):t.toString()},null)}();"undefined"!=typeof console&&void 0!==console.warn&&(o=function(e){console.warn(e)},u.isNode&&process.stderr.isTTY?o=function(e,t){var n=t?"[33m":"[31m";console.warn(n+e+"[0m\n")}:u.isNode||"string"!=typeof(new Error).stack||(o=function(e,t){console.warn("%c"+e,t?"color: darkorange":"color: red")}));var X={warnings:v,longStackTraces:!1,cancellation:!1,monitoring:!1};return b&&t.longStackTraces(),{longStackTraces:function(){return X.longStackTraces},warnings:function(){return X.warnings},cancellation:function(){return X.cancellation},monitoring:function(){return X.monitoring},propagateFromFunction:function(){return R},boundValueFunction:function(){return I},checkForgottenReturns:function(e,t,n,r,i){if(void 0===e&&null!==t&&x){if(void 0!==i&&i._returnedNonUndefined())return;if(0==(65535&r._bitField))return;n&&(n+=" ");var o="",a="";if(t._trace){for(var s=t._trace.stack.split("\n"),l=q(s),u=l.length-1;u>=0;--u){var c=l[u];if(!d.test(c)){var f=c.match(p);f&&(o="at "+f[1]+":"+f[2]+":"+f[3]+" ");break}}if(l.length>0){var h=l[0];for(u=0;u<s.length;++u)if(s[u]===h){u>0&&(a="\n"+s[u-1]);break}}}var g="a promise was created in a "+n+"handler "+o+"but was not returned from it, see http://goo.gl/rRqMUw"+a;r._warn(g,!0,t)}},setBounds:function(e,t){if(V()){for(var n,r,i=e.stack.split("\n"),o=t.stack.split("\n"),a=-1,s=-1,l=0;l<i.length;++l)if(u=K(i[l])){n=u.fileName,a=u.line;break}for(l=0;l<o.length;++l){var u;if(u=K(o[l])){r=u.fileName,s=u.line;break}}a<0||s<0||!n||!r||n!==r||a>=s||(W=function(e){if(f.test(e))return!0;var t=K(e);return!!(t&&t.fileName===n&&a<=t.line&&t.line<=s)})}},warn:z,deprecated:function(e,t){var n=e+" is deprecated and will be removed in a future version.";return t&&(n+=" Use "+t+" instead."),z(n)},CapturedTrace:Y,fireDomEvent:w,fireGlobalEvent:k}}},{"./errors":12,"./util":36}],10:[function(e,t,n){"use strict";t.exports=function(e){function t(){return this.value}function n(){throw this.reason}e.prototype.return=e.prototype.thenReturn=function(n){return n instanceof e&&n.suppressUnhandledRejections(),this._then(t,void 0,void 0,{value:n},void 0)},e.prototype.throw=e.prototype.thenThrow=function(e){return this._then(n,void 0,void 0,{reason:e},void 0)},e.prototype.catchThrow=function(e){if(arguments.length<=1)return this._then(void 0,n,void 0,{reason:e},void 0);var t=arguments[1],r=function(){throw t};return this.caught(e,r)},e.prototype.catchReturn=function(n){if(arguments.length<=1)return n instanceof e&&n.suppressUnhandledRejections(),this._then(void 0,t,void 0,{value:n},void 0);var r=arguments[1];r instanceof e&&r.suppressUnhandledRejections();var i=function(){return r};return this.caught(n,i)}}},{}],11:[function(e,t,n){"use strict";t.exports=function(e,t){var n=e.reduce,r=e.all;function i(){return r(this)}e.prototype.each=function(e){return n(this,e,t,0)._then(i,void 0,void 0,this,void 0)},e.prototype.mapSeries=function(e){return n(this,e,t,t)},e.each=function(e,r){return n(e,r,t,0)._then(i,void 0,void 0,e,void 0)},e.mapSeries=function(e,r){return n(e,r,t,t)}}},{}],12:[function(e,t,n){"use strict";var r,i,o=e("./es5"),a=o.freeze,s=e("./util"),l=s.inherits,u=s.notEnumerableProp;function c(e,t){function n(r){if(!(this instanceof n))return new n(r);u(this,"message","string"==typeof r?r:t),u(this,"name",e),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return l(n,Error),n}var f=c("Warning","warning"),d=c("CancellationError","cancellation error"),p=c("TimeoutError","timeout error"),h=c("AggregateError","aggregate error");try{r=TypeError,i=RangeError}catch(e){r=c("TypeError","type error"),i=c("RangeError","range error")}for(var g="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),m=0;m<g.length;++m)"function"==typeof Array.prototype[g[m]]&&(h.prototype[g[m]]=Array.prototype[g[m]]);o.defineProperty(h.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),h.prototype.isOperational=!0;var y=0;function v(e){if(!(this instanceof v))return new v(e);u(this,"name","OperationalError"),u(this,"message",e),this.cause=e,this.isOperational=!0,e instanceof Error?(u(this,"message",e.message),u(this,"stack",e.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}h.prototype.toString=function(){var e=Array(4*y+1).join(" "),t="\n"+e+"AggregateError of:\n";y++,e=Array(4*y+1).join(" ");for(var n=0;n<this.length;++n){for(var r=this[n]===this?"[Circular AggregateError]":this[n]+"",i=r.split("\n"),o=0;o<i.length;++o)i[o]=e+i[o];t+=(r=i.join("\n"))+"\n"}return y--,t},l(v,Error);var b=Error.__BluebirdErrorTypes__;b||(b=a({CancellationError:d,TimeoutError:p,OperationalError:v,RejectionError:v,AggregateError:h}),o.defineProperty(Error,"__BluebirdErrorTypes__",{value:b,writable:!1,enumerable:!1,configurable:!1})),t.exports={Error,TypeError:r,RangeError:i,CancellationError:b.CancellationError,OperationalError:b.OperationalError,TimeoutError:b.TimeoutError,AggregateError:b.AggregateError,Warning:f}},{"./es5":13,"./util":36}],13:[function(e,t,n){var r=function(){"use strict";return void 0===this}();if(r)t.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return!(n&&!n.writable&&!n.set)}};else{var i={}.hasOwnProperty,o={}.toString,a={}.constructor.prototype,s=function(e){var t=[];for(var n in e)i.call(e,n)&&t.push(n);return t};t.exports={isArray:function(e){try{return"[object Array]"===o.call(e)}catch(e){return!1}},keys:s,names:s,defineProperty:function(e,t,n){return e[t]=n.value,e},getDescriptor:function(e,t){return{value:e[t]}},freeze:function(e){return e},getPrototypeOf:function(e){try{return Object(e).constructor.prototype}catch(e){return a}},isES5:r,propertyIsWritable:function(){return!0}}}},{}],14:[function(e,t,n){"use strict";t.exports=function(e,t){var n=e.map;e.prototype.filter=function(e,r){return n(this,e,r,t)},e.filter=function(e,r,i){return n(e,r,i,t)}}},{}],15:[function(e,t,n){"use strict";t.exports=function(t,n,r){var i=e("./util"),o=t.CancellationError,a=i.errorObj,s=e("./catch_filter")(r);function l(e,t,n){this.promise=e,this.type=t,this.handler=n,this.called=!1,this.cancelPromise=null}function u(e){this.finallyHandler=e}function c(e,t){return null!=e.cancelPromise&&(arguments.length>1?e.cancelPromise._reject(t):e.cancelPromise._cancel(),e.cancelPromise=null,!0)}function f(){return p.call(this,this.promise._target()._settledValue())}function d(e){if(!c(this,e))return a.e=e,a}function p(e){var i=this.promise,s=this.handler;if(!this.called){this.called=!0;var l=this.isFinallyHandler()?s.call(i._boundValue()):s.call(i._boundValue(),e);if(l===r)return l;if(void 0!==l){i._setReturnedNonUndefined();var p=n(l,i);if(p instanceof t){if(null!=this.cancelPromise){if(p._isCancelled()){var h=new o("late cancellation observer");return i._attachExtraTrace(h),a.e=h,a}p.isPending()&&p._attachCancellationCallback(new u(this))}return p._then(f,d,void 0,this,void 0)}}}return i.isRejected()?(c(this),a.e=e,a):(c(this),e)}return l.prototype.isFinallyHandler=function(){return 0===this.type},u.prototype._resultCancelled=function(){c(this.finallyHandler)},t.prototype._passThrough=function(e,t,n,r){return"function"!=typeof e?this.then():this._then(n,r,void 0,new l(this,t,e),void 0)},t.prototype.lastly=t.prototype.finally=function(e){return this._passThrough(e,0,p,p)},t.prototype.tap=function(e){return this._passThrough(e,1,p)},t.prototype.tapCatch=function(e){var n=arguments.length;if(1===n)return this._passThrough(e,1,void 0,p);var r,o=new Array(n-1),a=0;for(r=0;r<n-1;++r){var l=arguments[r];if(!i.isObject(l))return t.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+i.classString(l)));o[a++]=l}o.length=a;var u=arguments[r];return this._passThrough(s(o,u,this),1,void 0,p)},l}},{"./catch_filter":7,"./util":36}],16:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o,a){var s=e("./errors").TypeError,l=e("./util"),u=l.errorObj,c=l.tryCatch,f=[];function d(e,n,i,o){if(a.cancellation()){var s=new t(r),l=this._finallyPromise=new t(r);this._promise=s.lastly((function(){return l})),s._captureStackTrace(),s._setOnCancel(this)}else(this._promise=new t(r))._captureStackTrace();this._stack=o,this._generatorFunction=e,this._receiver=n,this._generator=void 0,this._yieldHandlers="function"==typeof i?[i].concat(f):f,this._yieldedPromise=null,this._cancellationPhase=!1}l.inherits(d,o),d.prototype._isResolved=function(){return null===this._promise},d.prototype._cleanup=function(){this._promise=this._generator=null,a.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},d.prototype._promiseCancelled=function(){if(!this._isResolved()){var e;if(void 0!==this._generator.return)this._promise._pushContext(),e=c(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var n=new t.CancellationError("generator .return() sentinel");t.coroutine.returnSentinel=n,this._promise._attachExtraTrace(n),this._promise._pushContext(),e=c(this._generator.throw).call(this._generator,n),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(e)}},d.prototype._promiseFulfilled=function(e){this._yieldedPromise=null,this._promise._pushContext();var t=c(this._generator.next).call(this._generator,e);this._promise._popContext(),this._continue(t)},d.prototype._promiseRejected=function(e){this._yieldedPromise=null,this._promise._attachExtraTrace(e),this._promise._pushContext();var t=c(this._generator.throw).call(this._generator,e);this._promise._popContext(),this._continue(t)},d.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof t){var e=this._yieldedPromise;this._yieldedPromise=null,e.cancel()}},d.prototype.promise=function(){return this._promise},d.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},d.prototype._continue=function(e){var n=this._promise;if(e===u)return this._cleanup(),this._cancellationPhase?n.cancel():n._rejectCallback(e.e,!1);var r=e.value;if(!0===e.done)return this._cleanup(),this._cancellationPhase?n.cancel():n._resolveCallback(r);var o=i(r,this._promise);if(o instanceof t||null!==(o=function(e,n,r){for(var o=0;o<n.length;++o){r._pushContext();var a=c(n[o])(e);if(r._popContext(),a===u){r._pushContext();var s=t.reject(u.e);return r._popContext(),s}var l=i(a,r);if(l instanceof t)return l}return null}(o,this._yieldHandlers,this._promise))){var a=(o=o._target())._bitField;0==(50397184&a)?(this._yieldedPromise=o,o._proxy(this,null)):0!=(33554432&a)?t._async.invoke(this._promiseFulfilled,this,o._value()):0!=(16777216&a)?t._async.invoke(this._promiseRejected,this,o._reason()):this._promiseCancelled()}else this._promiseRejected(new s("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(r))+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")))},t.coroutine=function(e,t){if("function"!=typeof e)throw new s("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var n=Object(t).yieldHandler,r=d,i=(new Error).stack;return function(){var t=e.apply(this,arguments),o=new r(void 0,void 0,n,i),a=o.promise();return o._generator=t,o._promiseFulfilled(void 0),a}},t.coroutine.addYieldHandler=function(e){if("function"!=typeof e)throw new s("expecting a function but got "+l.classString(e));f.push(e)},t.spawn=function(e){if(a.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof e)return n("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=new d(e,this),i=r.promise();return r._run(t.spawn),i}}},{"./errors":12,"./util":36}],17:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o,a){var s=e("./util");s.canEvaluate,s.tryCatch,s.errorObj,t.join=function(){var e,t=arguments.length-1;t>0&&"function"==typeof arguments[t]&&(e=arguments[t]);var r=[].slice.call(arguments);e&&r.pop();var i=new n(r).promise();return void 0!==e?i.spread(e):i}}},{"./util":36}],18:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o,a){var s=t._getDomain,l=e("./util"),u=l.tryCatch,c=l.errorObj,f=t._async;function d(e,t,n,r){this.constructor$(e),this._promise._captureStackTrace();var i=s();this._callback=null===i?t:l.domainBind(i,t),this._preservedValues=r===o?new Array(this.length()):null,this._limit=n,this._inFlight=0,this._queue=[],f.invoke(this._asyncInit,this,void 0)}function p(e,n,i,o){if("function"!=typeof n)return r("expecting a function but got "+l.classString(n));var a=0;if(void 0!==i){if("object"!=typeof i||null===i)return t.reject(new TypeError("options argument must be an object but it is "+l.classString(i)));if("number"!=typeof i.concurrency)return t.reject(new TypeError("'concurrency' must be a number but it is "+l.classString(i.concurrency)));a=i.concurrency}return new d(e,n,a="number"==typeof a&&isFinite(a)&&a>=1?a:0,o).promise()}l.inherits(d,n),d.prototype._asyncInit=function(){this._init$(void 0,-2)},d.prototype._init=function(){},d.prototype._promiseFulfilled=function(e,n){var r=this._values,o=this.length(),s=this._preservedValues,l=this._limit;if(n<0){if(r[n=-1*n-1]=e,l>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(l>=1&&this._inFlight>=l)return r[n]=e,this._queue.push(n),!1;null!==s&&(s[n]=e);var f=this._promise,d=this._callback,p=f._boundValue();f._pushContext();var h=u(d).call(p,e,n,o),g=f._popContext();if(a.checkForgottenReturns(h,g,null!==s?"Promise.filter":"Promise.map",f),h===c)return this._reject(h.e),!0;var m=i(h,this._promise);if(m instanceof t){var y=(m=m._target())._bitField;if(0==(50397184&y))return l>=1&&this._inFlight++,r[n]=m,m._proxy(this,-1*(n+1)),!1;if(0==(33554432&y))return 0!=(16777216&y)?(this._reject(m._reason()),!0):(this._cancel(),!0);h=m._value()}r[n]=h}return++this._totalResolved>=o&&(null!==s?this._filter(r,s):this._resolve(r),!0)},d.prototype._drainQueue=function(){for(var e=this._queue,t=this._limit,n=this._values;e.length>0&&this._inFlight<t;){if(this._isResolved())return;var r=e.pop();this._promiseFulfilled(n[r],r)}},d.prototype._filter=function(e,t){for(var n=t.length,r=new Array(n),i=0,o=0;o<n;++o)e[o]&&(r[i++]=t[o]);r.length=i,this._resolve(r)},d.prototype.preservedValues=function(){return this._preservedValues},t.prototype.map=function(e,t){return p(this,e,t,null)},t.map=function(e,t,n,r){return p(e,t,n,r)}}},{"./util":36}],19:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o){var a=e("./util"),s=a.tryCatch;t.method=function(e){if("function"!=typeof e)throw new t.TypeError("expecting a function but got "+a.classString(e));return function(){var r=new t(n);r._captureStackTrace(),r._pushContext();var i=s(e).apply(this,arguments),a=r._popContext();return o.checkForgottenReturns(i,a,"Promise.method",r),r._resolveFromSyncValue(i),r}},t.attempt=t.try=function(e){if("function"!=typeof e)return i("expecting a function but got "+a.classString(e));var r,l=new t(n);if(l._captureStackTrace(),l._pushContext(),arguments.length>1){o.deprecated("calling Promise.try with more than 1 argument");var u=arguments[1],c=arguments[2];r=a.isArray(u)?s(e).apply(c,u):s(e).call(c,u)}else r=s(e)();var f=l._popContext();return o.checkForgottenReturns(r,f,"Promise.try",l),l._resolveFromSyncValue(r),l},t.prototype._resolveFromSyncValue=function(e){e===a.errorObj?this._rejectCallback(e.e,!1):this._resolveCallback(e,!0)}}},{"./util":36}],20:[function(e,t,n){"use strict";var r=e("./util"),i=r.maybeWrapAsError,o=e("./errors").OperationalError,a=e("./es5"),s=/^(?:name|message|stack|cause)$/;function l(e){var t;if(function(e){return e instanceof Error&&a.getPrototypeOf(e)===Error.prototype}(e)){(t=new o(e)).name=e.name,t.message=e.message,t.stack=e.stack;for(var n=a.keys(e),i=0;i<n.length;++i){var l=n[i];s.test(l)||(t[l]=e[l])}return t}return r.markAsOriginatingFromRejection(e),e}t.exports=function(e,t){return function(n,r){if(null!==e){if(n){var o=l(i(n));e._attachExtraTrace(o),e._reject(o)}else if(t){var a=[].slice.call(arguments,1);e._fulfill(a)}else e._fulfill(r);e=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(e,t,n){"use strict";t.exports=function(t){var n=e("./util"),r=t._async,i=n.tryCatch,o=n.errorObj;function a(e,t){if(!n.isArray(e))return s.call(this,e,t);var a=i(t).apply(this._boundValue(),[null].concat(e));a===o&&r.throwLater(a.e)}function s(e,t){var n=this._boundValue(),a=void 0===e?i(t).call(n,null):i(t).call(n,null,e);a===o&&r.throwLater(a.e)}function l(e,t){if(!e){var n=new Error(e+"");n.cause=e,e=n}var a=i(t).call(this._boundValue(),e);a===o&&r.throwLater(a.e)}t.prototype.asCallback=t.prototype.nodeify=function(e,t){if("function"==typeof e){var n=s;void 0!==t&&Object(t).spread&&(n=a),this._then(n,l,void 0,this,e)}return this}}},{"./util":36}],22:[function(e,t,n){"use strict";t.exports=function(){var n=function(){return new p("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},r=function(){return new A.PromiseInspection(this._target())},i=function(e){return A.reject(new p(e))};function o(){}var a,s={},l=e("./util");a=l.isNode?function(){var e=process.domain;return void 0===e&&(e=null),e}:function(){return null},l.notEnumerableProp(A,"_getDomain",a);var u=e("./es5"),c=e("./async"),f=new c;u.defineProperty(A,"_async",{value:f});var d=e("./errors"),p=A.TypeError=d.TypeError;A.RangeError=d.RangeError;var h=A.CancellationError=d.CancellationError;A.TimeoutError=d.TimeoutError,A.OperationalError=d.OperationalError,A.RejectionError=d.OperationalError,A.AggregateError=d.AggregateError;var g=function(){},m={},y={},v=e("./thenables")(A,g),b=e("./promise_array")(A,g,v,i,o),x=e("./context")(A),_=x.create,w=e("./debuggability")(A,x),k=(w.CapturedTrace,e("./finally")(A,v,y)),T=e("./catch_filter")(y),C=e("./nodeback"),O=l.errorObj,S=l.tryCatch;function A(e){e!==g&&function(e,t){if(null==e||e.constructor!==A)throw new p("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof t)throw new p("expecting a function but got "+l.classString(t))}(this,e),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(e),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function M(e){this.promise._resolveCallback(e)}function E(e){this.promise._rejectCallback(e,!1)}function P(e){var t=new A(g);t._fulfillmentHandler0=e,t._rejectionHandler0=e,t._promise0=e,t._receiver0=e}return A.prototype.toString=function(){return"[object Promise]"},A.prototype.caught=A.prototype.catch=function(e){var t=arguments.length;if(t>1){var n,r=new Array(t-1),o=0;for(n=0;n<t-1;++n){var a=arguments[n];if(!l.isObject(a))return i("Catch statement predicate: expecting an object but got "+l.classString(a));r[o++]=a}return r.length=o,e=arguments[n],this.then(void 0,T(r,e,this))}return this.then(void 0,e)},A.prototype.reflect=function(){return this._then(r,r,void 0,this,void 0)},A.prototype.then=function(e,t){if(w.warnings()&&arguments.length>0&&"function"!=typeof e&&"function"!=typeof t){var n=".then() only accepts functions but was passed: "+l.classString(e);arguments.length>1&&(n+=", "+l.classString(t)),this._warn(n)}return this._then(e,t,void 0,void 0,void 0)},A.prototype.done=function(e,t){this._then(e,t,void 0,void 0,void 0)._setIsFinal()},A.prototype.spread=function(e){return"function"!=typeof e?i("expecting a function but got "+l.classString(e)):this.all()._then(e,void 0,void 0,m,void 0)},A.prototype.toJSON=function(){var e={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(e.fulfillmentValue=this.value(),e.isFulfilled=!0):this.isRejected()&&(e.rejectionReason=this.reason(),e.isRejected=!0),e},A.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new b(this).promise()},A.prototype.error=function(e){return this.caught(l.originatesFromRejection,e)},A.getNewLibraryCopy=t.exports,A.is=function(e){return e instanceof A},A.fromNode=A.fromCallback=function(e){var t=new A(g);t._captureStackTrace();var n=arguments.length>1&&!!Object(arguments[1]).multiArgs,r=S(e)(C(t,n));return r===O&&t._rejectCallback(r.e,!0),t._isFateSealed()||t._setAsyncGuaranteed(),t},A.all=function(e){return new b(e).promise()},A.cast=function(e){var t=v(e);return t instanceof A||((t=new A(g))._captureStackTrace(),t._setFulfilled(),t._rejectionHandler0=e),t},A.resolve=A.fulfilled=A.cast,A.reject=A.rejected=function(e){var t=new A(g);return t._captureStackTrace(),t._rejectCallback(e,!0),t},A.setScheduler=function(e){if("function"!=typeof e)throw new p("expecting a function but got "+l.classString(e));return f.setScheduler(e)},A.prototype._then=function(e,t,n,r,i){var o=void 0!==i,s=o?i:new A(g),u=this._target(),c=u._bitField;o||(s._propagateFrom(this,3),s._captureStackTrace(),void 0===r&&0!=(2097152&this._bitField)&&(r=0!=(50397184&c)?this._boundValue():u===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,s));var d=a();if(0!=(50397184&c)){var p,m,y=u._settlePromiseCtx;0!=(33554432&c)?(m=u._rejectionHandler0,p=e):0!=(16777216&c)?(m=u._fulfillmentHandler0,p=t,u._unsetRejectionIsUnhandled()):(y=u._settlePromiseLateCancellationObserver,m=new h("late cancellation observer"),u._attachExtraTrace(m),p=t),f.invoke(y,u,{handler:null===d?p:"function"==typeof p&&l.domainBind(d,p),promise:s,receiver:r,value:m})}else u._addCallbacks(e,t,s,r,d);return s},A.prototype._length=function(){return 65535&this._bitField},A.prototype._isFateSealed=function(){return 0!=(117506048&this._bitField)},A.prototype._isFollowing=function(){return 67108864==(67108864&this._bitField)},A.prototype._setLength=function(e){this._bitField=-65536&this._bitField|65535&e},A.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},A.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},A.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},A.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},A.prototype._isFinal=function(){return(4194304&this._bitField)>0},A.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},A.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},A.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},A.prototype._setAsyncGuaranteed=function(){f.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},A.prototype._receiverAt=function(e){var t=0===e?this._receiver0:this[4*e-4+3];if(t!==s)return void 0===t&&this._isBound()?this._boundValue():t},A.prototype._promiseAt=function(e){return this[4*e-4+2]},A.prototype._fulfillmentHandlerAt=function(e){return this[4*e-4+0]},A.prototype._rejectionHandlerAt=function(e){return this[4*e-4+1]},A.prototype._boundValue=function(){},A.prototype._migrateCallback0=function(e){e._bitField;var t=e._fulfillmentHandler0,n=e._rejectionHandler0,r=e._promise0,i=e._receiverAt(0);void 0===i&&(i=s),this._addCallbacks(t,n,r,i,null)},A.prototype._migrateCallbackAt=function(e,t){var n=e._fulfillmentHandlerAt(t),r=e._rejectionHandlerAt(t),i=e._promiseAt(t),o=e._receiverAt(t);void 0===o&&(o=s),this._addCallbacks(n,r,i,o,null)},A.prototype._addCallbacks=function(e,t,n,r,i){var o=this._length();if(o>=65531&&(o=0,this._setLength(0)),0===o)this._promise0=n,this._receiver0=r,"function"==typeof e&&(this._fulfillmentHandler0=null===i?e:l.domainBind(i,e)),"function"==typeof t&&(this._rejectionHandler0=null===i?t:l.domainBind(i,t));else{var a=4*o-4;this[a+2]=n,this[a+3]=r,"function"==typeof e&&(this[a+0]=null===i?e:l.domainBind(i,e)),"function"==typeof t&&(this[a+1]=null===i?t:l.domainBind(i,t))}return this._setLength(o+1),o},A.prototype._proxy=function(e,t){this._addCallbacks(void 0,void 0,t,e,null)},A.prototype._resolveCallback=function(e,t){if(0==(117506048&this._bitField)){if(e===this)return this._rejectCallback(n(),!1);var r=v(e,this);if(!(r instanceof A))return this._fulfill(e);t&&this._propagateFrom(r,2);var i=r._target();if(i!==this){var o=i._bitField;if(0==(50397184&o)){var a=this._length();a>0&&i._migrateCallback0(this);for(var s=1;s<a;++s)i._migrateCallbackAt(this,s);this._setFollowing(),this._setLength(0),this._setFollowee(i)}else if(0!=(33554432&o))this._fulfill(i._value());else if(0!=(16777216&o))this._reject(i._reason());else{var l=new h("late cancellation observer");i._attachExtraTrace(l),this._reject(l)}}else this._reject(n())}},A.prototype._rejectCallback=function(e,t,n){var r=l.ensureErrorObject(e),i=r===e;if(!i&&!n&&w.warnings()){var o="a promise was rejected with a non-error: "+l.classString(e);this._warn(o,!0)}this._attachExtraTrace(r,!!t&&i),this._reject(e)},A.prototype._resolveFromExecutor=function(e){if(e!==g){var t=this;this._captureStackTrace(),this._pushContext();var n=!0,r=this._execute(e,(function(e){t._resolveCallback(e)}),(function(e){t._rejectCallback(e,n)}));n=!1,this._popContext(),void 0!==r&&t._rejectCallback(r,!0)}},A.prototype._settlePromiseFromHandler=function(e,t,n,r){var i=r._bitField;if(0==(65536&i)){var o;r._pushContext(),t===m?n&&"number"==typeof n.length?o=S(e).apply(this._boundValue(),n):(o=O).e=new p("cannot .spread() a non-array: "+l.classString(n)):o=S(e).call(t,n);var a=r._popContext();0==(65536&(i=r._bitField))&&(o===y?r._reject(n):o===O?r._rejectCallback(o.e,!1):(w.checkForgottenReturns(o,a,"",r,this),r._resolveCallback(o)))}},A.prototype._target=function(){for(var e=this;e._isFollowing();)e=e._followee();return e},A.prototype._followee=function(){return this._rejectionHandler0},A.prototype._setFollowee=function(e){this._rejectionHandler0=e},A.prototype._settlePromise=function(e,t,n,i){var a=e instanceof A,s=this._bitField,l=0!=(134217728&s);0!=(65536&s)?(a&&e._invokeInternalOnCancel(),n instanceof k&&n.isFinallyHandler()?(n.cancelPromise=e,S(t).call(n,i)===O&&e._reject(O.e)):t===r?e._fulfill(r.call(n)):n instanceof o?n._promiseCancelled(e):a||e instanceof b?e._cancel():n.cancel()):"function"==typeof t?a?(l&&e._setAsyncGuaranteed(),this._settlePromiseFromHandler(t,n,i,e)):t.call(n,i,e):n instanceof o?n._isResolved()||(0!=(33554432&s)?n._promiseFulfilled(i,e):n._promiseRejected(i,e)):a&&(l&&e._setAsyncGuaranteed(),0!=(33554432&s)?e._fulfill(i):e._reject(i))},A.prototype._settlePromiseLateCancellationObserver=function(e){var t=e.handler,n=e.promise,r=e.receiver,i=e.value;"function"==typeof t?n instanceof A?this._settlePromiseFromHandler(t,r,i,n):t.call(r,i,n):n instanceof A&&n._reject(i)},A.prototype._settlePromiseCtx=function(e){this._settlePromise(e.promise,e.handler,e.receiver,e.value)},A.prototype._settlePromise0=function(e,t,n){var r=this._promise0,i=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(r,e,i,t)},A.prototype._clearCallbackDataAtIndex=function(e){var t=4*e-4;this[t+2]=this[t+3]=this[t+0]=this[t+1]=void 0},A.prototype._fulfill=function(e){var t=this._bitField;if(!((117506048&t)>>>16)){if(e===this){var r=n();return this._attachExtraTrace(r),this._reject(r)}this._setFulfilled(),this._rejectionHandler0=e,(65535&t)>0&&(0!=(134217728&t)?this._settlePromises():f.settlePromises(this))}},A.prototype._reject=function(e){var t=this._bitField;if(!((117506048&t)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=e,this._isFinal())return f.fatalError(e,l.isNode);(65535&t)>0?f.settlePromises(this):this._ensurePossibleRejectionHandled()}},A.prototype._fulfillPromises=function(e,t){for(var n=1;n<e;n++){var r=this._fulfillmentHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,t)}},A.prototype._rejectPromises=function(e,t){for(var n=1;n<e;n++){var r=this._rejectionHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,t)}},A.prototype._settlePromises=function(){var e=this._bitField,t=65535&e;if(t>0){if(0!=(16842752&e)){var n=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,n,e),this._rejectPromises(t,n)}else{var r=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,r,e),this._fulfillPromises(t,r)}this._setLength(0)}this._clearCancellationData()},A.prototype._settledValue=function(){var e=this._bitField;return 0!=(33554432&e)?this._rejectionHandler0:0!=(16777216&e)?this._fulfillmentHandler0:void 0},A.defer=A.pending=function(){return w.deprecated("Promise.defer","new Promise"),{promise:new A(g),resolve:M,reject:E}},l.notEnumerableProp(A,"_makeSelfResolutionError",n),e("./method")(A,g,v,i,w),e("./bind")(A,g,v,w),e("./cancel")(A,b,i,w),e("./direct_resolve")(A),e("./synchronous_inspection")(A),e("./join")(A,b,v,g,f,a),A.Promise=A,A.version="3.5.1",e("./map.js")(A,b,i,v,g,w),e("./call_get.js")(A),e("./using.js")(A,i,v,_,g,w),e("./timers.js")(A,g,w),e("./generators.js")(A,i,g,v,o,w),e("./nodeify.js")(A),e("./promisify.js")(A,g),e("./props.js")(A,b,v,i),e("./race.js")(A,g,v,i),e("./reduce.js")(A,b,i,v,g,w),e("./settle.js")(A,b,w),e("./some.js")(A,b,i),e("./filter.js")(A,g),e("./each.js")(A,g),e("./any.js")(A),l.toFastProperties(A),l.toFastProperties(A.prototype),P({a:1}),P({b:2}),P({c:3}),P(1),P((function(){})),P(void 0),P(!1),P(new A(g)),w.setBounds(c.firstLineError,l.lastLineError),A}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o){var a=e("./util");function s(e){var r=this._promise=new t(n);e instanceof t&&r._propagateFrom(e,3),r._setOnCancel(this),this._values=e,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return a.isArray,a.inherits(s,o),s.prototype.length=function(){return this._length},s.prototype.promise=function(){return this._promise},s.prototype._init=function e(n,o){var s=r(this._values,this._promise);if(s instanceof t){var l=(s=s._target())._bitField;if(this._values=s,0==(50397184&l))return this._promise._setAsyncGuaranteed(),s._then(e,this._reject,void 0,this,o);if(0==(33554432&l))return 0!=(16777216&l)?this._reject(s._reason()):this._cancel();s=s._value()}if(null!==(s=a.asArray(s)))0!==s.length?this._iterate(s):-5===o?this._resolveEmptyArray():this._resolve(function(e){switch(e){case-2:return[];case-3:return{};case-6:return new Map}}(o));else{var u=i("expecting an array or an iterable object but got "+a.classString(s)).reason();this._promise._rejectCallback(u,!1)}},s.prototype._iterate=function(e){var n=this.getActualLength(e.length);this._length=n,this._values=this.shouldCopyValues()?new Array(n):this._values;for(var i=this._promise,o=!1,a=null,s=0;s<n;++s){var l=r(e[s],i);a=l instanceof t?(l=l._target())._bitField:null,o?null!==a&&l.suppressUnhandledRejections():null!==a?0==(50397184&a)?(l._proxy(this,s),this._values[s]=l):o=0!=(33554432&a)?this._promiseFulfilled(l._value(),s):0!=(16777216&a)?this._promiseRejected(l._reason(),s):this._promiseCancelled(s):o=this._promiseFulfilled(l,s)}o||i._setAsyncGuaranteed()},s.prototype._isResolved=function(){return null===this._values},s.prototype._resolve=function(e){this._values=null,this._promise._fulfill(e)},s.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},s.prototype._reject=function(e){this._values=null,this._promise._rejectCallback(e,!1)},s.prototype._promiseFulfilled=function(e,t){return this._values[t]=e,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},s.prototype._promiseCancelled=function(){return this._cancel(),!0},s.prototype._promiseRejected=function(e){return this._totalResolved++,this._reject(e),!0},s.prototype._resultCancelled=function(){if(!this._isResolved()){var e=this._values;if(this._cancel(),e instanceof t)e.cancel();else for(var n=0;n<e.length;++n)e[n]instanceof t&&e[n].cancel()}},s.prototype.shouldCopyValues=function(){return!0},s.prototype.getActualLength=function(e){return e},s}},{"./util":36}],24:[function(e,t,n){"use strict";t.exports=function(t,n){var r={},i=e("./util"),o=e("./nodeback"),a=i.withAppended,s=i.maybeWrapAsError,l=i.canEvaluate,u=e("./errors").TypeError,c={__isPromisified__:!0},f=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"].join("|")+")$"),d=function(e){return i.isIdentifier(e)&&"_"!==e.charAt(0)&&"constructor"!==e};function p(e){return!f.test(e)}function h(e){try{return!0===e.__isPromisified__}catch(e){return!1}}function g(e,t,n){var r=i.getDataPropertyOrDefault(e,t+n,c);return!!r&&h(r)}var m=l?void 0:function(e,l,u,c,f,d){var p=function(){return this}(),h=e;function g(){var i=l;l===r&&(i=this);var u=new t(n);u._captureStackTrace();var c="string"==typeof h&&this!==p?this[h]:e,f=o(u,d);try{c.apply(i,a(arguments,f))}catch(e){u._rejectCallback(s(e),!0,!0)}return u._isFateSealed()||u._setAsyncGuaranteed(),u}return"string"==typeof h&&(e=c),i.notEnumerableProp(g,"__isPromisified__",!0),g};function y(e,t,n,o,a){for(var s=new RegExp(t.replace(/([$])/,"\\$")+"$"),l=function(e,t,n,r){for(var o=i.inheritedDataKeys(e),a=[],s=0;s<o.length;++s){var l=o[s],c=e[l],f=r===d||d(l);"function"!=typeof c||h(c)||g(e,l,t)||!r(l,c,e,f)||a.push(l,c)}return function(e,t,n){for(var r=0;r<e.length;r+=2){var i=e[r];if(n.test(i))for(var o=i.replace(n,""),a=0;a<e.length;a+=2)if(e[a]===o)throw new u("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",t))}}(a,t,n),a}(e,t,s,n),c=0,f=l.length;c<f;c+=2){var p=l[c],y=l[c+1],v=p+t;if(o===m)e[v]=m(p,r,p,y,t,a);else{var b=o(y,(function(){return m(p,r,p,y,t,a)}));i.notEnumerableProp(b,"__isPromisified__",!0),e[v]=b}}return i.toFastProperties(e),e}t.promisify=function(e,t){if("function"!=typeof e)throw new u("expecting a function but got "+i.classString(e));if(h(e))return e;var n,o,a,s=(n=e,o=void 0===(t=Object(t)).context?r:t.context,a=!!t.multiArgs,m(n,o,void 0,n,null,a));return i.copyDescriptors(e,s,p),s},t.promisifyAll=function(e,t){if("function"!=typeof e&&"object"!=typeof e)throw new u("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var n=!!(t=Object(t)).multiArgs,r=t.suffix;"string"!=typeof r&&(r="Async");var o=t.filter;"function"!=typeof o&&(o=d);var a=t.promisifier;if("function"!=typeof a&&(a=m),!i.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var s=i.inheritedDataKeys(e),l=0;l<s.length;++l){var c=e[s[l]];"constructor"!==s[l]&&i.isClass(c)&&(y(c.prototype,r,o,a,n),y(c,r,o,a,n))}return y(e,r,o,a,n)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(e,t,n){"use strict";t.exports=function(t,n,r,i){var o,a=e("./util"),s=a.isObject,l=e("./es5");"function"==typeof Map&&(o=Map);var u=function(){var e=0,t=0;function n(n,r){this[e]=n,this[e+t]=r,e++}return function(r){t=r.size,e=0;var i=new Array(2*r.size);return r.forEach(n,i),i}}();function c(e){var t,n=!1;if(void 0!==o&&e instanceof o)t=u(e),n=!0;else{var r=l.keys(e),i=r.length;t=new Array(2*i);for(var a=0;a<i;++a){var s=r[a];t[a]=e[s],t[a+i]=s}}this.constructor$(t),this._isMap=n,this._init$(void 0,n?-6:-3)}function f(e){var n,o=r(e);return s(o)?(n=o instanceof t?o._then(t.props,void 0,void 0,void 0,void 0):new c(o).promise(),o instanceof t&&n._propagateFrom(o,2),n):i("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}a.inherits(c,n),c.prototype._init=function(){},c.prototype._promiseFulfilled=function(e,t){if(this._values[t]=e,++this._totalResolved>=this._length){var n;if(this._isMap)n=function(e){for(var t=new o,n=e.length/2|0,r=0;r<n;++r){var i=e[n+r],a=e[r];t.set(i,a)}return t}(this._values);else{n={};for(var r=this.length(),i=0,a=this.length();i<a;++i)n[this._values[i+r]]=this._values[i]}return this._resolve(n),!0}return!1},c.prototype.shouldCopyValues=function(){return!1},c.prototype.getActualLength=function(e){return e>>1},t.prototype.props=function(){return f(this)},t.props=function(e){return f(e)}}},{"./es5":13,"./util":36}],26:[function(e,t,n){"use strict";function r(e){this._capacity=e,this._length=0,this._front=0}r.prototype._willBeOverCapacity=function(e){return this._capacity<e},r.prototype._pushOne=function(e){var t=this.length();this._checkCapacity(t+1),this[this._front+t&this._capacity-1]=e,this._length=t+1},r.prototype.push=function(e,t,n){var r=this.length()+3;if(this._willBeOverCapacity(r))return this._pushOne(e),this._pushOne(t),void this._pushOne(n);var i=this._front+r-3;this._checkCapacity(r);var o=this._capacity-1;this[i+0&o]=e,this[i+1&o]=t,this[i+2&o]=n,this._length=r},r.prototype.shift=function(){var e=this._front,t=this[e];return this[e]=void 0,this._front=e+1&this._capacity-1,this._length--,t},r.prototype.length=function(){return this._length},r.prototype._checkCapacity=function(e){this._capacity<e&&this._resizeTo(this._capacity<<1)},r.prototype._resizeTo=function(e){var t=this._capacity;this._capacity=e,function(e,t,n,r,i){for(var o=0;o<i;++o)n[o+r]=e[o+0],e[o+0]=void 0}(this,0,this,t,this._front+this._length&t-1)},t.exports=r},{}],27:[function(e,t,n){"use strict";t.exports=function(t,n,r,i){var o=e("./util");function a(e,s){var l,u=r(e);if(u instanceof t)return(l=u).then((function(e){return a(e,l)}));if(null===(e=o.asArray(e)))return i("expecting an array or an iterable object but got "+o.classString(e));var c=new t(n);void 0!==s&&c._propagateFrom(s,3);for(var f=c._fulfill,d=c._reject,p=0,h=e.length;p<h;++p){var g=e[p];(void 0!==g||p in e)&&t.cast(g)._then(f,d,void 0,c,null)}return c}t.race=function(e){return a(e,void 0)},t.prototype.race=function(){return a(this,void 0)}}},{"./util":36}],28:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o,a){var s=t._getDomain,l=e("./util"),u=l.tryCatch;function c(e,n,r,i){this.constructor$(e);var a=s();this._fn=null===a?n:l.domainBind(a,n),void 0!==r&&(r=t.resolve(r))._attachCancellationCallback(this),this._initialValue=r,this._currentCancellable=null,this._eachValues=i===o?Array(this._length):0===i?null:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function f(e,t){this.isFulfilled()?t._resolve(e):t._reject(e)}function d(e,t,n,i){return"function"!=typeof t?r("expecting a function but got "+l.classString(t)):new c(e,t,n,i).promise()}function p(e){this.accum=e,this.array._gotAccum(e);var n=i(this.value,this.array._promise);return n instanceof t?(this.array._currentCancellable=n,n._then(h,void 0,void 0,this,void 0)):h.call(this,n)}function h(e){var n,r=this.array,i=r._promise,o=u(r._fn);i._pushContext(),(n=void 0!==r._eachValues?o.call(i._boundValue(),e,this.index,this.length):o.call(i._boundValue(),this.accum,e,this.index,this.length))instanceof t&&(r._currentCancellable=n);var s=i._popContext();return a.checkForgottenReturns(n,s,void 0!==r._eachValues?"Promise.each":"Promise.reduce",i),n}l.inherits(c,n),c.prototype._gotAccum=function(e){void 0!==this._eachValues&&null!==this._eachValues&&e!==o&&this._eachValues.push(e)},c.prototype._eachComplete=function(e){return null!==this._eachValues&&this._eachValues.push(e),this._eachValues},c.prototype._init=function(){},c.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},c.prototype.shouldCopyValues=function(){return!1},c.prototype._resolve=function(e){this._promise._resolveCallback(e),this._values=null},c.prototype._resultCancelled=function(e){if(e===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof t&&this._currentCancellable.cancel(),this._initialValue instanceof t&&this._initialValue.cancel())},c.prototype._iterate=function(e){var n,r;this._values=e;var i=e.length;if(void 0!==this._initialValue?(n=this._initialValue,r=0):(n=t.resolve(e[0]),r=1),this._currentCancellable=n,!n.isRejected())for(;r<i;++r){var o={accum:null,value:e[r],index:r,length:i,array:this};n=n._then(p,void 0,void 0,o,void 0)}void 0!==this._eachValues&&(n=n._then(this._eachComplete,void 0,void 0,this,void 0)),n._then(f,f,void 0,n,this)},t.prototype.reduce=function(e,t){return d(this,e,t,null)},t.reduce=function(e,t,n,r){return d(e,t,n,r)}}},{"./util":36}],29:[function(e,t,r){"use strict";var i,o,a,s,l,u=e("./util"),c=u.getNativePromise();if(u.isNode&&"undefined"==typeof MutationObserver){var f=n.g.setImmediate,d=process.nextTick;i=u.isRecentNode?function(e){f.call(n.g,e)}:function(e){d.call(process,e)}}else if("function"==typeof c&&"function"==typeof c.resolve){var p=c.resolve();i=function(e){p.then(e)}}else i="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)?"undefined"!=typeof setImmediate?function(e){setImmediate(e)}:"undefined"!=typeof setTimeout?function(e){setTimeout(e,0)}:function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}:(o=document.createElement("div"),a={attributes:!0},s=!1,l=document.createElement("div"),new MutationObserver((function(){o.classList.toggle("foo"),s=!1})).observe(l,a),function(e){var t=new MutationObserver((function(){t.disconnect(),e()}));t.observe(o,a),s||(s=!0,l.classList.toggle("foo"))});t.exports=i},{"./util":36}],30:[function(e,t,n){"use strict";t.exports=function(t,n,r){var i=t.PromiseInspection;function o(e){this.constructor$(e)}e("./util").inherits(o,n),o.prototype._promiseResolved=function(e,t){return this._values[e]=t,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},o.prototype._promiseFulfilled=function(e,t){var n=new i;return n._bitField=33554432,n._settledValueField=e,this._promiseResolved(t,n)},o.prototype._promiseRejected=function(e,t){var n=new i;return n._bitField=16777216,n._settledValueField=e,this._promiseResolved(t,n)},t.settle=function(e){return r.deprecated(".settle()",".reflect()"),new o(e).promise()},t.prototype.settle=function(){return t.settle(this)}}},{"./util":36}],31:[function(e,t,n){"use strict";t.exports=function(t,n,r){var i=e("./util"),o=e("./errors").RangeError,a=e("./errors").AggregateError,s=i.isArray,l={};function u(e){this.constructor$(e),this._howMany=0,this._unwrap=!1,this._initialized=!1}function c(e,t){if((0|t)!==t||t<0)return r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var n=new u(e),i=n.promise();return n.setHowMany(t),n.init(),i}i.inherits(u,n),u.prototype._init=function(){if(this._initialized)if(0!==this._howMany){this._init$(void 0,-5);var e=s(this._values);!this._isResolved()&&e&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}else this._resolve([])},u.prototype.init=function(){this._initialized=!0,this._init()},u.prototype.setUnwrap=function(){this._unwrap=!0},u.prototype.howMany=function(){return this._howMany},u.prototype.setHowMany=function(e){this._howMany=e},u.prototype._promiseFulfilled=function(e){return this._addFulfilled(e),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},u.prototype._promiseRejected=function(e){return this._addRejected(e),this._checkOutcome()},u.prototype._promiseCancelled=function(){return this._values instanceof t||null==this._values?this._cancel():(this._addRejected(l),this._checkOutcome())},u.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var e=new a,t=this.length();t<this._values.length;++t)this._values[t]!==l&&e.push(this._values[t]);return e.length>0?this._reject(e):this._cancel(),!0}return!1},u.prototype._fulfilled=function(){return this._totalResolved},u.prototype._rejected=function(){return this._values.length-this.length()},u.prototype._addRejected=function(e){this._values.push(e)},u.prototype._addFulfilled=function(e){this._values[this._totalResolved++]=e},u.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},u.prototype._getRangeError=function(e){var t="Input array must contain at least "+this._howMany+" items but contains only "+e+" items";return new o(t)},u.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},t.some=function(e,t){return c(e,t)},t.prototype.some=function(e){return c(this,e)},t._SomePromiseArray=u}},{"./errors":12,"./util":36}],32:[function(e,t,n){"use strict";t.exports=function(e){function t(e){void 0!==e?(e=e._target(),this._bitField=e._bitField,this._settledValueField=e._isFateSealed()?e._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}t.prototype._settledValue=function(){return this._settledValueField};var n=t.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},r=t.prototype.error=t.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},i=t.prototype.isFulfilled=function(){return 0!=(33554432&this._bitField)},o=t.prototype.isRejected=function(){return 0!=(16777216&this._bitField)},a=t.prototype.isPending=function(){return 0==(50397184&this._bitField)},s=t.prototype.isResolved=function(){return 0!=(50331648&this._bitField)};t.prototype.isCancelled=function(){return 0!=(8454144&this._bitField)},e.prototype.__isCancelled=function(){return 65536==(65536&this._bitField)},e.prototype._isCancelled=function(){return this._target().__isCancelled()},e.prototype.isCancelled=function(){return 0!=(8454144&this._target()._bitField)},e.prototype.isPending=function(){return a.call(this._target())},e.prototype.isRejected=function(){return o.call(this._target())},e.prototype.isFulfilled=function(){return i.call(this._target())},e.prototype.isResolved=function(){return s.call(this._target())},e.prototype.value=function(){return n.call(this._target())},e.prototype.reason=function(){var e=this._target();return e._unsetRejectionIsUnhandled(),r.call(e)},e.prototype._value=function(){return this._settledValue()},e.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},e.PromiseInspection=t}},{}],33:[function(e,t,n){"use strict";t.exports=function(t,n){var r=e("./util"),i=r.errorObj,o=r.isObject,a={}.hasOwnProperty;return function(e,s){if(o(e)){if(e instanceof t)return e;var l=function(e){try{return function(e){return e.then}(e)}catch(e){return i.e=e,i}}(e);if(l===i){s&&s._pushContext();var u=t.reject(l.e);return s&&s._popContext(),u}if("function"==typeof l)return function(e){try{return a.call(e,"_promise0")}catch(e){return!1}}(e)?(u=new t(n),e._then(u._fulfill,u._reject,void 0,u,null),u):function(e,o,a){var s=new t(n),l=s;a&&a._pushContext(),s._captureStackTrace(),a&&a._popContext();var u=!0,c=r.tryCatch(o).call(e,(function(e){s&&(s._resolveCallback(e),s=null)}),(function(e){s&&(s._rejectCallback(e,u,!0),s=null)}));return u=!1,s&&c===i&&(s._rejectCallback(c.e,!0,!0),s=null),l}(e,l,s)}return e}}},{"./util":36}],34:[function(e,t,n){"use strict";t.exports=function(t,n,r){var i=e("./util"),o=t.TimeoutError;function a(e){this.handle=e}a.prototype._resultCancelled=function(){clearTimeout(this.handle)};var s=function(e){return l(+this).thenReturn(e)},l=t.delay=function(e,i){var o,l;return void 0!==i?(o=t.resolve(i)._then(s,null,null,e,void 0),r.cancellation()&&i instanceof t&&o._setOnCancel(i)):(o=new t(n),l=setTimeout((function(){o._fulfill()}),+e),r.cancellation()&&o._setOnCancel(new a(l)),o._captureStackTrace()),o._setAsyncGuaranteed(),o};function u(e){return clearTimeout(this.handle),e}function c(e){throw clearTimeout(this.handle),e}t.prototype.delay=function(e){return l(e,this)},t.prototype.timeout=function(e,t){var n,s;e=+e;var l=new a(setTimeout((function(){n.isPending()&&function(e,t,n){var r;r="string"!=typeof t?t instanceof Error?t:new o("operation timed out"):new o(t),i.markAsOriginatingFromRejection(r),e._attachExtraTrace(r),e._reject(r),null!=n&&n.cancel()}(n,t,s)}),e));return r.cancellation()?(s=this.then(),(n=s._then(u,c,void 0,l,void 0))._setOnCancel(l)):n=this._then(u,c,void 0,l,void 0),n}}},{"./util":36}],35:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o,a){var s=e("./util"),l=e("./errors").TypeError,u=e("./util").inherits,c=s.errorObj,f=s.tryCatch,d={};function p(e){setTimeout((function(){throw e}),0)}function h(e,n){var i=0,a=e.length,s=new t(o);return function o(){if(i>=a)return s._fulfill();var l=function(e){var t=r(e);return t!==e&&"function"==typeof e._isDisposable&&"function"==typeof e._getDisposer&&e._isDisposable()&&t._setDisposable(e._getDisposer()),t}(e[i++]);if(l instanceof t&&l._isDisposable()){try{l=r(l._getDisposer().tryDispose(n),e.promise)}catch(e){return p(e)}if(l instanceof t)return l._then(o,p,null,null,null)}o()}(),s}function g(e,t,n){this._data=e,this._promise=t,this._context=n}function m(e,t,n){this.constructor$(e,t,n)}function y(e){return g.isDisposer(e)?(this.resources[this.index]._setDisposable(e),e.promise()):e}function v(e){this.length=e,this.promise=null,this[e-1]=null}g.prototype.data=function(){return this._data},g.prototype.promise=function(){return this._promise},g.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():d},g.prototype.tryDispose=function(e){var t=this.resource(),n=this._context;void 0!==n&&n._pushContext();var r=t!==d?this.doDispose(t,e):null;return void 0!==n&&n._popContext(),this._promise._unsetDisposable(),this._data=null,r},g.isDisposer=function(e){return null!=e&&"function"==typeof e.resource&&"function"==typeof e.tryDispose},u(m,g),m.prototype.doDispose=function(e,t){return this.data().call(e,e,t)},v.prototype._resultCancelled=function(){for(var e=this.length,n=0;n<e;++n){var r=this[n];r instanceof t&&r.cancel()}},t.using=function(){var e=arguments.length;if(e<2)return n("you must pass at least 2 arguments to Promise.using");var i,o=arguments[e-1];if("function"!=typeof o)return n("expecting a function but got "+s.classString(o));var l=!0;2===e&&Array.isArray(arguments[0])?(e=(i=arguments[0]).length,l=!1):(i=arguments,e--);for(var u=new v(e),d=0;d<e;++d){var p=i[d];if(g.isDisposer(p)){var m=p;(p=p.promise())._setDisposable(m)}else{var b=r(p);b instanceof t&&(p=b._then(y,null,null,{resources:u,index:d},void 0))}u[d]=p}var x=new Array(u.length);for(d=0;d<x.length;++d)x[d]=t.resolve(u[d]).reflect();var _=t.all(x).then((function(e){for(var t=0;t<e.length;++t){var n=e[t];if(n.isRejected())return c.e=n.error(),c;if(!n.isFulfilled())return void _.cancel();e[t]=n.value()}w._pushContext(),o=f(o);var r=l?o.apply(void 0,e):o(e),i=w._popContext();return a.checkForgottenReturns(r,i,"Promise.using",w),r})),w=_.lastly((function(){var e=new t.PromiseInspection(_);return h(u,e)}));return u.promise=w,w._setOnCancel(u),w},t.prototype._setDisposable=function(e){this._bitField=131072|this._bitField,this._disposer=e},t.prototype._isDisposable=function(){return(131072&this._bitField)>0},t.prototype._getDisposer=function(){return this._disposer},t.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},t.prototype.disposer=function(e){if("function"==typeof e)return new m(e,this,i());throw new l}}},{"./errors":12,"./util":36}],36:[function(e,t,r){"use strict";var i,o=e("./es5"),a="undefined"==typeof navigator,s={e:{}},l="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:void 0!==this?this:null;function u(){try{var e=i;return i=null,e.apply(this,arguments)}catch(e){return s.e=e,s}}function c(e){return null==e||!0===e||!1===e||"string"==typeof e||"number"==typeof e}function f(e,t,n){if(c(e))return e;var r={value:n,configurable:!0,enumerable:!1,writable:!0};return o.defineProperty(e,t,r),e}var d=function(){var e=[Array.prototype,Object.prototype,Function.prototype],t=function(t){for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1};if(o.isES5){var n=Object.getOwnPropertyNames;return function(e){for(var r=[],i=Object.create(null);null!=e&&!t(e);){var a;try{a=n(e)}catch(e){return r}for(var s=0;s<a.length;++s){var l=a[s];if(!i[l]){i[l]=!0;var u=Object.getOwnPropertyDescriptor(e,l);null!=u&&null==u.get&&null==u.set&&r.push(l)}}e=o.getPrototypeOf(e)}return r}}var r={}.hasOwnProperty;return function(n){if(t(n))return[];var i=[];e:for(var o in n)if(r.call(n,o))i.push(o);else{for(var a=0;a<e.length;++a)if(r.call(e[a],o))continue e;i.push(o)}return i}}(),p=/this\s*\.\s*\S+\s*=/;var h=/^[a-z$_][a-z$_0-9]*$/i;function g(e){try{return e+""}catch(e){return"[no string representation]"}}function m(e){return e instanceof Error||null!==e&&"object"==typeof e&&"string"==typeof e.message&&"string"==typeof e.name}function y(e){return m(e)&&o.propertyIsWritable(e,"stack")}var v="stack"in new Error?function(e){return y(e)?e:new Error(g(e))}:function(e){if(y(e))return e;try{throw new Error(g(e))}catch(e){return e}};function b(e){return{}.toString.call(e)}var x=function(e){return o.isArray(e)?e:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var _="function"==typeof Array.from?function(e){return Array.from(e)}:function(e){for(var t,n=[],r=e[Symbol.iterator]();!(t=r.next()).done;)n.push(t.value);return n};x=function(e){return o.isArray(e)?e:null!=e&&"function"==typeof e[Symbol.iterator]?_(e):null}}var w="undefined"!=typeof process&&"[object process]"===b(process).toLowerCase(),k="undefined"!=typeof process&&!0;var T,C={isClass:function(e){try{if("function"==typeof e){var t=o.names(e.prototype),n=o.isES5&&t.length>1,r=t.length>0&&!(1===t.length&&"constructor"===t[0]),i=p.test(e+"")&&o.names(e).length>0;if(n||r||i)return!0}return!1}catch(e){return!1}},isIdentifier:function(e){return h.test(e)},inheritedDataKeys:d,getDataPropertyOrDefault:function(e,t,n){if(!o.isES5)return{}.hasOwnProperty.call(e,t)?e[t]:void 0;var r=Object.getOwnPropertyDescriptor(e,t);return null!=r?null==r.get&&null==r.set?r.value:n:void 0},thrower:function(e){throw e},isArray:o.isArray,asArray:x,notEnumerableProp:f,isPrimitive:c,isObject:function(e){return"function"==typeof e||"object"==typeof e&&null!==e},isError:m,canEvaluate:a,errorObj:s,tryCatch:function(e){return i=e,u},inherits:function(e,t){var n={}.hasOwnProperty;function r(){for(var r in this.constructor=e,this.constructor$=t,t.prototype)n.call(t.prototype,r)&&"$"!==r.charAt(r.length-1)&&(this[r+"$"]=t.prototype[r])}return r.prototype=t.prototype,e.prototype=new r,e.prototype},withAppended:function(e,t){var n,r=e.length,i=new Array(r+1);for(n=0;n<r;++n)i[n]=e[n];return i[n]=t,i},maybeWrapAsError:function(e){return c(e)?new Error(g(e)):e},toFastProperties:function(e){function t(){}t.prototype=e;for(var n=8;n--;)new t;return e},filledRange:function(e,t,n){for(var r=new Array(e),i=0;i<e;++i)r[i]=t+i+n;return r},toString:g,canAttachTrace:y,ensureErrorObject:v,originatesFromRejection:function(e){return null!=e&&(e instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===e.isOperational)},markAsOriginatingFromRejection:function(e){try{f(e,"isOperational",!0)}catch(e){}},classString:b,copyDescriptors:function(e,t,n){for(var r=o.names(e),i=0;i<r.length;++i){var a=r[i];if(n(a))try{o.defineProperty(t,a,o.getDescriptor(e,a))}catch(e){}}},hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:w,hasEnvVariables:k,env:function(e){return k?{NODE_ENV:"production"}[e]:void 0},global:l,getNativePromise:function(){if("function"==typeof Promise)try{var e=new Promise((function(){}));if("[object Promise]"==={}.toString.call(e))return Promise}catch(e){}},domainBind:function(e,t){return e.bind(t)}};C.isRecentNode=C.isNode&&(0===(T=process.versions.node.split(".").map(Number))[0]&&T[1]>10||T[0]>0),C.isNode&&C.toFastProperties(process);try{throw new Error}catch(e){C.lastLineError=e}t.exports=C},{"./es5":13}]},{},[4])(4)},e.exports=r(),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)},97995:e=>{e.exports=function(e){for(var t=e.split(",")[0].split(":")[1].split(";")[0],n=atob(e.split(",")[1]),r=n.length,i=new window.ArrayBuffer(r),o=new window.Uint8Array(i),a=0;a<r;a++)o[a]=n.charCodeAt(a);return new Blob([o],{type:t})},e.exports.supported=void 0!==window.HTMLCanvasElement&&void 0!==window.atob&&void 0!==window.Blob&&void 0!==window.ArrayBuffer&&void 0!==window.Uint8Array,e.exports.init=function(){if(e.exports.supported){var t=window.HTMLCanvasElement.prototype;!t.toBlob&&t.toDataURL&&(t.toBlob=function(t,n,r){t(e.exports(this.toDataURL(n,r)))})}}},59425:(e,t,n)=>{"use strict";var r=n(26131),i=n(24216);function o(e){var t=[0,0,0],n=function(n,r){var i=e.match(n);null!=i&&(t[r]+=i.length,e=e.replace(n," "))};return e=(e=e.replace(/:not\(([^\)]*)\)/g,"     $1 ")).replace(/{[^]*/gm," "),n(/(\[[^\]]+\])/g,1),n(/(#[^\s\+>~\.\[:]+)/g,0),n(/(\.[^\s\+>~\.\[:]+)/g,1),n(/(::[^\s\+>~\.\[:]+|:first-line|:first-letter|:before|:after)/gi,2),n(/(:[\w-]+\([^\)]*\))/gi,1),n(/(:[^\s\+>~\.\[:]+)/g,1),e=(e=e.replace(/[\*\s\+>~]/g," ")).replace(/[#\.]/g," "),n(/([^\s\+>~\.\[:]+)/g,2),t.join("")}n(59266),e.exports=function e(t,n,a){if(null!=t||null!=n||null!=a){"string"==typeof t&&(t=document.getElementById(t)),null!=t.svg&&t.svg.stop();var s=function(t){var n={opts:t},a=function(){var e;return void 0!==Element.prototype.matches?e=function(e,t){return e.matches(t)}:void 0!==Element.prototype.webkitMatchesSelector?e=function(e,t){return e.webkitMatchesSelector(t)}:void 0!==Element.prototype.mozMatchesSelector?e=function(e,t){return e.mozMatchesSelector(t)}:void 0!==Element.prototype.msMatchesSelector?e=function(e,t){return e.msMatchesSelector(t)}:void 0!==Element.prototype.oMatchesSelector?e=function(e,t){return e.oMatchesSelector(t)}:("function"!=typeof jQuery&&"function"!=typeof Zepto||(e=function(e,t){return $(e).is(t)}),void 0===e&&(e=Sizzle.matchesSelector)),e}();"undefined"!=typeof CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.drawSvg=function(t,n,r,i,o,a){var s={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:n,offsetY:r,scaleWidth:i,scaleHeight:o};for(var l in a)a.hasOwnProperty(l)&&(s[l]=a[l]);e(this.canvas,t,s)}),n.FRAMERATE=30,n.MAX_VIRTUAL_PIXELS=3e4,n.log=function(e){},1==n.opts.log&&"undefined"!=typeof console&&(n.log=function(e){console.log(e)}),n.init=function(e){var t=0;n.UniqueId=function(){return"canvg"+ ++t},n.Definitions={},n.Styles={},n.StylesSpecificity={},n.Animations=[],n.Images=[],n.ctx=e,n.ViewPort=new function(){this.viewPorts=[],this.Clear=function(){this.viewPorts=[]},this.SetCurrent=function(e,t){this.viewPorts.push({width:e,height:t})},this.RemoveCurrent=function(){this.viewPorts.pop()},this.Current=function(){return this.viewPorts[this.viewPorts.length-1]},this.width=function(){return this.Current().width},this.height=function(){return this.Current().height},this.ComputeSize=function(e){return null!=e&&"number"==typeof e?e:"x"==e?this.width():"y"==e?this.height():Math.sqrt(Math.pow(this.width(),2)+Math.pow(this.height(),2))/Math.sqrt(2)}}},n.init(),n.ImagesLoaded=function(){for(var e=0;e<n.Images.length;e++)if(!n.Images[e].loaded)return!1;return!0},n.trim=function(e){return e.replace(/^\s+|\s+$/g,"")},n.compressSpaces=function(e){return e.replace(/[\s\r\t\n]+/gm," ")},n.ajax=function(e){var t;return(t=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"))?(t.open("GET",e,!1),t.send(null),t.responseText):null},n.parseXml=function(e){if("undefined"!=typeof Windows&&void 0!==Windows.Data&&void 0!==Windows.Data.Xml){var t=new Windows.Data.Xml.Dom.XmlDocument,n=new Windows.Data.Xml.Dom.XmlLoadSettings;return n.prohibitDtd=!1,t.loadXml(e,n),t}return window.DOMParser?(new DOMParser).parseFromString(e,"text/xml"):(e=e.replace(/<!DOCTYPE svg[^>]*>/,""),(t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e),t)},n.Property=function(e,t){this.name=e,this.value=t},n.Property.prototype.getValue=function(){return this.value},n.Property.prototype.hasValue=function(){return null!=this.value&&""!=this.value},n.Property.prototype.numValue=function(){if(!this.hasValue())return 0;var e=parseFloat(this.value);return(this.value+"").match(/%$/)&&(e/=100),e},n.Property.prototype.valueOrDefault=function(e){return this.hasValue()?this.value:e},n.Property.prototype.numValueOrDefault=function(e){return this.hasValue()?this.numValue():e},n.Property.prototype.addOpacity=function(e){var t=this.value;if(null!=e.value&&""!=e.value&&"string"==typeof this.value){var i=new r(this.value);i.ok&&(t="rgba("+i.r+", "+i.g+", "+i.b+", "+e.numValue()+")")}return new n.Property(this.name,t)},n.Property.prototype.getDefinition=function(){var e=this.value.match(/#([^\)'"]+)/);return e&&(e=e[1]),e||(e=this.value),n.Definitions[e]},n.Property.prototype.isUrlDefinition=function(){return 0==this.value.indexOf("url(")},n.Property.prototype.getFillStyleDefinition=function(e,t){var r=this.getDefinition();if(null!=r&&r.createGradient)return r.createGradient(n.ctx,e,t);if(null!=r&&r.createPattern){if(r.getHrefAttribute().hasValue()){var i=r.attribute("patternTransform");r=r.getHrefAttribute().getDefinition(),i.hasValue()&&(r.attribute("patternTransform",!0).value=i.value)}return r.createPattern(n.ctx,e)}return null},n.Property.prototype.getDPI=function(e){return 96},n.Property.prototype.getEM=function(e){var t=12,r=new n.Property("fontSize",n.Font.Parse(n.ctx.font).fontSize);return r.hasValue()&&(t=r.toPixels(e)),t},n.Property.prototype.getUnits=function(){return(this.value+"").replace(/[0-9\.\-]/g,"")},n.Property.prototype.toPixels=function(e,t){if(!this.hasValue())return 0;var r=this.value+"";if(r.match(/em$/))return this.numValue()*this.getEM(e);if(r.match(/ex$/))return this.numValue()*this.getEM(e)/2;if(r.match(/px$/))return this.numValue();if(r.match(/pt$/))return this.numValue()*this.getDPI(e)*(1/72);if(r.match(/pc$/))return 15*this.numValue();if(r.match(/cm$/))return this.numValue()*this.getDPI(e)/2.54;if(r.match(/mm$/))return this.numValue()*this.getDPI(e)/25.4;if(r.match(/in$/))return this.numValue()*this.getDPI(e);if(r.match(/%$/))return this.numValue()*n.ViewPort.ComputeSize(e);var i=this.numValue();return t&&i<1?i*n.ViewPort.ComputeSize(e):i},n.Property.prototype.toMilliseconds=function(){if(!this.hasValue())return 0;var e=this.value+"";return e.match(/s$/)?1e3*this.numValue():(e.match(/ms$/),this.numValue())},n.Property.prototype.toRadians=function(){if(!this.hasValue())return 0;var e=this.value+"";return e.match(/deg$/)?this.numValue()*(Math.PI/180):e.match(/grad$/)?this.numValue()*(Math.PI/200):e.match(/rad$/)?this.numValue():this.numValue()*(Math.PI/180)};var s={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};return n.Property.prototype.toTextBaseline=function(){return this.hasValue()?s[this.value]:null},n.Font=new function(){this.Styles="normal|italic|oblique|inherit",this.Variants="normal|small-caps|inherit",this.Weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit",this.CreateFont=function(e,t,r,i,o,a){var s=null!=a?this.Parse(a):this.CreateFont("","","","","",n.ctx.font);return{fontFamily:o||s.fontFamily,fontSize:i||s.fontSize,fontStyle:e||s.fontStyle,fontWeight:r||s.fontWeight,fontVariant:t||s.fontVariant,toString:function(){return[this.fontStyle,this.fontVariant,this.fontWeight,this.fontSize,this.fontFamily].join(" ")}}};var e=this;this.Parse=function(t){for(var r={},i=n.trim(n.compressSpaces(t||"")).split(" "),o={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1},a="",s=0;s<i.length;s++)o.fontStyle||-1==e.Styles.indexOf(i[s])?o.fontVariant||-1==e.Variants.indexOf(i[s])?o.fontWeight||-1==e.Weights.indexOf(i[s])?o.fontSize?"inherit"!=i[s]&&(a+=i[s]):("inherit"!=i[s]&&(r.fontSize=i[s].split("/")[0]),o.fontStyle=o.fontVariant=o.fontWeight=o.fontSize=!0):("inherit"!=i[s]&&(r.fontWeight=i[s]),o.fontStyle=o.fontVariant=o.fontWeight=!0):("inherit"!=i[s]&&(r.fontVariant=i[s]),o.fontStyle=o.fontVariant=!0):("inherit"!=i[s]&&(r.fontStyle=i[s]),o.fontStyle=!0);return""!=a&&(r.fontFamily=a),r}},n.ToNumberArray=function(e){for(var t=n.trim(n.compressSpaces((e||"").replace(/,/g," "))).split(" "),r=0;r<t.length;r++)t[r]=parseFloat(t[r]);return t},n.Point=function(e,t){this.x=e,this.y=t},n.Point.prototype.angleTo=function(e){return Math.atan2(e.y-this.y,e.x-this.x)},n.Point.prototype.applyTransform=function(e){var t=this.x*e[0]+this.y*e[2]+e[4],n=this.x*e[1]+this.y*e[3]+e[5];this.x=t,this.y=n},n.CreatePoint=function(e){var t=n.ToNumberArray(e);return new n.Point(t[0],t[1])},n.CreatePath=function(e){for(var t=n.ToNumberArray(e),r=[],i=0;i<t.length;i+=2)r.push(new n.Point(t[i],t[i+1]));return r},n.BoundingBox=function(e,t,n,r){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN,this.x=function(){return this.x1},this.y=function(){return this.y1},this.width=function(){return this.x2-this.x1},this.height=function(){return this.y2-this.y1},this.addPoint=function(e,t){null!=e&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=e,this.x2=e),e<this.x1&&(this.x1=e),e>this.x2&&(this.x2=e)),null!=t&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=t,this.y2=t),t<this.y1&&(this.y1=t),t>this.y2&&(this.y2=t))},this.addX=function(e){this.addPoint(e,null)},this.addY=function(e){this.addPoint(null,e)},this.addBoundingBox=function(e){this.addPoint(e.x1,e.y1),this.addPoint(e.x2,e.y2)},this.addQuadraticCurve=function(e,t,n,r,i,o){var a=e+2/3*(n-e),s=t+2/3*(r-t),l=a+1/3*(i-e),u=s+1/3*(o-t);this.addBezierCurve(e,t,a,l,s,u,i,o)},this.addBezierCurve=function(e,t,n,r,i,o,a,s){var l=[e,t],u=[n,r],c=[i,o],f=[a,s];this.addPoint(l[0],l[1]),this.addPoint(f[0],f[1]);for(var d=0;d<=1;d++){var p=function(e){return Math.pow(1-e,3)*l[d]+3*Math.pow(1-e,2)*e*u[d]+3*(1-e)*Math.pow(e,2)*c[d]+Math.pow(e,3)*f[d]},h=6*l[d]-12*u[d]+6*c[d],g=-3*l[d]+9*u[d]-9*c[d]+3*f[d],m=3*u[d]-3*l[d];if(0!=g){var y=Math.pow(h,2)-4*m*g;if(!(y<0)){var v=(-h+Math.sqrt(y))/(2*g);0<v&&v<1&&(0==d&&this.addX(p(v)),1==d&&this.addY(p(v)));var b=(-h-Math.sqrt(y))/(2*g);0<b&&b<1&&(0==d&&this.addX(p(b)),1==d&&this.addY(p(b)))}}else{if(0==h)continue;var x=-m/h;0<x&&x<1&&(0==d&&this.addX(p(x)),1==d&&this.addY(p(x)))}}},this.isPointInBox=function(e,t){return this.x1<=e&&e<=this.x2&&this.y1<=t&&t<=this.y2},this.addPoint(e,t),this.addPoint(n,r)},n.Transform=function(e){var t=this;this.Type={},this.Type.translate=function(e){this.p=n.CreatePoint(e),this.apply=function(e){e.translate(this.p.x||0,this.p.y||0)},this.unapply=function(e){e.translate(-1*this.p.x||0,-1*this.p.y||0)},this.applyToPoint=function(e){e.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0])}},this.Type.rotate=function(e){var t=n.ToNumberArray(e);this.angle=new n.Property("angle",t[0]),this.cx=t[1]||0,this.cy=t[2]||0,this.apply=function(e){e.translate(this.cx,this.cy),e.rotate(this.angle.toRadians()),e.translate(-this.cx,-this.cy)},this.unapply=function(e){e.translate(this.cx,this.cy),e.rotate(-1*this.angle.toRadians()),e.translate(-this.cx,-this.cy)},this.applyToPoint=function(e){var t=this.angle.toRadians();e.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0]),e.applyTransform([Math.cos(t),Math.sin(t),-Math.sin(t),Math.cos(t),0,0]),e.applyTransform([1,0,0,1,-this.p.x||0,-this.p.y||0])}},this.Type.scale=function(e){this.p=n.CreatePoint(e),this.apply=function(e){e.scale(this.p.x||1,this.p.y||this.p.x||1)},this.unapply=function(e){e.scale(1/this.p.x||1,1/this.p.y||this.p.x||1)},this.applyToPoint=function(e){e.applyTransform([this.p.x||0,0,0,this.p.y||0,0,0])}},this.Type.matrix=function(e){this.m=n.ToNumberArray(e),this.apply=function(e){e.transform(this.m[0],this.m[1],this.m[2],this.m[3],this.m[4],this.m[5])},this.unapply=function(e){var t=this.m[0],n=this.m[2],r=this.m[4],i=this.m[1],o=this.m[3],a=this.m[5],s=1/(t*(1*o-0*a)-n*(1*i-0*a)+r*(0*i-0*o));e.transform(s*(1*o-0*a),s*(0*a-1*i),s*(0*r-1*n),s*(1*t-0*r),s*(n*a-r*o),s*(r*i-t*a))},this.applyToPoint=function(e){e.applyTransform(this.m)}},this.Type.SkewBase=function(e){this.base=t.Type.matrix,this.base(e),this.angle=new n.Property("angle",e)},this.Type.SkewBase.prototype=new this.Type.matrix,this.Type.skewX=function(e){this.base=t.Type.SkewBase,this.base(e),this.m=[1,0,Math.tan(this.angle.toRadians()),1,0,0]},this.Type.skewX.prototype=new this.Type.SkewBase,this.Type.skewY=function(e){this.base=t.Type.SkewBase,this.base(e),this.m=[1,Math.tan(this.angle.toRadians()),0,1,0,0]},this.Type.skewY.prototype=new this.Type.SkewBase,this.transforms=[],this.apply=function(e){for(var t=0;t<this.transforms.length;t++)this.transforms[t].apply(e)},this.unapply=function(e){for(var t=this.transforms.length-1;t>=0;t--)this.transforms[t].unapply(e)},this.applyToPoint=function(e){for(var t=0;t<this.transforms.length;t++)this.transforms[t].applyToPoint(e)};for(var r=n.trim(n.compressSpaces(e)).replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/),i=0;i<r.length;i++){var o=n.trim(r[i].split("(")[0]),a=r[i].split("(")[1].replace(")",""),s=this.Type[o];if(void 0!==s){var l=new s(a);l.type=o,this.transforms.push(l)}}},n.AspectRatio=function(e,t,r,i,o,a,s,l,u,c){var f=(t=(t=n.compressSpaces(t)).replace(/^defer\s/,"")).split(" ")[0]||"xMidYMid",d=t.split(" ")[1]||"meet",p=r/i,h=o/a,g=Math.min(p,h),m=Math.max(p,h);"meet"==d&&(i*=g,a*=g),"slice"==d&&(i*=m,a*=m),u=new n.Property("refX",u),c=new n.Property("refY",c),u.hasValue()&&c.hasValue()?e.translate(-g*u.toPixels("x"),-g*c.toPixels("y")):(f.match(/^xMid/)&&("meet"==d&&g==h||"slice"==d&&m==h)&&e.translate(r/2-i/2,0),f.match(/YMid$/)&&("meet"==d&&g==p||"slice"==d&&m==p)&&e.translate(0,o/2-a/2),f.match(/^xMax/)&&("meet"==d&&g==h||"slice"==d&&m==h)&&e.translate(r-i,0),f.match(/YMax$/)&&("meet"==d&&g==p||"slice"==d&&m==p)&&e.translate(0,o-a)),"none"==f?e.scale(p,h):"meet"==d?e.scale(g,g):"slice"==d&&e.scale(m,m),e.translate(null==s?0:-s,null==l?0:-l)},n.Element={},n.EmptyProperty=new n.Property("EMPTY",""),n.Element.ElementBase=function(e){if(this.attributes={},this.styles={},this.stylesSpecificity={},this.children=[],this.attribute=function(e,t){var r=this.attributes[e];return null!=r?r:(1==t&&(r=new n.Property(e,""),this.attributes[e]=r),r||n.EmptyProperty)},this.getHrefAttribute=function(){for(var e in this.attributes)if("href"==e||e.match(/:href$/))return this.attributes[e];return n.EmptyProperty},this.style=function(e,t,r){var i=this.styles[e];if(null!=i)return i;var o=this.attribute(e);if(null!=o&&o.hasValue())return this.styles[e]=o,o;if(1!=r){var a=this.parent;if(null!=a){var s=a.style(e);if(null!=s&&s.hasValue())return s}}return 1==t&&(i=new n.Property(e,""),this.styles[e]=i),i||n.EmptyProperty},this.render=function(e){if("none"!=this.style("display").value&&"hidden"!=this.style("visibility").value){if(e.save(),this.style("mask").hasValue()){var t=this.style("mask").getDefinition();null!=t&&t.apply(e,this)}else if(this.style("filter").hasValue()){var n=this.style("filter").getDefinition();null!=n&&n.apply(e,this)}else this.setContext(e),this.renderChildren(e),this.clearContext(e);e.restore()}},this.setContext=function(e){},this.clearContext=function(e){},this.renderChildren=function(e){for(var t=0;t<this.children.length;t++)this.children[t].render(e)},this.addChild=function(e,t){var r=e;t&&(r=n.CreateElement(e)),r.parent=this,"title"!=r.type&&this.children.push(r)},this.addStylesFromStyleDefinition=function(){for(var t in n.Styles)if("@"!=t[0]&&a(e,t)){var r=n.Styles[t],i=n.StylesSpecificity[t];if(null!=r)for(var o in r){var s=this.stylesSpecificity[o];void 0===s&&(s="000"),i>s&&(this.styles[o]=r[o],this.stylesSpecificity[o]=i)}}},null!=e&&1==e.nodeType){for(var t=0;t<e.attributes.length;t++){var r=e.attributes[t];this.attributes[r.nodeName]=new n.Property(r.nodeName,r.value)}if(this.addStylesFromStyleDefinition(),this.attribute("style").hasValue()){var i=this.attribute("style").value.split(";");for(t=0;t<i.length;t++)if(""!=n.trim(i[t])){var o=i[t].split(":"),s=n.trim(o[0]),l=n.trim(o[1]);this.styles[s]=new n.Property(s,l)}}for(this.attribute("id").hasValue()&&null==n.Definitions[this.attribute("id").value]&&(n.Definitions[this.attribute("id").value]=this),t=0;t<e.childNodes.length;t++){var u=e.childNodes[t];if(1==u.nodeType&&this.addChild(u,!0),this.captureTextNodes&&(3==u.nodeType||4==u.nodeType)){var c=u.value||u.text||u.textContent||"";""!=n.compressSpaces(c)&&this.addChild(new n.Element.tspan(u),!1)}}}},n.Element.RenderedElementBase=function(e){this.base=n.Element.ElementBase,this.base(e),this.setContext=function(e){var t;if(this.style("fill").isUrlDefinition())null!=(t=this.style("fill").getFillStyleDefinition(this,this.style("fill-opacity")))&&(e.fillStyle=t);else if(this.style("fill").hasValue()){var r;"currentColor"==(r=this.style("fill")).value&&(r.value=this.style("color").value),"inherit"!=r.value&&(e.fillStyle="none"==r.value?"rgba(0,0,0,0)":r.value)}if(this.style("fill-opacity").hasValue()&&(r=(r=new n.Property("fill",e.fillStyle)).addOpacity(this.style("fill-opacity")),e.fillStyle=r.value),this.style("stroke").isUrlDefinition())null!=(t=this.style("stroke").getFillStyleDefinition(this,this.style("stroke-opacity")))&&(e.strokeStyle=t);else if(this.style("stroke").hasValue()){var i;"currentColor"==(i=this.style("stroke")).value&&(i.value=this.style("color").value),"inherit"!=i.value&&(e.strokeStyle="none"==i.value?"rgba(0,0,0,0)":i.value)}if(this.style("stroke-opacity").hasValue()&&(i=(i=new n.Property("stroke",e.strokeStyle)).addOpacity(this.style("stroke-opacity")),e.strokeStyle=i.value),this.style("stroke-width").hasValue()){var o=this.style("stroke-width").toPixels();e.lineWidth=0==o?.001:o}if(this.style("stroke-linecap").hasValue()&&(e.lineCap=this.style("stroke-linecap").value),this.style("stroke-linejoin").hasValue()&&(e.lineJoin=this.style("stroke-linejoin").value),this.style("stroke-miterlimit").hasValue()&&(e.miterLimit=this.style("stroke-miterlimit").value),this.style("stroke-dasharray").hasValue()&&"none"!=this.style("stroke-dasharray").value){var a=n.ToNumberArray(this.style("stroke-dasharray").value);void 0!==e.setLineDash?e.setLineDash(a):void 0!==e.webkitLineDash?e.webkitLineDash=a:void 0===e.mozDash||1==a.length&&0==a[0]||(e.mozDash=a);var s=this.style("stroke-dashoffset").numValueOrDefault(1);void 0!==e.lineDashOffset?e.lineDashOffset=s:void 0!==e.webkitLineDashOffset?e.webkitLineDashOffset=s:void 0!==e.mozDashOffset&&(e.mozDashOffset=s)}if(void 0!==e.font&&(e.font=n.Font.CreateFont(this.style("font-style").value,this.style("font-variant").value,this.style("font-weight").value,this.style("font-size").hasValue()?this.style("font-size").toPixels()+"px":"",this.style("font-family").value).toString()),this.style("transform",!1,!0).hasValue()&&new n.Transform(this.style("transform",!1,!0).value).apply(e),this.style("clip-path",!1,!0).hasValue()){var l=this.style("clip-path",!1,!0).getDefinition();null!=l&&l.apply(e)}this.style("opacity").hasValue()&&(e.globalAlpha=this.style("opacity").numValue())}},n.Element.RenderedElementBase.prototype=new n.Element.ElementBase,n.Element.PathElementBase=function(e){this.base=n.Element.RenderedElementBase,this.base(e),this.path=function(e){return null!=e&&e.beginPath(),new n.BoundingBox},this.renderChildren=function(e){this.path(e),n.Mouse.checkPath(this,e),""!=e.fillStyle&&("inherit"!=this.style("fill-rule").valueOrDefault("inherit")?e.fill(this.style("fill-rule").value):e.fill()),""!=e.strokeStyle&&e.stroke();var t=this.getMarkers();if(null!=t){if(this.style("marker-start").isUrlDefinition()&&(r=this.style("marker-start").getDefinition()).render(e,t[0][0],t[0][1]),this.style("marker-mid").isUrlDefinition())for(var r=this.style("marker-mid").getDefinition(),i=1;i<t.length-1;i++)r.render(e,t[i][0],t[i][1]);this.style("marker-end").isUrlDefinition()&&(r=this.style("marker-end").getDefinition()).render(e,t[t.length-1][0],t[t.length-1][1])}},this.getBoundingBox=function(){return this.path()},this.getMarkers=function(){return null}},n.Element.PathElementBase.prototype=new n.Element.RenderedElementBase,n.Element.svg=function(e){this.base=n.Element.RenderedElementBase,this.base(e),this.baseClearContext=this.clearContext,this.clearContext=function(e){this.baseClearContext(e),n.ViewPort.RemoveCurrent()},this.baseSetContext=this.setContext,this.setContext=function(e){e.strokeStyle="rgba(0,0,0,0)",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4,void 0!==e.font&&void 0!==window.getComputedStyle&&(e.font=window.getComputedStyle(e.canvas).getPropertyValue("font")),this.baseSetContext(e),this.attribute("x").hasValue()||(this.attribute("x",!0).value=0),this.attribute("y").hasValue()||(this.attribute("y",!0).value=0),e.translate(this.attribute("x").toPixels("x"),this.attribute("y").toPixels("y"));var t=n.ViewPort.width(),r=n.ViewPort.height();if(this.attribute("width").hasValue()||(this.attribute("width",!0).value="100%"),this.attribute("height").hasValue()||(this.attribute("height",!0).value="100%"),void 0===this.root){t=this.attribute("width").toPixels("x"),r=this.attribute("height").toPixels("y");var i=0,o=0;this.attribute("refX").hasValue()&&this.attribute("refY").hasValue()&&(i=-this.attribute("refX").toPixels("x"),o=-this.attribute("refY").toPixels("y")),"visible"!=this.attribute("overflow").valueOrDefault("hidden")&&(e.beginPath(),e.moveTo(i,o),e.lineTo(t,o),e.lineTo(t,r),e.lineTo(i,r),e.closePath(),e.clip())}if(n.ViewPort.SetCurrent(t,r),this.attribute("viewBox").hasValue()){var a=n.ToNumberArray(this.attribute("viewBox").value),s=a[0],l=a[1];t=a[2],r=a[3],n.AspectRatio(e,this.attribute("preserveAspectRatio").value,n.ViewPort.width(),t,n.ViewPort.height(),r,s,l,this.attribute("refX").value,this.attribute("refY").value),n.ViewPort.RemoveCurrent(),n.ViewPort.SetCurrent(a[2],a[3])}}},n.Element.svg.prototype=new n.Element.RenderedElementBase,n.Element.rect=function(e){this.base=n.Element.PathElementBase,this.base(e),this.path=function(e){var t=this.attribute("x").toPixels("x"),r=this.attribute("y").toPixels("y"),i=this.attribute("width").toPixels("x"),o=this.attribute("height").toPixels("y"),a=this.attribute("rx").toPixels("x"),s=this.attribute("ry").toPixels("y");return this.attribute("rx").hasValue()&&!this.attribute("ry").hasValue()&&(s=a),this.attribute("ry").hasValue()&&!this.attribute("rx").hasValue()&&(a=s),a=Math.min(a,i/2),s=Math.min(s,o/2),null!=e&&(e.beginPath(),e.moveTo(t+a,r),e.lineTo(t+i-a,r),e.quadraticCurveTo(t+i,r,t+i,r+s),e.lineTo(t+i,r+o-s),e.quadraticCurveTo(t+i,r+o,t+i-a,r+o),e.lineTo(t+a,r+o),e.quadraticCurveTo(t,r+o,t,r+o-s),e.lineTo(t,r+s),e.quadraticCurveTo(t,r,t+a,r),e.closePath()),new n.BoundingBox(t,r,t+i,r+o)}},n.Element.rect.prototype=new n.Element.PathElementBase,n.Element.circle=function(e){this.base=n.Element.PathElementBase,this.base(e),this.path=function(e){var t=this.attribute("cx").toPixels("x"),r=this.attribute("cy").toPixels("y"),i=this.attribute("r").toPixels();return null!=e&&(e.beginPath(),e.arc(t,r,i,0,2*Math.PI,!0),e.closePath()),new n.BoundingBox(t-i,r-i,t+i,r+i)}},n.Element.circle.prototype=new n.Element.PathElementBase,n.Element.ellipse=function(e){this.base=n.Element.PathElementBase,this.base(e),this.path=function(e){var t=(Math.sqrt(2)-1)/3*4,r=this.attribute("rx").toPixels("x"),i=this.attribute("ry").toPixels("y"),o=this.attribute("cx").toPixels("x"),a=this.attribute("cy").toPixels("y");return null!=e&&(e.beginPath(),e.moveTo(o,a-i),e.bezierCurveTo(o+t*r,a-i,o+r,a-t*i,o+r,a),e.bezierCurveTo(o+r,a+t*i,o+t*r,a+i,o,a+i),e.bezierCurveTo(o-t*r,a+i,o-r,a+t*i,o-r,a),e.bezierCurveTo(o-r,a-t*i,o-t*r,a-i,o,a-i),e.closePath()),new n.BoundingBox(o-r,a-i,o+r,a+i)}},n.Element.ellipse.prototype=new n.Element.PathElementBase,n.Element.line=function(e){this.base=n.Element.PathElementBase,this.base(e),this.getPoints=function(){return[new n.Point(this.attribute("x1").toPixels("x"),this.attribute("y1").toPixels("y")),new n.Point(this.attribute("x2").toPixels("x"),this.attribute("y2").toPixels("y"))]},this.path=function(e){var t=this.getPoints();return null!=e&&(e.beginPath(),e.moveTo(t[0].x,t[0].y),e.lineTo(t[1].x,t[1].y)),new n.BoundingBox(t[0].x,t[0].y,t[1].x,t[1].y)},this.getMarkers=function(){var e=this.getPoints(),t=e[0].angleTo(e[1]);return[[e[0],t],[e[1],t]]}},n.Element.line.prototype=new n.Element.PathElementBase,n.Element.polyline=function(e){this.base=n.Element.PathElementBase,this.base(e),this.points=n.CreatePath(this.attribute("points").value),this.path=function(e){var t=new n.BoundingBox(this.points[0].x,this.points[0].y);null!=e&&(e.beginPath(),e.moveTo(this.points[0].x,this.points[0].y));for(var r=1;r<this.points.length;r++)t.addPoint(this.points[r].x,this.points[r].y),null!=e&&e.lineTo(this.points[r].x,this.points[r].y);return t},this.getMarkers=function(){for(var e=[],t=0;t<this.points.length-1;t++)e.push([this.points[t],this.points[t].angleTo(this.points[t+1])]);return e.length>0&&e.push([this.points[this.points.length-1],e[e.length-1][1]]),e}},n.Element.polyline.prototype=new n.Element.PathElementBase,n.Element.polygon=function(e){this.base=n.Element.polyline,this.base(e),this.basePath=this.path,this.path=function(e){var t=this.basePath(e);return null!=e&&(e.lineTo(this.points[0].x,this.points[0].y),e.closePath()),t}},n.Element.polygon.prototype=new n.Element.polyline,n.Element.path=function(e){this.base=n.Element.PathElementBase,this.base(e);var t=this.attribute("d").value;t=t.replace(/,/gm," ");for(var r=0;r<2;r++)t=t.replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm,"$1 $2");for(t=(t=t.replace(/([^\s])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2")).replace(/([0-9])([+\-])/gm,"$1 $2"),r=0;r<2;r++)t=t.replace(/(\.[0-9]*)(\.)/gm,"$1 $2");t=t.replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 "),t=n.compressSpaces(t),t=n.trim(t),this.PathParser=new function(e){this.tokens=e.split(" "),this.reset=function(){this.i=-1,this.command="",this.previousCommand="",this.start=new n.Point(0,0),this.control=new n.Point(0,0),this.current=new n.Point(0,0),this.points=[],this.angles=[]},this.isEnd=function(){return this.i>=this.tokens.length-1},this.isCommandOrEnd=function(){return!!this.isEnd()||null!=this.tokens[this.i+1].match(/^[A-Za-z]$/)},this.isRelativeCommand=function(){switch(this.command){case"m":case"l":case"h":case"v":case"c":case"s":case"q":case"t":case"a":case"z":return!0}return!1},this.getToken=function(){return this.i++,this.tokens[this.i]},this.getScalar=function(){return parseFloat(this.getToken())},this.nextCommand=function(){this.previousCommand=this.command,this.command=this.getToken()},this.getPoint=function(){var e=new n.Point(this.getScalar(),this.getScalar());return this.makeAbsolute(e)},this.getAsControlPoint=function(){var e=this.getPoint();return this.control=e,e},this.getAsCurrentPoint=function(){var e=this.getPoint();return this.current=e,e},this.getReflectedControlPoint=function(){return"c"!=this.previousCommand.toLowerCase()&&"s"!=this.previousCommand.toLowerCase()&&"q"!=this.previousCommand.toLowerCase()&&"t"!=this.previousCommand.toLowerCase()?this.current:new n.Point(2*this.current.x-this.control.x,2*this.current.y-this.control.y)},this.makeAbsolute=function(e){return this.isRelativeCommand()&&(e.x+=this.current.x,e.y+=this.current.y),e},this.addMarker=function(e,t,n){null!=n&&this.angles.length>0&&null==this.angles[this.angles.length-1]&&(this.angles[this.angles.length-1]=this.points[this.points.length-1].angleTo(n)),this.addMarkerAngle(e,null==t?null:t.angleTo(e))},this.addMarkerAngle=function(e,t){this.points.push(e),this.angles.push(t)},this.getMarkerPoints=function(){return this.points},this.getMarkerAngles=function(){for(var e=0;e<this.angles.length;e++)if(null==this.angles[e])for(var t=e+1;t<this.angles.length;t++)if(null!=this.angles[t]){this.angles[e]=this.angles[t];break}return this.angles}}(t),this.path=function(e){var t=this.PathParser;t.reset();var r=new n.BoundingBox;for(null!=e&&e.beginPath();!t.isEnd();)switch(t.nextCommand(),t.command){case"M":case"m":var i=t.getAsCurrentPoint();for(t.addMarker(i),r.addPoint(i.x,i.y),null!=e&&e.moveTo(i.x,i.y),t.start=t.current;!t.isCommandOrEnd();)i=t.getAsCurrentPoint(),t.addMarker(i,t.start),r.addPoint(i.x,i.y),null!=e&&e.lineTo(i.x,i.y);break;case"L":case"l":for(;!t.isCommandOrEnd();){var o=t.current;i=t.getAsCurrentPoint(),t.addMarker(i,o),r.addPoint(i.x,i.y),null!=e&&e.lineTo(i.x,i.y)}break;case"H":case"h":for(;!t.isCommandOrEnd();){var a=new n.Point((t.isRelativeCommand()?t.current.x:0)+t.getScalar(),t.current.y);t.addMarker(a,t.current),t.current=a,r.addPoint(t.current.x,t.current.y),null!=e&&e.lineTo(t.current.x,t.current.y)}break;case"V":case"v":for(;!t.isCommandOrEnd();)a=new n.Point(t.current.x,(t.isRelativeCommand()?t.current.y:0)+t.getScalar()),t.addMarker(a,t.current),t.current=a,r.addPoint(t.current.x,t.current.y),null!=e&&e.lineTo(t.current.x,t.current.y);break;case"C":case"c":for(;!t.isCommandOrEnd();){var s=t.current,l=t.getPoint(),u=t.getAsControlPoint(),c=t.getAsCurrentPoint();t.addMarker(c,u,l),r.addBezierCurve(s.x,s.y,l.x,l.y,u.x,u.y,c.x,c.y),null!=e&&e.bezierCurveTo(l.x,l.y,u.x,u.y,c.x,c.y)}break;case"S":case"s":for(;!t.isCommandOrEnd();)s=t.current,l=t.getReflectedControlPoint(),u=t.getAsControlPoint(),c=t.getAsCurrentPoint(),t.addMarker(c,u,l),r.addBezierCurve(s.x,s.y,l.x,l.y,u.x,u.y,c.x,c.y),null!=e&&e.bezierCurveTo(l.x,l.y,u.x,u.y,c.x,c.y);break;case"Q":case"q":for(;!t.isCommandOrEnd();)s=t.current,u=t.getAsControlPoint(),c=t.getAsCurrentPoint(),t.addMarker(c,u,u),r.addQuadraticCurve(s.x,s.y,u.x,u.y,c.x,c.y),null!=e&&e.quadraticCurveTo(u.x,u.y,c.x,c.y);break;case"T":case"t":for(;!t.isCommandOrEnd();)s=t.current,u=t.getReflectedControlPoint(),t.control=u,c=t.getAsCurrentPoint(),t.addMarker(c,u,u),r.addQuadraticCurve(s.x,s.y,u.x,u.y,c.x,c.y),null!=e&&e.quadraticCurveTo(u.x,u.y,c.x,c.y);break;case"A":case"a":for(;!t.isCommandOrEnd();){s=t.current;var f=t.getScalar(),d=t.getScalar(),p=t.getScalar()*(Math.PI/180),h=t.getScalar(),g=t.getScalar(),m=(c=t.getAsCurrentPoint(),new n.Point(Math.cos(p)*(s.x-c.x)/2+Math.sin(p)*(s.y-c.y)/2,-Math.sin(p)*(s.x-c.x)/2+Math.cos(p)*(s.y-c.y)/2)),y=Math.pow(m.x,2)/Math.pow(f,2)+Math.pow(m.y,2)/Math.pow(d,2);y>1&&(f*=Math.sqrt(y),d*=Math.sqrt(y));var v=(h==g?-1:1)*Math.sqrt((Math.pow(f,2)*Math.pow(d,2)-Math.pow(f,2)*Math.pow(m.y,2)-Math.pow(d,2)*Math.pow(m.x,2))/(Math.pow(f,2)*Math.pow(m.y,2)+Math.pow(d,2)*Math.pow(m.x,2)));isNaN(v)&&(v=0);var b=new n.Point(v*f*m.y/d,v*-d*m.x/f),x=new n.Point((s.x+c.x)/2+Math.cos(p)*b.x-Math.sin(p)*b.y,(s.y+c.y)/2+Math.sin(p)*b.x+Math.cos(p)*b.y),_=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2))},w=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(_(e)*_(t))},k=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(w(e,t))},T=k([1,0],[(m.x-b.x)/f,(m.y-b.y)/d]),C=[(m.x-b.x)/f,(m.y-b.y)/d],O=[(-m.x-b.x)/f,(-m.y-b.y)/d],S=k(C,O);w(C,O)<=-1&&(S=Math.PI),w(C,O)>=1&&(S=0);var A=1-g?1:-1,M=T+A*(S/2),E=new n.Point(x.x+f*Math.cos(M),x.y+d*Math.sin(M));if(t.addMarkerAngle(E,M-A*Math.PI/2),t.addMarkerAngle(c,M-A*Math.PI),r.addPoint(c.x,c.y),null!=e){w=f>d?f:d;var P=f>d?1:f/d,D=f>d?d/f:1;e.translate(x.x,x.y),e.rotate(p),e.scale(P,D),e.arc(0,0,w,T,T+S,1-g),e.scale(1/P,1/D),e.rotate(-p),e.translate(-x.x,-x.y)}}break;case"Z":case"z":null!=e&&e.closePath(),t.current=t.start}return r},this.getMarkers=function(){for(var e=this.PathParser.getMarkerPoints(),t=this.PathParser.getMarkerAngles(),n=[],r=0;r<e.length;r++)n.push([e[r],t[r]]);return n}},n.Element.path.prototype=new n.Element.PathElementBase,n.Element.pattern=function(e){this.base=n.Element.ElementBase,this.base(e),this.createPattern=function(e,t){var r=this.attribute("width").toPixels("x",!0),i=this.attribute("height").toPixels("y",!0),o=new n.Element.svg;o.attributes.viewBox=new n.Property("viewBox",this.attribute("viewBox").value),o.attributes.width=new n.Property("width",r+"px"),o.attributes.height=new n.Property("height",i+"px"),o.attributes.transform=new n.Property("transform",this.attribute("patternTransform").value),o.children=this.children;var a=document.createElement("canvas");a.width=r,a.height=i;var s=a.getContext("2d");this.attribute("x").hasValue()&&this.attribute("y").hasValue()&&s.translate(this.attribute("x").toPixels("x",!0),this.attribute("y").toPixels("y",!0));for(var l=-1;l<=1;l++)for(var u=-1;u<=1;u++)s.save(),o.attributes.x=new n.Property("x",l*a.width),o.attributes.y=new n.Property("y",u*a.height),o.render(s),s.restore();return e.createPattern(a,"repeat")}},n.Element.pattern.prototype=new n.Element.ElementBase,n.Element.marker=function(e){this.base=n.Element.ElementBase,this.base(e),this.baseRender=this.render,this.render=function(e,t,r){e.translate(t.x,t.y),"auto"==this.attribute("orient").valueOrDefault("auto")&&e.rotate(r),"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&e.scale(e.lineWidth,e.lineWidth),e.save();var i=new n.Element.svg;i.attributes.viewBox=new n.Property("viewBox",this.attribute("viewBox").value),i.attributes.refX=new n.Property("refX",this.attribute("refX").value),i.attributes.refY=new n.Property("refY",this.attribute("refY").value),i.attributes.width=new n.Property("width",this.attribute("markerWidth").value),i.attributes.height=new n.Property("height",this.attribute("markerHeight").value),i.attributes.fill=new n.Property("fill",this.attribute("fill").valueOrDefault("black")),i.attributes.stroke=new n.Property("stroke",this.attribute("stroke").valueOrDefault("none")),i.children=this.children,i.render(e),e.restore(),"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&e.scale(1/e.lineWidth,1/e.lineWidth),"auto"==this.attribute("orient").valueOrDefault("auto")&&e.rotate(-r),e.translate(-t.x,-t.y)}},n.Element.marker.prototype=new n.Element.ElementBase,n.Element.defs=function(e){this.base=n.Element.ElementBase,this.base(e),this.render=function(e){}},n.Element.defs.prototype=new n.Element.ElementBase,n.Element.GradientBase=function(e){this.base=n.Element.ElementBase,this.base(e),this.stops=[];for(var t=0;t<this.children.length;t++){var r=this.children[t];"stop"==r.type&&this.stops.push(r)}this.getGradient=function(){},this.gradientUnits=function(){return this.attribute("gradientUnits").valueOrDefault("objectBoundingBox")},this.attributesToInherit=["gradientUnits"],this.inheritStopContainer=function(e){for(var t=0;t<this.attributesToInherit.length;t++){var n=this.attributesToInherit[t];!this.attribute(n).hasValue()&&e.attribute(n).hasValue()&&(this.attribute(n,!0).value=e.attribute(n).value)}},this.createGradient=function(e,t,r){var i=this;this.getHrefAttribute().hasValue()&&(i=this.getHrefAttribute().getDefinition(),this.inheritStopContainer(i));var o=function(e){return r.hasValue()?new n.Property("color",e).addOpacity(r).value:e},a=this.getGradient(e,t);if(null==a)return o(i.stops[i.stops.length-1].color);for(var s=0;s<i.stops.length;s++)a.addColorStop(i.stops[s].offset,o(i.stops[s].color));if(this.attribute("gradientTransform").hasValue()){var l=n.ViewPort.viewPorts[0],u=new n.Element.rect;u.attributes.x=new n.Property("x",-n.MAX_VIRTUAL_PIXELS/3),u.attributes.y=new n.Property("y",-n.MAX_VIRTUAL_PIXELS/3),u.attributes.width=new n.Property("width",n.MAX_VIRTUAL_PIXELS),u.attributes.height=new n.Property("height",n.MAX_VIRTUAL_PIXELS);var c=new n.Element.g;c.attributes.transform=new n.Property("transform",this.attribute("gradientTransform").value),c.children=[u];var f=new n.Element.svg;f.attributes.x=new n.Property("x",0),f.attributes.y=new n.Property("y",0),f.attributes.width=new n.Property("width",l.width),f.attributes.height=new n.Property("height",l.height),f.children=[c];var d=document.createElement("canvas");d.width=l.width,d.height=l.height;var p=d.getContext("2d");return p.fillStyle=a,f.render(p),p.createPattern(d,"no-repeat")}return a}},n.Element.GradientBase.prototype=new n.Element.ElementBase,n.Element.linearGradient=function(e){this.base=n.Element.GradientBase,this.base(e),this.attributesToInherit.push("x1"),this.attributesToInherit.push("y1"),this.attributesToInherit.push("x2"),this.attributesToInherit.push("y2"),this.getGradient=function(e,t){var n="objectBoundingBox"==this.gradientUnits()?t.getBoundingBox():null;this.attribute("x1").hasValue()||this.attribute("y1").hasValue()||this.attribute("x2").hasValue()||this.attribute("y2").hasValue()||(this.attribute("x1",!0).value=0,this.attribute("y1",!0).value=0,this.attribute("x2",!0).value=1,this.attribute("y2",!0).value=0);var r="objectBoundingBox"==this.gradientUnits()?n.x()+n.width()*this.attribute("x1").numValue():this.attribute("x1").toPixels("x"),i="objectBoundingBox"==this.gradientUnits()?n.y()+n.height()*this.attribute("y1").numValue():this.attribute("y1").toPixels("y"),o="objectBoundingBox"==this.gradientUnits()?n.x()+n.width()*this.attribute("x2").numValue():this.attribute("x2").toPixels("x"),a="objectBoundingBox"==this.gradientUnits()?n.y()+n.height()*this.attribute("y2").numValue():this.attribute("y2").toPixels("y");return r==o&&i==a?null:e.createLinearGradient(r,i,o,a)}},n.Element.linearGradient.prototype=new n.Element.GradientBase,n.Element.radialGradient=function(e){this.base=n.Element.GradientBase,this.base(e),this.attributesToInherit.push("cx"),this.attributesToInherit.push("cy"),this.attributesToInherit.push("r"),this.attributesToInherit.push("fx"),this.attributesToInherit.push("fy"),this.getGradient=function(e,t){var n=t.getBoundingBox();this.attribute("cx").hasValue()||(this.attribute("cx",!0).value="50%"),this.attribute("cy").hasValue()||(this.attribute("cy",!0).value="50%"),this.attribute("r").hasValue()||(this.attribute("r",!0).value="50%");var r="objectBoundingBox"==this.gradientUnits()?n.x()+n.width()*this.attribute("cx").numValue():this.attribute("cx").toPixels("x"),i="objectBoundingBox"==this.gradientUnits()?n.y()+n.height()*this.attribute("cy").numValue():this.attribute("cy").toPixels("y"),o=r,a=i;this.attribute("fx").hasValue()&&(o="objectBoundingBox"==this.gradientUnits()?n.x()+n.width()*this.attribute("fx").numValue():this.attribute("fx").toPixels("x")),this.attribute("fy").hasValue()&&(a="objectBoundingBox"==this.gradientUnits()?n.y()+n.height()*this.attribute("fy").numValue():this.attribute("fy").toPixels("y"));var s="objectBoundingBox"==this.gradientUnits()?(n.width()+n.height())/2*this.attribute("r").numValue():this.attribute("r").toPixels();return e.createRadialGradient(o,a,0,r,i,s)}},n.Element.radialGradient.prototype=new n.Element.GradientBase,n.Element.stop=function(e){this.base=n.Element.ElementBase,this.base(e),this.offset=this.attribute("offset").numValue(),this.offset<0&&(this.offset=0),this.offset>1&&(this.offset=1);var t=this.style("stop-color",!0);""==t.value&&(t.value="#000"),this.style("stop-opacity").hasValue()&&(t=t.addOpacity(this.style("stop-opacity"))),this.color=t.value},n.Element.stop.prototype=new n.Element.ElementBase,n.Element.AnimateBase=function(e){this.base=n.Element.ElementBase,this.base(e),n.Animations.push(this),this.duration=0,this.begin=this.attribute("begin").toMilliseconds(),this.maxDuration=this.begin+this.attribute("dur").toMilliseconds(),this.getProperty=function(){var e=this.attribute("attributeType").value,t=this.attribute("attributeName").value;return"CSS"==e?this.parent.style(t,!0):this.parent.attribute(t,!0)},this.initialValue=null,this.initialUnits="",this.removed=!1,this.calcValue=function(){return""},this.update=function(e){if(null==this.initialValue&&(this.initialValue=this.getProperty().value,this.initialUnits=this.getProperty().getUnits()),this.duration>this.maxDuration){if("indefinite"==this.attribute("repeatCount").value||"indefinite"==this.attribute("repeatDur").value)this.duration=0;else if("freeze"!=this.attribute("fill").valueOrDefault("remove")||this.frozen){if("remove"==this.attribute("fill").valueOrDefault("remove")&&!this.removed)return this.removed=!0,this.getProperty().value=this.parent.animationFrozen?this.parent.animationFrozenValue:this.initialValue,!0}else this.frozen=!0,this.parent.animationFrozen=!0,this.parent.animationFrozenValue=this.getProperty().value;return!1}this.duration=this.duration+e;var t=!1;if(this.begin<this.duration){var n=this.calcValue();this.attribute("type").hasValue()&&(n=this.attribute("type").value+"("+n+")"),this.getProperty().value=n,t=!0}return t},this.from=this.attribute("from"),this.to=this.attribute("to"),this.values=this.attribute("values"),this.values.hasValue()&&(this.values.value=this.values.value.split(";")),this.progress=function(){var e={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(this.values.hasValue()){var t=e.progress*(this.values.value.length-1),r=Math.floor(t),i=Math.ceil(t);e.from=new n.Property("from",parseFloat(this.values.value[r])),e.to=new n.Property("to",parseFloat(this.values.value[i])),e.progress=(t-r)/(i-r)}else e.from=this.from,e.to=this.to;return e}},n.Element.AnimateBase.prototype=new n.Element.ElementBase,n.Element.animate=function(e){this.base=n.Element.AnimateBase,this.base(e),this.calcValue=function(){var e=this.progress();return e.from.numValue()+(e.to.numValue()-e.from.numValue())*e.progress+this.initialUnits}},n.Element.animate.prototype=new n.Element.AnimateBase,n.Element.animateColor=function(e){this.base=n.Element.AnimateBase,this.base(e),this.calcValue=function(){var e=this.progress(),t=new r(e.from.value),n=new r(e.to.value);if(t.ok&&n.ok){var i=t.r+(n.r-t.r)*e.progress,o=t.g+(n.g-t.g)*e.progress,a=t.b+(n.b-t.b)*e.progress;return"rgb("+parseInt(i,10)+","+parseInt(o,10)+","+parseInt(a,10)+")"}return this.attribute("from").value}},n.Element.animateColor.prototype=new n.Element.AnimateBase,n.Element.animateTransform=function(e){this.base=n.Element.AnimateBase,this.base(e),this.calcValue=function(){for(var e=this.progress(),t=n.ToNumberArray(e.from.value),r=n.ToNumberArray(e.to.value),i="",o=0;o<t.length;o++)i+=t[o]+(r[o]-t[o])*e.progress+" ";return i}},n.Element.animateTransform.prototype=new n.Element.animate,n.Element.font=function(e){this.base=n.Element.ElementBase,this.base(e),this.horizAdvX=this.attribute("horiz-adv-x").numValue(),this.isRTL=!1,this.isArabic=!1,this.fontFace=null,this.missingGlyph=null,this.glyphs=[];for(var t=0;t<this.children.length;t++){var r=this.children[t];"font-face"==r.type?(this.fontFace=r,r.style("font-family").hasValue()&&(n.Definitions[r.style("font-family").value]=this)):"missing-glyph"==r.type?this.missingGlyph=r:"glyph"==r.type&&(""!=r.arabicForm?(this.isRTL=!0,this.isArabic=!0,void 0===this.glyphs[r.unicode]&&(this.glyphs[r.unicode]=[]),this.glyphs[r.unicode][r.arabicForm]=r):this.glyphs[r.unicode]=r)}},n.Element.font.prototype=new n.Element.ElementBase,n.Element.fontface=function(e){this.base=n.Element.ElementBase,this.base(e),this.ascent=this.attribute("ascent").value,this.descent=this.attribute("descent").value,this.unitsPerEm=this.attribute("units-per-em").numValue()},n.Element.fontface.prototype=new n.Element.ElementBase,n.Element.missingglyph=function(e){this.base=n.Element.path,this.base(e),this.horizAdvX=0},n.Element.missingglyph.prototype=new n.Element.path,n.Element.glyph=function(e){this.base=n.Element.path,this.base(e),this.horizAdvX=this.attribute("horiz-adv-x").numValue(),this.unicode=this.attribute("unicode").value,this.arabicForm=this.attribute("arabic-form").value},n.Element.glyph.prototype=new n.Element.path,n.Element.text=function(e){this.captureTextNodes=!0,this.base=n.Element.RenderedElementBase,this.base(e),this.baseSetContext=this.setContext,this.setContext=function(e){this.baseSetContext(e);var t=this.style("dominant-baseline").toTextBaseline();null==t&&(t=this.style("alignment-baseline").toTextBaseline()),null!=t&&(e.textBaseline=t)},this.getBoundingBox=function(){var e=this.attribute("x").toPixels("x"),t=this.attribute("y").toPixels("y"),r=this.parent.style("font-size").numValueOrDefault(n.Font.Parse(n.ctx.font).fontSize);return new n.BoundingBox(e,t-r,e+Math.floor(2*r/3)*this.children[0].getText().length,t)},this.renderChildren=function(e){this.x=this.attribute("x").toPixels("x"),this.y=this.attribute("y").toPixels("y"),this.attribute("dx").hasValue()&&(this.x+=this.attribute("dx").toPixels("x")),this.attribute("dy").hasValue()&&(this.y+=this.attribute("dy").toPixels("y")),this.x+=this.getAnchorDelta(e,this,0);for(var t=0;t<this.children.length;t++)this.renderChild(e,this,this,t)},this.getAnchorDelta=function(e,t,n){var r=this.style("text-anchor").valueOrDefault("start");if("start"!=r){for(var i=0,o=n;o<t.children.length;o++){var a=t.children[o];if(o>n&&a.attribute("x").hasValue())break;i+=a.measureTextRecursive(e)}return-1*("end"==r?i:i/2)}return 0},this.renderChild=function(e,t,n,r){var i=n.children[r];for(i.attribute("x").hasValue()?(i.x=i.attribute("x").toPixels("x")+t.getAnchorDelta(e,n,r),i.attribute("dx").hasValue()&&(i.x+=i.attribute("dx").toPixels("x"))):(i.attribute("dx").hasValue()&&(t.x+=i.attribute("dx").toPixels("x")),i.x=t.x),t.x=i.x+i.measureText(e),i.attribute("y").hasValue()?(i.y=i.attribute("y").toPixels("y"),i.attribute("dy").hasValue()&&(i.y+=i.attribute("dy").toPixels("y"))):(i.attribute("dy").hasValue()&&(t.y+=i.attribute("dy").toPixels("y")),i.y=t.y),t.y=i.y,i.render(e),r=0;r<i.children.length;r++)t.renderChild(e,t,i,r)}},n.Element.text.prototype=new n.Element.RenderedElementBase,n.Element.TextElementBase=function(e){this.base=n.Element.RenderedElementBase,this.base(e),this.getGlyph=function(e,t,n){var r=t[n],i=null;if(e.isArabic){var o="isolated";(0==n||" "==t[n-1])&&n<t.length-2&&" "!=t[n+1]&&(o="terminal"),n>0&&" "!=t[n-1]&&n<t.length-2&&" "!=t[n+1]&&(o="medial"),n>0&&" "!=t[n-1]&&(n==t.length-1||" "==t[n+1])&&(o="initial"),void 0!==e.glyphs[r]&&null==(i=e.glyphs[r][o])&&"glyph"==e.glyphs[r].type&&(i=e.glyphs[r])}else i=e.glyphs[r];return null==i&&(i=e.missingGlyph),i},this.renderChildren=function(e){var t=this.parent.style("font-family").getDefinition();if(null==t)""!=e.fillStyle&&e.fillText(n.compressSpaces(this.getText()),this.x,this.y),""!=e.strokeStyle&&e.strokeText(n.compressSpaces(this.getText()),this.x,this.y);else{var r=this.parent.style("font-size").numValueOrDefault(n.Font.Parse(n.ctx.font).fontSize),i=this.parent.style("font-style").valueOrDefault(n.Font.Parse(n.ctx.font).fontStyle),o=this.getText();t.isRTL&&(o=o.split("").reverse().join(""));for(var a=n.ToNumberArray(this.parent.attribute("dx").value),s=0;s<o.length;s++){var l=this.getGlyph(t,o,s),u=r/t.fontFace.unitsPerEm;e.translate(this.x,this.y),e.scale(u,-u);var c=e.lineWidth;e.lineWidth=e.lineWidth*t.fontFace.unitsPerEm/r,"italic"==i&&e.transform(1,0,.4,1,0,0),l.render(e),"italic"==i&&e.transform(1,0,-.4,1,0,0),e.lineWidth=c,e.scale(1/u,-1/u),e.translate(-this.x,-this.y),this.x+=r*(l.horizAdvX||t.horizAdvX)/t.fontFace.unitsPerEm,void 0===a[s]||isNaN(a[s])||(this.x+=a[s])}}},this.getText=function(){},this.measureTextRecursive=function(e){for(var t=this.measureText(e),n=0;n<this.children.length;n++)t+=this.children[n].measureTextRecursive(e);return t},this.measureText=function(e){var t=this.parent.style("font-family").getDefinition();if(null!=t){var r=this.parent.style("font-size").numValueOrDefault(n.Font.Parse(n.ctx.font).fontSize),i=0,o=this.getText();t.isRTL&&(o=o.split("").reverse().join(""));for(var a=n.ToNumberArray(this.parent.attribute("dx").value),s=0;s<o.length;s++)i+=(this.getGlyph(t,o,s).horizAdvX||t.horizAdvX)*r/t.fontFace.unitsPerEm,void 0===a[s]||isNaN(a[s])||(i+=a[s]);return i}var l=n.compressSpaces(this.getText());if(!e.measureText)return 10*l.length;e.save(),this.setContext(e);var u=e.measureText(l).width;return e.restore(),u}},n.Element.TextElementBase.prototype=new n.Element.RenderedElementBase,n.Element.tspan=function(e){this.captureTextNodes=!0,this.base=n.Element.TextElementBase,this.base(e),this.text=n.compressSpaces(e.value||e.text||e.textContent||""),this.getText=function(){return this.children.length>0?"":this.text}},n.Element.tspan.prototype=new n.Element.TextElementBase,n.Element.tref=function(e){this.base=n.Element.TextElementBase,this.base(e),this.getText=function(){var e=this.getHrefAttribute().getDefinition();if(null!=e)return e.children[0].getText()}},n.Element.tref.prototype=new n.Element.TextElementBase,n.Element.a=function(e){this.base=n.Element.TextElementBase,this.base(e),this.hasText=e.childNodes.length>0;for(var t=0;t<e.childNodes.length;t++)3!=e.childNodes[t].nodeType&&(this.hasText=!1);this.text=this.hasText?e.childNodes[0].value:"",this.getText=function(){return this.text},this.baseRenderChildren=this.renderChildren,this.renderChildren=function(e){if(this.hasText){this.baseRenderChildren(e);var t=new n.Property("fontSize",n.Font.Parse(n.ctx.font).fontSize);n.Mouse.checkBoundingBox(this,new n.BoundingBox(this.x,this.y-t.toPixels("y"),this.x+this.measureText(e),this.y))}else if(this.children.length>0){var r=new n.Element.g;r.children=this.children,r.parent=this,r.render(e)}},this.onclick=function(){window.open(this.getHrefAttribute().value)},this.onmousemove=function(){n.ctx.canvas.style.cursor="pointer"}},n.Element.a.prototype=new n.Element.TextElementBase,n.Element.image=function(e){this.base=n.Element.RenderedElementBase,this.base(e);var t=this.getHrefAttribute().value;if(""!=t){var r=t.match(/\.svg$/);if(n.Images.push(this),this.loaded=!1,r)this.img=n.ajax(t),this.loaded=!0;else{this.img=document.createElement("img"),1==n.opts.useCORS&&(this.img.crossOrigin="Anonymous");var i=this;this.img.onload=function(){i.loaded=!0},this.img.onerror=function(){n.log('ERROR: image "'+t+'" not found'),i.loaded=!0},this.img.src=t}this.renderChildren=function(e){var t=this.attribute("x").toPixels("x"),i=this.attribute("y").toPixels("y"),o=this.attribute("width").toPixels("x"),a=this.attribute("height").toPixels("y");0!=o&&0!=a&&(e.save(),r?e.drawSvg(this.img,t,i,o,a):(e.translate(t,i),n.AspectRatio(e,this.attribute("preserveAspectRatio").value,o,this.img.width,a,this.img.height,0,0),e.drawImage(this.img,0,0)),e.restore())},this.getBoundingBox=function(){var e=this.attribute("x").toPixels("x"),t=this.attribute("y").toPixels("y"),r=this.attribute("width").toPixels("x"),i=this.attribute("height").toPixels("y");return new n.BoundingBox(e,t,e+r,t+i)}}},n.Element.image.prototype=new n.Element.RenderedElementBase,n.Element.g=function(e){this.base=n.Element.RenderedElementBase,this.base(e),this.getBoundingBox=function(){for(var e=new n.BoundingBox,t=0;t<this.children.length;t++)e.addBoundingBox(this.children[t].getBoundingBox());return e}},n.Element.g.prototype=new n.Element.RenderedElementBase,n.Element.symbol=function(e){this.base=n.Element.RenderedElementBase,this.base(e),this.render=function(e){}},n.Element.symbol.prototype=new n.Element.RenderedElementBase,n.Element.style=function(e){this.base=n.Element.ElementBase,this.base(e);for(var t="",r=0;r<e.childNodes.length;r++)t+=e.childNodes[r].data;t=t.replace(/(\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"");var i=(t=n.compressSpaces(t)).split("}");for(r=0;r<i.length;r++)if(""!=n.trim(i[r]))for(var a=i[r].split("{"),s=a[0].split(","),l=a[1].split(";"),u=0;u<s.length;u++){var c=n.trim(s[u]);if(""!=c){for(var f=n.Styles[c]||{},d=0;d<l.length;d++){var p=l[d].indexOf(":"),h=l[d].substr(0,p),g=l[d].substr(p+1,l[d].length-p);null!=h&&null!=g&&(f[n.trim(h)]=new n.Property(n.trim(h),n.trim(g)))}if(n.Styles[c]=f,n.StylesSpecificity[c]=o(c),"@font-face"==c)for(var m=f["font-family"].value.replace(/"/g,""),y=f.src.value.split(","),v=0;v<y.length;v++)if(y[v].indexOf('format("svg")')>0)for(var b=y[v].indexOf("url"),x=y[v].indexOf(")",b),_=y[v].substr(b+5,x-b-6),w=n.parseXml(n.ajax(_)).getElementsByTagName("font"),k=0;k<w.length;k++){var T=n.CreateElement(w[k]);n.Definitions[m]=T}}}},n.Element.style.prototype=new n.Element.ElementBase,n.Element.use=function(e){this.base=n.Element.RenderedElementBase,this.base(e),this.baseSetContext=this.setContext,this.setContext=function(e){this.baseSetContext(e),this.attribute("x").hasValue()&&e.translate(this.attribute("x").toPixels("x"),0),this.attribute("y").hasValue()&&e.translate(0,this.attribute("y").toPixels("y"))};var t=this.getHrefAttribute().getDefinition();this.path=function(e){null!=t&&t.path(e)},this.getBoundingBox=function(){if(null!=t)return t.getBoundingBox()},this.renderChildren=function(e){if(null!=t){var r=t;"symbol"==t.type&&((r=new n.Element.svg).type="svg",r.attributes.viewBox=new n.Property("viewBox",t.attribute("viewBox").value),r.attributes.preserveAspectRatio=new n.Property("preserveAspectRatio",t.attribute("preserveAspectRatio").value),r.attributes.overflow=new n.Property("overflow",t.attribute("overflow").value),r.children=t.children),"svg"==r.type&&(this.attribute("width").hasValue()&&(r.attributes.width=new n.Property("width",this.attribute("width").value)),this.attribute("height").hasValue()&&(r.attributes.height=new n.Property("height",this.attribute("height").value)));var i=r.parent;r.parent=null,r.render(e),r.parent=i}}},n.Element.use.prototype=new n.Element.RenderedElementBase,n.Element.mask=function(e){this.base=n.Element.ElementBase,this.base(e),this.apply=function(e,t){var r=this.attribute("x").toPixels("x"),i=this.attribute("y").toPixels("y"),o=this.attribute("width").toPixels("x"),a=this.attribute("height").toPixels("y");if(0==o&&0==a){for(var s=new n.BoundingBox,l=0;l<this.children.length;l++)s.addBoundingBox(this.children[l].getBoundingBox());r=Math.floor(s.x1),i=Math.floor(s.y1),o=Math.floor(s.width()),a=Math.floor(s.height())}var u=t.attribute("mask").value;t.attribute("mask").value="";var c=document.createElement("canvas");c.width=r+o,c.height=i+a;var f=c.getContext("2d");this.renderChildren(f);var d=document.createElement("canvas");d.width=r+o,d.height=i+a;var p=d.getContext("2d");t.render(p),p.globalCompositeOperation="destination-in",p.fillStyle=f.createPattern(c,"no-repeat"),p.fillRect(0,0,r+o,i+a),e.fillStyle=p.createPattern(d,"no-repeat"),e.fillRect(0,0,r+o,i+a),t.attribute("mask").value=u},this.render=function(e){}},n.Element.mask.prototype=new n.Element.ElementBase,n.Element.clipPath=function(e){this.base=n.Element.ElementBase,this.base(e),this.apply=function(e){var t=CanvasRenderingContext2D.prototype.beginPath;CanvasRenderingContext2D.prototype.beginPath=function(){};var r=CanvasRenderingContext2D.prototype.closePath;CanvasRenderingContext2D.prototype.closePath=function(){},t.call(e);for(var i=0;i<this.children.length;i++){var o=this.children[i];if(void 0!==o.path){var a=null;o.style("transform",!1,!0).hasValue()&&(a=new n.Transform(o.style("transform",!1,!0).value)).apply(e),o.path(e),CanvasRenderingContext2D.prototype.closePath=r,a&&a.unapply(e)}}r.call(e),e.clip(),CanvasRenderingContext2D.prototype.beginPath=t,CanvasRenderingContext2D.prototype.closePath=r},this.render=function(e){}},n.Element.clipPath.prototype=new n.Element.ElementBase,n.Element.filter=function(e){this.base=n.Element.ElementBase,this.base(e),this.apply=function(e,t){var n=t.getBoundingBox(),r=Math.floor(n.x1),i=Math.floor(n.y1),o=Math.floor(n.width()),a=Math.floor(n.height()),s=t.style("filter").value;t.style("filter").value="";for(var l=0,u=0,c=0;c<this.children.length;c++){var f=this.children[c].extraFilterDistance||0;l=Math.max(l,f),u=Math.max(u,f)}var d=document.createElement("canvas");d.width=o+2*l,d.height=a+2*u;var p=d.getContext("2d");for(p.translate(-r+l,-i+u),t.render(p),c=0;c<this.children.length;c++)"function"==typeof this.children[c].apply&&this.children[c].apply(p,0,0,o+2*l,a+2*u);e.drawImage(d,0,0,o+2*l,a+2*u,r-l,i-u,o+2*l,a+2*u),t.style("filter",!0).value=s},this.render=function(e){}},n.Element.filter.prototype=new n.Element.ElementBase,n.Element.feMorphology=function(e){this.base=n.Element.ElementBase,this.base(e),this.apply=function(e,t,n,r,i){}},n.Element.feMorphology.prototype=new n.Element.ElementBase,n.Element.feComposite=function(e){this.base=n.Element.ElementBase,this.base(e),this.apply=function(e,t,n,r,i){}},n.Element.feComposite.prototype=new n.Element.ElementBase,n.Element.feColorMatrix=function(e){this.base=n.Element.ElementBase,this.base(e);var t=n.ToNumberArray(this.attribute("values").value);switch(this.attribute("type").valueOrDefault("matrix")){case"saturate":var r=t[0];t=[.213+.787*r,.715-.715*r,.072-.072*r,0,0,.213-.213*r,.715+.285*r,.072-.072*r,0,0,.213-.213*r,.715-.715*r,.072+.928*r,0,0,0,0,0,1,0,0,0,0,0,1];break;case"hueRotate":var i=t[0]*Math.PI/180,o=function(e,t,n){return e+Math.cos(i)*t+Math.sin(i)*n};t=[o(.213,.787,-.213),o(.715,-.715,-.715),o(.072,-.072,.928),0,0,o(.213,-.213,.143),o(.715,.285,.14),o(.072,-.072,-.283),0,0,o(.213,-.213,-.787),o(.715,-.715,.715),o(.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break;case"luminanceToAlpha":t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1]}function a(e,t,n,r,i,o){return e[n*r*4+4*t+o]}function s(e,t,n,r,i,o,a){e[n*r*4+4*t+o]=a}function l(e,n){var r=t[e];return r*(r<0?n-255:n)}this.apply=function(e,t,n,r,i){var o=e.getImageData(0,0,r,i);for(n=0;n<i;n++)for(t=0;t<r;t++){var u=a(o.data,t,n,r,0,0),c=a(o.data,t,n,r,0,1),f=a(o.data,t,n,r,0,2),d=a(o.data,t,n,r,0,3);s(o.data,t,n,r,0,0,l(0,u)+l(1,c)+l(2,f)+l(3,d)+l(4,1)),s(o.data,t,n,r,0,1,l(5,u)+l(6,c)+l(7,f)+l(8,d)+l(9,1)),s(o.data,t,n,r,0,2,l(10,u)+l(11,c)+l(12,f)+l(13,d)+l(14,1)),s(o.data,t,n,r,0,3,l(15,u)+l(16,c)+l(17,f)+l(18,d)+l(19,1))}e.clearRect(0,0,r,i),e.putImageData(o,0,0)}},n.Element.feColorMatrix.prototype=new n.Element.ElementBase,n.Element.feGaussianBlur=function(e){this.base=n.Element.ElementBase,this.base(e),this.blurRadius=Math.floor(this.attribute("stdDeviation").numValue()),this.extraFilterDistance=this.blurRadius,this.apply=function(e,t,r,o,a){void 0!==i.canvasRGBA?(e.canvas.id=n.UniqueId(),e.canvas.style.display="none",document.body.appendChild(e.canvas),i.canvasRGBA(e.canvas.id,t,r,o,a,this.blurRadius),document.body.removeChild(e.canvas)):n.log("ERROR: StackBlur.js must be included for blur to work")}},n.Element.feGaussianBlur.prototype=new n.Element.ElementBase,n.Element.title=function(e){},n.Element.title.prototype=new n.Element.ElementBase,n.Element.desc=function(e){},n.Element.desc.prototype=new n.Element.ElementBase,n.Element.MISSING=function(e){n.log("ERROR: Element '"+e.nodeName+"' not yet implemented.")},n.Element.MISSING.prototype=new n.Element.ElementBase,n.CreateElement=function(e){var t=e.nodeName.replace(/^[^:]+:/,"");t=t.replace(/\-/g,"");var r=null;return(r=void 0!==n.Element[t]?new n.Element[t](e):new n.Element.MISSING(e)).type=e.nodeName,r},n.load=function(e,t){n.loadXml(e,n.ajax(t))},n.loadXml=function(e,t){n.loadXmlDoc(e,n.parseXml(t))},n.loadXmlDoc=function(e,t){n.init(e);var r=function(t){for(var n=e.canvas;n;)t.x-=n.offsetLeft,t.y-=n.offsetTop,n=n.offsetParent;return window.scrollX&&(t.x+=window.scrollX),window.scrollY&&(t.y+=window.scrollY),t};1!=n.opts.ignoreMouse&&(e.canvas.onclick=function(e){var t=r(new n.Point(null!=e?e.clientX:event.clientX,null!=e?e.clientY:event.clientY));n.Mouse.onclick(t.x,t.y)},e.canvas.onmousemove=function(e){var t=r(new n.Point(null!=e?e.clientX:event.clientX,null!=e?e.clientY:event.clientY));n.Mouse.onmousemove(t.x,t.y)});var i=n.CreateElement(t.documentElement);i.root=!0,i.addStylesFromStyleDefinition();var o=!0,a=function(){n.ViewPort.Clear(),e.canvas.parentNode&&n.ViewPort.SetCurrent(e.canvas.parentNode.clientWidth,e.canvas.parentNode.clientHeight),1!=n.opts.ignoreDimensions&&(i.style("width").hasValue()&&(e.canvas.width=i.style("width").toPixels("x"),e.canvas.style.width=e.canvas.width+"px"),i.style("height").hasValue()&&(e.canvas.height=i.style("height").toPixels("y"),e.canvas.style.height=e.canvas.height+"px"));var r=e.canvas.clientWidth||e.canvas.width,a=e.canvas.clientHeight||e.canvas.height;if(1==n.opts.ignoreDimensions&&i.style("width").hasValue()&&i.style("height").hasValue()&&(r=i.style("width").toPixels("x"),a=i.style("height").toPixels("y")),n.ViewPort.SetCurrent(r,a),null!=n.opts.offsetX&&(i.attribute("x",!0).value=n.opts.offsetX),null!=n.opts.offsetY&&(i.attribute("y",!0).value=n.opts.offsetY),null!=n.opts.scaleWidth||null!=n.opts.scaleHeight){var s=null,l=null,u=n.ToNumberArray(i.attribute("viewBox").value);null!=n.opts.scaleWidth&&(i.attribute("width").hasValue()?s=i.attribute("width").toPixels("x")/n.opts.scaleWidth:isNaN(u[2])||(s=u[2]/n.opts.scaleWidth)),null!=n.opts.scaleHeight&&(i.attribute("height").hasValue()?l=i.attribute("height").toPixels("y")/n.opts.scaleHeight:isNaN(u[3])||(l=u[3]/n.opts.scaleHeight)),null==s&&(s=l),null==l&&(l=s),i.attribute("width",!0).value=n.opts.scaleWidth,i.attribute("height",!0).value=n.opts.scaleHeight,i.style("transform",!0,!0).value+=" scale("+1/s+","+1/l+")"}1!=n.opts.ignoreClear&&e.clearRect(0,0,r,a),i.render(e),o&&(o=!1,"function"==typeof n.opts.renderCallback&&n.opts.renderCallback(t))},s=!0;n.ImagesLoaded()&&(s=!1,a()),n.intervalID=setInterval((function(){var e=!1;if(s&&n.ImagesLoaded()&&(s=!1,e=!0),1!=n.opts.ignoreMouse&&(e|=n.Mouse.hasEvents()),1!=n.opts.ignoreAnimation)for(var t=0;t<n.Animations.length;t++)e|=n.Animations[t].update(1e3/n.FRAMERATE);"function"==typeof n.opts.forceRedraw&&1==n.opts.forceRedraw()&&(e=!0),e&&(a(),n.Mouse.runEvents())}),1e3/n.FRAMERATE)},n.stop=function(){n.intervalID&&clearInterval(n.intervalID)},n.Mouse=new function(){this.events=[],this.hasEvents=function(){return 0!=this.events.length},this.onclick=function(e,t){this.events.push({type:"onclick",x:e,y:t,run:function(e){e.onclick&&e.onclick()}})},this.onmousemove=function(e,t){this.events.push({type:"onmousemove",x:e,y:t,run:function(e){e.onmousemove&&e.onmousemove()}})},this.eventElements=[],this.checkPath=function(e,t){for(var n=0;n<this.events.length;n++){var r=this.events[n];t.isPointInPath&&t.isPointInPath(r.x,r.y)&&(this.eventElements[n]=e)}},this.checkBoundingBox=function(e,t){for(var n=0;n<this.events.length;n++){var r=this.events[n];t.isPointInBox(r.x,r.y)&&(this.eventElements[n]=e)}},this.runEvents=function(){n.ctx.canvas.style.cursor="";for(var e=0;e<this.events.length;e++)for(var t=this.events[e],r=this.eventElements[e];r;)t.run(r),r=r.parent;this.events=[],this.eventElements=[]}},n}(a||{});1==t.childNodes.length&&"OBJECT"==t.childNodes[0].nodeName||(t.svg=s);var l=t.getContext("2d");void 0!==n.documentElement?s.loadXmlDoc(l,n):"<"==n.substr(0,1)?s.loadXml(l,n):s.load(l,n)}else for(var u=document.querySelectorAll("svg"),c=0;c<u.length;c++){var f=u[c],d=document.createElement("canvas");d.width=f.clientWidth,d.height=f.clientHeight,f.parentNode.insertBefore(d,f),f.parentNode.removeChild(f);var p=document.createElement("div");p.appendChild(f),e(d,p.innerHTML)}}},59266:(e,t,n)=>{function r(e){this.options=e||{locator:{}}}function i(){this.cdata=!1}function o(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function a(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function s(e,t,n){return"string"==typeof e?e.substr(t,n):e.length>=t+n||t?new java.lang.String(e,t,n)+"":e}function l(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}r.prototype.parseFromString=function(e,t){var n=this.options,r=new u,o=n.domBuilder||new i,s=n.errorHandler,l=n.locator,c=n.xmlns||{},f={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return l&&o.setDocumentLocator(l),r.errorHandler=function(e,t,n){if(!e){if(t instanceof i)return t;e=t}var r={},o=e instanceof Function;function s(t){var i=e[t];!i&&o&&(i=2==e.length?function(n){e(t,n)}:e),r[t]=i&&function(e){i("[xmldom "+t+"]\t"+e+a(n))}||function(){}}return n=n||{},s("warning"),s("error"),s("fatalError"),r}(s,o,l),r.domBuilder=n.domBuilder||o,/\/x?html?$/.test(t)&&(f.nbsp=" ",f.copy="©",c[""]="http://www.w3.org/1999/xhtml"),c.xml=c.xml||"http://www.w3.org/XML/1998/namespace",e?r.parse(e,c,f):r.errorHandler.error("invalid doc source"),o.doc},i.prototype={startDocument:function(){this.doc=(new c).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,n,r){var i=this.doc,a=i.createElementNS(e,n||t),s=r.length;l(this,a),this.currentElement=a,this.locator&&o(this.locator,a);for(var u=0;u<s;u++){e=r.getURI(u);var c=r.getValue(u),f=(n=r.getQName(u),i.createAttributeNS(e,n));this.locator&&o(r.getLocator(u),f),f.value=f.nodeValue=c,a.setAttributeNode(f)}},endElement:function(e,t,n){var r=this.currentElement;r.tagName,this.currentElement=r.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var n=this.doc.createProcessingInstruction(e,t);this.locator&&o(this.locator,n),l(this,n)},ignorableWhitespace:function(e,t,n){},characters:function(e,t,n){if(e=s.apply(this,arguments)){if(this.cdata)var r=this.doc.createCDATASection(e);else r=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(e)&&this.doc.appendChild(r),this.locator&&o(this.locator,r)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,n){e=s.apply(this,arguments);var r=this.doc.createComment(e);this.locator&&o(this.locator,r),l(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,n){var r=this.doc.implementation;if(r&&r.createDocumentType){var i=r.createDocumentType(e,t,n);this.locator&&o(this.locator,i),l(this,i)}},warning:function(e){console.warn("[xmldom warning]\t"+e,a(this.locator))},error:function(e){console.error("[xmldom error]\t"+e,a(this.locator))},fatalError:function(e){throw console.error("[xmldom fatalError]\t"+e,a(this.locator)),e}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(e){i.prototype[e]=function(){return null}}));var u=n(51378).G,c=t.DOMImplementation=n(57439).DOMImplementation;t.XMLSerializer=n(57439).XMLSerializer,t.DOMParser=r},57439:(e,t)=>{function n(e,t){for(var n in e)t[n]=e[n]}function r(e,t){var r=e.prototype;if(Object.create){var i=Object.create(t.prototype);r.__proto__=i}if(!(r instanceof t)){function o(){}o.prototype=t.prototype,n(r,o=new o),e.prototype=r=o}r.constructor!=e&&("function"!=typeof e&&console.error("unknow Class:"+e),r.constructor=e)}var i={},o=i.ELEMENT_NODE=1,a=i.ATTRIBUTE_NODE=2,s=i.TEXT_NODE=3,l=i.CDATA_SECTION_NODE=4,u=i.ENTITY_REFERENCE_NODE=5,c=i.ENTITY_NODE=6,f=i.PROCESSING_INSTRUCTION_NODE=7,d=i.COMMENT_NODE=8,p=i.DOCUMENT_NODE=9,h=i.DOCUMENT_TYPE_NODE=10,g=i.DOCUMENT_FRAGMENT_NODE=11,m=i.NOTATION_NODE=12,y={},v={},b=(y.INDEX_SIZE_ERR=(v[1]="Index size error",1),y.DOMSTRING_SIZE_ERR=(v[2]="DOMString size error",2),y.HIERARCHY_REQUEST_ERR=(v[3]="Hierarchy request error",3)),x=(y.WRONG_DOCUMENT_ERR=(v[4]="Wrong document",4),y.INVALID_CHARACTER_ERR=(v[5]="Invalid character",5),y.NO_DATA_ALLOWED_ERR=(v[6]="No data allowed",6),y.NO_MODIFICATION_ALLOWED_ERR=(v[7]="No modification allowed",7),y.NOT_FOUND_ERR=(v[8]="Not found",8)),_=(y.NOT_SUPPORTED_ERR=(v[9]="Not supported",9),y.INUSE_ATTRIBUTE_ERR=(v[10]="Attribute in use",10));function w(e,t){if(t instanceof Error)var n=t;else n=this,Error.call(this,v[e]),this.message=v[e],Error.captureStackTrace&&Error.captureStackTrace(this,w);return n.code=e,t&&(this.message=this.message+": "+t),n}function k(){}function T(e,t){this._node=e,this._refresh=t,C(this)}function C(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!=t){var r=e._refresh(e._node);re(e,"length",r.length),n(r,e),e._inc=t}}function O(){}function S(e,t){for(var n=e.length;n--;)if(e[n]===t)return n}function A(e,t,n,r){if(r?t[S(t,r)]=n:t[t.length++]=n,e){n.ownerElement=e;var i=e.ownerDocument;i&&(r&&I(i,e,r),function(e,t,n){e&&e._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&(t._nsMap[n.prefix?n.localName:""]=n.value)}(i,e,n))}}function M(e,t,n){var r=S(t,n);if(!(r>=0))throw w(x,new Error(e.tagName+"@"+n));for(var i=t.length-1;r<i;)t[r]=t[++r];if(t.length=i,e){var o=e.ownerDocument;o&&(I(o,e,n),n.ownerElement=null)}}function E(e){if(this._features={},e)for(var t in e)this._features=e[t]}function P(){}function D(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function L(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(L(e,t))return!0}while(e=e.nextSibling)}function R(){}function I(e,t,n,r){e&&e._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&delete t._nsMap[n.prefix?n.localName:""]}function N(e,t,n){if(e&&e._inc){e._inc++;var r=t.childNodes;if(n)r[r.length++]=n;else{for(var i=t.firstChild,o=0;i;)r[o++]=i,i=i.nextSibling;r.length=o}}}function j(e,t){var n=t.previousSibling,r=t.nextSibling;return n?n.nextSibling=r:e.firstChild=r,r?r.previousSibling=n:e.lastChild=n,N(e.ownerDocument,e),t}function z(e,t,n){var r=t.parentNode;if(r&&r.removeChild(t),t.nodeType===g){var i=t.firstChild;if(null==i)return t;var o=t.lastChild}else i=o=t;var a=n?n.previousSibling:e.lastChild;i.previousSibling=a,o.nextSibling=n,a?a.nextSibling=i:e.firstChild=i,null==n?e.lastChild=o:n.previousSibling=o;do{i.parentNode=e}while(i!==o&&(i=i.nextSibling));return N(e.ownerDocument||e,e),t.nodeType==g&&(t.firstChild=t.lastChild=null),t}function q(){this._nsMap={}}function F(){}function B(){}function H(){}function U(){}function V(){}function W(){}function G(){}function K(){}function Y(){}function Z(){}function X(){}function $(){}function J(e,t){var n=[],r=9==this.nodeType?this.documentElement:this,i=r.prefix,o=r.namespaceURI;if(o&&null==i&&null==(i=r.lookupPrefix(o)))var a=[{namespace:o,prefix:null}];return ee(this,n,e,t,a),n.join("")}function Q(e,t,n){var r=e.prefix||"",i=e.namespaceURI;if(!r&&!i)return!1;if("xml"===r&&"http://www.w3.org/XML/1998/namespace"===i||"http://www.w3.org/2000/xmlns/"==i)return!1;for(var o=n.length;o--;){var a=n[o];if(a.prefix==r)return a.namespace!=i}return!0}function ee(e,t,n,r,i){if(r){if(!(e=r(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case o:i||(i=[]),i.length;var c=e.attributes,m=c.length,y=e.firstChild,v=e.tagName;n="http://www.w3.org/1999/xhtml"===e.namespaceURI||n,t.push("<",v);for(var b=0;b<m;b++)"xmlns"==(x=c.item(b)).prefix?i.push({prefix:x.localName,namespace:x.value}):"xmlns"==x.nodeName&&i.push({prefix:"",namespace:x.value});for(b=0;b<m;b++){var x;if(Q(x=c.item(b),0,i)){var _=x.prefix||"",w=x.namespaceURI,k=_?" xmlns:"+_:" xmlns";t.push(k,'="',w,'"'),i.push({prefix:_,namespace:w})}ee(x,t,n,r,i)}if(Q(e,0,i)&&(_=e.prefix||"",w=e.namespaceURI,k=_?" xmlns:"+_:" xmlns",t.push(k,'="',w,'"'),i.push({prefix:_,namespace:w})),y||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(v)){if(t.push(">"),n&&/^script$/i.test(v))for(;y;)y.data?t.push(y.data):ee(y,t,n,r,i),y=y.nextSibling;else for(;y;)ee(y,t,n,r,i),y=y.nextSibling;t.push("</",v,">")}else t.push("/>");return;case p:case g:for(y=e.firstChild;y;)ee(y,t,n,r,i),y=y.nextSibling;return;case a:return t.push(" ",e.name,'="',e.value.replace(/[<&"]/g,D),'"');case s:return t.push(e.data.replace(/[<&]/g,D));case l:return t.push("<![CDATA[",e.data,"]]>");case d:return t.push("\x3c!--",e.data,"--\x3e");case h:var T=e.publicId,C=e.systemId;if(t.push("<!DOCTYPE ",e.name),T)t.push(' PUBLIC "',T),C&&"."!=C&&t.push('" "',C),t.push('">');else if(C&&"."!=C)t.push(' SYSTEM "',C,'">');else{var O=e.internalSubset;O&&t.push(" [",O,"]"),t.push(">")}return;case f:return t.push("<?",e.target," ",e.data,"?>");case u:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function te(e,t,n){var r;switch(t.nodeType){case o:(r=t.cloneNode(!1)).ownerDocument=e;case g:break;case a:n=!0}if(r||(r=t.cloneNode(!1)),r.ownerDocument=e,r.parentNode=null,n)for(var i=t.firstChild;i;)r.appendChild(te(e,i,n)),i=i.nextSibling;return r}function ne(e,t,n){var r=new t.constructor;for(var i in t){var s=t[i];"object"!=typeof s&&s!=r[i]&&(r[i]=s)}switch(t.childNodes&&(r.childNodes=new k),r.ownerDocument=e,r.nodeType){case o:var l=t.attributes,u=r.attributes=new O,c=l.length;u._ownerElement=r;for(var f=0;f<c;f++)r.setAttributeNode(ne(e,l.item(f),!0));break;case a:n=!0}if(n)for(var d=t.firstChild;d;)r.appendChild(ne(e,d,n)),d=d.nextSibling;return r}function re(e,t,n){e[t]=n}y.INVALID_STATE_ERR=(v[11]="Invalid state",11),y.SYNTAX_ERR=(v[12]="Syntax error",12),y.INVALID_MODIFICATION_ERR=(v[13]="Invalid modification",13),y.NAMESPACE_ERR=(v[14]="Invalid namespace",14),y.INVALID_ACCESS_ERR=(v[15]="Invalid access",15),w.prototype=Error.prototype,n(y,w),k.prototype={length:0,item:function(e){return this[e]||null},toString:function(e,t){for(var n=[],r=0;r<this.length;r++)ee(this[r],n,e,t);return n.join("")}},T.prototype.item=function(e){return C(this),this[e]},r(T,k),O.prototype={length:0,item:k.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var n=this[t];if(n.nodeName==e)return n}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new w(_);var n=this.getNamedItem(e.nodeName);return A(this._ownerElement,this,e,n),n},setNamedItemNS:function(e){var t,n=e.ownerElement;if(n&&n!=this._ownerElement)throw new w(_);return t=this.getNamedItemNS(e.namespaceURI,e.localName),A(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return M(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var n=this.getNamedItemNS(e,t);return M(this._ownerElement,this,n),n},getNamedItemNS:function(e,t){for(var n=this.length;n--;){var r=this[n];if(r.localName==t&&r.namespaceURI==e)return r}return null}},E.prototype={hasFeature:function(e,t){var n=this._features[e.toLowerCase()];return!(!n||t&&!(t in n))},createDocument:function(e,t,n){var r=new R;if(r.implementation=this,r.childNodes=new k,r.doctype=n,n&&r.appendChild(n),t){var i=r.createElementNS(e,t);r.appendChild(i)}return r},createDocumentType:function(e,t,n){var r=new W;return r.name=e,r.nodeName=e,r.publicId=t,r.systemId=n,r}},P.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return z(this,e,t)},replaceChild:function(e,t){this.insertBefore(e,t),t&&this.removeChild(t)},removeChild:function(e){return j(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return ne(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==s&&e.nodeType==s?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var n=t._nsMap;if(n)for(var r in n)if(n[r]==e)return r;t=t.nodeType==a?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var n=t._nsMap;if(n&&e in n)return n[e];t=t.nodeType==a?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},n(i,P),n(i,P.prototype),R.prototype={nodeName:"#document",nodeType:p,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==g){for(var n=e.firstChild;n;){var r=n.nextSibling;this.insertBefore(n,t),n=r}return e}return null==this.documentElement&&e.nodeType==o&&(this.documentElement=e),z(this,e,t),e.ownerDocument=this,e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),j(this,e)},importNode:function(e,t){return te(this,e,t)},getElementById:function(e){var t=null;return L(this.documentElement,(function(n){if(n.nodeType==o&&n.getAttribute("id")==e)return t=n,!0})),t},createElement:function(e){var t=new q;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.childNodes=new k,(t.attributes=new O)._ownerElement=t,t},createDocumentFragment:function(){var e=new Z;return e.ownerDocument=this,e.childNodes=new k,e},createTextNode:function(e){var t=new H;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new U;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new V;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var n=new X;return n.ownerDocument=this,n.tagName=n.target=e,n.nodeValue=n.data=t,n},createAttribute:function(e){var t=new F;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new Y;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var n=new q,r=t.split(":"),i=n.attributes=new O;return n.childNodes=new k,n.ownerDocument=this,n.nodeName=t,n.tagName=t,n.namespaceURI=e,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,i._ownerElement=n,n},createAttributeNS:function(e,t){var n=new F,r=t.split(":");return n.ownerDocument=this,n.nodeName=t,n.name=t,n.namespaceURI=e,n.specified=!0,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,n}},r(R,P),q.prototype={nodeType:o,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var n=this.ownerDocument.createAttribute(e);n.value=n.nodeValue=""+t,this.setAttributeNode(n)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===g?this.insertBefore(e,null):function(e,t){var n=t.parentNode;if(n){var r=e.lastChild;n.removeChild(t),r=e.lastChild}return r=e.lastChild,t.parentNode=e,t.previousSibling=r,t.nextSibling=null,r?r.nextSibling=t:e.firstChild=t,e.lastChild=t,N(e.ownerDocument,e,t),t}(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);n&&this.removeAttributeNode(n)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);return n&&n.value||""},setAttributeNS:function(e,t,n){var r=this.ownerDocument.createAttributeNS(e,t);r.value=r.nodeValue=""+n,this.setAttributeNode(r)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new T(this,(function(t){var n=[];return L(t,(function(r){r===t||r.nodeType!=o||"*"!==e&&r.tagName!=e||n.push(r)})),n}))},getElementsByTagNameNS:function(e,t){return new T(this,(function(n){var r=[];return L(n,(function(i){i===n||i.nodeType!==o||"*"!==e&&i.namespaceURI!==e||"*"!==t&&i.localName!=t||r.push(i)})),r}))}},R.prototype.getElementsByTagName=q.prototype.getElementsByTagName,R.prototype.getElementsByTagNameNS=q.prototype.getElementsByTagNameNS,r(q,P),F.prototype.nodeType=a,r(F,P),B.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(v[b])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,n){n=this.data.substring(0,e)+n+this.data.substring(e+t),this.nodeValue=this.data=n,this.length=n.length}},r(B,P),H.prototype={nodeName:"#text",nodeType:s,splitText:function(e){var t=this.data,n=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var r=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}},r(H,B),U.prototype={nodeName:"#comment",nodeType:d},r(U,B),V.prototype={nodeName:"#cdata-section",nodeType:l},r(V,B),W.prototype.nodeType=h,r(W,P),G.prototype.nodeType=m,r(G,P),K.prototype.nodeType=c,r(K,P),Y.prototype.nodeType=u,r(Y,P),Z.prototype.nodeName="#document-fragment",Z.prototype.nodeType=g,r(Z,P),X.prototype.nodeType=f,r(X,P),$.prototype.serializeToString=function(e,t,n){return J.call(e,t,n)},P.prototype.toString=J;try{if(Object.defineProperty){function ie(e){switch(e.nodeType){case o:case g:var t=[];for(e=e.firstChild;e;)7!==e.nodeType&&8!==e.nodeType&&t.push(ie(e)),e=e.nextSibling;return t.join("");default:return e.nodeValue}}Object.defineProperty(T.prototype,"length",{get:function(){return C(this),this.$$length}}),Object.defineProperty(P.prototype,"textContent",{get:function(){return ie(this)},set:function(e){switch(this.nodeType){case o:case g:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),re=function(e,t,n){e["$$"+t]=n}}}catch(e){}t.DOMImplementation=E,t.XMLSerializer=$},51378:(e,t)=>{var n=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,r=new RegExp("[\\-\\.0-9"+n.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),i=new RegExp("^"+n.source+r.source+"*(?::"+n.source+r.source+"*)?$");function o(){}function a(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function s(e,t,n,r,i,o){for(var a,s=++t,l=0;;){var u=e.charAt(s);switch(u){case"=":if(1===l)a=e.slice(t,s),l=3;else{if(2!==l)throw new Error("attribute equal must after attrName");l=3}break;case"'":case'"':if(3===l||1===l){if(1===l&&(o.warning('attribute value must after "="'),a=e.slice(t,s)),t=s+1,!((s=e.indexOf(u,t))>0))throw new Error("attribute value no end '"+u+"' match");c=e.slice(t,s).replace(/&#?\w+;/g,i),n.add(a,c,t-1),l=5}else{if(4!=l)throw new Error('attribute value must after "="');c=e.slice(t,s).replace(/&#?\w+;/g,i),n.add(a,c,t),o.warning('attribute "'+a+'" missed start quot('+u+")!!"),t=s+1,l=5}break;case"/":switch(l){case 0:n.setTagName(e.slice(t,s));case 5:case 6:case 7:l=7,n.closed=!0;case 4:case 1:case 2:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return o.error("unexpected end of input"),0==l&&n.setTagName(e.slice(t,s)),s;case">":switch(l){case 0:n.setTagName(e.slice(t,s));case 5:case 6:case 7:break;case 4:case 1:"/"===(c=e.slice(t,s)).slice(-1)&&(n.closed=!0,c=c.slice(0,-1));case 2:2===l&&(c=a),4==l?(o.warning('attribute "'+c+'" missed quot(")!!'),n.add(a,c.replace(/&#?\w+;/g,i),t)):("http://www.w3.org/1999/xhtml"===r[""]&&c.match(/^(?:disabled|checked|selected)$/i)||o.warning('attribute "'+c+'" missed value!! "'+c+'" instead!!'),n.add(c,c,t));break;case 3:throw new Error("attribute value missed!!")}return s;case"":u=" ";default:if(u<=" ")switch(l){case 0:n.setTagName(e.slice(t,s)),l=6;break;case 1:a=e.slice(t,s),l=2;break;case 4:var c=e.slice(t,s).replace(/&#?\w+;/g,i);o.warning('attribute "'+c+'" missed quot(")!!'),n.add(a,c,t);case 5:l=6}else switch(l){case 2:n.tagName,"http://www.w3.org/1999/xhtml"===r[""]&&a.match(/^(?:disabled|checked|selected)$/i)||o.warning('attribute "'+a+'" missed value!! "'+a+'" instead2!!'),n.add(a,a,t),t=s,l=1;break;case 5:o.warning('attribute space is required"'+a+'"!!');case 6:l=1,t=s;break;case 3:l=4,t=s;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}s++}}function l(e,t,n){for(var r=e.tagName,i=null,o=e.length;o--;){var a=e[o],s=a.qName,l=a.value;if((p=s.indexOf(":"))>0)var u=a.prefix=s.slice(0,p),c=s.slice(p+1),d="xmlns"===u&&c;else c=s,u=null,d="xmlns"===s&&"";a.localName=c,!1!==d&&(null==i&&(i={},f(n,n={})),n[d]=i[d]=l,a.uri="http://www.w3.org/2000/xmlns/",t.startPrefixMapping(d,l))}for(o=e.length;o--;)(u=(a=e[o]).prefix)&&("xml"===u&&(a.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==u&&(a.uri=n[u||""]));var p;(p=r.indexOf(":"))>0?(u=e.prefix=r.slice(0,p),c=e.localName=r.slice(p+1)):(u=null,c=e.localName=r);var h=e.uri=n[u||""];if(t.startElement(h,c,r,e),!e.closed)return e.currentNSMap=n,e.localNSMap=i,!0;if(t.endElement(h,c,r),i)for(u in i)t.endPrefixMapping(u)}function u(e,t,n,r,i){if(/^(?:script|textarea)$/i.test(n)){var o=e.indexOf("</"+n+">",t),a=e.substring(t+1,o);if(/[&<]/.test(a))return/^script$/i.test(n)?(i.characters(a,0,a.length),o):(a=a.replace(/&#?\w+;/g,r),i.characters(a,0,a.length),o)}return t+1}function c(e,t,n,r){var i=r[n];return null==i&&((i=e.lastIndexOf("</"+n+">"))<t&&(i=e.lastIndexOf("</"+n)),r[n]=i),i<t}function f(e,t){for(var n in e)t[n]=e[n]}function d(e,t,n,r){switch(e.charAt(t+2)){case"-":return"-"===e.charAt(t+3)?(i=e.indexOf("--\x3e",t+4))>t?(n.comment(e,t+4,i-t-4),i+3):(r.error("Unclosed comment"),-1):-1;default:if("CDATA["==e.substr(t+3,6)){var i=e.indexOf("]]>",t+9);return n.startCDATA(),n.characters(e,t+9,i-t-9),n.endCDATA(),i+3}var o=function(e,t){var n,r=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(i.lastIndex=t,i.exec(e);n=i.exec(e);)if(r.push(n),n[1])return r}(e,t),a=o.length;if(a>1&&/!doctype/i.test(o[0][0])){var s=o[1][0],l=a>3&&/^public$/i.test(o[2][0])&&o[3][0],u=a>4&&o[4][0],c=o[a-1];return n.startDTD(s,l&&l.replace(/^(['"])(.*?)\1$/,"$2"),u&&u.replace(/^(['"])(.*?)\1$/,"$2")),n.endDTD(),c.index+c[0].length}}return-1}function p(e,t,n){var r=e.indexOf("?>",t);if(r){var i=e.substring(t,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return i?(i[0].length,n.processingInstruction(i[1],i[2]),r+2):-1}return-1}function h(e){}function g(e,t){return e.__proto__=t,e}o.prototype={parse:function(e,t,n){var r=this.domBuilder;r.startDocument(),f(t,t={}),function(e,t,n,r,i){function o(e){var t=e.slice(1,-1);return t in n?n[t]:"#"===t.charAt(0)?function(e){if(e>65535){var t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}(parseInt(t.substr(1).replace("x","0x"))):(i.error("entity not found:"+e),e)}function f(t){if(t>w){var n=e.substring(w,t).replace(/&#?\w+;/g,o);b&&g(w),r.characters(n,0,t-w),w=t}}function g(t,n){for(;t>=y&&(n=v.exec(e));)m=n.index,y=m+n[0].length,b.lineNumber++;b.columnNumber=t-m+1}for(var m=0,y=0,v=/.*(?:\r\n?|\n)|.*$/g,b=r.locator,x=[{currentNSMap:t}],_={},w=0;;){try{var k=e.indexOf("<",w);if(k<0){if(!e.substr(w).match(/^\s*$/)){var T=r.doc,C=T.createTextNode(e.substr(w));T.appendChild(C),r.currentElement=C}return}switch(k>w&&f(k),e.charAt(k+1)){case"/":var O=e.indexOf(">",k+3),S=e.substring(k+2,O),A=x.pop();O<0?(S=e.substring(k+2).replace(/[\s<].*/,""),i.error("end tag name: "+S+" is not complete:"+A.tagName),O=k+1+S.length):S.match(/\s</)&&(S=S.replace(/[\s<].*/,""),i.error("end tag name: "+S+" maybe not complete"),O=k+1+S.length);var M=A.localNSMap,E=A.tagName==S;if(E||A.tagName&&A.tagName.toLowerCase()==S.toLowerCase()){if(r.endElement(A.uri,A.localName,S),M)for(var P in M)r.endPrefixMapping(P);E||i.fatalError("end tag name: "+S+" is not match the current start tagName:"+A.tagName)}else x.push(A);O++;break;case"?":b&&g(k),O=p(e,k,r);break;case"!":b&&g(k),O=d(e,k,r,i);break;default:b&&g(k);var D=new h,L=x[x.length-1].currentNSMap,R=(O=s(e,k,D,L,o,i),D.length);if(!D.closed&&c(e,O,D.tagName,_)&&(D.closed=!0,n.nbsp||i.warning("unclosed xml attribute")),b&&R){for(var I=a(b,{}),N=0;N<R;N++){var j=D[N];g(j.offset),j.locator=a(b,{})}r.locator=I,l(D,r,L)&&x.push(D),r.locator=b}else l(D,r,L)&&x.push(D);"http://www.w3.org/1999/xhtml"!==D.uri||D.closed?O++:O=u(e,O,D.tagName,o,r)}}catch(e){i.error("element parse error: "+e),O=-1}O>w?w=O:f(Math.max(k,w)+1)}}(e,t,n,r,this.errorHandler),r.endDocument()}},h.prototype={setTagName:function(e){if(!i.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},add:function(e,t,n){if(!i.test(e))throw new Error("invalid attribute:"+e);this[this.length++]={qName:e,value:t,offset:n}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},g({},g.prototype)instanceof g||(g=function(e,t){function n(){}for(t in n.prototype=t,n=new n,e)n[t]=e[t];return n}),t.G=o},65792:function(e,t,n){var r;e=n.nmd(e),function(){var n,i,o,a,s,l,u,c,f,d,p,h,g,m,y,v,b,x,_,w,k,T,C,O,S,A,M,E,P,D,L,R,I,N,j,z,q,F,B,H,U,V,W,G,K,Y,Z,X,$,J,Q,ee,te,ne,re,ie,oe,ae,se,le,ue,ce,fe,de,pe,he,ge,ye,ve,be,xe,_e,we,ke,Te,Ce,Oe,Se,Ae,Me,Ee=[].slice;Ce=function(){var e,t,n,r,i;for(e={},r=0,t=(i="Boolean Number String Function Array Date RegExp Undefined Null".split(" ")).length;r<t;r++)n=i[r],e["[object "+n+"]"]=n.toLowerCase();return function(t){var n;return n=Object.prototype.toString.call(t),e[n]||"object"}}(),Z=function(e,t,n){return null==t&&(t=0),null==n&&(n=1),e<t&&(e=t),e>n&&(e=n),e},Oe=function(e){return e.length>=3?Array.prototype.slice.call(e):e[0]},k=function(e){var t,n;for(e._clipped=!1,e._unclipped=e.slice(0),t=n=0;n<3;t=++n)t<3?((e[t]<0||e[t]>255)&&(e._clipped=!0),e[t]<0&&(e[t]=0),e[t]>255&&(e[t]=255)):3===t&&(e[t]<0&&(e[t]=0),e[t]>1&&(e[t]=1));return e._clipped||delete e._unclipped,e},a=Math.PI,xe=Math.round,C=Math.cos,E=Math.floor,re=Math.pow,X=Math.log,we=Math.sin,ke=Math.sqrt,m=Math.atan2,Q=Math.max,g=Math.abs,u=2*a,s=a/3,i=a/180,l=180/a,(w=function(){return arguments[0]instanceof n?arguments[0]:function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(n,arguments,(function(){}))}).default=w,h=[],null!==e&&null!=e.exports&&(e.exports=w),void 0===(r=function(){return w}.apply(t,[]))||(e.exports=r),w.version="1.3.7",p={},f=[],d=!1,n=function(){function e(){var e,t,n,r,i,o,a,s,l;for(o=this,t=[],s=0,r=arguments.length;s<r;s++)null!=(e=arguments[s])&&t.push(e);if(t.length>1&&(a=t[t.length-1]),null!=p[a])o._rgb=k(p[a](Oe(t.slice(0,-1))));else{for(d||(f=f.sort((function(e,t){return t.p-e.p})),d=!0),l=0,i=f.length;l<i&&!(a=(n=f[l]).test.apply(n,t));l++);a&&(o._rgb=k(p[a].apply(p,t)))}null==o._rgb&&console.warn("unknown format: "+t),null==o._rgb&&(o._rgb=[0,0,0]),3===o._rgb.length&&o._rgb.push(1)}return e.prototype.toString=function(){return this.hex()},e.prototype.clone=function(){return w(me._rgb)},e}(),w._input=p,w.brewer=x={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},function(){var e,t;for(e in t=[],x)t.push(x[e.toLowerCase()]=x[e])}(),w.colors=Se={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},V=function(){var e,t,n,r,i,a,s;return r=(t=Oe(arguments))[0],e=t[1],n=t[2],a=(r+16)/116,i=isNaN(e)?a:a+e/500,s=isNaN(n)?a:a-n/200,a=o.Yn*W(a),i=o.Xn*W(i),s=o.Zn*W(s),[Me(3.2404542*i-1.5371385*a-.4985314*s),Me(-.969266*i+1.8760108*a+.041556*s),n=Me(.0556434*i-.2040259*a+1.0572252*s),t.length>3?t[3]:1]},Me=function(e){return 255*(e<=.00304?12.92*e:1.055*re(e,1/2.4)-.055)},W=function(e){return e>o.t1?e*e*e:o.t2*(e-o.t0)},o={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},fe=function(){var e,t,n,r,i,o,a;return n=(r=Oe(arguments))[0],t=r[1],e=r[2],o=(i=ye(n,t,e))[0],[116*(a=i[1])-16,500*(o-a),200*(a-i[2])]},ve=function(e){return(e/=255)<=.04045?e/12.92:re((e+.055)/1.055,2.4)},Ae=function(e){return e>o.t3?re(e,1/3):e/o.t2+o.t0},ye=function(){var e,t,n,r;return n=(r=Oe(arguments))[0],t=r[1],e=r[2],n=ve(n),t=ve(t),e=ve(e),[Ae((.4124564*n+.3575761*t+.1804375*e)/o.Xn),Ae((.2126729*n+.7151522*t+.072175*e)/o.Yn),Ae((.0193339*n+.119192*t+.9503041*e)/o.Zn)]},w.lab=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(n,Ee.call(arguments).concat(["lab"]),(function(){}))},p.lab=V,n.prototype.lab=function(){return fe(this._rgb)},y=function(e){var t,n,r,i,o,a,s,l,u,c,f;return 2===(e=function(){var t,n,r;for(r=[],n=0,t=e.length;n<t;n++)i=e[n],r.push(w(i));return r}()).length?(u=function(){var t,n,r;for(r=[],n=0,t=e.length;n<t;n++)i=e[n],r.push(i.lab());return r}(),o=u[0],a=u[1],t=function(e){var t,n;return n=function(){var n,r;for(r=[],t=n=0;n<=2;t=++n)r.push(o[t]+e*(a[t]-o[t]));return r}(),w.lab.apply(w,n)}):3===e.length?(c=function(){var t,n,r;for(r=[],n=0,t=e.length;n<t;n++)i=e[n],r.push(i.lab());return r}(),o=c[0],a=c[1],s=c[2],t=function(e){var t,n;return n=function(){var n,r;for(r=[],t=n=0;n<=2;t=++n)r.push((1-e)*(1-e)*o[t]+2*(1-e)*e*a[t]+e*e*s[t]);return r}(),w.lab.apply(w,n)}):4===e.length?(f=function(){var t,n,r;for(r=[],n=0,t=e.length;n<t;n++)i=e[n],r.push(i.lab());return r}(),o=f[0],a=f[1],s=f[2],l=f[3],t=function(e){var t,n;return n=function(){var n,r;for(r=[],t=n=0;n<=2;t=++n)r.push((1-e)*(1-e)*(1-e)*o[t]+3*(1-e)*(1-e)*e*a[t]+3*(1-e)*e*e*s[t]+e*e*e*l[t]);return r}(),w.lab.apply(w,n)}):5===e.length&&(n=y(e.slice(0,3)),r=y(e.slice(2,5)),t=function(e){return e<.5?n(2*e):r(2*(e-.5))}),t},w.bezier=function(e){var t;return(t=y(e)).scale=function(){return w.scale(t)},t},w.cubehelix=function(e,t,n,r,i){var o,a,s;return null==e&&(e=300),null==t&&(t=-1.5),null==n&&(n=1),null==r&&(r=1),null==i&&(i=[0,1]),o=0,"array"===Ce(i)?a=i[1]-i[0]:(a=0,i=[i,i]),(s=function(s){var l,c,f,d,p;return l=u*((e+120)/360+t*s),d=re(i[0]+a*s,r),c=(0!==o?n[0]+s*o:n)*d*(1-d)/2,f=C(l),p=we(l),w(k([255*(d+c*(-.14861*f+1.78277*p)),255*(d+c*(-.29227*f-.90649*p)),255*(d+c*(1.97294*f))]))}).start=function(t){return null==t?e:(e=t,s)},s.rotations=function(e){return null==e?t:(t=e,s)},s.gamma=function(e){return null==e?r:(r=e,s)},s.hue=function(e){return null==e?n:("array"===Ce(n=e)?0==(o=n[1]-n[0])&&(n=n[1]):o=0,s)},s.lightness=function(e){return null==e?i:("array"===Ce(e)?(i=e,a=e[1]-e[0]):(i=[e,e],a=0),s)},s.scale=function(){return w.scale(s)},s.hue(n),s},w.random=function(){var e,t;for(e="#",t=0;t<6;++t)e+="0123456789abcdef".charAt(E(16*Math.random()));return new n(e)},h=[],j=function(e,t,n,r){var i,o,a,s;for(null==n&&(n=.5),null==r&&(r="rgb"),"object"!==Ce(e)&&(e=w(e)),"object"!==Ce(t)&&(t=w(t)),a=0,o=h.length;a<o;a++)if(r===(i=h[a])[0]){s=i[1](e,t,n,r);break}if(null==s)throw"color mode "+r+" is not supported";return s.alpha(e.alpha()+n*(t.alpha()-e.alpha()))},w.interpolate=j,n.prototype.interpolate=function(e,t,n){return j(this,e,t,n)},w.mix=j,n.prototype.mix=n.prototype.interpolate,p.rgb=function(){var e,t,n,r;for(e in n=[],t=Oe(arguments))r=t[e],n.push(r);return n},w.rgb=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(n,Ee.call(arguments).concat(["rgb"]),(function(){}))},n.prototype.rgb=function(e){return null==e&&(e=!0),e?this._rgb.map(Math.round).slice(0,3):this._rgb.slice(0,3)},n.prototype.rgba=function(e){return null==e&&(e=!0),e?[Math.round(this._rgb[0]),Math.round(this._rgb[1]),Math.round(this._rgb[2]),this._rgb[3]]:this._rgb.slice(0)},f.push({p:3,test:function(e){var t;return t=Oe(arguments),"array"===Ce(t)&&3===t.length||4===t.length&&"number"===Ce(t[3])&&t[3]>=0&&t[3]<=1?"rgb":void 0}}),p.lrgb=p.rgb,F=function(e,t,r,i){var o,a;return o=e._rgb,a=t._rgb,new n(ke(re(o[0],2)*(1-r)+re(a[0],2)*r),ke(re(o[1],2)*(1-r)+re(a[1],2)*r),ke(re(o[2],2)*(1-r)+re(a[2],2)*r),i)},c=function(e){var t,r,i,o,a;for(t=1/e.length,a=[0,0,0,0],i=0,r=e.length;i<r;i++)o=e[i]._rgb,a[0]+=re(o[0],2)*t,a[1]+=re(o[1],2)*t,a[2]+=re(o[2],2)*t,a[3]+=o[3]*t;return a[0]=ke(a[0]),a[1]=ke(a[1]),a[2]=ke(a[2]),new n(a)},h.push(["lrgb",F]),w.average=function(e,t){var n,r,i,o,s,l,u,f,d,p,h,g,y;if(null==t&&(t="rgb"),d=e.length,u=(e=e.map((function(e){return w(e)}))).splice(0,1)[0],"lrgb"===t)return c(e);for(f in o=[],s=0,l=0,g=u.get(t))g[f]=g[f]||0,o.push(isNaN(g[f])?0:1),"h"!==t.charAt(f)||isNaN(g[f])||(n=g[f]/180*a,s+=C(n),l+=we(n));for(r=u.alpha(),h=0,p=e.length;h<p;h++)for(f in y=(i=e[h]).get(t),r+=i.alpha(),g)isNaN(y[f])||(o[f]+=1,"h"===t.charAt(f)?(n=y[f]/180*a,s+=C(n),l+=we(n)):g[f]+=y[f]);for(f in g)if("h"===t.charAt(f)){for(n=m(l/o[f],s/o[f])/a*180;n<0;)n+=360;for(;n>=360;)n-=360;g[f]=n}else g[f]=g[f]/o[f];return w(g,t).alpha(r/d)},D=function(e){var t,n;if(e.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/))return 4!==e.length&&7!==e.length||(e=e.substr(1)),3===e.length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]),[(n=parseInt(e,16))>>16,n>>8&255,255&n,1];if(e.match(/^#?([A-Fa-f0-9]{8})$/))return 9===e.length&&(e=e.substr(1)),[(n=parseInt(e,16))>>24&255,n>>16&255,n>>8&255,xe((255&n)/255*100)/100];if(null!=p.css&&(t=p.css(e)))return t;throw"unknown color: "+e},se=function(e,t){var n,r,i,o,a,s;return null==t&&(t="rgb"),a=e[0],i=e[1],r=e[2],n=e[3],a=Math.round(a),i=Math.round(i),r=Math.round(r),s=(s="000000"+(a<<16|i<<8|r).toString(16)).substr(s.length-6),o=(o="0"+xe(255*n).toString(16)).substr(o.length-2),"#"+function(){switch(t.toLowerCase()){case"rgba":return s+o;case"argb":return o+s;default:return s}}()},p.hex=function(e){return D(e)},w.hex=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(n,Ee.call(arguments).concat(["hex"]),(function(){}))},n.prototype.hex=function(e){return null==e&&(e="rgb"),se(this._rgb,e)},f.push({p:4,test:function(e){if(1===arguments.length&&"string"===Ce(e))return"hex"}}),I=function(){var e,t,n,r,i,o,a,s,l,u,c,f,d,p;if(i=(e=Oe(arguments))[0],c=e[1],a=e[2],0===c)l=r=t=255*a;else{for(n=[0,0,0],f=2*a-(d=a<.5?a*(1+c):a+c-a*c),(p=[0,0,0])[0]=(i/=360)+1/3,p[1]=i,p[2]=i-1/3,o=s=0;s<=2;o=++s)p[o]<0&&(p[o]+=1),p[o]>1&&(p[o]-=1),6*p[o]<1?n[o]=f+6*(d-f)*p[o]:2*p[o]<1?n[o]=d:3*p[o]<2?n[o]=f+(d-f)*(2/3-p[o])*6:n[o]=f;l=(u=[xe(255*n[0]),xe(255*n[1]),xe(255*n[2])])[0],r=u[1],t=u[2]}return e.length>3?[l,r,t,e[3]]:[l,r,t]},ue=function(e,t,n){var r,i,o,a,s;return void 0!==e&&e.length>=3&&(e=(a=e)[0],t=a[1],n=a[2]),e/=255,t/=255,n/=255,o=Math.min(e,t,n),i=((Q=Math.max(e,t,n))+o)/2,Q===o?(s=0,r=Number.NaN):s=i<.5?(Q-o)/(Q+o):(Q-o)/(2-Q-o),e===Q?r=(t-n)/(Q-o):t===Q?r=2+(n-e)/(Q-o):n===Q&&(r=4+(e-t)/(Q-o)),(r*=60)<0&&(r+=360),[r,s,i]},w.hsl=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(n,Ee.call(arguments).concat(["hsl"]),(function(){}))},p.hsl=I,n.prototype.hsl=function(){return ue(this._rgb)},N=function(){var e,t,n,r,i,o,a,s,l,u,c,f,d,p,h,g,m,y;if(i=(e=Oe(arguments))[0],g=e[1],y=e[2],y*=255,0===g)l=r=t=y;else switch(360===i&&(i=0),i>360&&(i-=360),i<0&&(i+=360),a=y*(1-g),s=y*(1-g*(n=(i/=60)-(o=E(i)))),m=y*(1-g*(1-n)),o){case 0:l=(u=[y,m,a])[0],r=u[1],t=u[2];break;case 1:l=(c=[s,y,a])[0],r=c[1],t=c[2];break;case 2:l=(f=[a,y,m])[0],r=f[1],t=f[2];break;case 3:l=(d=[a,s,y])[0],r=d[1],t=d[2];break;case 4:l=(p=[m,a,y])[0],r=p[1],t=p[2];break;case 5:l=(h=[y,a,s])[0],r=h[1],t=h[2]}return[l,r,t,e.length>3?e[3]:1]},ce=function(){var e,t,n,r,i,o,a,s,l;return o=(a=Oe(arguments))[0],n=a[1],e=a[2],i=Math.min(o,n,e),t=(Q=Math.max(o,n,e))-i,l=Q/255,0===Q?(r=Number.NaN,s=0):(s=t/Q,o===Q&&(r=(n-e)/t),n===Q&&(r=2+(e-o)/t),e===Q&&(r=4+(o-n)/t),(r*=60)<0&&(r+=360)),[r,s,l]},w.hsv=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(n,Ee.call(arguments).concat(["hsv"]),(function(){}))},p.hsv=N,n.prototype.hsv=function(){return ce(this._rgb)},te=function(e){return"number"===Ce(e)&&e>=0&&e<=16777215?[e>>16,e>>8&255,255&e,1]:(console.warn("unknown num color: "+e),[0,0,0,1])},he=function(){var e;return((e=Oe(arguments))[0]<<16)+(e[1]<<8)+e[2]},w.num=function(e){return new n(e,"num")},n.prototype.num=function(e){return null==e&&(e="rgb"),he(this._rgb,e)},p.num=te,f.push({p:1,test:function(e){if(1===arguments.length&&"number"===Ce(e)&&e>=0&&e<=16777215)return"num"}}),P=function(){var e,t,n,r,i,o,a,s,l,u,c,f,d,p,h,g,m,y,v,b;if(s=(n=Oe(arguments))[0],i=n[1],t=n[2],a=a/100*255,e=255*(i/=100),0===i)f=a=r=t;else switch(360===s&&(s=0),s>360&&(s-=360),s<0&&(s+=360),c=(u=t*(1-i))+e*(1-(o=(s/=60)-(l=E(s)))),v=u+e*o,b=u+e,l){case 0:f=(d=[b,v,u])[0],a=d[1],r=d[2];break;case 1:f=(p=[c,b,u])[0],a=p[1],r=p[2];break;case 2:f=(h=[u,b,v])[0],a=h[1],r=h[2];break;case 3:f=(g=[u,c,b])[0],a=g[1],r=g[2];break;case 4:f=(m=[v,u,b])[0],a=m[1],r=m[2];break;case 5:f=(y=[b,u,c])[0],a=y[1],r=y[2]}return[f,a,r,n.length>3?n[3]:1]},ae=function(){var e,t,n,r,i,o,a,s,l;return s=(l=Oe(arguments))[0],i=l[1],t=l[2],a=Math.min(s,i,t),n=100*(r=(Q=Math.max(s,i,t))-a)/255,e=a/(255-r)*100,0===r?o=Number.NaN:(s===Q&&(o=(i-t)/r),i===Q&&(o=2+(t-s)/r),t===Q&&(o=4+(s-i)/r),(o*=60)<0&&(o+=360)),[o,n,e]},w.hcg=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(n,Ee.call(arguments).concat(["hcg"]),(function(){}))},p.hcg=P,n.prototype.hcg=function(){return ae(this._rgb)},O=function(e){var t,n,r,i,o,a,s,l;if(e=e.toLowerCase(),null!=w.colors&&w.colors[e])return D(w.colors[e]);if(o=e.match(/rgb\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*\)/)){for(s=o.slice(1,4),i=a=0;a<=2;i=++a)s[i]=+s[i];s[3]=1}else if(o=e.match(/rgba\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*,\s*([01]|[01]?\.\d+)\)/))for(s=o.slice(1,5),i=l=0;l<=3;i=++l)s[i]=+s[i];else if(o=e.match(/rgb\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/)){for(s=o.slice(1,4),i=t=0;t<=2;i=++t)s[i]=xe(2.55*s[i]);s[3]=1}else if(o=e.match(/rgba\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/)){for(s=o.slice(1,5),i=n=0;n<=2;i=++n)s[i]=xe(2.55*s[i]);s[3]=+s[3]}else(o=e.match(/hsl\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/))?((r=o.slice(1,4))[1]*=.01,r[2]*=.01,(s=I(r))[3]=1):(o=e.match(/hsla\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/))&&((r=o.slice(1,4))[1]*=.01,r[2]*=.01,(s=I(r))[3]=+o[4]);return s},oe=function(e){var t;return"rgb"==(t=e[3]<1?"rgba":"rgb")?t+"("+e.slice(0,3).map(xe).join(",")+")":"rgba"===t?t+"("+e.slice(0,3).map(xe).join(",")+","+e[3]+")":void 0},be=function(e){return xe(100*e)/100},R=function(e,t){var n;return n=t<1?"hsla":"hsl",e[0]=be(e[0]||0),e[1]=be(100*e[1])+"%",e[2]=be(100*e[2])+"%","hsla"===n&&(e[3]=t),n+"("+e.join(",")+")"},p.css=function(e){return O(e)},w.css=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(n,Ee.call(arguments).concat(["css"]),(function(){}))},n.prototype.css=function(e){return null==e&&(e="rgb"),"rgb"===e.slice(0,3)?oe(this._rgb):"hsl"===e.slice(0,3)?R(this.hsl(),this.alpha()):void 0},p.named=function(e){return D(Se[e])},f.push({p:5,test:function(e){if(1===arguments.length&&null!=Se[e])return"named"}}),n.prototype.name=function(e){var t,n;for(n in arguments.length&&(Se[e]&&(this._rgb=D(Se[e])),this._rgb[3]=1),t=this.hex(),Se)if(t===Se[n])return n;return t},G=function(){var e,t,n,r;return n=(r=Oe(arguments))[0],e=r[1],t=r[2],[n,C(t*=i)*e,we(t)*e]},K=function(){var e,t,n,r,i,o,a,s,l;return a=(n=Oe(arguments))[0],i=n[1],o=n[2],e=(s=G(a,i,o))[0],t=s[1],r=s[2],[(l=V(e,t,r))[0],l[1],r=l[2],n.length>3?n[3]:1]},U=function(){var e,t,n,r,i,o;return i=(o=Oe(arguments))[0],e=o[1],t=o[2],n=ke(e*e+t*t),r=(m(t,e)*l+360)%360,0===xe(1e4*n)&&(r=Number.NaN),[i,n,r]},de=function(){var e,t,n,r,i,o,a;return i=(o=Oe(arguments))[0],n=o[1],t=o[2],r=(a=fe(i,n,t))[0],e=a[1],t=a[2],U(r,e,t)},w.lch=function(){var e;return e=Oe(arguments),new n(e,"lch")},w.hcl=function(){var e;return e=Oe(arguments),new n(e,"hcl")},p.lch=K,p.hcl=function(){var e,t,n,r;return t=(r=Oe(arguments))[0],e=r[1],n=r[2],K([n,e,t])},n.prototype.lch=function(){return de(this._rgb)},n.prototype.hcl=function(){return de(this._rgb).reverse()},ie=function(e){var t,n,r,i,o,a;return null==e&&(e="rgb"),o=(a=Oe(arguments))[0],r=a[1],t=a[2],r/=255,t/=255,[(1-(o/=255)-(i=1-Math.max(o,Math.max(r,t))))*(n=i<1?1/(1-i):0),(1-r-i)*n,(1-t-i)*n,i]},T=function(){var e,t,n,r,i,o;return n=(t=Oe(arguments))[0],i=t[1],o=t[2],r=t[3],e=t.length>4?t[4]:1,1===r?[0,0,0,e]:[n>=1?0:255*(1-n)*(1-r),i>=1?0:255*(1-i)*(1-r),o>=1?0:255*(1-o)*(1-r),e]},p.cmyk=function(){return T(Oe(arguments))},w.cmyk=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(n,Ee.call(arguments).concat(["cmyk"]),(function(){}))},n.prototype.cmyk=function(){return ie(this._rgb)},p.gl=function(){var e,t,n,r,i;for(r=function(){var e,n;for(t in n=[],e=Oe(arguments))i=e[t],n.push(i);return n}.apply(this,arguments),e=n=0;n<=2;e=++n)r[e]*=255;return r},w.gl=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(n,Ee.call(arguments).concat(["gl"]),(function(){}))},n.prototype.gl=function(){var e;return[(e=this._rgb)[0]/255,e[1]/255,e[2]/255,e[3]]},pe=function(e,t,n){var r;return e=(r=Oe(arguments))[0],t=r[1],n=r[2],.2126*(e=$(e))+.7152*(t=$(t))+.0722*$(n)},$=function(e){return(e/=255)<=.03928?e/12.92:re((e+.055)/1.055,2.4)},H=function(e,t,r,i){var o,a;return o=e._rgb,a=t._rgb,new n(o[0]+r*(a[0]-o[0]),o[1]+r*(a[1]-o[1]),o[2]+r*(a[2]-o[2]),i)},h.push(["rgb",H]),n.prototype.luminance=function(e,t){var n,r,i,o,a;return null==t&&(t="rgb"),arguments.length?(o=this._rgb,0===e?o=[0,0,0,this._rgb[3]]:1===e?o=[255,255,255,this[3]]:(n=pe(this._rgb),r=1e-7,i=20,a=function(n,o){var s,l;return s=(l=n.interpolate(o,.5,t)).luminance(),Math.abs(e-s)<r||!i--?l:s>e?a(n,l):a(l,o)},o=n>e?a(w("black"),this).rgba():a(this,w("white")).rgba()),w(o).alpha(this.alpha())):pe(this._rgb)},Te=function(e){var t,n,r,i;return(i=e/100)<66?(r=255,n=-155.25485562709179-.44596950469579133*(n=i-2)+104.49216199393888*X(n),t=i<20?0:.8274096064007395*(t=i-10)-254.76935184120902+115.67994401066147*X(t)):(r=351.97690566805693+.114206453784165*(r=i-55)-40.25366309332127*X(r),n=325.4494125711974+.07943456536662342*(n=i-50)-28.0852963507957*X(n),t=255),[r,n,t]},ge=function(){var e,t,n,r,i,o,a,s;for(i=(o=Oe(arguments))[0],o[1],e=o[2],r=1e3,n=4e4,t=.4;n-r>t;)(a=Te(s=.5*(n+r)))[2]/a[0]>=e/i?n=s:r=s;return xe(s)},w.temperature=w.kelvin=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(n,Ee.call(arguments).concat(["temperature"]),(function(){}))},p.temperature=p.kelvin=p.K=Te,n.prototype.temperature=function(){return ge(this._rgb)},n.prototype.kelvin=n.prototype.temperature,w.contrast=function(e,t){var r,i,o,a;return"string"!==(o=Ce(e))&&"number"!==o||(e=new n(e)),"string"!==(a=Ce(t))&&"number"!==a||(t=new n(t)),(r=e.luminance())>(i=t.luminance())?(r+.05)/(i+.05):(i+.05)/(r+.05)},w.distance=function(e,t,r){var i,o,a,s,l,u,c;for(o in null==r&&(r="lab"),"string"!==(l=Ce(e))&&"number"!==l||(e=new n(e)),"string"!==(u=Ce(t))&&"number"!==u||(t=new n(t)),a=e.get(r),s=t.get(r),c=0,a)c+=(i=(a[o]||0)-(s[o]||0))*i;return Math.sqrt(c)},w.deltaE=function(e,t,r,i){var o,s,l,u,c,f,d,p,h,y,v,b,x,_,w,k,T,O,S,A,M,E,P,D;for(null==r&&(r=1),null==i&&(i=1),"string"!==(w=Ce(e))&&"number"!==w||(e=new n(e)),"string"!==(k=Ce(t))&&"number"!==k||(t=new n(t)),o=(T=e.lab())[0],l=T[1],c=T[2],s=(O=t.lab())[0],u=O[1],f=O[2],d=ke(l*l+c*c),p=ke(u*u+f*f),A=o<16?.511:.040975*o/(1+.01765*o),S=.0638*d/(1+.0131*d)+.638,_=d<1e-6?0:180*m(c,l)/a;_<0;)_+=360;for(;_>=360;)_-=360;return M=_>=164&&_<=345?.56+g(.2*C(a*(_+168)/180)):.36+g(.4*C(a*(_+35)/180)),x=ke((h=d*d*d*d)/(h+1900)),ke((E=(o-s)/(r*A))*E+(P=(b=d-p)/(i*S))*P+((y=l-u)*y+(v=c-f)*v-b*b)/((D=S*(x*M+1-x))*D))},n.prototype.get=function(e){var t,n,r,i,o;return r=(i=e.split("."))[0],t=i[1],o=this[r](),t?(n=r.indexOf(t))>-1?o[n]:console.warn("unknown channel "+t+" in mode "+r):o},n.prototype.set=function(e,t){var n,r,i,o,a;if(i=(o=e.split("."))[0],n=o[1])if(a=this[i](),(r=i.indexOf(n))>-1)if("string"===Ce(t))switch(t.charAt(0)){case"+":case"-":a[r]+=+t;break;case"*":a[r]*=+t.substr(1);break;case"/":a[r]/=+t.substr(1);break;default:a[r]=+t}else a[r]=t;else console.warn("unknown channel "+n+" in mode "+i);else a=t;return w(a,i).alpha(this.alpha())},n.prototype.clipped=function(){return this._rgb._clipped||!1},n.prototype.alpha=function(e){return arguments.length?w.rgb([this._rgb[0],this._rgb[1],this._rgb[2],e]):this._rgb[3]},n.prototype.darken=function(e){var t;return null==e&&(e=1),(t=this.lab())[0]-=o.Kn*e,w.lab(t).alpha(this.alpha())},n.prototype.brighten=function(e){return null==e&&(e=1),this.darken(-e)},n.prototype.darker=n.prototype.darken,n.prototype.brighter=n.prototype.brighten,n.prototype.saturate=function(e){var t;return null==e&&(e=1),(t=this.lch())[1]+=e*o.Kn,t[1]<0&&(t[1]=0),w.lch(t).alpha(this.alpha())},n.prototype.desaturate=function(e){return null==e&&(e=1),this.saturate(-e)},n.prototype.premultiply=function(){var e,t;return t=this.rgb(),e=this.alpha(),w(t[0]*e,t[1]*e,t[2]*e,e)},ee=function(e,t){return e*t/255},S=function(e,t){return e>t?t:e},Y=function(e,t){return e>t?e:t},_e=function(e,t){return 255*(1-(1-e/255)*(1-t/255))},ne=function(e,t){return t<128?2*e*t/255:255*(1-2*(1-e/255)*(1-t/255))},_=function(e,t){return 255*(1-(1-t/255)/(e/255))},A=function(e,t){return 255===e||(e=t/255*255/(1-e/255))>255?255:e},(v=function(e,t,n){if(!v[n])throw"unknown blend mode "+n;return v[n](e,t)}).normal=(b=function(e){return function(t,n){var r,i;return r=w(n).rgb(),i=w(t).rgb(),w(e(r,i),"rgb")}})((M=function(e){return function(t,n){var r,i,o;for(o=[],r=i=0;i<=3;r=++i)o[r]=e(t[r],n[r]);return o}})((function(e,t){return e}))),v.multiply=b(M(ee)),v.screen=b(M(_e)),v.overlay=b(M(ne)),v.darken=b(M(S)),v.lighten=b(M(Y)),v.dodge=b(M(A)),v.burn=b(M(_)),w.blend=v,w.analyze=function(e){var t,n,r,i;for(r={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},n=0,t=e.length;n<t;n++)null==(i=e[n])||isNaN(i)||(r.values.push(i),r.sum+=i,i<r.min&&(r.min=i),i>r.max&&(r.max=i),r.count+=1);return r.domain=[r.min,r.max],r.limits=function(e,t){return w.limits(r,e,t)},r},w.scale=function(e,t){var n,r,i,o,a,s,l,u,c,f,d,p,h,g,m,y,v,b,x,_,k;return c="rgb",f=w("#ccc"),g=0,a=[0,1],h=[],p=[0,0],n=!1,i=[],d=!1,u=0,l=1,o=!1,r={},m=!0,s=1,_=function(e){var t,n,r,o,a,s;if(null==e&&(e=["#fff","#000"]),null!=e&&"string"===Ce(e)&&null!=w.brewer&&(e=w.brewer[e]||w.brewer[e.toLowerCase()]||e),"array"===Ce(e)){for(t=r=0,o=(e=e.slice(0)).length-1;0<=o?r<=o:r>=o;t=0<=o?++r:--r)n=e[t],"string"===Ce(n)&&(e[t]=w(n));for(h.length=0,t=s=0,a=e.length-1;0<=a?s<=a:s>=a;t=0<=a?++s:--s)h.push(t/(e.length-1))}return x(),i=e},v=function(e){var t,r;if(null!=n){for(r=n.length-1,t=0;t<r&&e>=n[t];)t++;return t-1}return 0},k=function(e){return e},b=function(e,t){var o,a,d,g,y,b,x;if(null==t&&(t=!1),isNaN(e))return f;if(x=t?e:n&&n.length>2?v(e)/(n.length-2):l!==u?(e-u)/(l-u):1,t||(x=k(x)),1!==s&&(x=re(x,s)),x=p[0]+x*(1-p[0]-p[1]),x=Math.min(1,Math.max(0,x)),d=Math.floor(1e4*x),m&&r[d])o=r[d];else{if("array"===Ce(i))for(a=g=0,b=h.length-1;0<=b?g<=b:g>=b;a=0<=b?++g:--g){if(x<=(y=h[a])){o=i[a];break}if(x>=y&&a===h.length-1){o=i[a];break}if(x>y&&x<h[a+1]){x=(x-y)/(h[a+1]-y),o=w.interpolate(i[a],i[a+1],x,c);break}}else"function"===Ce(i)&&(o=i(x));m&&(r[d]=o)}return o},x=function(){return r={}},_(e),(y=function(e){var t;return t=w(b(e)),d&&t[d]?t[d]():t}).classes=function(e){var t;return null!=e?("array"===Ce(e)?(n=e,a=[e[0],e[e.length-1]]):(t=w.analyze(a),n=0===e?[t.min,t.max]:w.limits(t,"e",e)),y):n},y.domain=function(e){var t,n,r,o,s,c,f;if(!arguments.length)return a;if(u=e[0],l=e[e.length-1],h=[],r=i.length,e.length===r&&u!==l)for(s=0,o=e.length;s<o;s++)n=e[s],h.push((n-u)/(l-u));else for(t=f=0,c=r-1;0<=c?f<=c:f>=c;t=0<=c?++f:--f)h.push(t/(r-1));return a=[u,l],y},y.mode=function(e){return arguments.length?(c=e,x(),y):c},y.range=function(e,t){return _(e),y},y.out=function(e){return d=e,y},y.spread=function(e){return arguments.length?(g=e,y):g},y.correctLightness=function(e){return null==e&&(e=!0),o=e,x(),k=o?function(e){var t,n,r,i,o,a,s,l;for(a=(t=b(0,!0).lab()[0])>(n=b(1,!0).lab()[0]),r=b(e,!0).lab()[0]-(i=t+(n-t)*e),s=0,l=1,o=20;Math.abs(r)>.01&&o-- >0;)a&&(r*=-1),r<0?(s=e,e+=.5*(l-e)):(l=e,e+=.5*(s-e)),r=b(e,!0).lab()[0]-i;return e}:function(e){return e},y},y.padding=function(e){return null!=e?("number"===Ce(e)&&(e=[e,e]),p=e,y):p},y.colors=function(t,r){var o,s,l,u,c,f,d,p;if(arguments.length<2&&(r="hex"),c=[],0===arguments.length)c=i.slice(0);else if(1===t)c=[y(.5)];else if(t>1)s=a[0],o=a[1]-s,c=function(){f=[];for(var e=0;0<=t?e<t:e>t;0<=t?e++:e--)f.push(e);return f}.apply(this).map((function(e){return y(s+e/(t-1)*o)}));else{if(e=[],d=[],n&&n.length>2)for(l=p=1,u=n.length;1<=u?p<u:p>u;l=1<=u?++p:--p)d.push(.5*(n[l-1]+n[l]));else d=a;c=d.map((function(e){return y(e)}))}return w[r]&&(c=c.map((function(e){return e[r]()}))),c},y.cache=function(e){return null!=e?(m=e,y):m},y.gamma=function(e){return null!=e?(s=e,y):s},y},null==w.scales&&(w.scales={}),w.scales.cool=function(){return w.scale([w.hsl(180,1,.9),w.hsl(250,.7,.4)])},w.scales.hot=function(){return w.scale(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")},w.analyze=function(e,t,n){var r,i,o,a,s,l;if(s={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},null==n&&(n=function(){return!0}),r=function(e){null==e||isNaN(e)||(s.values.push(e),s.sum+=e,e<s.min&&(s.min=e),e>s.max&&(s.max=e),s.count+=1)},l=function(e,i){if(n(e,i))return null!=t&&"function"===Ce(t)?r(t(e)):null!=t&&"string"===Ce(t)||"number"===Ce(t)?r(e[t]):r(e)},"array"===Ce(e))for(a=0,o=e.length;a<o;a++)l(e[a]);else for(i in e)l(e[i],i);return s.domain=[s.min,s.max],s.limits=function(e,t){return w.limits(s,e,t)},s},w.limits=function(e,t,n){var r,i,o,a,s,l,u,c,f,d,p,h,m,y,v,b,x,_,k,T,C,O,S,A,M,P,D,L,R,I,N,j,z,q,F,B,H,U,V,W,G,K,Y,Z,$,J,ee,te,ne,ie,oe,ae,se,le,ue;if(null==t&&(t="equal"),null==n&&(n=7),"array"===Ce(e)&&(e=w.analyze(e)),M=e.min,Q=e.max,e.sum,le=e.values.sort((function(e,t){return e-t})),1===n)return[M,Q];if(S=[],"c"===t.substr(0,1)&&(S.push(M),S.push(Q)),"e"===t.substr(0,1)){for(S.push(M),T=N=1,F=n-1;1<=F?N<=F:N>=F;T=1<=F?++N:--N)S.push(M+T/n*(Q-M));S.push(Q)}else if("l"===t.substr(0,1)){if(M<=0)throw"Logarithmic scales are only possible for values > 0";for(P=Math.LOG10E*X(M),A=Math.LOG10E*X(Q),S.push(M),T=ue=1,B=n-1;1<=B?ue<=B:ue>=B;T=1<=B?++ue:--ue)S.push(re(10,P+T/n*(A-P)));S.push(Q)}else if("q"===t.substr(0,1)){for(S.push(M),T=r=1,K=n-1;1<=K?r<=K:r>=K;T=1<=K?++r:--r)j=(le.length-1)*T/n,(z=E(j))===j?S.push(le[z]):(q=j-z,S.push(le[z]*(1-q)+le[z+1]*q));S.push(Q)}else if("k"===t.substr(0,1)){for(L=le.length,y=new Array(L),_=new Array(n),ie=!0,R=0,b=null,(b=[]).push(M),T=i=1,Y=n-1;1<=Y?i<=Y:i>=Y;T=1<=Y?++i:--i)b.push(M+T/n*(Q-M));for(b.push(Q);ie;){for(C=o=0,Z=n-1;0<=Z?o<=Z:o>=Z;C=0<=Z?++o:--o)_[C]=0;for(T=a=0,$=L-1;0<=$?a<=$:a>=$;T=0<=$?++a:--a){for(se=le[T],D=Number.MAX_VALUE,C=s=0,J=n-1;0<=J?s<=J:s>=J;C=0<=J?++s:--s)(k=g(b[C]-se))<D&&(D=k,v=C);_[v]++,y[T]=v}for(I=new Array(n),C=l=0,ee=n-1;0<=ee?l<=ee:l>=ee;C=0<=ee?++l:--l)I[C]=null;for(T=u=0,te=L-1;0<=te?u<=te:u>=te;T=0<=te?++u:--u)null===I[x=y[T]]?I[x]=le[T]:I[x]+=le[T];for(C=c=0,ne=n-1;0<=ne?c<=ne:c>=ne;C=0<=ne?++c:--c)I[C]*=1/_[C];for(ie=!1,C=f=0,H=n-1;0<=H?f<=H:f>=H;C=0<=H?++f:--f)if(I[C]!==b[T]){ie=!0;break}b=I,++R>200&&(ie=!1)}for(O={},C=d=0,U=n-1;0<=U?d<=U:d>=U;C=0<=U?++d:--d)O[C]=[];for(T=p=0,V=L-1;0<=V?p<=V:p>=V;T=0<=V?++p:--p)O[x=y[T]].push(le[T]);for(oe=[],C=h=0,W=n-1;0<=W?h<=W:h>=W;C=0<=W?++h:--h)oe.push(O[C][0]),oe.push(O[C][O[C].length-1]);for(oe=oe.sort((function(e,t){return e-t})),S.push(oe[0]),T=m=1,G=oe.length-1;m<=G;T=m+=2)ae=oe[T],isNaN(ae)||-1!==S.indexOf(ae)||S.push(ae)}return S},L=function(e,t,n){var r,i,o,a;return e=(r=Oe(arguments))[0],t=r[1],n=r[2],isNaN(e)&&(e=0),(e/=360)<1/3?o=1-((i=(1-t)/3)+(a=(1+t*C(u*e)/C(s-u*e))/3)):e<2/3?i=1-((a=(1-t)/3)+(o=(1+t*C(u*(e-=1/3))/C(s-u*e))/3)):a=1-((o=(1-t)/3)+(i=(1+t*C(u*(e-=2/3))/C(s-u*e))/3)),[255*(a=Z(n*a*3)),255*(o=Z(n*o*3)),255*(i=Z(n*i*3)),r.length>3?r[3]:1]},le=function(){var e,t,n,r,i,o,a;return i=(o=Oe(arguments))[0],t=o[1],e=o[2],u=2*Math.PI,i/=255,t/=255,e/=255,0==(a=1-Math.min(i,t,e)/(r=(i+t+e)/3))?n=0:(n=(i-t+(i-e))/2,n/=Math.sqrt((i-t)*(i-t)+(i-e)*(t-e)),n=Math.acos(n),e>t&&(n=u-n),n/=u),[360*n,a,r]},w.hsi=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(n,Ee.call(arguments).concat(["hsi"]),(function(){}))},p.hsi=L,n.prototype.hsi=function(){return le(this._rgb)},z=function(e,t,n,r){var i,o,a,s,l,u,c,f,d,p;return"hsl"===r?(d=e.hsl(),p=t.hsl()):"hsv"===r?(d=e.hsv(),p=t.hsv()):"hcg"===r?(d=e.hcg(),p=t.hcg()):"hsi"===r?(d=e.hsi(),p=t.hsi()):"lch"!==r&&"hcl"!==r||(r="hcl",d=e.hcl(),p=t.hcl()),"h"===r.substr(0,1)&&(o=d[0],c=d[1],s=d[2],a=p[0],f=p[1],l=p[2]),isNaN(o)||isNaN(a)?isNaN(o)?isNaN(a)?i=Number.NaN:(i=a,1!==s&&0!==s||"hsv"===r||(u=f)):(i=o,1!==l&&0!==l||"hsv"===r||(u=c)):i=o+n*(a>o&&a-o>180?a-(o+360):a<o&&o-a>180?a+360-o:a-o),null==u&&(u=c+n*(f-c)),w[r](i,u,s+n*(l-s))},B=function(e,t,n,r){var i,o;return i=e.num(),o=t.num(),w.num(i+(o-i)*n,"num")},(h=h.concat(function(){var e,t,n,r;for(r=[],t=0,e=(n=["hsv","hsl","hsi","hcl","lch","hcg"]).length;t<e;t++)J=n[t],r.push([J,z]);return r}())).push(["num",B]),q=function(e,t,r,i){var o,a;return o=e.lab(),a=t.lab(),new n(o[0]+r*(a[0]-o[0]),o[1]+r*(a[1]-o[1]),o[2]+r*(a[2]-o[2]),i)},h.push(["lab",q])}.call(this)},71707:(e,t,n)=>{!function(e){"use strict";function t(e,t){this.cm=e,this.options=t,this.widget=null,this.debounce=0,this.tick=0,this.startPos=this.cm.getCursor("start"),this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length;var n=this;e.on("cursorActivity",this.activityFunc=function(){n.cursorActivity()})}e.showHint=function(e,t,n){if(!t)return e.showHint(n);n&&n.async&&(t.async=!0);var r={hint:t};if(n)for(var i in n)r[i]=n[i];return e.showHint(r)},e.defineExtension("showHint",(function(n){n=function(e,t,n){var r=e.options.hintOptions,i={};for(var o in l)i[o]=l[o];if(r)for(var o in r)void 0!==r[o]&&(i[o]=r[o]);if(n)for(var o in n)void 0!==n[o]&&(i[o]=n[o]);return i.hint.resolve&&(i.hint=i.hint.resolve(e,t)),i}(this,this.getCursor("start"),n);var r=this.listSelections();if(!(r.length>1)){if(this.somethingSelected()){if(!n.hint.supportsSelection)return;for(var i=0;i<r.length;i++)if(r[i].head.line!=r[i].anchor.line)return}this.state.completionActive&&this.state.completionActive.close();var o=this.state.completionActive=new t(this,n);o.options.hint&&(e.signal(this,"startCompletion",this),o.update(!0))}}));var n=window.requestAnimationFrame||function(e){return setTimeout(e,1e3/60)},r=window.cancelAnimationFrame||clearTimeout;function i(e){return"string"==typeof e?e:e.text}function o(e,t){for(;t&&t!=e;){if("LI"===t.nodeName.toUpperCase()&&t.parentNode==e)return t;t=t.parentNode}}function a(t,n){this.completion=t,this.data=n,this.picked=!1;var r=this,a=t.cm,s=this.hints=document.createElement("ul");s.className="CodeMirror-hints",this.selectedHint=n.selectedHint||0;for(var l=n.list,u=0;u<l.length;++u){var c=s.appendChild(document.createElement("li")),f=l[u],d="CodeMirror-hint"+(u!=this.selectedHint?"":" CodeMirror-hint-active");null!=f.className&&(d=f.className+" "+d),c.className=d,f.render?f.render(c,n,f):c.appendChild(document.createTextNode(f.displayText||i(f))),c.hintId=u}var p=a.cursorCoords(t.options.alignWithWord?n.from:null),h=p.left,g=p.bottom,m=!0;s.style.left=h+"px",s.style.top=g+"px";var y=window.innerWidth||Math.max(document.body.offsetWidth,document.documentElement.offsetWidth),v=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight);(t.options.container||document.body).appendChild(s);var b=s.getBoundingClientRect(),x=b.bottom-v,_=s.scrollHeight>s.clientHeight+1,w=a.getScrollInfo();if(x>0){var k=b.bottom-b.top;if(p.top-(p.bottom-b.top)-k>0)s.style.top=(g=p.top-k)+"px",m=!1;else if(k>v){s.style.height=v-5+"px",s.style.top=(g=p.bottom-b.top)+"px";var T=a.getCursor();n.from.ch!=T.ch&&(p=a.cursorCoords(T),s.style.left=(h=p.left)+"px",b=s.getBoundingClientRect())}}var C,O=b.right-y;if(O>0&&(b.right-b.left>y&&(s.style.width=y-5+"px",O-=b.right-b.left-y),s.style.left=(h=p.left-O)+"px"),_)for(var S=s.firstChild;S;S=S.nextSibling)S.style.paddingRight=a.display.nativeBarWidth+"px";return a.addKeyMap(this.keyMap=function(e,t){var n={Up:function(){t.moveFocus(-1)},Down:function(){t.moveFocus(1)},PageUp:function(){t.moveFocus(1-t.menuSize(),!0)},PageDown:function(){t.moveFocus(t.menuSize()-1,!0)},Home:function(){t.setFocus(0)},End:function(){t.setFocus(t.length-1)},Enter:t.pick,Tab:t.pick,Esc:t.close},r=e.options.customKeys,i=r?{}:n;function o(e,r){var o;o="string"!=typeof r?function(e){return r(e,t)}:n.hasOwnProperty(r)?n[r]:r,i[e]=o}if(r)for(var a in r)r.hasOwnProperty(a)&&o(a,r[a]);var s=e.options.extraKeys;if(s)for(var a in s)s.hasOwnProperty(a)&&o(a,s[a]);return i}(t,{moveFocus:function(e,t){r.changeActive(r.selectedHint+e,t)},setFocus:function(e){r.changeActive(e)},menuSize:function(){return r.screenAmount()},length:l.length,close:function(){t.close()},pick:function(){r.pick()},data:n})),t.options.closeOnUnfocus&&(a.on("blur",this.onBlur=function(){C=setTimeout((function(){t.close()}),100)}),a.on("focus",this.onFocus=function(){clearTimeout(C)})),a.on("scroll",this.onScroll=function(){var e=a.getScrollInfo(),n=a.getWrapperElement().getBoundingClientRect(),r=g+w.top-e.top,i=r-(window.pageYOffset||(document.documentElement||document.body).scrollTop);if(m||(i+=s.offsetHeight),i<=n.top||i>=n.bottom)return t.close();s.style.top=r+"px",s.style.left=h+w.left-e.left+"px"}),e.on(s,"dblclick",(function(e){var t=o(s,e.target||e.srcElement);t&&null!=t.hintId&&(r.changeActive(t.hintId),r.pick())})),e.on(s,"click",(function(e){var n=o(s,e.target||e.srcElement);n&&null!=n.hintId&&(r.changeActive(n.hintId),t.options.completeOnSingleClick&&r.pick())})),e.on(s,"mousedown",(function(){setTimeout((function(){a.focus()}),20)})),e.signal(n,"select",l[0],s.firstChild),!0}function s(e,t,n,r){if(e.async)e(t,r,n);else{var i=e(t,n);i&&i.then?i.then(r):r(i)}}t.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.tick=null,this.cm.off("cursorActivity",this.activityFunc),this.widget&&this.data&&e.signal(this.data,"close"),this.widget&&this.widget.close(),e.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(t,n){var r=t.list[n];r.hint?r.hint(this.cm,t,r):this.cm.replaceRange(i(r),r.from||t.from,r.to||t.to,"complete"),e.signal(t,"pick",r),this.close()},cursorActivity:function(){this.debounce&&(r(this.debounce),this.debounce=0);var e=this.cm.getCursor(),t=this.cm.getLine(e.line);if(e.line!=this.startPos.line||t.length-e.ch!=this.startLen-this.startPos.ch||e.ch<this.startPos.ch||this.cm.somethingSelected()||e.ch&&this.options.closeCharacters.test(t.charAt(e.ch-1)))this.close();else{var i=this;this.debounce=n((function(){i.update()})),this.widget&&this.widget.disable()}},update:function(e){if(null!=this.tick){var t=this,n=++this.tick;s(this.options.hint,this.cm,this.options,(function(r){t.tick==n&&t.finishUpdate(r,e)}))}},finishUpdate:function(t,n){this.data&&e.signal(this.data,"update");var r,i,o=this.widget&&this.widget.picked||n&&this.options.completeSingle;this.widget&&this.widget.close(),t&&this.data&&(r=this.data,i=t,e.cmpPos(i.from,r.from)>0&&r.to.ch-r.from.ch!=i.to.ch-i.from.ch)||(this.data=t,t&&t.list.length&&(o&&1==t.list.length?this.pick(t,0):(this.widget=new a(this,t),e.signal(t,"shown"))))}},a.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var e=this.completion.cm;this.completion.options.closeOnUnfocus&&(e.off("blur",this.onBlur),e.off("focus",this.onFocus)),e.off("scroll",this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var e=this;this.keyMap={Enter:function(){e.picked=!0}},this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(t,n){if(t>=this.data.list.length?t=n?this.data.list.length-1:0:t<0&&(t=n?0:this.data.list.length-1),this.selectedHint!=t){var r=this.hints.childNodes[this.selectedHint];r.className=r.className.replace(" CodeMirror-hint-active",""),(r=this.hints.childNodes[this.selectedHint=t]).className+=" CodeMirror-hint-active",r.offsetTop<this.hints.scrollTop?this.hints.scrollTop=r.offsetTop-3:r.offsetTop+r.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=r.offsetTop+r.offsetHeight-this.hints.clientHeight+3),e.signal(this.data,"select",this.data.list[this.selectedHint],r)}},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1}},e.registerHelper("hint","auto",{resolve:function(t,n){var r,i=t.getHelpers(n,"hint");if(i.length){var o=function(e,t,n){var r=function(e,t){if(!e.somethingSelected())return t;for(var n=[],r=0;r<t.length;r++)t[r].supportsSelection&&n.push(t[r]);return n}(e,i);!function i(o){if(o==r.length)return t(null);s(r[o],e,n,(function(e){e&&e.list.length>0?t(e):i(o+1)}))}(0)};return o.async=!0,o.supportsSelection=!0,o}return(r=t.getHelper(t.getCursor(),"hintWords"))?function(t){return e.hint.fromList(t,{words:r})}:e.hint.anyword?function(t,n){return e.hint.anyword(t,n)}:function(){}}}),e.registerHelper("hint","fromList",(function(t,n){var r=t.getCursor(),i=t.getTokenAt(r),o=e.Pos(r.line,i.end);if(i.string&&/\w/.test(i.string[i.string.length-1]))var a=i.string,s=e.Pos(r.line,i.start);else a="",s=o;for(var l=[],u=0;u<n.words.length;u++){var c=n.words[u];c.slice(0,a.length)==a&&l.push(c)}if(l.length)return{list:l,from:s,to:o}})),e.commands.autocomplete=e.showHint;var l={hint:e.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnUnfocus:!0,completeOnSingleClick:!0,container:null,customKeys:null,extraKeys:null};e.defineOption("hintOptions",null)}(n(4631))},62193:(e,t,n)=>{!function(e){"use strict";e.registerHelper("lint","json",(function(t){var n=[];jsonlint.parseError=function(t,r){var i=r.loc;n.push({from:e.Pos(i.first_line-1,i.first_column),to:e.Pos(i.last_line-1,i.last_column),message:t})};try{jsonlint.parse(t)}catch(e){}return n}))}(n(4631))},3256:(e,t,n)=>{!function(e){"use strict";var t="CodeMirror-lint-markers";function n(e){e.parentNode&&e.parentNode.removeChild(e)}function r(t,r,i){var o=function(t,n){var r=document.createElement("div");function i(t){if(!r.parentNode)return e.off(document,"mousemove",i);r.style.top=Math.max(0,t.clientY-r.offsetHeight-5)+"px",r.style.left=t.clientX+5+"px"}return r.className="CodeMirror-lint-tooltip",r.appendChild(n.cloneNode(!0)),document.body.appendChild(r),e.on(document,"mousemove",i),i(t),null!=r.style.opacity&&(r.style.opacity=1),r}(t,r);function a(){var t;e.off(i,"mouseout",a),o&&((t=o).parentNode&&(null==t.style.opacity&&n(t),t.style.opacity=0,setTimeout((function(){n(t)}),600)),o=null)}var s=setInterval((function(){if(o)for(var e=i;;e=e.parentNode){if(e&&11==e.nodeType&&(e=e.host),e==document.body)return;if(!e){a();break}}if(!o)return clearInterval(s)}),400);e.on(i,"mouseout",a)}function i(e,t,n){this.marked=[],this.options=t,this.timeout=null,this.hasGutter=n,this.onMouseOver=function(t){!function(e,t){var n=t.target||t.srcElement;if(/\bCodeMirror-lint-mark-/.test(n.className)){for(var i=n.getBoundingClientRect(),o=(i.left+i.right)/2,a=(i.top+i.bottom)/2,l=e.findMarksAt(e.coordsChar({left:o,top:a},"client")),u=[],c=0;c<l.length;++c){var f=l[c].__annotation;f&&u.push(f)}u.length&&function(e,t){for(var n=t.target||t.srcElement,i=document.createDocumentFragment(),o=0;o<e.length;o++){var a=e[o];i.appendChild(s(a))}r(t,i,n)}(u,t)}}(e,t)},this.waitingFor=0}function o(e){var n=e.state.lint;n.hasGutter&&e.clearGutter(t);for(var r=0;r<n.marked.length;++r)n.marked[r].clear();n.marked.length=0}function a(t,n,i,o){var a=document.createElement("div"),s=a;return a.className="CodeMirror-lint-marker-"+n,i&&((s=a.appendChild(document.createElement("div"))).className="CodeMirror-lint-marker-multiple"),0!=o&&e.on(s,"mouseover",(function(e){r(e,t,s)})),a}function s(e){var t=e.severity;t||(t="error");var n=document.createElement("div");return n.className="CodeMirror-lint-message-"+t,n.appendChild(document.createTextNode(e.message)),n}function l(t){var n=t.state.lint.options,r=n.options||n,i=n.getAnnotations||t.getHelper(e.Pos(0,0),"lint");i&&(n.async||i.async?function(t,n,r){var i=t.state.lint,o=++i.waitingFor;function a(){o=-1,t.off("change",a)}t.on("change",a),n(t.getValue(),(function(n,r){t.off("change",a),i.waitingFor==o&&(r&&n instanceof e&&(n=r),u(t,n))}),r,t)}(t,i,r):u(t,i(t.getValue(),r,t)))}function u(e,n){o(e);for(var r=e.state.lint,i=r.options,l=function(e){for(var t=[],n=0;n<e.length;++n){var r=e[n],i=r.from.line;(t[i]||(t[i]=[])).push(r)}return t}(n),u=0;u<l.length;++u){var c=l[u];if(c){for(var f=null,d=r.hasGutter&&document.createDocumentFragment(),p=0;p<c.length;++p){var h=c[p],g=h.severity;g||(g="error"),y=g,f="error"==(m=f)?m:y,i.formatAnnotation&&(h=i.formatAnnotation(h)),r.hasGutter&&d.appendChild(s(h)),h.to&&r.marked.push(e.markText(h.from,h.to,{className:"CodeMirror-lint-mark-"+g,__annotation:h}))}r.hasGutter&&e.setGutterMarker(u,t,a(d,f,c.length>1,r.options.tooltips))}}var m,y;i.onUpdateLinting&&i.onUpdateLinting(n,l,e)}function c(e){var t=e.state.lint;t&&(clearTimeout(t.timeout),t.timeout=setTimeout((function(){l(e)}),t.options.delay||500))}e.defineOption("lint",!1,(function(n,r,a){if(a&&a!=e.Init&&(o(n),!1!==n.state.lint.options.lintOnChange&&n.off("change",c),e.off(n.getWrapperElement(),"mouseover",n.state.lint.onMouseOver),clearTimeout(n.state.lint.timeout),delete n.state.lint),r){for(var s=n.getOption("gutters"),u=!1,f=0;f<s.length;++f)s[f]==t&&(u=!0);var d=n.state.lint=new i(n,(p=r)instanceof Function?{getAnnotations:p}:(p&&!0!==p||(p={}),p),u);!1!==d.options.lintOnChange&&n.on("change",c),0!=d.options.tooltips&&e.on(n.getWrapperElement(),"mouseover",d.onMouseOver),l(n)}var p})),e.defineExtension("performLint",(function(){this.state.lint&&l(this)}))}(n(4631))},32095:(e,t,n)=>{!function(e){"use strict";var t=e.Pos;function n(e,n,i,o){if(this.atOccurrence=!1,this.doc=e,null==o&&"string"==typeof n&&(o=!1),i=i?e.clipPos(i):t(0,0),this.pos={from:i,to:i},"string"!=typeof n)n.global||(n=new RegExp(n.source,n.ignoreCase?"ig":"g")),this.matches=function(r,i){if(r){n.lastIndex=0;for(var o=e.getLine(i.line).slice(0,i.ch),a=0;;){n.lastIndex=a;var s=n.exec(o);if(!s)break;if(u=(l=s).index,(a=l.index+(l[0].length||1))==o.length)break}(c=l&&l[0].length||0)||(0==u&&0==o.length?l=void 0:u!=e.getLine(i.line).length&&c++)}else{n.lastIndex=i.ch,o=e.getLine(i.line);var l,u,c=(l=n.exec(o))&&l[0].length||0;(u=l&&l.index)+c==o.length||c||(c=1)}if(l&&c)return{from:t(i.line,u),to:t(i.line,u+c),match:l}};else{var a=n;o&&(n=n.toLowerCase());var s=o?function(e){return e.toLowerCase()}:function(e){return e},l=n.split("\n");if(1==l.length)n.length?this.matches=function(i,o){if(i){var l=e.getLine(o.line).slice(0,o.ch);if((c=(u=s(l)).lastIndexOf(n))>-1)return c=r(l,u,c),{from:t(o.line,c),to:t(o.line,c+a.length)}}else{var u,c;if(l=e.getLine(o.line).slice(o.ch),(c=(u=s(l)).indexOf(n))>-1)return c=r(l,u,c)+o.ch,{from:t(o.line,c),to:t(o.line,c+a.length)}}}:this.matches=function(){};else{var u=a.split("\n");this.matches=function(n,r){var i,o=l.length-1;if(n){if(r.line-(l.length-1)<e.firstLine())return;if(s(e.getLine(r.line).slice(0,u[o].length))!=l[l.length-1])return;for(var a=t(r.line,u[o].length),c=r.line-1,f=o-1;f>=1;--f,--c)if(l[f]!=s(e.getLine(c)))return;var d=(i=e.getLine(c)).length-u[0].length;if(s(i.slice(d))!=l[0])return;return{from:t(c,d),to:a}}if(!(r.line+(l.length-1)>e.lastLine())&&(d=(i=e.getLine(r.line)).length-u[0].length,s(i.slice(d))==l[0])){var p=t(r.line,d);for(c=r.line+1,f=1;f<o;++f,++c)if(l[f]!=s(e.getLine(c)))return;if(s(e.getLine(c).slice(0,u[o].length))==l[o])return{from:p,to:t(c,u[o].length)}}}}}}function r(e,t,n){if(e.length==t.length)return n;for(var r=Math.min(n,e.length);;){var i=e.slice(0,r).toLowerCase().length;if(i<n)++r;else{if(!(i>n))return r;--r}}}n.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(e){var n=this,r=this.doc.clipPos(e?this.pos.from:this.pos.to);function i(e){var r=t(e,0);return n.pos={from:r,to:r},n.atOccurrence=!1,!1}for(;;){if(this.pos=this.matches(e,r))return this.atOccurrence=!0,this.pos.match||!0;if(e){if(!r.line)return i(0);r=t(r.line-1,this.doc.getLine(r.line-1).length)}else{var o=this.doc.lineCount();if(r.line==o-1)return i(o);r=t(r.line+1,0)}}},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(n,r){if(this.atOccurrence){var i=e.splitLines(n);this.doc.replaceRange(i,this.pos.from,this.pos.to,r),this.pos.to=t(this.pos.from.line+i.length-1,i[i.length-1].length+(1==i.length?this.pos.from.ch:0))}}},e.defineExtension("getSearchCursor",(function(e,t,r){return new n(this.doc,e,t,r)})),e.defineDocExtension("getSearchCursor",(function(e,t,r){return new n(this,e,t,r)})),e.defineExtension("selectMatches",(function(t,n){for(var r=[],i=this.getSearchCursor(t,this.getCursor("from"),n);i.findNext()&&!(e.cmpPos(i.to(),this.getCursor("to"))>0);)r.push({anchor:i.from(),head:i.to()});r.length&&this.setSelections(r,0)}))}(n(4631))},64020:(e,t,n)=>{!function(e){"use strict";function t(e){e.operation((function(){!function(e){if(!e.somethingSelected())return a(e);if(e.listSelections().length>1)return s(e);var t=e.getCursor("start"),n=e.getCursor("end"),r=e.state.markedSelection;if(!r.length)return o(e,t,n);var l=r[0].find(),u=r[r.length-1].find();if(!l||!u||n.line-t.line<8||i(t,u.to)>=0||i(n,l.from)<=0)return s(e);for(;i(t,l.from)>0;)r.shift().clear(),l=r[0].find();for(i(t,l.from)<0&&(l.to.line-t.line<8?(r.shift().clear(),o(e,t,l.to,0)):o(e,t,l.from,0));i(n,u.to)<0;)r.pop().clear(),u=r[r.length-1].find();i(n,u.to)>0&&(n.line-u.from.line<8?(r.pop().clear(),o(e,u.from,n)):o(e,u.to,n))}(e)}))}function n(e){e.state.markedSelection.length&&e.operation((function(){a(e)}))}e.defineOption("styleSelectedText",!1,(function(r,i,o){var l=o&&o!=e.Init;i&&!l?(r.state.markedSelection=[],r.state.markedSelectionStyle="string"==typeof i?i:"CodeMirror-selectedtext",s(r),r.on("cursorActivity",t),r.on("change",n)):!i&&l&&(r.off("cursorActivity",t),r.off("change",n),a(r),r.state.markedSelection=r.state.markedSelectionStyle=null)}));var r=e.Pos,i=e.cmpPos;function o(e,t,n,o){if(0!=i(t,n))for(var a=e.state.markedSelection,s=e.state.markedSelectionStyle,l=t.line;;){var u=l==t.line?t:r(l,0),c=l+8,f=c>=n.line,d=f?n:r(c,0),p=e.markText(u,d,{className:s});if(null==o?a.push(p):a.splice(o++,0,p),f)break;l=c}}function a(e){for(var t=e.state.markedSelection,n=0;n<t.length;++n)t[n].clear();t.length=0}function s(e){a(e);for(var t=e.listSelections(),n=0;n<t.length;n++)o(e,t[n].from(),t[n].to())}}(n(4631))},4631:e=>{e.exports=function(){"use strict";var e=navigator.userAgent,t=navigator.platform,n=/gecko\/\d/i.test(e),r=/MSIE \d/.test(e),i=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),o=r||i,a=o&&(r?document.documentMode||6:i[1]),s=/WebKit\//.test(e),l=s&&/Qt\/\d+\.\d+/.test(e),u=/Chrome\//.test(e),c=/Opera\//.test(e),f=/Apple Computer/.test(navigator.vendor),d=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),p=/PhantomJS/.test(e),h=/AppleWebKit/.test(e)&&/Mobile\/\w+/.test(e),g=h||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),m=h||/Mac/.test(t),y=/\bCrOS\b/.test(e),v=/win/i.test(t),b=c&&e.match(/Version\/(\d*\.\d*)/);b&&(b=Number(b[1])),b&&b>=15&&(c=!1,s=!0);var x=m&&(l||c&&(null==b||b<12.11)),_=n||o&&a>=9,w=!1,k=!1;function T(e,t){if(!(this instanceof T))return new T(e,t);this.options=t=t?wo(t):{},wo(er,t,!1),N(t);var n=t.value;"string"==typeof n&&(n=new yi(n,t.mode,null,t.lineSeparator)),this.doc=n;var r=new T.inputStyles[t.inputStyle](this),i=this.display=new C(e,n,r);i.wrapper.CodeMirror=this,D(this),E(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),t.autofocus&&!g&&i.input.focus(),F(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new co,keySeq:null,specialChars:null};var l=this;for(var u in o&&a<11&&setTimeout((function(){l.display.input.reset(!0)}),20),function(e){var t=e.display;Ki(t.scroller,"mousedown",Xt(e,fn)),Ki(t.scroller,"dblclick",o&&a<11?Xt(e,(function(t){if(!to(e,t)){var n=cn(e,t);if(n&&!pn(e,t)&&!un(e.display,t)){Bi(t);var r=e.findWordAt(n);Be(e.doc,r.anchor,r.head)}}})):function(t){to(e,t)||Bi(t)}),_||Ki(t.scroller,"contextmenu",(function(t){Ln(e,t)}));var n,r={end:0};function i(){t.activeTouch&&(n=setTimeout((function(){t.activeTouch=null}),1e3),(r=t.activeTouch).end=+new Date)}function s(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function l(e,t){if(null==t.left)return!0;var n=t.left-e.left,r=t.top-e.top;return n*n+r*r>400}Ki(t.scroller,"touchstart",(function(i){if(!to(e,i)&&!s(i)){clearTimeout(n);var o=+new Date;t.activeTouch={start:o,moved:!1,prev:o-r.end<=300?r:null},1==i.touches.length&&(t.activeTouch.left=i.touches[0].pageX,t.activeTouch.top=i.touches[0].pageY)}})),Ki(t.scroller,"touchmove",(function(){t.activeTouch&&(t.activeTouch.moved=!0)})),Ki(t.scroller,"touchend",(function(n){var r=t.activeTouch;if(r&&!un(t,n)&&null!=r.left&&!r.moved&&new Date-r.start<300){var o,a=e.coordsChar(t.activeTouch,"page");o=!r.prev||l(r,r.prev)?new Le(a,a):!r.prev.prev||l(r,r.prev.prev)?e.findWordAt(a):new Le(pe(a.line,0),je(e.doc,pe(a.line+1,0))),e.setSelection(o.anchor,o.head),e.focus(),Bi(n)}i()})),Ki(t.scroller,"touchcancel",i),Ki(t.scroller,"scroll",(function(){t.scroller.clientHeight&&(yn(e,t.scroller.scrollTop),vn(e,t.scroller.scrollLeft,!0),$i(e,"scroll",e))})),Ki(t.scroller,"mousewheel",(function(t){wn(e,t)})),Ki(t.scroller,"DOMMouseScroll",(function(t){wn(e,t)})),Ki(t.wrapper,"scroll",(function(){t.wrapper.scrollTop=t.wrapper.scrollLeft=0})),t.dragFunctions={enter:function(t){to(e,t)||Vi(t)},over:function(t){to(e,t)||(function(e,t){var n=cn(e,t);if(n){var r=document.createDocumentFragment();nt(e,n,r),e.display.dragCursor||(e.display.dragCursor=Po("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),Lo(e.display.dragCursor,r)}}(e,t),Vi(t))},start:function(t){!function(e,t){if(o&&(!e.state.draggingText||+new Date-hn<100))Vi(t);else if(!to(e,t)&&!un(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!f)){var n=Po("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",c&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),c&&n.parentNode.removeChild(n)}}(e,t)},drop:Xt(e,gn),leave:function(t){to(e,t)||mn(e)}};var u=t.input.getField();Ki(u,"keyup",(function(t){Mn.call(e,t)})),Ki(u,"keydown",Xt(e,An)),Ki(u,"keypress",Xt(e,En)),Ki(u,"focus",ko(Pn,e)),Ki(u,"blur",ko(Dn,e))}(this),function(){Bo||(Ki(window,"resize",(function(){null==e&&(e=setTimeout((function(){e=null,Fo(ln)}),100))})),Ki(window,"blur",(function(){Fo(Dn)})),Bo=!0);var e}(),Ht(this),this.curOp.forceUpdate=!0,_i(this,n),t.autofocus&&!g||l.hasFocus()?setTimeout(ko(Pn,this),20):Dn(this),tr)tr.hasOwnProperty(u)&&tr[u](this,t[u],rr);W(this),t.finishInit&&t.finishInit(this);for(var d=0;d<sr.length;++d)sr[d](this);Ut(this),s&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(i.lineDiv).textRendering&&(i.lineDiv.style.textRendering="auto")}function C(e,t,r){var i=this;this.input=r,i.scrollbarFiller=Po("div",null,"CodeMirror-scrollbar-filler"),i.scrollbarFiller.setAttribute("cm-not-content","true"),i.gutterFiller=Po("div",null,"CodeMirror-gutter-filler"),i.gutterFiller.setAttribute("cm-not-content","true"),i.lineDiv=Po("div",null,"CodeMirror-code"),i.selectionDiv=Po("div",null,null,"position: relative; z-index: 1"),i.cursorDiv=Po("div",null,"CodeMirror-cursors"),i.measure=Po("div",null,"CodeMirror-measure"),i.lineMeasure=Po("div",null,"CodeMirror-measure"),i.lineSpace=Po("div",[i.measure,i.lineMeasure,i.selectionDiv,i.cursorDiv,i.lineDiv],null,"position: relative; outline: none"),i.mover=Po("div",[Po("div",[i.lineSpace],"CodeMirror-lines")],null,"position: relative"),i.sizer=Po("div",[i.mover],"CodeMirror-sizer"),i.sizerWidth=null,i.heightForcer=Po("div",null,null,"position: absolute; height: "+oo+"px; width: 1px;"),i.gutters=Po("div",null,"CodeMirror-gutters"),i.lineGutter=null,i.scroller=Po("div",[i.sizer,i.heightForcer,i.gutters],"CodeMirror-scroll"),i.scroller.setAttribute("tabIndex","-1"),i.wrapper=Po("div",[i.scrollbarFiller,i.gutterFiller,i.scroller],"CodeMirror"),o&&a<8&&(i.gutters.style.zIndex=-1,i.scroller.style.paddingRight=0),s||n&&g||(i.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(i.wrapper):e(i.wrapper)),i.viewFrom=i.viewTo=t.first,i.reportedViewFrom=i.reportedViewTo=t.first,i.view=[],i.renderedView=null,i.externalMeasured=null,i.viewOffset=0,i.lastWrapHeight=i.lastWrapWidth=0,i.updateLineNumbers=null,i.nativeBarWidth=i.barHeight=i.barWidth=0,i.scrollbarsClipped=!1,i.lineNumWidth=i.lineNumInnerWidth=i.lineNumChars=null,i.alignWidgets=!1,i.cachedCharWidth=i.cachedTextHeight=i.cachedPaddingH=null,i.maxLine=null,i.maxLineLength=0,i.maxLineChanged=!1,i.wheelDX=i.wheelDY=i.wheelStartX=i.wheelStartY=null,i.shift=!1,i.selForContextMenu=null,i.activeTouch=null,r.init(i)}function O(e){e.doc.mode=T.getMode(e.options,e.doc.modeOption),S(e)}function S(e){e.doc.iter((function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)})),e.doc.frontier=e.doc.first,ot(e,100),e.state.modeGen++,e.curOp&&tn(e)}function A(e){var t=Nt(e.display),n=e.options.lineWrapping,r=n&&Math.max(5,e.display.scroller.clientWidth/jt(e.display)-3);return function(i){if(Ur(e.doc,i))return 0;var o=0;if(i.widgets)for(var a=0;a<i.widgets.length;a++)i.widgets[a].height&&(o+=i.widgets[a].height);return n?o+(Math.ceil(i.text.length/r)||1)*t:o+t}}function M(e){var t=e.doc,n=A(e);t.iter((function(e){var t=n(e);t!=e.height&&Ci(e,t)}))}function E(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Ct(e)}function P(e){D(e),tn(e),setTimeout((function(){V(e)}),20)}function D(e){var t=e.display.gutters,n=e.options.gutters;Do(t);for(var r=0;r<n.length;++r){var i=n[r],o=t.appendChild(Po("div",null,"CodeMirror-gutter "+i));"CodeMirror-linenumbers"==i&&(e.display.lineGutter=o,o.style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=r?"":"none",L(e)}function L(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function R(e){if(0==e.height)return 0;for(var t,n=e.text.length,r=e;t=jr(r);)r=(i=t.find(0,!0)).from.line,n+=i.from.ch-i.to.ch;for(r=e;t=zr(r);){var i=t.find(0,!0);n-=r.text.length-i.from.ch,n+=(r=i.to.line).text.length-i.to.ch}return n}function I(e){var t=e.display,n=e.doc;t.maxLine=wi(n,n.first),t.maxLineLength=R(t.maxLine),t.maxLineChanged=!0,n.iter((function(e){var n=R(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)}))}function N(e){var t=vo(e.gutters,"CodeMirror-linenumbers");-1==t&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}function j(e){var t=e.display,n=t.gutters.offsetWidth,r=Math.round(e.doc.height+ut(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+ft(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}function z(e,t,n){this.cm=n;var r=this.vert=Po("div",[Po("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=Po("div",[Po("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");e(r),e(i),Ki(r,"scroll",(function(){r.clientHeight&&t(r.scrollTop,"vertical")})),Ki(i,"scroll",(function(){i.clientWidth&&t(i.scrollLeft,"horizontal")})),this.checkedZeroWidth=!1,o&&a<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}function q(){}function F(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&jo(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new T.scrollbarModel[e.options.scrollbarStyle]((function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),Ki(t,"mousedown",(function(){e.state.focused&&setTimeout((function(){e.display.input.focus()}),0)})),t.setAttribute("cm-not-content","true")}),(function(t,n){"horizontal"==n?vn(e,t):yn(e,t)}),e),e.display.scrollbars.addClass&&zo(e.display.wrapper,e.display.scrollbars.addClass)}function B(e,t){t||(t=j(e));var n=e.display.barWidth,r=e.display.barHeight;H(e,t);for(var i=0;i<4&&n!=e.display.barWidth||r!=e.display.barHeight;i++)n!=e.display.barWidth&&e.options.lineWrapping&&Q(e),H(e,j(e)),n=e.display.barWidth,r=e.display.barHeight}function H(e,t){var n=e.display,r=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",n.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}function U(e,t,n){var r=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;r=Math.floor(r-lt(e));var i=n&&null!=n.bottom?n.bottom:r+e.wrapper.clientHeight,o=Si(t,r),a=Si(t,i);if(n&&n.ensure){var s=n.ensure.from.line,l=n.ensure.to.line;s<o?(o=s,a=Si(t,Ai(wi(t,s))+e.wrapper.clientHeight)):Math.min(l,t.lastLine())>=a&&(o=Si(t,Ai(wi(t,l))-e.wrapper.clientHeight),a=l)}return{from:o,to:Math.max(a,o+1)}}function V(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var r=K(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,o=r+"px",a=0;a<n.length;a++)if(!n[a].hidden){e.options.fixedGutter&&(n[a].gutter&&(n[a].gutter.style.left=o),n[a].gutterBackground&&(n[a].gutterBackground.style.left=o));var s=n[a].alignable;if(s)for(var l=0;l<s.length;l++)s[l].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=r+i+"px")}}function W(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=G(e.options,t.first+t.size-1),r=e.display;if(n.length!=r.lineNumChars){var i=r.measure.appendChild(Po("div",[Po("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=i.firstChild.offsetWidth,a=i.offsetWidth-o;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(o,r.lineGutter.offsetWidth-a)+1,r.lineNumWidth=r.lineNumInnerWidth+a,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",L(e),!0}return!1}function G(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function K(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function Y(e,t,n){var r=e.display;this.viewport=t,this.visible=U(r,e.doc,t),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=dt(e),this.force=n,this.dims=te(e),this.events=[]}function Z(e,t){var n=e.display,r=e.doc;if(t.editorIsHidden)return rn(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==sn(e))return!1;W(e)&&(rn(e),t.dims=te(e));var i=r.first+r.size,o=Math.max(t.visible.from-e.options.viewportMargin,r.first),a=Math.min(i,t.visible.to+e.options.viewportMargin);n.viewFrom<o&&o-n.viewFrom<20&&(o=Math.max(r.first,n.viewFrom)),n.viewTo>a&&n.viewTo-a<20&&(a=Math.min(i,n.viewTo)),k&&(o=Br(e.doc,o),a=Hr(e.doc,a));var l=o!=n.viewFrom||a!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;(function(e,t,n){var r=e.display;0==r.view.length||t>=r.viewTo||n<=r.viewFrom?(r.view=en(e,t,n),r.viewFrom=t):(r.viewFrom>t?r.view=en(e,t,r.viewFrom).concat(r.view):r.viewFrom<t&&(r.view=r.view.slice(on(e,t))),r.viewFrom=t,r.viewTo<n?r.view=r.view.concat(en(e,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,on(e,n)))),r.viewTo=n})(e,o,a),n.viewOffset=Ai(wi(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var u=sn(e);if(!l&&0==u&&!t.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var c=Io();return u>4&&(n.lineDiv.style.display="none"),function(e,t,n){var r=e.display,i=e.options.lineNumbers,o=r.lineDiv,a=o.firstChild;function l(t){var n=t.nextSibling;return s&&m&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var u=r.view,c=r.viewFrom,f=0;f<u.length;f++){var d=u[f];if(d.hidden);else if(d.node&&d.node.parentNode==o){for(;a!=d.node;)a=l(a);var p=i&&null!=t&&t<=c&&d.lineNumber;d.changes&&(vo(d.changes,"gutter")>-1&&(p=!1),ne(e,d,c,n)),p&&(Do(d.lineNumber),d.lineNumber.appendChild(document.createTextNode(G(e.options,c)))),a=d.node.nextSibling}else{var h=ue(e,d,c,n);o.insertBefore(h,a)}c+=d.size}for(;a;)a=l(a)}(e,n.updateLineNumbers,t.dims),u>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,c&&Io()!=c&&c.offsetHeight&&c.focus(),Do(n.cursorDiv),Do(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,l&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,ot(e,400)),n.updateLineNumbers=null,!0}function X(e,t){for(var n=t.viewport,r=!0;(r&&e.options.lineWrapping&&t.oldDisplayWidth!=dt(e)||(n&&null!=n.top&&(n={top:Math.min(e.doc.height+ut(e.display)-pt(e),n.top)}),t.visible=U(e.display,e.doc,n),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&Z(e,t);r=!1){Q(e);var i=j(e);et(e),B(e,i),J(e,i)}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function $(e,t){var n=new Y(e,t);if(Z(e,n)){Q(e),X(e,n);var r=j(e);et(e),B(e,r),J(e,r),n.finish()}}function J(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+ft(e)+"px"}function Q(e){for(var t=e.display,n=t.lineDiv.offsetTop,r=0;r<t.view.length;r++){var i,s=t.view[r];if(!s.hidden){if(o&&a<8){var l=s.node.offsetTop+s.node.offsetHeight;i=l-n,n=l}else{var u=s.node.getBoundingClientRect();i=u.bottom-u.top}var c=s.line.height-i;if(i<2&&(i=Nt(t)),(c>.001||c<-.001)&&(Ci(s.line,i),ee(s.line),s.rest))for(var f=0;f<s.rest.length;f++)ee(s.rest[f])}}}function ee(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t)e.widgets[t].height=e.widgets[t].node.parentNode.offsetHeight}function te(e){for(var t=e.display,n={},r={},i=t.gutters.clientLeft,o=t.gutters.firstChild,a=0;o;o=o.nextSibling,++a)n[e.options.gutters[a]]=o.offsetLeft+o.clientLeft+i,r[e.options.gutters[a]]=o.clientWidth;return{fixedPos:K(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function ne(e,t,n,r){for(var i=0;i<t.changes.length;i++){var o=t.changes[i];"text"==o?oe(e,t):"gutter"==o?se(e,t,n,r):"class"==o?ae(t):"widget"==o&&le(e,t,r)}t.changes=null}function re(e){return e.node==e.text&&(e.node=Po("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),o&&a<8&&(e.node.style.zIndex=2)),e.node}function ie(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):si(e,t)}function oe(e,t){var n=t.text.className,r=ie(e,t);t.text==t.node&&(t.node=r.pre),t.text.parentNode.replaceChild(r.pre,t.text),t.text=r.pre,r.bgClass!=t.bgClass||r.textClass!=t.textClass?(t.bgClass=r.bgClass,t.textClass=r.textClass,ae(t)):n&&(t.text.className=n)}function ae(e){(function(e){var t=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(t&&(t+=" CodeMirror-linebackground"),e.background)t?e.background.className=t:(e.background.parentNode.removeChild(e.background),e.background=null);else if(t){var n=re(e);e.background=n.insertBefore(Po("div",null,t),n.firstChild)}})(e),e.line.wrapClass?re(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var t=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=t||""}function se(e,t,n,r){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var i=re(t);t.gutterBackground=Po("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),i.insertBefore(t.gutterBackground,t.text)}var o=t.line.gutterMarkers;if(e.options.lineNumbers||o){i=re(t);var a=t.gutter=Po("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");if(e.display.input.setUneditable(a),i.insertBefore(a,t.text),t.line.gutterClass&&(a.className+=" "+t.line.gutterClass),!e.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(t.lineNumber=a.appendChild(Po("div",G(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),o)for(var s=0;s<e.options.gutters.length;++s){var l=e.options.gutters[s],u=o.hasOwnProperty(l)&&o[l];u&&a.appendChild(Po("div",[u],"CodeMirror-gutter-elt","left: "+r.gutterLeft[l]+"px; width: "+r.gutterWidth[l]+"px"))}}}function le(e,t,n){t.alignable&&(t.alignable=null);for(var r=t.node.firstChild;r;r=i){var i=r.nextSibling;"CodeMirror-linewidget"==r.className&&t.node.removeChild(r)}ce(e,t,n)}function ue(e,t,n,r){var i=ie(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),ae(t),se(e,t,n,r),ce(e,t,r),t.node}function ce(e,t,n){if(fe(e,t.line,t,n,!0),t.rest)for(var r=0;r<t.rest.length;r++)fe(e,t.rest[r],t,n,!1)}function fe(e,t,n,r,i){if(t.widgets)for(var o=re(n),a=0,s=t.widgets;a<s.length;++a){var l=s[a],u=Po("div",[l.node],"CodeMirror-linewidget");l.handleMouseEvents||u.setAttribute("cm-ignore-events","true"),de(l,u,n,r),e.display.input.setUneditable(u),i&&l.above?o.insertBefore(u,n.gutter||n.text):o.appendChild(u),Qi(l,"redraw")}}function de(e,t,n,r){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var i=r.wrapperWidth;t.style.left=r.fixedPos+"px",e.coverGutter||(i-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"))}z.prototype=wo({update:function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,r=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?r+"px":"0";var i=e.viewHeight-(t?r:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(n?r:0);this.horiz.firstChild.style.width=e.scrollWidth-e.clientWidth+o+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:t?r:0}},setScrollLeft:function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz)},setScrollTop:function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert)},zeroWidthHack:function(){var e=m&&!d?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new co,this.disableVert=new co},enableZeroWidthBar:function(e,t){e.style.pointerEvents="auto",t.set(1e3,(function n(){var r=e.getBoundingClientRect();document.elementFromPoint(r.left+1,r.bottom-1)!=e?e.style.pointerEvents="none":t.set(1e3,n)}))},clear:function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)}},z.prototype),q.prototype=wo({update:function(){return{bottom:0,right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},q.prototype),T.scrollbarModel={native:z,null:q},Y.prototype.signal=function(e,t){ro(e,t)&&this.events.push(arguments)},Y.prototype.finish=function(){for(var e=0;e<this.events.length;e++)$i.apply(null,this.events[e])};var pe=T.Pos=function(e,t){if(!(this instanceof pe))return new pe(e,t);this.line=e,this.ch=t},he=T.cmpPos=function(e,t){return e.line-t.line||e.ch-t.ch};function ge(e){return pe(e.line,e.ch)}function me(e,t){return he(e,t)<0?t:e}function ye(e,t){return he(e,t)<0?e:t}function ve(e){e.state.focused||(e.display.input.focus(),Pn(e))}var be=null;function xe(e,t,n,r,i){var o=e.doc;e.display.shift=!1,r||(r=o.sel);var a=e.state.pasteIncoming||"paste"==i,s=o.splitLines(t),l=null;if(a&&r.ranges.length>1)if(be&&be.text.join("\n")==t){if(r.ranges.length%be.text.length==0){l=[];for(var u=0;u<be.text.length;u++)l.push(o.splitLines(be.text[u]))}}else s.length==r.ranges.length&&(l=bo(s,(function(e){return[e]})));for(u=r.ranges.length-1;u>=0;u--){var c=r.ranges[u],f=c.from(),d=c.to();c.empty()&&(n&&n>0?f=pe(f.line,f.ch-n):e.state.overwrite&&!a?d=pe(d.line,Math.min(wi(o,d.line).text.length,d.ch+mo(s).length)):be&&be.lineWise&&be.text.join("\n")==t&&(f=d=pe(f.line,0)));var p=e.curOp.updateInput,h={from:f,to:d,text:l?l[u%l.length]:s,origin:i||(a?"paste":e.state.cutIncoming?"cut":"+input")};qn(e.doc,h),Qi(e,"inputRead",e,h)}t&&!a&&we(e,t),Kn(e),e.curOp.updateInput=p,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function _e(e,t){var n=e.clipboardData&&e.clipboardData.getData("Text");if(n)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||Zt(t,(function(){xe(t,n,0,null,"paste")})),!0}function we(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,r=n.ranges.length-1;r>=0;r--){var i=n.ranges[r];if(!(i.head.ch>100||r&&n.ranges[r-1].head.line==i.head.line)){var o=e.getModeAt(i.head),a=!1;if(o.electricChars){for(var s=0;s<o.electricChars.length;s++)if(t.indexOf(o.electricChars.charAt(s))>-1){a=Zn(e,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(wi(e.doc,i.head.line).text.slice(0,i.head.ch))&&(a=Zn(e,i.head.line,"smart"));a&&Qi(e,"electricInput",e,i.head.line)}}}function ke(e){for(var t=[],n=[],r=0;r<e.doc.sel.ranges.length;r++){var i=e.doc.sel.ranges[r].head.line,o={anchor:pe(i,0),head:pe(i+1,0)};n.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:n}}function Te(e,t){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck",!!t)}function Ce(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new co,this.inaccurateSelection=!1,this.hasSelection=!1,this.composing=null}function Oe(){var e=Po("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=Po("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return s?e.style.width="1000px":e.setAttribute("wrap","off"),h&&(e.style.border="1px solid black"),Te(e),t}function Se(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new co,this.gracePeriod=!1}function Ae(e,t){var n=mt(e,t.line);if(!n||n.hidden)return null;var r=wi(e.doc,t.line),i=ht(n,r,t.line),o=Mi(r),a="left";o&&(a=sa(o,t.ch)%2?"right":"left");var s=_t(i.map,t.ch,a);return s.offset="right"==s.collapse?s.end:s.start,s}function Me(e,t){return t&&(e.bad=!0),e}function Ee(e,t,n){var r;if(t==e.display.lineDiv){if(!(r=e.display.lineDiv.childNodes[n]))return Me(e.clipPos(pe(e.display.viewTo-1)),!0);t=null,n=0}else for(r=t;;r=r.parentNode){if(!r||r==e.display.lineDiv)return null;if(r.parentNode&&r.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var o=e.display.view[i];if(o.node==r)return Pe(o,t,n)}}function Pe(e,t,n){var r=e.text.firstChild,i=!1;if(!t||!Ro(r,t))return Me(pe(Oi(e.line),0),!0);if(t==r&&(i=!0,t=r.childNodes[n],n=0,!t)){var o=e.rest?mo(e.rest):e.line;return Me(pe(Oi(o),o.text.length),i)}var a=3==t.nodeType?t:null,s=t;for(a||1!=t.childNodes.length||3!=t.firstChild.nodeType||(a=t.firstChild,n&&(n=a.nodeValue.length));s.parentNode!=r;)s=s.parentNode;var l=e.measure,u=l.maps;function c(t,n,r){for(var i=-1;i<(u?u.length:0);i++)for(var o=i<0?l.map:u[i],a=0;a<o.length;a+=3){var s=o[a+2];if(s==t||s==n){var c=Oi(i<0?e.line:e.rest[i]),f=o[a]+r;return(r<0||s!=t)&&(f=o[a+(r?1:0)]),pe(c,f)}}}var f=c(a,s,n);if(f)return Me(f,i);for(var d=s.nextSibling,p=a?a.nodeValue.length-n:0;d;d=d.nextSibling){if(f=c(d,d.firstChild,0))return Me(pe(f.line,f.ch-p),i);p+=d.textContent.length}var h=s.previousSibling;for(p=n;h;h=h.previousSibling){if(f=c(h,h.firstChild,-1))return Me(pe(f.line,f.ch+p),i);p+=h.textContent.length}}function De(e,t){this.ranges=e,this.primIndex=t}function Le(e,t){this.anchor=e,this.head=t}function Re(e,t){var n=e[t];e.sort((function(e,t){return he(e.from(),t.from())})),t=vo(e,n);for(var r=1;r<e.length;r++){var i=e[r],o=e[r-1];if(he(o.to(),i.from())>=0){var a=ye(o.from(),i.from()),s=me(o.to(),i.to()),l=o.empty()?i.from()==i.head:o.from()==o.head;r<=t&&--t,e.splice(--r,2,new Le(l?s:a,l?a:s))}}return new De(e,t)}function Ie(e,t){return new De([new Le(e,t||e)],0)}function Ne(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function je(e,t){if(t.line<e.first)return pe(e.first,0);var n=e.first+e.size-1;return t.line>n?pe(n,wi(e,n).text.length):function(e,t){var n=e.ch;return null==n||n>t?pe(e.line,t):n<0?pe(e.line,0):e}(t,wi(e,t.line).text.length)}function ze(e,t){return t>=e.first&&t<e.first+e.size}function qe(e,t){for(var n=[],r=0;r<t.length;r++)n[r]=je(e,t[r]);return n}function Fe(e,t,n,r){if(e.cm&&e.cm.display.shift||e.extend){var i=t.anchor;if(r){var o=he(n,i)<0;o!=he(r,i)<0?(i=n,n=r):o!=he(n,r)<0&&(n=r)}return new Le(i,n)}return new Le(r||n,n)}function Be(e,t,n,r){Ge(e,new De([Fe(e,e.sel.primary(),t,n)],0),r)}function He(e,t,n){for(var r=[],i=0;i<e.sel.ranges.length;i++)r[i]=Fe(e,e.sel.ranges[i],t[i],null);Ge(e,Re(r,e.sel.primIndex),n)}function Ue(e,t,n,r){var i=e.sel.ranges.slice(0);i[t]=n,Ge(e,Re(i,e.sel.primIndex),r)}function Ve(e,t,n,r){Ge(e,Ie(t,n),r)}function We(e,t,n){var r=e.history.done,i=mo(r);i&&i.ranges?(r[r.length-1]=t,Ke(e,t,n)):Ge(e,t,n)}function Ge(e,t,n){Ke(e,t,n),function(e,t,n,r){var i=e.history,o=r&&r.origin;n==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||function(e,t,n,r){var i=t.charAt(0);return"*"==i||"+"==i&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}(e,o,mo(i.done),t))?i.done[i.done.length-1]=t:Ri(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=n,r&&!1!==r.clearRedo&&Di(i.undone)}(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function Ke(e,t,n){(ro(e,"beforeSelectionChange")||e.cm&&ro(e.cm,"beforeSelectionChange"))&&(t=function(e,t,n){var r={ranges:t.ranges,update:function(t){this.ranges=[];for(var n=0;n<t.length;n++)this.ranges[n]=new Le(je(e,t[n].anchor),je(e,t[n].head))},origin:n&&n.origin};return $i(e,"beforeSelectionChange",e,r),e.cm&&$i(e.cm,"beforeSelectionChange",e.cm,r),r.ranges!=t.ranges?Re(r.ranges,r.ranges.length-1):t}(e,t,n));var r=n&&n.bias||(he(t.primary().head,e.sel.primary().head)<0?-1:1);Ye(e,Xe(e,t,r,!0)),n&&!1===n.scroll||!e.cm||Kn(e.cm)}function Ye(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,no(e.cm)),Qi(e,"cursorActivity",e))}function Ze(e){Ye(e,Xe(e,e.sel,null,!1))}function Xe(e,t,n,r){for(var i,o=0;o<t.ranges.length;o++){var a=t.ranges[o],s=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],l=Je(e,a.anchor,s&&s.anchor,n,r),u=Je(e,a.head,s&&s.head,n,r);(i||l!=a.anchor||u!=a.head)&&(i||(i=t.ranges.slice(0,o)),i[o]=new Le(l,u))}return i?Re(i,t.primIndex):t}function $e(e,t,n,r,i){var o=wi(e,t.line);if(o.markedSpans)for(var a=0;a<o.markedSpans.length;++a){var s=o.markedSpans[a],l=s.marker;if((null==s.from||(l.inclusiveLeft?s.from<=t.ch:s.from<t.ch))&&(null==s.to||(l.inclusiveRight?s.to>=t.ch:s.to>t.ch))){if(i&&($i(l,"beforeCursorEnter"),l.explicitlyCleared)){if(o.markedSpans){--a;continue}break}if(!l.atomic)continue;if(n){var u,c=l.find(r<0?1:-1);if((r<0?l.inclusiveRight:l.inclusiveLeft)&&(c=Qe(e,c,-r,c&&c.line==t.line?o:null)),c&&c.line==t.line&&(u=he(c,n))&&(r<0?u<0:u>0))return $e(e,c,t,r,i)}var f=l.find(r<0?-1:1);return(r<0?l.inclusiveLeft:l.inclusiveRight)&&(f=Qe(e,f,r,f.line==t.line?o:null)),f?$e(e,f,t,r,i):null}}return t}function Je(e,t,n,r,i){var o=r||1;return $e(e,t,n,o,i)||!i&&$e(e,t,n,o,!0)||$e(e,t,n,-o,i)||!i&&$e(e,t,n,-o,!0)||(e.cantEdit=!0,pe(e.first,0))}function Qe(e,t,n,r){return n<0&&0==t.ch?t.line>e.first?je(e,pe(t.line-1)):null:n>0&&t.ch==(r||wi(e,t.line)).text.length?t.line<e.first+e.size-1?pe(t.line+1,0):null:new pe(t.line,t.ch+n)}function et(e){e.display.input.showSelection(e.display.input.prepareSelection())}function tt(e,t){for(var n=e.doc,r={},i=r.cursors=document.createDocumentFragment(),o=r.selection=document.createDocumentFragment(),a=0;a<n.sel.ranges.length;a++)if(!1!==t||a!=n.sel.primIndex){var s=n.sel.ranges[a];if(!(s.from().line>=e.display.viewTo||s.to().line<e.display.viewFrom)){var l=s.empty();(l||e.options.showCursorWhenSelecting)&&nt(e,s.head,i),l||rt(e,s,o)}}return r}function nt(e,t,n){var r=Pt(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),i=n.appendChild(Po("div"," ","CodeMirror-cursor"));if(i.style.left=r.left+"px",i.style.top=r.top+"px",i.style.height=Math.max(0,r.bottom-r.top)*e.options.cursorHeight+"px",r.other){var o=n.appendChild(Po("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=r.other.left+"px",o.style.top=r.other.top+"px",o.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function rt(e,t,n){var r=e.display,i=e.doc,o=document.createDocumentFragment(),a=ct(e.display),s=a.left,l=Math.max(r.sizerWidth,dt(e)-r.sizer.offsetLeft)-a.right;function u(e,t,n,r){t<0&&(t=0),t=Math.round(t),r=Math.round(r),o.appendChild(Po("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px; top: "+t+"px; width: "+(null==n?l-e:n)+"px; height: "+(r-t)+"px"))}function c(t,n,r){var o,a,c=wi(i,t),f=c.text.length;function d(n,r){return Et(e,pe(t,n),"div",c,r)}return function(e,t,n,r){if(!e)return r(t,n,"ltr");for(var i=!1,o=0;o<e.length;++o){var a=e[o];(a.from<n&&a.to>t||t==n&&a.to==t)&&(r(Math.max(a.from,t),Math.min(a.to,n),1==a.level?"rtl":"ltr"),i=!0)}i||r(t,n,"ltr")}(Mi(c),n||0,null==r?f:r,(function(e,t,i){var c,p,h,g=d(e,"left");if(e==t)c=g,p=h=g.left;else{if(c=d(t-1,"right"),"rtl"==i){var m=g;g=c,c=m}p=g.left,h=c.right}null==n&&0==e&&(p=s),c.top-g.top>3&&(u(p,g.top,null,g.bottom),p=s,g.bottom<c.top&&u(p,g.bottom,null,c.top)),null==r&&t==f&&(h=l),(!o||g.top<o.top||g.top==o.top&&g.left<o.left)&&(o=g),(!a||c.bottom>a.bottom||c.bottom==a.bottom&&c.right>a.right)&&(a=c),p<s+1&&(p=s),u(p,c.top,h-p,c.bottom)})),{start:o,end:a}}var f=t.from(),d=t.to();if(f.line==d.line)c(f.line,f.ch,d.ch);else{var p=wi(i,f.line),h=wi(i,d.line),g=Fr(p)==Fr(h),m=c(f.line,f.ch,g?p.text.length+1:null).end,y=c(d.line,g?0:null,d.ch).start;g&&(m.top<y.top-2?(u(m.right,m.top,null,m.bottom),u(s,y.top,y.left,y.bottom)):u(m.right,m.top,y.left-m.right,m.bottom)),m.bottom<y.top&&u(s,m.bottom,null,y.top)}n.appendChild(o)}function it(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval((function(){t.cursorDiv.style.visibility=(n=!n)?"":"hidden"}),e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function ot(e,t){e.doc.mode.startState&&e.doc.frontier<e.display.viewTo&&e.state.highlight.set(t,ko(at,e))}function at(e){var t=e.doc;if(t.frontier<t.first&&(t.frontier=t.first),!(t.frontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,r=ur(t.mode,st(e,t.frontier)),i=[];t.iter(t.frontier,Math.min(t.first+t.size,e.display.viewTo+500),(function(o){if(t.frontier>=e.display.viewFrom){var a=o.styles,s=o.text.length>e.options.maxHighlightLength,l=ti(e,o,s?ur(t.mode,r):r,!0);o.styles=l.styles;var u=o.styleClasses,c=l.classes;c?o.styleClasses=c:u&&(o.styleClasses=null);for(var f=!a||a.length!=o.styles.length||u!=c&&(!u||!c||u.bgClass!=c.bgClass||u.textClass!=c.textClass),d=0;!f&&d<a.length;++d)f=a[d]!=o.styles[d];f&&i.push(t.frontier),o.stateAfter=s?r:ur(t.mode,r)}else o.text.length<=e.options.maxHighlightLength&&ri(e,o.text,r),o.stateAfter=t.frontier%5==0?ur(t.mode,r):null;if(++t.frontier,+new Date>n)return ot(e,e.options.workDelay),!0})),i.length&&Zt(e,(function(){for(var t=0;t<i.length;t++)nn(e,i[t],"text")}))}}function st(e,t,n){var r=e.doc,i=e.display;if(!r.mode.startState)return!0;var o=function(e,t,n){for(var r,i,o=e.doc,a=n?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;s>a;--s){if(s<=o.first)return o.first;var l=wi(o,s-1);if(l.stateAfter&&(!n||s<=o.frontier))return s;var u=fo(l.text,null,e.options.tabSize);(null==i||r>u)&&(i=s-1,r=u)}return i}(e,t,n),a=o>r.first&&wi(r,o-1).stateAfter;return a=a?ur(r.mode,a):cr(r.mode),r.iter(o,t,(function(n){ri(e,n.text,a);var s=o==t-1||o%5==0||o>=i.viewFrom&&o<i.viewTo;n.stateAfter=s?ur(r.mode,a):null,++o})),n&&(r.frontier=o),a}function lt(e){return e.lineSpace.offsetTop}function ut(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function ct(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=Lo(e.measure,Po("pre","x")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,r={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(r.left)||isNaN(r.right)||(e.cachedPaddingH=r),r}function ft(e){return oo-e.display.nativeBarWidth}function dt(e){return e.display.scroller.clientWidth-ft(e)-e.display.barWidth}function pt(e){return e.display.scroller.clientHeight-ft(e)-e.display.barHeight}function ht(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var r=0;r<e.rest.length;r++)if(e.rest[r]==t)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(r=0;r<e.rest.length;r++)if(Oi(e.rest[r])>n)return{map:e.measure.maps[r],cache:e.measure.caches[r],before:!0}}function gt(e,t,n,r){return vt(e,yt(e,t),n,r)}function mt(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[on(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function yt(e,t){var n=Oi(t),r=mt(e,n);r&&!r.text?r=null:r&&r.changes&&(ne(e,r,n,te(e)),e.curOp.forceUpdate=!0),r||(r=function(e,t){var n=Oi(t=Fr(t)),r=e.display.externalMeasured=new Qt(e.doc,t,n);r.lineN=n;var i=r.built=si(e,r);return r.text=i.pre,Lo(e.display.lineMeasure,i.pre),r}(e,t));var i=ht(r,t,n);return{line:t,view:r,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function vt(e,t,n,r,i){t.before&&(n=-1);var s,l=n+(r||"");return t.cache.hasOwnProperty(l)?s=t.cache[l]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(function(e,t,n){var r=e.options.lineWrapping,i=r&&dt(e);if(!t.measure.heights||r&&t.measure.width!=i){var o=t.measure.heights=[];if(r){t.measure.width=i;for(var a=t.text.firstChild.getClientRects(),s=0;s<a.length-1;s++){var l=a[s],u=a[s+1];Math.abs(l.bottom-u.bottom)>2&&o.push((l.bottom+u.top)/2-n.top)}}o.push(n.bottom-n.top)}}(e,t.view,t.rect),t.hasHeights=!0),(s=function(e,t,n,r){var i,s=_t(t.map,n,r),l=s.node,u=s.start,c=s.end,f=s.collapse;if(3==l.nodeType){for(var d=0;d<4;d++){for(;u&&Eo(t.line.text.charAt(s.coverStart+u));)--u;for(;s.coverStart+c<s.coverEnd&&Eo(t.line.text.charAt(s.coverStart+c));)++c;if((i=o&&a<9&&0==u&&c==s.coverEnd-s.coverStart?l.parentNode.getBoundingClientRect():wt(Ao(l,u,c).getClientRects(),r)).left||i.right||0==u)break;c=u,u-=1,f="right"}o&&a<11&&(i=function(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(e){if(null!=$o)return $o;var t=Lo(e,Po("span","x")),n=t.getBoundingClientRect(),r=Ao(t,0,1).getBoundingClientRect();return $o=Math.abs(n.left-r.left)>1}(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*r,bottom:t.bottom*r}}(e.display.measure,i))}else{var p;u>0&&(f=r="right"),i=e.options.lineWrapping&&(p=l.getClientRects()).length>1?p["right"==r?p.length-1:0]:l.getBoundingClientRect()}if(o&&a<9&&!u&&(!i||!i.left&&!i.right)){var h=l.parentNode.getClientRects()[0];i=h?{left:h.left,right:h.left+jt(e.display),top:h.top,bottom:h.bottom}:xt}var g=i.top-t.rect.top,m=i.bottom-t.rect.top,y=(g+m)/2,v=t.view.measure.heights;for(d=0;d<v.length-1&&!(y<v[d]);d++);var b=d?v[d-1]:0,x=v[d],_={left:("right"==f?i.right:i.left)-t.rect.left,right:("left"==f?i.left:i.right)-t.rect.left,top:b,bottom:x};return i.left||i.right||(_.bogus=!0),e.options.singleCursorHeightPerLine||(_.rtop=g,_.rbottom=m),_}(e,t,n,r)).bogus||(t.cache[l]=s)),{left:s.left,right:s.right,top:i?s.rtop:s.top,bottom:i?s.rbottom:s.bottom}}Ce.prototype=wo({init:function(e){var t=this,n=this.cm,r=this.wrapper=Oe(),i=this.textarea=r.firstChild;function s(e){if(!to(n,e)){if(n.somethingSelected())be={lineWise:!1,text:n.getSelections()},t.inaccurateSelection&&(t.prevInput="",t.inaccurateSelection=!1,i.value=be.text.join("\n"),yo(i));else{if(!n.options.lineWiseCopyCut)return;var r=ke(n);be={lineWise:!0,text:r.text},"cut"==e.type?n.setSelections(r.ranges,null,so):(t.prevInput="",i.value=r.text.join("\n"),yo(i))}"cut"==e.type&&(n.state.cutIncoming=!0)}}e.wrapper.insertBefore(r,e.wrapper.firstChild),h&&(i.style.width="0px"),Ki(i,"input",(function(){o&&a>=9&&t.hasSelection&&(t.hasSelection=null),t.poll()})),Ki(i,"paste",(function(e){to(n,e)||_e(e,n)||(n.state.pasteIncoming=!0,t.fastPoll())})),Ki(i,"cut",s),Ki(i,"copy",s),Ki(e.scroller,"paste",(function(r){un(e,r)||to(n,r)||(n.state.pasteIncoming=!0,t.focus())})),Ki(e.lineSpace,"selectstart",(function(t){un(e,t)||Bi(t)})),Ki(i,"compositionstart",(function(){var e=n.getCursor("from");t.composing&&t.composing.range.clear(),t.composing={start:e,range:n.markText(e,n.getCursor("to"),{className:"CodeMirror-composing"})}})),Ki(i,"compositionend",(function(){t.composing&&(t.poll(),t.composing.range.clear(),t.composing=null)}))},prepareSelection:function(){var e=this.cm,t=e.display,n=e.doc,r=tt(e);if(e.options.moveInputWithCursor){var i=Pt(e,n.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),a=t.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+a.top-o.top)),r.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+a.left-o.left))}return r},showSelection:function(e){var t=this.cm.display;Lo(t.cursorDiv,e.cursors),Lo(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},reset:function(e){if(!this.contextMenuPending){var t,n,r=this.cm,i=r.doc;if(r.somethingSelected()){this.prevInput="";var s=i.sel.primary(),l=(t=Xo&&(s.to().line-s.from().line>100||(n=r.getSelection()).length>1e3))?"-":n||r.getSelection();this.textarea.value=l,r.state.focused&&yo(this.textarea),o&&a>=9&&(this.hasSelection=l)}else e||(this.prevInput=this.textarea.value="",o&&a>=9&&(this.hasSelection=null));this.inaccurateSelection=t}},getField:function(){return this.textarea},supportsTouch:function(){return!1},focus:function(){if("nocursor"!=this.cm.options.readOnly&&(!g||Io()!=this.textarea))try{this.textarea.focus()}catch(e){}},blur:function(){this.textarea.blur()},resetPosition:function(){this.wrapper.style.top=this.wrapper.style.left=0},receivedFocus:function(){this.slowPoll()},slowPoll:function(){var e=this;e.pollingFast||e.polling.set(this.cm.options.pollInterval,(function(){e.poll(),e.cm.state.focused&&e.slowPoll()}))},fastPoll:function(){var e=!1,t=this;t.pollingFast=!0,t.polling.set(20,(function n(){t.poll()||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,n))}))},poll:function(){var e=this.cm,t=this.textarea,n=this.prevInput;if(this.contextMenuPending||!e.state.focused||Zo(t)&&!n&&!this.composing||e.isReadOnly()||e.options.disableInput||e.state.keySeq)return!1;var r=t.value;if(r==n&&!e.somethingSelected())return!1;if(o&&a>=9&&this.hasSelection===r||m&&/[\uf700-\uf7ff]/.test(r))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){var i=r.charCodeAt(0);if(8203!=i||n||(n="​"),8666==i)return this.reset(),this.cm.execCommand("undo")}for(var s=0,l=Math.min(n.length,r.length);s<l&&n.charCodeAt(s)==r.charCodeAt(s);)++s;var u=this;return Zt(e,(function(){xe(e,r.slice(s),n.length-s,null,u.composing?"*compose":null),r.length>1e3||r.indexOf("\n")>-1?t.value=u.prevInput="":u.prevInput=r,u.composing&&(u.composing.range.clear(),u.composing.range=e.markText(u.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))})),!0},ensurePolled:function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},onKeyPress:function(){o&&a>=9&&(this.hasSelection=null),this.fastPoll()},onContextMenu:function(e){var t=this,n=t.cm,r=n.display,i=t.textarea,l=cn(n,e),u=r.scroller.scrollTop;if(l&&!c){n.options.resetSelectionOnContextMenu&&-1==n.doc.sel.contains(l)&&Xt(n,Ge)(n.doc,Ie(l),so);var f=i.style.cssText,d=t.wrapper.style.cssText;t.wrapper.style.cssText="position: absolute";var p=t.wrapper.getBoundingClientRect();if(i.style.cssText="position: absolute; width: 30px; height: 30px; top: "+(e.clientY-p.top-5)+"px; left: "+(e.clientX-p.left-5)+"px; z-index: 1000; background: "+(o?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",s)var h=window.scrollY;if(r.input.focus(),s&&window.scrollTo(null,h),r.input.reset(),n.somethingSelected()||(i.value=t.prevInput=" "),t.contextMenuPending=!0,r.selForContextMenu=n.doc.sel,clearTimeout(r.detectingSelectAll),o&&a>=9&&m(),_){Vi(e);var g=function(){Xi(window,"mouseup",g),setTimeout(y,20)};Ki(window,"mouseup",g)}else setTimeout(y,50)}function m(){if(null!=i.selectionStart){var e=n.somethingSelected(),o="​"+(e?i.value:"");i.value="⇚",i.value=o,t.prevInput=e?"":"​",i.selectionStart=1,i.selectionEnd=o.length,r.selForContextMenu=n.doc.sel}}function y(){if(t.contextMenuPending=!1,t.wrapper.style.cssText=d,i.style.cssText=f,o&&a<9&&r.scrollbars.setScrollTop(r.scroller.scrollTop=u),null!=i.selectionStart){(!o||o&&a<9)&&m();var e=0,s=function(){r.selForContextMenu==n.doc.sel&&0==i.selectionStart&&i.selectionEnd>0&&"​"==t.prevInput?Xt(n,fr.selectAll)(n):e++<10?r.detectingSelectAll=setTimeout(s,500):r.input.reset()};r.detectingSelectAll=setTimeout(s,200)}}},readOnlyChanged:function(e){e||this.reset()},setUneditable:xo,needsContentAttribute:!1},Ce.prototype),Se.prototype=wo({init:function(e){var t=this,n=t.cm,r=t.div=e.lineDiv;function i(e){if(!to(n,e)){if(n.somethingSelected())be={lineWise:!1,text:n.getSelections()},"cut"==e.type&&n.replaceSelection("",null,"cut");else{if(!n.options.lineWiseCopyCut)return;var i=ke(n);be={lineWise:!0,text:i.text},"cut"==e.type&&n.operation((function(){n.setSelections(i.ranges,0,so),n.replaceSelection("",null,"cut")}))}if(e.clipboardData){e.clipboardData.clearData();var o=be.text.join("\n");if(e.clipboardData.setData("Text",o),e.clipboardData.getData("Text")==o)return void e.preventDefault()}var a=Oe(),s=a.firstChild;n.display.lineSpace.insertBefore(a,n.display.lineSpace.firstChild),s.value=be.text.join("\n");var l=document.activeElement;yo(s),setTimeout((function(){n.display.lineSpace.removeChild(a),l.focus(),l==r&&t.showPrimarySelection()}),50)}}Te(r,n.options.spellcheck),Ki(r,"paste",(function(e){to(n,e)||_e(e,n)||a<=11&&setTimeout(Xt(n,(function(){t.pollContent()||tn(n)})),20)})),Ki(r,"compositionstart",(function(e){var r=e.data;if(t.composing={sel:n.doc.sel,data:r,startData:r},r){var i=n.doc.sel.primary(),o=n.getLine(i.head.line).indexOf(r,Math.max(0,i.head.ch-r.length));o>-1&&o<=i.head.ch&&(t.composing.sel=Ie(pe(i.head.line,o),pe(i.head.line,o+r.length)))}})),Ki(r,"compositionupdate",(function(e){t.composing.data=e.data})),Ki(r,"compositionend",(function(e){var n=t.composing;n&&(e.data==n.startData||/\u200b/.test(e.data)||(n.data=e.data),setTimeout((function(){n.handled||t.applyComposition(n),t.composing==n&&(t.composing=null)}),50))})),Ki(r,"touchstart",(function(){t.forceCompositionEnd()})),Ki(r,"input",(function(){t.composing||!n.isReadOnly()&&t.pollContent()||Zt(t.cm,(function(){tn(n)}))})),Ki(r,"copy",i),Ki(r,"cut",i)},prepareSelection:function(){var e=tt(this.cm,!1);return e.focus=this.cm.state.focused,e},showSelection:function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},showPrimarySelection:function(){var e=window.getSelection(),t=this.cm.doc.sel.primary(),r=Ee(this.cm,e.anchorNode,e.anchorOffset),i=Ee(this.cm,e.focusNode,e.focusOffset);if(!r||r.bad||!i||i.bad||0!=he(ye(r,i),t.from())||0!=he(me(r,i),t.to())){var o=Ae(this.cm,t.from()),a=Ae(this.cm,t.to());if(o||a){var s=this.cm.display.view,l=e.rangeCount&&e.getRangeAt(0);if(o){if(!a){var u=s[s.length-1].measure,c=u.maps?u.maps[u.maps.length-1]:u.map;a={node:c[c.length-1],offset:c[c.length-2]-c[c.length-3]}}}else o={node:s[0].measure.map[2],offset:0};try{var f=Ao(o.node,o.offset,a.offset,a.node)}catch(e){}f&&(!n&&this.cm.state.focused?(e.collapse(o.node,o.offset),f.collapsed||e.addRange(f)):(e.removeAllRanges(),e.addRange(f)),l&&null==e.anchorNode?e.addRange(l):n&&this.startGracePeriod()),this.rememberSelection()}}},startGracePeriod:function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout((function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation((function(){e.cm.curOp.selectionChanged=!0}))}),20)},showMultipleSelections:function(e){Lo(this.cm.display.cursorDiv,e.cursors),Lo(this.cm.display.selectionDiv,e.selection)},rememberSelection:function(){var e=window.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},selectionInEditor:function(){var e=window.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return Ro(this.div,t)},focus:function(){"nocursor"!=this.cm.options.readOnly&&this.div.focus()},blur:function(){this.div.blur()},getField:function(){return this.div},supportsTouch:function(){return!0},receivedFocus:function(){var e=this;this.selectionInEditor()?this.pollSelection():Zt(this.cm,(function(){e.cm.curOp.selectionChanged=!0})),this.polling.set(this.cm.options.pollInterval,(function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))}))},selectionChanged:function(){var e=window.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},pollSelection:function(){if(!this.composing&&!this.gracePeriod&&this.selectionChanged()){var e=window.getSelection(),t=this.cm;this.rememberSelection();var n=Ee(t,e.anchorNode,e.anchorOffset),r=Ee(t,e.focusNode,e.focusOffset);n&&r&&Zt(t,(function(){Ge(t.doc,Ie(n,r),so),(n.bad||r.bad)&&(t.curOp.selectionChanged=!0)}))}},pollContent:function(){var e,t=this.cm,n=t.display,r=t.doc.sel.primary(),i=r.from(),o=r.to();if(i.line<n.viewFrom||o.line>n.viewTo-1)return!1;if(i.line==n.viewFrom||0==(e=on(t,i.line)))var a=Oi(n.view[0].line),s=n.view[0].node;else a=Oi(n.view[e].line),s=n.view[e-1].node.nextSibling;var l=on(t,o.line);if(l==n.view.length-1)var u=n.viewTo-1,c=n.lineDiv.lastChild;else u=Oi(n.view[l+1].line)-1,c=n.view[l+1].node.previousSibling;for(var f=t.doc.splitLines(function(e,t,n,r,i){var o="",a=!1,s=e.doc.lineSeparator();function l(t){if(1==t.nodeType){var n=t.getAttribute("cm-text");if(null!=n)return""==n&&(n=t.textContent.replace(/\u200b/g,"")),void(o+=n);var u,c=t.getAttribute("cm-marker");if(c){var f=e.findMarks(pe(r,0),pe(i+1,0),(h=+c,function(e){return e.id==h}));return void(f.length&&(u=f[0].find())&&(o+=ki(e.doc,u.from,u.to).join(s)))}if("false"==t.getAttribute("contenteditable"))return;for(var d=0;d<t.childNodes.length;d++)l(t.childNodes[d]);/^(pre|div|p)$/i.test(t.nodeName)&&(a=!0)}else if(3==t.nodeType){var p=t.nodeValue;if(!p)return;a&&(o+=s,a=!1),o+=p}var h}for(;l(t),t!=n;)t=t.nextSibling;return o}(t,s,c,a,u)),d=ki(t.doc,pe(a,0),pe(u,wi(t.doc,u).text.length));f.length>1&&d.length>1;)if(mo(f)==mo(d))f.pop(),d.pop(),u--;else{if(f[0]!=d[0])break;f.shift(),d.shift(),a++}for(var p=0,h=0,g=f[0],m=d[0],y=Math.min(g.length,m.length);p<y&&g.charCodeAt(p)==m.charCodeAt(p);)++p;for(var v=mo(f),b=mo(d),x=Math.min(v.length-(1==f.length?p:0),b.length-(1==d.length?p:0));h<x&&v.charCodeAt(v.length-h-1)==b.charCodeAt(b.length-h-1);)++h;f[f.length-1]=v.slice(0,v.length-h),f[0]=f[0].slice(p);var _=pe(a,p),w=pe(u,d.length?mo(d).length-h:0);return f.length>1||f[0]||he(_,w)?(Vn(t.doc,f,_,w,"+input"),!0):void 0},ensurePolled:function(){this.forceCompositionEnd()},reset:function(){this.forceCompositionEnd()},forceCompositionEnd:function(){this.composing&&!this.composing.handled&&(this.applyComposition(this.composing),this.composing.handled=!0,this.div.blur(),this.div.focus())},applyComposition:function(e){this.cm.isReadOnly()?Xt(this.cm,tn)(this.cm):e.data&&e.data!=e.startData&&Xt(this.cm,xe)(this.cm,e.data,0,e.sel)},setUneditable:function(e){e.contentEditable="false"},onKeyPress:function(e){e.preventDefault(),this.cm.isReadOnly()||Xt(this.cm,xe)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0)},readOnlyChanged:function(e){this.div.contentEditable=String("nocursor"!=e)},onContextMenu:xo,resetPosition:xo,needsContentAttribute:!0},Se.prototype),T.inputStyles={textarea:Ce,contenteditable:Se},De.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],r=e.ranges[t];if(0!=he(n.anchor,r.anchor)||0!=he(n.head,r.head))return!1}return!0},deepCopy:function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new Le(ge(this.ranges[t].anchor),ge(this.ranges[t].head));return new De(e,this.primIndex)},somethingSelected:function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},contains:function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var r=this.ranges[n];if(he(t,r.from())>=0&&he(e,r.to())<=0)return n}return-1}},Le.prototype={from:function(){return ye(this.anchor,this.head)},to:function(){return me(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var bt,xt={left:0,right:0,top:0,bottom:0};function _t(e,t,n){for(var r,i,o,a,s=0;s<e.length;s+=3){var l=e[s],u=e[s+1];if(t<l?(i=0,o=1,a="left"):t<u?o=1+(i=t-l):(s==e.length-3||t==u&&e[s+3]>t)&&(i=(o=u-l)-1,t>=u&&(a="right")),null!=i){if(r=e[s+2],l==u&&n==(r.insertLeft?"left":"right")&&(a=n),"left"==n&&0==i)for(;s&&e[s-2]==e[s-3]&&e[s-1].insertLeft;)r=e[2+(s-=3)],a="left";if("right"==n&&i==u-l)for(;s<e.length-3&&e[s+3]==e[s+4]&&!e[s+5].insertLeft;)r=e[(s+=3)+2],a="right";break}}return{node:r,start:i,end:o,collapse:a,coverStart:l,coverEnd:u}}function wt(e,t){var n=xt;if("left"==t)for(var r=0;r<e.length&&(n=e[r]).left==n.right;r++);else for(r=e.length-1;r>=0&&(n=e[r]).left==n.right;r--);return n}function kt(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function Tt(e){e.display.externalMeasure=null,Do(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)kt(e.display.view[t])}function Ct(e){Tt(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function Ot(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function St(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function At(e,t,n,r){if(t.widgets)for(var i=0;i<t.widgets.length;++i)if(t.widgets[i].above){var o=Kr(t.widgets[i]);n.top+=o,n.bottom+=o}if("line"==r)return n;r||(r="local");var a=Ai(t);if("local"==r?a+=lt(e.display):a-=e.display.viewOffset,"page"==r||"window"==r){var s=e.display.lineSpace.getBoundingClientRect();a+=s.top+("window"==r?0:St());var l=s.left+("window"==r?0:Ot());n.left+=l,n.right+=l}return n.top+=a,n.bottom+=a,n}function Mt(e,t,n){if("div"==n)return t;var r=t.left,i=t.top;if("page"==n)r-=Ot(),i-=St();else if("local"==n||!n){var o=e.display.sizer.getBoundingClientRect();r+=o.left,i+=o.top}var a=e.display.lineSpace.getBoundingClientRect();return{left:r-a.left,top:i-a.top}}function Et(e,t,n,r,i){return r||(r=wi(e.doc,t.line)),At(e,r,gt(e,r,t.ch,i),n)}function Pt(e,t,n,r,i,o){function a(t,a){var s=vt(e,i,t,a?"right":"left",o);return a?s.left=s.right:s.right=s.left,At(e,r,s,n)}function s(e,t){var n=l[t],r=n.level%2;return e==ea(n)&&t&&n.level<l[t-1].level?(e=ta(n=l[--t])-(n.level%2?0:1),r=!0):e==ta(n)&&t<l.length-1&&n.level<l[t+1].level&&(e=ea(n=l[++t])-n.level%2,r=!1),r&&e==n.to&&e>n.from?a(e-1):a(e,r)}r=r||wi(e.doc,t.line),i||(i=yt(e,r));var l=Mi(r),u=t.ch;if(!l)return a(u);var c=s(u,sa(l,u));return null!=Jo&&(c.other=s(u,Jo)),c}function Dt(e,t){var n=0;t=je(e.doc,t),e.options.lineWrapping||(n=jt(e.display)*t.ch);var r=wi(e.doc,t.line),i=Ai(r)+lt(e.display);return{left:n,right:n,top:i,bottom:i+r.height}}function Lt(e,t,n,r){var i=pe(e,t);return i.xRel=r,n&&(i.outside=!0),i}function Rt(e,t,n){var r=e.doc;if((n+=e.display.viewOffset)<0)return Lt(r.first,0,!0,-1);var i=Si(r,n),o=r.first+r.size-1;if(i>o)return Lt(r.first+r.size-1,wi(r,o).text.length,!0,1);t<0&&(t=0);for(var a=wi(r,i);;){var s=It(e,a,i,t,n),l=zr(a),u=l&&l.find(0,!0);if(!l||!(s.ch>u.from.ch||s.ch==u.from.ch&&s.xRel>0))return s;i=Oi(a=u.to.line)}}function It(e,t,n,r,i){var o=i-Ai(t),a=!1,s=2*e.display.wrapper.clientWidth,l=yt(e,t);function u(r){var i=Pt(e,pe(n,r),"line",t,l);return a=!0,o>i.bottom?i.left-s:o<i.top?i.left+s:(a=!1,i.left)}var c=Mi(t),f=t.text.length,d=na(t),p=ra(t),h=u(d),g=a,m=u(p),y=a;if(r>m)return Lt(n,p,y,1);for(;;){if(c?p==d||p==ua(t,d,1):p-d<=1){var v=r<h||r-h<=m-r?d:p,b=v==d?g:y,x=r-(v==d?h:m);if(y&&!c&&!/\s/.test(t.text.charAt(v))&&x>0&&v<t.text.length&&l.view.measure.heights.length>1){var _=vt(e,l,v,"right");o<=_.bottom&&o>=_.top&&Math.abs(r-_.right)<x&&(b=!1,v++,x=r-_.right)}for(;Eo(t.text.charAt(v));)++v;return Lt(n,v,b,x<-1?-1:x>1?1:0)}var w=Math.ceil(f/2),k=d+w;if(c){k=d;for(var T=0;T<w;++T)k=ua(t,k,1)}var C=u(k);C>r?(p=k,m=C,(y=a)&&(m+=1e3),f=w):(d=k,h=C,g=a,f-=w)}}function Nt(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==bt){bt=Po("pre");for(var t=0;t<49;++t)bt.appendChild(document.createTextNode("x")),bt.appendChild(Po("br"));bt.appendChild(document.createTextNode("x"))}Lo(e.measure,bt);var n=bt.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),Do(e.measure),n||1}function jt(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=Po("span","xxxxxxxxxx"),n=Po("pre",[t]);Lo(e.measure,n);var r=t.getBoundingClientRect(),i=(r.right-r.left)/10;return i>2&&(e.cachedCharWidth=i),i||10}var zt,qt,Ft=null,Bt=0;function Ht(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Bt},Ft?Ft.ops.push(e.curOp):e.curOp.ownsGroup=Ft={ops:[e.curOp],delayedCallbacks:[]}}function Ut(e){var t=e.curOp.ownsGroup;if(t)try{!function(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var r=0;r<e.ops.length;r++){var i=e.ops[r];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(n<t.length)}(t)}finally{Ft=null;for(var n=0;n<t.ops.length;n++)t.ops[n].cm.curOp=null;!function(e){for(var t=e.ops,n=0;n<t.length;n++)Vt(t[n]);for(n=0;n<t.length;n++)Wt(t[n]);for(n=0;n<t.length;n++)Gt(t[n]);for(n=0;n<t.length;n++)Kt(t[n]);for(n=0;n<t.length;n++)Yt(t[n])}(t)}}function Vt(e){var t=e.cm,n=t.display;(function(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=ft(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=ft(e)+"px",t.scrollbarsClipped=!0)})(t),e.updateMaxLine&&I(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new Y(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Wt(e){e.updatedDisplay=e.mustUpdate&&Z(e.cm,e.update)}function Gt(e){var t=e.cm,n=t.display;e.updatedDisplay&&Q(t),e.barMeasure=j(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=gt(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+ft(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-dt(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection(e.focus))}function Kt(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&vn(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==Io()&&(!document.hasFocus||document.hasFocus());e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=t.doc.height)&&B(t,e.barMeasure),e.updatedDisplay&&J(t,e.barMeasure),e.selectionChanged&&it(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&ve(e.cm)}function Yt(e){var t=e.cm,n=t.display,r=t.doc;if(e.updatedDisplay&&X(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null==e.scrollTop||n.scroller.scrollTop==e.scrollTop&&!e.forceScroll||(r.scrollTop=Math.max(0,Math.min(n.scroller.scrollHeight-n.scroller.clientHeight,e.scrollTop)),n.scrollbars.setScrollTop(r.scrollTop),n.scroller.scrollTop=r.scrollTop),null==e.scrollLeft||n.scroller.scrollLeft==e.scrollLeft&&!e.forceScroll||(r.scrollLeft=Math.max(0,Math.min(n.scroller.scrollWidth-n.scroller.clientWidth,e.scrollLeft)),n.scrollbars.setScrollLeft(r.scrollLeft),n.scroller.scrollLeft=r.scrollLeft,V(t)),e.scrollToPos){var i=function(e,t,n,r){null==r&&(r=0);for(var i=0;i<5;i++){var o=!1,a=Pt(e,t),s=n&&n!=t?Pt(e,n):a,l=Wn(e,Math.min(a.left,s.left),Math.min(a.top,s.top)-r,Math.max(a.left,s.left),Math.max(a.bottom,s.bottom)+r),u=e.doc.scrollTop,c=e.doc.scrollLeft;if(null!=l.scrollTop&&(yn(e,l.scrollTop),Math.abs(e.doc.scrollTop-u)>1&&(o=!0)),null!=l.scrollLeft&&(vn(e,l.scrollLeft),Math.abs(e.doc.scrollLeft-c)>1&&(o=!0)),!o)break}return a}(t,je(r,e.scrollToPos.from),je(r,e.scrollToPos.to),e.scrollToPos.margin);e.scrollToPos.isCursor&&t.state.focused&&function(e,t){if(!to(e,"scrollCursorIntoView")){var n=e.display,r=n.sizer.getBoundingClientRect(),i=null;if(t.top+r.top<0?i=!0:t.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!p){var o=Po("div","​",null,"position: absolute; top: "+(t.top-n.viewOffset-lt(e.display))+"px; height: "+(t.bottom-t.top+ft(e)+n.barHeight)+"px; left: "+t.left+"px; width: 2px;");e.display.lineSpace.appendChild(o),o.scrollIntoView(i),e.display.lineSpace.removeChild(o)}}}(t,i)}var o=e.maybeHiddenMarkers,a=e.maybeUnhiddenMarkers;if(o)for(var s=0;s<o.length;++s)o[s].lines.length||$i(o[s],"hide");if(a)for(s=0;s<a.length;++s)a[s].lines.length&&$i(a[s],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&$i(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function Zt(e,t){if(e.curOp)return t();Ht(e);try{return t()}finally{Ut(e)}}function Xt(e,t){return function(){if(e.curOp)return t.apply(e,arguments);Ht(e);try{return t.apply(e,arguments)}finally{Ut(e)}}}function $t(e){return function(){if(this.curOp)return e.apply(this,arguments);Ht(this);try{return e.apply(this,arguments)}finally{Ut(this)}}}function Jt(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);Ht(t);try{return e.apply(this,arguments)}finally{Ut(t)}}}function Qt(e,t,n){this.line=t,this.rest=function(e){for(var t,n;t=zr(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}(t),this.size=this.rest?Oi(mo(this.rest))-n+1:1,this.node=this.text=null,this.hidden=Ur(e,t)}function en(e,t,n){for(var r,i=[],o=t;o<n;o=r){var a=new Qt(e.doc,wi(e.doc,o),o);r=o+a.size,i.push(a)}return i}function tn(e,t,n,r){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),r||(r=0);var i=e.display;if(r&&n<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)k&&Br(e.doc,t)<i.viewTo&&rn(e);else if(n<=i.viewFrom)k&&Hr(e.doc,n+r)>i.viewFrom?rn(e):(i.viewFrom+=r,i.viewTo+=r);else if(t<=i.viewFrom&&n>=i.viewTo)rn(e);else if(t<=i.viewFrom)(o=an(e,n,n+r,1))?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=r):rn(e);else if(n>=i.viewTo){var o;(o=an(e,t,t,-1))?(i.view=i.view.slice(0,o.index),i.viewTo=o.lineN):rn(e)}else{var a=an(e,t,t,-1),s=an(e,n,n+r,1);a&&s?(i.view=i.view.slice(0,a.index).concat(en(e,a.lineN,s.lineN)).concat(i.view.slice(s.index)),i.viewTo+=r):rn(e)}var l=i.externalMeasured;l&&(n<l.lineN?l.lineN+=r:t<l.lineN+l.size&&(i.externalMeasured=null))}function nn(e,t,n){e.curOp.viewChanged=!0;var r=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(r.externalMeasured=null),!(t<r.viewFrom||t>=r.viewTo)){var o=r.view[on(e,t)];if(null!=o.node){var a=o.changes||(o.changes=[]);-1==vo(a,n)&&a.push(n)}}}function rn(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function on(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var n=e.display.view,r=0;r<n.length;r++)if((t-=n[r].size)<0)return r}function an(e,t,n,r){var i,o=on(e,t),a=e.display.view;if(!k||n==e.doc.first+e.doc.size)return{index:o,lineN:n};for(var s=0,l=e.display.viewFrom;s<o;s++)l+=a[s].size;if(l!=t){if(r>0){if(o==a.length-1)return null;i=l+a[o].size-t,o++}else i=l-t;t+=i,n+=i}for(;Br(e.doc,n)!=n;){if(o==(r<0?0:a.length-1))return null;n+=r*a[o-(r<0?1:0)].size,o+=r}return{index:o,lineN:n}}function sn(e){for(var t=e.display.view,n=0,r=0;r<t.length;r++){var i=t[r];i.hidden||i.node&&!i.changes||++n}return n}function ln(e){var t=e.display;t.lastWrapHeight==t.wrapper.clientHeight&&t.lastWrapWidth==t.wrapper.clientWidth||(t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize())}function un(e,t){for(var n=Wi(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function cn(e,t,n,r){var i=e.display;if(!n&&"true"==Wi(t).getAttribute("cm-not-content"))return null;var o,a,s=i.lineSpace.getBoundingClientRect();try{o=t.clientX-s.left,a=t.clientY-s.top}catch(t){return null}var l,u=Rt(e,o,a);if(r&&1==u.xRel&&(l=wi(e.doc,u.line).text).length==u.ch){var c=fo(l,l.length,e.options.tabSize)-l.length;u=pe(u.line,Math.max(0,Math.round((o-ct(e.display).left)/jt(e.display))-c))}return u}function fn(e){var t=this,n=t.display;if(!(to(t,e)||n.activeTouch&&n.input.supportsTouch()))if(n.shift=e.shiftKey,un(n,e))s||(n.scroller.draggable=!1,setTimeout((function(){n.scroller.draggable=!0}),100));else if(!pn(t,e)){var r=cn(t,e);switch(window.focus(),Gi(e)){case 1:t.state.selectingText?t.state.selectingText(e):r?function(e,t,n){o?setTimeout(ko(ve,e),0):e.curOp.focus=Io();var r,i=+new Date;qt&&qt.time>i-400&&0==he(qt.pos,n)?r="triple":zt&&zt.time>i-400&&0==he(zt.pos,n)?(r="double",qt={time:i,pos:n}):(r="single",zt={time:i,pos:n});var l,u=e.doc.sel,c=m?t.metaKey:t.ctrlKey;e.options.dragDrop&&Vo&&!e.isReadOnly()&&"single"==r&&(l=u.contains(n))>-1&&(he((l=u.ranges[l]).from(),n)<0||n.xRel>0)&&(he(l.to(),n)>0||n.xRel<0)?function(e,t,n,r){var i=e.display,l=+new Date,u=Xt(e,(function(c){s&&(i.scroller.draggable=!1),e.state.draggingText=!1,Xi(document,"mouseup",u),Xi(i.scroller,"drop",u),Math.abs(t.clientX-c.clientX)+Math.abs(t.clientY-c.clientY)<10&&(Bi(c),!r&&+new Date-200<l&&Be(e.doc,n),s||o&&9==a?setTimeout((function(){document.body.focus(),i.input.focus()}),20):i.input.focus())}));s&&(i.scroller.draggable=!0),e.state.draggingText=u,u.copy=m?t.altKey:t.ctrlKey,i.scroller.dragDrop&&i.scroller.dragDrop(),Ki(document,"mouseup",u),Ki(i.scroller,"drop",u)}(e,t,n,c):function(e,t,n,r,i){var o=e.display,a=e.doc;Bi(t);var s,l,u=a.sel,c=u.ranges;if(i&&!t.shiftKey?(l=a.sel.contains(n),s=l>-1?c[l]:new Le(n,n)):(s=a.sel.primary(),l=a.sel.primIndex),y?t.shiftKey&&t.metaKey:t.altKey)r="rect",i||(s=new Le(n,n)),n=cn(e,t,!0,!0),l=-1;else if("double"==r){var f=e.findWordAt(n);s=e.display.shift||a.extend?Fe(a,s,f.anchor,f.head):f}else if("triple"==r){var d=new Le(pe(n.line,0),je(a,pe(n.line+1,0)));s=e.display.shift||a.extend?Fe(a,s,d.anchor,d.head):d}else s=Fe(a,s,n);i?-1==l?(l=c.length,Ge(a,Re(c.concat([s]),l),{scroll:!1,origin:"*mouse"})):c.length>1&&c[l].empty()&&"single"==r&&!t.shiftKey?(Ge(a,Re(c.slice(0,l).concat(c.slice(l+1)),0),{scroll:!1,origin:"*mouse"}),u=a.sel):Ue(a,l,s,lo):(l=0,Ge(a,new De([s],0),lo),u=a.sel);var p=n;function h(t){if(0!=he(p,t))if(p=t,"rect"==r){for(var i=[],o=e.options.tabSize,c=fo(wi(a,n.line).text,n.ch,o),f=fo(wi(a,t.line).text,t.ch,o),d=Math.min(c,f),h=Math.max(c,f),g=Math.min(n.line,t.line),m=Math.min(e.lastLine(),Math.max(n.line,t.line));g<=m;g++){var y=wi(a,g).text,v=po(y,d,o);d==h?i.push(new Le(pe(g,v),pe(g,v))):y.length>v&&i.push(new Le(pe(g,v),pe(g,po(y,h,o))))}i.length||i.push(new Le(n,n)),Ge(a,Re(u.ranges.slice(0,l).concat(i),l),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var b=s,x=b.anchor,_=t;if("single"!=r){if("double"==r)var w=e.findWordAt(t);else w=new Le(pe(t.line,0),je(a,pe(t.line+1,0)));he(w.anchor,x)>0?(_=w.head,x=ye(b.from(),w.anchor)):(_=w.anchor,x=me(b.to(),w.head))}(i=u.ranges.slice(0))[l]=new Le(je(a,x),_),Ge(a,Re(i,l),lo)}}var g=o.wrapper.getBoundingClientRect(),m=0;function v(t){var n=++m,i=cn(e,t,!0,"rect"==r);if(i)if(0!=he(i,p)){e.curOp.focus=Io(),h(i);var s=U(o,a);(i.line>=s.to||i.line<s.from)&&setTimeout(Xt(e,(function(){m==n&&v(t)})),150)}else{var l=t.clientY<g.top?-20:t.clientY>g.bottom?20:0;l&&setTimeout(Xt(e,(function(){m==n&&(o.scroller.scrollTop+=l,v(t))})),50)}}function b(t){e.state.selectingText=!1,m=1/0,Bi(t),o.input.focus(),Xi(document,"mousemove",x),Xi(document,"mouseup",_),a.history.lastSelOrigin=null}var x=Xt(e,(function(e){Gi(e)?v(e):b(e)})),_=Xt(e,b);e.state.selectingText=_,Ki(document,"mousemove",x),Ki(document,"mouseup",_)}(e,t,n,r,c)}(t,e,r):Wi(e)==n.scroller&&Bi(e);break;case 2:s&&(t.state.lastMiddleDown=+new Date),r&&Be(t.doc,r),setTimeout((function(){n.input.focus()}),20),Bi(e);break;case 3:_?Ln(t,e):function(e){e.state.delayingBlurEvent=!0,setTimeout((function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,Dn(e))}),100)}(t)}}}function dn(e,t,n,r){try{var i=t.clientX,o=t.clientY}catch(t){return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&Bi(t);var a=e.display,s=a.lineDiv.getBoundingClientRect();if(o>s.bottom||!ro(e,n))return Ui(t);o-=s.top-a.viewOffset;for(var l=0;l<e.options.gutters.length;++l){var u=a.gutters.childNodes[l];if(u&&u.getBoundingClientRect().right>=i){var c=Si(e.doc,o),f=e.options.gutters[l];return $i(e,n,e,c,f,t),Ui(t)}}}function pn(e,t){return dn(e,t,"gutterClick",!0)}var hn=0;function gn(e){var t=this;if(mn(t),!to(t,e)&&!un(t.display,e)){Bi(e),o&&(hn=+new Date);var n=cn(t,e,!0),r=e.dataTransfer.files;if(n&&!t.isReadOnly())if(r&&r.length&&window.FileReader&&window.File)for(var i=r.length,a=Array(i),s=0,l=function(e,r){if(!t.options.allowDropFileTypes||-1!=vo(t.options.allowDropFileTypes,e.type)){var o=new FileReader;o.onload=Xt(t,(function(){var e=o.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(e)&&(e=""),a[r]=e,++s==i){var l={from:n=je(t.doc,n),to:n,text:t.doc.splitLines(a.join(t.doc.lineSeparator())),origin:"paste"};qn(t.doc,l),We(t.doc,Ie(n,Rn(l)))}})),o.readAsText(e)}},u=0;u<i;++u)l(r[u],u);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout((function(){t.display.input.focus()}),20);try{if(a=e.dataTransfer.getData("Text")){if(t.state.draggingText&&!t.state.draggingText.copy)var c=t.listSelections();if(Ke(t.doc,Ie(n,n)),c)for(u=0;u<c.length;++u)Vn(t.doc,"",c[u].anchor,c[u].head,"drag");t.replaceSelection(a,"around","paste"),t.display.input.focus()}}catch(e){}}}}function mn(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function yn(e,t){Math.abs(e.doc.scrollTop-t)<2||(e.doc.scrollTop=t,n||$(e,{top:t}),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t),e.display.scrollbars.setScrollTop(t),n&&$(e),ot(e,100))}function vn(e,t,n){(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)||(t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),e.doc.scrollLeft=t,V(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}var bn=0,xn=null;o?xn=-.53:n?xn=15:u?xn=-.7:f&&(xn=-1/3);var _n=function(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}};function wn(e,t){var r=_n(t),i=r.x,o=r.y,a=e.display,l=a.scroller,u=l.scrollWidth>l.clientWidth,f=l.scrollHeight>l.clientHeight;if(i&&u||o&&f){if(o&&m&&s)e:for(var d=t.target,p=a.view;d!=l;d=d.parentNode)for(var h=0;h<p.length;h++)if(p[h].node==d){e.display.currentWheelTarget=d;break e}if(i&&!n&&!c&&null!=xn)return o&&f&&yn(e,Math.max(0,Math.min(l.scrollTop+o*xn,l.scrollHeight-l.clientHeight))),vn(e,Math.max(0,Math.min(l.scrollLeft+i*xn,l.scrollWidth-l.clientWidth))),(!o||o&&f)&&Bi(t),void(a.wheelStartX=null);if(o&&null!=xn){var g=o*xn,y=e.doc.scrollTop,v=y+a.wrapper.clientHeight;g<0?y=Math.max(0,y+g-50):v=Math.min(e.doc.height,v+g+50),$(e,{top:y,bottom:v})}bn<20&&(null==a.wheelStartX?(a.wheelStartX=l.scrollLeft,a.wheelStartY=l.scrollTop,a.wheelDX=i,a.wheelDY=o,setTimeout((function(){if(null!=a.wheelStartX){var e=l.scrollLeft-a.wheelStartX,t=l.scrollTop-a.wheelStartY,n=t&&a.wheelDY&&t/a.wheelDY||e&&a.wheelDX&&e/a.wheelDX;a.wheelStartX=a.wheelStartY=null,n&&(xn=(xn*bn+n)/(bn+1),++bn)}}),200)):(a.wheelDX+=i,a.wheelDY+=o))}}function kn(e,t,n){if("string"==typeof t&&!(t=fr[t]))return!1;e.display.input.ensurePolled();var r=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),i=t(e)!=ao}finally{e.display.shift=r,e.state.suppressEdits=!1}return i}T.wheelEventPixels=function(e){var t=_n(e);return t.x*=xn,t.y*=xn,t};var Tn=new co;function Cn(e,t,n,r){var i=e.state.keySeq;if(i){if(gr(t))return"handled";Tn.set(50,(function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())})),t=i+" "+t}var o=function(e,t,n){for(var r=0;r<e.state.keyMaps.length;r++){var i=hr(t,e.state.keyMaps[r],n,e);if(i)return i}return e.options.extraKeys&&hr(t,e.options.extraKeys,n,e)||hr(t,e.options.keyMap,n,e)}(e,t,r);return"multi"==o&&(e.state.keySeq=t),"handled"==o&&Qi(e,"keyHandled",e,t,n),"handled"!=o&&"multi"!=o||(Bi(n),it(e)),i&&!o&&/\'$/.test(t)?(Bi(n),!0):!!o}function On(e,t){var n=mr(t,!0);return!!n&&(t.shiftKey&&!e.state.keySeq?Cn(e,"Shift-"+n,t,(function(t){return kn(e,t,!0)}))||Cn(e,n,t,(function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return kn(e,t)})):Cn(e,n,t,(function(t){return kn(e,t)})))}var Sn=null;function An(e){var t=this;if(t.curOp.focus=Io(),!to(t,e)){o&&a<11&&27==e.keyCode&&(e.returnValue=!1);var n=e.keyCode;t.display.shift=16==n||e.shiftKey;var r=On(t,e);c&&(Sn=r?n:null,r||88!=n||Xo||!(m?e.metaKey:e.ctrlKey)||t.replaceSelection("",null,"cut")),18!=n||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||function(e){var t=e.display.lineDiv;function n(e){18!=e.keyCode&&e.altKey||(jo(t,"CodeMirror-crosshair"),Xi(document,"keyup",n),Xi(document,"mouseover",n))}zo(t,"CodeMirror-crosshair"),Ki(document,"keyup",n),Ki(document,"mouseover",n)}(t)}}function Mn(e){16==e.keyCode&&(this.doc.sel.shift=!1),to(this,e)}function En(e){var t=this;if(!(un(t.display,e)||to(t,e)||e.ctrlKey&&!e.altKey||m&&e.metaKey)){var n=e.keyCode,r=e.charCode;if(c&&n==Sn)return Sn=null,void Bi(e);c&&(!e.which||e.which<10)&&On(t,e)||function(e,t,n){return Cn(e,"'"+n+"'",t,(function(t){return kn(e,t,!0)}))}(t,e,String.fromCharCode(null==r?n:r))||t.display.input.onKeyPress(e)}}function Pn(e){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||($i(e,"focus",e),e.state.focused=!0,zo(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),s&&setTimeout((function(){e.display.input.reset(!0)}),20)),e.display.input.receivedFocus()),it(e))}function Dn(e){e.state.delayingBlurEvent||(e.state.focused&&($i(e,"blur",e),e.state.focused=!1,jo(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout((function(){e.state.focused||(e.display.shift=!1)}),150))}function Ln(e,t){un(e.display,t)||function(e,t){return!!ro(e,"gutterContextMenu")&&dn(e,t,"gutterContextMenu",!1)}(e,t)||to(e,t,"contextmenu")||e.display.input.onContextMenu(t)}var Rn=T.changeEnd=function(e){return e.text?pe(e.from.line+e.text.length-1,mo(e.text).length+(1==e.text.length?e.from.ch:0)):e.to};function In(e,t){if(he(e,t.from)<0)return e;if(he(e,t.to)<=0)return Rn(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;return e.line==t.to.line&&(r+=Rn(t).ch-t.to.ch),pe(n,r)}function Nn(e,t){for(var n=[],r=0;r<e.sel.ranges.length;r++){var i=e.sel.ranges[r];n.push(new Le(In(i.anchor,t),In(i.head,t)))}return Re(n,e.sel.primIndex)}function jn(e,t,n){return e.line==t.line?pe(n.line,e.ch-t.ch+n.ch):pe(n.line+(e.line-t.line),e.ch)}function zn(e,t,n){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){this.canceled=!0}};return n&&(r.update=function(t,n,r,i){t&&(this.from=je(e,t)),n&&(this.to=je(e,n)),r&&(this.text=r),void 0!==i&&(this.origin=i)}),$i(e,"beforeChange",e,r),e.cm&&$i(e.cm,"beforeChange",e.cm,r),r.canceled?null:{from:r.from,to:r.to,text:r.text,origin:r.origin}}function qn(e,t,n){if(e.cm){if(!e.cm.curOp)return Xt(e.cm,qn)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(ro(e,"beforeChange")||e.cm&&ro(e.cm,"beforeChange"))||(t=zn(e,t,!0))){var r=w&&!n&&function(e,t,n){var r=null;if(e.iter(t.line,n.line+1,(function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||r&&-1!=vo(r,n)||(r||(r=[])).push(n)}})),!r)return null;for(var i=[{from:t,to:n}],o=0;o<r.length;++o)for(var a=r[o],s=a.find(0),l=0;l<i.length;++l){var u=i[l];if(!(he(u.to,s.from)<0||he(u.from,s.to)>0)){var c=[l,1],f=he(u.from,s.from),d=he(u.to,s.to);(f<0||!a.inclusiveLeft&&!f)&&c.push({from:u.from,to:s.from}),(d>0||!a.inclusiveRight&&!d)&&c.push({from:s.to,to:u.to}),i.splice.apply(i,c),l+=c.length-1}}return i}(e,t.from,t.to);if(r)for(var i=r.length-1;i>=0;--i)Fn(e,{from:r[i].from,to:r[i].to,text:i?[""]:t.text});else Fn(e,t)}}function Fn(e,t){if(1!=t.text.length||""!=t.text[0]||0!=he(t.from,t.to)){var n=Nn(e,t);Li(e,t,n,e.cm?e.cm.curOp.id:NaN),Un(e,t,n,Ar(e,t));var r=[];xi(e,(function(e,n){n||-1!=vo(r,e.history)||(Fi(e.history,t),r.push(e.history)),Un(e,t,null,Ar(e,t))}))}}function Bn(e,t,n){if(!e.cm||!e.cm.state.suppressEdits||n){for(var r,i=e.history,o=e.sel,a="undo"==t?i.done:i.undone,s="undo"==t?i.undone:i.done,l=0;l<a.length&&(r=a[l],n?!r.ranges||r.equals(e.sel):r.ranges);l++);if(l!=a.length){for(i.lastOrigin=i.lastSelOrigin=null;(r=a.pop()).ranges;){if(Ri(r,s),n&&!r.equals(e.sel))return void Ge(e,r,{clearRedo:!1});o=r}var u=[];Ri(o,s),s.push({changes:u,generation:i.generation}),i.generation=r.generation||++i.maxGeneration;var c=ro(e,"beforeChange")||e.cm&&ro(e.cm,"beforeChange");for(l=r.changes.length-1;l>=0;--l){var f=r.changes[l];if(f.origin=t,c&&!zn(e,f,!1))return void(a.length=0);u.push(Pi(e,f));var d=l?Nn(e,f):mo(a);Un(e,f,d,Er(e,f)),!l&&e.cm&&e.cm.scrollIntoView({from:f.from,to:Rn(f)});var p=[];xi(e,(function(e,t){t||-1!=vo(p,e.history)||(Fi(e.history,f),p.push(e.history)),Un(e,f,null,Er(e,f))}))}}}}function Hn(e,t){if(0!=t&&(e.first+=t,e.sel=new De(bo(e.sel.ranges,(function(e){return new Le(pe(e.anchor.line+t,e.anchor.ch),pe(e.head.line+t,e.head.ch))})),e.sel.primIndex),e.cm)){tn(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,r=n.viewFrom;r<n.viewTo;r++)nn(e.cm,r,"gutter")}}function Un(e,t,n,r){if(e.cm&&!e.cm.curOp)return Xt(e.cm,Un)(e,t,n,r);if(t.to.line<e.first)Hn(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);Hn(e,i),t={from:pe(e.first,0),to:pe(t.to.line+i,t.to.ch),text:[mo(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:pe(o,wi(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=ki(e,t.from,t.to),n||(n=Nn(e,t)),e.cm?function(e,t,n){var r=e.doc,i=e.display,o=t.from,a=t.to,s=!1,l=o.line;e.options.lineWrapping||(l=Oi(Fr(wi(r,o.line))),r.iter(l,a.line+1,(function(e){if(e==i.maxLine)return s=!0,!0}))),r.sel.contains(t.from,t.to)>-1&&no(e),pi(r,t,n,A(e)),e.options.lineWrapping||(r.iter(l,o.line+t.text.length,(function(e){var t=R(e);t>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=t,i.maxLineChanged=!0,s=!1)})),s&&(e.curOp.updateMaxLine=!0)),r.frontier=Math.min(r.frontier,o.line),ot(e,400);var u=t.text.length-(a.line-o.line)-1;t.full?tn(e):o.line!=a.line||1!=t.text.length||di(e.doc,t)?tn(e,o.line,a.line+1,u):nn(e,o.line,"text");var c=ro(e,"changes"),f=ro(e,"change");if(f||c){var d={from:o,to:a,text:t.text,removed:t.removed,origin:t.origin};f&&Qi(e,"change",e,d),c&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(d)}e.display.selForContextMenu=null}(e.cm,t,r):pi(e,t,r),Ke(e,n,so)}}function Vn(e,t,n,r,i){if(r||(r=n),he(r,n)<0){var o=r;r=n,n=o}"string"==typeof t&&(t=e.splitLines(t)),qn(e,{from:n,to:r,text:t,origin:i})}function Wn(e,t,n,r,i){var o=e.display,a=Nt(e.display);n<0&&(n=0);var s=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:o.scroller.scrollTop,l=pt(e),u={};i-n>l&&(i=n+l);var c=e.doc.height+ut(o),f=n<a,d=i>c-a;if(n<s)u.scrollTop=f?0:n;else if(i>s+l){var p=Math.min(n,(d?c:i)-l);p!=s&&(u.scrollTop=p)}var h=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:o.scroller.scrollLeft,g=dt(e)-(e.options.fixedGutter?o.gutters.offsetWidth:0),m=r-t>g;return m&&(r=t+g),t<10?u.scrollLeft=0:t<h?u.scrollLeft=Math.max(0,t-(m?0:10)):r>g+h-3&&(u.scrollLeft=r+(m?0:10)-g),u}function Gn(e,t,n){null==t&&null==n||Yn(e),null!=t&&(e.curOp.scrollLeft=(null==e.curOp.scrollLeft?e.doc.scrollLeft:e.curOp.scrollLeft)+t),null!=n&&(e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+n)}function Kn(e){Yn(e);var t=e.getCursor(),n=t,r=t;e.options.lineWrapping||(n=t.ch?pe(t.line,t.ch-1):t,r=pe(t.line,t.ch+1)),e.curOp.scrollToPos={from:n,to:r,margin:e.options.cursorScrollMargin,isCursor:!0}}function Yn(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var n=Dt(e,t.from),r=Dt(e,t.to),i=Wn(e,Math.min(n.left,r.left),Math.min(n.top,r.top)-t.margin,Math.max(n.right,r.right),Math.max(n.bottom,r.bottom)+t.margin);e.scrollTo(i.scrollLeft,i.scrollTop)}}function Zn(e,t,n,r){var i,o=e.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?i=st(e,t):n="prev");var a=e.options.tabSize,s=wi(o,t),l=fo(s.text,null,a);s.stateAfter&&(s.stateAfter=null);var u,c=s.text.match(/^\s*/)[0];if(r||/\S/.test(s.text)){if("smart"==n&&((u=o.mode.indent(i,s.text.slice(c.length),s.text))==ao||u>150)){if(!r)return;n="prev"}}else u=0,n="not";"prev"==n?u=t>o.first?fo(wi(o,t-1).text,null,a):0:"add"==n?u=l+e.options.indentUnit:"subtract"==n?u=l-e.options.indentUnit:"number"==typeof n&&(u=l+n),u=Math.max(0,u);var f="",d=0;if(e.options.indentWithTabs)for(var p=Math.floor(u/a);p;--p)d+=a,f+="\t";if(d<u&&(f+=go(u-d)),f!=c)return Vn(o,f,pe(t,0),pe(t,c.length),"+input"),s.stateAfter=null,!0;for(p=0;p<o.sel.ranges.length;p++){var h=o.sel.ranges[p];if(h.head.line==t&&h.head.ch<c.length){Ue(o,p,new Le(d=pe(t,c.length),d));break}}}function Xn(e,t,n,r){var i=t,o=t;return"number"==typeof t?o=wi(e,Ne(e,t)):i=Oi(t),null==i?null:(r(o,i)&&e.cm&&nn(e.cm,i,n),o)}function $n(e,t){for(var n=e.doc.sel.ranges,r=[],i=0;i<n.length;i++){for(var o=t(n[i]);r.length&&he(o.from,mo(r).to)<=0;){var a=r.pop();if(he(a.from,o.from)<0){o.from=a.from;break}}r.push(o)}Zt(e,(function(){for(var t=r.length-1;t>=0;t--)Vn(e.doc,"",r[t].from,r[t].to,"+delete");Kn(e)}))}function Jn(e,t,n,r,i){var o=t.line,a=t.ch,s=n,l=wi(e,o);function u(t){var r,s=(i?ua:ca)(l,a,n,!0);if(null==s){if(t||((r=o+n)<e.first||r>=e.first+e.size||(o=r,!(l=wi(e,r)))))return!1;a=i?(n<0?ra:na)(l):n<0?l.text.length:0}else a=s;return!0}if("char"==r)u();else if("column"==r)u(!0);else if("word"==r||"group"==r)for(var c=null,f="group"==r,d=e.cm&&e.cm.getHelper(t,"wordChars"),p=!0;!(n<0)||u(!p);p=!1){var h=l.text.charAt(a)||"\n",g=Oo(h,d)?"w":f&&"\n"==h?"n":!f||/\s/.test(h)?null:"p";if(!f||p||g||(g="s"),c&&c!=g){n<0&&(n=1,u());break}if(g&&(c=g),n>0&&!u(!p))break}var m=Je(e,pe(o,a),t,s,!0);return he(t,m)||(m.hitSide=!0),m}function Qn(e,t,n,r){var i,o=e.doc,a=t.left;if("page"==r){var s=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);i=t.top+n*(s-(n<0?1.5:.5)*Nt(e.display))}else"line"==r&&(i=n>0?t.bottom+3:t.top-3);for(;;){var l=Rt(e,a,i);if(!l.outside)break;if(n<0?i<=0:i>=o.height){l.hitSide=!0;break}i+=5*n}return l}T.prototype={constructor:T,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,t){var n=this.options,r=n[e];n[e]==t&&"mode"!=e||(n[e]=t,tr.hasOwnProperty(e)&&Xt(this,tr[e])(this,t,r))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](yr(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:$t((function(e,t){var n=e.token?e:T.getMode(this.options,e);if(n.startState)throw new Error("Overlays may not be stateful.");(function(e,t,n){for(var r=0,i=n(t);r<e.length&&n(e[r])<=i;)r++;e.splice(r,0,t)})(this.state.overlays,{mode:n,modeSpec:e,opaque:t&&t.opaque,priority:t&&t.priority||0},(function(e){return e.priority})),this.state.modeGen++,tn(this)})),removeOverlay:$t((function(e){for(var t=this.state.overlays,n=0;n<t.length;++n){var r=t[n].modeSpec;if(r==e||"string"==typeof e&&r.name==e)return t.splice(n,1),this.state.modeGen++,void tn(this)}})),indentLine:$t((function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),ze(this.doc,e)&&Zn(this,e,t,n)})),indentSelection:$t((function(e){for(var t=this.doc.sel.ranges,n=-1,r=0;r<t.length;r++){var i=t[r];if(i.empty())i.head.line>n&&(Zn(this,i.head.line,e,!0),n=i.head.line,r==this.doc.sel.primIndex&&Kn(this));else{var o=i.from(),a=i.to(),s=Math.max(n,o.line);n=Math.min(this.lastLine(),a.line-(a.ch?0:1))+1;for(var l=s;l<n;++l)Zn(this,l,e);var u=this.doc.sel.ranges;0==o.ch&&t.length==u.length&&u[r].from().ch>0&&Ue(this.doc,r,new Le(o,u[r].to()),so)}}})),getTokenAt:function(e,t){return Qr(this,e,t)},getLineTokens:function(e,t){return Qr(this,pe(e),t,!0)},getTokenTypeAt:function(e){e=je(this.doc,e);var t,n=ni(this,wi(this.doc,e.line)),r=0,i=(n.length-1)/2,o=e.ch;if(0==o)t=n[2];else for(;;){var a=r+i>>1;if((a?n[2*a-1]:0)>=o)i=a;else{if(!(n[2*a+1]<o)){t=n[2*a+2];break}r=a+1}}var s=t?t.indexOf("cm-overlay "):-1;return s<0?t:0==s?null:t.slice(0,s-1)},getModeAt:function(e){var t=this.doc.mode;return t.innerMode?T.innerMode(t,this.getTokenAt(e).state).mode:t},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var n=[];if(!lr.hasOwnProperty(t))return n;var r=lr[t],i=this.getModeAt(e);if("string"==typeof i[t])r[i[t]]&&n.push(r[i[t]]);else if(i[t])for(var o=0;o<i[t].length;o++){var a=r[i[t][o]];a&&n.push(a)}else i.helperType&&r[i.helperType]?n.push(r[i.helperType]):r[i.name]&&n.push(r[i.name]);for(o=0;o<r._global.length;o++){var s=r._global[o];s.pred(i,this)&&-1==vo(n,s.val)&&n.push(s.val)}return n},getStateAfter:function(e,t){var n=this.doc;return st(this,(e=Ne(n,null==e?n.first+n.size-1:e))+1,t)},cursorCoords:function(e,t){var n=this.doc.sel.primary();return Pt(this,null==e?n.head:"object"==typeof e?je(this.doc,e):e?n.from():n.to(),t||"page")},charCoords:function(e,t){return Et(this,je(this.doc,e),t||"page")},coordsChar:function(e,t){return Rt(this,(e=Mt(this,e,t||"page")).left,e.top)},lineAtHeight:function(e,t){return e=Mt(this,{top:e,left:0},t||"page").top,Si(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t){var n,r=!1;if("number"==typeof e){var i=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>i&&(e=i,r=!0),n=wi(this.doc,e)}else n=e;return At(this,n,{top:0,left:0},t||"page").top+(r?this.doc.height-Ai(n):0)},defaultTextHeight:function(){return Nt(this.display)},defaultCharWidth:function(){return jt(this.display)},setGutterMarker:$t((function(e,t,n){return Xn(this.doc,e,"gutter",(function(e){var r=e.gutterMarkers||(e.gutterMarkers={});return r[t]=n,!n&&So(r)&&(e.gutterMarkers=null),!0}))})),clearGutter:$t((function(e){var t=this,n=t.doc,r=n.first;n.iter((function(n){n.gutterMarkers&&n.gutterMarkers[e]&&(n.gutterMarkers[e]=null,nn(t,r,"gutter"),So(n.gutterMarkers)&&(n.gutterMarkers=null)),++r}))})),lineInfo:function(e){if("number"==typeof e){if(!ze(this.doc,e))return null;var t=e;if(!(e=wi(this.doc,e)))return null}else if(null==(t=Oi(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,r,i){var o,a,s,l,u,c,f=this.display,d=(e=Pt(this,je(this.doc,e))).bottom,p=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),f.sizer.appendChild(t),"over"==r)d=e.top;else if("above"==r||"near"==r){var h=Math.max(f.wrapper.clientHeight,this.doc.height),g=Math.max(f.sizer.clientWidth,f.lineSpace.clientWidth);("above"==r||e.bottom+t.offsetHeight>h)&&e.top>t.offsetHeight?d=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=h&&(d=e.bottom),p+t.offsetWidth>g&&(p=g-t.offsetWidth)}t.style.top=d+"px",t.style.left=t.style.right="","right"==i?(p=f.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?p=0:"middle"==i&&(p=(f.sizer.clientWidth-t.offsetWidth)/2),t.style.left=p+"px"),n&&(o=this,a=p,s=d,l=p+t.offsetWidth,u=d+t.offsetHeight,null!=(c=Wn(o,a,s,l,u)).scrollTop&&yn(o,c.scrollTop),null!=c.scrollLeft&&vn(o,c.scrollLeft))},triggerOnKeyDown:$t(An),triggerOnKeyPress:$t(En),triggerOnKeyUp:Mn,execCommand:function(e){if(fr.hasOwnProperty(e))return fr[e].call(null,this)},triggerElectric:$t((function(e){we(this,e)})),findPosH:function(e,t,n,r){var i=1;t<0&&(i=-1,t=-t);for(var o=0,a=je(this.doc,e);o<t&&!(a=Jn(this.doc,a,i,n,r)).hitSide;++o);return a},moveH:$t((function(e,t){var n=this;n.extendSelectionsBy((function(r){return n.display.shift||n.doc.extend||r.empty()?Jn(n.doc,r.head,e,t,n.options.rtlMoveVisually):e<0?r.from():r.to()}),uo)})),deleteH:$t((function(e,t){var n=this.doc.sel,r=this.doc;n.somethingSelected()?r.replaceSelection("",null,"+delete"):$n(this,(function(n){var i=Jn(r,n.head,e,t,!1);return e<0?{from:i,to:n.head}:{from:n.head,to:i}}))})),findPosV:function(e,t,n,r){var i=1,o=r;t<0&&(i=-1,t=-t);for(var a=0,s=je(this.doc,e);a<t;++a){var l=Pt(this,s,"div");if(null==o?o=l.left:l.left=o,(s=Qn(this,l,i,n)).hitSide)break}return s},moveV:$t((function(e,t){var n=this,r=this.doc,i=[],o=!n.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy((function(a){if(o)return e<0?a.from():a.to();var s=Pt(n,a.head,"div");null!=a.goalColumn&&(s.left=a.goalColumn),i.push(s.left);var l=Qn(n,s,e,t);return"page"==t&&a==r.sel.primary()&&Gn(n,null,Et(n,l,"div").top-s.top),l}),uo),i.length)for(var a=0;a<r.sel.ranges.length;a++)r.sel.ranges[a].goalColumn=i[a]})),findWordAt:function(e){var t=wi(this.doc,e.line).text,n=e.ch,r=e.ch;if(t){var i=this.getHelper(e,"wordChars");(e.xRel<0||r==t.length)&&n?--n:++r;for(var o=t.charAt(n),a=Oo(o,i)?function(e){return Oo(e,i)}:/\s/.test(o)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!Oo(e)};n>0&&a(t.charAt(n-1));)--n;for(;r<t.length&&a(t.charAt(r));)++r}return new Le(pe(e.line,n),pe(e.line,r))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?zo(this.display.cursorDiv,"CodeMirror-overwrite"):jo(this.display.cursorDiv,"CodeMirror-overwrite"),$i(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==Io()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:$t((function(e,t){null==e&&null==t||Yn(this),null!=e&&(this.curOp.scrollLeft=e),null!=t&&(this.curOp.scrollTop=t)})),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-ft(this)-this.display.barHeight,width:e.scrollWidth-ft(this)-this.display.barWidth,clientHeight:pt(this),clientWidth:dt(this)}},scrollIntoView:$t((function(e,t){if(null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:pe(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line)Yn(this),this.curOp.scrollToPos=e;else{var n=Wn(this,Math.min(e.from.left,e.to.left),Math.min(e.from.top,e.to.top)-e.margin,Math.max(e.from.right,e.to.right),Math.max(e.from.bottom,e.to.bottom)+e.margin);this.scrollTo(n.scrollLeft,n.scrollTop)}})),setSize:$t((function(e,t){var n=this;function r(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e}null!=e&&(n.display.wrapper.style.width=r(e)),null!=t&&(n.display.wrapper.style.height=r(t)),n.options.lineWrapping&&Tt(this);var i=n.display.viewFrom;n.doc.iter(i,n.display.viewTo,(function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){nn(n,i,"widget");break}++i})),n.curOp.forceUpdate=!0,$i(n,"refresh",this)})),operation:function(e){return Zt(this,e)},refresh:$t((function(){var e=this.display.cachedTextHeight;tn(this),this.curOp.forceUpdate=!0,Ct(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),L(this),(null==e||Math.abs(e-Nt(this.display))>.5)&&M(this),$i(this,"refresh",this)})),swapDoc:$t((function(e){var t=this.doc;return t.cm=null,_i(this,e),Ct(this),this.display.input.reset(),this.scrollTo(e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,Qi(this,"swapDoc",this,t),t})),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},io(T);var er=T.defaults={},tr=T.optionHandlers={};function nr(e,t,n,r){T.defaults[e]=t,n&&(tr[e]=r?function(e,t,r){r!=rr&&n(e,t,r)}:n)}var rr=T.Init={toString:function(){return"CodeMirror.Init"}};nr("value","",(function(e,t){e.setValue(t)}),!0),nr("mode",null,(function(e,t){e.doc.modeOption=t,O(e)}),!0),nr("indentUnit",2,O,!0),nr("indentWithTabs",!1),nr("smartIndent",!0),nr("tabSize",4,(function(e){S(e),Ct(e),tn(e)}),!0),nr("lineSeparator",null,(function(e,t){if(e.doc.lineSep=t,t){var n=[],r=e.doc.first;e.doc.iter((function(e){for(var i=0;;){var o=e.text.indexOf(t,i);if(-1==o)break;i=o+t.length,n.push(pe(r,o))}r++}));for(var i=n.length-1;i>=0;i--)Vn(e.doc,t,n[i],pe(n[i].line,n[i].ch+t.length))}})),nr("specialChars",/[\u0000-\u001f\u007f\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,(function(e,t,n){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),n!=T.Init&&e.refresh()})),nr("specialCharPlaceholder",(function(e){var t=Po("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}),(function(e){e.refresh()}),!0),nr("electricChars",!0),nr("inputStyle",g?"contenteditable":"textarea",(function(){throw new Error("inputStyle can not (yet) be changed in a running editor")}),!0),nr("spellcheck",!1,(function(e,t){e.getInputField().spellcheck=t}),!0),nr("rtlMoveVisually",!v),nr("wholeLineUpdateBefore",!0),nr("theme","default",(function(e){E(e),P(e)}),!0),nr("keyMap","default",(function(e,t,n){var r=yr(t),i=n!=T.Init&&yr(n);i&&i.detach&&i.detach(e,r),r.attach&&r.attach(e,i||null)})),nr("extraKeys",null),nr("lineWrapping",!1,(function(e){e.options.lineWrapping?(zo(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(jo(e.display.wrapper,"CodeMirror-wrap"),I(e)),M(e),tn(e),Ct(e),setTimeout((function(){B(e)}),100)}),!0),nr("gutters",[],(function(e){N(e.options),P(e)}),!0),nr("fixedGutter",!0,(function(e,t){e.display.gutters.style.left=t?K(e.display)+"px":"0",e.refresh()}),!0),nr("coverGutterNextToScrollbar",!1,(function(e){B(e)}),!0),nr("scrollbarStyle","native",(function(e){F(e),B(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)}),!0),nr("lineNumbers",!1,(function(e){N(e.options),P(e)}),!0),nr("firstLineNumber",1,P,!0),nr("lineNumberFormatter",(function(e){return e}),P,!0),nr("showCursorWhenSelecting",!1,et,!0),nr("resetSelectionOnContextMenu",!0),nr("lineWiseCopyCut",!0),nr("readOnly",!1,(function(e,t){"nocursor"==t?(Dn(e),e.display.input.blur(),e.display.disabled=!0):e.display.disabled=!1,e.display.input.readOnlyChanged(t)})),nr("disableInput",!1,(function(e,t){t||e.display.input.reset()}),!0),nr("dragDrop",!0,(function(e,t,n){if(!t!=!(n&&n!=T.Init)){var r=e.display.dragFunctions,i=t?Ki:Xi;i(e.display.scroller,"dragstart",r.start),i(e.display.scroller,"dragenter",r.enter),i(e.display.scroller,"dragover",r.over),i(e.display.scroller,"dragleave",r.leave),i(e.display.scroller,"drop",r.drop)}})),nr("allowDropFileTypes",null),nr("cursorBlinkRate",530),nr("cursorScrollMargin",0),nr("cursorHeight",1,et,!0),nr("singleCursorHeightPerLine",!0,et,!0),nr("workTime",100),nr("workDelay",100),nr("flattenSpans",!0,S,!0),nr("addModeClass",!1,S,!0),nr("pollInterval",100),nr("undoDepth",200,(function(e,t){e.doc.history.undoDepth=t})),nr("historyEventDelay",1250),nr("viewportMargin",10,(function(e){e.refresh()}),!0),nr("maxHighlightLength",1e4,S,!0),nr("moveInputWithCursor",!0,(function(e,t){t||e.display.input.resetPosition()})),nr("tabindex",null,(function(e,t){e.display.input.getField().tabIndex=t||""})),nr("autofocus",null);var ir=T.modes={},or=T.mimeModes={};T.defineMode=function(e,t){T.defaults.mode||"null"==e||(T.defaults.mode=e),arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),ir[e]=t},T.defineMIME=function(e,t){or[e]=t},T.resolveMode=function(e){if("string"==typeof e&&or.hasOwnProperty(e))e=or[e];else if(e&&"string"==typeof e.name&&or.hasOwnProperty(e.name)){var t=or[e.name];"string"==typeof t&&(t={name:t}),(e=_o(t,e)).name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return T.resolveMode("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return T.resolveMode("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}},T.getMode=function(e,t){t=T.resolveMode(t);var n=ir[t.name];if(!n)return T.getMode(e,"text/plain");var r=n(e,t);if(ar.hasOwnProperty(t.name)){var i=ar[t.name];for(var o in i)i.hasOwnProperty(o)&&(r.hasOwnProperty(o)&&(r["_"+o]=r[o]),r[o]=i[o])}if(r.name=t.name,t.helperType&&(r.helperType=t.helperType),t.modeProps)for(var o in t.modeProps)r[o]=t.modeProps[o];return r},T.defineMode("null",(function(){return{token:function(e){e.skipToEnd()}}})),T.defineMIME("text/plain","null");var ar=T.modeExtensions={};T.extendMode=function(e,t){wo(t,ar.hasOwnProperty(e)?ar[e]:ar[e]={})},T.defineExtension=function(e,t){T.prototype[e]=t},T.defineDocExtension=function(e,t){yi.prototype[e]=t},T.defineOption=nr;var sr=[];T.defineInitHook=function(e){sr.push(e)};var lr=T.helpers={};T.registerHelper=function(e,t,n){lr.hasOwnProperty(e)||(lr[e]=T[e]={_global:[]}),lr[e][t]=n},T.registerGlobalHelper=function(e,t,n,r){T.registerHelper(e,t,r),lr[e]._global.push({pred:n,val:r})};var ur=T.copyState=function(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var i=t[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n},cr=T.startState=function(e,t,n){return!e.startState||e.startState(t,n)};T.innerMode=function(e,t){for(;e.innerMode;){var n=e.innerMode(t);if(!n||n.mode==e)break;t=n.state,e=n.mode}return n||{mode:e,state:t}};var fr=T.commands={selectAll:function(e){e.setSelection(pe(e.firstLine(),0),pe(e.lastLine()),so)},singleSelection:function(e){e.setSelection(e.getCursor("anchor"),e.getCursor("head"),so)},killLine:function(e){$n(e,(function(t){if(t.empty()){var n=wi(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:pe(t.head.line+1,0)}:{from:t.head,to:pe(t.head.line,n)}}return{from:t.from(),to:t.to()}}))},deleteLine:function(e){$n(e,(function(t){return{from:pe(t.from().line,0),to:je(e.doc,pe(t.to().line+1,0))}}))},delLineLeft:function(e){$n(e,(function(e){return{from:pe(e.from().line,0),to:e.from()}}))},delWrappedLineLeft:function(e){$n(e,(function(t){var n=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:n},"div"),to:t.from()}}))},delWrappedLineRight:function(e){$n(e,(function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:r}}))},undo:function(e){e.undo()},redo:function(e){e.redo()},undoSelection:function(e){e.undoSelection()},redoSelection:function(e){e.redoSelection()},goDocStart:function(e){e.extendSelection(pe(e.firstLine(),0))},goDocEnd:function(e){e.extendSelection(pe(e.lastLine()))},goLineStart:function(e){e.extendSelectionsBy((function(t){return ia(e,t.head.line)}),{origin:"+move",bias:1})},goLineStartSmart:function(e){e.extendSelectionsBy((function(t){return oa(e,t.head)}),{origin:"+move",bias:1})},goLineEnd:function(e){e.extendSelectionsBy((function(t){return function(e,t){for(var n,r=wi(e.doc,t);n=zr(r);)r=n.find(1,!0).line,t=null;var i=Mi(r),o=i?i[0].level%2?na(r):ra(r):r.text.length;return pe(null==t?Oi(r):t,o)}(e,t.head.line)}),{origin:"+move",bias:-1})},goLineRight:function(e){e.extendSelectionsBy((function(t){var n=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")}),uo)},goLineLeft:function(e){e.extendSelectionsBy((function(t){var n=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")}),uo)},goLineLeftSmart:function(e){e.extendSelectionsBy((function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return r.ch<e.getLine(r.line).search(/\S/)?oa(e,t.head):r}),uo)},goLineUp:function(e){e.moveV(-1,"line")},goLineDown:function(e){e.moveV(1,"line")},goPageUp:function(e){e.moveV(-1,"page")},goPageDown:function(e){e.moveV(1,"page")},goCharLeft:function(e){e.moveH(-1,"char")},goCharRight:function(e){e.moveH(1,"char")},goColumnLeft:function(e){e.moveH(-1,"column")},goColumnRight:function(e){e.moveH(1,"column")},goWordLeft:function(e){e.moveH(-1,"word")},goGroupRight:function(e){e.moveH(1,"group")},goGroupLeft:function(e){e.moveH(-1,"group")},goWordRight:function(e){e.moveH(1,"word")},delCharBefore:function(e){e.deleteH(-1,"char")},delCharAfter:function(e){e.deleteH(1,"char")},delWordBefore:function(e){e.deleteH(-1,"word")},delWordAfter:function(e){e.deleteH(1,"word")},delGroupBefore:function(e){e.deleteH(-1,"group")},delGroupAfter:function(e){e.deleteH(1,"group")},indentAuto:function(e){e.indentSelection("smart")},indentMore:function(e){e.indentSelection("add")},indentLess:function(e){e.indentSelection("subtract")},insertTab:function(e){e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),r=e.options.tabSize,i=0;i<n.length;i++){var o=n[i].from(),a=fo(e.getLine(o.line),o.ch,r);t.push(go(r-a%r))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){Zt(e,(function(){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++){var i=t[r].head,o=wi(e.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new pe(i.line,i.ch-1)),i.ch>0)i=new pe(i.line,i.ch+1),e.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),pe(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var a=wi(e.doc,i.line-1).text;a&&e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+a.charAt(a.length-1),pe(i.line-1,a.length-1),pe(i.line,1),"+transpose")}n.push(new Le(i,i))}e.setSelections(n)}))},newlineAndIndent:function(e){Zt(e,(function(){for(var t=e.listSelections().length,n=0;n<t;n++){var r=e.listSelections()[n];e.replaceRange(e.doc.lineSeparator(),r.anchor,r.head,"+input"),e.indentLine(r.from().line+1,null,!0)}Kn(e)}))},openLine:function(e){e.replaceSelection("\n","start")},toggleOverwrite:function(e){e.toggleOverwrite()}},dr=T.keyMap={};function pr(e){for(var t,n,r,i,o=e.split(/-(?!$)/),a=(e=o[o.length-1],0);a<o.length-1;a++){var s=o[a];if(/^(cmd|meta|m)$/i.test(s))i=!0;else if(/^a(lt)?$/i.test(s))t=!0;else if(/^(c|ctrl|control)$/i.test(s))n=!0;else{if(!/^s(hift)$/i.test(s))throw new Error("Unrecognized modifier name: "+s);r=!0}}return t&&(e="Alt-"+e),n&&(e="Ctrl-"+e),i&&(e="Cmd-"+e),r&&(e="Shift-"+e),e}dr.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},dr.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},dr.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},dr.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},dr.default=m?dr.macDefault:dr.pcDefault,T.normalizeKeyMap=function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==r){delete e[n];continue}for(var i=bo(n.split(" "),pr),o=0;o<i.length;o++){var a,s;o==i.length-1?(s=i.join(" "),a=r):(s=i.slice(0,o+1).join(" "),a="...");var l=t[s];if(l){if(l!=a)throw new Error("Inconsistent bindings for "+s)}else t[s]=a}delete e[n]}for(var u in t)e[u]=t[u];return e};var hr=T.lookupKey=function(e,t,n,r){var i=(t=yr(t)).call?t.call(e,r):t[e];if(!1===i)return"nothing";if("..."===i)return"multi";if(null!=i&&n(i))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return hr(e,t.fallthrough,n,r);for(var o=0;o<t.fallthrough.length;o++){var a=hr(e,t.fallthrough[o],n,r);if(a)return a}}},gr=T.isModifierKey=function(e){var t="string"==typeof e?e:Qo[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t},mr=T.keyName=function(e,t){if(c&&34==e.keyCode&&e.char)return!1;var n=Qo[e.keyCode],r=n;return null!=r&&!e.altGraphKey&&(e.altKey&&"Alt"!=n&&(r="Alt-"+r),(x?e.metaKey:e.ctrlKey)&&"Ctrl"!=n&&(r="Ctrl-"+r),(x?e.ctrlKey:e.metaKey)&&"Cmd"!=n&&(r="Cmd-"+r),!t&&e.shiftKey&&"Shift"!=n&&(r="Shift-"+r),r)};function yr(e){return"string"==typeof e?dr[e]:e}T.fromTextArea=function(e,t){if((t=t?wo(t):{}).value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var n=Io();t.autofocus=n==e||null!=e.getAttribute("autofocus")&&n==document.body}function r(){e.value=s.getValue()}if(e.form&&(Ki(e.form,"submit",r),!t.leaveSubmitMethodAlone)){var i=e.form,o=i.submit;try{var a=i.submit=function(){r(),i.submit=o,i.submit(),i.submit=a}}catch(e){}}t.finishInit=function(t){t.save=r,t.getTextArea=function(){return e},t.toTextArea=function(){t.toTextArea=isNaN,r(),e.parentNode.removeChild(t.getWrapperElement()),e.style.display="",e.form&&(Xi(e.form,"submit",r),"function"==typeof e.form.submit&&(e.form.submit=o))}},e.style.display="none";var s=T((function(t){e.parentNode.insertBefore(t,e.nextSibling)}),t);return s};var vr=T.StringStream=function(e,t){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};vr.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(e){var t=this.string.charAt(this.pos);if("string"==typeof e)var n=t==e;else n=t&&(e.test?e.test(t):e(t));if(n)return++this.pos,t},eatWhile:function(e){for(var t=this.pos;this.eat(e););return this.pos>t},eatSpace:function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},backUp:function(e){this.pos-=e},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=fo(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?fo(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return fo(this.string,null,this.tabSize)-(this.lineStart?fo(this.string,this.lineStart,this.tabSize):0)},match:function(e,t,n){if("string"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&!1!==t&&(this.pos+=r[0].length),r)}var i=function(e){return n?e.toLowerCase():e};if(i(this.string.substr(this.pos,e.length))==i(e))return!1!==t&&(this.pos+=e.length),!0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}}};var br=0,xr=T.TextMarker=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++br};function _r(e,t,n,r,i){if(r&&r.shared)return function(e,t,n,r,i){(r=wo(r)).shared=!1;var o=[_r(e,t,n,r,i)],a=o[0],s=r.widgetNode;return xi(e,(function(e){s&&(r.widgetNode=s.cloneNode(!0)),o.push(_r(e,je(e,t),je(e,n),r,i));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;a=mo(o)})),new wr(o,a)}(e,t,n,r,i);if(e.cm&&!e.cm.curOp)return Xt(e.cm,_r)(e,t,n,r,i);var o=new xr(e,i),a=he(t,n);if(r&&wo(r,o,!1),a>0||0==a&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=Po("span",[o.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(qr(e,t.line,t,n,o)||t.line!=n.line&&qr(e,n.line,t,n,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");k=!0}o.addToHistory&&Li(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var s,l=t.line,u=e.cm;if(e.iter(l,n.line+1,(function(e){u&&o.collapsed&&!u.options.lineWrapping&&Fr(e)==u.display.maxLine&&(s=!0),o.collapsed&&l!=t.line&&Ci(e,0),function(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}(e,new Cr(o,l==t.line?t.ch:null,l==n.line?n.ch:null)),++l})),o.collapsed&&e.iter(t.line,n.line+1,(function(t){Ur(e,t)&&Ci(t,0)})),o.clearOnEnter&&Ki(o,"beforeCursorEnter",(function(){o.clear()})),o.readOnly&&(w=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),o.collapsed&&(o.id=++br,o.atomic=!0),u){if(s&&(u.curOp.updateMaxLine=!0),o.collapsed)tn(u,t.line,n.line+1);else if(o.className||o.title||o.startStyle||o.endStyle||o.css)for(var c=t.line;c<=n.line;c++)nn(u,c,"text");o.atomic&&Ze(u.doc),Qi(u,"markerAdded",u,o)}return o}io(xr),xr.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&Ht(e),ro(this,"clear")){var n=this.find();n&&Qi(this,"clear",n.from,n.to)}for(var r=null,i=null,o=0;o<this.lines.length;++o){var a=this.lines[o],s=Or(a.markedSpans,this);e&&!this.collapsed?nn(e,Oi(a),"text"):e&&(null!=s.to&&(i=Oi(a)),null!=s.from&&(r=Oi(a))),a.markedSpans=Sr(a.markedSpans,s),null==s.from&&this.collapsed&&!Ur(this.doc,a)&&e&&Ci(a,Nt(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(o=0;o<this.lines.length;++o){var l=Fr(this.lines[o]),u=R(l);u>e.display.maxLineLength&&(e.display.maxLine=l,e.display.maxLineLength=u,e.display.maxLineChanged=!0)}null!=r&&e&&this.collapsed&&tn(e,r,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&Ze(e.doc)),e&&Qi(e,"markerCleared",e,this),t&&Ut(e),this.parent&&this.parent.clear()}},xr.prototype.find=function(e,t){var n,r;null==e&&"bookmark"==this.type&&(e=1);for(var i=0;i<this.lines.length;++i){var o=this.lines[i],a=Or(o.markedSpans,this);if(null!=a.from&&(n=pe(t?o:Oi(o),a.from),-1==e))return n;if(null!=a.to&&(r=pe(t?o:Oi(o),a.to),1==e))return r}return n&&{from:n,to:r}},xr.prototype.changed=function(){var e=this.find(-1,!0),t=this,n=this.doc.cm;e&&n&&Zt(n,(function(){var r=e.line,i=Oi(e.line),o=mt(n,i);if(o&&(kt(o),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!Ur(t.doc,r)&&null!=t.height){var a=t.height;t.height=null;var s=Kr(t)-a;s&&Ci(r,r.height+s)}}))},xr.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=vo(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},xr.prototype.detachLine=function(e){if(this.lines.splice(vo(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},br=0;var wr=T.SharedTextMarker=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};function kr(e){return e.findMarks(pe(e.first,0),e.clipPos(pe(e.lastLine())),(function(e){return e.parent}))}function Tr(e){for(var t=0;t<e.length;t++){var n=e[t],r=[n.primary.doc];xi(n.primary.doc,(function(e){r.push(e)}));for(var i=0;i<n.markers.length;i++){var o=n.markers[i];-1==vo(r,o.doc)&&(o.parent=null,n.markers.splice(i--,1))}}}function Cr(e,t,n){this.marker=e,this.from=t,this.to=n}function Or(e,t){if(e)for(var n=0;n<e.length;++n){var r=e[n];if(r.marker==t)return r}}function Sr(e,t){for(var n,r=0;r<e.length;++r)e[r]!=t&&(n||(n=[])).push(e[r]);return n}function Ar(e,t){if(t.full)return null;var n=ze(e,t.from.line)&&wi(e,t.from.line).markedSpans,r=ze(e,t.to.line)&&wi(e,t.to.line).markedSpans;if(!n&&!r)return null;var i=t.from.ch,o=t.to.ch,a=0==he(t.from,t.to),s=function(e,t,n){if(e)for(var r,i=0;i<e.length;++i){var o=e[i],a=o.marker;if(null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t)||o.from==t&&"bookmark"==a.type&&(!n||!o.marker.insertLeft)){var s=null==o.to||(a.inclusiveRight?o.to>=t:o.to>t);(r||(r=[])).push(new Cr(a,o.from,s?null:o.to))}}return r}(n,i,a),l=function(e,t,n){if(e)for(var r,i=0;i<e.length;++i){var o=e[i],a=o.marker;if(null==o.to||(a.inclusiveRight?o.to>=t:o.to>t)||o.from==t&&"bookmark"==a.type&&(!n||o.marker.insertLeft)){var s=null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t);(r||(r=[])).push(new Cr(a,s?null:o.from-t,null==o.to?null:o.to-t))}}return r}(r,o,a),u=1==t.text.length,c=mo(t.text).length+(u?i:0);if(s)for(var f=0;f<s.length;++f)null==(d=s[f]).to&&((p=Or(l,d.marker))?u&&(d.to=null==p.to?null:p.to+c):d.to=i);if(l)for(f=0;f<l.length;++f){var d,p;null!=(d=l[f]).to&&(d.to+=c),null==d.from?(p=Or(s,d.marker))||(d.from=c,u&&(s||(s=[])).push(d)):(d.from+=c,u&&(s||(s=[])).push(d))}s&&(s=Mr(s)),l&&l!=s&&(l=Mr(l));var h=[s];if(!u){var g,m=t.text.length-2;if(m>0&&s)for(f=0;f<s.length;++f)null==s[f].to&&(g||(g=[])).push(new Cr(s[f].marker,null,null));for(f=0;f<m;++f)h.push(g);h.push(l)}return h}function Mr(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function Er(e,t){var n=function(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var r=0,i=[];r<t.text.length;++r)i.push(Ni(n[r]));return i}(e,t),r=Ar(e,t);if(!n)return r;if(!r)return n;for(var i=0;i<n.length;++i){var o=n[i],a=r[i];if(o&&a)e:for(var s=0;s<a.length;++s){for(var l=a[s],u=0;u<o.length;++u)if(o[u].marker==l.marker)continue e;o.push(l)}else a&&(n[i]=a)}return n}function Pr(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function Dr(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function Lr(e){return e.inclusiveLeft?-1:0}function Rr(e){return e.inclusiveRight?1:0}function Ir(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var r=e.find(),i=t.find(),o=he(r.from,i.from)||Lr(e)-Lr(t);return o?-o:he(r.to,i.to)||Rr(e)-Rr(t)||t.id-e.id}function Nr(e,t){var n,r=k&&e.markedSpans;if(r)for(var i,o=0;o<r.length;++o)(i=r[o]).marker.collapsed&&null==(t?i.from:i.to)&&(!n||Ir(n,i.marker)<0)&&(n=i.marker);return n}function jr(e){return Nr(e,!0)}function zr(e){return Nr(e,!1)}function qr(e,t,n,r,i){var o=wi(e,t),a=k&&o.markedSpans;if(a)for(var s=0;s<a.length;++s){var l=a[s];if(l.marker.collapsed){var u=l.marker.find(0),c=he(u.from,n)||Lr(l.marker)-Lr(i),f=he(u.to,r)||Rr(l.marker)-Rr(i);if(!(c>=0&&f<=0||c<=0&&f>=0)&&(c<=0&&(l.marker.inclusiveRight&&i.inclusiveLeft?he(u.to,n)>=0:he(u.to,n)>0)||c>=0&&(l.marker.inclusiveRight&&i.inclusiveLeft?he(u.from,r)<=0:he(u.from,r)<0)))return!0}}}function Fr(e){for(var t;t=jr(e);)e=t.find(-1,!0).line;return e}function Br(e,t){var n=wi(e,t),r=Fr(n);return n==r?t:Oi(r)}function Hr(e,t){if(t>e.lastLine())return t;var n,r=wi(e,t);if(!Ur(e,r))return t;for(;n=zr(r);)r=n.find(1,!0).line;return Oi(r)+1}function Ur(e,t){var n=k&&t.markedSpans;if(n)for(var r,i=0;i<n.length;++i)if((r=n[i]).marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&Vr(e,t,r))return!0}}function Vr(e,t,n){if(null==n.to){var r=n.marker.find(1,!0);return Vr(e,r.line,Or(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var i,o=0;o<t.markedSpans.length;++o)if((i=t.markedSpans[o]).marker.collapsed&&!i.marker.widgetNode&&i.from==n.to&&(null==i.to||i.to!=n.from)&&(i.marker.inclusiveLeft||n.marker.inclusiveRight)&&Vr(e,t,i))return!0}io(wr),wr.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();Qi(this,"clear")}},wr.prototype.find=function(e,t){return this.primary.find(e,t)};var Wr=T.LineWidget=function(e,t,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.doc=e,this.node=t};function Gr(e,t,n){Ai(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Gn(e,null,n)}function Kr(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!Ro(document.body,e.node)){var n="position: relative;";e.coverGutter&&(n+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(n+="width: "+t.display.wrapper.clientWidth+"px;"),Lo(t.display.measure,Po("div",[e.node],null,n))}return e.height=e.node.parentNode.offsetHeight}io(Wr),Wr.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,n=this.line,r=Oi(n);if(null!=r&&t){for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(n.widgets=null);var o=Kr(this);Ci(n,Math.max(0,n.height-o)),e&&Zt(e,(function(){Gr(e,n,-o),nn(e,r,"widget")}))}},Wr.prototype.changed=function(){var e=this.height,t=this.doc.cm,n=this.line;this.height=null;var r=Kr(this)-e;r&&(Ci(n,n.height+r),t&&Zt(t,(function(){t.curOp.forceUpdate=!0,Gr(t,n,r)})))};var Yr=T.Line=function(e,t,n){this.text=e,Dr(this,t),this.height=n?n(this):1};function Zr(e){e.parent=null,Pr(e)}function Xr(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";null==t[r]?t[r]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(t[r])||(t[r]+=" "+n[2])}return e}function $r(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var n=T.innerMode(e,t);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function Jr(e,t,n,r){for(var i=0;i<10;i++){r&&(r[0]=T.innerMode(e,n).mode);var o=e.token(t,n);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}function Qr(e,t,n,r){function i(e){return{start:f.start,end:f.pos,string:f.current(),type:o||null,state:e?ur(a.mode,c):c}}var o,a=e.doc,s=a.mode;t=je(a,t);var l,u=wi(a,t.line),c=st(e,t.line,n),f=new vr(u.text,e.options.tabSize);for(r&&(l=[]);(r||f.pos<t.ch)&&!f.eol();)f.start=f.pos,o=Jr(s,f,c),r&&l.push(i(!0));return r?l:i()}function ei(e,t,n,r,i,o,a){var s=n.flattenSpans;null==s&&(s=e.options.flattenSpans);var l,u=0,c=null,f=new vr(t,e.options.tabSize),d=e.options.addModeClass&&[null];for(""==t&&Xr($r(n,r),o);!f.eol();){if(f.pos>e.options.maxHighlightLength?(s=!1,a&&ri(e,t,r,f.pos),f.pos=t.length,l=null):l=Xr(Jr(n,f,r,d),o),d){var p=d[0].name;p&&(l="m-"+(l?p+" "+l:p))}if(!s||c!=l){for(;u<f.start;)i(u=Math.min(f.start,u+5e4),c);c=l}f.start=f.pos}for(;u<f.pos;){var h=Math.min(f.pos,u+5e4);i(h,c),u=h}}function ti(e,t,n,r){var i=[e.state.modeGen],o={};ei(e,t.text,e.doc.mode,n,(function(e,t){i.push(e,t)}),o,r);for(var a=0;a<e.state.overlays.length;++a){var s=e.state.overlays[a],l=1,u=0;ei(e,t.text,s.mode,!0,(function(e,t){for(var n=l;u<e;){var r=i[l];r>e&&i.splice(l,1,e,i[l+1],r),l+=2,u=Math.min(e,r)}if(t)if(s.opaque)i.splice(n,l-n,e,"cm-overlay "+t),l=n+2;else for(;n<l;n+=2){var o=i[n+1];i[n+1]=(o?o+" ":"")+"cm-overlay "+t}}),o)}return{styles:i,classes:o.bgClass||o.textClass?o:null}}function ni(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var r=st(e,Oi(t)),i=ti(e,t,t.text.length>e.options.maxHighlightLength?ur(e.doc.mode,r):r);t.stateAfter=r,t.styles=i.styles,i.classes?t.styleClasses=i.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.frontier&&e.doc.frontier++}return t.styles}function ri(e,t,n,r){var i=e.doc.mode,o=new vr(t,e.options.tabSize);for(o.start=o.pos=r||0,""==t&&$r(i,n);!o.eol();)Jr(i,o,n),o.start=o.pos}io(Yr),Yr.prototype.lineNo=function(){return Oi(this)};var ii={},oi={};function ai(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?oi:ii;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function si(e,t){var n=Po("span",null,null,s?"padding-right: .1px":null),r={pre:Po("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:(o||s)&&e.getOption("lineWrapping")};t.measure={};for(var i=0;i<=(t.rest?t.rest.length:0);i++){var a,l=i?t.rest[i-1]:t.line;r.pos=0,r.addToken=li,Go(e.display.measure)&&(a=Mi(l))&&(r.addToken=ui(r.addToken,a)),r.map=[],fi(l,r,ni(e,l,t!=e.display.externalMeasured&&Oi(l))),l.styleClasses&&(l.styleClasses.bgClass&&(r.bgClass=qo(l.styleClasses.bgClass,r.bgClass||"")),l.styleClasses.textClass&&(r.textClass=qo(l.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(Wo(e.display.measure))),0==i?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(s){var u=r.content.lastChild;(/\bcm-tab\b/.test(u.className)||u.querySelector&&u.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")}return $i(e,"renderLine",e,t.line,r.pre),r.pre.className&&(r.textClass=qo(r.pre.className,r.textClass||"")),r}function li(e,t,n,r,i,s,l){if(t){var u=e.splitSpaces?function(e,t){if(e.length>1&&!/  /.test(e))return e;for(var n=t,r="",i=0;i<e.length;i++){var o=e.charAt(i);" "!=o||!n||i!=e.length-1&&32!=e.charCodeAt(i+1)||(o=" "),r+=o,n=" "==o}return r}(t,e.trailingSpace):t,c=e.cm.state.specialChars,f=!1;if(c.test(t)){v=document.createDocumentFragment();for(var d=0;;){c.lastIndex=d;var p=c.exec(t),h=p?p.index-d:t.length-d;if(h){var g=document.createTextNode(u.slice(d,d+h));o&&a<9?v.appendChild(Po("span",[g])):v.appendChild(g),e.map.push(e.pos,e.pos+h,g),e.col+=h,e.pos+=h}if(!p)break;if(d+=h+1,"\t"==p[0]){var m=e.cm.options.tabSize,y=m-e.col%m;(g=v.appendChild(Po("span",go(y),"cm-tab"))).setAttribute("role","presentation"),g.setAttribute("cm-text","\t"),e.col+=y}else"\r"==p[0]||"\n"==p[0]?((g=v.appendChild(Po("span","\r"==p[0]?"␍":"␤","cm-invalidchar"))).setAttribute("cm-text",p[0]),e.col+=1):((g=e.cm.options.specialCharPlaceholder(p[0])).setAttribute("cm-text",p[0]),o&&a<9?v.appendChild(Po("span",[g])):v.appendChild(g),e.col+=1);e.map.push(e.pos,e.pos+1,g),e.pos++}}else{e.col+=t.length;var v=document.createTextNode(u);e.map.push(e.pos,e.pos+t.length,v),o&&a<9&&(f=!0),e.pos+=t.length}if(e.trailingSpace=32==u.charCodeAt(t.length-1),n||r||i||f||l){var b=n||"";r&&(b+=r),i&&(b+=i);var x=Po("span",[v],b,l);return s&&(x.title=s),e.content.appendChild(x)}e.content.appendChild(v)}}function ui(e,t){return function(n,r,i,o,a,s,l){i=i?i+" cm-force-border":"cm-force-border";for(var u=n.pos,c=u+r.length;;){for(var f=0;f<t.length;f++){var d=t[f];if(d.to>u&&d.from<=u)break}if(d.to>=c)return e(n,r,i,o,a,s,l);e(n,r.slice(0,d.to-u),i,o,null,s,l),o=null,r=r.slice(d.to-u),u=d.to}}}function ci(e,t,n,r){var i=!r&&n.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!r&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",n.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t,e.trailingSpace=!1}function fi(e,t,n){var r=e.markedSpans,i=e.text,o=0;if(r)for(var a,s,l,u,c,f,d,p=i.length,h=0,g=(C=1,""),m=0;;){if(m==h){l=u=c=f=s="",d=null,m=1/0;for(var y,v=[],b=0;b<r.length;++b){var x=r[b],_=x.marker;"bookmark"==_.type&&x.from==h&&_.widgetNode?v.push(_):x.from<=h&&(null==x.to||x.to>h||_.collapsed&&x.to==h&&x.from==h)?(null!=x.to&&x.to!=h&&m>x.to&&(m=x.to,u=""),_.className&&(l+=" "+_.className),_.css&&(s=(s?s+";":"")+_.css),_.startStyle&&x.from==h&&(c+=" "+_.startStyle),_.endStyle&&x.to==m&&(y||(y=[])).push(_.endStyle,x.to),_.title&&!f&&(f=_.title),_.collapsed&&(!d||Ir(d.marker,_)<0)&&(d=x)):x.from>h&&m>x.from&&(m=x.from)}if(y)for(b=0;b<y.length;b+=2)y[b+1]==m&&(u+=" "+y[b]);if(!d||d.from==h)for(b=0;b<v.length;++b)ci(t,0,v[b]);if(d&&(d.from||0)==h){if(ci(t,(null==d.to?p+1:d.to)-h,d.marker,null==d.from),null==d.to)return;d.to==h&&(d=!1)}}if(h>=p)break;for(var w=Math.min(p,m);;){if(g){var k=h+g.length;if(!d){var T=k>w?g.slice(0,w-h):g;t.addToken(t,T,a?a+l:l,c,h+T.length==m?u:"",f,s)}if(k>=w){g=g.slice(w-h),h=w;break}h=k,c=""}g=i.slice(o,o=n[C++]),a=ai(n[C++],t.cm.options)}}else for(var C=1;C<n.length;C+=2)t.addToken(t,i.slice(o,o=n[C]),ai(n[C+1],t.cm.options))}function di(e,t){return 0==t.from.ch&&0==t.to.ch&&""==mo(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function pi(e,t,n,r){function i(e){return n?n[e]:null}function o(e,n,i){(function(e,t,n,r){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),Pr(e),Dr(e,n);var i=r?r(e):1;i!=e.height&&Ci(e,i)})(e,n,i,r),Qi(e,"change",e,t)}function a(e,t){for(var n=e,o=[];n<t;++n)o.push(new Yr(u[n],i(n),r));return o}var s=t.from,l=t.to,u=t.text,c=wi(e,s.line),f=wi(e,l.line),d=mo(u),p=i(u.length-1),h=l.line-s.line;if(t.full)e.insert(0,a(0,u.length)),e.remove(u.length,e.size-u.length);else if(di(e,t)){var g=a(0,u.length-1);o(f,f.text,p),h&&e.remove(s.line,h),g.length&&e.insert(s.line,g)}else c==f?1==u.length?o(c,c.text.slice(0,s.ch)+d+c.text.slice(l.ch),p):((g=a(1,u.length-1)).push(new Yr(d+c.text.slice(l.ch),p,r)),o(c,c.text.slice(0,s.ch)+u[0],i(0)),e.insert(s.line+1,g)):1==u.length?(o(c,c.text.slice(0,s.ch)+u[0]+f.text.slice(l.ch),i(0)),e.remove(s.line+1,h)):(o(c,c.text.slice(0,s.ch)+u[0],i(0)),o(f,d+f.text.slice(l.ch),p),g=a(1,u.length-1),h>1&&e.remove(s.line+1,h-1),e.insert(s.line+1,g));Qi(e,"change",e,t)}function hi(e){this.lines=e,this.parent=null;for(var t=0,n=0;t<e.length;++t)e[t].parent=this,n+=e[t].height;this.height=n}function gi(e){this.children=e;for(var t=0,n=0,r=0;r<e.length;++r){var i=e[r];t+=i.chunkSize(),n+=i.height,i.parent=this}this.size=t,this.height=n,this.parent=null}hi.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,r=e+t;n<r;++n){var i=this.lines[n];this.height-=i.height,Zr(i),Qi(i,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0;r<t.length;++r)t[r].parent=this},iterN:function(e,t,n){for(var r=e+t;e<r;++e)if(n(this.lines[e]))return!0}},gi.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var r=this.children[n],i=r.chunkSize();if(e<i){var o=Math.min(t,i-e),a=r.height;if(r.removeInner(e,o),this.height-=a-r.height,i==o&&(this.children.splice(n--,1),r.parent=null),0==(t-=o))break;e=0}else e-=i}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof hi))){var s=[];this.collapse(s),this.children=[new hi(s)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(e<=o){if(i.insertInner(e,t,n),i.lines&&i.lines.length>50){for(var a=i.lines.length%25+25,s=a;s<i.lines.length;){var l=new hi(i.lines.slice(s,s+=25));i.height-=l.height,this.children.splice(++r,0,l),l.parent=this}i.lines=i.lines.slice(0,a),this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new gi(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var n=vo(e.parent.children,e);e.parent.children.splice(n+1,0,t)}else{var r=new gi(e.children);r.parent=e,e.children=[r,t],e=r}t.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(e<o){var a=Math.min(t,o-e);if(i.iterN(e,a,n))return!0;if(0==(t-=a))break;e=0}else e-=o}}};var mi=0,yi=T.Doc=function(e,t,n,r){if(!(this instanceof yi))return new yi(e,t,n,r);null==n&&(n=0),gi.call(this,[new hi([new Yr("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=n;var i=pe(n,0);this.sel=Ie(i),this.history=new Ei(null),this.id=++mi,this.modeOption=t,this.lineSep=r,this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),pi(this,{from:i,to:i,text:e}),Ge(this,Ie(i),so)};yi.prototype=_o(gi.prototype,{constructor:yi,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,r=0;r<t.length;++r)n+=t[r].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Ti(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:Jt((function(e){var t=pe(this.first,0),n=this.first+this.size-1;qn(this,{from:t,to:pe(n,wi(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),Ge(this,Ie(t))})),replaceRange:function(e,t,n,r){Vn(this,e,t=je(this,t),n=n?je(this,n):t,r)},getRange:function(e,t,n){var r=ki(this,je(this,e),je(this,t));return!1===n?r:r.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(ze(this,e))return wi(this,e)},getLineNumber:function(e){return Oi(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=wi(this,e)),Fr(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return je(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Jt((function(e,t,n){Ve(this,je(this,"number"==typeof e?pe(e,t||0):e),null,n)})),setSelection:Jt((function(e,t,n){Ve(this,je(this,e),je(this,t||e),n)})),extendSelection:Jt((function(e,t,n){Be(this,je(this,e),t&&je(this,t),n)})),extendSelections:Jt((function(e,t){He(this,qe(this,e),t)})),extendSelectionsBy:Jt((function(e,t){He(this,qe(this,bo(this.sel.ranges,e)),t)})),setSelections:Jt((function(e,t,n){if(e.length){for(var r=0,i=[];r<e.length;r++)i[r]=new Le(je(this,e[r].anchor),je(this,e[r].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),Ge(this,Re(i,t),n)}})),addSelection:Jt((function(e,t,n){var r=this.sel.ranges.slice(0);r.push(new Le(je(this,e),je(this,t||e))),Ge(this,Re(r,r.length-1),n)})),getSelection:function(e){for(var t,n=this.sel.ranges,r=0;r<n.length;r++){var i=ki(this,n[r].from(),n[r].to());t=t?t.concat(i):i}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],n=this.sel.ranges,r=0;r<n.length;r++){var i=ki(this,n[r].from(),n[r].to());!1!==e&&(i=i.join(e||this.lineSeparator())),t[r]=i}return t},replaceSelection:function(e,t,n){for(var r=[],i=0;i<this.sel.ranges.length;i++)r[i]=e;this.replaceSelections(r,t,n||"+input")},replaceSelections:Jt((function(e,t,n){for(var r=[],i=this.sel,o=0;o<i.ranges.length;o++){var a=i.ranges[o];r[o]={from:a.from(),to:a.to(),text:this.splitLines(e[o]),origin:n}}var s=t&&"end"!=t&&function(e,t,n){for(var r=[],i=pe(e.first,0),o=i,a=0;a<t.length;a++){var s=t[a],l=jn(s.from,i,o),u=jn(Rn(s),i,o);if(i=s.to,o=u,"around"==n){var c=e.sel.ranges[a],f=he(c.head,c.anchor)<0;r[a]=new Le(f?u:l,f?l:u)}else r[a]=new Le(l,l)}return new De(r,e.sel.primIndex)}(this,r,t);for(o=r.length-1;o>=0;o--)qn(this,r[o]);s?We(this,s):this.cm&&Kn(this.cm)})),undo:Jt((function(){Bn(this,"undo")})),redo:Jt((function(){Bn(this,"redo")})),undoSelection:Jt((function(){Bn(this,"undo",!0)})),redoSelection:Jt((function(){Bn(this,"redo",!0)})),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,r=0;r<e.done.length;r++)e.done[r].ranges||++t;for(r=0;r<e.undone.length;r++)e.undone[r].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){this.history=new Ei(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:ji(this.history.done),undone:ji(this.history.undone)}},setHistory:function(e){var t=this.history=new Ei(this.history.maxGeneration);t.done=ji(e.done.slice(0),null,!0),t.undone=ji(e.undone.slice(0),null,!0)},addLineClass:Jt((function(e,t,n){return Xn(this,e,"gutter"==t?"gutter":"class",(function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[r]){if(No(n).test(e[r]))return!1;e[r]+=" "+n}else e[r]=n;return!0}))})),removeLineClass:Jt((function(e,t,n){return Xn(this,e,"gutter"==t?"gutter":"class",(function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",i=e[r];if(!i)return!1;if(null==n)e[r]=null;else{var o=i.match(No(n));if(!o)return!1;var a=o.index+o[0].length;e[r]=i.slice(0,o.index)+(o.index&&a!=i.length?" ":"")+i.slice(a)||null}return!0}))})),addLineWidget:Jt((function(e,t,n){return function(e,t,n,r){var i=new Wr(e,n,r),o=e.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),Xn(e,t,"widget",(function(t){var n=t.widgets||(t.widgets=[]);if(null==i.insertAt?n.push(i):n.splice(Math.min(n.length-1,Math.max(0,i.insertAt)),0,i),i.line=t,o&&!Ur(e,t)){var r=Ai(t)<e.scrollTop;Ci(t,t.height+Kr(i)),r&&Gn(o,null,i.height),o.curOp.forceUpdate=!0}return!0})),i}(this,e,t,n)})),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return _r(this,je(this,e),je(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return _r(this,e=je(this,e),e,n,"bookmark")},findMarksAt:function(e){var t=[],n=wi(this,(e=je(this,e)).line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,n){e=je(this,e),t=je(this,t);var r=[],i=e.line;return this.iter(e.line,t.line+1,(function(o){var a=o.markedSpans;if(a)for(var s=0;s<a.length;s++){var l=a[s];null!=l.to&&i==e.line&&e.ch>=l.to||null==l.from&&i!=e.line||null!=l.from&&i==t.line&&l.from>=t.ch||n&&!n(l.marker)||r.push(l.marker.parent||l.marker)}++i})),r},getAllMarks:function(){var e=[];return this.iter((function(t){var n=t.markedSpans;if(n)for(var r=0;r<n.length;++r)null!=n[r].from&&e.push(n[r].marker)})),e},posFromIndex:function(e){var t,n=this.first,r=this.lineSeparator().length;return this.iter((function(i){var o=i.text.length+r;if(o>e)return t=e,!0;e-=o,++n})),je(this,pe(n,t))},indexFromPos:function(e){var t=(e=je(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,(function(e){t+=e.text.length+n})),t},copy:function(e){var t=new yi(Ti(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var r=new yi(Ti(this,t,n),e.mode||this.modeOption,t,this.lineSep);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=r.find(),o=e.clipPos(i.from),a=e.clipPos(i.to);if(he(o,a)){var s=_r(e,o,a,r.primary,r.primary.type);r.markers.push(s),s.parent=r}}}(r,kr(this)),r},unlinkDoc:function(e){if(e instanceof T&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t)if(this.linked[t].doc==e){this.linked.splice(t,1),e.unlinkDoc(this),Tr(kr(this));break}if(e.history==this.history){var n=[e.id];xi(e,(function(e){n.push(e.id)}),!0),e.history=new Ei(null),e.history.done=ji(this.history.done,n),e.history.undone=ji(this.history.undone,n)}},iterLinkedDocs:function(e){xi(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):Yo(e)},lineSeparator:function(){return this.lineSep||"\n"}}),yi.prototype.eachLine=yi.prototype.iter;var vi="iter insert remove copy getEditor constructor".split(" ");for(var bi in yi.prototype)yi.prototype.hasOwnProperty(bi)&&vo(vi,bi)<0&&(T.prototype[bi]=function(e){return function(){return e.apply(this.doc,arguments)}}(yi.prototype[bi]));function xi(e,t,n){!function e(r,i,o){if(r.linked)for(var a=0;a<r.linked.length;++a){var s=r.linked[a];if(s.doc!=i){var l=o&&s.sharedHist;n&&!l||(t(s.doc,l),e(s.doc,r,l))}}}(e,null,!0)}function _i(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,M(e),O(e),e.options.lineWrapping||I(e),e.options.mode=t.modeOption,tn(e)}function wi(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var r=0;;++r){var i=n.children[r],o=i.chunkSize();if(t<o){n=i;break}t-=o}return n.lines[t]}function ki(e,t,n){var r=[],i=t.line;return e.iter(t.line,n.line+1,(function(e){var o=e.text;i==n.line&&(o=o.slice(0,n.ch)),i==t.line&&(o=o.slice(t.ch)),r.push(o),++i})),r}function Ti(e,t,n){var r=[];return e.iter(t,n,(function(e){r.push(e.text)})),r}function Ci(e,t){var n=t-e.height;if(n)for(var r=e;r;r=r.parent)r.height+=n}function Oi(e){if(null==e.parent)return null;for(var t=e.parent,n=vo(t.lines,e),r=t.parent;r;t=r,r=r.parent)for(var i=0;r.children[i]!=t;++i)n+=r.children[i].chunkSize();return n+t.first}function Si(e,t){var n=e.first;e:do{for(var r=0;r<e.children.length;++r){var i=e.children[r],o=i.height;if(t<o){e=i;continue e}t-=o,n+=i.chunkSize()}return n}while(!e.lines);for(r=0;r<e.lines.length;++r){var a=e.lines[r].height;if(t<a)break;t-=a}return n+r}function Ai(e){for(var t=0,n=(e=Fr(e)).parent,r=0;r<n.lines.length;++r){var i=n.lines[r];if(i==e)break;t+=i.height}for(var o=n.parent;o;o=(n=o).parent)for(r=0;r<o.children.length;++r){var a=o.children[r];if(a==n)break;t+=a.height}return t}function Mi(e){var t=e.order;return null==t&&(t=e.order=fa(e.text)),t}function Ei(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function Pi(e,t){var n={from:ge(t.from),to:Rn(t),text:ki(e,t.from,t.to)};return Ii(e,n,t.from.line,t.to.line+1),xi(e,(function(e){Ii(e,n,t.from.line,t.to.line+1)}),!0),n}function Di(e){for(;e.length&&mo(e).ranges;)e.pop()}function Li(e,t,n,r){var i=e.history;i.undone.length=0;var o,a=+new Date;if((i.lastOp==r||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&e.cm&&i.lastModTime>a-e.cm.options.historyEventDelay||"*"==t.origin.charAt(0)))&&(o=function(e,t){return t?(Di(e.done),mo(e.done)):e.done.length&&!mo(e.done).ranges?mo(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),mo(e.done)):void 0}(i,i.lastOp==r))){var s=mo(o.changes);0==he(t.from,t.to)&&0==he(t.from,s.to)?s.to=Rn(t):o.changes.push(Pi(e,t))}else{var l=mo(i.done);for(l&&l.ranges||Ri(e.sel,i.done),o={changes:[Pi(e,t)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(n),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=a,i.lastOp=i.lastSelOp=r,i.lastOrigin=i.lastSelOrigin=t.origin,s||$i(e,"historyAdded")}function Ri(e,t){var n=mo(t);n&&n.ranges&&n.equals(e)||t.push(e)}function Ii(e,t,n,r){var i=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,r),(function(n){n.markedSpans&&((i||(i=t["spans_"+e.id]={}))[o]=n.markedSpans),++o}))}function Ni(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function ji(e,t,n){for(var r=0,i=[];r<e.length;++r){var o=e[r];if(o.ranges)i.push(n?De.prototype.deepCopy.call(o):o);else{var a=o.changes,s=[];i.push({changes:s});for(var l=0;l<a.length;++l){var u,c=a[l];if(s.push({from:c.from,to:c.to,text:c.text}),t)for(var f in c)(u=f.match(/^spans_(\d+)$/))&&vo(t,Number(u[1]))>-1&&(mo(s)[f]=c[f],delete c[f])}}}return i}function zi(e,t,n,r){n<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function qi(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i],a=!0;if(o.ranges){o.copied||((o=e[i]=o.deepCopy()).copied=!0);for(var s=0;s<o.ranges.length;s++)zi(o.ranges[s].anchor,t,n,r),zi(o.ranges[s].head,t,n,r)}else{for(s=0;s<o.changes.length;++s){var l=o.changes[s];if(n<l.from.line)l.from=pe(l.from.line+r,l.from.ch),l.to=pe(l.to.line+r,l.to.ch);else if(t<=l.to.line){a=!1;break}}a||(e.splice(0,i+1),i=0)}}}function Fi(e,t){var n=t.from.line,r=t.to.line,i=t.text.length-(r-n)-1;qi(e.done,n,r,i),qi(e.undone,n,r,i)}io(yi);var Bi=T.e_preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},Hi=T.e_stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0};function Ui(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}var Vi=T.e_stop=function(e){Bi(e),Hi(e)};function Wi(e){return e.target||e.srcElement}function Gi(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),m&&e.ctrlKey&&1==t&&(t=3),t}var Ki=T.on=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var r=e._handlers||(e._handlers={});(r[t]||(r[t]=[])).push(n)}},Yi=[];function Zi(e,t,n){var r=e._handlers&&e._handlers[t];return n?r&&r.length>0?r.slice():Yi:r||Yi}var Xi=T.off=function(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else for(var r=Zi(e,t,!1),i=0;i<r.length;++i)if(r[i]==n){r.splice(i,1);break}},$i=T.signal=function(e,t){var n=Zi(e,t,!0);if(n.length)for(var r=Array.prototype.slice.call(arguments,2),i=0;i<n.length;++i)n[i].apply(null,r)},Ji=null;function Qi(e,t){var n=Zi(e,t,!1);if(n.length){var r,i=Array.prototype.slice.call(arguments,2);Ft?r=Ft.delayedCallbacks:Ji?r=Ji:(r=Ji=[],setTimeout(eo,0));for(var o=0;o<n.length;++o)r.push(a(n[o]))}function a(e){return function(){e.apply(null,i)}}}function eo(){var e=Ji;Ji=null;for(var t=0;t<e.length;++t)e[t]()}function to(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),$i(e,n||t.type,e,t),Ui(t)||t.codemirrorIgnore}function no(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r<t.length;++r)-1==vo(n,t[r])&&n.push(t[r])}function ro(e,t){return Zi(e,t).length>0}function io(e){e.prototype.on=function(e,t){Ki(this,e,t)},e.prototype.off=function(e,t){Xi(this,e,t)}}var oo=30,ao=T.Pass={toString:function(){return"CodeMirror.Pass"}},so={scroll:!1},lo={origin:"*mouse"},uo={origin:"+move"};function co(){this.id=null}co.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var fo=T.countColumn=function(e,t,n,r,i){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var o=r||0,a=i||0;;){var s=e.indexOf("\t",o);if(s<0||s>=t)return a+(t-o);a+=s-o,a+=n-a%n,o=s+1}},po=T.findColumn=function(e,t,n){for(var r=0,i=0;;){var o=e.indexOf("\t",r);-1==o&&(o=e.length);var a=o-r;if(o==e.length||i+a>=t)return r+Math.min(a,t-i);if(i+=o-r,r=o+1,(i+=n-i%n)>=t)return r}},ho=[""];function go(e){for(;ho.length<=e;)ho.push(mo(ho)+" ");return ho[e]}function mo(e){return e[e.length-1]}var yo=function(e){e.select()};function vo(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}function bo(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r],r);return n}function xo(){}function _o(e,t){var n;return Object.create?n=Object.create(e):(xo.prototype=e,n=new xo),t&&wo(t,n),n}function wo(e,t,n){for(var r in t||(t={}),e)!e.hasOwnProperty(r)||!1===n&&t.hasOwnProperty(r)||(t[r]=e[r]);return t}function ko(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}h?yo=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:o&&(yo=function(e){try{e.select()}catch(e){}});var To=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Co=T.isWordChar=function(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||To.test(e))};function Oo(e,t){return t?!!(t.source.indexOf("\\w")>-1&&Co(e))||t.test(e):Co(e)}function So(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var Ao,Mo=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function Eo(e){return e.charCodeAt(0)>=768&&Mo.test(e)}function Po(e,t,n,r){var i=document.createElement(e);if(n&&(i.className=n),r&&(i.style.cssText=r),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)i.appendChild(t[o]);return i}function Do(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function Lo(e,t){return Do(e).appendChild(t)}Ao=document.createRange?function(e,t,n,r){var i=document.createRange();return i.setEnd(r||e,n),i.setStart(e,t),i}:function(e,t,n){var r=document.body.createTextRange();try{r.moveToElementText(e.parentNode)}catch(e){return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r};var Ro=T.contains=function(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)};function Io(){for(var e=document.activeElement;e&&e.root&&e.root.activeElement;)e=e.root.activeElement;return e}function No(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}o&&a<11&&(Io=function(){try{return document.activeElement}catch(e){return document.body}});var jo=T.rmClass=function(e,t){var n=e.className,r=No(t).exec(n);if(r){var i=n.slice(r.index+r[0].length);e.className=n.slice(0,r.index)+(i?r[1]+i:"")}},zo=T.addClass=function(e,t){var n=e.className;No(t).test(n)||(e.className+=(n?" ":"")+t)};function qo(e,t){for(var n=e.split(" "),r=0;r<n.length;r++)n[r]&&!No(n[r]).test(t)&&(t+=" "+n[r]);return t}function Fo(e){if(document.body.getElementsByClassName)for(var t=document.body.getElementsByClassName("CodeMirror"),n=0;n<t.length;n++){var r=t[n].CodeMirror;r&&e(r)}}var Bo=!1;var Ho,Uo,Vo=function(){if(o&&a<9)return!1;var e=Po("div");return"draggable"in e||"dragDrop"in e}();function Wo(e){if(null==Ho){var t=Po("span","​");Lo(e,Po("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Ho=t.offsetWidth<=1&&t.offsetHeight>2&&!(o&&a<8))}var n=Ho?Po("span","​"):Po("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function Go(e){if(null!=Uo)return Uo;var t=Lo(e,document.createTextNode("AخA")),n=Ao(t,0,1).getBoundingClientRect(),r=Ao(t,1,2).getBoundingClientRect();return Do(e),!(!n||n.left==n.right)&&(Uo=r.right-n.right<3)}var Ko,Yo=T.splitLines=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],r=e.length;t<=r;){var i=e.indexOf("\n",t);-1==i&&(i=e.length);var o=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),a=o.indexOf("\r");-1!=a?(n.push(o.slice(0,a)),t+=a+1):(n.push(o),t=i+1)}return n}:function(e){return e.split(/\r\n?|\n/)},Zo=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){try{var t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},Xo="oncopy"in(Ko=Po("div"))||(Ko.setAttribute("oncopy","return;"),"function"==typeof Ko.oncopy),$o=null;var Jo,Qo=T.keyNames={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};function ea(e){return e.level%2?e.to:e.from}function ta(e){return e.level%2?e.from:e.to}function na(e){var t=Mi(e);return t?ea(t[0]):0}function ra(e){var t=Mi(e);return t?ta(mo(t)):e.text.length}function ia(e,t){var n=wi(e.doc,t),r=Fr(n);r!=n&&(t=Oi(r));var i=Mi(r),o=i?i[0].level%2?ra(r):na(r):0;return pe(t,o)}function oa(e,t){var n=ia(e,t.line),r=wi(e.doc,n.line),i=Mi(r);if(!i||0==i[0].level){var o=Math.max(0,r.text.search(/\S/)),a=t.line==n.line&&t.ch<=o&&t.ch;return pe(n.line,a?0:o)}return n}function aa(e,t,n){var r=e[0].level;return t==r||n!=r&&t<n}function sa(e,t){Jo=null;for(var n,r=0;r<e.length;++r){var i=e[r];if(i.from<t&&i.to>t)return r;if(i.from==t||i.to==t){if(null!=n)return aa(e,i.level,e[n].level)?(i.from!=i.to&&(Jo=n),r):(i.from!=i.to&&(Jo=r),n);n=r}}return n}function la(e,t,n,r){if(!r)return t+n;do{t+=n}while(t>0&&Eo(e.text.charAt(t)));return t}function ua(e,t,n,r){var i=Mi(e);if(!i)return ca(e,t,n,r);for(var o=sa(i,t),a=i[o],s=la(e,t,a.level%2?-n:n,r);;){if(s>a.from&&s<a.to)return s;if(s==a.from||s==a.to)return sa(i,s)==o?s:n>0==(a=i[o+=n]).level%2?a.to:a.from;if(!(a=i[o+=n]))return null;s=n>0==a.level%2?la(e,a.to,-1,r):la(e,a.from,1,r)}}function ca(e,t,n,r){var i=t+n;if(r)for(;i>0&&Eo(e.text.charAt(i));)i+=n;return i<0||i>e.text.length?null:i}!function(){for(var e=0;e<10;e++)Qo[e+48]=Qo[e+96]=String(e);for(e=65;e<=90;e++)Qo[e]=String.fromCharCode(e);for(e=1;e<=12;e++)Qo[e+111]=Qo[e+63235]="F"+e}();var fa=function(){var e=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,t=/[stwN]/,n=/[LRr]/,r=/[Lb1n]/,i=/[1n]/,o="L";function a(e,t,n){this.level=e,this.from=t,this.to=n}return function(s){if(!e.test(s))return!1;for(var l=s.length,u=[],c=0;c<l;++c)u.push(y=(f=s.charCodeAt(c))<=247?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(f):1424<=f&&f<=1524?"R":1536<=f&&f<=1773?"rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm".charAt(f-1536):1774<=f&&f<=2220?"r":8192<=f&&f<=8203?"w":8204==f?"b":"L");var f;c=0;for(var d=o;c<l;++c)"m"==(y=u[c])?u[c]=d:d=y;c=0;for(var p=o;c<l;++c)"1"==(y=u[c])&&"r"==p?u[c]="n":n.test(y)&&(p=y,"r"==y&&(u[c]="R"));for(c=1,d=u[0];c<l-1;++c)"+"==(y=u[c])&&"1"==d&&"1"==u[c+1]?u[c]="1":","!=y||d!=u[c+1]||"1"!=d&&"n"!=d||(u[c]=d),d=y;for(c=0;c<l;++c)if(","==(y=u[c]))u[c]="N";else if("%"==y){for(var h=c+1;h<l&&"%"==u[h];++h);for(var g=c&&"!"==u[c-1]||h<l&&"1"==u[h]?"1":"N",m=c;m<h;++m)u[m]=g;c=h-1}for(c=0,p=o;c<l;++c){var y=u[c];"L"==p&&"1"==y?u[c]="L":n.test(y)&&(p=y)}for(c=0;c<l;++c)if(t.test(u[c])){for(h=c+1;h<l&&t.test(u[h]);++h);var v="L"==(c?u[c-1]:o),b="L"==(h<l?u[h]:o);for(g=v||b?"L":"R",m=c;m<h;++m)u[m]=g;c=h-1}var x,_=[];for(c=0;c<l;)if(r.test(u[c])){var w=c;for(++c;c<l&&r.test(u[c]);++c);_.push(new a(0,w,c))}else{var k=c,T=_.length;for(++c;c<l&&"L"!=u[c];++c);for(m=k;m<c;)if(i.test(u[m])){k<m&&_.splice(T,0,new a(1,k,m));var C=m;for(++m;m<c&&i.test(u[m]);++m);_.splice(T,0,new a(2,C,m)),k=m}else++m;k<c&&_.splice(T,0,new a(1,k,c))}return 1==_[0].level&&(x=s.match(/^\s+/))&&(_[0].from=x[0].length,_.unshift(new a(0,0,x[0].length))),1==mo(_).level&&(x=s.match(/\s+$/))&&(mo(_).to-=x[0].length,_.push(new a(0,l-x[0].length,l))),2==_[0].level&&_.unshift(new a(1,_[0].to,_[0].to)),_[0].level!=mo(_).level&&_.push(new a(_[0].level,l,l)),_}}();return T.version="5.18.2",T}()},96876:(e,t,n)=>{!function(e){"use strict";function t(e,t,n){return/^(?:operator|sof|keyword c|case|new|[\[{}\(,;:]|=>)$/.test(t.lastType)||"quasi"==t.lastType&&/\{\s*$/.test(e.string.slice(0,e.pos-(n||0)))}e.defineMode("javascript",(function(n,r){var i,o,a=n.indentUnit,s=r.statementIndent,l=r.jsonld,u=r.json||l,c=r.typescript,f=r.wordCharacters||/[\w$\xa1-\uffff]/,d=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),n=e("keyword b"),r=e("keyword c"),i=e("operator"),o={type:"atom",style:"atom"},a={if:e("if"),while:t,with:t,else:n,do:n,try:n,finally:n,return:r,break:r,continue:r,new:e("new"),delete:r,throw:r,debugger:r,var:e("var"),const:e("var"),let:e("var"),function:e("function"),catch:e("catch"),for:e("for"),switch:e("switch"),case:e("case"),default:e("default"),in:i,typeof:i,instanceof:i,true:o,false:o,null:o,undefined:o,NaN:o,Infinity:o,this:e("this"),class:e("class"),super:e("atom"),yield:r,export:e("export"),import:e("import"),extends:r,await:r,async:e("async")};if(c){var s={type:"variable",style:"variable-3"},l={interface:e("class"),implements:r,namespace:r,module:e("module"),enum:e("module"),public:e("modifier"),private:e("modifier"),protected:e("modifier"),abstract:e("modifier"),as:i,string:s,number:s,boolean:s,any:s};for(var u in l)a[u]=l[u]}return a}(),p=/[+\-*&%=<>!?|~^]/,h=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function g(e,t,n){return i=e,o=n,t}function m(e,n){var r,i=e.next();if('"'==i||"'"==i)return n.tokenize=(r=i,function(e,t){var n,i=!1;if(l&&"@"==e.peek()&&e.match(h))return t.tokenize=m,g("jsonld-keyword","meta");for(;null!=(n=e.next())&&(n!=r||i);)i=!i&&"\\"==n;return i||(t.tokenize=m),g("string","string")}),n.tokenize(e,n);if("."==i&&e.match(/^\d+(?:[eE][+\-]?\d+)?/))return g("number","number");if("."==i&&e.match(".."))return g("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(i))return g(i);if("="==i&&e.eat(">"))return g("=>","operator");if("0"==i&&e.eat(/x/i))return e.eatWhile(/[\da-f]/i),g("number","number");if("0"==i&&e.eat(/o/i))return e.eatWhile(/[0-7]/i),g("number","number");if("0"==i&&e.eat(/b/i))return e.eatWhile(/[01]/i),g("number","number");if(/\d/.test(i))return e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),g("number","number");if("/"==i)return e.eat("*")?(n.tokenize=y,y(e,n)):e.eat("/")?(e.skipToEnd(),g("comment","comment")):t(e,n,1)?(function(e){for(var t,n=!1,r=!1;null!=(t=e.next());){if(!n){if("/"==t&&!r)return;"["==t?r=!0:r&&"]"==t&&(r=!1)}n=!n&&"\\"==t}}(e),e.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/),g("regexp","string-2")):(e.eatWhile(p),g("operator","operator",e.current()));if("`"==i)return n.tokenize=v,v(e,n);if("#"==i)return e.skipToEnd(),g("error","error");if(p.test(i))return e.eatWhile(p),g("operator","operator",e.current());if(f.test(i)){e.eatWhile(f);var o=e.current(),a=d.propertyIsEnumerable(o)&&d[o];return a&&"."!=n.lastType?g(a.type,a.style,o):g("variable","variable",o)}}function y(e,t){for(var n,r=!1;n=e.next();){if("/"==n&&r){t.tokenize=m;break}r="*"==n}return g("comment","comment")}function v(e,t){for(var n,r=!1;null!=(n=e.next());){if(!r&&("`"==n||"$"==n&&e.eat("{"))){t.tokenize=m;break}r=!r&&"\\"==n}return g("quasi","string-2",e.current())}function b(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var n=e.string.indexOf("=>",e.start);if(!(n<0)){for(var r=0,i=!1,o=n-1;o>=0;--o){var a=e.string.charAt(o),s="([{}])".indexOf(a);if(s>=0&&s<3){if(!r){++o;break}if(0==--r){"("==a&&(i=!0);break}}else if(s>=3&&s<6)++r;else if(f.test(a))i=!0;else{if(/["'\/]/.test(a))return;if(i&&!r){++o;break}}}i&&!r&&(t.fatArrowAt=o)}}var x={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,"jsonld-keyword":!0};function _(e,t,n,r,i,o){this.indented=e,this.column=t,this.type=n,this.prev=i,this.info=o,null!=r&&(this.align=r)}function w(e,t){for(var n=e.localVars;n;n=n.next)if(n.name==t)return!0;for(var r=e.context;r;r=r.prev)for(n=r.vars;n;n=n.next)if(n.name==t)return!0}var k={state:null,column:null,marked:null,cc:null};function T(){for(var e=arguments.length-1;e>=0;e--)k.cc.push(arguments[e])}function C(){return T.apply(null,arguments),!0}function O(e){function t(t){for(var n=t;n;n=n.next)if(n.name==e)return!0;return!1}var n=k.state;if(k.marked="def",n.context){if(t(n.localVars))return;n.localVars={name:e,next:n.localVars}}else{if(t(n.globalVars))return;r.globalVars&&(n.globalVars={name:e,next:n.globalVars})}}var S={name:"this",next:{name:"arguments"}};function A(){k.state.context={prev:k.state.context,vars:k.state.localVars},k.state.localVars=S}function M(){k.state.localVars=k.state.context.vars,k.state.context=k.state.context.prev}function E(e,t){var n=function(){var n=k.state,r=n.indented;if("stat"==n.lexical.type)r=n.lexical.indented;else for(var i=n.lexical;i&&")"==i.type&&i.align;i=i.prev)r=i.indented;n.lexical=new _(r,k.stream.column(),e,null,n.lexical,t)};return n.lex=!0,n}function P(){var e=k.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function D(e){return function t(n){return n==e?C():";"==e?T():C(t)}}function L(e,t){return"var"==e?C(E("vardef",t.length),le,D(";"),P):"keyword a"==e?C(E("form"),R,L,P):"keyword b"==e?C(E("form"),L,P):"{"==e?C(E("}"),ee,P):";"==e?C():"if"==e?("else"==k.state.lexical.info&&k.state.cc[k.state.cc.length-1]==P&&k.state.cc.pop()(),C(E("form"),R,L,P,pe)):"function"==e?C(be):"for"==e?C(E("form"),he,L,P):"variable"==e?C(E("stat"),K):"switch"==e?C(E("form"),R,E("}","switch"),D("{"),ee,P,P):"case"==e?C(R,D(":")):"default"==e?C(D(":")):"catch"==e?C(E("form"),A,D("("),xe,D(")"),L,P,M):"class"==e?C(E("form"),_e,P):"export"==e?C(E("stat"),Ce,P):"import"==e?C(E("stat"),Oe,P):"module"==e?C(E("form"),ue,E("}"),D("{"),ee,P,P):"async"==e?C(L):T(E("stat"),R,D(";"),P)}function R(e){return N(e,!1)}function I(e){return N(e,!0)}function N(e,t){if(k.state.fatArrowAt==k.stream.start){var n=t?V:U;if("("==e)return C(A,E(")"),J(ue,")"),P,D("=>"),n,M);if("variable"==e)return T(A,ue,D("=>"),n,M)}var r=t?F:q;return x.hasOwnProperty(e)?C(r):"function"==e?C(be,r):"keyword c"==e||"async"==e?C(t?z:j):"("==e?C(E(")"),j,D(")"),P,r):"operator"==e||"spread"==e?C(t?I:R):"["==e?C(E("]"),Ee,P,r):"{"==e?Q(Z,"}",null,r):"quasi"==e?T(B,r):"new"==e?C(function(e){return function(t){return"."==t?C(e?G:W):T(e?I:R)}}(t)):C()}function j(e){return e.match(/[;\}\)\],]/)?T():T(R)}function z(e){return e.match(/[;\}\)\],]/)?T():T(I)}function q(e,t){return","==e?C(R):F(e,t,!1)}function F(e,t,n){var r=0==n?q:F,i=0==n?R:I;return"=>"==e?C(A,n?V:U,M):"operator"==e?/\+\+|--/.test(t)?C(r):"?"==t?C(R,D(":"),i):C(i):"quasi"==e?T(B,r):";"!=e?"("==e?Q(I,")","call",r):"."==e?C(Y,r):"["==e?C(E("]"),j,D("]"),P,r):void 0:void 0}function B(e,t){return"quasi"!=e?T():"${"!=t.slice(t.length-2)?C(B):C(R,H)}function H(e){if("}"==e)return k.marked="string-2",k.state.tokenize=v,C(B)}function U(e){return b(k.stream,k.state),T("{"==e?L:R)}function V(e){return b(k.stream,k.state),T("{"==e?L:I)}function W(e,t){if("target"==t)return k.marked="keyword",C(q)}function G(e,t){if("target"==t)return k.marked="keyword",C(F)}function K(e){return":"==e?C(P,L):T(q,D(";"),P)}function Y(e){if("variable"==e)return k.marked="property",C()}function Z(e,t){return"async"==e?(k.marked="property",C(Z)):"variable"==e||"keyword"==k.style?(k.marked="property",C("get"==t||"set"==t?X:$)):"number"==e||"string"==e?(k.marked=l?"property":k.style+" property",C($)):"jsonld-keyword"==e?C($):"modifier"==e?C(Z):"["==e?C(R,D("]"),$):"spread"==e?C(R):":"==e?T($):void 0}function X(e){return"variable"!=e?T($):(k.marked="property",C(be))}function $(e){return":"==e?C(I):"("==e?T(be):void 0}function J(e,t){function n(r,i){if(","==r){var o=k.state.lexical;return"call"==o.info&&(o.pos=(o.pos||0)+1),C((function(n,r){return n==t||r==t?T():T(e)}),n)}return r==t||i==t?C():C(D(t))}return function(r,i){return r==t||i==t?C():T(e,n)}}function Q(e,t,n){for(var r=3;r<arguments.length;r++)k.cc.push(arguments[r]);return C(E(t,n),J(e,t),P)}function ee(e){return"}"==e?C():T(L,ee)}function te(e){if(c&&":"==e)return C(re)}function ne(e,t){if("="==t)return C(I)}function re(e){return"variable"==e?(k.marked="variable-3",C(se)):"{"==e?C(J(oe,"}")):"("==e?C(J(ae,")"),ie):void 0}function ie(e){if("=>"==e)return C(re)}function oe(e){return"variable"==e||"keyword"==k.style?(k.marked="property",C(oe)):":"==e?C(re):void 0}function ae(e){return"variable"==e?C(ae):":"==e?C(re):void 0}function se(e,t){return"<"==t?C(J(re,">"),se):"["==e?C(D("]"),se):void 0}function le(){return T(ue,te,fe,de)}function ue(e,t){return"modifier"==e?C(ue):"variable"==e?(O(t),C()):"spread"==e?C(ue):"["==e?Q(ue,"]"):"{"==e?Q(ce,"}"):void 0}function ce(e,t){return"variable"!=e||k.stream.match(/^\s*:/,!1)?("variable"==e&&(k.marked="property"),"spread"==e?C(ue):"}"==e?T():C(D(":"),ue,fe)):(O(t),C(fe))}function fe(e,t){if("="==t)return C(I)}function de(e){if(","==e)return C(le)}function pe(e,t){if("keyword b"==e&&"else"==t)return C(E("form","else"),L,P)}function he(e){if("("==e)return C(E(")"),ge,D(")"),P)}function ge(e){return"var"==e?C(le,D(";"),ye):";"==e?C(ye):"variable"==e?C(me):T(R,D(";"),ye)}function me(e,t){return"in"==t||"of"==t?(k.marked="keyword",C(R)):C(q,ye)}function ye(e,t){return";"==e?C(ve):"in"==t||"of"==t?(k.marked="keyword",C(R)):T(R,D(";"),ve)}function ve(e){")"!=e&&C(R)}function be(e,t){return"*"==t?(k.marked="keyword",C(be)):"variable"==e?(O(t),C(be)):"("==e?C(A,E(")"),J(xe,")"),P,te,L,M):void 0}function xe(e){return"spread"==e?C(xe):T(ue,te,ne)}function _e(e,t){if("variable"==e)return O(t),C(we)}function we(e,t){return"extends"==t?C(c?re:R,we):"{"==e?C(E("}"),ke,P):void 0}function ke(e,t){return"variable"==e||"keyword"==k.style?"static"==t?(k.marked="keyword",C(ke)):(k.marked="property","get"==t||"set"==t?C(Te,be,ke):C(be,ke)):"*"==t?(k.marked="keyword",C(ke)):";"==e?C(ke):"}"==e?C():void 0}function Te(e){return"variable"!=e?T():(k.marked="property",C())}function Ce(e,t){return"*"==t?(k.marked="keyword",C(Me,D(";"))):"default"==t?(k.marked="keyword",C(R,D(";"))):T(L)}function Oe(e){return"string"==e?C():T(Se,Me)}function Se(e,t){return"{"==e?Q(Se,"}"):("variable"==e&&O(t),"*"==t&&(k.marked="keyword"),C(Ae))}function Ae(e,t){if("as"==t)return k.marked="keyword",C(Se)}function Me(e,t){if("from"==t)return k.marked="keyword",C(R)}function Ee(e){return"]"==e?C():T(J(I,"]"))}return P.lex=!0,{startState:function(e){var t={tokenize:m,lastType:"sof",cc:[],lexical:new _((e||0)-a,0,"block",!1),localVars:r.localVars,context:r.localVars&&{vars:r.localVars},indented:e||0};return r.globalVars&&"object"==typeof r.globalVars&&(t.globalVars=r.globalVars),t},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),b(e,t)),t.tokenize!=y&&e.eatSpace())return null;var n=t.tokenize(e,t);return"comment"==i?n:(t.lastType="operator"!=i||"++"!=o&&"--"!=o?i:"incdec",function(e,t,n,r,i){var o=e.cc;for(k.state=e,k.stream=i,k.marked=null,k.cc=o,k.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;)if((o.length?o.pop():u?R:L)(n,r)){for(;o.length&&o[o.length-1].lex;)o.pop()();return k.marked?k.marked:"variable"==n&&w(e,r)?"variable-2":t}}(t,n,i,o,e))},indent:function(t,n){if(t.tokenize==y)return e.Pass;if(t.tokenize!=m)return 0;var i=n&&n.charAt(0),o=t.lexical;if(!/^\s*else\b/.test(n))for(var l=t.cc.length-1;l>=0;--l){var u=t.cc[l];if(u==P)o=o.prev;else if(u!=pe)break}"stat"==o.type&&"}"==i&&(o=o.prev),s&&")"==o.type&&"stat"==o.prev.type&&(o=o.prev);var c=o.type,f=i==c;return"vardef"==c?o.indented+("operator"==t.lastType||","==t.lastType?o.info+1:0):"form"==c&&"{"==i?o.indented:"form"==c?o.indented+a:"stat"==c?o.indented+(function(e,t){return"operator"==e.lastType||","==e.lastType||p.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}(t,n)?s||a:0):"switch"!=o.info||f||0==r.doubleIndentSwitch?o.align?o.column+(f?0:1):o.indented+(f?0:a):o.indented+(/^(?:case|default)\b/.test(n)?a:2*a)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:u?null:"/*",blockCommentEnd:u?null:"*/",lineComment:u?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:u?"json":"javascript",jsonldMode:l,jsonMode:u,expressionAllowed:t,skipExpression:function(e){var t=e.cc[e.cc.length-1];t!=R&&t!=I||e.cc.pop()}}})),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})}(n(4631))},29589:(e,t,n)=>{!function(e){"use strict";var t={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},n={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,caseFold:!1};e.defineMode("xml",(function(r,i){var o,a,s=r.indentUnit,l={},u=i.htmlMode?t:n;for(var c in u)l[c]=u[c];for(var c in i)l[c]=i[c];function f(e,t){function n(n){return t.tokenize=n,n(e,t)}var r=e.next();return"<"==r?e.eat("!")?e.eat("[")?e.match("CDATA[")?n(p("atom","]]>")):null:e.match("--")?n(p("comment","--\x3e")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),n(h(1))):null:e.eat("?")?(e.eatWhile(/[\w\._\-]/),t.tokenize=p("meta","?>"),"meta"):(o=e.eat("/")?"closeTag":"openTag",t.tokenize=d,"tag bracket"):"&"==r?(e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"))?"atom":"error":(e.eatWhile(/[^&<]/),null)}function d(e,t){var n,r,i=e.next();if(">"==i||"/"==i&&e.eat(">"))return t.tokenize=f,o=">"==i?"endTag":"selfcloseTag","tag bracket";if("="==i)return o="equals",null;if("<"==i){t.tokenize=f,t.state=v,t.tagName=t.tagStart=null;var a=t.tokenize(e,t);return a?a+" tag error":"tag error"}return/[\'\"]/.test(i)?(t.tokenize=(n=i,(r=function(e,t){for(;!e.eol();)if(e.next()==n){t.tokenize=d;break}return"string"}).isInAttribute=!0,r),t.stringStartCol=e.column(),t.tokenize(e,t)):(e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function p(e,t){return function(n,r){for(;!n.eol();){if(n.match(t)){r.tokenize=f;break}n.next()}return e}}function h(e){return function(t,n){for(var r;null!=(r=t.next());){if("<"==r)return n.tokenize=h(e+1),n.tokenize(t,n);if(">"==r){if(1==e){n.tokenize=f;break}return n.tokenize=h(e-1),n.tokenize(t,n)}}return"meta"}}function g(e,t,n){this.prev=e.context,this.tagName=t,this.indent=e.indented,this.startOfLine=n,(l.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)&&(this.noIndent=!0)}function m(e){e.context&&(e.context=e.context.prev)}function y(e,t){for(var n;;){if(!e.context)return;if(n=e.context.tagName,!l.contextGrabbers.hasOwnProperty(n)||!l.contextGrabbers[n].hasOwnProperty(t))return;m(e)}}function v(e,t,n){return"openTag"==e?(n.tagStart=t.column(),b):"closeTag"==e?x:v}function b(e,t,n){return"word"==e?(n.tagName=t.current(),a="tag",k):(a="error",b)}function x(e,t,n){if("word"==e){var r=t.current();return n.context&&n.context.tagName!=r&&l.implicitlyClosed.hasOwnProperty(n.context.tagName)&&m(n),n.context&&n.context.tagName==r||!1===l.matchClosing?(a="tag",_):(a="tag error",w)}return a="error",w}function _(e,t,n){return"endTag"!=e?(a="error",_):(m(n),v)}function w(e,t,n){return a="error",_(e,0,n)}function k(e,t,n){if("word"==e)return a="attribute",T;if("endTag"==e||"selfcloseTag"==e){var r=n.tagName,i=n.tagStart;return n.tagName=n.tagStart=null,"selfcloseTag"==e||l.autoSelfClosers.hasOwnProperty(r)?y(n,r):(y(n,r),n.context=new g(n,r,i==n.indented)),v}return a="error",k}function T(e,t,n){return"equals"==e?C:(l.allowMissing||(a="error"),k(e,0,n))}function C(e,t,n){return"string"==e?O:"word"==e&&l.allowUnquoted?(a="string",k):(a="error",k(e,0,n))}function O(e,t,n){return"string"==e?O:k(e,0,n)}return f.isInText=!0,{startState:function(e){var t={tokenize:f,state:v,indented:e||0,tagName:null,tagStart:null,context:null};return null!=e&&(t.baseIndent=e),t},token:function(e,t){if(!t.tagName&&e.sol()&&(t.indented=e.indentation()),e.eatSpace())return null;o=null;var n=t.tokenize(e,t);return(n||o)&&"comment"!=n&&(a=null,t.state=t.state(o||n,e,t),a&&(n="error"==a?n+" error":a)),n},indent:function(t,n,r){var i=t.context;if(t.tokenize.isInAttribute)return t.tagStart==t.indented?t.stringStartCol+1:t.indented+s;if(i&&i.noIndent)return e.Pass;if(t.tokenize!=d&&t.tokenize!=f)return r?r.match(/^(\s*)/)[0].length:0;if(t.tagName)return!1!==l.multilineTagIndentPastTag?t.tagStart+t.tagName.length+2:t.tagStart+s*(l.multilineTagIndentFactor||1);if(l.alignCDATA&&/<!\[CDATA\[/.test(n))return 0;var o=n&&/^<(\/)?([\w_:\.-]*)/.exec(n);if(o&&o[1])for(;i;){if(i.tagName==o[2]){i=i.prev;break}if(!l.implicitlyClosed.hasOwnProperty(i.tagName))break;i=i.prev}else if(o)for(;i;){var a=l.contextGrabbers[i.tagName];if(!a||!a.hasOwnProperty(o[2]))break;i=i.prev}for(;i&&i.prev&&!i.startOfLine;)i=i.prev;return i?i.indent+s:t.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:l.htmlMode?"html":"xml",helperType:l.htmlMode?"html":"xml",skipAttribute:function(e){e.state==C&&(e.state=k)}}})),e.defineMIME("text/xml","xml"),e.defineMIME("application/xml","xml"),e.mimeModes.hasOwnProperty("text/html")||e.defineMIME("text/html",{name:"xml",htmlMode:!0})}(n(4631))},20640:(e,t,n)=>{"use strict";var r=n(11742),i={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var n,o,a,s,l,u,c=!1;t||(t={}),n=t.debug||!1;try{if(a=r(),s=document.createRange(),l=document.getSelection(),(u=document.createElement("span")).textContent=e,u.style.all="unset",u.style.position="fixed",u.style.top=0,u.style.clip="rect(0, 0, 0, 0)",u.style.whiteSpace="pre",u.style.webkitUserSelect="text",u.style.MozUserSelect="text",u.style.msUserSelect="text",u.style.userSelect="text",u.addEventListener("copy",(function(r){if(r.stopPropagation(),t.format)if(r.preventDefault(),void 0===r.clipboardData){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var o=i[t.format]||i.default;window.clipboardData.setData(o,e)}else r.clipboardData.clearData(),r.clipboardData.setData(t.format,e);t.onCopy&&(r.preventDefault(),t.onCopy(r.clipboardData))})),document.body.appendChild(u),s.selectNodeContents(u),l.addRange(s),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");c=!0}catch(r){n&&console.error("unable to copy using execCommand: ",r),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),c=!0}catch(r){n&&console.error("unable to copy using clipboardData: ",r),n&&console.error("falling back to prompt"),o=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(o,e)}}finally{l&&("function"==typeof l.removeRange?l.removeRange(s):l.removeAllRanges()),u&&document.body.removeChild(u),a()}return c}},98303:(e,t,n)=>{(e.exports=n(9252)()).push([e.id,".msgapi .CodeMirror-hints {\n  position: absolute;\n  z-index: 10;\n  overflow: hidden;\n  list-style: none;\n\n  margin: 0;\n  padding: 2px;\n\n  -webkit-box-shadow: 2px 3px 5px rgba(0,0,0,.2);\n  -moz-box-shadow: 2px 3px 5px rgba(0,0,0,.2);\n  box-shadow: 2px 3px 5px rgba(0,0,0,.2);\n  border-radius: 3px;\n  border: 1px solid silver;\n\n  background: white;\n  font-size: 90%;\n  font-family: monospace;\n\n  max-height: 20em;\n  overflow-y: auto;\n}\n\n.msgapi .CodeMirror-hint {\n  margin: 0;\n  padding: 0 4px;\n  border-radius: 2px;\n  white-space: pre;\n  color: black;\n  cursor: pointer;\n}\n\n.msgapi li.CodeMirror-hint-active {\n  background: #08f;\n  color: white;\n}\n",""])},73488:(e,t,n)=>{(e.exports=n(9252)()).push([e.id,"/* BASICS */\n\n.msgapi .CodeMirror {\n  /* Set height, width, borders, and global font properties here */\n  font-family: monospace;\n  height: 300px;\n  color: black;\n}\n\n/* PADDING */\n\n.msgapi .CodeMirror-lines {\n  padding: 4px 0; /* Vertical padding around content */\n}\n.msgapi .CodeMirror pre {\n  padding: 0 4px; /* Horizontal padding of content */\n}\n\n.msgapi .CodeMirror-scrollbar-filler, .msgapi .CodeMirror-gutter-filler {\n  background-color: white; /* The little square between H and V scrollbars */\n}\n\n/* GUTTER */\n\n.msgapi .CodeMirror-gutters {\n  border-right: 1px solid #ddd;\n  background-color: #f7f7f7;\n  white-space: nowrap;\n}\n.msgapi .CodeMirror-linenumbers {}\n.msgapi .CodeMirror-linenumber {\n  padding: 0 3px 0 5px;\n  min-width: 20px;\n  text-align: right;\n  color: #999;\n  white-space: nowrap;\n}\n\n.msgapi .CodeMirror-guttermarker { color: black; }\n.msgapi .CodeMirror-guttermarker-subtle { color: #999; }\n\n/* CURSOR */\n\n.msgapi .CodeMirror-cursor {\n  border-left: 1px solid black;\n  border-right: none;\n  width: 0;\n}\n/* Shown when moving in bi-directional text */\n.msgapi .CodeMirror div.CodeMirror-secondarycursor {\n  border-left: 1px solid silver;\n}\n.msgapi .cm-fat-cursor .CodeMirror-cursor {\n  width: auto;\n  border: 0 !important;\n  background: #7e7;\n}\n.msgapi .cm-fat-cursor div.CodeMirror-cursors {\n  z-index: 1;\n}\n\n.msgapi .cm-animate-fat-cursor {\n  width: auto;\n  border: 0;\n  -webkit-animation: blink 1.06s steps(1) infinite;\n  -moz-animation: blink 1.06s steps(1) infinite;\n  animation: blink 1.06s steps(1) infinite;\n  background-color: #7e7;\n}\n@-moz-keyframes blink {\n  .msgapi 0% {}\n  .msgapi 50% { background-color: transparent; }\n  .msgapi 100% {}\n}\n@-webkit-keyframes blink {\n  .msgapi 0% {}\n  .msgapi 50% { background-color: transparent; }\n  .msgapi 100% {}\n}\n@keyframes blink {\n  0% {}\n  50% { background-color: transparent; }\n  100% {}\n}\n\n/* Can style cursor different in overwrite (non-insert) mode */\n.msgapi .CodeMirror-overwrite .CodeMirror-cursor {}\n\n.msgapi .cm-tab { display: inline-block; text-decoration: inherit; }\n\n.msgapi .CodeMirror-rulers {\n  position: absolute;\n  left: 0; right: 0; top: -50px; bottom: -20px;\n  overflow: hidden;\n}\n.msgapi .CodeMirror-ruler {\n  border-left: 1px solid #ccc;\n  top: 0; bottom: 0;\n  position: absolute;\n}\n\n/* DEFAULT THEME */\n\n.msgapi .cm-s-default .cm-header {color: blue;}\n.msgapi .cm-s-default .cm-quote {color: #090;}\n.msgapi .cm-negative {color: #d44;}\n.msgapi .cm-positive {color: #292;}\n.msgapi .cm-header, .msgapi .cm-strong {font-weight: bold;}\n.msgapi .cm-em {font-style: italic;}\n.msgapi .cm-link {text-decoration: underline;}\n.msgapi .cm-strikethrough {text-decoration: line-through;}\n\n.msgapi .cm-s-default .cm-keyword {color: #708;}\n.msgapi .cm-s-default .cm-atom {color: #219;}\n.msgapi .cm-s-default .cm-number {color: #164;}\n.msgapi .cm-s-default .cm-def {color: #00f;}\n.msgapi .cm-s-default .cm-variable,\n.msgapi .cm-s-default .cm-punctuation,\n.msgapi .cm-s-default .cm-property,\n.msgapi .cm-s-default .cm-operator {}\n.msgapi .cm-s-default .cm-variable-2 {color: #05a;}\n.msgapi .cm-s-default .cm-variable-3 {color: #085;}\n.msgapi .cm-s-default .cm-comment {color: #a50;}\n.msgapi .cm-s-default .cm-string {color: #a11;}\n.msgapi .cm-s-default .cm-string-2 {color: #f50;}\n.msgapi .cm-s-default .cm-meta {color: #555;}\n.msgapi .cm-s-default .cm-qualifier {color: #555;}\n.msgapi .cm-s-default .cm-builtin {color: #30a;}\n.msgapi .cm-s-default .cm-bracket {color: #997;}\n.msgapi .cm-s-default .cm-tag {color: #170;}\n.msgapi .cm-s-default .cm-attribute {color: #00c;}\n.msgapi .cm-s-default .cm-hr {color: #999;}\n.msgapi .cm-s-default .cm-link {color: #00c;}\n\n.msgapi .cm-s-default .cm-error {color: #f00;}\n.msgapi .cm-invalidchar {color: #f00;}\n\n.msgapi .CodeMirror-composing { border-bottom: 2px solid; }\n\n/* Default styles for common addons */\n\n.msgapi div.CodeMirror span.CodeMirror-matchingbracket {color: #0f0;}\n.msgapi div.CodeMirror span.CodeMirror-nonmatchingbracket {color: #f22;}\n.msgapi .CodeMirror-matchingtag { background: rgba(255, 150, 0, .3); }\n.msgapi .CodeMirror-activeline-background {background: #e8f2ff;}\n\n/* STOP */\n\n/* The rest of this file contains styles related to the mechanics of\n   the editor. You probably shouldn't touch them. */\n\n.msgapi .CodeMirror {\n  position: relative;\n  overflow: hidden;\n  background: white;\n}\n\n.msgapi .CodeMirror-scroll {\n  overflow: scroll !important; /* Things will break if this is overridden */\n  /* 30px is the magic margin used to hide the element's real scrollbars */\n  /* See overflow: hidden in .CodeMirror */\n  margin-bottom: -30px; margin-right: -30px;\n  padding-bottom: 30px;\n  height: 100%;\n  outline: none; /* Prevent dragging from highlighting the element */\n  position: relative;\n}\n.msgapi .CodeMirror-sizer {\n  position: relative;\n  border-right: 30px solid transparent;\n}\n\n/* The fake, visible scrollbars. Used to force redraw during scrolling\n   before actual scrolling happens, thus preventing shaking and\n   flickering artifacts. */\n.msgapi .CodeMirror-vscrollbar, .msgapi .CodeMirror-hscrollbar, .msgapi .CodeMirror-scrollbar-filler, .msgapi .CodeMirror-gutter-filler {\n  position: absolute;\n  z-index: 6;\n  display: none;\n}\n.msgapi .CodeMirror-vscrollbar {\n  right: 0; top: 0;\n  overflow-x: hidden;\n  overflow-y: scroll;\n}\n.msgapi .CodeMirror-hscrollbar {\n  bottom: 0; left: 0;\n  overflow-y: hidden;\n  overflow-x: scroll;\n}\n.msgapi .CodeMirror-scrollbar-filler {\n  right: 0; bottom: 0;\n}\n.msgapi .CodeMirror-gutter-filler {\n  left: 0; bottom: 0;\n}\n\n.msgapi .CodeMirror-gutters {\n  position: absolute; left: 0; top: 0;\n  min-height: 100%;\n  z-index: 3;\n}\n.msgapi .CodeMirror-gutter {\n  white-space: normal;\n  height: 100%;\n  display: inline-block;\n  vertical-align: top;\n  margin-bottom: -30px;\n  /* Hack to make IE7 behave */\n  *zoom:1;\n  *display:inline;\n}\n.msgapi .CodeMirror-gutter-wrapper {\n  position: absolute;\n  z-index: 4;\n  background: none !important;\n  border: none !important;\n}\n.msgapi .CodeMirror-gutter-background {\n  position: absolute;\n  top: 0; bottom: 0;\n  z-index: 4;\n}\n.msgapi .CodeMirror-gutter-elt {\n  position: absolute;\n  cursor: default;\n  z-index: 4;\n}\n.msgapi .CodeMirror-gutter-wrapper {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  user-select: none;\n}\n\n.msgapi .CodeMirror-lines {\n  cursor: text;\n  min-height: 1px; /* prevents collapsing before first draw */\n}\n.msgapi .CodeMirror pre {\n  /* Reset some styles that the rest of the page might have set */\n  -moz-border-radius: 0; -webkit-border-radius: 0; border-radius: 0;\n  border-width: 0;\n  background: transparent;\n  font-family: inherit;\n  font-size: inherit;\n  margin: 0;\n  white-space: pre;\n  word-wrap: normal;\n  line-height: inherit;\n  color: inherit;\n  z-index: 2;\n  position: relative;\n  overflow: visible;\n  -webkit-tap-highlight-color: transparent;\n  -webkit-font-variant-ligatures: none;\n  font-variant-ligatures: none;\n}\n.msgapi .CodeMirror-wrap pre {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  word-break: normal;\n}\n\n.msgapi .CodeMirror-linebackground {\n  position: absolute;\n  left: 0; right: 0; top: 0; bottom: 0;\n  z-index: 0;\n}\n\n.msgapi .CodeMirror-linewidget {\n  position: relative;\n  z-index: 2;\n  overflow: auto;\n}\n\n.msgapi .CodeMirror-widget {}\n\n.msgapi .CodeMirror-code {\n  outline: none;\n}\n\n/* Force content-box sizing for the elements where we expect it */\n.msgapi .CodeMirror-scroll,\n.msgapi .CodeMirror-sizer,\n.msgapi .CodeMirror-gutter,\n.msgapi .CodeMirror-gutters,\n.msgapi .CodeMirror-linenumber {\n  -moz-box-sizing: content-box;\n  box-sizing: content-box;\n}\n\n.msgapi .CodeMirror-measure {\n  position: absolute;\n  width: 100%;\n  height: 0;\n  overflow: hidden;\n  visibility: hidden;\n}\n\n.msgapi .CodeMirror-cursor {\n  position: absolute;\n  pointer-events: none;\n}\n.msgapi .CodeMirror-measure pre { position: static; }\n\n.msgapi div.CodeMirror-cursors {\n  visibility: hidden;\n  position: relative;\n  z-index: 3;\n}\n.msgapi div.CodeMirror-dragcursors {\n  visibility: visible;\n}\n\n.msgapi .CodeMirror-focused div.CodeMirror-cursors {\n  visibility: visible;\n}\n\n.msgapi .CodeMirror-selected { background: #d9d9d9; }\n.msgapi .CodeMirror-focused .CodeMirror-selected { background: #d7d4f0; }\n.msgapi .CodeMirror-crosshair { cursor: crosshair; }\n.msgapi .CodeMirror-line::selection, .msgapi .CodeMirror-line > span::selection, .msgapi .CodeMirror-line > span > span::selection { background: #d7d4f0; }\n.msgapi .CodeMirror-line::-moz-selection, .msgapi .CodeMirror-line > span::-moz-selection, .msgapi .CodeMirror-line > span > span::-moz-selection { background: #d7d4f0; }\n\n.msgapi .cm-searching {\n  background: #ffa;\n  background: rgba(255, 255, 0, .4);\n}\n\n/* IE7 hack to prevent it from returning funny offsetTops on the spans */\n.msgapi .CodeMirror span { *vertical-align: text-bottom; }\n\n/* Used to force a border model for a node */\n.msgapi .cm-force-border { padding-right: .1px; }\n\n@media print {\n  /* Hide the cursor when printing */\n  .msgapi .CodeMirror div.CodeMirror-cursors {\n    visibility: hidden;\n  }\n}\n\n/* See issue #2901 */\n.msgapi .cm-tab-wrap-hack:after { content: ''; }\n\n/* Help users use markselection to safely style text background */\n.msgapi span.CodeMirror-selectedtext { background: none; }\n",""])},84609:(e,t,n)=>{(e.exports=n(9252)()).push([e.id,'.msgapi .react-grid-layout {\n  position: relative;\n  transition: height 200ms ease;\n}\n.msgapi .react-grid-item {\n  transition: all 200ms ease;\n  transition-property: left, top;\n}\n.msgapi .react-grid-item img {\n  pointer-events: none;\n  user-select: none;  \n}\n.msgapi .react-grid-item.cssTransforms {\n  transition-property: transform;\n}\n.msgapi .react-grid-item.resizing {\n  z-index: 1;\n  will-change: width, height;\n}\n\n.msgapi .react-grid-item.react-draggable-dragging {\n  transition: none;\n  z-index: 3;\n  will-change: transform;\n}\n\n.msgapi .react-grid-item.dropping {\n  visibility: hidden;\n}\n\n.msgapi .react-grid-item.react-grid-placeholder {\n  background: red;\n  opacity: 0.2;\n  transition-duration: 100ms;\n  z-index: 2;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  -o-user-select: none;\n  user-select: none;\n}\n\n.msgapi .react-grid-item > .react-resizable-handle {\n  position: absolute;\n  width: 20px;\n  height: 20px;\n}\n\n.msgapi .react-grid-item > .react-resizable-handle::after {\n  content: "";\n  position: absolute;\n  right: 3px;\n  bottom: 3px;\n  width: 5px;\n  height: 5px;\n  border-right: 2px solid rgba(0, 0, 0, 0.4);\n  border-bottom: 2px solid rgba(0, 0, 0, 0.4);\n}\n\n.msgapi .react-resizable-hide > .react-resizable-handle {\n  display: none;\n}\n\n.msgapi .react-grid-item > .react-resizable-handle.react-resizable-handle-sw {\n  bottom: 0;\n  left: 0;\n  cursor: sw-resize;\n  transform: rotate(90deg);\n}\n.msgapi .react-grid-item > .react-resizable-handle.react-resizable-handle-se {\n  bottom: 0;\n  right: 0;\n  cursor: se-resize;\n}\n.msgapi .react-grid-item > .react-resizable-handle.react-resizable-handle-nw {\n  top: 0;\n  left: 0;\n  cursor: nw-resize;\n  transform: rotate(180deg);\n}\n.msgapi .react-grid-item > .react-resizable-handle.react-resizable-handle-ne {\n  top: 0;\n  right: 0;\n  cursor: ne-resize;\n  transform: rotate(270deg);\n}\n.msgapi .react-grid-item > .react-resizable-handle.react-resizable-handle-w,\n.msgapi .react-grid-item > .react-resizable-handle.react-resizable-handle-e {\n  top: 50%;\n  margin-top: -10px;\n  cursor: ew-resize;\n}\n.msgapi .react-grid-item > .react-resizable-handle.react-resizable-handle-w {\n  left: 0;\n  transform: rotate(135deg);\n}\n.msgapi .react-grid-item > .react-resizable-handle.react-resizable-handle-e {\n  right: 0;\n  transform: rotate(315deg);\n}\n.msgapi .react-grid-item > .react-resizable-handle.react-resizable-handle-n,\n.msgapi .react-grid-item > .react-resizable-handle.react-resizable-handle-s {\n  left: 50%;\n  margin-left: -10px;\n  cursor: ns-resize;\n}\n.msgapi .react-grid-item > .react-resizable-handle.react-resizable-handle-n {\n  top: 0;\n  transform: rotate(225deg);\n}\n.msgapi .react-grid-item > .react-resizable-handle.react-resizable-handle-s {\n  bottom: 0;\n  transform: rotate(45deg);\n}\n',""])},28022:(e,t,n)=>{(e.exports=n(9252)()).push([e.id,"/*!\n * Quill Editor v1.3.0\n * https://quilljs.com/\n * Copyright (c) 2014, Jason Chen\n * Copyright (c) 2013, salesforce.com\n */\n.msgapi .ql-container {\n  box-sizing: border-box;\n  font-family: Helvetica, Arial, sans-serif;\n  font-size: 13px;\n  height: 100%;\n  margin: 0px;\n  position: relative;\n}\n.msgapi .ql-container.ql-disabled .ql-tooltip {\n  visibility: hidden;\n}\n.msgapi .ql-container.ql-disabled .ql-editor ul[data-checked] > li::before {\n  pointer-events: none;\n}\n.msgapi .ql-clipboard {\n  left: -100000px;\n  height: 1px;\n  overflow-y: hidden;\n  position: absolute;\n  top: 50%;\n}\n.msgapi .ql-clipboard p {\n  margin: 0;\n  padding: 0;\n}\n.msgapi .ql-editor {\n  box-sizing: border-box;\n  line-height: 1.42;\n  height: 100%;\n  outline: none;\n  overflow-y: auto;\n  padding: 12px 15px;\n  tab-size: 4;\n  -moz-tab-size: 4;\n  text-align: left;\n  white-space: pre-wrap;\n  word-wrap: break-word;\n}\n.msgapi .ql-editor > * {\n  cursor: text;\n}\n.msgapi .ql-editor p,\n.msgapi .ql-editor ol,\n.msgapi .ql-editor ul,\n.msgapi .ql-editor pre,\n.msgapi .ql-editor blockquote,\n.msgapi .ql-editor h1,\n.msgapi .ql-editor h2,\n.msgapi .ql-editor h3,\n.msgapi .ql-editor h4,\n.msgapi .ql-editor h5,\n.msgapi .ql-editor h6 {\n  margin: 0;\n  padding: 0;\n  counter-reset: list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;\n}\n.msgapi .ql-editor ol,\n.msgapi .ql-editor ul {\n  padding-left: 1.5em;\n}\n.msgapi .ql-editor ol > li,\n.msgapi .ql-editor ul > li {\n  list-style-type: none;\n}\n.msgapi .ql-editor ul > li::before {\n  content: '\\2022';\n}\n.msgapi .ql-editor ul[data-checked=true],\n.msgapi .ql-editor ul[data-checked=false] {\n  pointer-events: none;\n}\n.msgapi .ql-editor ul[data-checked=true] > li *,\n.msgapi .ql-editor ul[data-checked=false] > li * {\n  pointer-events: all;\n}\n.msgapi .ql-editor ul[data-checked=true] > li::before,\n.msgapi .ql-editor ul[data-checked=false] > li::before {\n  color: #777;\n  cursor: pointer;\n  pointer-events: all;\n}\n.msgapi .ql-editor ul[data-checked=true] > li::before {\n  content: '\\2611';\n}\n.msgapi .ql-editor ul[data-checked=false] > li::before {\n  content: '\\2610';\n}\n.msgapi .ql-editor li::before {\n  display: inline-block;\n  white-space: nowrap;\n  width: 1.2em;\n}\n.msgapi .ql-editor li:not(.ql-direction-rtl)::before {\n  margin-left: -1.5em;\n  margin-right: 0.3em;\n  text-align: right;\n}\n.msgapi .ql-editor li.ql-direction-rtl::before {\n  margin-left: 0.3em;\n  margin-right: -1.5em;\n}\n.msgapi .ql-editor ol li:not(.ql-direction-rtl),\n.msgapi .ql-editor ul li:not(.ql-direction-rtl) {\n  padding-left: 1.5em;\n}\n.msgapi .ql-editor ol li.ql-direction-rtl,\n.msgapi .ql-editor ul li.ql-direction-rtl {\n  padding-right: 1.5em;\n}\n.msgapi .ql-editor ol li {\n  counter-reset: list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;\n  counter-increment: list-0;\n}\n.msgapi .ql-editor ol li:before {\n  content: counter(list-0, decimal) '. ';\n}\n.msgapi .ql-editor ol li.ql-indent-1 {\n  counter-increment: list-1;\n}\n.msgapi .ql-editor ol li.ql-indent-1:before {\n  content: counter(list-1, lower-alpha) '. ';\n}\n.msgapi .ql-editor ol li.ql-indent-1 {\n  counter-reset: list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;\n}\n.msgapi .ql-editor ol li.ql-indent-2 {\n  counter-increment: list-2;\n}\n.msgapi .ql-editor ol li.ql-indent-2:before {\n  content: counter(list-2, lower-roman) '. ';\n}\n.msgapi .ql-editor ol li.ql-indent-2 {\n  counter-reset: list-3 list-4 list-5 list-6 list-7 list-8 list-9;\n}\n.msgapi .ql-editor ol li.ql-indent-3 {\n  counter-increment: list-3;\n}\n.msgapi .ql-editor ol li.ql-indent-3:before {\n  content: counter(list-3, decimal) '. ';\n}\n.msgapi .ql-editor ol li.ql-indent-3 {\n  counter-reset: list-4 list-5 list-6 list-7 list-8 list-9;\n}\n.msgapi .ql-editor ol li.ql-indent-4 {\n  counter-increment: list-4;\n}\n.msgapi .ql-editor ol li.ql-indent-4:before {\n  content: counter(list-4, lower-alpha) '. ';\n}\n.msgapi .ql-editor ol li.ql-indent-4 {\n  counter-reset: list-5 list-6 list-7 list-8 list-9;\n}\n.msgapi .ql-editor ol li.ql-indent-5 {\n  counter-increment: list-5;\n}\n.msgapi .ql-editor ol li.ql-indent-5:before {\n  content: counter(list-5, lower-roman) '. ';\n}\n.msgapi .ql-editor ol li.ql-indent-5 {\n  counter-reset: list-6 list-7 list-8 list-9;\n}\n.msgapi .ql-editor ol li.ql-indent-6 {\n  counter-increment: list-6;\n}\n.msgapi .ql-editor ol li.ql-indent-6:before {\n  content: counter(list-6, decimal) '. ';\n}\n.msgapi .ql-editor ol li.ql-indent-6 {\n  counter-reset: list-7 list-8 list-9;\n}\n.msgapi .ql-editor ol li.ql-indent-7 {\n  counter-increment: list-7;\n}\n.msgapi .ql-editor ol li.ql-indent-7:before {\n  content: counter(list-7, lower-alpha) '. ';\n}\n.msgapi .ql-editor ol li.ql-indent-7 {\n  counter-reset: list-8 list-9;\n}\n.msgapi .ql-editor ol li.ql-indent-8 {\n  counter-increment: list-8;\n}\n.msgapi .ql-editor ol li.ql-indent-8:before {\n  content: counter(list-8, lower-roman) '. ';\n}\n.msgapi .ql-editor ol li.ql-indent-8 {\n  counter-reset: list-9;\n}\n.msgapi .ql-editor ol li.ql-indent-9 {\n  counter-increment: list-9;\n}\n.msgapi .ql-editor ol li.ql-indent-9:before {\n  content: counter(list-9, decimal) '. ';\n}\n.msgapi .ql-editor .ql-indent-1:not(.ql-direction-rtl) {\n  padding-left: 3em;\n}\n.msgapi .ql-editor li.ql-indent-1:not(.ql-direction-rtl) {\n  padding-left: 4.5em;\n}\n.msgapi .ql-editor .ql-indent-1.ql-direction-rtl.ql-align-right {\n  padding-right: 3em;\n}\n.msgapi .ql-editor li.ql-indent-1.ql-direction-rtl.ql-align-right {\n  padding-right: 4.5em;\n}\n.msgapi .ql-editor .ql-indent-2:not(.ql-direction-rtl) {\n  padding-left: 6em;\n}\n.msgapi .ql-editor li.ql-indent-2:not(.ql-direction-rtl) {\n  padding-left: 7.5em;\n}\n.msgapi .ql-editor .ql-indent-2.ql-direction-rtl.ql-align-right {\n  padding-right: 6em;\n}\n.msgapi .ql-editor li.ql-indent-2.ql-direction-rtl.ql-align-right {\n  padding-right: 7.5em;\n}\n.msgapi .ql-editor .ql-indent-3:not(.ql-direction-rtl) {\n  padding-left: 9em;\n}\n.msgapi .ql-editor li.ql-indent-3:not(.ql-direction-rtl) {\n  padding-left: 10.5em;\n}\n.msgapi .ql-editor .ql-indent-3.ql-direction-rtl.ql-align-right {\n  padding-right: 9em;\n}\n.msgapi .ql-editor li.ql-indent-3.ql-direction-rtl.ql-align-right {\n  padding-right: 10.5em;\n}\n.msgapi .ql-editor .ql-indent-4:not(.ql-direction-rtl) {\n  padding-left: 12em;\n}\n.msgapi .ql-editor li.ql-indent-4:not(.ql-direction-rtl) {\n  padding-left: 13.5em;\n}\n.msgapi .ql-editor .ql-indent-4.ql-direction-rtl.ql-align-right {\n  padding-right: 12em;\n}\n.msgapi .ql-editor li.ql-indent-4.ql-direction-rtl.ql-align-right {\n  padding-right: 13.5em;\n}\n.msgapi .ql-editor .ql-indent-5:not(.ql-direction-rtl) {\n  padding-left: 15em;\n}\n.msgapi .ql-editor li.ql-indent-5:not(.ql-direction-rtl) {\n  padding-left: 16.5em;\n}\n.msgapi .ql-editor .ql-indent-5.ql-direction-rtl.ql-align-right {\n  padding-right: 15em;\n}\n.msgapi .ql-editor li.ql-indent-5.ql-direction-rtl.ql-align-right {\n  padding-right: 16.5em;\n}\n.msgapi .ql-editor .ql-indent-6:not(.ql-direction-rtl) {\n  padding-left: 18em;\n}\n.msgapi .ql-editor li.ql-indent-6:not(.ql-direction-rtl) {\n  padding-left: 19.5em;\n}\n.msgapi .ql-editor .ql-indent-6.ql-direction-rtl.ql-align-right {\n  padding-right: 18em;\n}\n.msgapi .ql-editor li.ql-indent-6.ql-direction-rtl.ql-align-right {\n  padding-right: 19.5em;\n}\n.msgapi .ql-editor .ql-indent-7:not(.ql-direction-rtl) {\n  padding-left: 21em;\n}\n.msgapi .ql-editor li.ql-indent-7:not(.ql-direction-rtl) {\n  padding-left: 22.5em;\n}\n.msgapi .ql-editor .ql-indent-7.ql-direction-rtl.ql-align-right {\n  padding-right: 21em;\n}\n.msgapi .ql-editor li.ql-indent-7.ql-direction-rtl.ql-align-right {\n  padding-right: 22.5em;\n}\n.msgapi .ql-editor .ql-indent-8:not(.ql-direction-rtl) {\n  padding-left: 24em;\n}\n.msgapi .ql-editor li.ql-indent-8:not(.ql-direction-rtl) {\n  padding-left: 25.5em;\n}\n.msgapi .ql-editor .ql-indent-8.ql-direction-rtl.ql-align-right {\n  padding-right: 24em;\n}\n.msgapi .ql-editor li.ql-indent-8.ql-direction-rtl.ql-align-right {\n  padding-right: 25.5em;\n}\n.msgapi .ql-editor .ql-indent-9:not(.ql-direction-rtl) {\n  padding-left: 27em;\n}\n.msgapi .ql-editor li.ql-indent-9:not(.ql-direction-rtl) {\n  padding-left: 28.5em;\n}\n.msgapi .ql-editor .ql-indent-9.ql-direction-rtl.ql-align-right {\n  padding-right: 27em;\n}\n.msgapi .ql-editor li.ql-indent-9.ql-direction-rtl.ql-align-right {\n  padding-right: 28.5em;\n}\n.msgapi .ql-editor .ql-video {\n  display: block;\n  max-width: 100%;\n}\n.msgapi .ql-editor .ql-video.ql-align-center {\n  margin: 0 auto;\n}\n.msgapi .ql-editor .ql-video.ql-align-right {\n  margin: 0 0 0 auto;\n}\n.msgapi .ql-editor .ql-bg-black {\n  background-color: #000;\n}\n.msgapi .ql-editor .ql-bg-red {\n  background-color: #e60000;\n}\n.msgapi .ql-editor .ql-bg-orange {\n  background-color: #f90;\n}\n.msgapi .ql-editor .ql-bg-yellow {\n  background-color: #ff0;\n}\n.msgapi .ql-editor .ql-bg-green {\n  background-color: #008a00;\n}\n.msgapi .ql-editor .ql-bg-blue {\n  background-color: #06c;\n}\n.msgapi .ql-editor .ql-bg-purple {\n  background-color: #93f;\n}\n.msgapi .ql-editor .ql-color-white {\n  color: #fff;\n}\n.msgapi .ql-editor .ql-color-red {\n  color: #e60000;\n}\n.msgapi .ql-editor .ql-color-orange {\n  color: #f90;\n}\n.msgapi .ql-editor .ql-color-yellow {\n  color: #ff0;\n}\n.msgapi .ql-editor .ql-color-green {\n  color: #008a00;\n}\n.msgapi .ql-editor .ql-color-blue {\n  color: #06c;\n}\n.msgapi .ql-editor .ql-color-purple {\n  color: #93f;\n}\n.msgapi .ql-editor .ql-font-serif {\n  font-family: Georgia, Times New Roman, serif;\n}\n.msgapi .ql-editor .ql-font-monospace {\n  font-family: Monaco, Courier New, monospace;\n}\n.msgapi .ql-editor .ql-size-small {\n  font-size: 0.75em;\n}\n.msgapi .ql-editor .ql-size-large {\n  font-size: 1.5em;\n}\n.msgapi .ql-editor .ql-size-huge {\n  font-size: 2.5em;\n}\n.msgapi .ql-editor .ql-direction-rtl {\n  direction: rtl;\n  text-align: inherit;\n}\n.msgapi .ql-editor .ql-align-center {\n  text-align: center;\n}\n.msgapi .ql-editor .ql-align-justify {\n  text-align: justify;\n}\n.msgapi .ql-editor .ql-align-right {\n  text-align: right;\n}\n.msgapi .ql-editor .ql-embed-selected {\n  border: 1px solid #777;\n  user-select: none;\n}\n.msgapi .ql-editor.ql-blank::before {\n  color: rgba(0,0,0,0.6);\n  content: attr(data-placeholder);\n  font-style: italic;\n  pointer-events: none;\n  position: absolute;\n}\n.msgapi .ql-snow.ql-toolbar:after,\n.msgapi .ql-snow .ql-toolbar:after {\n  clear: both;\n  content: '';\n  display: table;\n}\n.msgapi .ql-snow.ql-toolbar button,\n.msgapi .ql-snow .ql-toolbar button {\n  background: none;\n  border: none;\n  cursor: pointer;\n  display: inline-block;\n  float: left;\n  height: 24px;\n  padding: 3px 5px;\n  width: 28px;\n}\n.msgapi .ql-snow.ql-toolbar button svg,\n.msgapi .ql-snow .ql-toolbar button svg {\n  float: left;\n  height: 100%;\n}\n.msgapi .ql-snow.ql-toolbar button:active:hover,\n.msgapi .ql-snow .ql-toolbar button:active:hover {\n  outline: none;\n}\n.msgapi .ql-snow.ql-toolbar input.ql-image[type=file],\n.msgapi .ql-snow .ql-toolbar input.ql-image[type=file] {\n  display: none;\n}\n.msgapi .ql-snow.ql-toolbar button:hover,\n.msgapi .ql-snow .ql-toolbar button:hover,\n.msgapi .ql-snow.ql-toolbar button:focus,\n.msgapi .ql-snow .ql-toolbar button:focus,\n.msgapi .ql-snow.ql-toolbar button.ql-active,\n.msgapi .ql-snow .ql-toolbar button.ql-active,\n.msgapi .ql-snow.ql-toolbar .ql-picker-label:hover,\n.msgapi .ql-snow .ql-toolbar .ql-picker-label:hover,\n.msgapi .ql-snow.ql-toolbar .ql-picker-label.ql-active,\n.msgapi .ql-snow .ql-toolbar .ql-picker-label.ql-active,\n.msgapi .ql-snow.ql-toolbar .ql-picker-item:hover,\n.msgapi .ql-snow .ql-toolbar .ql-picker-item:hover,\n.msgapi .ql-snow.ql-toolbar .ql-picker-item.ql-selected,\n.msgapi .ql-snow .ql-toolbar .ql-picker-item.ql-selected {\n  color: #06c;\n}\n.msgapi .ql-snow.ql-toolbar button:hover .ql-fill,\n.msgapi .ql-snow .ql-toolbar button:hover .ql-fill,\n.msgapi .ql-snow.ql-toolbar button:focus .ql-fill,\n.msgapi .ql-snow .ql-toolbar button:focus .ql-fill,\n.msgapi .ql-snow.ql-toolbar button.ql-active .ql-fill,\n.msgapi .ql-snow .ql-toolbar button.ql-active .ql-fill,\n.msgapi .ql-snow.ql-toolbar .ql-picker-label:hover .ql-fill,\n.msgapi .ql-snow .ql-toolbar .ql-picker-label:hover .ql-fill,\n.msgapi .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-fill,\n.msgapi .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-fill,\n.msgapi .ql-snow.ql-toolbar .ql-picker-item:hover .ql-fill,\n.msgapi .ql-snow .ql-toolbar .ql-picker-item:hover .ql-fill,\n.msgapi .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-fill,\n.msgapi .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-fill,\n.msgapi .ql-snow.ql-toolbar button:hover .ql-stroke.ql-fill,\n.msgapi .ql-snow .ql-toolbar button:hover .ql-stroke.ql-fill,\n.msgapi .ql-snow.ql-toolbar button:focus .ql-stroke.ql-fill,\n.msgapi .ql-snow .ql-toolbar button:focus .ql-stroke.ql-fill,\n.msgapi .ql-snow.ql-toolbar button.ql-active .ql-stroke.ql-fill,\n.msgapi .ql-snow .ql-toolbar button.ql-active .ql-stroke.ql-fill,\n.msgapi .ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,\n.msgapi .ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,\n.msgapi .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,\n.msgapi .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,\n.msgapi .ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,\n.msgapi .ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,\n.msgapi .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill,\n.msgapi .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill {\n  fill: #06c;\n}\n.msgapi .ql-snow.ql-toolbar button:hover .ql-stroke,\n.msgapi .ql-snow .ql-toolbar button:hover .ql-stroke,\n.msgapi .ql-snow.ql-toolbar button:focus .ql-stroke,\n.msgapi .ql-snow .ql-toolbar button:focus .ql-stroke,\n.msgapi .ql-snow.ql-toolbar button.ql-active .ql-stroke,\n.msgapi .ql-snow .ql-toolbar button.ql-active .ql-stroke,\n.msgapi .ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke,\n.msgapi .ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke,\n.msgapi .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke,\n.msgapi .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke,\n.msgapi .ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke,\n.msgapi .ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke,\n.msgapi .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke,\n.msgapi .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke,\n.msgapi .ql-snow.ql-toolbar button:hover .ql-stroke-miter,\n.msgapi .ql-snow .ql-toolbar button:hover .ql-stroke-miter,\n.msgapi .ql-snow.ql-toolbar button:focus .ql-stroke-miter,\n.msgapi .ql-snow .ql-toolbar button:focus .ql-stroke-miter,\n.msgapi .ql-snow.ql-toolbar button.ql-active .ql-stroke-miter,\n.msgapi .ql-snow .ql-toolbar button.ql-active .ql-stroke-miter,\n.msgapi .ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke-miter,\n.msgapi .ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke-miter,\n.msgapi .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,\n.msgapi .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,\n.msgapi .ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke-miter,\n.msgapi .ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke-miter,\n.msgapi .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter,\n.msgapi .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter {\n  stroke: #06c;\n}\n@media (pointer: coarse) {\n  .msgapi .ql-snow.ql-toolbar button:hover:not(.ql-active),\n  .msgapi .ql-snow .ql-toolbar button:hover:not(.ql-active) {\n    color: #444;\n  }\n  .msgapi .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-fill,\n  .msgapi .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-fill,\n  .msgapi .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill,\n  .msgapi .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill {\n    fill: #444;\n  }\n  .msgapi .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke,\n  .msgapi .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke,\n  .msgapi .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter,\n  .msgapi .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter {\n    stroke: #444;\n  }\n}\n.msgapi .ql-snow {\n  box-sizing: border-box;\n}\n.msgapi .ql-snow * {\n  box-sizing: border-box;\n}\n.msgapi .ql-snow .ql-hidden {\n  display: none;\n}\n.msgapi .ql-snow .ql-out-bottom,\n.msgapi .ql-snow .ql-out-top {\n  visibility: hidden;\n}\n.msgapi .ql-snow .ql-tooltip {\n  position: absolute;\n  transform: translateY(10px);\n}\n.msgapi .ql-snow .ql-tooltip a {\n  cursor: pointer;\n  text-decoration: none;\n}\n.msgapi .ql-snow .ql-tooltip.ql-flip {\n  transform: translateY(-10px);\n}\n.msgapi .ql-snow .ql-formats {\n  display: inline-block;\n  vertical-align: middle;\n}\n.msgapi .ql-snow .ql-formats:after {\n  clear: both;\n  content: '';\n  display: table;\n}\n.msgapi .ql-snow .ql-stroke {\n  fill: none;\n  stroke: #444;\n  stroke-linecap: round;\n  stroke-linejoin: round;\n  stroke-width: 2;\n}\n.msgapi .ql-snow .ql-stroke-miter {\n  fill: none;\n  stroke: #444;\n  stroke-miterlimit: 10;\n  stroke-width: 2;\n}\n.msgapi .ql-snow .ql-fill,\n.msgapi .ql-snow .ql-stroke.ql-fill {\n  fill: #444;\n}\n.msgapi .ql-snow .ql-empty {\n  fill: none;\n}\n.msgapi .ql-snow .ql-even {\n  fill-rule: evenodd;\n}\n.msgapi .ql-snow .ql-thin,\n.msgapi .ql-snow .ql-stroke.ql-thin {\n  stroke-width: 1;\n}\n.msgapi .ql-snow .ql-transparent {\n  opacity: 0.4;\n}\n.msgapi .ql-snow .ql-direction svg:last-child {\n  display: none;\n}\n.msgapi .ql-snow .ql-direction.ql-active svg:last-child {\n  display: inline;\n}\n.msgapi .ql-snow .ql-direction.ql-active svg:first-child {\n  display: none;\n}\n.msgapi .ql-snow .ql-editor h1 {\n  font-size: 2em;\n}\n.msgapi .ql-snow .ql-editor h2 {\n  font-size: 1.5em;\n}\n.msgapi .ql-snow .ql-editor h3 {\n  font-size: 1.17em;\n}\n.msgapi .ql-snow .ql-editor h4 {\n  font-size: 1em;\n}\n.msgapi .ql-snow .ql-editor h5 {\n  font-size: 0.83em;\n}\n.msgapi .ql-snow .ql-editor h6 {\n  font-size: 0.67em;\n}\n.msgapi .ql-snow .ql-editor a {\n  text-decoration: underline;\n}\n.msgapi .ql-snow .ql-editor blockquote {\n  border-left: 4px solid #ccc;\n  margin-bottom: 5px;\n  margin-top: 5px;\n  padding-left: 16px;\n}\n.msgapi .ql-snow .ql-editor code,\n.msgapi .ql-snow .ql-editor pre {\n  background-color: #f0f0f0;\n  border-radius: 3px;\n}\n.msgapi .ql-snow .ql-editor pre {\n  white-space: pre-wrap;\n  margin-bottom: 5px;\n  margin-top: 5px;\n  padding: 5px 10px;\n}\n.msgapi .ql-snow .ql-editor code {\n  font-size: 85%;\n  padding-bottom: 2px;\n  padding-top: 2px;\n}\n.msgapi .ql-snow .ql-editor code:before,\n.msgapi .ql-snow .ql-editor code:after {\n  content: \"\\A0\";\n  letter-spacing: -2px;\n}\n.msgapi .ql-snow .ql-editor pre.ql-syntax {\n  background-color: #23241f;\n  color: #f8f8f2;\n  overflow: visible;\n}\n.msgapi .ql-snow .ql-editor img {\n  max-width: 100%;\n}\n.msgapi .ql-snow .ql-picker {\n  color: #444;\n  display: inline-block;\n  float: left;\n  font-size: 14px;\n  font-weight: 500;\n  height: 24px;\n  position: relative;\n  vertical-align: middle;\n}\n.msgapi .ql-snow .ql-picker-label {\n  cursor: pointer;\n  display: inline-block;\n  height: 100%;\n  padding-left: 8px;\n  padding-right: 2px;\n  position: relative;\n  width: 100%;\n}\n.msgapi .ql-snow .ql-picker-label::before {\n  display: inline-block;\n  line-height: 22px;\n}\n.msgapi .ql-snow .ql-picker-options {\n  background-color: #fff;\n  display: none;\n  min-width: 100%;\n  padding: 4px 8px;\n  position: absolute;\n  white-space: nowrap;\n}\n.msgapi .ql-snow .ql-picker-options .ql-picker-item {\n  cursor: pointer;\n  display: block;\n  padding-bottom: 5px;\n  padding-top: 5px;\n}\n.msgapi .ql-snow .ql-picker.ql-expanded .ql-picker-label {\n  color: #ccc;\n  z-index: 2;\n}\n.msgapi .ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-fill {\n  fill: #ccc;\n}\n.msgapi .ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-stroke {\n  stroke: #ccc;\n}\n.msgapi .ql-snow .ql-picker.ql-expanded .ql-picker-options {\n  display: block;\n  margin-top: -1px;\n  top: 100%;\n  z-index: 1;\n}\n.msgapi .ql-snow .ql-color-picker,\n.msgapi .ql-snow .ql-icon-picker {\n  width: 28px;\n}\n.msgapi .ql-snow .ql-color-picker .ql-picker-label,\n.msgapi .ql-snow .ql-icon-picker .ql-picker-label {\n  padding: 2px 4px;\n}\n.msgapi .ql-snow .ql-color-picker .ql-picker-label svg,\n.msgapi .ql-snow .ql-icon-picker .ql-picker-label svg {\n  right: 4px;\n}\n.msgapi .ql-snow .ql-icon-picker .ql-picker-options {\n  padding: 4px 0px;\n}\n.msgapi .ql-snow .ql-icon-picker .ql-picker-item {\n  height: 24px;\n  width: 24px;\n  padding: 2px 4px;\n}\n.msgapi .ql-snow .ql-color-picker .ql-picker-options {\n  padding: 3px 5px;\n  width: 152px;\n}\n.msgapi .ql-snow .ql-color-picker .ql-picker-item {\n  border: 1px solid transparent;\n  float: left;\n  height: 16px;\n  margin: 2px;\n  padding: 0px;\n  width: 16px;\n}\n.msgapi .ql-snow .ql-picker:not(.ql-color-picker):not(.ql-icon-picker) svg {\n  position: absolute;\n  margin-top: -9px;\n  right: 0;\n  top: 50%;\n  width: 18px;\n}\n.msgapi .ql-snow .ql-picker.ql-header .ql-picker-label[data-label]:not([data-label=''])::before,\n.msgapi .ql-snow .ql-picker.ql-font .ql-picker-label[data-label]:not([data-label=''])::before,\n.msgapi .ql-snow .ql-picker.ql-size .ql-picker-label[data-label]:not([data-label=''])::before,\n.msgapi .ql-snow .ql-picker.ql-header .ql-picker-item[data-label]:not([data-label=''])::before,\n.msgapi .ql-snow .ql-picker.ql-font .ql-picker-item[data-label]:not([data-label=''])::before,\n.msgapi .ql-snow .ql-picker.ql-size .ql-picker-item[data-label]:not([data-label=''])::before {\n  content: attr(data-label);\n}\n.msgapi .ql-snow .ql-picker.ql-header {\n  width: 98px;\n}\n.msgapi .ql-snow .ql-picker.ql-header .ql-picker-label::before,\n.msgapi .ql-snow .ql-picker.ql-header .ql-picker-item::before {\n  content: 'Normal';\n}\n.msgapi .ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"1\"]::before,\n.msgapi .ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"1\"]::before {\n  content: 'Heading 1';\n}\n.msgapi .ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"2\"]::before,\n.msgapi .ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"2\"]::before {\n  content: 'Heading 2';\n}\n.msgapi .ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"3\"]::before,\n.msgapi .ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"3\"]::before {\n  content: 'Heading 3';\n}\n.msgapi .ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"4\"]::before,\n.msgapi .ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"4\"]::before {\n  content: 'Heading 4';\n}\n.msgapi .ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"5\"]::before,\n.msgapi .ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"5\"]::before {\n  content: 'Heading 5';\n}\n.msgapi .ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"6\"]::before,\n.msgapi .ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"6\"]::before {\n  content: 'Heading 6';\n}\n.msgapi .ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"1\"]::before {\n  font-size: 2em;\n}\n.msgapi .ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"2\"]::before {\n  font-size: 1.5em;\n}\n.msgapi .ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"3\"]::before {\n  font-size: 1.17em;\n}\n.msgapi .ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"4\"]::before {\n  font-size: 1em;\n}\n.msgapi .ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"5\"]::before {\n  font-size: 0.83em;\n}\n.msgapi .ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"6\"]::before {\n  font-size: 0.67em;\n}\n.msgapi .ql-snow .ql-picker.ql-font {\n  width: 108px;\n}\n.msgapi .ql-snow .ql-picker.ql-font .ql-picker-label::before,\n.msgapi .ql-snow .ql-picker.ql-font .ql-picker-item::before {\n  content: 'Sans Serif';\n}\n.msgapi .ql-snow .ql-picker.ql-font .ql-picker-label[data-value=serif]::before,\n.msgapi .ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]::before {\n  content: 'Serif';\n}\n.msgapi .ql-snow .ql-picker.ql-font .ql-picker-label[data-value=monospace]::before,\n.msgapi .ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]::before {\n  content: 'Monospace';\n}\n.msgapi .ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]::before {\n  font-family: Georgia, Times New Roman, serif;\n}\n.msgapi .ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]::before {\n  font-family: Monaco, Courier New, monospace;\n}\n.msgapi .ql-snow .ql-picker.ql-size {\n  width: 98px;\n}\n.msgapi .ql-snow .ql-picker.ql-size .ql-picker-label::before,\n.msgapi .ql-snow .ql-picker.ql-size .ql-picker-item::before {\n  content: 'Normal';\n}\n.msgapi .ql-snow .ql-picker.ql-size .ql-picker-label[data-value=small]::before,\n.msgapi .ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]::before {\n  content: 'Small';\n}\n.msgapi .ql-snow .ql-picker.ql-size .ql-picker-label[data-value=large]::before,\n.msgapi .ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]::before {\n  content: 'Large';\n}\n.msgapi .ql-snow .ql-picker.ql-size .ql-picker-label[data-value=huge]::before,\n.msgapi .ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]::before {\n  content: 'Huge';\n}\n.msgapi .ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]::before {\n  font-size: 10px;\n}\n.msgapi .ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]::before {\n  font-size: 18px;\n}\n.msgapi .ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]::before {\n  font-size: 32px;\n}\n.msgapi .ql-snow .ql-color-picker.ql-background .ql-picker-item {\n  background-color: #fff;\n}\n.msgapi .ql-snow .ql-color-picker.ql-color .ql-picker-item {\n  background-color: #000;\n}\n.msgapi .ql-toolbar.ql-snow {\n  border: 1px solid #ccc;\n  box-sizing: border-box;\n  font-family: 'Helvetica Neue', 'Helvetica', 'Arial', sans-serif;\n  padding: 8px;\n}\n.msgapi .ql-toolbar.ql-snow .ql-formats {\n  margin-right: 15px;\n}\n.msgapi .ql-toolbar.ql-snow .ql-picker-label {\n  border: 1px solid transparent;\n}\n.msgapi .ql-toolbar.ql-snow .ql-picker-options {\n  border: 1px solid transparent;\n  box-shadow: rgba(0,0,0,0.2) 0 2px 8px;\n}\n.msgapi .ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-label {\n  border-color: #ccc;\n}\n.msgapi .ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-options {\n  border-color: #ccc;\n}\n.msgapi .ql-toolbar.ql-snow .ql-color-picker .ql-picker-item.ql-selected,\n.msgapi .ql-toolbar.ql-snow .ql-color-picker .ql-picker-item:hover {\n  border-color: #000;\n}\n.msgapi .ql-toolbar.ql-snow + .ql-container.ql-snow {\n  border-top: 0px;\n}\n.msgapi .ql-snow .ql-tooltip {\n  background-color: #fff;\n  border: 1px solid #ccc;\n  box-shadow: 0px 0px 5px #ddd;\n  color: #444;\n  padding: 5px 12px;\n  white-space: nowrap;\n}\n.msgapi .ql-snow .ql-tooltip::before {\n  content: \"Visit URL:\";\n  line-height: 26px;\n  margin-right: 8px;\n}\n.msgapi .ql-snow .ql-tooltip input[type=text] {\n  display: none;\n  border: 1px solid #ccc;\n  font-size: 13px;\n  height: 26px;\n  margin: 0px;\n  padding: 3px 5px;\n  width: 170px;\n}\n.msgapi .ql-snow .ql-tooltip a.ql-preview {\n  display: inline-block;\n  max-width: 200px;\n  overflow-x: hidden;\n  text-overflow: ellipsis;\n  vertical-align: top;\n}\n.msgapi .ql-snow .ql-tooltip a.ql-action::after {\n  border-right: 1px solid #ccc;\n  content: 'Edit';\n  margin-left: 16px;\n  padding-right: 8px;\n}\n.msgapi .ql-snow .ql-tooltip a.ql-remove::before {\n  content: 'Remove';\n  margin-left: 8px;\n}\n.msgapi .ql-snow .ql-tooltip a {\n  line-height: 26px;\n}\n.msgapi .ql-snow .ql-tooltip.ql-editing a.ql-preview,\n.msgapi .ql-snow .ql-tooltip.ql-editing a.ql-remove {\n  display: none;\n}\n.msgapi .ql-snow .ql-tooltip.ql-editing input[type=text] {\n  display: inline-block;\n}\n.msgapi .ql-snow .ql-tooltip.ql-editing a.ql-action::after {\n  border-right: 0px;\n  content: 'Save';\n  padding-right: 0px;\n}\n.msgapi .ql-snow .ql-tooltip[data-mode=link]::before {\n  content: \"Enter link:\";\n}\n.msgapi .ql-snow .ql-tooltip[data-mode=formula]::before {\n  content: \"Enter formula:\";\n}\n.msgapi .ql-snow .ql-tooltip[data-mode=video]::before {\n  content: \"Enter video:\";\n}\n.msgapi .ql-snow a {\n  color: #06c;\n}\n.msgapi .ql-container.ql-snow {\n  border: 1px solid #ccc;\n}\n",""])},7403:e=>{var t="milliseconds",n="seconds",r="minutes",i="hours",o="day",a="week",s="month",l="year",u="decade",c="century",f=e.exports={add:function(e,d,p){switch(e=new Date(e),p){case t:case n:case r:case i:case l:return f[p](e,f[p](e)+d);case o:return f.date(e,f.date(e)+d);case a:return f.date(e,f.date(e)+7*d);case s:return function(e,t){var n=f.month(e)+t;for(e=f.month(e,n);n<0;)n=12+n;return f.month(e)!==n%12&&(e=f.date(e,0)),e}(e,d);case u:return f.year(e,f.year(e)+10*d);case c:return f.year(e,f.year(e)+100*d)}throw new TypeError('Invalid units: "'+p+'"')},subtract:function(e,t,n){return f.add(e,-t,n)},startOf:function(e,t,n){switch(e=new Date(e),t){case"century":case"decade":case"year":e=f.month(e,0);case"month":e=f.date(e,1);case"week":case"day":e=f.hours(e,0);case"hours":e=f.minutes(e,0);case"minutes":e=f.seconds(e,0);case"seconds":e=f.milliseconds(e,0)}return t===u&&(e=f.subtract(e,f.year(e)%10,"year")),t===c&&(e=f.subtract(e,f.year(e)%100,"year")),t===a&&(e=f.weekday(e,0,n)),e},endOf:function(e,n,r){return e=new Date(e),e=f.startOf(e,n,r),e=f.add(e,1,n),f.subtract(e,1,t)},eq:p((function(e,t){return e===t})),neq:p((function(e,t){return e!==t})),gt:p((function(e,t){return e>t})),gte:p((function(e,t){return e>=t})),lt:p((function(e,t){return e<t})),lte:p((function(e,t){return e<=t})),min:function(){return new Date(Math.min.apply(Math,arguments))},max:function(){return new Date(Math.max.apply(Math,arguments))},inRange:function(e,t,n,r){return r=r||"day",(!t||f.gte(e,t,r))&&(!n||f.lte(e,n,r))},milliseconds:d("Milliseconds"),seconds:d("Seconds"),minutes:d("Minutes"),hours:d("Hours"),day:d("Day"),date:d("Date"),month:d("Month"),year:d("FullYear"),decade:function(e,t){return void 0===t?f.year(f.startOf(e,u)):f.add(e,t+10,l)},century:function(e,t){return void 0===t?f.year(f.startOf(e,c)):f.add(e,t+100,l)},weekday:function(e,t,n){var r=(f.day(e)+7-(n||0))%7;return void 0===t?r:f.add(e,t-r,o)},diff:function(e,d,p,h){var g,m,y,v;switch(p){case t:case n:case r:case i:case o:case a:g=d.getTime()-e.getTime();break;case s:case l:case u:case c:g=12*(f.year(d)-f.year(e))+f.month(d)-f.month(e);break;default:throw new TypeError('Invalid units: "'+p+'"')}switch(p){case t:m=1;break;case n:m=1e3;break;case r:m=6e4;break;case i:m=36e5;break;case o:m=864e5;break;case a:m=6048e5;break;case s:m=1;break;case l:m=12;break;case u:m=120;break;case c:m=1200;break;default:throw new TypeError('Invalid units: "'+p+'"')}return y=g/m,h?y:(v=y)<0?Math.ceil(v):Math.floor(v)}};function d(e){return function(t,n){return void 0===n?t["get"+e]():((t=new Date(t))["set"+e](n),t)}}function p(e){return function(t,n,r){return e(+f.startOf(t,r),+f.startOf(n,r))}}},69555:(e,t)=>{"use strict";e.exports=function(e){var t=e||"-9,999.90";t=t.trim();var n="",r="",i="",o=-1,a=-1,s="",l="";for(/^([^()]+)?[(]([^09#]+)?[09#., ]+([^)]+)?[)](.+)?$/.test(t)?(n="brackets",i="(",s=(a=t.indexOf("("))>0?t.slice(0,a):t.search(/0|9|#/)>0?t.slice(1,t.search(/0|9|#/)):"",r=")",(o=(t=t.slice(s.length+1)).indexOf(")"))<t.length-1?(l=t.slice(o+1),t=t.slice(0,o)):(l=t.search(/[^09#,.]([^09#](.+)?)?[)]$/)>-1?t.slice(t.search(/[^09#,.]([^09#](.+)?)?[)]$/),-1):"",t=t.slice(0,t.length-l.length-1),o=0)):-1===t.indexOf("-")?(n="none",s=t.search(/[.,]?[09#]/)>0?t.slice(0,t.search(/[.,]?[09#]/)):"",l=(t=t.slice(s.length)).search(/[^09#,.]([^09#]+|$)/)>-1?t.slice(t.search(/[^09#,.]([^09#]+|$)/)):"",t=t.slice(0,t.length-l.length)):/^([^09#-]+)?-.+$/.test(t)?(n="left",i="-",s=(a=t.indexOf("-"))>0?t.slice(0,a):t.search(/[09#]/)>0?t.slice(1,t.search(/[09#]/)):"",l=(t=t.slice(s.length+1)).search(/[^09#,.]([^09#]+|$)/)>-1?t.slice(t.search(/[^09#,.]([^09#]+|$)/)):"",t=t.slice(0,t.length-l.length)):(s=t.search(/[09#]/)>0?t.slice(0,t.search(/[09#]/)):"",n="right",r="-",(o=(t=t.slice(s.length)).lastIndexOf("-"))<t.length-1?(l=t.slice(o+1),t=t.slice(0,o)):(l=t.search(/[^09#,.]([^09#](.+)?)?-$/)>-1?t.slice(t.search(/[^09#,.]([^09#](.+)?)?-$/),t.length-1):"",t=t.slice(0,t.length-l.length-1),o=0));0===a&&s&&" "===s[0];)i+=" ",s=s.slice(1);for(;0===o&&l&&" "===l[l.length-1];)r=" "+r,l=l.slice(0,-1);for(;a>0&&t.length&&" "===t[0];)i+=" ",t=t.slice(1);for(;o>0&&t.length&&" "===t[t.length-1];)r=" "+r,t=t.slice(0,-1);var u=t,c="",f="",d="",p="",h="";for(","===t[t.length-1]&&t.indexOf(",")===t.length-1?c=",":t.indexOf(".")>-1?c=t.indexOf(".")===t.lastIndexOf(".")?".":",":t.indexOf(",")>-1&&(c=t.indexOf(",")===t.lastIndexOf(",")?",":"."),c&&t.indexOf(c)>-1?(f=t.slice(t.indexOf(c)+1),d=t.slice(0,t.indexOf(c))):(d=t,f="");f.length&&f.search(/[., ]$/)>-1;)f=f.slice(0,-1);for(;d.length&&d[0].search(/[., ]/)>-1;)d=d.slice(1);return d&&d.search(/[., ]/)>0&&(h=d[d.search(/[., ]/)],d=d.replace(/[., ]/g,"")),f&&f.search(/[., ]/)>0&&(p=f[f.search(/[., ]/)],f=f.replace(/[., ]/g,"")),!(d.length&&!/^[09#]+$/.test(d)||f.length&&!/^[09#]+$/.test(f))&&{negativeType:n,negativeLeftPos:a,negativeRightPos:o,negativeLeftSymbol:i,negativeRightSymbol:r,suffix:l,prefix:s,absMask:u,decimalChar:c,integerSeparator:h,decimalsSeparator:p,padLeft:d.indexOf("0")>=0?d.length-d.indexOf("0"):-1,maxLeft:0===d.length||"0"===d[0]||"9"===d[0]?d.length:-1,padRight:f.indexOf("0")>=0?f.lastIndexOf("0")+1:-1,maxRight:0===f.length||"0"===f[f.length-1]||"9"===f[f.length-1]?f.length:-1}}},26330:e=>{var t={evaluatePath:function(e,n){if(!e)return null;var r=n.indexOf(".");if(r>=0&&!e[n]){var i=n.slice(0,r),o=n.slice(r+1);return t.evaluatePath(e[i],o)}return e[n]},setPath:function(e,n,r){if(!e)throw new Error("No document was provided.");var i=n.indexOf(".");if(i>=0){var o=n.slice(0,i),a=n.slice(i+1);e[o]||(e[o]={}),t.setPath(e[o],a,r)}else e[n]=r;return e}};e.exports=t},4526:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=f(n(32553)),a=f(n(80893)),s=f(n(98420)),l=f(n(37068)),u=n(54991),c=n(14075);function f(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.actual=t,(0,c.isFunction)(t)&&(this.context=null,this.args=[])}return i(e,[{key:"toExist",value:function(e){return(0,l.default)(this.actual,e||"Expected %s to exist",this.actual),this}},{key:"toNotExist",value:function(e){return(0,l.default)(!this.actual,e||"Expected %s to not exist",this.actual),this}},{key:"toBe",value:function(e,t){return(0,l.default)(this.actual===e,t||"Expected %s to be %s",this.actual,e),this}},{key:"toNotBe",value:function(e,t){return(0,l.default)(this.actual!==e,t||"Expected %s to not be %s",this.actual,e),this}},{key:"toEqual",value:function(e,t){try{(0,l.default)((0,c.isEqual)(this.actual,e),t||"Expected %s to equal %s",this.actual,e)}catch(t){throw t.actual=this.actual,t.expected=e,t.showDiff=!0,t}return this}},{key:"toNotEqual",value:function(e,t){return(0,l.default)(!(0,c.isEqual)(this.actual,e),t||"Expected %s to not equal %s",this.actual,e),this}},{key:"toThrow",value:function(e,t){return(0,l.default)((0,c.isFunction)(this.actual),'The "actual" argument in expect(actual).toThrow() must be a function, %s was given',this.actual),(0,l.default)((0,c.functionThrows)(this.actual,this.context,this.args,e),t||"Expected %s to throw %s",this.actual,e||"an error"),this}},{key:"toNotThrow",value:function(e,t){return(0,l.default)((0,c.isFunction)(this.actual),'The "actual" argument in expect(actual).toNotThrow() must be a function, %s was given',this.actual),(0,l.default)(!(0,c.functionThrows)(this.actual,this.context,this.args,e),t||"Expected %s to not throw %s",this.actual,e||"an error"),this}},{key:"toBeA",value:function(e,t){return(0,l.default)((0,c.isFunction)(e)||"string"==typeof e,'The "value" argument in toBeA(value) must be a function or a string'),(0,l.default)((0,c.isA)(this.actual,e),t||"Expected %s to be a %s",this.actual,e),this}},{key:"toNotBeA",value:function(e,t){return(0,l.default)((0,c.isFunction)(e)||"string"==typeof e,'The "value" argument in toNotBeA(value) must be a function or a string'),(0,l.default)(!(0,c.isA)(this.actual,e),t||"Expected %s to be a %s",this.actual,e),this}},{key:"toMatch",value:function(e,t){var n=!1;return"string"==typeof this.actual?((0,l.default)((0,s.default)(e),'The "pattern" argument in expect(string).toMatch(pattern) must be a RegExp'),n=e.test(this.actual)):(0,c.isObject)(this.actual)?n=(0,a.default)(this.actual,e):(0,l.default)(!1,'The "actual" argument in expect(actual).toMatch() must be a string or an object'),(0,l.default)(n,t||"Expected %s to match %s",this.actual,e),this}},{key:"toNotMatch",value:function(e,t){var n=!1;return"string"==typeof this.actual?((0,l.default)((0,s.default)(e),'The "pattern" argument in expect(string).toNotMatch(pattern) must be a RegExp'),n=e.test(this.actual)):(0,c.isObject)(this.actual)?n=(0,a.default)(this.actual,e):(0,l.default)(!1,'The "actual" argument in expect(actual).toNotMatch() must be a string or an object'),(0,l.default)(!n,t||"Expected %s to not match %s",this.actual,e),this}},{key:"toBeLessThan",value:function(e,t){return(0,l.default)("number"==typeof this.actual,'The "actual" argument in expect(actual).toBeLessThan() must be a number'),(0,l.default)("number"==typeof e,'The "value" argument in toBeLessThan(value) must be a number'),(0,l.default)(this.actual<e,t||"Expected %s to be less than %s",this.actual,e),this}},{key:"toBeLessThanOrEqualTo",value:function(e,t){return(0,l.default)("number"==typeof this.actual,'The "actual" argument in expect(actual).toBeLessThanOrEqualTo() must be a number'),(0,l.default)("number"==typeof e,'The "value" argument in toBeLessThanOrEqualTo(value) must be a number'),(0,l.default)(this.actual<=e,t||"Expected %s to be less than or equal to %s",this.actual,e),this}},{key:"toBeGreaterThan",value:function(e,t){return(0,l.default)("number"==typeof this.actual,'The "actual" argument in expect(actual).toBeGreaterThan() must be a number'),(0,l.default)("number"==typeof e,'The "value" argument in toBeGreaterThan(value) must be a number'),(0,l.default)(this.actual>e,t||"Expected %s to be greater than %s",this.actual,e),this}},{key:"toBeGreaterThanOrEqualTo",value:function(e,t){return(0,l.default)("number"==typeof this.actual,'The "actual" argument in expect(actual).toBeGreaterThanOrEqualTo() must be a number'),(0,l.default)("number"==typeof e,'The "value" argument in toBeGreaterThanOrEqualTo(value) must be a number'),(0,l.default)(this.actual>=e,t||"Expected %s to be greater than or equal to %s",this.actual,e),this}},{key:"toInclude",value:function(e,t,n){"string"==typeof t&&(n=t,t=null),null==t&&(t=c.isEqual);var r=!1;return(0,c.isArray)(this.actual)?r=(0,c.arrayContains)(this.actual,e,t):(0,c.isObject)(this.actual)?r=(0,c.objectContains)(this.actual,e,t):"string"==typeof this.actual?r=(0,c.stringContains)(this.actual,e):(0,l.default)(!1,'The "actual" argument in expect(actual).toInclude() must be an array, object, or a string'),(0,l.default)(r,n||"Expected %s to include %s",this.actual,e),this}},{key:"toExclude",value:function(e,t,n){"string"==typeof t&&(n=t,t=null),null==t&&(t=c.isEqual);var r=!1;return(0,c.isArray)(this.actual)?r=(0,c.arrayContains)(this.actual,e,t):(0,c.isObject)(this.actual)?r=(0,c.objectContains)(this.actual,e,t):"string"==typeof this.actual?r=(0,c.stringContains)(this.actual,e):(0,l.default)(!1,'The "actual" argument in expect(actual).toExclude() must be an array, object, or a string'),(0,l.default)(!r,n||"Expected %s to exclude %s",this.actual,e),this}},{key:"toIncludeKeys",value:function(e,t,n){var i=this;"string"==typeof t&&(n=t,t=null),null==t&&(t=o.default),(0,l.default)("object"===r(this.actual),'The "actual" argument in expect(actual).toIncludeKeys() must be an object, not %s',this.actual),(0,l.default)((0,c.isArray)(e),'The "keys" argument in expect(actual).toIncludeKeys(keys) must be an array, not %s',e);var a=e.every((function(e){return t(i.actual,e)}));return(0,l.default)(a,n||"Expected %s to include key(s) %s",this.actual,e.join(", ")),this}},{key:"toIncludeKey",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.toIncludeKeys.apply(this,[[e]].concat(n))}},{key:"toExcludeKeys",value:function(e,t,n){var i=this;"string"==typeof t&&(n=t,t=null),null==t&&(t=o.default),(0,l.default)("object"===r(this.actual),'The "actual" argument in expect(actual).toExcludeKeys() must be an object, not %s',this.actual),(0,l.default)((0,c.isArray)(e),'The "keys" argument in expect(actual).toIncludeKeys(keys) must be an array, not %s',e);var a=e.every((function(e){return t(i.actual,e)}));return(0,l.default)(!a,n||"Expected %s to exclude key(s) %s",this.actual,e.join(", ")),this}},{key:"toExcludeKey",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.toExcludeKeys.apply(this,[[e]].concat(n))}},{key:"toHaveBeenCalled",value:function(e){var t=this.actual;return(0,l.default)((0,u.isSpy)(t),'The "actual" argument in expect(actual).toHaveBeenCalled() must be a spy'),(0,l.default)(t.calls.length>0,e||"spy was not called"),this}},{key:"toHaveBeenCalledWith",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=this.actual;return(0,l.default)((0,u.isSpy)(r),'The "actual" argument in expect(actual).toHaveBeenCalledWith() must be a spy'),(0,l.default)(r.calls.some((function(e){return(0,c.isEqual)(e.arguments,t)})),"spy was never called with %s",t),this}},{key:"toNotHaveBeenCalled",value:function(e){var t=this.actual;return(0,l.default)((0,u.isSpy)(t),'The "actual" argument in expect(actual).toNotHaveBeenCalled() must be a spy'),(0,l.default)(0===t.calls.length,e||"spy was not supposed to be called"),this}}]),e}(),p=function(e,t){var n=!1;return function(){n||(n=!0,console.warn(t));for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return e.apply(this,i)}};d.prototype.withContext=p((function(e){return(0,l.default)((0,c.isFunction)(this.actual),'The "actual" argument in expect(actual).withContext() must be a function'),this.context=e,this}),"\nwithContext is deprecated; use a closure instead.\n\n  expect(fn).withContext(context).toThrow()\n\nbecomes\n\n  expect(() => fn.call(context)).toThrow()\n"),d.prototype.withArgs=p((function(){var e;return(0,l.default)((0,c.isFunction)(this.actual),'The "actual" argument in expect(actual).withArgs() must be a function'),arguments.length&&(this.args=(e=this.args).concat.apply(e,arguments)),this}),"\nwithArgs is deprecated; use a closure instead.\n\n  expect(fn).withArgs(a, b, c).toThrow()\n\nbecomes\n\n  expect(() => fn(a, b, c)).toThrow()\n");var h={toBeAn:"toBeA",toNotBeAn:"toNotBeA",toBeTruthy:"toExist",toBeFalsy:"toNotExist",toBeFewerThan:"toBeLessThan",toBeMoreThan:"toBeGreaterThan",toContain:"toInclude",toNotContain:"toExclude",toNotInclude:"toExclude",toContainKeys:"toIncludeKeys",toNotContainKeys:"toExcludeKeys",toNotIncludeKeys:"toExcludeKeys",toContainKey:"toIncludeKey",toNotContainKey:"toExcludeKey",toNotIncludeKey:"toExcludeKey"};for(var g in h)h.hasOwnProperty(g)&&(d.prototype[g]=d.prototype[h[g]]);t.default=d},54991:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.spyOn=t.createSpy=t.restoreSpies=t.isSpy=void 0;var r,i=n(4289),o=(r=n(37068))&&r.__esModule?r:{default:r},a=n(14075);function s(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var l=function(){},u=i.supportsDescriptors&&Object.getOwnPropertyDescriptor((function(){}),"length").configurable,c=t.isSpy=function(e){return e&&!0===e.__isSpy},f=[],d=(t.restoreSpies=function(){for(var e=f.length-1;e>=0;e--)f[e].restore();f=[]},t.createSpy=function(e){var t=arguments.length<=1||void 0===arguments[1]?l:arguments[1];null==e&&(e=l),(0,o.default)((0,a.isFunction)(e),"createSpy needs a function");var n=void 0,r=void 0,i=void 0,c=void 0;function d(){if(c.calls.push({context:this,arguments:Array.prototype.slice.call(arguments,0)}),n)return n.apply(this,arguments);if(r)throw r;return i}return(c=u?Object.defineProperty(d,"length",{value:e.length,writable:!1,enumerable:!1,configurable:!0}):new Function("spy","return function("+[].concat(s(Array(e.length))).map((function(e,t){return"_"+t})).join(",")+") {\n      return spy.apply(this, arguments)\n    }")(d)).calls=[],c.andCall=function(e){return n=e,c},c.andCallThrough=function(){return c.andCall(e)},c.andThrow=function(e){return r=e,c},c.andReturn=function(e){return i=e,c},c.getLastCall=function(){return c.calls[c.calls.length-1]},c.reset=function(){c.calls=[]},c.restore=c.destroy=t,c.__isSpy=!0,f.push(c),c});t.spyOn=function(e,t){var n=e[t];return c(n)||((0,o.default)((0,a.isFunction)(n),"Cannot spyOn the %s property; it is not a function",t),e[t]=d(n,(function(){e[t]=n}))),e[t]}},14075:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stringContains=t.objectContains=t.arrayContains=t.functionThrows=t.isA=t.isObject=t.isArray=t.isFunction=t.isEqual=t.whyNotEqual=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},i=s(n(98420)),o=s(n(71203)),a=s(n(82215));function s(e){return e&&e.__esModule?e:{default:e}}var l=t.whyNotEqual=function(e,t){return e==t?"":(0,o.default)(e,t)},u=(t.isEqual=function(e,t){return""===l(e,t)},t.isFunction=function(e){return"function"==typeof e}),c=t.isArray=function(e){return Array.isArray(e)},f=t.isObject=function(e){return e&&!c(e)&&"object"===(void 0===e?"undefined":r(e))};t.isA=function(e,t){return u(t)?e instanceof t:"array"===t?Array.isArray(e):(void 0===e?"undefined":r(e))===t},t.functionThrows=function(e,t,n,r){try{e.apply(t,n)}catch(e){if(null==r)return!0;if(u(r)&&e instanceof r)return!0;var o=e.message||e;if("string"==typeof o){if((0,i.default)(r)&&r.test(e.message))return!0;if("string"==typeof r&&-1!==o.indexOf(r))return!0}}return!1},t.arrayContains=function(e,t,n){return e.some((function(e){return!1!==n(e,t)}))},t.objectContains=function e(t,n,i){return function(e){return"object"===("undefined"==typeof Reflect?"undefined":r(Reflect))&&"function"==typeof Reflect.ownKeys?Reflect.ownKeys(e).filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})):"function"==typeof Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})).concat((0,a.default)(e)):(0,a.default)(e)}(n).every((function(r){return f(t[r])&&f(n[r])?e(t[r],n[r],i):i(t[r],n[r])}))},t.stringContains=function(e,t){return-1!==e.indexOf(t)}},37068:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(70631))&&r.__esModule?r:{default:r},o=function(e,t){var n=0;return e.replace(/%s/g,(function(){return(0,i.default)(t[n++])}))};t.default=function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(!e){var a="string"==typeof t?o(t,r):t(r);throw new Error(a)}}},9219:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(4526))&&r.__esModule?r:{default:r},o=[];t.default=function(e){if(-1===o.indexOf(e))for(var t in o.push(e),e)e.hasOwnProperty(t)&&(i.default.prototype[t]=e[t])}},20898:(e,t,n)=>{"use strict";var r=s(n(4526)),i=n(54991),o=s(n(37068)),a=s(n(9219));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){return new r.default(e)}l.createSpy=i.createSpy,l.spyOn=i.spyOn,l.isSpy=i.isSpy,l.restoreSpies=i.restoreSpies,l.assert=o.default,l.extend=a.default,e.exports=l},60139:e=>{"use strict";function t(e){return function(){return e}}var n=function(){};n.thatReturns=t,n.thatReturnsFalse=t(!1),n.thatReturnsTrue=t(!0),n.thatReturnsNull=t(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},78598:function(e,t,n){var r,i=i||function(e){"use strict";if(!(void 0===e||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var t=e.document,n=function(){return e.URL||e.webkitURL||e},r=t.createElementNS("http://www.w3.org/1999/xhtml","a"),i="download"in r,o=/constructor/i.test(e.HTMLElement)||e.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent),s=function(t){(e.setImmediate||e.setTimeout)((function(){throw t}),0)},l=function(e){setTimeout((function(){"string"==typeof e?n().revokeObjectURL(e):e.remove()}),4e4)},u=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e},c=function(t,c,f){f||(t=u(t));var d,p=this,h="application/octet-stream"===t.type,g=function(){!function(e,t,n){for(var r=(t=[].concat(t)).length;r--;){var i=e["on"+t[r]];if("function"==typeof i)try{i.call(e,e)}catch(e){s(e)}}}(p,"writestart progress write writeend".split(" "))};if(p.readyState=p.INIT,i)return d=n().createObjectURL(t),void setTimeout((function(){r.href=d,r.download=c,function(e){var t=new MouseEvent("click");e.dispatchEvent(t)}(r),g(),l(d),p.readyState=p.DONE}));!function(){if((a||h&&o)&&e.FileReader){var r=new FileReader;return r.onloadend=function(){var t=a?r.result:r.result.replace(/^data:[^;]*;/,"data:attachment/file;");e.open(t,"_blank")||(e.location.href=t),t=void 0,p.readyState=p.DONE,g()},r.readAsDataURL(t),void(p.readyState=p.INIT)}d||(d=n().createObjectURL(t)),h?e.location.href=d:e.open(d,"_blank")||(e.location.href=d),p.readyState=p.DONE,g(),l(d)}()},f=c.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,n){return t=t||e.name||"download",n||(e=u(e)),navigator.msSaveOrOpenBlob(e,t)}:(f.abort=function(){},f.readyState=f.INIT=0,f.WRITING=1,f.DONE=2,f.error=f.onwritestart=f.onprogress=f.onwrite=f.onabort=f.onerror=f.onwriteend=null,function(e,t,n){return new c(e,t||e.name||"download",n)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);e.exports?e.exports.saveAs=i:null!==n.amdD&&null!==n.amdO&&(void 0===(r=function(){return i}.call(t,n,t,e))||(e.exports=r))},62651:(e,t,n)=>{const r=n(54412).E2,i={isfn:function(e,t){return e.hasOwnProperty(t)&&"function"==typeof e[t]},unknown:function(e){throw ReferenceError("Unknown function: "+e+"()")},coerceArray:function(e){return Array.isArray(e)?e:[e]},coerceBoolean:function(e){return"boolean"==typeof e?+e:e},isSubset:function(e,t){const n=i.coerceArray(e),r=i.coerceArray(t);return+n.every((e=>r.includes(e)))},buildString:function(e,t){e=String(e)[0];let n="";if((t=String(t))[0]!==e||t[t.length-1]!==e)throw new Error("Unexpected internal error: String literal doesn't begin/end with the right quotation mark.");for(let r=1;r<t.length-1;r++)if("\\"===t[r]){if(r++,r>=t.length-1)throw new Error("Unexpected internal error: Unescaped backslash at the end of string literal.");if("\\"===t[r])n+="\\";else{if(t[r]!==e)throw new Error(`Unexpected internal error: Invalid escaped character in string literal: ${t[r]}`);n+=e}}else{if(t[r]===e)throw new Error("Unexpected internal error: String literal contains unescaped quotation mark.");n+=t[r]}return JSON.stringify(n)}};r.yy=Object.create(i),t.U=function(e,t){if(arguments.length>2)throw new TypeError("Too many arguments.");t="object"==typeof t?t:{};let{extraFunctions:n,customProp:o}=t;for(let e of Object.getOwnPropertyNames(t))if("extraFunctions"!==e&&"customProp"!==e)throw new TypeError(`Unknown option: ${e}`);let a={abs:Math.abs,ceil:Math.ceil,floor:Math.floor,log:Math.log,max:Math.max,min:Math.min,random:Math.random,round:Math.round,sqrt:Math.sqrt};if(n)for(var s in n)n.hasOwnProperty(s)&&(a[s]=n[s]);let l=r.parse(e),u=[];function c(e){Array.isArray(e)?e.forEach(c):u.push(e)}function f(e,t){return Object.prototype.hasOwnProperty.call(t||{},e)?t[e]:void 0}function d(e){return function(t){return Object.prototype.hasOwnProperty.call(e||{},t)?e[t]:void 0}}u.push("return "),l.forEach(c),u.push(";"),"function"==typeof o&&(f=(e,t)=>i.coerceBoolean(o(e,d(t),t)));let p=new Function("fns","std","prop","data",u.join(""));return function(e){try{return p(a,i,f,e)}catch(e){return e}}}},54412:(e,t)=>{var n=function(){var e={trace:function(){},yy:{},symbols_:{error:2,expressions:3,e:4,EOF:5,"+":6,"-":7,"*":8,"/":9,"%":10,"^":11,and:12,or:13,not:14,"==":15,"!=":16,"~=":17,"<":18,"<=":19,">":20,">=":21,"?":22,":":23,"(":24,")":25,array:26,",":27,NUMBER:28,STRING:29,SYMBOL:30,of:31,argsList:32,in:33,inSet:34,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",6:"+",7:"-",8:"*",9:"/",10:"%",11:"^",12:"and",13:"or",14:"not",15:"==",16:"!=",17:"~=",18:"<",19:"<=",20:">",21:">=",22:"?",23:":",24:"(",25:")",27:",",28:"NUMBER",29:"STRING",30:"SYMBOL",31:"of",33:"in"},productions_:[0,[3,2],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,2],[4,3],[4,3],[4,2],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,5],[4,3],[4,5],[4,1],[4,1],[4,1],[4,3],[4,3],[4,4],[4,3],[4,4],[32,1],[32,3],[34,1],[34,3],[26,1],[26,3]],performAction:function(e,t,n,r,i,o,a){var s=o.length-1;switch(i){case 1:return o[s-1];case 2:this.$=["(",o[s-2],"+",o[s],")"];break;case 3:this.$=["(",o[s-2],"-",o[s],")"];break;case 4:this.$=["(",o[s-2],"*",o[s],")"];break;case 5:this.$=["(",o[s-2],"/",o[s],")"];break;case 6:this.$=["(",o[s-2],"%",o[s],")"];break;case 7:this.$=["(","Math.pow(",o[s-2],",",o[s],")",")"];break;case 8:this.$=["(","-",o[s],")"];break;case 9:this.$=["(","Number(",o[s-2],"&&",o[s],")",")"];break;case 10:this.$=["(","Number(",o[s-2],"||",o[s],")",")"];break;case 11:this.$=["(","Number(!",o[s],")",")"];break;case 12:this.$=["(","Number(",o[s-2],"==",o[s],")",")"];break;case 13:this.$=["(","Number(",o[s-2],"!=",o[s],")",")"];break;case 14:this.$=["(","Number(RegExp(",o[s],").test(",o[s-2],"))",")"];break;case 15:this.$=["(","Number(",o[s-2],"<",o[s],")",")"];break;case 16:this.$=["(","Number(",o[s-2],"<=",o[s],")",")"];break;case 17:this.$=["(","Number(",o[s-2],"> ",o[s],")",")"];break;case 18:this.$=["(","Number(",o[s-2],">=",o[s],")",")"];break;case 19:this.$=["(",o[s-4],"?",o[s-2],":",o[s],")"];break;case 20:this.$=["(",o[s-1],")"];break;case 21:this.$=["(","[",o[s-3],",",o[s-1],"]",")"];break;case 22:case 23:this.$=["(",o[s],")"];break;case 24:this.$=["(","prop(",o[s],", data)",")"];break;case 25:this.$=["(","prop(",o[s-2],",",o[s],")",")"];break;case 26:this.$=["(","(std.isfn(fns, ",o[s-2],") ? fns[",o[s-2],"]() : std.unknown(",o[s-2],"))",")"];break;case 27:this.$=["(","(std.isfn(fns, ",o[s-3],") ? fns[",o[s-3],"](",o[s-1],") : std.unknown(",o[s-3],"))",")"];break;case 28:this.$=["(","std.isSubset(",o[s-2],", ",o[s],")",")"];break;case 29:this.$=["(","+!std.isSubset(",o[s-3],", ",o[s],")",")"];break;case 30:this.$=[o[s]];break;case 31:this.$=[o[s-2],",",o[s]];break;case 32:this.$=["o ==",o[s]];break;case 33:this.$=[o[s-2],"|| o ==",o[s]];break;case 34:this.$=["(",o[s],")"];break;case 35:this.$=[o[s-2],",",o[s]]}},table:[{3:1,4:2,7:[1,3],14:[1,4],24:[1,5],28:[1,6],29:[1,7],30:[1,8]},{1:[3]},{5:[1,9],6:[1,10],7:[1,11],8:[1,12],9:[1,13],10:[1,14],11:[1,15],12:[1,16],13:[1,17],14:[1,27],15:[1,18],16:[1,19],17:[1,20],18:[1,21],19:[1,22],20:[1,23],21:[1,24],22:[1,25],33:[1,26]},{4:28,7:[1,3],14:[1,4],24:[1,5],28:[1,6],29:[1,7],30:[1,8]},{4:29,7:[1,3],14:[1,4],24:[1,5],28:[1,6],29:[1,7],30:[1,8]},{4:30,7:[1,3],14:[1,4],24:[1,5],26:31,28:[1,6],29:[1,7],30:[1,8]},{5:[2,22],6:[2,22],7:[2,22],8:[2,22],9:[2,22],10:[2,22],11:[2,22],12:[2,22],13:[2,22],14:[2,22],15:[2,22],16:[2,22],17:[2,22],18:[2,22],19:[2,22],20:[2,22],21:[2,22],22:[2,22],23:[2,22],25:[2,22],27:[2,22],33:[2,22]},{5:[2,23],6:[2,23],7:[2,23],8:[2,23],9:[2,23],10:[2,23],11:[2,23],12:[2,23],13:[2,23],14:[2,23],15:[2,23],16:[2,23],17:[2,23],18:[2,23],19:[2,23],20:[2,23],21:[2,23],22:[2,23],23:[2,23],25:[2,23],27:[2,23],33:[2,23]},{5:[2,24],6:[2,24],7:[2,24],8:[2,24],9:[2,24],10:[2,24],11:[2,24],12:[2,24],13:[2,24],14:[2,24],15:[2,24],16:[2,24],17:[2,24],18:[2,24],19:[2,24],20:[2,24],21:[2,24],22:[2,24],23:[2,24],24:[1,33],25:[2,24],27:[2,24],31:[1,32],33:[2,24]},{1:[2,1]},{4:34,7:[1,3],14:[1,4],24:[1,5],28:[1,6],29:[1,7],30:[1,8]},{4:35,7:[1,3],14:[1,4],24:[1,5],28:[1,6],29:[1,7],30:[1,8]},{4:36,7:[1,3],14:[1,4],24:[1,5],28:[1,6],29:[1,7],30:[1,8]},{4:37,7:[1,3],14:[1,4],24:[1,5],28:[1,6],29:[1,7],30:[1,8]},{4:38,7:[1,3],14:[1,4],24:[1,5],28:[1,6],29:[1,7],30:[1,8]},{4:39,7:[1,3],14:[1,4],24:[1,5],28:[1,6],29:[1,7],30:[1,8]},{4:40,7:[1,3],14:[1,4],24:[1,5],28:[1,6],29:[1,7],30:[1,8]},{4:41,7:[1,3],14:[1,4],24:[1,5],28:[1,6],29:[1,7],30:[1,8]},{4:42,7:[1,3],14:[1,4],24:[1,5],28:[1,6],29:[1,7],30:[1,8]},{4:43,7:[1,3],14:[1,4],24:[1,5],28:[1,6],29:[1,7],30:[1,8]},{4:44,7:[1,3],14:[1,4],24:[1,5],28:[1,6],29:[1,7],30:[1,8]},{4:45,7:[1,3],14:[1,4],24:[1,5],28:[1,6],29:[1,7],30:[1,8]},{4:46,7:[1,3],14:[1,4],24:[1,5],28:[1,6],29:[1,7],30:[1,8]},{4:47,7:[1,3],14:[1,4],24:[1,5],28:[1,6],29:[1,7],30:[1,8]},{4:48,7:[1,3],14:[1,4],24:[1,5],28:[1,6],29:[1,7],30:[1,8]},{4:49,7:[1,3],14:[1,4],24:[1,5],28:[1,6],29:[1,7],30:[1,8]},{4:50,7:[1,3],14:[1,4],24:[1,5],28:[1,6],29:[1,7],30:[1,8]},{33:[1,51]},{5:[2,8],6:[2,8],7:[2,8],8:[2,8],9:[2,8],10:[2,8],11:[2,8],12:[2,8],13:[2,8],14:[2,8],15:[2,8],16:[2,8],17:[2,8],18:[2,8],19:[2,8],20:[2,8],21:[2,8],22:[2,8],23:[2,8],25:[2,8],27:[2,8],33:[2,8]},{5:[2,11],6:[2,11],7:[2,11],8:[2,11],9:[2,11],10:[2,11],11:[2,11],12:[2,11],13:[2,11],14:[2,11],15:[2,11],16:[2,11],17:[2,11],18:[2,11],19:[2,11],20:[2,11],21:[2,11],22:[2,11],23:[2,11],25:[2,11],27:[2,11],33:[2,11]},{6:[1,10],7:[1,11],8:[1,12],9:[1,13],10:[1,14],11:[1,15],12:[1,16],13:[1,17],14:[1,27],15:[1,18],16:[1,19],17:[1,20],18:[1,21],19:[1,22],20:[1,23],21:[1,24],22:[1,25],25:[1,52],27:[2,34],33:[1,26]},{27:[1,53]},{4:54,7:[1,3],14:[1,4],24:[1,5],28:[1,6],29:[1,7],30:[1,8]},{4:57,7:[1,3],14:[1,4],24:[1,5],25:[1,55],28:[1,6],29:[1,7],30:[1,8],32:56},{5:[2,2],6:[2,2],7:[2,2],8:[1,12],9:[1,13],10:[1,14],11:[1,15],12:[2,2],13:[2,2],14:[1,27],15:[2,2],16:[2,2],17:[2,2],18:[2,2],19:[2,2],20:[2,2],21:[2,2],22:[2,2],23:[2,2],25:[2,2],27:[2,2],33:[2,2]},{5:[2,3],6:[2,3],7:[2,3],8:[1,12],9:[1,13],10:[1,14],11:[1,15],12:[2,3],13:[2,3],14:[1,27],15:[2,3],16:[2,3],17:[2,3],18:[2,3],19:[2,3],20:[2,3],21:[2,3],22:[2,3],23:[2,3],25:[2,3],27:[2,3],33:[2,3]},{5:[2,4],6:[2,4],7:[2,4],8:[2,4],9:[2,4],10:[2,4],11:[1,15],12:[2,4],13:[2,4],14:[1,27],15:[2,4],16:[2,4],17:[2,4],18:[2,4],19:[2,4],20:[2,4],21:[2,4],22:[2,4],23:[2,4],25:[2,4],27:[2,4],33:[2,4]},{5:[2,5],6:[2,5],7:[2,5],8:[2,5],9:[2,5],10:[2,5],11:[1,15],12:[2,5],13:[2,5],14:[1,27],15:[2,5],16:[2,5],17:[2,5],18:[2,5],19:[2,5],20:[2,5],21:[2,5],22:[2,5],23:[2,5],25:[2,5],27:[2,5],33:[2,5]},{5:[2,6],6:[2,6],7:[2,6],8:[2,6],9:[2,6],10:[2,6],11:[1,15],12:[2,6],13:[2,6],14:[1,27],15:[2,6],16:[2,6],17:[2,6],18:[2,6],19:[2,6],20:[2,6],21:[2,6],22:[2,6],23:[2,6],25:[2,6],27:[2,6],33:[2,6]},{5:[2,7],6:[2,7],7:[2,7],8:[2,7],9:[2,7],10:[2,7],11:[2,7],12:[2,7],13:[2,7],14:[1,27],15:[2,7],16:[2,7],17:[2,7],18:[2,7],19:[2,7],20:[2,7],21:[2,7],22:[2,7],23:[2,7],25:[2,7],27:[2,7],33:[2,7]},{5:[2,9],6:[1,10],7:[1,11],8:[1,12],9:[1,13],10:[1,14],11:[1,15],12:[2,9],13:[2,9],14:[1,27],15:[1,18],16:[1,19],17:[1,20],18:[1,21],19:[1,22],20:[1,23],21:[1,24],22:[2,9],23:[2,9],25:[2,9],27:[2,9],33:[1,26]},{5:[2,10],6:[1,10],7:[1,11],8:[1,12],9:[1,13],10:[1,14],11:[1,15],12:[1,16],13:[2,10],14:[1,27],15:[1,18],16:[1,19],17:[1,20],18:[1,21],19:[1,22],20:[1,23],21:[1,24],22:[2,10],23:[2,10],25:[2,10],27:[2,10],33:[1,26]},{5:[2,12],6:[1,10],7:[1,11],8:[1,12],9:[1,13],10:[1,14],11:[1,15],12:[2,12],13:[2,12],14:[1,27],15:[2,12],16:[2,12],17:[2,12],18:[1,21],19:[1,22],20:[1,23],21:[1,24],22:[2,12],23:[2,12],25:[2,12],27:[2,12],33:[2,12]},{5:[2,13],6:[1,10],7:[1,11],8:[1,12],9:[1,13],10:[1,14],11:[1,15],12:[2,13],13:[2,13],14:[1,27],15:[2,13],16:[2,13],17:[2,13],18:[1,21],19:[1,22],20:[1,23],21:[1,24],22:[2,13],23:[2,13],25:[2,13],27:[2,13],33:[2,13]},{5:[2,14],6:[1,10],7:[1,11],8:[1,12],9:[1,13],10:[1,14],11:[1,15],12:[2,14],13:[2,14],14:[1,27],15:[2,14],16:[2,14],17:[2,14],18:[1,21],19:[1,22],20:[1,23],21:[1,24],22:[2,14],23:[2,14],25:[2,14],27:[2,14],33:[2,14]},{5:[2,15],6:[1,10],7:[1,11],8:[1,12],9:[1,13],10:[1,14],11:[1,15],12:[2,15],13:[2,15],14:[1,27],15:[2,15],16:[2,15],17:[2,15],18:[2,15],19:[2,15],20:[2,15],21:[2,15],22:[2,15],23:[2,15],25:[2,15],27:[2,15],33:[2,15]},{5:[2,16],6:[1,10],7:[1,11],8:[1,12],9:[1,13],10:[1,14],11:[1,15],12:[2,16],13:[2,16],14:[1,27],15:[2,16],16:[2,16],17:[2,16],18:[2,16],19:[2,16],20:[2,16],21:[2,16],22:[2,16],23:[2,16],25:[2,16],27:[2,16],33:[2,16]},{5:[2,17],6:[1,10],7:[1,11],8:[1,12],9:[1,13],10:[1,14],11:[1,15],12:[2,17],13:[2,17],14:[1,27],15:[2,17],16:[2,17],17:[2,17],18:[2,17],19:[2,17],20:[2,17],21:[2,17],22:[2,17],23:[2,17],25:[2,17],27:[2,17],33:[2,17]},{5:[2,18],6:[1,10],7:[1,11],8:[1,12],9:[1,13],10:[1,14],11:[1,15],12:[2,18],13:[2,18],14:[1,27],15:[2,18],16:[2,18],17:[2,18],18:[2,18],19:[2,18],20:[2,18],21:[2,18],22:[2,18],23:[2,18],25:[2,18],27:[2,18],33:[2,18]},{6:[1,10],7:[1,11],8:[1,12],9:[1,13],10:[1,14],11:[1,15],12:[1,16],13:[1,17],14:[1,27],15:[1,18],16:[1,19],17:[1,20],18:[1,21],19:[1,22],20:[1,23],21:[1,24],22:[1,25],23:[1,58],33:[1,26]},{5:[2,28],6:[1,10],7:[1,11],8:[1,12],9:[1,13],10:[1,14],11:[1,15],12:[2,28],13:[2,28],14:[1,27],15:[1,18],16:[1,19],17:[1,20],18:[1,21],19:[1,22],20:[1,23],21:[1,24],22:[2,28],23:[2,28],25:[2,28],27:[2,28],33:[2,28]},{4:59,7:[1,3],14:[1,4],24:[1,5],28:[1,6],29:[1,7],30:[1,8]},{5:[2,20],6:[2,20],7:[2,20],8:[2,20],9:[2,20],10:[2,20],11:[2,20],12:[2,20],13:[2,20],14:[2,20],15:[2,20],16:[2,20],17:[2,20],18:[2,20],19:[2,20],20:[2,20],21:[2,20],22:[2,20],23:[2,20],25:[2,20],27:[2,20],33:[2,20]},{4:60,7:[1,3],14:[1,4],24:[1,5],28:[1,6],29:[1,7],30:[1,8]},{5:[2,25],6:[2,25],7:[2,25],8:[2,25],9:[2,25],10:[2,25],11:[2,25],12:[2,25],13:[2,25],14:[2,25],15:[2,25],16:[2,25],17:[2,25],18:[2,25],19:[2,25],20:[2,25],21:[2,25],22:[2,25],23:[2,25],25:[2,25],27:[2,25],33:[2,25]},{5:[2,26],6:[2,26],7:[2,26],8:[2,26],9:[2,26],10:[2,26],11:[2,26],12:[2,26],13:[2,26],14:[2,26],15:[2,26],16:[2,26],17:[2,26],18:[2,26],19:[2,26],20:[2,26],21:[2,26],22:[2,26],23:[2,26],25:[2,26],27:[2,26],33:[2,26]},{25:[1,61],27:[1,62]},{6:[1,10],7:[1,11],8:[1,12],9:[1,13],10:[1,14],11:[1,15],12:[1,16],13:[1,17],14:[1,27],15:[1,18],16:[1,19],17:[1,20],18:[1,21],19:[1,22],20:[1,23],21:[1,24],22:[1,25],25:[2,30],27:[2,30],33:[1,26]},{4:63,7:[1,3],14:[1,4],24:[1,5],28:[1,6],29:[1,7],30:[1,8]},{5:[2,29],6:[2,29],7:[2,29],8:[2,29],9:[2,29],10:[2,29],11:[2,29],12:[2,29],13:[2,29],14:[2,29],15:[2,29],16:[2,29],17:[2,29],18:[2,29],19:[2,29],20:[2,29],21:[2,29],22:[2,29],23:[2,29],25:[2,29],27:[2,29],33:[2,29]},{6:[1,10],7:[1,11],8:[1,12],9:[1,13],10:[1,14],11:[1,15],12:[1,16],13:[1,17],14:[1,27],15:[1,18],16:[1,19],17:[1,20],18:[1,21],19:[1,22],20:[1,23],21:[1,24],22:[1,25],25:[1,64],27:[2,35],33:[1,26]},{5:[2,27],6:[2,27],7:[2,27],8:[2,27],9:[2,27],10:[2,27],11:[2,27],12:[2,27],13:[2,27],14:[2,27],15:[2,27],16:[2,27],17:[2,27],18:[2,27],19:[2,27],20:[2,27],21:[2,27],22:[2,27],23:[2,27],25:[2,27],27:[2,27],33:[2,27]},{4:65,7:[1,3],14:[1,4],24:[1,5],28:[1,6],29:[1,7],30:[1,8]},{5:[2,19],6:[1,10],7:[1,11],8:[1,12],9:[1,13],10:[1,14],11:[1,15],12:[1,16],13:[1,17],14:[1,27],15:[1,18],16:[1,19],17:[1,20],18:[1,21],19:[1,22],20:[1,23],21:[1,24],22:[2,19],23:[2,19],25:[2,19],27:[2,19],33:[1,26]},{5:[2,21],6:[2,21],7:[2,21],8:[2,21],9:[2,21],10:[2,21],11:[2,21],12:[2,21],13:[2,21],14:[2,21],15:[2,21],16:[2,21],17:[2,21],18:[2,21],19:[2,21],20:[2,21],21:[2,21],22:[2,21],23:[2,21],25:[2,21],27:[2,21],33:[2,21]},{6:[1,10],7:[1,11],8:[1,12],9:[1,13],10:[1,14],11:[1,15],12:[1,16],13:[1,17],14:[1,27],15:[1,18],16:[1,19],17:[1,20],18:[1,21],19:[1,22],20:[1,23],21:[1,24],22:[1,25],25:[2,31],27:[2,31],33:[1,26]}],defaultActions:{9:[2,1]},parseError:function(e,t){throw new Error(e)},parse:function(e){var t=this,n=[0],r=[null],i=[],o=this.table,a="",s=0,l=0,u=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var c=this.lexer.yylloc;i.push(c);var f=this.lexer.options&&this.lexer.options.ranges;function d(){var e;return"number"!=typeof(e=t.lexer.lex()||1)&&(e=t.symbols_[e]||e),e}"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var p,h,g,m,y,v,b,x,_,w={};;){if(g=n[n.length-1],this.defaultActions[g]?m=this.defaultActions[g]:(null==p&&(p=d()),m=o[g]&&o[g][p]),void 0===m||!m.length||!m[0]){var k="";if(!u){for(v in _=[],o[g])this.terminals_[v]&&v>2&&_.push("'"+this.terminals_[v]+"'");k=this.lexer.showPosition?"Parse error on line "+(s+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+_.join(", ")+", got '"+(this.terminals_[p]||p)+"'":"Parse error on line "+(s+1)+": Unexpected "+(1==p?"end of input":"'"+(this.terminals_[p]||p)+"'"),this.parseError(k,{text:this.lexer.match,token:this.terminals_[p]||p,line:this.lexer.yylineno,loc:c,expected:_})}if(3==u){if(1==p)throw new Error(k||"Parsing halted.");l=this.lexer.yyleng,a=this.lexer.yytext,s=this.lexer.yylineno,c=this.lexer.yylloc,p=d()}for(;!(2..toString()in o[g]);){if(0===g)throw new Error(k||"Parsing halted.");1,n.length=n.length-2,r.length=r.length-1,i.length=i.length-1,g=n[n.length-1]}h=2==p?null:p,p=2,m=o[g=n[n.length-1]]&&o[g][2],u=3}if(m[0]instanceof Array&&m.length>1)throw new Error("Parse Error: multiple actions possible at state: "+g+", token: "+p);switch(m[0]){case 1:n.push(p),r.push(this.lexer.yytext),i.push(this.lexer.yylloc),n.push(m[1]),p=null,h?(p=h,h=null):(l=this.lexer.yyleng,a=this.lexer.yytext,s=this.lexer.yylineno,c=this.lexer.yylloc,u>0&&u--);break;case 2:if(b=this.productions_[m[1]][1],w.$=r[r.length-b],w._$={first_line:i[i.length-(b||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-(b||1)].first_column,last_column:i[i.length-1].last_column},f&&(w._$.range=[i[i.length-(b||1)].range[0],i[i.length-1].range[1]]),void 0!==(y=this.performAction.call(w,a,l,s,this.yy,m[1],r,i)))return y;b&&(n=n.slice(0,-1*b*2),r=r.slice(0,-1*b),i=i.slice(0,-1*b)),n.push(this.productions_[m[1]][0]),r.push(w.$),i.push(w._$),x=o[n[n.length-2]][n[n.length-1]],n.push(x);break;case 3:return!0}}return!0}},t={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t-1),this.offset-=t;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-t]),this},more:function(){return this._more=!0,this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;var e,t,n,r,i;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var o=this._currentRules(),a=0;a<o.length&&(!(n=this._input.match(this.rules[o[a]]))||t&&!(n[0].length>t[0].length)||(t=n,r=a,this.options.flex));a++);return t?((i=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,o[r],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e||void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return void 0!==e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)},options:{},performAction:function(e,t,n,r){switch(n){case 0:return"*";case 1:return"/";case 2:return"-";case 3:return"+";case 4:return"^";case 5:return"%";case 6:return"(";case 7:return")";case 8:return",";case 9:return"==";case 10:return"!=";case 11:return"~=";case 12:return">=";case 13:return"<=";case 14:return"<";case 15:return">";case 16:return"?";case 17:return":";case 18:return"and";case 19:return"or";case 20:return"not";case 21:return"in";case 22:return"of";case 23:break;case 24:return"NUMBER";case 25:return t.yytext=JSON.stringify(t.yytext),"SYMBOL";case 26:return t.yytext=e.buildString("'",t.yytext),"SYMBOL";case 27:return t.yytext=e.buildString('"',t.yytext),"STRING";case 28:return"EOF"}},rules:[/^(?:\*)/,/^(?:\/)/,/^(?:-)/,/^(?:\+)/,/^(?:\^)/,/^(?:\%)/,/^(?:\()/,/^(?:\))/,/^(?:\,)/,/^(?:==)/,/^(?:\!=)/,/^(?:\~=)/,/^(?:>=)/,/^(?:<=)/,/^(?:<)/,/^(?:>)/,/^(?:\?)/,/^(?:\:)/,/^(?:and[^\w])/,/^(?:or[^\w])/,/^(?:not[^\w])/,/^(?:in[^\w])/,/^(?:of[^\w])/,/^(?:\s+)/,/^(?:[0-9]+(?:\.[0-9]+)?\b)/,/^(?:[a-zA-Z$_][\.a-zA-Z0-9$_]*)/,/^(?:'(?:\\'|\\\\|[^'\\])*')/,/^(?:"(?:\\"|\\\\|[^"\\])*")/,/^(?:$)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28],inclusive:!0}}};function n(){this.yy={}}return e.lexer=t,n.prototype=e,e.Parser=n,new n}();t.E2=n,n.Parser},95877:(e,t,n)=>{"use strict";var r=n(69555),i=n(10793);e.exports=function(e,t,n){var o=[];return t&&(o=r(t.trim())),e=null===e?"":e,e=(e+="").length?e.trim():"",i({negativeType:o.negativeType,negativeLeftSymbol:o.negativeLeftSymbol,negativeRightSymbol:o.negativeRightSymbol,negativeLeftOut:0===o.negativeLeftPos,negativeRightOut:0===o.negativeRightPos,prefix:o.prefix,suffix:o.suffix,integerSeparator:o.integerSeparator,decimalsSeparator:o.decimalsSeparator,decimal:o.decimalChar,padLeft:o.padLeft,padRight:o.padRight,round:o.maxRight,truncate:null})(e,n)}},10793:e=>{e.exports=function(e){if((e=e||{}).negativeType=e.negativeType||("R"===e.negative?"right":"left"),"string"!=typeof e.negativeLeftSymbol)switch(e.negativeType){case"left":e.negativeLeftSymbol="-";break;case"brackets":e.negativeLeftSymbol="(";break;default:e.negativeLeftSymbol=""}if("string"!=typeof e.negativeRightSymbol)switch(e.negativeType){case"right":e.negativeRightSymbol="-";break;case"brackets":e.negativeRightSymbol=")";break;default:e.negativeRightSymbol=""}function t(t,n){if(n=n||{},!t&&0!==t)return"";var r,i,o=[],a="-"===(t=""+t).charAt(0);return t=t.replace(/^\-/g,""),e.negativeLeftOut||n.noUnits||o.push(e.prefix),a&&o.push(e.negativeLeftSymbol),e.negativeLeftOut&&!n.noUnits&&o.push(e.prefix),t=t.split("."),null!=e.round&&function(e,t){if(e[1]&&t>=0&&e[1].length>t){var n=e[1].slice(0,t);if(+e[1].substr(t,1)>=5){for(var r="";"0"===n.charAt(0);)r+="0",n=n.substr(1);(n=r+(n=+n+1+"")).length>t&&(e[0]=+e[0]+ +n.charAt(0)+"",n=n.substring(1))}e[1]=n}}(t,e.round),null!=e.truncate&&(t[1]=(r=t[1],i=e.truncate,r&&(r+=""),r&&r.length>i?r.substr(0,i):r)),e.padLeft>0&&(t[0]=function(e,t){e+="";for(var n=[];n.length+e.length<t;)n.push("0");return n.join("")+e}(t[0],e.padLeft)),e.padRight>0&&(t[1]=function(e,t){e?e+="":e="";for(var n=[];n.length+e.length<t;)n.push("0");return e+n.join("")}(t[1],e.padRight)),!n.noSeparator&&t[1]&&(t[1]=function(e,t){if(e+="",!t)return e;for(var n=/(\d{3})(\d+)/;n.test(e);)e=e.replace(n,"$1"+t+"$2");return e}(t[1],e.decimalsSeparator)),!n.noSeparator&&t[0]&&(t[0]=function(e,t){if(e+="",!t)return e;for(var n=/(\d+)(\d{3})/;n.test(e);)e=e.replace(n,"$1"+t+"$2");return e}(t[0],e.integerSeparator)),o.push(t[0]),t[1]&&(o.push(e.decimal),o.push(t[1])),e.negativeRightOut&&!n.noUnits&&o.push(e.suffix),a&&o.push(e.negativeRightSymbol),e.negativeRightOut||n.noUnits||o.push(e.suffix),o.join("")}return"boolean"!=typeof e.negativeLeftOut&&(e.negativeLeftOut=!1!==e.negativeOut),"boolean"!=typeof e.negativeRightOut&&(e.negativeRightOut=!1!==e.negativeOut),e.prefix=e.prefix||"",e.suffix=e.suffix||"","string"!=typeof e.integerSeparator&&(e.integerSeparator="string"==typeof e.separator?e.separator:","),e.decimalsSeparator="string"==typeof e.decimalsSeparator?e.decimalsSeparator:"",e.decimal=e.decimal||".",e.padLeft=e.padLeft||-1,e.padRight=e.padRight||-1,t.negative=e.negative,t.negativeOut=e.negativeOut,t.negativeType=e.negativeType,t.negativeLeftOut=e.negativeLeftOut,t.negativeLeftSymbol=e.negativeLeftSymbol,t.negativeRightOut=e.negativeRightOut,t.negativeRightSymbol=e.negativeRightSymbol,t.prefix=e.prefix,t.suffix=e.suffix,t.separate=e.separate,t.integerSeparator=e.integerSeparator,t.decimalsSeparator=e.decimalsSeparator,t.decimal=e.decimal,t.padLeft=e.padLeft,t.padRight=e.padRight,t.truncate=e.truncate,t.round=e.round,t.unformat=function(t,n){n=n||[],e.allowedSeparators&&e.allowedSeparators.forEach((function(e){n.push(e)})),n.push(e.integerSeparator),n.push(e.decimalsSeparator);var r=t=(t=t.replace(e.prefix,"")).replace(e.suffix,"");do{t=r;for(var i=0;i<n.length;i++)r=r.replace(n[i],"")}while(r!=t);return t},t}},25705:(e,t,n)=>{"use strict";var r,i,o=n.g.MutationObserver||n.g.WebKitMutationObserver;if(o){var a=0,s=new o(f),l=n.g.document.createTextNode("");s.observe(l,{characterData:!0}),r=function(){l.data=a=++a%2}}else if(n.g.setImmediate||void 0===n.g.MessageChannel)r="document"in n.g&&"onreadystatechange"in n.g.document.createElement("script")?function(){var e=n.g.document.createElement("script");e.onreadystatechange=function(){f(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},n.g.document.documentElement.appendChild(e)}:function(){setTimeout(f,0)};else{var u=new n.g.MessageChannel;u.port1.onmessage=f,r=function(){u.port2.postMessage(0)}}var c=[];function f(){var e,t;i=!0;for(var n=c.length;n;){for(t=c,c=[],e=-1;++e<n;)t[e]();n=c.length}i=!1}e.exports=function(e){1!==c.push(e)||i||r()}},39573:(e,t,n)=>{"use strict";var r=n(95320),i=Function.prototype.toString,o=/^\s*function/,a=/^\([^\)]*\) *=>/,s=/^[^=]*=>/;e.exports=function(e){if(!r(e))return!1;var t=i.call(e);return t.length>0&&!o.test(t)&&(a.test(t)||s.test(t))}},76814:(e,t,n)=>{"use strict";var r=n(21924),i=r("Boolean.prototype.toString"),o=r("Object.prototype.toString"),a="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){return"boolean"==typeof e||null!==e&&"object"==typeof e&&(a&&Symbol.toStringTag in e?function(e){try{return i(e),!0}catch(e){return!1}}(e):"[object Boolean]"===o(e))}},95320:e=>{"use strict";var t,n,r=Function.prototype.toString,i="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof i&&"function"==typeof Object.defineProperty)try{t=Object.defineProperty({},"length",{get:function(){throw n}}),n={},i((function(){throw 42}),null,t)}catch(e){e!==n&&(i=null)}else i=null;var o=/^\s*class\b/,a=function(e){try{var t=r.call(e);return o.test(t)}catch(e){return!1}},s=Object.prototype.toString,l="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,u="object"==typeof document&&void 0===document.all&&void 0!==document.all?document.all:{};e.exports=i?function(e){if(e===u)return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if("function"==typeof e&&!e.prototype)return!0;try{i(e,null,t)}catch(e){if(e!==n)return!1}return!a(e)}:function(e){if(e===u)return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if("function"==typeof e&&!e.prototype)return!0;if(l)return function(e){try{return!a(e)&&(r.call(e),!0)}catch(e){return!1}}(e);if(a(e))return!1;var t=s.call(e);return"[object Function]"===t||"[object GeneratorFunction]"===t}},82695:e=>{"use strict";e.exports=function(){return{Map:function(){if("function"!=typeof Map)return null;try{Map.prototype.forEach.call({},(function(){}))}catch(e){return Map.prototype.forEach}return null}(),Set:function(){if("function"!=typeof Set)return null;try{Set.prototype.forEach.call({},(function(){}))}catch(e){return Set.prototype.forEach}return null}()}}},64388:(e,t,n)=>{"use strict";var r=n(12636);e.exports=function(){var e="function"==typeof Symbol&&r(Symbol.iterator)?Symbol.iterator:null;return"function"==typeof Object.getOwnPropertyNames&&"function"==typeof Map&&"function"==typeof Map.prototype.entries&&Object.getOwnPropertyNames(Map.prototype).forEach((function(t){"entries"!==t&&"size"!==t&&Map.prototype[t]===Map.prototype.entries&&(e=t)})),e}},71203:(e,t,n)=>{"use strict";var r=Object.prototype,i=r.toString,o=Boolean.prototype.valueOf,a=n(32553),s=n(39573),l=n(76814),u=n(18923),c=n(48662),f=n(44578),d=n(98420),p=n(29981),h=n(12636),g=n(95320),m=Object.prototype.isPrototypeOf,y="foo"===function(){}.name,v="function"==typeof Symbol?Symbol.prototype.valueOf:null,b=n(64388)(),x=n(82695)(),_=Object.getPrototypeOf;_||(_="object"==typeof"test".__proto__?function(e){return e.__proto__}:function(e){var t,n=e.constructor;if(a(e,"constructor")){if(t=n,!delete e.constructor)return null;n=e.constructor,e.constructor=t}return n?n.prototype:r});var w=Array.isArray||function(e){return"[object Array]"===i.call(e)},k=function(e){return e.replace(/^function ?\(/,"function (").replace("){",") {")},T=function(e){var t=[];try{x.Map.call(e,(function(e,n){t.push([e,n])}))}catch(n){try{x.Set.call(e,(function(e){t.push([e])}))}catch(e){return!1}}return t};e.exports=function e(t,n){if(t===n)return"";if(null==t||null==n)return t===n?"":String(t)+" !== "+String(n);var r=i.call(t),C=i.call(n);if(r!==C)return"toStringTag is not the same: "+r+" !== "+C;var O=l(t),S=l(n);if(O||S){if(!O)return"first argument is not a boolean; second argument is";if(!S)return"second argument is not a boolean; first argument is";var A=o.call(t),M=o.call(n);return A===M?"":"primitive value of boolean arguments do not match: "+A+" !== "+M}var E=f(t),P=f(t);if(E||P){if(!E)return"first argument is not a number; second argument is";if(!P)return"second argument is not a number; first argument is";if(Number(t)===Number(n))return"";var D=isNaN(t),L=isNaN(n);return D&&!L?"first argument is NaN; second is not":!D&&L?"second argument is NaN; first is not":D&&L?"":"numbers are different: "+t+" !== "+n}var R=p(t),I=p(n);if(R||I){if(!R)return"second argument is string; first is not";if(!I)return"first argument is string; second is not";var N=String(t),j=String(n);return N===j?"":'string values are different: "'+N+'" !== "'+j+'"'}var z=u(t),q=u(n);if(z||q){if(!z)return"second argument is Date, first is not";if(!q)return"first argument is Date, second is not";var F=+t,B=+n;return F===B?"":"Dates have different time values: "+F+" !== "+B}var H=d(t),U=d(n);if(H||U){if(!H)return"second argument is RegExp, first is not";if(!U)return"first argument is RegExp, second is not";var V=String(t),W=String(n);return V===W?"":"regular expressions differ: "+V+" !== "+W}var G=w(t),K=w(n);if(G||K){if(!G)return"second argument is an Array, first is not";if(!K)return"first argument is an Array, second is not";if(t.length!==n.length)return"arrays have different length: "+t.length+" !== "+n.length;for(var Y,Z,X=t.length-1,$="";""===$&&X>=0;){if(Y=a(t,X),Z=a(n,X),!Y&&Z)return"second argument has index "+X+"; first does not";if(Y&&!Z)return"first argument has index "+X+"; second does not";$=e(t[X],n[X]),X-=1}return $}var J=h(t),Q=h(n);if(J!==Q)return J?"first argument is Symbol; second is not":"second argument is Symbol; first is not";if(J&&Q)return v.call(t)===v.call(n)?"":"first Symbol value !== second Symbol value";var ee=c(t);if(ee!==c(n))return ee?"first argument is a Generator; second is not":"second argument is a Generator; first is not";var te=s(t);if(te!==s(n))return te?"first argument is an Arrow function; second is not":"second argument is an Arrow function; first is not";if(g(t)||g(n)){if(y&&""!==e(t.name,n.name))return'Function names differ: "'+t.name+'" !== "'+n.name+'"';if(""!==e(t.length,n.length))return"Function lengths differ: "+t.length+" !== "+n.length;var ne=k(String(t)),re=k(String(n));return""===e(ne,re)?"":ee||te?""===e(ne,re)?"":"Function string representations differ":""===e(ne.replace(/\)\s*\{/,"){"),re.replace(/\)\s*\{/,"){"))?"":"Function string representations differ"}if("object"==typeof t||"object"==typeof n){if(typeof t!=typeof n)return"arguments have a different typeof: "+typeof t+" !== "+typeof n;if(m.call(t,n))return"first argument is the [[Prototype]] of the second";if(m.call(n,t))return"second argument is the [[Prototype]] of the first";if(_(t)!==_(n))return"arguments have a different [[Prototype]]";if(b){var ie=t[b],oe=g(ie),ae=n[b],se=g(ae);if(oe!==se)return oe?"first argument is iterable; second is not":"second argument is iterable; first is not";if(oe&&se){var le,ue,ce,fe=ie.call(t),de=ae.call(n);do{if(le=fe.next(),ue=de.next(),!le.done&&!ue.done&&""!==(ce=e(le,ue)))return"iteration results are not equal: "+ce}while(!le.done&&!ue.done);return le.done&&!ue.done?"first argument finished iterating before second":!le.done&&ue.done?"second argument finished iterating before first":""}}else if(x.Map||x.Set){var pe=T(t),he=T(n),ge=w(pe),me=w(he);if(ge&&!me)return"first argument has Collection entries, second does not";if(!ge&&me)return"second argument has Collection entries, first does not";if(ge&&me){var ye=e(pe,he);return""===ye?"":"Collection entries differ: "+ye}}var ve,be,xe,_e;for(ve in t)if(a(t,ve)){if(!a(n,ve))return'first argument has key "'+ve+'"; second does not';if((be=!!t[ve]&&t[ve][ve]===t)!=(xe=!!n[ve]&&n[ve][ve]===n))return be?'first argument has a circular reference at key "'+ve+'"; second does not':'second argument has a circular reference at key "'+ve+'"; first does not';if(!be&&!xe&&""!==(_e=e(t[ve],n[ve])))return'value at key "'+ve+'" differs: '+_e}for(ve in n)if(a(n,ve)&&!a(t,ve))return'second argument has key "'+ve+'"; first does not';return""}return!1}},44578:e=>{"use strict";var t=Number.prototype.toString,n=Object.prototype.toString,r="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){return"number"==typeof e||"object"==typeof e&&(r?function(e){try{return t.call(e),!0}catch(e){return!1}}(e):"[object Number]"===n.call(e))}},29981:e=>{"use strict";var t=String.prototype.valueOf,n=Object.prototype.toString,r="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){return"string"==typeof e||"object"==typeof e&&(r?function(e){try{return t.call(e),!0}catch(e){return!1}}(e):"[object String]"===n.call(e))}},12636:(e,t,n)=>{"use strict";var r=Object.prototype.toString;if(n(41405)()){var i=Symbol.prototype.toString,o=/^Symbol\(.*\)$/;e.exports=function(e){if("symbol"==typeof e)return!0;if("[object Symbol]"!==r.call(e))return!1;try{return function(e){return"symbol"==typeof e.valueOf()&&o.test(i.call(e))}(e)}catch(e){return!1}}}else e.exports=function(e){return!1}},36808:(e,t,n)=>{var r,i,o;void 0===(i="function"==typeof(r=o=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function i(){}function o(t,n,o){if("undefined"!=typeof document){"number"==typeof(o=e({path:"/"},i.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var l in o)o[l]&&(s+="; "+l,!0!==o[l]&&(s+="="+o[l].split(";")[0]));return document.cookie=t+"="+n+s}}function a(e,n){if("undefined"!=typeof document){for(var i={},o=document.cookie?document.cookie.split("; "):[],a=0;a<o.length;a++){var s=o[a].split("="),l=s.slice(1).join("=");n||'"'!==l.charAt(0)||(l=l.slice(1,-1));try{var u=t(s[0]);if(l=(r.read||r)(l,u)||t(l),n)try{l=JSON.parse(l)}catch(e){}if(i[u]=l,e===u)break}catch(e){}}return e?i[e]:i}}return i.set=o,i.get=function(e){return a(e,!1)},i.getJSON=function(e){return a(e,!0)},i.remove=function(t,n){o(t,"",e(n,{expires:-1}))},i.defaults={},i.withConverter=n,i}((function(){}))})?r.call(t,n,t,e):r)||(e.exports=i),e.exports=o()},86835:e=>{"use strict";e.exports=JSON.parse('{"Errors":{"delimitersMustDiffer":"The field and array delimiters must differ.","callbackRequired":"A callback is required!","optionsRequired":"Options were not passed and are required.","json2csv":{"cannotCallJson2CsvOn":"Cannot call json2csv on ","dataNotArrayOfDocuments":"Data provided was not an array of documents.","notSameSchema":"Not all documents have the same schema."},"csv2json":{"cannotCallCsv2JsonOn":"Cannot call csv2json on ","csvNotString":"CSV is not a string.","noDataRetrieveHeading":"No data provided to retrieve heading."}},"DefaultOptions":{"DELIMITER":{"FIELD":",","ARRAY":";","WRAP":"","EOL":"\\n"},"PREPEND_HEADER":true,"TRIM_HEADER_FIELDS":false,"TRIM_FIELD_VALUES":false,"SORT_HEADER":false,"PARSE_CSV_NUMBERS":false,"KEYS":null,"CHECK_SCHEMA_DIFFERENCES":true,"EMPTY_FIELD_VALUE":"null"}}')},17542:(e,t,n)=>{"use strict";var r=n(62087),i=n(20612),o=n(86835),a=n(26330),s=n(9582),l=o.DefaultOptions,u=function(e){return!s.isUndefined(e)},c=function(e,t,n){var r=a.evaluatePath(e,t);u(r)&&a.setPath(e,n,r)},f=function(e,t){return a.evaluatePath(e,"EOL")&&a.setPath(e,"DELIMITER.EOL",e.EOL),e&&(c(e,"prependHeader","PREPEND_HEADER"),c(e,"trimHeaderFields","TRIM_HEADER_FIELDS"),c(e,"trimFieldValues","TRIM_FIELD_VALUES"),c(e,"sortHeader","SORT_HEADER"),c(e,"parseCsvNumbers","PARSE_CSV_NUMBERS"),c(e,"keys","KEYS"),c(e,"checkSchemaDifferences","CHECK_SCHEMA_DIFFERENCES"),c(e,"emptyFieldValue","EMPTY_FIELD_VALUE"),u(e.delimiter)&&(c(e,"delimiter.field","DELIMITER.FIELD"),c(e,"delimiter.array","DELIMITER.ARRAY"),c(e,"delimiter.wrap","DELIMITER.WRAP"),c(e,"delimiter.eol","DELIMITER.EOL"))),(e=s.defaults(e||{},l)).DELIMITER=s.defaults(e.DELIMITER||{},l.DELIMITER),e.DELIMITER.FIELD===e.DELIMITER.ARRAY?t(new Error(o.Errors.delimitersMustDiffer)):t(null,e)};e.exports={json2csv:function(e,t,n){if(s.isObject(t)&&!s.isFunction(t)){var i=n;n=t,t=i}f(n,(function(n,i){if(n)return t(n);r.json2csv(i,e,t)}))},csv2json:function(e,t,n){if(s.isObject(t)&&!s.isFunction(t)){var r=n;n=t,t=r}f(n,(function(n,r){if(n)return t(n);i.csv2json(r,e,t)}))}}},20612:(e,t,n)=>{"use strict";var r=n(9582),i=n(26330),o=n(86835),a={},s=function(e,t){var n=function(e,t){return e.length?r.map(l(e[0]),(function(e,t){return{value:a.TRIM_HEADER_FIELDS?e.trim():e,index:t}})):t(new Error(o.Errors.csv2json.noDataRetrieveHeading))}(e,t),s=e.splice(1),u=a.KEYS?r.filter(n,(function(e){return r.contains(a.KEYS,e.value)})):n;return r.reduce(s,(function(e,t){if(!t)return e;var n=function(e,t){var n;return t=l(t),r.reduce(e,(function(e,o){var s,l;return n=t[o.index]?t[o.index]:null,(l=n=a.TRIM_FIELD_VALUES&&!r.isNull(n)?n.trim():n)&&/^\[.*\]$/.test(l)&&(s=(s=(s=n).replace(/(\[|\])/g,"")).split(a.DELIMITER.ARRAY),n=r.filter(s,(function(e){return e}))),i.setPath(e,o.value,n)}),{})}(u,t.trim());return e.concat(n)}),[])},l=function(e){if(!a.DELIMITER.WRAP)return e.split(a.DELIMITER.FIELD);for(var t,n,r,i=[],o=e.length-1,s={insideWrapDelimiter:!1,parsingValue:!0,startIndex:0},l=0;l<e.length;)t=e[l],n=l?e[l-1]:"",r=l<o?e[l+1]:"",l===o?i.push(e.substring(s.startIndex,s.insideWrapDelimiter?l:void 0)):t===a.DELIMITER.WRAP&&0===l?(s.insideWrapDelimiter=!0,s.parsingValue=!0,s.startIndex=l+1):t===a.DELIMITER.WRAP&&r===a.DELIMITER.FIELD?(i.push(e.substring(s.startIndex,l)),s.startIndex=l+2,s.insideWrapDelimiter=!1,s.parsingValue=!1):t===a.DELIMITER.WRAP&&n===a.DELIMITER.FIELD?(s.parsingValue&&i.push(e.substring(s.startIndex,l-1)),s.insideWrapDelimiter=!0,s.parsingValue=!0,s.startIndex=l+1):t===a.DELIMITER.FIELD&&n!==a.DELIMITER.WRAP&&r!==a.DELIMITER.WRAP&&!s.insideWrapDelimiter&&s.parsingValue?(i.push(e.substring(s.startIndex,l)),s.startIndex=l+1):t===a.DELIMITER.FIELD&&n===a.DELIMITER.WRAP&&r!==a.DELIMITER.WRAP?(s.insideWrapDelimiter=!1,s.parsingValue=!0,s.startIndex=l+1):"\\"===t&&r===a.DELIMITER.WRAP&&s.insideWrapDelimiter&&(e=e.slice(0,l)+e.slice(l+1),l--,o--),l++;return i};e.exports={csv2json:function(e,t,n){if(!n)throw new Error(o.Errors.callbackRequired);if(!e)return n(new Error(o.Errors.optionsRequired));if(a=e,!t)return n(new Error(o.Errors.csv2json.cannotCallCsv2JsonOn+t+"."));if(!r.isString(t))return n(new Error(o.Errors.csv2json.csvNotString));var i=t.split(a.DELIMITER.EOL);return n(null,s(i,n))}}},62087:(e,t,n)=>{"use strict";var r=n(9582),i=n(86835),o=n(26330),a=n(96624),s={},l=function(e,t){var n="";return r.map(r.keys(t),(function(i){return n=e?e+"."+i:i,r.isObject(t[i])&&!r.isNull(t[i])&&!r.isArray(t[i])&&r.keys(t[i]).length?l(n,t[i]):n}))},u=function(e,t){return r.reduce(t,(function(t,n){var i=o.evaluatePath(e,n);return r.isUndefined(i)&&(i=s.EMPTY_FIELD_VALUE),t.concat(c(i))}),[])},c=function(e){if(r.isArray(e)){var t=[];return e.forEach((function(e){r.isObject(e)?t.push(JSON.stringify(e)):t.push(f(e))})),s.DELIMITER.WRAP+"["+t.join(s.DELIMITER.ARRAY)+"]"+s.DELIMITER.WRAP}return r.isDate(e)?s.DELIMITER.WRAP+f(e)+s.DELIMITER.WRAP:r.isObject(e)?s.DELIMITER.WRAP+u(e,r.keys(e))+s.DELIMITER.WRAP:(r.isNumber(e)||r.isBoolean(e)||(e=s.DELIMITER.WRAP&&e?e.replace(new RegExp(s.DELIMITER.WRAP,"g"),"\\"+s.DELIMITER.WRAP):e),s.DELIMITER.WRAP+f(e)+s.DELIMITER.WRAP)},f=function(e){return e=r.isNull(e)||r.isUndefined(e)?"":e.toString(),s.TRIM_FIELD_VALUES?e.trim():e},d=function(e,t){return[t].concat(r.reduce(e,(function(e,n){return e+(u(n,t).join(s.DELIMITER.FIELD)+s.DELIMITER.EOL)}),""))};e.exports={json2csv:function(e,t,n){if(!n)throw new Error(i.Errors.callbackRequired);return e?(s=e,t?r.isObject(t)?(r.isObject(t)&&!t.length&&(t=[t]),void function(e){if(s.KEYS)return a.resolve(s.KEYS);var t=r.map(e,(function(e,t){if(r.isObject(e))return l("",e)})),n=[];if(s.CHECK_SCHEMA_DIFFERENCES){if(t&&t.length<=1)return a.resolve(r.flatten(t)||[]);var o=r.flatten(t[0]),u=0;if(r.each(t,(function(e){var t=r.difference(o,r.flatten(e));r.isEqual(t,[])||u++})),u)return a.reject(new Error(i.Errors.json2csv.notSameSchema));n=r.flatten(t[0])}else r.each(t,(function(e){n=r.union(n,r.flatten(e))}));return s.SORT_HEADER&&n.sort(),a.resolve(n)}(t).then(r.partial(d,t)).spread((function(e,t){return s.DELIMITER.WRAP&&s.PREPEND_HEADER&&(e=r.map(e,(function(e){return s.DELIMITER.WRAP+e+s.DELIMITER.WRAP}))),s.TRIM_HEADER_FIELDS&&(e=r.map(e,(function(e){return e.trim()}))),s.PREPEND_HEADER&&(e=e.join(s.DELIMITER.FIELD)),n(null,s.PREPEND_HEADER?e+s.DELIMITER.EOL+t:t)})).catch((function(e){return n(e)}))):n(new Error(i.Errors.json2csv.dataNotArrayOfDocuments)):n(new Error(i.Errors.json2csv.cannotCallJson2CsvOn+t+"."))):n(new Error(i.Errors.optionsRequired))}}},9582:function(e,t){var n;(function(){var r=this,i=r._,o=Array.prototype,a=Object.prototype,s=Function.prototype,l=o.push,u=o.slice,c=a.toString,f=a.hasOwnProperty,d=Array.isArray,p=Object.keys,h=s.bind,g=Object.create,m=function(){},y=function(e){return e instanceof y?e:this instanceof y?void(this._wrapped=e):new y(e)};e.exports&&(t=e.exports=y),t._=y,y.VERSION="1.8.3";var v=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return function(){return e.apply(t,arguments)}},b=function(e,t,n){return null==e?y.identity:y.isFunction(e)?v(e,t,n):y.isObject(e)?y.matcher(e):y.property(e)};y.iteratee=function(e,t){return b(e,t,1/0)};var x=function(e,t){return function(n){var r=arguments.length;if(r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],a=e(o),s=a.length,l=0;l<s;l++){var u=a[l];t&&void 0!==n[u]||(n[u]=o[u])}return n}},_=function(e){if(!y.isObject(e))return{};if(g)return g(e);m.prototype=e;var t=new m;return m.prototype=null,t},w=function(e){return function(t){return null==t?void 0:t[e]}},k=Math.pow(2,53)-1,T=w("length"),C=function(e){var t=T(e);return"number"==typeof t&&t>=0&&t<=k};function O(e){function t(t,n,r,i,o,a){for(;o>=0&&o<a;o+=e){var s=i?i[o]:o;r=n(r,t[s],s,t)}return r}return function(n,r,i,o){r=v(r,o,4);var a=!C(n)&&y.keys(n),s=(a||n).length,l=e>0?0:s-1;return arguments.length<3&&(i=n[a?a[l]:l],l+=e),t(n,r,i,a,l,s)}}y.each=y.forEach=function(e,t,n){var r,i;if(t=v(t,n),C(e))for(r=0,i=e.length;r<i;r++)t(e[r],r,e);else{var o=y.keys(e);for(r=0,i=o.length;r<i;r++)t(e[o[r]],o[r],e)}return e},y.map=y.collect=function(e,t,n){t=b(t,n);for(var r=!C(e)&&y.keys(e),i=(r||e).length,o=Array(i),a=0;a<i;a++){var s=r?r[a]:a;o[a]=t(e[s],s,e)}return o},y.reduce=y.foldl=y.inject=O(1),y.reduceRight=y.foldr=O(-1),y.find=y.detect=function(e,t,n){var r;if(void 0!==(r=C(e)?y.findIndex(e,t,n):y.findKey(e,t,n))&&-1!==r)return e[r]},y.filter=y.select=function(e,t,n){var r=[];return t=b(t,n),y.each(e,(function(e,n,i){t(e,n,i)&&r.push(e)})),r},y.reject=function(e,t,n){return y.filter(e,y.negate(b(t)),n)},y.every=y.all=function(e,t,n){t=b(t,n);for(var r=!C(e)&&y.keys(e),i=(r||e).length,o=0;o<i;o++){var a=r?r[o]:o;if(!t(e[a],a,e))return!1}return!0},y.some=y.any=function(e,t,n){t=b(t,n);for(var r=!C(e)&&y.keys(e),i=(r||e).length,o=0;o<i;o++){var a=r?r[o]:o;if(t(e[a],a,e))return!0}return!1},y.contains=y.includes=y.include=function(e,t,n,r){return C(e)||(e=y.values(e)),("number"!=typeof n||r)&&(n=0),y.indexOf(e,t,n)>=0},y.invoke=function(e,t){var n=u.call(arguments,2),r=y.isFunction(t);return y.map(e,(function(e){var i=r?t:e[t];return null==i?i:i.apply(e,n)}))},y.pluck=function(e,t){return y.map(e,y.property(t))},y.where=function(e,t){return y.filter(e,y.matcher(t))},y.findWhere=function(e,t){return y.find(e,y.matcher(t))},y.max=function(e,t,n){var r,i,o=-1/0,a=-1/0;if(null==t&&null!=e)for(var s=0,l=(e=C(e)?e:y.values(e)).length;s<l;s++)(r=e[s])>o&&(o=r);else t=b(t,n),y.each(e,(function(e,n,r){((i=t(e,n,r))>a||i===-1/0&&o===-1/0)&&(o=e,a=i)}));return o},y.min=function(e,t,n){var r,i,o=1/0,a=1/0;if(null==t&&null!=e)for(var s=0,l=(e=C(e)?e:y.values(e)).length;s<l;s++)(r=e[s])<o&&(o=r);else t=b(t,n),y.each(e,(function(e,n,r){((i=t(e,n,r))<a||i===1/0&&o===1/0)&&(o=e,a=i)}));return o},y.shuffle=function(e){for(var t,n=C(e)?e:y.values(e),r=n.length,i=Array(r),o=0;o<r;o++)(t=y.random(0,o))!==o&&(i[o]=i[t]),i[t]=n[o];return i},y.sample=function(e,t,n){return null==t||n?(C(e)||(e=y.values(e)),e[y.random(e.length-1)]):y.shuffle(e).slice(0,Math.max(0,t))},y.sortBy=function(e,t,n){return t=b(t,n),y.pluck(y.map(e,(function(e,n,r){return{value:e,index:n,criteria:t(e,n,r)}})).sort((function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return e.index-t.index})),"value")};var S=function(e){return function(t,n,r){var i={};return n=b(n,r),y.each(t,(function(r,o){var a=n(r,o,t);e(i,r,a)})),i}};y.groupBy=S((function(e,t,n){y.has(e,n)?e[n].push(t):e[n]=[t]})),y.indexBy=S((function(e,t,n){e[n]=t})),y.countBy=S((function(e,t,n){y.has(e,n)?e[n]++:e[n]=1})),y.toArray=function(e){return e?y.isArray(e)?u.call(e):C(e)?y.map(e,y.identity):y.values(e):[]},y.size=function(e){return null==e?0:C(e)?e.length:y.keys(e).length},y.partition=function(e,t,n){t=b(t,n);var r=[],i=[];return y.each(e,(function(e,n,o){(t(e,n,o)?r:i).push(e)})),[r,i]},y.first=y.head=y.take=function(e,t,n){if(null!=e)return null==t||n?e[0]:y.initial(e,e.length-t)},y.initial=function(e,t,n){return u.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},y.last=function(e,t,n){if(null!=e)return null==t||n?e[e.length-1]:y.rest(e,Math.max(0,e.length-t))},y.rest=y.tail=y.drop=function(e,t,n){return u.call(e,null==t||n?1:t)},y.compact=function(e){return y.filter(e,y.identity)};var A=function(e,t,n,r){for(var i=[],o=0,a=r||0,s=T(e);a<s;a++){var l=e[a];if(C(l)&&(y.isArray(l)||y.isArguments(l))){t||(l=A(l,t,n));var u=0,c=l.length;for(i.length+=c;u<c;)i[o++]=l[u++]}else n||(i[o++]=l)}return i};function M(e){return function(t,n,r){n=b(n,r);for(var i=T(t),o=e>0?0:i-1;o>=0&&o<i;o+=e)if(n(t[o],o,t))return o;return-1}}function E(e,t,n){return function(r,i,o){var a=0,s=T(r);if("number"==typeof o)e>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(n&&o&&s)return r[o=n(r,i)]===i?o:-1;if(i!=i)return(o=t(u.call(r,a,s),y.isNaN))>=0?o+a:-1;for(o=e>0?a:s-1;o>=0&&o<s;o+=e)if(r[o]===i)return o;return-1}}y.flatten=function(e,t){return A(e,t,!1)},y.without=function(e){return y.difference(e,u.call(arguments,1))},y.uniq=y.unique=function(e,t,n,r){y.isBoolean(t)||(r=n,n=t,t=!1),null!=n&&(n=b(n,r));for(var i=[],o=[],a=0,s=T(e);a<s;a++){var l=e[a],u=n?n(l,a,e):l;t?(a&&o===u||i.push(l),o=u):n?y.contains(o,u)||(o.push(u),i.push(l)):y.contains(i,l)||i.push(l)}return i},y.union=function(){return y.uniq(A(arguments,!0,!0))},y.intersection=function(e){for(var t=[],n=arguments.length,r=0,i=T(e);r<i;r++){var o=e[r];if(!y.contains(t,o)){for(var a=1;a<n&&y.contains(arguments[a],o);a++);a===n&&t.push(o)}}return t},y.difference=function(e){var t=A(arguments,!0,!0,1);return y.filter(e,(function(e){return!y.contains(t,e)}))},y.zip=function(){return y.unzip(arguments)},y.unzip=function(e){for(var t=e&&y.max(e,T).length||0,n=Array(t),r=0;r<t;r++)n[r]=y.pluck(e,r);return n},y.object=function(e,t){for(var n={},r=0,i=T(e);r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},y.findIndex=M(1),y.findLastIndex=M(-1),y.sortedIndex=function(e,t,n,r){for(var i=(n=b(n,r,1))(t),o=0,a=T(e);o<a;){var s=Math.floor((o+a)/2);n(e[s])<i?o=s+1:a=s}return o},y.indexOf=E(1,y.findIndex,y.sortedIndex),y.lastIndexOf=E(-1,y.findLastIndex),y.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),o=0;o<r;o++,e+=n)i[o]=e;return i};var P=function(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var o=_(e.prototype),a=e.apply(o,i);return y.isObject(a)?a:o};y.bind=function(e,t){if(h&&e.bind===h)return h.apply(e,u.call(arguments,1));if(!y.isFunction(e))throw new TypeError("Bind must be called on a function");var n=u.call(arguments,2),r=function(){return P(e,r,t,this,n.concat(u.call(arguments)))};return r},y.partial=function(e){var t=u.call(arguments,1),n=function(){for(var r=0,i=t.length,o=Array(i),a=0;a<i;a++)o[a]=t[a]===y?arguments[r++]:t[a];for(;r<arguments.length;)o.push(arguments[r++]);return P(e,n,this,this,o)};return n},y.bindAll=function(e){var t,n,r=arguments.length;if(r<=1)throw new Error("bindAll must be passed function names");for(t=1;t<r;t++)e[n=arguments[t]]=y.bind(e[n],e);return e},y.memoize=function(e,t){var n=function(r){var i=n.cache,o=""+(t?t.apply(this,arguments):r);return y.has(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return n.cache={},n},y.delay=function(e,t){var n=u.call(arguments,2);return setTimeout((function(){return e.apply(null,n)}),t)},y.defer=y.partial(y.delay,y,1),y.throttle=function(e,t,n){var r,i,o,a=null,s=0;n||(n={});var l=function(){s=!1===n.leading?0:y.now(),a=null,o=e.apply(r,i),a||(r=i=null)};return function(){var u=y.now();s||!1!==n.leading||(s=u);var c=t-(u-s);return r=this,i=arguments,c<=0||c>t?(a&&(clearTimeout(a),a=null),s=u,o=e.apply(r,i),a||(r=i=null)):a||!1===n.trailing||(a=setTimeout(l,c)),o}},y.debounce=function(e,t,n){var r,i,o,a,s,l=function(){var u=y.now()-a;u<t&&u>=0?r=setTimeout(l,t-u):(r=null,n||(s=e.apply(o,i),r||(o=i=null)))};return function(){o=this,i=arguments,a=y.now();var u=n&&!r;return r||(r=setTimeout(l,t)),u&&(s=e.apply(o,i),o=i=null),s}},y.wrap=function(e,t){return y.partial(t,e)},y.negate=function(e){return function(){return!e.apply(this,arguments)}},y.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}},y.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},y.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},y.once=y.partial(y.before,2);var D=!{toString:null}.propertyIsEnumerable("toString"),L=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function R(e,t){var n=L.length,r=e.constructor,i=y.isFunction(r)&&r.prototype||a,o="constructor";for(y.has(e,o)&&!y.contains(t,o)&&t.push(o);n--;)(o=L[n])in e&&e[o]!==i[o]&&!y.contains(t,o)&&t.push(o)}y.keys=function(e){if(!y.isObject(e))return[];if(p)return p(e);var t=[];for(var n in e)y.has(e,n)&&t.push(n);return D&&R(e,t),t},y.allKeys=function(e){if(!y.isObject(e))return[];var t=[];for(var n in e)t.push(n);return D&&R(e,t),t},y.values=function(e){for(var t=y.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=e[t[i]];return r},y.mapObject=function(e,t,n){t=b(t,n);for(var r,i=y.keys(e),o=i.length,a={},s=0;s<o;s++)a[r=i[s]]=t(e[r],r,e);return a},y.pairs=function(e){for(var t=y.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r},y.invert=function(e){for(var t={},n=y.keys(e),r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t},y.functions=y.methods=function(e){var t=[];for(var n in e)y.isFunction(e[n])&&t.push(n);return t.sort()},y.extend=x(y.allKeys),y.extendOwn=y.assign=x(y.keys),y.findKey=function(e,t,n){t=b(t,n);for(var r,i=y.keys(e),o=0,a=i.length;o<a;o++)if(t(e[r=i[o]],r,e))return r},y.pick=function(e,t,n){var r,i,o={},a=e;if(null==a)return o;y.isFunction(t)?(i=y.allKeys(a),r=v(t,n)):(i=A(arguments,!1,!1,1),r=function(e,t,n){return t in n},a=Object(a));for(var s=0,l=i.length;s<l;s++){var u=i[s],c=a[u];r(c,u,a)&&(o[u]=c)}return o},y.omit=function(e,t,n){if(y.isFunction(t))t=y.negate(t);else{var r=y.map(A(arguments,!1,!1,1),String);t=function(e,t){return!y.contains(r,t)}}return y.pick(e,t,n)},y.defaults=x(y.allKeys,!0),y.create=function(e,t){var n=_(e);return t&&y.extendOwn(n,t),n},y.clone=function(e){return y.isObject(e)?y.isArray(e)?e.slice():y.extend({},e):e},y.tap=function(e,t){return t(e),e},y.isMatch=function(e,t){var n=y.keys(t),r=n.length;if(null==e)return!r;for(var i=Object(e),o=0;o<r;o++){var a=n[o];if(t[a]!==i[a]||!(a in i))return!1}return!0};var I=function(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof y&&(e=e._wrapped),t instanceof y&&(t=t._wrapped);var i=c.call(e);if(i!==c.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t}var o="[object Array]"===i;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,s=t.constructor;if(a!==s&&!(y.isFunction(a)&&a instanceof a&&y.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}r=r||[];for(var l=(n=n||[]).length;l--;)if(n[l]===e)return r[l]===t;if(n.push(e),r.push(t),o){if((l=e.length)!==t.length)return!1;for(;l--;)if(!I(e[l],t[l],n,r))return!1}else{var u,f=y.keys(e);if(l=f.length,y.keys(t).length!==l)return!1;for(;l--;)if(u=f[l],!y.has(t,u)||!I(e[u],t[u],n,r))return!1}return n.pop(),r.pop(),!0};y.isEqual=function(e,t){return I(e,t)},y.isEmpty=function(e){return null==e||(C(e)&&(y.isArray(e)||y.isString(e)||y.isArguments(e))?0===e.length:0===y.keys(e).length)},y.isElement=function(e){return!(!e||1!==e.nodeType)},y.isArray=d||function(e){return"[object Array]"===c.call(e)},y.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},y.each(["Arguments","Function","String","Number","Date","RegExp","Error"],(function(e){y["is"+e]=function(t){return c.call(t)==="[object "+e+"]"}})),y.isArguments(arguments)||(y.isArguments=function(e){return y.has(e,"callee")}),"object"!=typeof Int8Array&&(y.isFunction=function(e){return"function"==typeof e||!1}),y.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},y.isNaN=function(e){return y.isNumber(e)&&e!==+e},y.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===c.call(e)},y.isNull=function(e){return null===e},y.isUndefined=function(e){return void 0===e},y.has=function(e,t){return null!=e&&f.call(e,t)},y.noConflict=function(){return r._=i,this},y.identity=function(e){return e},y.constant=function(e){return function(){return e}},y.noop=function(){},y.property=w,y.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},y.matcher=y.matches=function(e){return e=y.extendOwn({},e),function(t){return y.isMatch(t,e)}},y.times=function(e,t,n){var r=Array(Math.max(0,e));t=v(t,n,1);for(var i=0;i<e;i++)r[i]=t(i);return r},y.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},y.now=Date.now||function(){return(new Date).getTime()};var N={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},j=y.invert(N),z=function(e){var t=function(t){return e[t]},n="(?:"+y.keys(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,t):e}};y.escape=z(N),y.unescape=z(j),y.result=function(e,t,n){var r=null==e?void 0:e[t];return void 0===r&&(r=n),y.isFunction(r)?r.call(e):r};var q=0;y.uniqueId=function(e){var t=++q+"";return e?e+t:t},y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var F=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},H=/\\|'|\r|\n|\u2028|\u2029/g,U=function(e){return"\\"+B[e]};y.template=function(e,t,n){!t&&n&&(t=n),t=y.defaults({},t,y.templateSettings);var r=RegExp([(t.escape||F).source,(t.interpolate||F).source,(t.evaluate||F).source].join("|")+"|$","g"),i=0,o="__p+='";e.replace(r,(function(t,n,r,a,s){return o+=e.slice(i,s).replace(H,U),i=s+t.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),t})),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(t.variable||"obj","_",o)}catch(e){throw e.source=o,e}var s=function(e){return a.call(this,e,y)},l=t.variable||"obj";return s.source="function("+l+"){\n"+o+"}",s},y.chain=function(e){var t=y(e);return t._chain=!0,t};var V=function(e,t){return e._chain?y(t).chain():t};y.mixin=function(e){y.each(y.functions(e),(function(t){var n=y[t]=e[t];y.prototype[t]=function(){var e=[this._wrapped];return l.apply(e,arguments),V(this,n.apply(y,e))}}))},y.mixin(y),y.each(["pop","push","reverse","shift","sort","splice","unshift"],(function(e){var t=o[e];y.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],V(this,n)}})),y.each(["concat","join","slice"],(function(e){var t=o[e];y.prototype[e]=function(){return V(this,t.apply(this._wrapped,arguments))}})),y.prototype.value=function(){return this._wrapped},y.prototype.valueOf=y.prototype.toJSON=y.prototype.value,y.prototype.toString=function(){return""+this._wrapped},void 0===(n=function(){return y}.apply(t,[]))||(e.exports=n)}).call(this)},78458:(e,t,n)=>{"use strict";var r=n(58910),i=n(53790),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.encode=function(e){for(var t,n,i,a,s,l,u,c=[],f=0,d=e.length,p=d,h="string"!==r.getTypeOf(e);f<e.length;)p=d-f,h?(t=e[f++],n=f<d?e[f++]:0,i=f<d?e[f++]:0):(t=e.charCodeAt(f++),n=f<d?e.charCodeAt(f++):0,i=f<d?e.charCodeAt(f++):0),a=t>>2,s=(3&t)<<4|n>>4,l=p>1?(15&n)<<2|i>>6:64,u=p>2?63&i:64,c.push(o.charAt(a)+o.charAt(s)+o.charAt(l)+o.charAt(u));return c.join("")},t.decode=function(e){var t,n,r,a,s,l,u=0,c=0,f="data:";if(e.substr(0,f.length)===f)throw new Error("Invalid base64 input, it looks like a data url.");var d,p=3*(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(e.charAt(e.length-1)===o.charAt(64)&&p--,e.charAt(e.length-2)===o.charAt(64)&&p--,p%1!=0)throw new Error("Invalid base64 input, bad content length.");for(d=i.uint8array?new Uint8Array(0|p):new Array(0|p);u<e.length;)t=o.indexOf(e.charAt(u++))<<2|(a=o.indexOf(e.charAt(u++)))>>4,n=(15&a)<<4|(s=o.indexOf(e.charAt(u++)))>>2,r=(3&s)<<6|(l=o.indexOf(e.charAt(u++))),d[c++]=t,64!==s&&(d[c++]=n),64!==l&&(d[c++]=r);return d}},37326:(e,t,n)=>{"use strict";var r=n(38565),i=n(5301),o=n(95977),a=n(22541);function s(e,t,n,r,i){this.compressedSize=e,this.uncompressedSize=t,this.crc32=n,this.compression=r,this.compressedContent=i}o=n(95977),s.prototype={getContentWorker:function(){var e=new i(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new o("data_length")),t=this;return e.on("end",(function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),e},getCompressedWorker:function(){return new i(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(e,t,n){return e.pipe(new a).pipe(new o("uncompressedSize")).pipe(t.compressWorker(n)).pipe(new o("compressedSize")).withStreamInfo("compression",t)},e.exports=s},61678:(e,t,n)=>{"use strict";var r=n(43718);t.STORE={magic:"\0\0",compressWorker:function(e){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},t.DEFLATE=n(51033)},86988:(e,t,n)=>{"use strict";var r=n(58910),i=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();e.exports=function(e,t){return void 0!==e&&e.length?"string"!==r.getTypeOf(e)?function(e,t,n,r){var o=i,a=0+n;e^=-1;for(var s=0;s<a;s++)e=e>>>8^o[255&(e^t[s])];return-1^e}(0|t,e,e.length):function(e,t,n,r){var o=i,a=0+n;e^=-1;for(var s=0;s<a;s++)e=e>>>8^o[255&(e^t.charCodeAt(s))];return-1^e}(0|t,e,e.length):0}},26032:(e,t)=>{"use strict";t.base64=!1,t.binary=!1,t.dir=!1,t.createFolders=!0,t.date=null,t.compression=null,t.compressionOptions=null,t.comment=null,t.unixPermissions=null,t.dosPermissions=null},38565:(e,t,n)=>{"use strict";var r;r="undefined"!=typeof Promise?Promise:n(61883),e.exports={Promise:r}},51033:(e,t,n)=>{"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,i=n(99591),o=n(58910),a=n(43718),s=r?"uint8array":"array";function l(e,t){a.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}t.magic="\b\0",o.inherits(l,a),l.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(o.transformTo(s,e.data),!1)},l.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},t.compressWorker=function(e){return new l("Deflate",e)},t.uncompressWorker=function(){return new l("Inflate",{})}},4979:(e,t,n)=>{"use strict";var r=n(58910),i=n(43718),o=n(83600),a=n(86988),s=n(71141),l=function(e,t){var n,r="";for(n=0;n<t;n++)r+=String.fromCharCode(255&e),e>>>=8;return r},u=function(e,t,n,i,u,c){var f,d,p=e.file,h=e.compression,g=c!==o.utf8encode,m=r.transformTo("string",c(p.name)),y=r.transformTo("string",o.utf8encode(p.name)),v=p.comment,b=r.transformTo("string",c(v)),x=r.transformTo("string",o.utf8encode(v)),_=y.length!==p.name.length,w=x.length!==v.length,k="",T="",C="",O=p.dir,S=p.date,A={crc32:0,compressedSize:0,uncompressedSize:0};t&&!n||(A.crc32=e.crc32,A.compressedSize=e.compressedSize,A.uncompressedSize=e.uncompressedSize);var M=0;t&&(M|=8),g||!_&&!w||(M|=2048);var E,P,D=0,L=0;O&&(D|=16),"UNIX"===u?(L=798,D|=(P=E=p.unixPermissions,E||(P=O?16893:33204),(65535&P)<<16)):(L=20,D|=63&(p.dosPermissions||0)),f=S.getUTCHours(),f<<=6,f|=S.getUTCMinutes(),f<<=5,f|=S.getUTCSeconds()/2,d=S.getUTCFullYear()-1980,d<<=4,d|=S.getUTCMonth()+1,d<<=5,d|=S.getUTCDate(),_&&(T=l(1,1)+l(a(m),4)+y,k+="up"+l(T.length,2)+T),w&&(C=l(1,1)+l(a(b),4)+x,k+="uc"+l(C.length,2)+C);var R="";return R+="\n\0",R+=l(M,2),R+=h.magic,R+=l(f,2),R+=l(d,2),R+=l(A.crc32,4),R+=l(A.compressedSize,4),R+=l(A.uncompressedSize,4),R+=l(m.length,2),R+=l(k.length,2),{fileRecord:s.LOCAL_FILE_HEADER+R+m+k,dirRecord:s.CENTRAL_FILE_HEADER+l(L,2)+R+l(b.length,2)+"\0\0\0\0"+l(D,4)+l(i,4)+m+k+b}},c=function(e){return s.DATA_DESCRIPTOR+l(e.crc32,4)+l(e.compressedSize,4)+l(e.uncompressedSize,4)};function f(e,t,n,r){i.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=n,this.encodeFileName=r,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}r.inherits(f,i),f.prototype.push=function(e){var t=e.meta.percent||0,n=this.entriesCount,r=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,i.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:n?(t+100*(n-r-1))/n:100}}))},f.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var n=u(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},f.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,n=u(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),t)this.push({data:c(e),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},f.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var n=this.bytesWritten-e,i=function(e,t,n,i,o){var a=r.transformTo("string",o(i));return s.CENTRAL_DIRECTORY_END+"\0\0\0\0"+l(e,2)+l(e,2)+l(t,4)+l(n,4)+l(a.length,2)+a}(this.dirRecords.length,n,e,this.zipComment,this.encodeFileName);this.push({data:i,meta:{percent:100}})},f.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},f.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()})),e.on("error",(function(e){t.error(e)})),this},f.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},f.prototype.error=function(e){var t=this._sources;if(!i.prototype.error.call(this,e))return!1;for(var n=0;n<t.length;n++)try{t[n].error(e)}catch(e){}return!0},f.prototype.lock=function(){i.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},e.exports=f},37834:(e,t,n)=>{"use strict";var r=n(61678),i=n(4979);t.generateWorker=function(e,t,n){var o=new i(t.streamFiles,n,t.platform,t.encodeFileName),a=0;try{e.forEach((function(e,n){a++;var i=function(e,t){var n=e||t,i=r[n];if(!i)throw new Error(n+" is not a valid compression method !");return i}(n.options.compression,t.compression),s=n.options.compressionOptions||t.compressionOptions||{},l=n.dir,u=n.date;n._compressWorker(i,s).withStreamInfo("file",{name:e,dir:l,date:u,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(o)})),o.entriesCount=a}catch(e){o.error(e)}return o}},66085:(e,t,n)=>{"use strict";function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var e=new r;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}r.prototype=n(17132),r.prototype.loadAsync=n(81062),r.support=n(53790),r.defaults=n(26032),r.version="3.1.5",r.loadAsync=function(e,t){return(new r).loadAsync(e,t)},r.external=n(38565),e.exports=r},81062:(e,t,n)=>{"use strict";var r=n(58910),i=n(38565),o=n(83600),a=(r=n(58910),n(6624)),s=n(22541),l=n(72182);function u(e){return new i.Promise((function(t,n){var r=e.decompressed.getContentWorker().pipe(new s);r.on("error",(function(e){n(e)})).on("end",(function(){r.streamInfo.crc32!==e.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):t()})).resume()}))}e.exports=function(e,t){var n=this;return t=r.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),l.isNode&&l.isStream(e)?i.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then((function(e){var n=new a(t);return n.load(e),n})).then((function(e){var n=[i.Promise.resolve(e)],r=e.files;if(t.checkCRC32)for(var o=0;o<r.length;o++)n.push(u(r[o]));return i.Promise.all(n)})).then((function(e){for(var r=e.shift(),i=r.files,o=0;o<i.length;o++){var a=i[o];n.file(a.fileNameStr,a.decompressed,{binary:!0,optimizedBinaryString:!0,date:a.date,dir:a.dir,comment:a.fileCommentStr.length?a.fileCommentStr:null,unixPermissions:a.unixPermissions,dosPermissions:a.dosPermissions,createFolders:t.createFolders})}return r.zipComment.length&&(n.comment=r.zipComment),n}))}},72182:(e,t,n)=>{"use strict";var r=n(48764).Buffer;e.exports={isNode:void 0!==r,newBufferFrom:function(e,t){return new r(e,t)},allocBuffer:function(e){return r.alloc?r.alloc(e):new r(e)},isBuffer:function(e){return r.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},660:(e,t,n)=>{"use strict";var r=n(58910),i=n(43718);function o(e,t){i.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}r.inherits(o,i),o.prototype._bindStream=function(e){var t=this;this._stream=e,e.pause(),e.on("data",(function(e){t.push({data:e,meta:{percent:0}})})).on("error",(function(e){t.isPaused?this.generatedError=e:t.error(e)})).on("end",(function(){t.isPaused?t._upstreamEnded=!0:t.end()}))},o.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},e.exports=o},31220:(e,t,n)=>{"use strict";var r=n(10749).Readable;function i(e,t,n){r.call(this,t),this._helper=e;var i=this;e.on("data",(function(e,t){i.push(e)||i._helper.pause(),n&&n(t)})).on("error",(function(e){i.emit("error",e)})).on("end",(function(){i.push(null)}))}n(58910).inherits(i,r),i.prototype._read=function(){this._helper.resume()},e.exports=i},17132:(e,t,n)=>{"use strict";var r=n(83600),i=n(58910),o=n(43718),a=n(11285),s=n(26032),l=n(37326),u=n(46859),c=n(37834),f=n(72182),d=n(660),p=function(e,t,n){var r,a=i.getTypeOf(t),c=i.extend(n||{},s);c.date=c.date||new Date,null!==c.compression&&(c.compression=c.compression.toUpperCase()),"string"==typeof c.unixPermissions&&(c.unixPermissions=parseInt(c.unixPermissions,8)),c.unixPermissions&&16384&c.unixPermissions&&(c.dir=!0),c.dosPermissions&&16&c.dosPermissions&&(c.dir=!0),c.dir&&(e=g(e)),c.createFolders&&(r=h(e))&&m.call(this,r,!0);var p="string"===a&&!1===c.binary&&!1===c.base64;n&&void 0!==n.binary||(c.binary=!p),(t instanceof l&&0===t.uncompressedSize||c.dir||!t||0===t.length)&&(c.base64=!1,c.binary=!0,t="",c.compression="STORE",a="string");var y;y=t instanceof l||t instanceof o?t:f.isNode&&f.isStream(t)?new d(e,t):i.prepareContent(e,t,c.binary,c.optimizedBinaryString,c.base64);var v=new u(e,y,c);this.files[e]=v},h=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return t>0?e.substring(0,t):""},g=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},m=function(e,t){return t=void 0!==t?t:s.createFolders,e=g(e),this.files[e]||p.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function y(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var v={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,n,r;for(t in this.files)this.files.hasOwnProperty(t)&&(r=this.files[t],(n=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(n,r))},filter:function(e){var t=[];return this.forEach((function(n,r){e(n,r)&&t.push(r)})),t},file:function(e,t,n){if(1===arguments.length){if(y(e)){var r=e;return this.filter((function(e,t){return!t.dir&&r.test(e)}))}var i=this.files[this.root+e];return i&&!i.dir?i:null}return e=this.root+e,p.call(this,e,t,n),this},folder:function(e){if(!e)return this;if(y(e))return this.filter((function(t,n){return n.dir&&e.test(t)}));var t=this.root+e,n=m.call(this,t),r=this.clone();return r.root=n.name,r},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter((function(t,n){return n.name.slice(0,e.length)===e})),r=0;r<n.length;r++)delete this.files[n[r].name];return this},generate:function(e){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,n={};try{if((n=i.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:r.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");i.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var s=n.comment||this.comment||"";t=c.generateWorker(this,n,s)}catch(e){(t=new o("error")).error(e)}return new a(t,n.type||"string",n.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};e.exports=v},10749:(e,t,n)=>{e.exports=n(53086)},22370:(e,t,n)=>{"use strict";var r=n(28542);function i(e){r.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}n(58910).inherits(i,r),i.prototype.byteAt=function(e){return this.data[this.zero+e]},i.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),i=e.charCodeAt(3),o=this.length-4;o>=0;--o)if(this.data[o]===t&&this.data[o+1]===n&&this.data[o+2]===r&&this.data[o+3]===i)return o-this.zero;return-1},i.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),i=e.charCodeAt(3),o=this.readData(4);return t===o[0]&&n===o[1]&&r===o[2]&&i===o[3]},i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=i},28542:(e,t,n)=>{"use strict";var r=n(58910);function i(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return r.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readAndCheckSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},e.exports=i},69583:(e,t,n)=>{"use strict";var r=n(70414);function i(e){r.call(this,e)}n(58910).inherits(i,r),i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=i},9226:(e,t,n)=>{"use strict";var r=n(28542);function i(e){r.call(this,e)}n(58910).inherits(i,r),i.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},i.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},i.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=i},70414:(e,t,n)=>{"use strict";var r=n(22370);function i(e){r.call(this,e)}n(58910).inherits(i,r),i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=i},78435:(e,t,n)=>{"use strict";var r=n(58910),i=n(53790),o=n(22370),a=n(9226),s=n(69583),l=n(70414);e.exports=function(e){var t=r.getTypeOf(e);return r.checkSupport(t),"string"!==t||i.uint8array?"nodebuffer"===t?new s(e):i.uint8array?new l(r.transformTo("uint8array",e)):new o(r.transformTo("array",e)):new a(e)}},71141:(e,t)=>{"use strict";t.LOCAL_FILE_HEADER="PK",t.CENTRAL_FILE_HEADER="PK",t.CENTRAL_DIRECTORY_END="PK",t.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",t.ZIP64_CENTRAL_DIRECTORY_END="PK",t.DATA_DESCRIPTOR="PK\b"},64293:(e,t,n)=>{"use strict";var r=n(43718),i=n(58910);function o(e){r.call(this,"ConvertWorker to "+e),this.destType=e}i.inherits(o,r),o.prototype.processChunk=function(e){this.push({data:i.transformTo(this.destType,e.data),meta:e.meta})},e.exports=o},22541:(e,t,n)=>{"use strict";var r=n(43718),i=n(86988);function o(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n(58910).inherits(o,r),o.prototype.processChunk=function(e){this.streamInfo.crc32=i(e.data,this.streamInfo.crc32||0),this.push(e)},e.exports=o},95977:(e,t,n)=>{"use strict";var r=n(58910),i=n(43718);function o(e){i.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}r.inherits(o,i),o.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}i.prototype.processChunk.call(this,e)},e.exports=o},5301:(e,t,n)=>{"use strict";var r=n(58910),i=n(43718);function o(e){i.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then((function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=r.getTypeOf(e),t.isPaused||t._tickAndRepeat()}),(function(e){t.error(e)}))}r.inherits(o,i),o.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},e.exports=o},43718:e=>{"use strict";function t(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}t.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var n=0;n<this._listeners[e].length;n++)this._listeners[e][n].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.error(e)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var e=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},e.exports=t},11285:(e,t,n)=>{"use strict";var r=n(48764).Buffer,i=n(58910),o=n(64293),a=n(43718),s=n(78458),l=n(53790),u=n(38565),c=null;if(l.nodestream)try{c=n(31220)}catch(e){}function f(e,t,n){var r=t;switch(t){case"blob":case"arraybuffer":r="uint8array";break;case"base64":r="string"}try{this._internalType=r,this._outputType=t,this._mimeType=n,i.checkSupport(r),this._worker=e.pipe(new o(r)),e.lock()}catch(e){this._worker=new a("error"),this._worker.error(e)}}f.prototype={accumulate:function(e){return t=this,n=e,new u.Promise((function(e,o){var a=[],l=t._internalType,u=t._outputType,c=t._mimeType;t.on("data",(function(e,t){a.push(e),n&&n(t)})).on("error",(function(e){a=[],o(e)})).on("end",(function(){try{var t=function(e,t,n){switch(e){case"blob":return i.newBlob(i.transformTo("arraybuffer",t),n);case"base64":return s.encode(t);default:return i.transformTo(e,t)}}(u,function(e,t){var n,i=0,o=null,a=0;for(n=0;n<t.length;n++)a+=t[n].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(o=new Uint8Array(a),n=0;n<t.length;n++)o.set(t[n],i),i+=t[n].length;return o;case"nodebuffer":return r.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}(l,a),c);e(t)}catch(e){o(e)}a=[]})).resume()}));var t,n},on:function(e,t){var n=this;return"data"===e?this._worker.on(e,(function(e){t.call(n,e.data,e.meta)})):this._worker.on(e,(function(){i.delay(t,arguments,n)})),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(i.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:"nodebuffer"!==this._outputType},e)}},e.exports=f},53790:(e,t,n)=>{"use strict";var r=n(48764).Buffer;if(t.base64=!0,t.array=!0,t.string=!0,t.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,t.nodebuffer=void 0!==r,t.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)t.blob=!1;else{var i=new ArrayBuffer(0);try{t.blob=0===new Blob([i],{type:"application/zip"}).size}catch(e){try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(i),t.blob=0===o.getBlob("application/zip").size}catch(e){t.blob=!1}}}try{t.nodestream=!!n(10749).Readable}catch(e){t.nodestream=!1}},83600:(e,t,n)=>{"use strict";for(var r=n(58910),i=n(53790),o=n(72182),a=n(43718),s=new Array(256),l=0;l<256;l++)s[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;function u(){a.call(this,"utf-8 decode"),this.leftOver=null}function c(){a.call(this,"utf-8 encode")}s[254]=s[254]=1,t.utf8encode=function(e){return i.nodebuffer?o.newBufferFrom(e,"utf-8"):function(e){var t,n,r,o,a,s=e.length,l=0;for(o=0;o<s;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=i.uint8array?new Uint8Array(l):new Array(l),a=0,o=0;a<l;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|63&n):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t}(e)},t.utf8decode=function(e){return i.nodebuffer?r.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,n,i,o,a=e.length,l=new Array(2*a);for(n=0,t=0;t<a;)if((i=e[t++])<128)l[n++]=i;else if((o=s[i])>4)l[n++]=65533,t+=o-1;else{for(i&=2===o?31:3===o?15:7;o>1&&t<a;)i=i<<6|63&e[t++],o--;o>1?l[n++]=65533:i<65536?l[n++]=i:(i-=65536,l[n++]=55296|i>>10&1023,l[n++]=56320|1023&i)}return l.length!==n&&(l.subarray?l=l.subarray(0,n):l.length=n),r.applyFromCharCode(l)}(e=r.transformTo(i.uint8array?"uint8array":"array",e))},r.inherits(u,a),u.prototype.processChunk=function(e){var n=r.transformTo(i.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(i.uint8array){var o=n;(n=new Uint8Array(o.length+this.leftOver.length)).set(this.leftOver,0),n.set(o,this.leftOver.length)}else n=this.leftOver.concat(n);this.leftOver=null}var a=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+s[e[n]]>t?n:t}(n),l=n;a!==n.length&&(i.uint8array?(l=n.subarray(0,a),this.leftOver=n.subarray(a,n.length)):(l=n.slice(0,a),this.leftOver=n.slice(a,n.length))),this.push({data:t.utf8decode(l),meta:e.meta})},u.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:t.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},t.Utf8DecodeWorker=u,r.inherits(c,a),c.prototype.processChunk=function(e){this.push({data:t.utf8encode(e.data),meta:e.meta})},t.Utf8EncodeWorker=c},58910:(e,t,n)=>{"use strict";var r=n(53790),i=n(78458),o=n(72182),a=n(47326),s=n(38565);function l(e){return e}function u(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}t.newBlob=function(e,n){t.checkSupport("blob");try{return new Blob([e],{type:n})}catch(t){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return r.append(e),r.getBlob(n)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var c={stringifyByChunk:function(e,t,n){var r=[],i=0,o=e.length;if(o<=n)return String.fromCharCode.apply(null,e);for(;i<o;)"array"===t||"nodebuffer"===t?r.push(String.fromCharCode.apply(null,e.slice(i,Math.min(i+n,o)))):r.push(String.fromCharCode.apply(null,e.subarray(i,Math.min(i+n,o)))),i+=n;return r.join("")},stringifyByChar:function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},applyCanBeUsed:{uint8array:function(){try{return r.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return r.nodebuffer&&1===String.fromCharCode.apply(null,o.allocBuffer(1)).length}catch(e){return!1}}()}};function f(e){var n=65536,r=t.getTypeOf(e),i=!0;if("uint8array"===r?i=c.applyCanBeUsed.uint8array:"nodebuffer"===r&&(i=c.applyCanBeUsed.nodebuffer),i)for(;n>1;)try{return c.stringifyByChunk(e,r,n)}catch(e){n=Math.floor(n/2)}return c.stringifyByChar(e)}function d(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}t.applyFromCharCode=f;var p={};p.string={string:l,array:function(e){return u(e,new Array(e.length))},arraybuffer:function(e){return p.string.uint8array(e).buffer},uint8array:function(e){return u(e,new Uint8Array(e.length))},nodebuffer:function(e){return u(e,o.allocBuffer(e.length))}},p.array={string:f,array:l,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(e)}},p.arraybuffer={string:function(e){return f(new Uint8Array(e))},array:function(e){return d(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:l,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(new Uint8Array(e))}},p.uint8array={string:f,array:function(e){return d(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:l,nodebuffer:function(e){return o.newBufferFrom(e)}},p.nodebuffer={string:f,array:function(e){return d(e,new Array(e.length))},arraybuffer:function(e){return p.nodebuffer.uint8array(e).buffer},uint8array:function(e){return d(e,new Uint8Array(e.length))},nodebuffer:l},t.transformTo=function(e,n){if(n||(n=""),!e)return n;t.checkSupport(e);var r=t.getTypeOf(n);return p[r][e](n)},t.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":r.nodebuffer&&o.isBuffer(e)?"nodebuffer":r.uint8array&&e instanceof Uint8Array?"uint8array":r.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},t.checkSupport=function(e){if(!r[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},t.MAX_VALUE_16BITS=65535,t.MAX_VALUE_32BITS=-1,t.pretty=function(e){var t,n,r="";for(n=0;n<(e||"").length;n++)r+="\\x"+((t=e.charCodeAt(n))<16?"0":"")+t.toString(16).toUpperCase();return r},t.delay=function(e,t,n){a((function(){e.apply(n||null,t||[])}))},t.inherits=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n},t.extend=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&void 0===n[t]&&(n[t]=arguments[e][t]);return n},t.prepareContent=function(e,n,o,a,l){return s.Promise.resolve(n).then((function(e){return r.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new s.Promise((function(t,n){var r=new FileReader;r.onload=function(e){t(e.target.result)},r.onerror=function(e){n(e.target.error)},r.readAsArrayBuffer(e)})):e})).then((function(n){var c,f=t.getTypeOf(n);return f?("arraybuffer"===f?n=t.transformTo("uint8array",n):"string"===f&&(l?n=i.decode(n):o&&!0!==a&&(n=u(c=n,r.uint8array?new Uint8Array(c.length):new Array(c.length)))),n):s.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},6624:(e,t,n)=>{"use strict";var r=n(78435),i=n(58910),o=n(71141),a=n(39392),s=(n(83600),n(53790));function l(e){this.files=[],this.loadOptions=e}l.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+i.pretty(t)+", expected "+i.pretty(e)+")")}},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e);var r=this.reader.readString(4)===t;return this.reader.setIndex(n),r},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=s.uint8array?"uint8array":"array",n=i.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,r=this.zip64EndOfCentralSize-44;0<r;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(e=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var r=t-n;if(r>0)this.isSignature(t,o.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(r<0)throw new Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")},prepareReader:function(e){this.reader=r(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=l},39392:(e,t,n)=>{"use strict";var r=n(78435),i=n(58910),o=n(37326),a=n(86988),s=n(83600),l=n(61678),u=n(53790);function c(e,t){this.options=e,this.loadOptions=t}c.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in l)if(l.hasOwnProperty(t)&&l[t].magic===e)return l[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+i.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===e&&(this.dosPermissions=63&this.externalFileAttributes),3===e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(e){if(this.extraFields[1]){var t=r(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(e){var t,n,r,i=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index<i;)t=e.readInt(2),n=e.readInt(2),r=e.readData(n),this.extraFields[t]={id:t,length:n,value:r}},handleUTF8:function(){var e=u.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var n=i.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var r=this.findExtraFieldUnicodeComment();if(null!==r)this.fileCommentStr=r;else{var o=i.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(o)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=r(e.value);return 1!==t.readInt(1)||a(this.fileName)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=r(e.value);return 1!==t.readInt(1)||a(this.fileComment)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null}},e.exports=c},46859:(e,t,n)=>{"use strict";var r=n(11285),i=n(5301),o=n(83600),a=n(37326),s=n(43718),l=function(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}};l.prototype={internalStream:function(e){var t=null,n="string";try{if(!e)throw new Error("No output type specified.");var i="string"===(n=e.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),t=this._decompressWorker();var a=!this._dataBinary;a&&!i&&(t=t.pipe(new o.Utf8EncodeWorker)),!a&&i&&(t=t.pipe(new o.Utf8DecodeWorker))}catch(e){(t=new s("error")).error(e)}return new r(t,n,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof a&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new o.Utf8EncodeWorker)),a.createWorkerFrom(n,e,t)},_decompressWorker:function(){return this._data instanceof a?this._data.getContentWorker():this._data instanceof s?this._data:new i(this._data)}};for(var u=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],c=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},f=0;f<u.length;f++)l.prototype[u[f]]=c;e.exports=l},47326:(e,t,n)=>{n(39080),e.exports=n(23998).setImmediate},90336:e=>{e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},34626:(e,t,n)=>{var r=n(1538);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},91265:e=>{var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},23998:e=>{var t=e.exports={version:"2.3.0"};"number"==typeof __e&&(__e=t)},68104:(e,t,n)=>{var r=n(90336);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},29262:(e,t,n)=>{e.exports=!n(96286)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},75354:(e,t,n)=>{var r=n(1538),i=n(14867).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},18017:(e,t,n)=>{var r=n(14867),i=n(23998),o=n(68104),a=n(601),s=function(e,t,n){var l,u,c,f=e&s.F,d=e&s.G,p=e&s.S,h=e&s.P,g=e&s.B,m=e&s.W,y=d?i:i[t]||(i[t]={}),v=y.prototype,b=d?r:p?r[t]:(r[t]||{}).prototype;for(l in d&&(n=t),n)(u=!f&&b&&void 0!==b[l])&&l in y||(c=u?b[l]:n[l],y[l]=d&&"function"!=typeof b[l]?n[l]:g&&u?o(c,r):m&&b[l]==c?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(c):h&&"function"==typeof c?o(Function.call,c):c,h&&((y.virtual||(y.virtual={}))[l]=c,e&s.R&&v&&!v[l]&&a(v,l,c)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,e.exports=s},96286:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},14867:e=>{var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},601:(e,t,n)=>{var r=n(59028),i=n(39732);e.exports=n(29262)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},32660:(e,t,n)=>{e.exports=n(14867).document&&document.documentElement},41297:(e,t,n)=>{e.exports=!n(29262)&&!n(96286)((function(){return 7!=Object.defineProperty(n(75354)("div"),"a",{get:function(){return 7}}).a}))},69062:e=>{e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},1538:e=>{e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},59028:(e,t,n)=>{var r=n(34626),i=n(41297),o=n(75652),a=Object.defineProperty;t.f=n(29262)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},39732:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},914:(e,t,n)=>{var r,i,o,a=n(68104),s=n(69062),l=n(32660),u=n(75354),c=n(14867),f=c.process,d=c.setImmediate,p=c.clearImmediate,h=c.MessageChannel,g=0,m={},y=function(){var e=+this;if(m.hasOwnProperty(e)){var t=m[e];delete m[e],t()}},v=function(e){y.call(e.data)};d&&p||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return m[++g]=function(){s("function"==typeof e?e:Function(e),t)},r(g),g},p=function(e){delete m[e]},"process"==n(91265)(f)?r=function(e){f.nextTick(a(y,e,1))}:h?(o=(i=new h).port2,i.port1.onmessage=v,r=a(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(r=function(e){c.postMessage(e+"","*")},c.addEventListener("message",v,!1)):r="onreadystatechange"in u("script")?function(e){l.appendChild(u("script")).onreadystatechange=function(){l.removeChild(this),y.call(e)}}:function(e){setTimeout(a(y,e,1),0)}),e.exports={set:d,clear:p}},75652:(e,t,n)=>{var r=n(1538);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},39080:(e,t,n)=>{var r=n(18017),i=n(914);r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},61883:(e,t,n)=>{"use strict";var r=n(25705);function i(){}var o={},a=["REJECTED"],s=["FULFILLED"],l=["PENDING"];function u(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==i&&p(this,e)}function c(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function f(e,t,n){r((function(){var r;try{r=t(n)}catch(t){return o.reject(e,t)}r===e?o.reject(e,new TypeError("Cannot resolve promise with itself")):o.resolve(e,r)}))}function d(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function p(e,t){var n=!1;function r(t){n||(n=!0,o.reject(e,t))}function i(t){n||(n=!0,o.resolve(e,t))}var a=h((function(){t(i,r)}));"error"===a.status&&r(a.value)}function h(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}e.exports=u,u.prototype.catch=function(e){return this.then(null,e)},u.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===a)return this;var n=new this.constructor(i);return this.state!==l?f(n,this.state===s?e:t,this.outcome):this.queue.push(new c(n,e,t)),n},c.prototype.callFulfilled=function(e){o.resolve(this.promise,e)},c.prototype.otherCallFulfilled=function(e){f(this.promise,this.onFulfilled,e)},c.prototype.callRejected=function(e){o.reject(this.promise,e)},c.prototype.otherCallRejected=function(e){f(this.promise,this.onRejected,e)},o.resolve=function(e,t){var n=h(d,t);if("error"===n.status)return o.reject(e,n.value);var r=n.value;if(r)p(e,r);else{e.state=s,e.outcome=t;for(var i=-1,a=e.queue.length;++i<a;)e.queue[i].callFulfilled(t)}return e},o.reject=function(e,t){e.state=a,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},u.resolve=function(e){return e instanceof this?e:o.resolve(new this(i),e)},u.reject=function(e){var t=new this(i);return o.reject(t,e)},u.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var a=new Array(n),s=0,l=-1,u=new this(i);++l<n;)c(e[l],l);return u;function c(e,i){t.resolve(e).then((function(e){a[i]=e,++s!==n||r||(r=!0,o.resolve(u,a))}),(function(e){r||(r=!0,o.reject(u,e))}))}},u.race=function(e){if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var t=e.length,n=!1;if(!t)return this.resolve([]);for(var r,a=-1,s=new this(i);++a<t;)r=e[a],this.resolve(r).then((function(e){n||(n=!0,o.resolve(s,e))}),(function(e){n||(n=!0,o.reject(s,e))}));return s}},43389:(e,t,n)=>{"use strict";var r=n(25705);function i(){}var o={},a=["REJECTED"],s=["FULFILLED"],l=["PENDING"];function u(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==i&&p(this,e)}function c(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function f(e,t,n){r((function(){var r;try{r=t(n)}catch(t){return o.reject(e,t)}r===e?o.reject(e,new TypeError("Cannot resolve promise with itself")):o.resolve(e,r)}))}function d(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function p(e,t){var n=!1;function r(t){n||(n=!0,o.reject(e,t))}function i(t){n||(n=!0,o.resolve(e,t))}var a=h((function(){t(i,r)}));"error"===a.status&&r(a.value)}function h(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}e.exports=u,u.prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){throw n}))}))},u.prototype.catch=function(e){return this.then(null,e)},u.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===a)return this;var n=new this.constructor(i);return this.state!==l?f(n,this.state===s?e:t,this.outcome):this.queue.push(new c(n,e,t)),n},c.prototype.callFulfilled=function(e){o.resolve(this.promise,e)},c.prototype.otherCallFulfilled=function(e){f(this.promise,this.onFulfilled,e)},c.prototype.callRejected=function(e){o.reject(this.promise,e)},c.prototype.otherCallRejected=function(e){f(this.promise,this.onRejected,e)},o.resolve=function(e,t){var n=h(d,t);if("error"===n.status)return o.reject(e,n.value);var r=n.value;if(r)p(e,r);else{e.state=s,e.outcome=t;for(var i=-1,a=e.queue.length;++i<a;)e.queue[i].callFulfilled(t)}return e},o.reject=function(e,t){e.state=a,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},u.resolve=function(e){return e instanceof this?e:o.resolve(new this(i),e)},u.reject=function(e){var t=new this(i);return o.reject(t,e)},u.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var a=new Array(n),s=0,l=-1,u=new this(i);++l<n;)c(e[l],l);return u;function c(e,i){t.resolve(e).then((function(e){a[i]=e,++s!==n||r||(r=!0,o.resolve(u,a))}),(function(e){r||(r=!0,o.reject(u,e))}))}},u.race=function(e){if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var t=e.length,n=!1;if(!t)return this.resolve([]);for(var r,a=-1,s=new this(i);++a<t;)r=e[a],this.resolve(r).then((function(e){n||(n=!0,o.resolve(s,e))}),(function(e){n||(n=!0,o.reject(s,e))}));return s}},72307:(e,t,n)=>{e=n.nmd(e);var r="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",a="[object Array]",s="[object Boolean]",l="[object Date]",u="[object Error]",c="[object Function]",f="[object Map]",d="[object Number]",p="[object Object]",h="[object Promise]",g="[object RegExp]",m="[object Set]",y="[object String]",v="[object WeakMap]",b="[object ArrayBuffer]",x="[object DataView]",_=/^\[object .+?Constructor\]$/,w=/^(?:0|[1-9]\d*)$/,k={};k["[object Float32Array]"]=k["[object Float64Array]"]=k["[object Int8Array]"]=k["[object Int16Array]"]=k["[object Int32Array]"]=k["[object Uint8Array]"]=k["[object Uint8ClampedArray]"]=k["[object Uint16Array]"]=k["[object Uint32Array]"]=!0,k[o]=k[a]=k[b]=k[s]=k[x]=k[l]=k[u]=k[c]=k[f]=k[d]=k[p]=k[g]=k[m]=k[y]=k[v]=!1;var T="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,C="object"==typeof self&&self&&self.Object===Object&&self,O=T||C||Function("return this")(),S=t&&!t.nodeType&&t,A=S&&e&&!e.nodeType&&e,M=A&&A.exports===S,E=M&&T.process,P=function(){try{return E&&E.binding&&E.binding("util")}catch(e){}}(),D=P&&P.isTypedArray;function L(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function R(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function I(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var N,j,z,q=Array.prototype,F=Function.prototype,B=Object.prototype,H=O["__core-js_shared__"],U=F.toString,V=B.hasOwnProperty,W=(N=/[^.]+$/.exec(H&&H.keys&&H.keys.IE_PROTO||""))?"Symbol(src)_1."+N:"",G=B.toString,K=RegExp("^"+U.call(V).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Y=M?O.Buffer:void 0,Z=O.Symbol,X=O.Uint8Array,$=B.propertyIsEnumerable,J=q.splice,Q=Z?Z.toStringTag:void 0,ee=Object.getOwnPropertySymbols,te=Y?Y.isBuffer:void 0,ne=(j=Object.keys,z=Object,function(e){return j(z(e))}),re=Ae(O,"DataView"),ie=Ae(O,"Map"),oe=Ae(O,"Promise"),ae=Ae(O,"Set"),se=Ae(O,"WeakMap"),le=Ae(Object,"create"),ue=De(re),ce=De(ie),fe=De(oe),de=De(ae),pe=De(se),he=Z?Z.prototype:void 0,ge=he?he.valueOf:void 0;function me(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ye(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ve(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function be(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new ve;++t<n;)this.add(e[t])}function xe(e){var t=this.__data__=new ye(e);this.size=t.size}function _e(e,t){for(var n=e.length;n--;)if(Le(e[n][0],t))return n;return-1}function we(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Q&&Q in Object(e)?function(e){var t=V.call(e,Q),n=e[Q];try{e[Q]=void 0;var r=!0}catch(e){}var i=G.call(e);return r&&(t?e[Q]=n:delete e[Q]),i}(e):function(e){return G.call(e)}(e)}function ke(e){return Fe(e)&&we(e)==o}function Te(e,t,n,r,i){return e===t||(null==e||null==t||!Fe(e)&&!Fe(t)?e!=e&&t!=t:function(e,t,n,r,i,c){var h=Ie(e),v=Ie(t),_=h?a:Ee(e),w=v?a:Ee(t),k=(_=_==o?p:_)==p,T=(w=w==o?p:w)==p,C=_==w;if(C&&Ne(e)){if(!Ne(t))return!1;h=!0,k=!1}if(C&&!k)return c||(c=new xe),h||Be(e)?Ce(e,t,n,r,i,c):function(e,t,n,r,i,o,a){switch(n){case x:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case b:return!(e.byteLength!=t.byteLength||!o(new X(e),new X(t)));case s:case l:case d:return Le(+e,+t);case u:return e.name==t.name&&e.message==t.message;case g:case y:return e==t+"";case f:var c=R;case m:var p=1&r;if(c||(c=I),e.size!=t.size&&!p)return!1;var h=a.get(e);if(h)return h==t;r|=2,a.set(e,t);var v=Ce(c(e),c(t),r,i,o,a);return a.delete(e),v;case"[object Symbol]":if(ge)return ge.call(e)==ge.call(t)}return!1}(e,t,_,n,r,i,c);if(!(1&n)){var O=k&&V.call(e,"__wrapped__"),S=T&&V.call(t,"__wrapped__");if(O||S){var A=O?e.value():e,M=S?t.value():t;return c||(c=new xe),i(A,M,n,r,c)}}return!!C&&(c||(c=new xe),function(e,t,n,r,i,o){var a=1&n,s=Oe(e),l=s.length;if(l!=Oe(t).length&&!a)return!1;for(var u=l;u--;){var c=s[u];if(!(a?c in t:V.call(t,c)))return!1}var f=o.get(e);if(f&&o.get(t))return f==t;var d=!0;o.set(e,t),o.set(t,e);for(var p=a;++u<l;){var h=e[c=s[u]],g=t[c];if(r)var m=a?r(g,h,c,t,e,o):r(h,g,c,e,t,o);if(!(void 0===m?h===g||i(h,g,n,r,o):m)){d=!1;break}p||(p="constructor"==c)}if(d&&!p){var y=e.constructor,v=t.constructor;y==v||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof v&&v instanceof v||(d=!1)}return o.delete(e),o.delete(t),d}(e,t,n,r,i,c))}(e,t,n,r,Te,i))}function Ce(e,t,n,r,i,o){var a=1&n,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(e);if(u&&o.get(t))return u==t;var c=-1,f=!0,d=2&n?new be:void 0;for(o.set(e,t),o.set(t,e);++c<s;){var p=e[c],h=t[c];if(r)var g=a?r(h,p,c,t,e,o):r(p,h,c,e,t,o);if(void 0!==g){if(g)continue;f=!1;break}if(d){if(!L(t,(function(e,t){if(a=t,!d.has(a)&&(p===e||i(p,e,n,r,o)))return d.push(t);var a}))){f=!1;break}}else if(p!==h&&!i(p,h,n,r,o)){f=!1;break}}return o.delete(e),o.delete(t),f}function Oe(e){return function(e,t,n){var r=t(e);return Ie(e)?r:function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}(r,n(e))}(e,He,Me)}function Se(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function Ae(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!qe(e)||function(e){return!!W&&W in e}(e))&&(je(e)?K:_).test(De(e))}(n)?n:void 0}me.prototype.clear=function(){this.__data__=le?le(null):{},this.size=0},me.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},me.prototype.get=function(e){var t=this.__data__;if(le){var n=t[e];return n===r?void 0:n}return V.call(t,e)?t[e]:void 0},me.prototype.has=function(e){var t=this.__data__;return le?void 0!==t[e]:V.call(t,e)},me.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=le&&void 0===t?r:t,this},ye.prototype.clear=function(){this.__data__=[],this.size=0},ye.prototype.delete=function(e){var t=this.__data__,n=_e(t,e);return!(n<0||(n==t.length-1?t.pop():J.call(t,n,1),--this.size,0))},ye.prototype.get=function(e){var t=this.__data__,n=_e(t,e);return n<0?void 0:t[n][1]},ye.prototype.has=function(e){return _e(this.__data__,e)>-1},ye.prototype.set=function(e,t){var n=this.__data__,r=_e(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},ve.prototype.clear=function(){this.size=0,this.__data__={hash:new me,map:new(ie||ye),string:new me}},ve.prototype.delete=function(e){var t=Se(this,e).delete(e);return this.size-=t?1:0,t},ve.prototype.get=function(e){return Se(this,e).get(e)},ve.prototype.has=function(e){return Se(this,e).has(e)},ve.prototype.set=function(e,t){var n=Se(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},be.prototype.add=be.prototype.push=function(e){return this.__data__.set(e,r),this},be.prototype.has=function(e){return this.__data__.has(e)},xe.prototype.clear=function(){this.__data__=new ye,this.size=0},xe.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},xe.prototype.get=function(e){return this.__data__.get(e)},xe.prototype.has=function(e){return this.__data__.has(e)},xe.prototype.set=function(e,t){var n=this.__data__;if(n instanceof ye){var r=n.__data__;if(!ie||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ve(r)}return n.set(e,t),this.size=n.size,this};var Me=ee?function(e){return null==e?[]:(e=Object(e),function(t,n){for(var r=-1,i=null==t?0:t.length,o=0,a=[];++r<i;){var s=t[r];l=s,$.call(e,l)&&(a[o++]=s)}var l;return a}(ee(e)))}:function(){return[]},Ee=we;function Pe(e,t){return!!(t=null==t?i:t)&&("number"==typeof e||w.test(e))&&e>-1&&e%1==0&&e<t}function De(e){if(null!=e){try{return U.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Le(e,t){return e===t||e!=e&&t!=t}(re&&Ee(new re(new ArrayBuffer(1)))!=x||ie&&Ee(new ie)!=f||oe&&Ee(oe.resolve())!=h||ae&&Ee(new ae)!=m||se&&Ee(new se)!=v)&&(Ee=function(e){var t=we(e),n=t==p?e.constructor:void 0,r=n?De(n):"";if(r)switch(r){case ue:return x;case ce:return f;case fe:return h;case de:return m;case pe:return v}return t});var Re=ke(function(){return arguments}())?ke:function(e){return Fe(e)&&V.call(e,"callee")&&!$.call(e,"callee")},Ie=Array.isArray,Ne=te||function(){return!1};function je(e){if(!qe(e))return!1;var t=we(e);return t==c||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function ze(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}function qe(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Fe(e){return null!=e&&"object"==typeof e}var Be=D?function(e){return function(t){return e(t)}}(D):function(e){return Fe(e)&&ze(e.length)&&!!k[we(e)]};function He(e){return null!=(t=e)&&ze(t.length)&&!je(t)?function(e,t){var n=Ie(e),r=!n&&Re(e),i=!n&&!r&&Ne(e),o=!n&&!r&&!i&&Be(e),a=n||r||i||o,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],l=s.length;for(var u in e)!t&&!V.call(e,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Pe(u,l))||s.push(u);return s}(e):function(e){if(n=(t=e)&&t.constructor,t!==("function"==typeof n&&n.prototype||B))return ne(e);var t,n,r=[];for(var i in Object(e))V.call(e,i)&&"constructor"!=i&&r.push(i);return r}(e);var t}e.exports=function(e,t){return Te(e,t)}},5387:e=>{!function(){function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function n(){return 1}e.exports?e.exports=o:this.LRUCache=o;var r=!1;function i(e){r||"string"==typeof e||"number"==typeof e||(r=!0,console.error(new TypeError("LRU: key must be a string or number. Almost certainly a bug! "+typeof e).stack))}function o(e){if(!(this instanceof o))return new o(e);"number"==typeof e&&(e={max:e}),e||(e={}),this._max=e.max,(!this._max||"number"!=typeof this._max||this._max<=0)&&(this._max=1/0),this._lengthCalculator=e.length||n,"function"!=typeof this._lengthCalculator&&(this._lengthCalculator=n),this._allowStale=e.stale||!1,this._maxAge=e.maxAge||null,this._dispose=e.dispose,this.reset()}function a(e,t,n){i(t);var r=e._cache[t];return r&&(s(e,r)?(c(e,r),e._allowStale||(r=void 0)):n&&function(e,t){u(e,t),t.lu=e._mru++,e._lruList[t.lu]=t}(e,r),r&&(r=r.value)),r}function s(e,t){if(!t||!t.maxAge&&!e._maxAge)return!1;var n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e._maxAge&&n>e._maxAge}function l(e){for(;e._lru<e._mru&&e._length>e._max;)c(e,e._lruList[e._lru])}function u(e,t){for(delete e._lruList[t.lu];e._lru<e._mru&&!e._lruList[e._lru];)e._lru++}function c(e,t){t&&(e._dispose&&e._dispose(t.key,t.value),e._length-=t.length,e._itemCount--,delete e._cache[t.key],u(e,t))}function f(e,t,n,r,i,o){this.key=e,this.value=t,this.lu=n,this.length=r,this.now=i,o&&(this.maxAge=o)}Object.defineProperty(o.prototype,"max",{set:function(e){(!e||"number"!=typeof e||e<=0)&&(e=1/0),this._max=e,this._length>this._max&&l(this)},get:function(){return this._max},enumerable:!0}),Object.defineProperty(o.prototype,"lengthCalculator",{set:function(e){if("function"!=typeof e)for(var t in this._lengthCalculator=n,this._length=this._itemCount,this._cache)this._cache[t].length=1;else for(var t in this._lengthCalculator=e,this._length=0,this._cache)this._cache[t].length=this._lengthCalculator(this._cache[t].value),this._length+=this._cache[t].length;this._length>this._max&&l(this)},get:function(){return this._lengthCalculator},enumerable:!0}),Object.defineProperty(o.prototype,"length",{get:function(){return this._length},enumerable:!0}),Object.defineProperty(o.prototype,"itemCount",{get:function(){return this._itemCount},enumerable:!0}),o.prototype.forEach=function(e,t){t=t||this;for(var n=0,r=this._itemCount,i=this._mru-1;i>=0&&n<r;i--)if(this._lruList[i]){n++;var o=this._lruList[i];s(this,o)&&(c(this,o),this._allowStale||(o=void 0)),o&&e.call(t,o.value,o.key,this)}},o.prototype.keys=function(){for(var e=new Array(this._itemCount),t=0,n=this._mru-1;n>=0&&t<this._itemCount;n--)if(this._lruList[n]){var r=this._lruList[n];e[t++]=r.key}return e},o.prototype.values=function(){for(var e=new Array(this._itemCount),t=0,n=this._mru-1;n>=0&&t<this._itemCount;n--)if(this._lruList[n]){var r=this._lruList[n];e[t++]=r.value}return e},o.prototype.reset=function(){if(this._dispose&&this._cache)for(var e in this._cache)this._dispose(e,this._cache[e].value);this._cache=Object.create(null),this._lruList=Object.create(null),this._mru=0,this._lru=0,this._length=0,this._itemCount=0},o.prototype.dump=function(){for(var e=[],t=0,n=this._mru-1;n>=0&&t<this._itemCount;n--)if(this._lruList[n]){var r=this._lruList[n];s(this,r)||(++t,e.push({k:r.key,v:r.value,e:r.now+(r.maxAge||0)}))}return e},o.prototype.dumpLru=function(){return this._lruList},o.prototype.set=function(e,n,r){r=r||this._maxAge,i(e);var o=r?Date.now():0,a=this._lengthCalculator(n);if(t(this._cache,e))return a>this._max?(c(this,this._cache[e]),!1):(this._dispose&&this._dispose(e,this._cache[e].value),this._cache[e].now=o,this._cache[e].maxAge=r,this._cache[e].value=n,this._length+=a-this._cache[e].length,this._cache[e].length=a,this.get(e),this._length>this._max&&l(this),!0);var s=new f(e,n,this._mru++,a,o,r);return s.length>this._max?(this._dispose&&this._dispose(e,n),!1):(this._length+=s.length,this._lruList[s.lu]=this._cache[e]=s,this._itemCount++,this._length>this._max&&l(this),!0)},o.prototype.has=function(e){return i(e),!!t(this._cache,e)&&!s(this,this._cache[e])},o.prototype.get=function(e){return i(e),a(this,e,!0)},o.prototype.peek=function(e){return i(e),a(this,e,!1)},o.prototype.pop=function(){var e=this._lruList[this._lru];return c(this,e),e||null},o.prototype.del=function(e){i(e),c(this,this._cache[e])},o.prototype.load=function(e){this.reset();for(var t=Date.now(),n=e.length-1;n>=0;n--){var r=e[n];i(r.k);var o=r.e||0;if(0===o)this.set(r.k,r.v);else{var a=o-t;a>0&&this.set(r.k,r.v,a)}}}}()},22087:(e,t,n)=>{var r=n(28361);r.prototype.formulaEval=function(){"use strict";for(var e,t,n,r=[],i=this.value,o=0;o<i.length;o++)1===i[o].type||3===i[o].type?r.push({value:3===i[o].type?i[o].show:i[o].value,type:1}):13===i[o].type?r.push({value:i[o].show,type:1}):0===i[o].type?r[r.length-1]={value:i[o].show+("-"!=i[o].show?"(":"")+r[r.length-1].value+("-"!=i[o].show?")":""),type:0}:7===i[o].type?r[r.length-1]={value:(1!=r[r.length-1].type?"(":"")+r[r.length-1].value+(1!=r[r.length-1].type?")":"")+i[o].show,type:7}:10===i[o].type?(e=r.pop(),t=r.pop(),"P"===i[o].show||"C"===i[o].show?r.push({value:"<sup>"+t.value+"</sup>"+i[o].show+"<sub>"+e.value+"</sub>",type:10}):r.push({value:(1!=t.type?"(":"")+t.value+(1!=t.type?")":"")+"<sup>"+e.value+"</sup>",type:1})):2===i[o].type||9===i[o].type?(e=r.pop(),t=r.pop(),r.push({value:(1!=t.type?"(":"")+t.value+(1!=t.type?")":"")+i[o].show+(1!=e.type?"(":"")+e.value+(1!=e.type?")":""),type:i[o].type})):12===i[o].type&&(e=r.pop(),t=r.pop(),n=r.pop(),r.push({value:i[o].show+"("+n.value+","+t.value+","+e.value+")",type:12}));return r[0].value},e.exports=r},17735:(e,t,n)=>{"use strict";var r=n(93553);function i(e,t){for(var n=0;n<e.length;n++)e[n]+=t;return e}var o=["sin","cos","tan","pi","(",")","P","C"," ","asin","acos","atan","7","8","9","int","cosh","acosh","ln","^","root","4","5","6","/","!","tanh","atanh","Mod","1","2","3","*","sinh","asinh","e","log","0",".","+","-",",","Sigma","n","Pi","pow"],a=["sin","cos","tan","&pi;","(",")","P","C"," ","asin","acos","atan","7","8","9","Int","cosh","acosh"," ln","^","root","4","5","6","&divide;","!","tanh","atanh"," Mod ","1","2","3","&times;","sinh","asinh","e"," log","0",".","+","-",",","&Sigma;","n","&Pi;","pow"],s=[r.math.sin,r.math.cos,r.math.tan,"PI","(",")",r.math.P,r.math.C," ".anchor,r.math.asin,r.math.acos,r.math.atan,"7","8","9",Math.floor,r.math.cosh,r.math.acosh,Math.log,Math.pow,Math.sqrt,"4","5","6",r.math.div,r.math.fact,r.math.tanh,r.math.atanh,r.math.mod,"1","2","3",r.math.mul,r.math.sinh,r.math.asinh,"E",r.math.log,"0",".",r.math.add,r.math.sub,",",r.math.sigma,"n",r.math.Pi,Math.pow],l={0:11,1:0,2:3,3:0,4:0,5:0,6:0,7:11,8:11,9:1,10:10,11:0,12:11,13:0,14:-1},u=[0,0,0,3,4,5,10,10,14,0,0,0,1,1,1,0,0,0,0,10,0,1,1,1,2,7,0,0,2,1,1,1,2,0,0,3,0,1,6,9,9,11,12,13,12,8],c={0:!0,1:!0,3:!0,4:!0,6:!0,8:!0,9:!0,12:!0,13:!0,14:!0},f={0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!0,8:!0,9:!0,10:!0,11:!0,12:!0,13:!0},d={0:!0,3:!0,4:!0,8:!0,12:!0,13:!0},p={},h={0:!0,1:!0,3:!0,4:!0,6:!0,8:!0,12:!0,13:!0},g={1:!0},m=[[],["1","2","3","7","8","9","4","5","6","+","-","*","/","(",")","^","!","P","C","e","0",".",",","n"," "],["pi","ln","Pi"],["sin","cos","tan","Del","int","Mod","log","pow"],["asin","acos","atan","cosh","root","tanh","sinh"],["acosh","atanh","asinh","Sigma"]];function y(e,t,n,r){for(var i=0;i<r;i++)if(e[n+i]!==t[i])return!1;return!0}r.addToken=function(e){for(var t=0;t<e.length;t++){var n=e[t].token.length,r=-1;m[n]=m[n]||[];for(var i=0;i<m[n].length;i++)if(e[t].token===m[n][i]){r=o.indexOf(m[n][i]);break}-1===r?(o.push(e[t].token),u.push(e[t].type),m.length<=e[t].token.length&&(m[e[t].token.length]=[]),m[e[t].token.length].push(e[t].token),s.push(e[t].value),a.push(e[t].show)):(o[r]=e[t].token,u[r]=e[t].type,s[r]=e[t].value,a[r]=e[t].show)}},r.lex=function(e,t){var n,v={value:r.math.changeSign,type:0,pre:21,show:"-"},b={value:")",show:")",type:5,pre:0},x={value:"(",type:4,pre:0,show:"("},_=[x],w=[],k=e,T=c,C=0,O=p,S="";void 0!==t&&r.addToken(t);var A={},M=function(e){for(var t,n,i,c=[],f=e.length,d=0;d<f;d++)if(!(d<f-1&&" "===e[d]&&" "===e[d+1])){for(t="",n=e.length-d>m.length-2?m.length-1:e.length-d;n>0;n--)if(void 0!==m[n])for(i=0;i<m[n].length;i++)y(e,m[n][i],d,n)&&(t=m[n][i],i=m[n].length,n=0);if(d+=t.length-1,""===t)throw new r.Exception("Can't understand after "+e.slice(d));var p=o.indexOf(t);c.push({index:p,token:t,type:u[p],eval:s[p],precedence:l[u[p]],show:a[p]})}return c}(k);for(n=0;n<M.length;n++){var E=M[n];if(14!==E.type){E.index;var P,D=E.token,L=E.type,R=E.eval,I=E.precedence,N=E.show,j=_[_.length-1];for(P=w.length;P--&&0===w[P];)if(-1!==[0,2,3,4,5,9,11,12,13].indexOf(L)){if(!0!==T[L])throw console.log(e,E,M,T),new r.Exception(D+" is not allowed after "+S);_.push(b),T=f,O=h,i(w,-1).pop()}if(!0!==T[L])throw new r.Exception(D+" is not allowed after "+S);if(!0===O[L]&&(L=2,R=r.math.mul,N="&times;",I=3,n-=D.length),A={value:R,type:L,pre:I,show:N},0===L)T=c,O=p,i(w,2).push(2),_.push(A),_.push(x);else if(1===L)1===j.type?(j.value+=R,i(w,1)):_.push(A),T=f,O=d;else if(2===L)T=c,O=p,i(w,2),_.push(A);else if(3===L)_.push(A),T=f,O=h;else if(4===L)i(w,1),C++,T=c,O=p,_.push(A);else if(5===L){if(!C)throw new r.Exception("Closing parenthesis are more than opening one, wait What!!!");C--,T=f,O=h,_.push(A),i(w,1)}else if(6===L){if(j.hasDec)throw new r.Exception("Two decimals are not allowed in one number");1!==j.type&&(j={value:0,type:1,pre:0},_.push(j),i(w,-1)),T=g,i(w,1),O=p,j.value+=R,j.hasDec=!0}else 7===L&&(T=f,O=h,i(w,1),_.push(A));8===L?(T=c,O=p,i(w,4).push(4),_.push(A),_.push(x)):9===L?(9===j.type?j.value===r.math.add?(j.value=R,j.show=N,i(w,1)):j.value===r.math.sub&&"-"===N&&(j.value=r.math.add,j.show="+",i(w,1)):5!==j.type&&7!==j.type&&1!==j.type&&3!==j.type&&13!==j.type?"-"===D&&(T=c,O=p,i(w,2).push(2),_.push(v),_.push(x)):(_.push(A),i(w,2)),T=c,O=p):10===L?(T=c,O=p,i(w,2),_.push(A)):11===L?(T=c,O=p,_.push(A)):12===L?(T=c,O=p,i(w,6).push(6),_.push(A),_.push(x)):13===L&&(T=f,O=h,_.push(A)),i(w,-1),S=D}else if(n>0&&n<M.length-1&&1===M[n+1].type&&(1===M[n-1].type||6===M[n-1].type))throw new r.Exception("Unexpected Space")}for(P=w.length;P--&&0===w[P];)_.push(b),i(w,-1).pop();if(!0!==T[5])throw new r.Exception("complete the expression");for(;C--;)_.push(b);return _.push(b),new r(_)},e.exports=r},93553:e=>{"use strict";var t=function(e){this.value=e};t.math={isDegree:!0,acos:function(e){return t.math.isDegree?180/Math.PI*Math.acos(e):Math.acos(e)},add:function(e,t){return e+t},asin:function(e){return t.math.isDegree?180/Math.PI*Math.asin(e):Math.asin(e)},atan:function(e){return t.math.isDegree?180/Math.PI*Math.atan(e):Math.atan(e)},acosh:function(e){return Math.log(e+Math.sqrt(e*e-1))},asinh:function(e){return Math.log(e+Math.sqrt(e*e+1))},atanh:function(e){return Math.log((1+e)/(1-e))},C:function(e,n){var r=1,i=e-n,o=n;o<i&&(o=i,i=n);for(var a=o+1;a<=e;a++)r*=a;return r/t.math.fact(i)},changeSign:function(e){return-e},cos:function(e){return t.math.isDegree&&(e=t.math.toRadian(e)),Math.cos(e)},cosh:function(e){return(Math.pow(Math.E,e)+Math.pow(Math.E,-1*e))/2},div:function(e,t){return e/t},fact:function(e){if(e%1!=0)return"NaN";for(var t=1,n=2;n<=e;n++)t*=n;return t},inverse:function(e){return 1/e},log:function(e){return Math.log(e)/Math.log(10)},mod:function(e,t){return e%t},mul:function(e,t){return e*t},P:function(e,t){for(var n=1,r=Math.floor(e)-Math.floor(t)+1;r<=Math.floor(e);r++)n*=r;return n},Pi:function(e,t,n){for(var r=1,i=e;i<=t;i++)r*=Number(n.postfixEval({n:i}));return r},pow10x:function(e){for(var t=1;e--;)t*=10;return t},sigma:function(e,t,n){for(var r=0,i=e;i<=t;i++)r+=Number(n.postfixEval({n:i}));return r},sin:function(e){return t.math.isDegree&&(e=t.math.toRadian(e)),Math.sin(e)},sinh:function(e){return(Math.pow(Math.E,e)-Math.pow(Math.E,-1*e))/2},sub:function(e,t){return e-t},tan:function(e){return t.math.isDegree&&(e=t.math.toRadian(e)),Math.tan(e)},tanh:function(e){return t.sinha(e)/t.cosha(e)},toRadian:function(e){return e*Math.PI/180}},t.Exception=function(e){this.message=e},e.exports=t},27186:(e,t,n)=>{var r=n(17735);r.prototype.toPostfix=function(){"use strict";for(var e,t,n,i,o,a=[],s=[{value:"(",type:4,pre:0}],l=this.value,u=1;u<l.length;u++)if(1===l[u].type||3===l[u].type||13===l[u].type)1===l[u].type&&(l[u].value=Number(l[u].value)),a.push(l[u]);else if(4===l[u].type)s.push(l[u]);else if(5===l[u].type)for(;4!==(t=s.pop()).type;)a.push(t);else if(11===l[u].type){for(;4!==(t=s.pop()).type;)a.push(t);s.push(t)}else{i=(e=l[u]).pre,n=(o=s[s.length-1]).pre;var c="Math.pow"==o.value&&"Math.pow"==e.value;if(i>n)s.push(e);else{for(;n>=i&&!c||c&&i<n;)t=s.pop(),o=s[s.length-1],a.push(t),n=o.pre,c="Math.pow"==e.value&&"Math.pow"==o.value;s.push(e)}}return new r(a)},e.exports=r},28361:(e,t,n)=>{var r=n(27186);r.prototype.postfixEval=function(e){"use strict";(e=e||{}).PI=Math.PI,e.E=Math.E;for(var t,n,i,o=[],a=this.value,s=void 0!==e.n,l=0;l<a.length;l++)1===a[l].type?o.push({value:a[l].value,type:1}):3===a[l].type?o.push({value:e[a[l].value],type:1}):0===a[l].type||7===a[l].type?void 0===o[o.length-1].type?o[o.length-1].value.push(a[l]):o[o.length-1].value=a[l].value(o[o.length-1].value):8===a[l].type?(t=o.pop(),n=o.pop(),o.push({type:1,value:a[l].value(n.value,t.value)})):10===a[l].type?(t=o.pop(),void 0===(n=o.pop()).type?(n.value=n.concat(t),n.value.push(a[l]),o.push(n)):void 0===t.type?(t.unshift(n),t.push(a[l]),o.push(t)):o.push({type:1,value:a[l].value(n.value,t.value)})):2===a[l].type||9===a[l].type?(t=o.pop(),void 0===(n=o.pop()).type?((n=n.concat(t)).push(a[l]),o.push(n)):void 0===t.type?(t.unshift(n),t.push(a[l]),o.push(t)):o.push({type:1,value:a[l].value(n.value,t.value)})):12===a[l].type?(void 0!==(t=o.pop()).type&&(t=[t]),n=o.pop(),i=o.pop(),o.push({type:1,value:a[l].value(i.value,n.value,new r(t))})):13===a[l].type&&(s?o.push({value:e[a[l].value],type:3}):o.push([a[l]]));if(o.length>1)throw new r.Exception("Uncaught Syntax error");return o[0].value>1e15?"Infinity":parseFloat(o[0].value.toFixed(15))},r.eval=function(e,t,n){return void 0===t?this.lex(e).toPostfix().postfixEval():void 0===n?void 0!==t.length?this.lex(e,t).toPostfix().postfixEval():this.lex(e).toPostfix().postfixEval(t):this.lex(e,t).toPostfix().postfixEval(n)},e.exports=r},70631:(e,t,n)=>{var r="function"==typeof Map&&Map.prototype,i=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,o=r&&i&&"function"==typeof i.get?i.get:null,a=r&&Map.prototype.forEach,s="function"==typeof Set&&Set.prototype,l=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,u=s&&l&&"function"==typeof l.get?l.get:null,c=s&&Set.prototype.forEach,f="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,d="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,p=Boolean.prototype.valueOf,h=Object.prototype.toString,g=Function.prototype.toString,m=String.prototype.match,y="function"==typeof BigInt?BigInt.prototype.valueOf:null,v=Object.getOwnPropertySymbols,b="function"==typeof Symbol?Symbol.prototype.toString:null,x=Object.prototype.propertyIsEnumerable,_=n(36631).custom,w=_&&O(_)?_:null;function k(e,t,n){var r="double"===(n.quoteStyle||t)?'"':"'";return r+e+r}function T(e){return String(e).replace(/"/g,"&quot;")}function C(e){return"[object Array]"===M(e)}function O(e){return"[object Symbol]"===M(e)}e.exports=function e(t,n,r,i){var s=n||{};if(A(s,"quoteStyle")&&"single"!==s.quoteStyle&&"double"!==s.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(A(s,"maxStringLength")&&("number"==typeof s.maxStringLength?s.maxStringLength<0&&s.maxStringLength!==1/0:null!==s.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var l=!A(s,"customInspect")||s.customInspect;if("boolean"!=typeof l)throw new TypeError('option "customInspect", if provided, must be `true` or `false`');if(A(s,"indent")&&null!==s.indent&&"\t"!==s.indent&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('options "indent" must be "\\t", an integer > 0, or `null`');if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return P(t,s);if("number"==typeof t)return 0===t?1/0/t>0?"0":"-0":String(t);if("bigint"==typeof t)return String(t)+"n";var h=void 0===s.depth?5:s.depth;if(void 0===r&&(r=0),r>=h&&h>0&&"object"==typeof t)return C(t)?"[Array]":"[Object]";var v,x=function(e,t){var n;if("\t"===e.indent)n="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;n=Array(e.indent+1).join(" ")}return{base:n,prev:Array(t+1).join(n)}}(s,r);if(void 0===i)i=[];else if(E(i,t)>=0)return"[Circular]";function _(t,n,o){if(n&&(i=i.slice()).push(n),o){var a={depth:s.depth};return A(s,"quoteStyle")&&(a.quoteStyle=s.quoteStyle),e(t,a,r+1,i)}return e(t,s,r+1,i)}if("function"==typeof t){var S=function(e){if(e.name)return e.name;var t=m.call(g.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}(t),D=j(t,_);return"[Function"+(S?": "+S:" (anonymous)")+"]"+(D.length>0?" { "+D.join(", ")+" }":"")}if(O(t)){var z=b.call(t);return"object"==typeof t?L(z):z}if((v=t)&&"object"==typeof v&&("undefined"!=typeof HTMLElement&&v instanceof HTMLElement||"string"==typeof v.nodeName&&"function"==typeof v.getAttribute)){for(var q="<"+String(t.nodeName).toLowerCase(),F=t.attributes||[],B=0;B<F.length;B++)q+=" "+F[B].name+"="+k(T(F[B].value),"double",s);return q+=">",t.childNodes&&t.childNodes.length&&(q+="..."),q+"</"+String(t.nodeName).toLowerCase()+">"}if(C(t)){if(0===t.length)return"[]";var H=j(t,_);return x&&!function(e){for(var t=0;t<e.length;t++)if(E(e[t],"\n")>=0)return!1;return!0}(H)?"["+N(H,x)+"]":"[ "+H.join(", ")+" ]"}if(function(e){return"[object Error]"===M(e)}(t)){var U=j(t,_);return 0===U.length?"["+String(t)+"]":"{ ["+String(t)+"] "+U.join(", ")+" }"}if("object"==typeof t&&l){if(w&&"function"==typeof t[w])return t[w]();if("function"==typeof t.inspect)return t.inspect()}if(function(e){if(!o||!e||"object"!=typeof e)return!1;try{o.call(e);try{u.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(t)){var V=[];return a.call(t,(function(e,n){V.push(_(n,t,!0)+" => "+_(e,t))})),I("Map",o.call(t),V,x)}if(function(e){if(!u||!e||"object"!=typeof e)return!1;try{u.call(e);try{o.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(t)){var W=[];return c.call(t,(function(e){W.push(_(e,t))})),I("Set",u.call(t),W,x)}if(function(e){if(!f||!e||"object"!=typeof e)return!1;try{f.call(e,f);try{d.call(e,d)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(t))return R("WeakMap");if(function(e){if(!d||!e||"object"!=typeof e)return!1;try{d.call(e,d);try{f.call(e,f)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(t))return R("WeakSet");if(function(e){return"[object Number]"===M(e)}(t))return L(_(Number(t)));if(function(e){return"[object BigInt]"===M(e)}(t))return L(_(y.call(t)));if(function(e){return"[object Boolean]"===M(e)}(t))return L(p.call(t));if(function(e){return"[object String]"===M(e)}(t))return L(_(String(t)));if(!function(e){return"[object Date]"===M(e)}(t)&&!function(e){return"[object RegExp]"===M(e)}(t)){var G=j(t,_);return 0===G.length?"{}":x?"{"+N(G,x)+"}":"{ "+G.join(", ")+" }"}return String(t)};var S=Object.prototype.hasOwnProperty||function(e){return e in this};function A(e,t){return S.call(e,t)}function M(e){return h.call(e)}function E(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function P(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return P(e.slice(0,t.maxStringLength),t)+r}return k(e.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,D),"single",t)}function D(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+t.toString(16).toUpperCase()}function L(e){return"Object("+e+")"}function R(e){return e+" { ? }"}function I(e,t,n,r){return e+" ("+t+") {"+(r?N(n,r):n.join(", "))+"}"}function N(e,t){if(0===e.length)return"";var n="\n"+t.prev+t.base;return n+e.join(","+n)+"\n"+t.prev}function j(e,t){var n=C(e),r=[];if(n){r.length=e.length;for(var i=0;i<e.length;i++)r[i]=A(e,i)?t(e[i],e):""}for(var o in e)A(e,o)&&(n&&String(Number(o))===o&&o<e.length||(/[^\w$]/.test(o)?r.push(t(o,e)+": "+t(e[o],e)):r.push(o+": "+t(e[o],e))));if("function"==typeof v)for(var a=v(e),s=0;s<a.length;s++)x.call(e,a[s])&&r.push("["+t(a[s])+"]: "+t(e[a[s]],e));return r}},99591:(e,t,n)=>{"use strict";var r={};(0,n(24236).assign)(r,n(24555),n(78843),n(71619)),e.exports=r},24555:(e,t,n)=>{"use strict";var r=n(30405),i=n(24236),o=n(29373),a=n(48898),s=n(62292),l=Object.prototype.toString;function u(e){if(!(this instanceof u))return new u(e);this.options=i.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==n)throw new Error(a[n]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var c;if(c="string"==typeof t.dictionary?o.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(n=r.deflateSetDictionary(this.strm,c)))throw new Error(a[n]);this._dict_set=!0}}function c(e,t){var n=new u(t);if(n.push(e,!0),n.err)throw n.msg||a[n.err];return n.result}u.prototype.push=function(e,t){var n,a,s=this.strm,u=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?4:0,"string"==typeof e?s.input=o.string2buf(e):"[object ArrayBuffer]"===l.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new i.Buf8(u),s.next_out=0,s.avail_out=u),1!==(n=r.deflate(s,a))&&0!==n)return this.onEnd(n),this.ended=!0,!1;0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(o.buf2binstring(i.shrinkBuf(s.output,s.next_out))):this.onData(i.shrinkBuf(s.output,s.next_out)))}while((s.avail_in>0||0===s.avail_out)&&1!==n);return 4===a?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==a||(this.onEnd(0),s.avail_out=0,!0)},u.prototype.onData=function(e){this.chunks.push(e)},u.prototype.onEnd=function(e){0===e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=u,t.deflate=c,t.deflateRaw=function(e,t){return(t=t||{}).raw=!0,c(e,t)},t.gzip=function(e,t){return(t=t||{}).gzip=!0,c(e,t)}},78843:(e,t,n)=>{"use strict";var r=n(27948),i=n(24236),o=n(29373),a=n(71619),s=n(48898),l=n(62292),u=n(42401),c=Object.prototype.toString;function f(e){if(!(this instanceof f))return new f(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,t.windowBits);if(n!==a.Z_OK)throw new Error(s[n]);if(this.header=new u,r.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=o.string2buf(t.dictionary):"[object ArrayBuffer]"===c.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=r.inflateSetDictionary(this.strm,t.dictionary))!==a.Z_OK))throw new Error(s[n])}function d(e,t){var n=new f(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}f.prototype.push=function(e,t){var n,s,l,u,f,d=this.strm,p=this.options.chunkSize,h=this.options.dictionary,g=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof e?d.input=o.binstring2buf(e):"[object ArrayBuffer]"===c.call(e)?d.input=new Uint8Array(e):d.input=e,d.next_in=0,d.avail_in=d.input.length;do{if(0===d.avail_out&&(d.output=new i.Buf8(p),d.next_out=0,d.avail_out=p),(n=r.inflate(d,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&h&&(n=r.inflateSetDictionary(this.strm,h)),n===a.Z_BUF_ERROR&&!0===g&&(n=a.Z_OK,g=!1),n!==a.Z_STREAM_END&&n!==a.Z_OK)return this.onEnd(n),this.ended=!0,!1;d.next_out&&(0!==d.avail_out&&n!==a.Z_STREAM_END&&(0!==d.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(l=o.utf8border(d.output,d.next_out),u=d.next_out-l,f=o.buf2string(d.output,l),d.next_out=u,d.avail_out=p-u,u&&i.arraySet(d.output,d.output,l,u,0),this.onData(f)):this.onData(i.shrinkBuf(d.output,d.next_out)))),0===d.avail_in&&0===d.avail_out&&(g=!0)}while((d.avail_in>0||0===d.avail_out)&&n!==a.Z_STREAM_END);return n===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),d.avail_out=0,!0)},f.prototype.onData=function(e){this.chunks.push(e)},f.prototype.onEnd=function(e){e===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=f,t.inflate=d,t.inflateRaw=function(e,t){return(t=t||{}).raw=!0,d(e,t)},t.ungzip=d},24236:(e,t)=>{"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)r(n,i)&&(e[i]=n[i])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){var t,n,r,i,o,a;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(a=new Uint8Array(r),i=0,t=0,n=e.length;t<n;t++)o=e[t],a.set(o,i),i+=o.length;return a}},o={arraySet:function(e,t,n,r,i){for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,i)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,o))},t.setTyped(n)},29373:(e,t,n)=>{"use strict";var r=n(24236),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){o=!1}for(var a=new r.Buf8(256),s=0;s<256;s++)a[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function l(e,t){if(t<65534&&(e.subarray&&o||!e.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",a=0;a<t;a++)n+=String.fromCharCode(e[a]);return n}a[254]=a[254]=1,t.string2buf=function(e){var t,n,i,o,a,s=e.length,l=0;for(o=0;o<s;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(l),a=0,o=0;a<l;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|63&n):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t},t.buf2binstring=function(e){return l(e,e.length)},t.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,i=t.length;n<i;n++)t[n]=e.charCodeAt(n);return t},t.buf2string=function(e,t){var n,r,i,o,s=t||e.length,u=new Array(2*s);for(r=0,n=0;n<s;)if((i=e[n++])<128)u[r++]=i;else if((o=a[i])>4)u[r++]=65533,n+=o-1;else{for(i&=2===o?31:3===o?15:7;o>1&&n<s;)i=i<<6|63&e[n++],o--;o>1?u[r++]=65533:i<65536?u[r++]=i:(i-=65536,u[r++]=55296|i>>10&1023,u[r++]=56320|1023&i)}return l(u,r)},t.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+a[e[n]]>t?n:t}},66069:e=>{"use strict";e.exports=function(e,t,n,r){for(var i=65535&e|0,o=e>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{o=o+(i=i+t[r++]|0)|0}while(--a);i%=65521,o%=65521}return i|o<<16|0}},71619:e=>{"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},2869:e=>{"use strict";var t=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();e.exports=function(e,n,r,i){var o=t,a=i+r;e^=-1;for(var s=i;s<a;s++)e=e>>>8^o[255&(e^n[s])];return-1^e}},30405:(e,t,n)=>{"use strict";var r,i=n(24236),o=n(10342),a=n(66069),s=n(2869),l=n(48898),u=-2,c=258,f=262,d=103,p=113,h=666;function g(e,t){return e.msg=l[t],t}function m(e){return(e<<1)-(e>4?9:0)}function y(e){for(var t=e.length;--t>=0;)e[t]=0}function v(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(i.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function b(e,t){o._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,v(e.strm)}function x(e,t){e.pending_buf[e.pending++]=t}function _(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function w(e,t){var n,r,i=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-f?e.strstart-(e.w_size-f):0,u=e.window,d=e.w_mask,p=e.prev,h=e.strstart+c,g=u[o+a-1],m=u[o+a];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(u[(n=t)+a]===m&&u[n+a-1]===g&&u[n]===u[o]&&u[++n]===u[o+1]){o+=2,n++;do{}while(u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&o<h);if(r=c-(h-o),o=h-c,r>a){if(e.match_start=t,a=r,r>=s)break;g=u[o+a-1],m=u[o+a]}}}while((t=p[t&d])>l&&0!=--i);return a<=e.lookahead?a:e.lookahead}function k(e){var t,n,r,o,l,u,c,d,p,h,g=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=g+(g-f)){i.arraySet(e.window,e.window,g,g,0),e.match_start-=g,e.strstart-=g,e.block_start-=g,t=n=e.hash_size;do{r=e.head[--t],e.head[t]=r>=g?r-g:0}while(--n);t=n=g;do{r=e.prev[--t],e.prev[t]=r>=g?r-g:0}while(--n);o+=g}if(0===e.strm.avail_in)break;if(u=e.strm,c=e.window,d=e.strstart+e.lookahead,p=o,h=void 0,(h=u.avail_in)>p&&(h=p),n=0===h?0:(u.avail_in-=h,i.arraySet(c,u.input,u.next_in,h,d),1===u.state.wrap?u.adler=a(u.adler,c,h,d):2===u.state.wrap&&(u.adler=s(u.adler,c,h,d)),u.next_in+=h,u.total_in+=h,h),e.lookahead+=n,e.lookahead+e.insert>=3)for(l=e.strstart-e.insert,e.ins_h=e.window[l],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+3-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<f&&0!==e.strm.avail_in)}function T(e,t){for(var n,r;;){if(e.lookahead<f){if(k(e),e.lookahead<f&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-f&&(e.match_length=w(e,n)),e.match_length>=3)if(r=o._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}function C(e,t){for(var n,r,i;;){if(e.lookahead<f){if(k(e),e.lookahead<f&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-f&&(e.match_length=w(e,n),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,r=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(b(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((r=o._tr_tally(e,0,e.window[e.strstart-1]))&&b(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}function O(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function S(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(1146),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),y(this.dyn_ltree),y(this.dyn_dtree),y(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),y(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),y(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function A(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:p,e.adler=2===t.wrap?0:1,t.last_flush=0,o._tr_init(t),0):g(e,u)}function M(e){var t,n=A(e);return 0===n&&((t=e.state).window_size=2*t.w_size,y(t.head),t.max_lazy_match=r[t.level].max_lazy,t.good_match=r[t.level].good_length,t.nice_match=r[t.level].nice_length,t.max_chain_length=r[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),n}function E(e,t,n,r,o,a){if(!e)return u;var s=1;if(-1===t&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),o<1||o>9||8!==n||r<8||r>15||t<0||t>9||a<0||a>4)return g(e,u);8===r&&(r=9);var l=new S;return e.state=l,l.strm=e,l.wrap=s,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+3-1)/3),l.window=new i.Buf8(2*l.w_size),l.head=new i.Buf16(l.hash_size),l.prev=new i.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new i.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=a,l.method=n,M(e)}r=[new O(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(k(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,b(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-f&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(b(e,!1),e.strm.avail_out),1)})),new O(4,4,8,4,T),new O(4,5,16,8,T),new O(4,6,32,32,T),new O(4,4,16,16,C),new O(8,16,32,32,C),new O(8,16,128,128,C),new O(8,32,128,256,C),new O(32,128,258,1024,C),new O(32,258,258,4096,C)],t.deflateInit=function(e,t){return E(e,t,8,15,8,0)},t.deflateInit2=E,t.deflateReset=M,t.deflateResetKeep=A,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?u:(e.state.gzhead=t,0):u},t.deflate=function(e,t){var n,i,a,l;if(!e||!e.state||t>5||t<0)return e?g(e,u):u;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||i.status===h&&4!==t)return g(e,0===e.avail_out?-5:u);if(i.strm=e,n=i.last_flush,i.last_flush=t,42===i.status)if(2===i.wrap)e.adler=0,x(i,31),x(i,139),x(i,8),i.gzhead?(x(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),x(i,255&i.gzhead.time),x(i,i.gzhead.time>>8&255),x(i,i.gzhead.time>>16&255),x(i,i.gzhead.time>>24&255),x(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),x(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(x(i,255&i.gzhead.extra.length),x(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=s(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(x(i,0),x(i,0),x(i,0),x(i,0),x(i,0),x(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),x(i,3),i.status=p);else{var f=8+(i.w_bits-8<<4)<<8;f|=(i.strategy>=2||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(f|=32),f+=31-f%31,i.status=p,_(i,f),0!==i.strstart&&(_(i,e.adler>>>16),_(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(a=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),v(e),a=i.pending,i.pending!==i.pending_buf_size));)x(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),v(e),a=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,x(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),0===l&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),v(e),a=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,x(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),0===l&&(i.status=d)}else i.status=d;if(i.status===d&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&v(e),i.pending+2<=i.pending_buf_size&&(x(i,255&e.adler),x(i,e.adler>>8&255),e.adler=0,i.status=p)):i.status=p),0!==i.pending){if(v(e),0===e.avail_out)return i.last_flush=-1,0}else if(0===e.avail_in&&m(t)<=m(n)&&4!==t)return g(e,-5);if(i.status===h&&0!==e.avail_in)return g(e,-5);if(0!==e.avail_in||0!==i.lookahead||0!==t&&i.status!==h){var w=2===i.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(k(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}(i,t):3===i.strategy?function(e,t){for(var n,r,i,a,s=e.window;;){if(e.lookahead<=c){if(k(e),e.lookahead<=c&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(r=s[i=e.strstart-1])===s[++i]&&r===s[++i]&&r===s[++i]){a=e.strstart+c;do{}while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<a);e.match_length=c-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=o._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}(i,t):r[i.level].func(i,t);if(3!==w&&4!==w||(i.status=h),1===w||3===w)return 0===e.avail_out&&(i.last_flush=-1),0;if(2===w&&(1===t?o._tr_align(i):5!==t&&(o._tr_stored_block(i,0,0,!1),3===t&&(y(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),v(e),0===e.avail_out))return i.last_flush=-1,0}return 4!==t?0:i.wrap<=0?1:(2===i.wrap?(x(i,255&e.adler),x(i,e.adler>>8&255),x(i,e.adler>>16&255),x(i,e.adler>>24&255),x(i,255&e.total_in),x(i,e.total_in>>8&255),x(i,e.total_in>>16&255),x(i,e.total_in>>24&255)):(_(i,e.adler>>>16),_(i,65535&e.adler)),v(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?0:1)},t.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&t!==d&&t!==p&&t!==h?g(e,u):(e.state=null,t===p?g(e,-3):0):u},t.deflateSetDictionary=function(e,t){var n,r,o,s,l,c,f,d,p=t.length;if(!e||!e.state)return u;if(2===(s=(n=e.state).wrap)||1===s&&42!==n.status||n.lookahead)return u;for(1===s&&(e.adler=a(e.adler,t,p,0)),n.wrap=0,p>=n.w_size&&(0===s&&(y(n.head),n.strstart=0,n.block_start=0,n.insert=0),d=new i.Buf8(n.w_size),i.arraySet(d,t,p-n.w_size,n.w_size,0),t=d,p=n.w_size),l=e.avail_in,c=e.next_in,f=e.input,e.avail_in=p,e.next_in=0,e.input=t,k(n);n.lookahead>=3;){r=n.strstart,o=n.lookahead-2;do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+3-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--o);n.strstart=r,n.lookahead=2,k(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=c,e.input=f,e.avail_in=l,n.wrap=s,0},t.deflateInfo="pako deflate (from Nodeca project)"},42401:e=>{"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},94264:e=>{"use strict";e.exports=function(e,t){var n,r,i,o,a,s,l,u,c,f,d,p,h,g,m,y,v,b,x,_,w,k,T,C,O;n=e.state,r=e.next_in,C=e.input,i=r+(e.avail_in-5),o=e.next_out,O=e.output,a=o-(t-e.avail_out),s=o+(e.avail_out-257),l=n.dmax,u=n.wsize,c=n.whave,f=n.wnext,d=n.window,p=n.hold,h=n.bits,g=n.lencode,m=n.distcode,y=(1<<n.lenbits)-1,v=(1<<n.distbits)-1;e:do{h<15&&(p+=C[r++]<<h,h+=8,p+=C[r++]<<h,h+=8),b=g[p&y];t:for(;;){if(p>>>=x=b>>>24,h-=x,0==(x=b>>>16&255))O[o++]=65535&b;else{if(!(16&x)){if(0==(64&x)){b=g[(65535&b)+(p&(1<<x)-1)];continue t}if(32&x){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}_=65535&b,(x&=15)&&(h<x&&(p+=C[r++]<<h,h+=8),_+=p&(1<<x)-1,p>>>=x,h-=x),h<15&&(p+=C[r++]<<h,h+=8,p+=C[r++]<<h,h+=8),b=m[p&v];n:for(;;){if(p>>>=x=b>>>24,h-=x,!(16&(x=b>>>16&255))){if(0==(64&x)){b=m[(65535&b)+(p&(1<<x)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(w=65535&b,h<(x&=15)&&(p+=C[r++]<<h,(h+=8)<x&&(p+=C[r++]<<h,h+=8)),(w+=p&(1<<x)-1)>l){e.msg="invalid distance too far back",n.mode=30;break e}if(p>>>=x,h-=x,w>(x=o-a)){if((x=w-x)>c&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(k=0,T=d,0===f){if(k+=u-x,x<_){_-=x;do{O[o++]=d[k++]}while(--x);k=o-w,T=O}}else if(f<x){if(k+=u+f-x,(x-=f)<_){_-=x;do{O[o++]=d[k++]}while(--x);if(k=0,f<_){_-=x=f;do{O[o++]=d[k++]}while(--x);k=o-w,T=O}}}else if(k+=f-x,x<_){_-=x;do{O[o++]=d[k++]}while(--x);k=o-w,T=O}for(;_>2;)O[o++]=T[k++],O[o++]=T[k++],O[o++]=T[k++],_-=3;_&&(O[o++]=T[k++],_>1&&(O[o++]=T[k++]))}else{k=o-w;do{O[o++]=O[k++],O[o++]=O[k++],O[o++]=O[k++],_-=3}while(_>2);_&&(O[o++]=O[k++],_>1&&(O[o++]=O[k++]))}break}}break}}while(r<i&&o<s);r-=_=h>>3,p&=(1<<(h-=_<<3))-1,e.next_in=r,e.next_out=o,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=o<s?s-o+257:257-(o-s),n.hold=p,n.bits=h}},27948:(e,t,n)=>{"use strict";var r=n(24236),i=n(66069),o=n(2869),a=n(94264),s=n(9241),l=-2,u=12,c=30;function f(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function d(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function p(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(852),t.distcode=t.distdyn=new r.Buf32(592),t.sane=1,t.back=-1,0):l}function h(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,p(e)):l}function g(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?l:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,h(e))):l}function m(e,t){var n,r;return e?(r=new d,e.state=r,r.window=null,0!==(n=g(e,t))&&(e.state=null),n):l}var y,v,b=!0;function x(e){if(b){var t;for(y=new r.Buf32(512),v=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(1,e.lens,0,288,y,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(2,e.lens,0,32,v,0,e.work,{bits:5}),b=!1}e.lencode=y,e.lenbits=9,e.distcode=v,e.distbits=5}function _(e,t,n,i){var o,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new r.Buf8(a.wsize)),i>=a.wsize?(r.arraySet(a.window,t,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((o=a.wsize-a.wnext)>i&&(o=i),r.arraySet(a.window,t,n-i,o,a.wnext),(i-=o)?(r.arraySet(a.window,t,n-i,i,0),a.wnext=i,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}t.inflateReset=h,t.inflateReset2=g,t.inflateResetKeep=p,t.inflateInit=function(e){return m(e,15)},t.inflateInit2=m,t.inflate=function(e,t){var n,d,p,h,g,m,y,v,b,w,k,T,C,O,S,A,M,E,P,D,L,R,I,N,j=0,z=new r.Buf8(4),q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return l;(n=e.state).mode===u&&(n.mode=13),g=e.next_out,p=e.output,y=e.avail_out,h=e.next_in,d=e.input,m=e.avail_in,v=n.hold,b=n.bits,w=m,k=y,R=0;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;b<16;){if(0===m)break e;m--,v+=d[h++]<<b,b+=8}if(2&n.wrap&&35615===v){n.check=0,z[0]=255&v,z[1]=v>>>8&255,n.check=o(n.check,z,2,0),v=0,b=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&v)<<8)+(v>>8))%31){e.msg="incorrect header check",n.mode=c;break}if(8!=(15&v)){e.msg="unknown compression method",n.mode=c;break}if(b-=4,L=8+(15&(v>>>=4)),0===n.wbits)n.wbits=L;else if(L>n.wbits){e.msg="invalid window size",n.mode=c;break}n.dmax=1<<L,e.adler=n.check=1,n.mode=512&v?10:u,v=0,b=0;break;case 2:for(;b<16;){if(0===m)break e;m--,v+=d[h++]<<b,b+=8}if(n.flags=v,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=c;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=c;break}n.head&&(n.head.text=v>>8&1),512&n.flags&&(z[0]=255&v,z[1]=v>>>8&255,n.check=o(n.check,z,2,0)),v=0,b=0,n.mode=3;case 3:for(;b<32;){if(0===m)break e;m--,v+=d[h++]<<b,b+=8}n.head&&(n.head.time=v),512&n.flags&&(z[0]=255&v,z[1]=v>>>8&255,z[2]=v>>>16&255,z[3]=v>>>24&255,n.check=o(n.check,z,4,0)),v=0,b=0,n.mode=4;case 4:for(;b<16;){if(0===m)break e;m--,v+=d[h++]<<b,b+=8}n.head&&(n.head.xflags=255&v,n.head.os=v>>8),512&n.flags&&(z[0]=255&v,z[1]=v>>>8&255,n.check=o(n.check,z,2,0)),v=0,b=0,n.mode=5;case 5:if(1024&n.flags){for(;b<16;){if(0===m)break e;m--,v+=d[h++]<<b,b+=8}n.length=v,n.head&&(n.head.extra_len=v),512&n.flags&&(z[0]=255&v,z[1]=v>>>8&255,n.check=o(n.check,z,2,0)),v=0,b=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((T=n.length)>m&&(T=m),T&&(n.head&&(L=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,d,h,T,L)),512&n.flags&&(n.check=o(n.check,d,T,h)),m-=T,h+=T,n.length-=T),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===m)break e;T=0;do{L=d[h+T++],n.head&&L&&n.length<65536&&(n.head.name+=String.fromCharCode(L))}while(L&&T<m);if(512&n.flags&&(n.check=o(n.check,d,T,h)),m-=T,h+=T,L)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===m)break e;T=0;do{L=d[h+T++],n.head&&L&&n.length<65536&&(n.head.comment+=String.fromCharCode(L))}while(L&&T<m);if(512&n.flags&&(n.check=o(n.check,d,T,h)),m-=T,h+=T,L)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;b<16;){if(0===m)break e;m--,v+=d[h++]<<b,b+=8}if(v!==(65535&n.check)){e.msg="header crc mismatch",n.mode=c;break}v=0,b=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=u;break;case 10:for(;b<32;){if(0===m)break e;m--,v+=d[h++]<<b,b+=8}e.adler=n.check=f(v),v=0,b=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=g,e.avail_out=y,e.next_in=h,e.avail_in=m,n.hold=v,n.bits=b,2;e.adler=n.check=1,n.mode=u;case u:if(5===t||6===t)break e;case 13:if(n.last){v>>>=7&b,b-=7&b,n.mode=27;break}for(;b<3;){if(0===m)break e;m--,v+=d[h++]<<b,b+=8}switch(n.last=1&v,b-=1,3&(v>>>=1)){case 0:n.mode=14;break;case 1:if(x(n),n.mode=20,6===t){v>>>=2,b-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=c}v>>>=2,b-=2;break;case 14:for(v>>>=7&b,b-=7&b;b<32;){if(0===m)break e;m--,v+=d[h++]<<b,b+=8}if((65535&v)!=(v>>>16^65535)){e.msg="invalid stored block lengths",n.mode=c;break}if(n.length=65535&v,v=0,b=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(T=n.length){if(T>m&&(T=m),T>y&&(T=y),0===T)break e;r.arraySet(p,d,h,T,g),m-=T,h+=T,y-=T,g+=T,n.length-=T;break}n.mode=u;break;case 17:for(;b<14;){if(0===m)break e;m--,v+=d[h++]<<b,b+=8}if(n.nlen=257+(31&v),v>>>=5,b-=5,n.ndist=1+(31&v),v>>>=5,b-=5,n.ncode=4+(15&v),v>>>=4,b-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=c;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;b<3;){if(0===m)break e;m--,v+=d[h++]<<b,b+=8}n.lens[q[n.have++]]=7&v,v>>>=3,b-=3}for(;n.have<19;)n.lens[q[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,I={bits:n.lenbits},R=s(0,n.lens,0,19,n.lencode,0,n.work,I),n.lenbits=I.bits,R){e.msg="invalid code lengths set",n.mode=c;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;A=(j=n.lencode[v&(1<<n.lenbits)-1])>>>16&255,M=65535&j,!((S=j>>>24)<=b);){if(0===m)break e;m--,v+=d[h++]<<b,b+=8}if(M<16)v>>>=S,b-=S,n.lens[n.have++]=M;else{if(16===M){for(N=S+2;b<N;){if(0===m)break e;m--,v+=d[h++]<<b,b+=8}if(v>>>=S,b-=S,0===n.have){e.msg="invalid bit length repeat",n.mode=c;break}L=n.lens[n.have-1],T=3+(3&v),v>>>=2,b-=2}else if(17===M){for(N=S+3;b<N;){if(0===m)break e;m--,v+=d[h++]<<b,b+=8}b-=S,L=0,T=3+(7&(v>>>=S)),v>>>=3,b-=3}else{for(N=S+7;b<N;){if(0===m)break e;m--,v+=d[h++]<<b,b+=8}b-=S,L=0,T=11+(127&(v>>>=S)),v>>>=7,b-=7}if(n.have+T>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=c;break}for(;T--;)n.lens[n.have++]=L}}if(n.mode===c)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=c;break}if(n.lenbits=9,I={bits:n.lenbits},R=s(1,n.lens,0,n.nlen,n.lencode,0,n.work,I),n.lenbits=I.bits,R){e.msg="invalid literal/lengths set",n.mode=c;break}if(n.distbits=6,n.distcode=n.distdyn,I={bits:n.distbits},R=s(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,I),n.distbits=I.bits,R){e.msg="invalid distances set",n.mode=c;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(m>=6&&y>=258){e.next_out=g,e.avail_out=y,e.next_in=h,e.avail_in=m,n.hold=v,n.bits=b,a(e,k),g=e.next_out,p=e.output,y=e.avail_out,h=e.next_in,d=e.input,m=e.avail_in,v=n.hold,b=n.bits,n.mode===u&&(n.back=-1);break}for(n.back=0;A=(j=n.lencode[v&(1<<n.lenbits)-1])>>>16&255,M=65535&j,!((S=j>>>24)<=b);){if(0===m)break e;m--,v+=d[h++]<<b,b+=8}if(A&&0==(240&A)){for(E=S,P=A,D=M;A=(j=n.lencode[D+((v&(1<<E+P)-1)>>E)])>>>16&255,M=65535&j,!(E+(S=j>>>24)<=b);){if(0===m)break e;m--,v+=d[h++]<<b,b+=8}v>>>=E,b-=E,n.back+=E}if(v>>>=S,b-=S,n.back+=S,n.length=M,0===A){n.mode=26;break}if(32&A){n.back=-1,n.mode=u;break}if(64&A){e.msg="invalid literal/length code",n.mode=c;break}n.extra=15&A,n.mode=22;case 22:if(n.extra){for(N=n.extra;b<N;){if(0===m)break e;m--,v+=d[h++]<<b,b+=8}n.length+=v&(1<<n.extra)-1,v>>>=n.extra,b-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;A=(j=n.distcode[v&(1<<n.distbits)-1])>>>16&255,M=65535&j,!((S=j>>>24)<=b);){if(0===m)break e;m--,v+=d[h++]<<b,b+=8}if(0==(240&A)){for(E=S,P=A,D=M;A=(j=n.distcode[D+((v&(1<<E+P)-1)>>E)])>>>16&255,M=65535&j,!(E+(S=j>>>24)<=b);){if(0===m)break e;m--,v+=d[h++]<<b,b+=8}v>>>=E,b-=E,n.back+=E}if(v>>>=S,b-=S,n.back+=S,64&A){e.msg="invalid distance code",n.mode=c;break}n.offset=M,n.extra=15&A,n.mode=24;case 24:if(n.extra){for(N=n.extra;b<N;){if(0===m)break e;m--,v+=d[h++]<<b,b+=8}n.offset+=v&(1<<n.extra)-1,v>>>=n.extra,b-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=c;break}n.mode=25;case 25:if(0===y)break e;if(T=k-y,n.offset>T){if((T=n.offset-T)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=c;break}T>n.wnext?(T-=n.wnext,C=n.wsize-T):C=n.wnext-T,T>n.length&&(T=n.length),O=n.window}else O=p,C=g-n.offset,T=n.length;T>y&&(T=y),y-=T,n.length-=T;do{p[g++]=O[C++]}while(--T);0===n.length&&(n.mode=21);break;case 26:if(0===y)break e;p[g++]=n.length,y--,n.mode=21;break;case 27:if(n.wrap){for(;b<32;){if(0===m)break e;m--,v|=d[h++]<<b,b+=8}if(k-=y,e.total_out+=k,n.total+=k,k&&(e.adler=n.check=n.flags?o(n.check,p,k,g-k):i(n.check,p,k,g-k)),k=y,(n.flags?v:f(v))!==n.check){e.msg="incorrect data check",n.mode=c;break}v=0,b=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;b<32;){if(0===m)break e;m--,v+=d[h++]<<b,b+=8}if(v!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=c;break}v=0,b=0}n.mode=29;case 29:R=1;break e;case c:R=-3;break e;case 31:return-4;case 32:default:return l}return e.next_out=g,e.avail_out=y,e.next_in=h,e.avail_in=m,n.hold=v,n.bits=b,(n.wsize||k!==e.avail_out&&n.mode<c&&(n.mode<27||4!==t))&&_(e,e.output,e.next_out,k-e.avail_out)?(n.mode=31,-4):(w-=e.avail_in,k-=e.avail_out,e.total_in+=w,e.total_out+=k,n.total+=k,n.wrap&&k&&(e.adler=n.check=n.flags?o(n.check,p,k,e.next_out-k):i(n.check,p,k,e.next_out-k)),e.data_type=n.bits+(n.last?64:0)+(n.mode===u?128:0)+(20===n.mode||15===n.mode?256:0),(0===w&&0===k||4===t)&&0===R&&(R=-5),R)},t.inflateEnd=function(e){if(!e||!e.state)return l;var t=e.state;return t.window&&(t.window=null),e.state=null,0},t.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?l:(n.head=t,t.done=!1,0):l},t.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?l:11===n.mode&&i(1,t,r,0)!==n.check?-3:_(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,0):l},t.inflateInfo="pako inflate (from Nodeca project)"},9241:(e,t,n)=>{"use strict";var r=n(24236),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,n,l,u,c,f,d){var p,h,g,m,y,v,b,x,_,w=d.bits,k=0,T=0,C=0,O=0,S=0,A=0,M=0,E=0,P=0,D=0,L=null,R=0,I=new r.Buf16(16),N=new r.Buf16(16),j=null,z=0;for(k=0;k<=15;k++)I[k]=0;for(T=0;T<l;T++)I[t[n+T]]++;for(S=w,O=15;O>=1&&0===I[O];O--);if(S>O&&(S=O),0===O)return u[c++]=20971520,u[c++]=20971520,d.bits=1,0;for(C=1;C<O&&0===I[C];C++);for(S<C&&(S=C),E=1,k=1;k<=15;k++)if(E<<=1,(E-=I[k])<0)return-1;if(E>0&&(0===e||1!==O))return-1;for(N[1]=0,k=1;k<15;k++)N[k+1]=N[k]+I[k];for(T=0;T<l;T++)0!==t[n+T]&&(f[N[t[n+T]]++]=T);if(0===e?(L=j=f,v=19):1===e?(L=i,R-=257,j=o,z-=257,v=256):(L=a,j=s,v=-1),D=0,T=0,k=C,y=c,A=S,M=0,g=-1,m=(P=1<<S)-1,1===e&&P>852||2===e&&P>592)return 1;for(;;){b=k-M,f[T]<v?(x=0,_=f[T]):f[T]>v?(x=j[z+f[T]],_=L[R+f[T]]):(x=96,_=0),p=1<<k-M,C=h=1<<A;do{u[y+(D>>M)+(h-=p)]=b<<24|x<<16|_|0}while(0!==h);for(p=1<<k-1;D&p;)p>>=1;if(0!==p?(D&=p-1,D+=p):D=0,T++,0==--I[k]){if(k===O)break;k=t[n+f[T]]}if(k>S&&(D&m)!==g){for(0===M&&(M=S),y+=C,E=1<<(A=k-M);A+M<O&&!((E-=I[A+M])<=0);)A++,E<<=1;if(P+=1<<A,1===e&&P>852||2===e&&P>592)return 1;u[g=D&m]=S<<24|A<<16|y-c|0}}return 0!==D&&(u[y+D]=k-M<<24|64<<16|0),d.bits=S,0}},48898:e=>{"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},10342:(e,t,n)=>{"use strict";var r=n(24236);function i(e){for(var t=e.length;--t>=0;)e[t]=0}var o=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],a=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],l=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],u=new Array(576);i(u);var c=new Array(60);i(c);var f=new Array(512);i(f);var d=new Array(256);i(d);var p=new Array(29);i(p);var h,g,m,y=new Array(30);function v(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function b(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function x(e){return e<256?f[e]:f[256+(e>>>7)]}function _(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function w(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,_(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function k(e,t,n){w(e,n[2*t],n[2*t+1])}function T(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function C(e,t,n){var r,i,o=new Array(16),a=0;for(r=1;r<=15;r++)o[r]=a=a+n[r-1]<<1;for(i=0;i<=t;i++){var s=e[2*i+1];0!==s&&(e[2*i]=T(o[s]++,s))}}function O(e){var t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function S(e){e.bi_valid>8?_(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function A(e,t,n,r){var i=2*t,o=2*n;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]}function M(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&A(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!A(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function E(e,t,n){var r,i,s,l,u=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*u]<<8|e.pending_buf[e.d_buf+2*u+1],i=e.pending_buf[e.l_buf+u],u++,0===r?k(e,i,t):(k(e,(s=d[i])+256+1,t),0!==(l=o[s])&&w(e,i-=p[s],l),k(e,s=x(--r),n),0!==(l=a[s])&&w(e,r-=y[s],l))}while(u<e.last_lit);k(e,256,t)}function P(e,t){var n,r,i,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,l=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<l;n++)0!==o[2*n]?(e.heap[++e.heap_len]=u=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(i=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[i]=0,e.opt_len--,s&&(e.static_len-=a[2*i+1]);for(t.max_code=u,n=e.heap_len>>1;n>=1;n--)M(e,o,n);i=l;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],M(e,o,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,o[2*i]=o[2*n]+o[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,o[2*n+1]=o[2*r+1]=i,e.heap[1]=i++,M(e,o,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,i,o,a,s,l=t.dyn_tree,u=t.max_code,c=t.stat_desc.static_tree,f=t.stat_desc.has_stree,d=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,h=t.stat_desc.max_length,g=0;for(o=0;o<=15;o++)e.bl_count[o]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)(o=l[2*l[2*(r=e.heap[n])+1]+1]+1)>h&&(o=h,g++),l[2*r+1]=o,r>u||(e.bl_count[o]++,a=0,r>=p&&(a=d[r-p]),s=l[2*r],e.opt_len+=s*(o+a),f&&(e.static_len+=s*(c[2*r+1]+a)));if(0!==g){do{for(o=h-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[h]--,g-=2}while(g>0);for(o=h;0!==o;o--)for(r=e.bl_count[o];0!==r;)(i=e.heap[--n])>u||(l[2*i+1]!==o&&(e.opt_len+=(o-l[2*i+1])*l[2*i],l[2*i+1]=o),r--)}}(e,t),C(o,u,e.bl_count)}function D(e,t,n){var r,i,o=-1,a=t[1],s=0,l=7,u=4;for(0===a&&(l=138,u=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=t[2*(r+1)+1],++s<l&&i===a||(s<u?e.bl_tree[2*i]+=s:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,o=i,0===a?(l=138,u=3):i===a?(l=6,u=3):(l=7,u=4))}function L(e,t,n){var r,i,o=-1,a=t[1],s=0,l=7,u=4;for(0===a&&(l=138,u=3),r=0;r<=n;r++)if(i=a,a=t[2*(r+1)+1],!(++s<l&&i===a)){if(s<u)do{k(e,i,e.bl_tree)}while(0!=--s);else 0!==i?(i!==o&&(k(e,i,e.bl_tree),s--),k(e,16,e.bl_tree),w(e,s-3,2)):s<=10?(k(e,17,e.bl_tree),w(e,s-3,3)):(k(e,18,e.bl_tree),w(e,s-11,7));s=0,o=i,0===a?(l=138,u=3):i===a?(l=6,u=3):(l=7,u=4)}}i(y);var R=!1;function I(e,t,n,i){w(e,0+(i?1:0),3),function(e,t,n,i){S(e),_(e,n),_(e,~n),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n)}t._tr_init=function(e){R||(function(){var e,t,n,r,i,l=new Array(16);for(n=0,r=0;r<28;r++)for(p[r]=n,e=0;e<1<<o[r];e++)d[n++]=r;for(d[n-1]=r,i=0,r=0;r<16;r++)for(y[r]=i,e=0;e<1<<a[r];e++)f[i++]=r;for(i>>=7;r<30;r++)for(y[r]=i<<7,e=0;e<1<<a[r]-7;e++)f[256+i++]=r;for(t=0;t<=15;t++)l[t]=0;for(e=0;e<=143;)u[2*e+1]=8,e++,l[8]++;for(;e<=255;)u[2*e+1]=9,e++,l[9]++;for(;e<=279;)u[2*e+1]=7,e++,l[7]++;for(;e<=287;)u[2*e+1]=8,e++,l[8]++;for(C(u,287,l),e=0;e<30;e++)c[2*e+1]=5,c[2*e]=T(e,5);h=new v(u,o,257,286,15),g=new v(c,a,0,30,15),m=new v(new Array(0),s,0,19,7)}(),R=!0),e.l_desc=new b(e.dyn_ltree,h),e.d_desc=new b(e.dyn_dtree,g),e.bl_desc=new b(e.bl_tree,m),e.bi_buf=0,e.bi_valid=0,O(e)},t._tr_stored_block=I,t._tr_flush_block=function(e,t,n,r){var i,o,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),P(e,e.l_desc),P(e,e.d_desc),a=function(e){var t;for(D(e,e.dyn_ltree,e.l_desc.max_code),D(e,e.dyn_dtree,e.d_desc.max_code),P(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*l[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=i&&(i=o)):i=o=n+5,n+4<=i&&-1!==t?I(e,t,n,r):4===e.strategy||o===i?(w(e,2+(r?1:0),3),E(e,u,c)):(w(e,4+(r?1:0),3),function(e,t,n,r){var i;for(w(e,t-257,5),w(e,n-1,5),w(e,r-4,4),i=0;i<r;i++)w(e,e.bl_tree[2*l[i]+1],3);L(e,e.dyn_ltree,t-1),L(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),E(e,e.dyn_ltree,e.dyn_dtree)),O(e),r&&S(e)},t._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(d[n]+256+1)]++,e.dyn_dtree[2*x(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){w(e,2,3),k(e,256,u),function(e){16===e.bi_valid?(_(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},62292:e=>{"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},11392:(e,t,n)=>{n(29718);var r=n(6941).s;function i(e){var t=new r;return(t.write(e)+t.end()).replace(/\0/g,"").trim()}e.exports=function e(t,n){if(!t)return i;try{new TextDecoder(t.trim())}catch(a){var r=o.exec(t);return r&&!n?e("windows-"+r[1],!0):i}return function(e){var n=new TextDecoder(t);return(n.decode(e,{stream:!0})+n.decode()).replace(/\0/g,"").trim()}};var o=/^(?:ANSI\s)?(\d+)$/m},9462:(e,t,n)=>{var r=n(11392);function i(e,t,n,r,i){var o=i(e.slice(t,t+n));switch(r){case"N":case"F":case"O":return parseFloat(o,10);case"D":return new Date(o.slice(0,4),parseInt(o.slice(4,6),10)-1,o.slice(6,8));case"L":return"y"===o.toLowerCase()||"t"===o.toLowerCase();default:return o}}function o(e,t,n,r){for(var o,a,s={},l=0,u=n.length;l<u;)o=i(e,t,(a=n[l]).len,a.dataType,r),t+=a.len,void 0!==o&&(s[a.name]=o),l++;return s}e.exports=function(e,t){for(var n=r(t),i=function(e){var t={};return t.lastUpdated=new Date(e.readUInt8(1)+1900,e.readUInt8(2),e.readUInt8(3)),t.records=e.readUInt32LE(4),t.headerLen=e.readUInt16LE(8),t.recLen=e.readUInt16LE(10),t}(e),a=function(e,t,n){for(var r=[],i=32;i<t&&(r.push({name:n(e.slice(i,i+11)),dataType:String.fromCharCode(e.readUInt8(i+11)),len:e.readUInt8(i+16),decimal:e.readUInt8(i+17)}),13!==e.readUInt8(i+32));)i+=32;return r}(e,i.headerLen-1,n),s=2+(a.length+1<<5),l=i.recLen,u=i.records,c=[];u;)c.push(o(e,s,a,n)),s+=l,u--;return c}},75:function(e){(function(){var t,n,r,i,o,a;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(e.exports=function(){return(t()-o)/1e6},n=process.hrtime,i=(t=function(){var e;return 1e9*(e=n())[0]+e[1]})(),a=1e9*process.uptime(),o=i-a):Date.now?(e.exports=function(){return Date.now()-r},r=Date.now()):(e.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this)},79958:(e,t,n)=>{e.exports=function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[a]={exports:{}};t[a][0].call(u.exports,(function(e){return i(t[a][1][e]||e)}),u,u.exports,e,t,n,r)}return n[a].exports}for(var o=void 0,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){"use strict";var r=e("../src/lib"),i={"X,X div":"direction:ltr;font-family:'Open Sans', verdana, arial, sans-serif;margin:0;padding:0;","X input,X button":"font-family:'Open Sans', verdana, arial, sans-serif;","X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color 0.3s ease 0s;-moz-transition:background-color 0.3s ease 0s;-ms-transition:background-color 0.3s ease 0s;-o-transition:background-color 0.3s ease 0s;transition:background-color 0.3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity 0.3s ease 0s;-moz-transition:opacity 0.3s ease 0s;-ms-transition:opacity 0.3s ease 0s;-o-transition:opacity 0.3s ease 0s;transition:opacity 0.3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":"content:'';position:absolute;background:transparent;border:6px solid transparent;z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;","X [data-title]:after":"content:attr(data-title);background:#69738a;color:white;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid transparent;border-left-color:#69738a;margin-top:8px;margin-right:-30px;","X .select-outline":"fill:none;stroke-width:1;shape-rendering:crispEdges;","X .select-outline-1":"stroke:white;","X .select-outline-2":"stroke:black;stroke-dasharray:2px 2px;",Y:"font-family:'Open Sans', verdana, arial, sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;","Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,0.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:0.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var o in i){var a=o.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");r.addStyleRule(a,i[o])}},{"../src/lib":203}],2:[function(e,t,n){"use strict";t.exports=e("../src/traces/bar")},{"../src/traces/bar":313}],3:[function(e,t,n){"use strict";t.exports=e("../src/traces/box")},{"../src/traces/box":328}],4:[function(e,t,n){"use strict";t.exports=e("../src/traces/contour")},{"../src/traces/contour":348}],5:[function(e,t,n){"use strict";t.exports=e("../src/core")},{"../src/core":184}],6:[function(e,t,n){"use strict";t.exports=e("../src/traces/heatmap")},{"../src/traces/heatmap":364}],7:[function(e,t,n){"use strict";t.exports=e("../src/traces/histogram")},{"../src/traces/histogram":382}],8:[function(e,t,n){"use strict";t.exports=e("../src/traces/histogram2d")},{"../src/traces/histogram2d":388}],9:[function(e,t,n){"use strict";t.exports=e("../src/traces/histogram2dcontour")},{"../src/traces/histogram2dcontour":392}],10:[function(e,t,n){"use strict";t.exports=e("../src/traces/image")},{"../src/traces/image":400}],11:[function(e,t,n){"use strict";var r=e("./core");r.register([e("./bar"),e("./box"),e("./heatmap"),e("./histogram"),e("./histogram2d"),e("./histogram2dcontour"),e("./image"),e("./pie"),e("./contour"),e("./scatterternary"),e("./violin")]),t.exports=r},{"./bar":2,"./box":3,"./contour":4,"./core":5,"./heatmap":6,"./histogram":7,"./histogram2d":8,"./histogram2dcontour":9,"./image":10,"./pie":12,"./scatterternary":13,"./violin":14}],12:[function(e,t,n){"use strict";t.exports=e("../src/traces/pie")},{"../src/traces/pie":409}],13:[function(e,t,n){"use strict";t.exports=e("../src/traces/scatterternary")},{"../src/traces/scatterternary":450}],14:[function(e,t,n){"use strict";t.exports=e("../src/traces/violin")},{"../src/traces/violin":458}],15:[function(e,t,n){"use strict";n.byteLength=function(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r},n.toByteArray=function(e){var t,n,r=u(e),a=r[0],s=r[1],l=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),c=0,f=s>0?a-4:a;for(n=0;n<f;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],l[c++]=t>>16&255,l[c++]=t>>8&255,l[c++]=255&t;return 2===s&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,l[c++]=255&t),1===s&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,l[c++]=t>>8&255,l[c++]=255&t),l},n.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=16383,s=0,l=n-i;s<l;s+=a)o.push(c(e,s,s+a>l?l:s+a));return 1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,n){for(var i,o=[],a=t;a<n;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),o.push(r[(s=i)>>18&63]+r[s>>12&63]+r[s>>6&63]+r[63&s]);var s;return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],16:[function(e,t,n){},{}],17:[function(e,t,n){var r=Object.create||function(e){var t=function(){};return t.prototype=e,new t},i=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return n},o=Function.prototype.bind||function(e){var t=this;return function(){return t.apply(e,arguments)}};function a(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=r(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}t.exports=a,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._maxListeners=void 0;var s,l=10;try{var u={};Object.defineProperty&&Object.defineProperty(u,"x",{value:0}),s=0===u.x}catch(e){s=!1}function c(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function f(e,t,n){if(t)e.call(n);else for(var r=e.length,i=_(e,r),o=0;o<r;++o)i[o].call(n)}function d(e,t,n,r){if(t)e.call(n,r);else for(var i=e.length,o=_(e,i),a=0;a<i;++a)o[a].call(n,r)}function p(e,t,n,r,i){if(t)e.call(n,r,i);else for(var o=e.length,a=_(e,o),s=0;s<o;++s)a[s].call(n,r,i)}function h(e,t,n,r,i,o){if(t)e.call(n,r,i,o);else for(var a=e.length,s=_(e,a),l=0;l<a;++l)s[l].call(n,r,i,o)}function g(e,t,n,r){if(t)e.apply(n,r);else for(var i=e.length,o=_(e,i),a=0;a<i;++a)o[a].apply(n,r)}function m(e,t,n,i){var o,a,s;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');if((a=e._events)?(a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),s=a[t]):(a=e._events=r(null),e._eventsCount=0),s){if("function"==typeof s?s=a[t]=i?[n,s]:[s,n]:i?s.unshift(n):s.push(n),!s.warned&&(o=c(e))&&o>0&&s.length>o){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+' "'+String(t)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=s.length,"object"==typeof console&&console.warn&&console.warn("%s: %s",l.name,l.message)}}else s=a[t]=n,++e._eventsCount;return e}function y(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var e=new Array(arguments.length),t=0;t<e.length;++t)e[t]=arguments[t];this.listener.apply(this.target,e)}}function v(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=o.call(y,r);return i.listener=n,r.wrapFn=i,i}function b(e,t,n){var r=e._events;if(!r)return[];var i=r[t];return i?"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):_(i,i.length):[]}function x(e){var t=this._events;if(t){var n=t[e];if("function"==typeof n)return 1;if(n)return n.length}return 0}function _(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}s?Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||e!=e)throw new TypeError('"defaultMaxListeners" must be a positive number');l=e}}):a.defaultMaxListeners=l,a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return c(this)},a.prototype.emit=function(e){var t,n,r,i,o,a,s="error"===e;if(a=this._events)s=s&&null==a.error;else if(!s)return!1;if(s){if(arguments.length>1&&(t=arguments[1]),t instanceof Error)throw t;var l=new Error('Unhandled "error" event. ('+t+")");throw l.context=t,l}if(!(n=a[e]))return!1;var u="function"==typeof n;switch(r=arguments.length){case 1:f(n,u,this);break;case 2:d(n,u,this,arguments[1]);break;case 3:p(n,u,this,arguments[1],arguments[2]);break;case 4:h(n,u,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(r-1),o=1;o<r;o++)i[o-1]=arguments[o];g(n,u,this,i)}return!0},a.prototype.addListener=function(e,t){return m(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return m(this,e,t,!0)},a.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,v(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,v(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,i,o,a,s;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(i=this._events))return this;if(!(n=i[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=r(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){s=n[a].listener,o=a;break}if(o<0)return this;0===o?n.shift():function(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}(n,o),1===n.length&&(i[e]=n[0]),i.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.removeAllListeners=function(e){var t,n,o;if(!(n=this._events))return this;if(!n.removeListener)return 0===arguments.length?(this._events=r(null),this._eventsCount=0):n[e]&&(0==--this._eventsCount?this._events=r(null):delete n[e]),this;if(0===arguments.length){var a,s=i(n);for(o=0;o<s.length;++o)"removeListener"!==(a=s[o])&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=r(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(t)for(o=t.length-1;o>=0;o--)this.removeListener(e,t[o]);return this},a.prototype.listeners=function(e){return b(this,e,!0)},a.prototype.rawListeners=function(e){return b(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):x.call(e,t)},a.prototype.listenerCount=x,a.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],18:[function(e,t,n){(function(t){"use strict";var r=e("base64-js"),i=e("ieee754");n.Buffer=t,n.SlowBuffer=function(e){return+e!=e&&(e=0),t.alloc(+e)},n.INSPECT_MAX_BYTES=50;var o=2147483647;function a(e){if(e>o)throw new RangeError('The value "'+e+'" is invalid for option "size"');var n=new Uint8Array(e);return n.__proto__=t.prototype,n}function t(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return u(e)}return s(e,t,n)}function s(e,n,r){if("string"==typeof e)return function(e,n){if("string"==typeof n&&""!==n||(n="utf8"),!t.isEncoding(n))throw new TypeError("Unknown encoding: "+n);var r=0|d(e,n),i=a(r),o=i.write(e,n);return o!==r&&(i=i.slice(0,o)),i}(e,n);if(ArrayBuffer.isView(e))return c(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(q(e,ArrayBuffer)||e&&q(e.buffer,ArrayBuffer))return function(e,n,r){if(n<0||e.byteLength<n)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<n+(r||0))throw new RangeError('"length" is outside of buffer bounds');var i;return(i=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r)).__proto__=t.prototype,i}(e,n,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var i=e.valueOf&&e.valueOf();if(null!=i&&i!==e)return t.from(i,n,r);var o=function(e){if(t.isBuffer(e)){var n=0|f(e.length),r=a(n);return 0===r.length||e.copy(r,0,0,n),r}return void 0!==e.length?"number"!=typeof e.length||F(e.length)?a(0):c(e):"Buffer"===e.type&&Array.isArray(e.data)?c(e.data):void 0}(e);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return t.from(e[Symbol.toPrimitive]("string"),n,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function u(e){return l(e),a(e<0?0:0|f(e))}function c(e){for(var t=e.length<0?0:0|f(e.length),n=a(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function f(e){if(e>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|e}function d(e,n){if(t.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||q(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===r)return 0;for(var o=!1;;)switch(n){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return N(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return j(e).length;default:if(o)return i?-1:N(e).length;n=(""+n).toLowerCase(),o=!0}}function p(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return A(this,t,n);case"utf8":case"utf-8":return T(this,t,n);case"ascii":return O(this,t,n);case"latin1":case"binary":return S(this,t,n);case"base64":return k(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function h(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function g(e,n,r,i,o){if(0===e.length)return-1;if("string"==typeof r?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),F(r=+r)&&(r=o?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(o)return-1;r=e.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof n&&(n=t.from(n,i)),t.isBuffer(n))return 0===n.length?-1:m(e,n,r,i,o);if("number"==typeof n)return n&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,n,r):Uint8Array.prototype.lastIndexOf.call(e,n,r):m(e,[n],r,i,o);throw new TypeError("val must be string, number or Buffer")}function m(e,t,n,r,i){var o,a=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,n/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var c=-1;for(o=n;o<s;o++)if(u(e,o)===u(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===l)return c*a}else-1!==c&&(o-=o-c),c=-1}else for(n+l>s&&(n=s-l),o=n;o>=0;o--){for(var f=!0,d=0;d<l;d++)if(u(e,o+d)!==u(t,d)){f=!1;break}if(f)return o}return-1}function y(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(F(s))return a;e[n+a]=s}return a}function v(e,t,n,r){return z(N(t,e.length-n),e,n,r)}function b(e,t,n,r){return z(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function x(e,t,n,r){return b(e,t,n,r)}function _(e,t,n,r){return z(j(t),e,n,r)}function w(e,t,n,r){return z(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function k(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function T(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,l,u=e[i],c=null,f=u>239?4:u>223?3:u>191?2:1;if(i+f<=n)switch(f){case 1:u<128&&(c=u);break;case 2:128==(192&(o=e[i+1]))&&(l=(31&u)<<6|63&o)>127&&(c=l);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(l=(15&u)<<12|(63&o)<<6|63&a)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(l=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(c=l)}null===c?(c=65533,f=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=f}return function(e){var t=e.length;if(t<=C)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=C));return n}(r)}n.kMaxLength=o,t.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}(),t.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(t.prototype,"parent",{enumerable:!0,get:function(){if(t.isBuffer(this))return this.buffer}}),Object.defineProperty(t.prototype,"offset",{enumerable:!0,get:function(){if(t.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&t[Symbol.species]===t&&Object.defineProperty(t,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),t.poolSize=8192,t.from=function(e,t,n){return s(e,t,n)},t.prototype.__proto__=Uint8Array.prototype,t.__proto__=Uint8Array,t.alloc=function(e,t,n){return function(e,t,n){return l(e),e<=0?a(e):void 0!==t?"string"==typeof n?a(e).fill(t,n):a(e).fill(t):a(e)}(e,t,n)},t.allocUnsafe=function(e){return u(e)},t.allocUnsafeSlow=function(e){return u(e)},t.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==t.prototype},t.compare=function(e,n){if(q(e,Uint8Array)&&(e=t.from(e,e.offset,e.byteLength)),q(n,Uint8Array)&&(n=t.from(n,n.offset,n.byteLength)),!t.isBuffer(e)||!t.isBuffer(n))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===n)return 0;for(var r=e.length,i=n.length,o=0,a=Math.min(r,i);o<a;++o)if(e[o]!==n[o]){r=e[o],i=n[o];break}return r<i?-1:i<r?1:0},t.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},t.concat=function(e,n){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return t.alloc(0);var r;if(void 0===n)for(n=0,r=0;r<e.length;++r)n+=e[r].length;var i=t.allocUnsafe(n),o=0;for(r=0;r<e.length;++r){var a=e[r];if(q(a,Uint8Array)&&(a=t.from(a)),!t.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,o),o+=a.length}return i},t.byteLength=d,t.prototype._isBuffer=!0,t.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)h(this,t,t+1);return this},t.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)h(this,t,t+3),h(this,t+1,t+2);return this},t.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)h(this,t,t+7),h(this,t+1,t+6),h(this,t+2,t+5),h(this,t+3,t+4);return this},t.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?T(this,0,e):p.apply(this,arguments)},t.prototype.toLocaleString=t.prototype.toString,t.prototype.equals=function(e){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===t.compare(this,e)},t.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},t.prototype.compare=function(e,n,r,i,o){if(q(e,Uint8Array)&&(e=t.from(e,e.offset,e.byteLength)),!t.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===n&&(n=0),void 0===r&&(r=e?e.length:0),void 0===i&&(i=0),void 0===o&&(o=this.length),n<0||r>e.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&n>=r)return 0;if(i>=o)return-1;if(n>=r)return 1;if(this===e)return 0;for(var a=(o>>>=0)-(i>>>=0),s=(r>>>=0)-(n>>>=0),l=Math.min(a,s),u=this.slice(i,o),c=e.slice(n,r),f=0;f<l;++f)if(u[f]!==c[f]){a=u[f],s=c[f];break}return a<s?-1:s<a?1:0},t.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},t.prototype.indexOf=function(e,t,n){return g(this,e,t,n,!0)},t.prototype.lastIndexOf=function(e,t,n){return g(this,e,t,n,!1)},t.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return y(this,e,t,n);case"utf8":case"utf-8":return v(this,e,t,n);case"ascii":return b(this,e,t,n);case"latin1":case"binary":return x(this,e,t,n);case"base64":return _(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},t.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var C=4096;function O(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function S(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function A(e,t,n){var r,i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var o="",a=t;a<n;++a)o+=(r=e[a])<16?"0"+r.toString(16):r.toString(16);return o}function M(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function E(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function P(e,n,r,i,o,a){if(!t.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>o||n<a)throw new RangeError('"value" argument is out of bounds');if(r+i>e.length)throw new RangeError("Index out of range")}function D(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(e,t,n,r,o){return t=+t,n>>>=0,o||D(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function R(e,t,n,r,o){return t=+t,n>>>=0,o||D(e,0,n,8),i.write(e,t,n,r,52,8),n+8}t.prototype.slice=function(e,n){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(n=void 0===n?r:~~n)<0?(n+=r)<0&&(n=0):n>r&&(n=r),n<e&&(n=e);var i=this.subarray(e,n);return i.__proto__=t.prototype,i},t.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||E(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},t.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||E(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},t.prototype.readUInt8=function(e,t){return e>>>=0,t||E(e,1,this.length),this[e]},t.prototype.readUInt16LE=function(e,t){return e>>>=0,t||E(e,2,this.length),this[e]|this[e+1]<<8},t.prototype.readUInt16BE=function(e,t){return e>>>=0,t||E(e,2,this.length),this[e]<<8|this[e+1]},t.prototype.readUInt32LE=function(e,t){return e>>>=0,t||E(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},t.prototype.readUInt32BE=function(e,t){return e>>>=0,t||E(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},t.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||E(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},t.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||E(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},t.prototype.readInt8=function(e,t){return e>>>=0,t||E(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},t.prototype.readInt16LE=function(e,t){e>>>=0,t||E(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},t.prototype.readInt16BE=function(e,t){e>>>=0,t||E(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},t.prototype.readInt32LE=function(e,t){return e>>>=0,t||E(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},t.prototype.readInt32BE=function(e,t){return e>>>=0,t||E(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},t.prototype.readFloatLE=function(e,t){return e>>>=0,t||E(e,4,this.length),i.read(this,e,!0,23,4)},t.prototype.readFloatBE=function(e,t){return e>>>=0,t||E(e,4,this.length),i.read(this,e,!1,23,4)},t.prototype.readDoubleLE=function(e,t){return e>>>=0,t||E(e,8,this.length),i.read(this,e,!0,52,8)},t.prototype.readDoubleBE=function(e,t){return e>>>=0,t||E(e,8,this.length),i.read(this,e,!1,52,8)},t.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||P(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},t.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||P(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},t.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,1,255,0),this[t]=255&e,t+1},t.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},t.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},t.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},t.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},t.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);P(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},t.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);P(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},t.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},t.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},t.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},t.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},t.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},t.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},t.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},t.prototype.writeDoubleLE=function(e,t,n){return R(this,e,t,!0,n)},t.prototype.writeDoubleBE=function(e,t,n){return R(this,e,t,!1,n)},t.prototype.copy=function(e,n,r,i){if(!t.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),i||0===i||(i=this.length),n>=e.length&&(n=e.length),n||(n=0),i>0&&i<r&&(i=r),i===r)return 0;if(0===e.length||0===this.length)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-n<i-r&&(i=e.length-n+r);var o=i-r;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(n,r,i);else if(this===e&&r<n&&n<i)for(var a=o-1;a>=0;--a)e[a+n]=this[a+r];else Uint8Array.prototype.set.call(e,this.subarray(r,i),n);return o},t.prototype.fill=function(e,n,r,i){if("string"==typeof e){if("string"==typeof n?(i=n,n=0,r=this.length):"string"==typeof r&&(i=r,r=this.length),void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!t.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(1===e.length){var o=e.charCodeAt(0);("utf8"===i&&o<128||"latin1"===i)&&(e=o)}}else"number"==typeof e&&(e&=255);if(n<0||this.length<n||this.length<r)throw new RangeError("Out of range index");if(r<=n)return this;var a;if(n>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(a=n;a<r;++a)this[a]=e;else{var s=t.isBuffer(e)?e:t.from(e,i),l=s.length;if(0===l)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<r-n;++a)this[a+n]=s[a%l]}return this};var I=/[^+/0-9A-Za-z-_]/g;function N(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function j(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(I,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function z(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function q(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function F(e){return e!=e}}).call(this,e("buffer").Buffer)},{"base64-js":15,buffer:18,ieee754:27}],19:[function(e,t,n){var r,i;r=this,i=function(e,t){"use strict";function n(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function r(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function i(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function o(e){var o=e.dateTime,a=e.date,l=e.time,u=e.periods,c=e.days,f=e.shortDays,d=e.months,ve=e.shortMonths,be=p(u),xe=h(u),_e=p(c),we=h(c),ke=p(f),Te=h(f),Ce=p(d),Oe=h(d),Se=p(ve),Ae=h(ve),Me={a:function(e){return f[e.getDay()]},A:function(e){return c[e.getDay()]},b:function(e){return ve[e.getMonth()]},B:function(e){return d[e.getMonth()]},c:null,d:I,e:I,f:F,H:N,I:j,j:z,L:q,m:B,M:H,p:function(e){return u[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:me,s:ye,S:U,u:V,U:W,V:G,w:K,W:Y,x:null,X:null,y:Z,Y:X,Z:$,"%":ge},Ee={a:function(e){return f[e.getUTCDay()]},A:function(e){return c[e.getUTCDay()]},b:function(e){return ve[e.getUTCMonth()]},B:function(e){return d[e.getUTCMonth()]},c:null,d:J,e:J,f:re,H:Q,I:ee,j:te,L:ne,m:ie,M:oe,p:function(e){return u[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:me,s:ye,S:ae,u:se,U:le,V:ue,w:ce,W:fe,x:null,X:null,y:de,Y:pe,Z:he,"%":ge},Pe={a:function(e,t,n){var r=ke.exec(t.slice(n));return r?(e.w=Te[r[0].toLowerCase()],n+r[0].length):-1},A:function(e,t,n){var r=_e.exec(t.slice(n));return r?(e.w=we[r[0].toLowerCase()],n+r[0].length):-1},b:function(e,t,n){var r=Se.exec(t.slice(n));return r?(e.m=Ae[r[0].toLowerCase()],n+r[0].length):-1},B:function(e,t,n){var r=Ce.exec(t.slice(n));return r?(e.m=Oe[r[0].toLowerCase()],n+r[0].length):-1},c:function(e,t,n){return Re(e,o,t,n)},d:C,e:C,f:P,H:S,I:S,j:O,L:E,m:T,M:A,p:function(e,t,n){var r=be.exec(t.slice(n));return r?(e.p=xe[r[0].toLowerCase()],n+r[0].length):-1},q:k,Q:L,s:R,S:M,u:m,U:y,V:v,w:g,W:b,x:function(e,t,n){return Re(e,a,t,n)},X:function(e,t,n){return Re(e,l,t,n)},y:_,Y:x,Z:w,"%":D};function De(e,t){return function(n){var r,i,o,a=[],l=-1,u=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++l<c;)37===e.charCodeAt(l)&&(a.push(e.slice(u,l)),null!=(i=s[r=e.charAt(++l)])?r=e.charAt(++l):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),a.push(r),u=l+1);return a.push(e.slice(u,l)),a.join("")}}function Le(e,o){return function(a){var s,l,u=i(1900,void 0,1);if(Re(u,e,a+="",0)!=a.length)return null;if("Q"in u)return new Date(u.Q);if("s"in u)return new Date(1e3*u.s+("L"in u?u.L:0));if(o&&!("Z"in u)&&(u.Z=0),"p"in u&&(u.H=u.H%12+12*u.p),void 0===u.m&&(u.m="q"in u?u.q:0),"V"in u){if(u.V<1||u.V>53)return null;"w"in u||(u.w=1),"Z"in u?(l=(s=r(i(u.y,0,1))).getUTCDay(),s=l>4||0===l?t.utcMonday.ceil(s):t.utcMonday(s),s=t.utcDay.offset(s,7*(u.V-1)),u.y=s.getUTCFullYear(),u.m=s.getUTCMonth(),u.d=s.getUTCDate()+(u.w+6)%7):(l=(s=n(i(u.y,0,1))).getDay(),s=l>4||0===l?t.timeMonday.ceil(s):t.timeMonday(s),s=t.timeDay.offset(s,7*(u.V-1)),u.y=s.getFullYear(),u.m=s.getMonth(),u.d=s.getDate()+(u.w+6)%7)}else("W"in u||"U"in u)&&("w"in u||(u.w="u"in u?u.u%7:"W"in u?1:0),l="Z"in u?r(i(u.y,0,1)).getUTCDay():n(i(u.y,0,1)).getDay(),u.m=0,u.d="W"in u?(u.w+6)%7+7*u.W-(l+5)%7:u.w+7*u.U-(l+6)%7);return"Z"in u?(u.H+=u.Z/100|0,u.M+=u.Z%100,r(u)):n(u)}}function Re(e,t,n,r){for(var i,o,a=0,l=t.length,u=n.length;a<l;){if(r>=u)return-1;if(37===(i=t.charCodeAt(a++))){if(i=t.charAt(a++),!(o=Pe[i in s?t.charAt(a++):i])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return Me.x=De(a,Me),Me.X=De(l,Me),Me.c=De(o,Me),Ee.x=De(a,Ee),Ee.X=De(l,Ee),Ee.c=De(o,Ee),{format:function(e){var t=De(e+="",Me);return t.toString=function(){return e},t},parse:function(e){var t=Le(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=De(e+="",Ee);return t.toString=function(){return e},t},utcParse:function(e){var t=Le(e+="",!0);return t.toString=function(){return e},t}}}var a,s={"-":"",_:" ",0:"0"},l=/^\s*\d+/,u=/^%/,c=/[\\^$*+?|[\]().{}]/g;function f(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function d(e){return e.replace(c,"\\$&")}function p(e){return new RegExp("^(?:"+e.map(d).join("|")+")","i")}function h(e){for(var t={},n=-1,r=e.length;++n<r;)t[e[n].toLowerCase()]=n;return t}function g(e,t,n){var r=l.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function m(e,t,n){var r=l.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function y(e,t,n){var r=l.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function v(e,t,n){var r=l.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function b(e,t,n){var r=l.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function x(e,t,n){var r=l.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function _(e,t,n){var r=l.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function w(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function k(e,t,n){var r=l.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function T(e,t,n){var r=l.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function C(e,t,n){var r=l.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function O(e,t,n){var r=l.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function S(e,t,n){var r=l.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function A(e,t,n){var r=l.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function M(e,t,n){var r=l.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function E(e,t,n){var r=l.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function P(e,t,n){var r=l.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function D(e,t,n){var r=u.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function L(e,t,n){var r=l.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function R(e,t,n){var r=l.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function I(e,t){return f(e.getDate(),t,2)}function N(e,t){return f(e.getHours(),t,2)}function j(e,t){return f(e.getHours()%12||12,t,2)}function z(e,n){return f(1+t.timeDay.count(t.timeYear(e),e),n,3)}function q(e,t){return f(e.getMilliseconds(),t,3)}function F(e,t){return q(e,t)+"000"}function B(e,t){return f(e.getMonth()+1,t,2)}function H(e,t){return f(e.getMinutes(),t,2)}function U(e,t){return f(e.getSeconds(),t,2)}function V(e){var t=e.getDay();return 0===t?7:t}function W(e,n){return f(t.timeSunday.count(t.timeYear(e)-1,e),n,2)}function G(e,n){var r=e.getDay();return e=r>=4||0===r?t.timeThursday(e):t.timeThursday.ceil(e),f(t.timeThursday.count(t.timeYear(e),e)+(4===t.timeYear(e).getDay()),n,2)}function K(e){return e.getDay()}function Y(e,n){return f(t.timeMonday.count(t.timeYear(e)-1,e),n,2)}function Z(e,t){return f(e.getFullYear()%100,t,2)}function X(e,t){return f(e.getFullYear()%1e4,t,4)}function $(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+f(t/60|0,"0",2)+f(t%60,"0",2)}function J(e,t){return f(e.getUTCDate(),t,2)}function Q(e,t){return f(e.getUTCHours(),t,2)}function ee(e,t){return f(e.getUTCHours()%12||12,t,2)}function te(e,n){return f(1+t.utcDay.count(t.utcYear(e),e),n,3)}function ne(e,t){return f(e.getUTCMilliseconds(),t,3)}function re(e,t){return ne(e,t)+"000"}function ie(e,t){return f(e.getUTCMonth()+1,t,2)}function oe(e,t){return f(e.getUTCMinutes(),t,2)}function ae(e,t){return f(e.getUTCSeconds(),t,2)}function se(e){var t=e.getUTCDay();return 0===t?7:t}function le(e,n){return f(t.utcSunday.count(t.utcYear(e)-1,e),n,2)}function ue(e,n){var r=e.getUTCDay();return e=r>=4||0===r?t.utcThursday(e):t.utcThursday.ceil(e),f(t.utcThursday.count(t.utcYear(e),e)+(4===t.utcYear(e).getUTCDay()),n,2)}function ce(e){return e.getUTCDay()}function fe(e,n){return f(t.utcMonday.count(t.utcYear(e)-1,e),n,2)}function de(e,t){return f(e.getUTCFullYear()%100,t,2)}function pe(e,t){return f(e.getUTCFullYear()%1e4,t,4)}function he(){return"+0000"}function ge(){return"%"}function me(e){return+e}function ye(e){return Math.floor(+e/1e3)}function ve(t){return a=o(t),e.timeFormat=a.format,e.timeParse=a.parse,e.utcFormat=a.utcFormat,e.utcParse=a.utcParse,a}ve({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var be="%Y-%m-%dT%H:%M:%S.%LZ";var xe=Date.prototype.toISOString?function(e){return e.toISOString()}:e.utcFormat(be);var _e=+new Date("2000-01-01T00:00:00.000Z")?function(e){var t=new Date(e);return isNaN(t)?null:t}:e.utcParse(be);e.isoFormat=xe,e.isoParse=_e,e.timeFormatDefaultLocale=ve,e.timeFormatLocale=o,Object.defineProperty(e,"__esModule",{value:!0})},"object"==typeof n&&void 0!==t?i(n,e("d3-time")):i((r=r||self).d3=r.d3||{},r.d3)},{"d3-time":20}],20:[function(e,t,n){var r;r=this,function(e){"use strict";var t=new Date,n=new Date;function r(e,i,o,a){function s(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return s.floor=function(t){return e(t=new Date(+t)),t},s.ceil=function(t){return e(t=new Date(t-1)),i(t,1),e(t),t},s.round=function(e){var t=s(e),n=s.ceil(e);return e-t<n-e?t:n},s.offset=function(e,t){return i(e=new Date(+e),null==t?1:Math.floor(t)),e},s.range=function(t,n,r){var o,a=[];if(t=s.ceil(t),r=null==r?1:Math.floor(r),!(t<n&&r>0))return a;do{a.push(o=new Date(+t)),i(t,r),e(t)}while(o<t&&t<n);return a},s.filter=function(t){return r((function(n){if(n>=n)for(;e(n),!t(n);)n.setTime(n-1)}),(function(e,n){if(e>=e)if(n<0)for(;++n<=0;)for(;i(e,-1),!t(e););else for(;--n>=0;)for(;i(e,1),!t(e););}))},o&&(s.count=function(r,i){return t.setTime(+r),n.setTime(+i),e(t),e(n),Math.floor(o(t,n))},s.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?s.filter(a?function(t){return a(t)%e==0}:function(t){return s.count(0,t)%e==0}):s:null}),s}var i=r((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e}));i.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?r((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):i:null};var o=i.range,a=1e3,s=6e4,l=36e5,u=864e5,c=6048e5,f=r((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+t*a)}),(function(e,t){return(t-e)/a}),(function(e){return e.getUTCSeconds()})),d=f.range,p=r((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*a)}),(function(e,t){e.setTime(+e+t*s)}),(function(e,t){return(t-e)/s}),(function(e){return e.getMinutes()})),h=p.range,g=r((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*a-e.getMinutes()*s)}),(function(e,t){e.setTime(+e+t*l)}),(function(e,t){return(t-e)/l}),(function(e){return e.getHours()})),m=g.range,y=r((function(e){e.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*s)/u}),(function(e){return e.getDate()-1})),v=y.range;function b(e){return r((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*s)/c}))}var x=b(0),_=b(1),w=b(2),k=b(3),T=b(4),C=b(5),O=b(6),S=x.range,A=_.range,M=w.range,E=k.range,P=T.range,D=C.range,L=O.range,R=r((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()})),I=R.range,N=r((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()}));N.every=function(e){return isFinite(e=Math.floor(e))&&e>0?r((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};var j=N.range,z=r((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+t*s)}),(function(e,t){return(t-e)/s}),(function(e){return e.getUTCMinutes()})),q=z.range,F=r((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+t*l)}),(function(e,t){return(t-e)/l}),(function(e){return e.getUTCHours()})),B=F.range,H=r((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/u}),(function(e){return e.getUTCDate()-1})),U=H.range;function V(e){return r((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/c}))}var W=V(0),G=V(1),K=V(2),Y=V(3),Z=V(4),X=V(5),$=V(6),J=W.range,Q=G.range,ee=K.range,te=Y.range,ne=Z.range,re=X.range,ie=$.range,oe=r((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()})),ae=oe.range,se=r((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()}));se.every=function(e){return isFinite(e=Math.floor(e))&&e>0?r((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};var le=se.range;e.timeDay=y,e.timeDays=v,e.timeFriday=C,e.timeFridays=D,e.timeHour=g,e.timeHours=m,e.timeInterval=r,e.timeMillisecond=i,e.timeMilliseconds=o,e.timeMinute=p,e.timeMinutes=h,e.timeMonday=_,e.timeMondays=A,e.timeMonth=R,e.timeMonths=I,e.timeSaturday=O,e.timeSaturdays=L,e.timeSecond=f,e.timeSeconds=d,e.timeSunday=x,e.timeSundays=S,e.timeThursday=T,e.timeThursdays=P,e.timeTuesday=w,e.timeTuesdays=M,e.timeWednesday=k,e.timeWednesdays=E,e.timeWeek=x,e.timeWeeks=S,e.timeYear=N,e.timeYears=j,e.utcDay=H,e.utcDays=U,e.utcFriday=X,e.utcFridays=re,e.utcHour=F,e.utcHours=B,e.utcMillisecond=i,e.utcMilliseconds=o,e.utcMinute=z,e.utcMinutes=q,e.utcMonday=G,e.utcMondays=Q,e.utcMonth=oe,e.utcMonths=ae,e.utcSaturday=$,e.utcSaturdays=ie,e.utcSecond=f,e.utcSeconds=d,e.utcSunday=W,e.utcSundays=J,e.utcThursday=Z,e.utcThursdays=ne,e.utcTuesday=K,e.utcTuesdays=ee,e.utcWednesday=Y,e.utcWednesdays=te,e.utcWeek=W,e.utcWeeks=J,e.utcYear=se,e.utcYears=le,Object.defineProperty(e,"__esModule",{value:!0})}("object"==typeof n&&void 0!==t?n:(r=r||self).d3=r.d3||{})},{}],21:[function(e,t,n){!function(){var e={version:"3.5.17"},n=[].slice,r=function(e){return n.call(e)},i=this.document;function o(e){return e&&(e.ownerDocument||e.document||e).documentElement}function a(e){return e&&(e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView)}if(i)try{r(i.documentElement.childNodes)[0].nodeType}catch(e){r=function(e){for(var t=e.length,n=new Array(t);t--;)n[t]=e[t];return n}}if(Date.now||(Date.now=function(){return+new Date}),i)try{i.createElement("DIV").style.setProperty("opacity",0,"")}catch(e){var s=this.Element.prototype,l=s.setAttribute,u=s.setAttributeNS,c=this.CSSStyleDeclaration.prototype,f=c.setProperty;s.setAttribute=function(e,t){l.call(this,e,t+"")},s.setAttributeNS=function(e,t,n){u.call(this,e,t,n+"")},c.setProperty=function(e,t,n){f.call(this,e,t+"",n)}}function d(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function p(e){return null===e?NaN:+e}function h(e){return!isNaN(e)}function g(e){return{left:function(t,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r},right:function(t,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}}e.ascending=d,e.descending=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},e.min=function(e,t){var n,r,i=-1,o=e.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=e[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=e[i])&&n>r&&(n=r)}else{for(;++i<o;)if(null!=(r=t.call(e,e[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=t.call(e,e[i],i))&&n>r&&(n=r)}return n},e.max=function(e,t){var n,r,i=-1,o=e.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=e[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=e[i])&&r>n&&(n=r)}else{for(;++i<o;)if(null!=(r=t.call(e,e[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=t.call(e,e[i],i))&&r>n&&(n=r)}return n},e.extent=function(e,t){var n,r,i,o=-1,a=e.length;if(1===arguments.length){for(;++o<a;)if(null!=(r=e[o])&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=e[o])&&(n>r&&(n=r),i<r&&(i=r))}else{for(;++o<a;)if(null!=(r=t.call(e,e[o],o))&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=t.call(e,e[o],o))&&(n>r&&(n=r),i<r&&(i=r))}return[n,i]},e.sum=function(e,t){var n,r=0,i=e.length,o=-1;if(1===arguments.length)for(;++o<i;)h(n=+e[o])&&(r+=n);else for(;++o<i;)h(n=+t.call(e,e[o],o))&&(r+=n);return r},e.mean=function(e,t){var n,r=0,i=e.length,o=-1,a=i;if(1===arguments.length)for(;++o<i;)h(n=p(e[o]))?r+=n:--a;else for(;++o<i;)h(n=p(t.call(e,e[o],o)))?r+=n:--a;if(a)return r/a},e.quantile=function(e,t){var n=(e.length-1)*t+1,r=Math.floor(n),i=+e[r-1],o=n-r;return o?i+o*(e[r]-i):i},e.median=function(t,n){var r,i=[],o=t.length,a=-1;if(1===arguments.length)for(;++a<o;)h(r=p(t[a]))&&i.push(r);else for(;++a<o;)h(r=p(n.call(t,t[a],a)))&&i.push(r);if(i.length)return e.quantile(i.sort(d),.5)},e.variance=function(e,t){var n,r,i=e.length,o=0,a=0,s=-1,l=0;if(1===arguments.length)for(;++s<i;)h(n=p(e[s]))&&(a+=(r=n-o)*(n-(o+=r/++l)));else for(;++s<i;)h(n=p(t.call(e,e[s],s)))&&(a+=(r=n-o)*(n-(o+=r/++l)));if(l>1)return a/(l-1)},e.deviation=function(){var t=e.variance.apply(this,arguments);return t?Math.sqrt(t):t};var m=g(d);function y(e){return e.length}e.bisectLeft=m.left,e.bisect=e.bisectRight=m.right,e.bisector=function(e){return g(1===e.length?function(t,n){return d(e(t),n)}:e)},e.shuffle=function(e,t,n){(o=arguments.length)<3&&(n=e.length,o<2&&(t=0));for(var r,i,o=n-t;o;)i=Math.random()*o--|0,r=e[o+t],e[o+t]=e[i+t],e[i+t]=r;return e},e.permute=function(e,t){for(var n=t.length,r=new Array(n);n--;)r[n]=e[t[n]];return r},e.pairs=function(e){for(var t=0,n=e.length-1,r=e[0],i=new Array(n<0?0:n);t<n;)i[t]=[r,r=e[++t]];return i},e.transpose=function(t){if(!(o=t.length))return[];for(var n=-1,r=e.min(t,y),i=new Array(r);++n<r;)for(var o,a=-1,s=i[n]=new Array(o);++a<o;)s[a]=t[a][n];return i},e.zip=function(){return e.transpose(arguments)},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t},e.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},e.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},e.merge=function(e){for(var t,n,r,i=e.length,o=-1,a=0;++o<i;)a+=e[o].length;for(n=new Array(a);--i>=0;)for(t=(r=e[i]).length;--t>=0;)n[--a]=r[t];return n};var v=Math.abs;function b(e){for(var t=1;e*t%1;)t*=10;return t}function x(e,t){for(var n in t)Object.defineProperty(e.prototype,n,{value:t[n],enumerable:!1})}function _(){this._=Object.create(null)}e.range=function(e,t,n){if(arguments.length<3&&(n=1,arguments.length<2&&(t=e,e=0)),(t-e)/n==1/0)throw new Error("infinite range");var r,i=[],o=b(v(n)),a=-1;if(e*=o,t*=o,(n*=o)<0)for(;(r=e+n*++a)>t;)i.push(r/o);else for(;(r=e+n*++a)<t;)i.push(r/o);return i},e.map=function(e,t){var n=new _;if(e instanceof _)e.forEach((function(e,t){n.set(e,t)}));else if(Array.isArray(e)){var r,i=-1,o=e.length;if(1===arguments.length)for(;++i<o;)n.set(i,e[i]);else for(;++i<o;)n.set(t.call(e,r=e[i],i),r)}else for(var a in e)n.set(a,e[a]);return n};function w(e){return"__proto__"==(e+="")||"\0"===e[0]?"\0"+e:e}function k(e){return"\0"===(e+="")[0]?e.slice(1):e}function T(e){return w(e)in this._}function C(e){return(e=w(e))in this._&&delete this._[e]}function O(){var e=[];for(var t in this._)e.push(k(t));return e}function S(){var e=0;for(var t in this._)++e;return e}function A(){for(var e in this._)return!1;return!0}function M(){this._=Object.create(null)}function E(e){return e}function P(e,t,n){return function(){var r=n.apply(t,arguments);return r===t?e:r}}function D(e,t){if(t in e)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var n=0,r=L.length;n<r;++n){var i=L[n]+t;if(i in e)return i}}x(_,{has:T,get:function(e){return this._[w(e)]},set:function(e,t){return this._[w(e)]=t},remove:C,keys:O,values:function(){var e=[];for(var t in this._)e.push(this._[t]);return e},entries:function(){var e=[];for(var t in this._)e.push({key:k(t),value:this._[t]});return e},size:S,empty:A,forEach:function(e){for(var t in this._)e.call(this,k(t),this._[t])}}),e.nest=function(){var t,n,r={},i=[],o=[];function a(e,o,s){if(s>=i.length)return n?n.call(r,o):t?o.sort(t):o;for(var l,u,c,f,d=-1,p=o.length,h=i[s++],g=new _;++d<p;)(f=g.get(l=h(u=o[d])))?f.push(u):g.set(l,[u]);return e?(u=e(),c=function(t,n){u.set(t,a(e,n,s))}):(u={},c=function(t,n){u[t]=a(e,n,s)}),g.forEach(c),u}function s(e,t){if(t>=i.length)return e;var n=[],r=o[t++];return e.forEach((function(e,r){n.push({key:e,values:s(r,t)})})),r?n.sort((function(e,t){return r(e.key,t.key)})):n}return r.map=function(e,t){return a(t,e,0)},r.entries=function(t){return s(a(e.map,t,0),0)},r.key=function(e){return i.push(e),r},r.sortKeys=function(e){return o[i.length-1]=e,r},r.sortValues=function(e){return t=e,r},r.rollup=function(e){return n=e,r},r},e.set=function(e){var t=new M;if(e)for(var n=0,r=e.length;n<r;++n)t.add(e[n]);return t},x(M,{has:T,add:function(e){return this._[w(e+="")]=!0,e},remove:C,values:O,size:S,empty:A,forEach:function(e){for(var t in this._)e.call(this,k(t))}}),e.behavior={},e.rebind=function(e,t){for(var n,r=1,i=arguments.length;++r<i;)e[n=arguments[r]]=P(e,t,t[n]);return e};var L=["webkit","ms","moz","Moz","o","O"];function R(){}function I(){}function N(e){var t=[],n=new _;function r(){for(var n,r=t,i=-1,o=r.length;++i<o;)(n=r[i].on)&&n.apply(this,arguments);return e}return r.on=function(r,i){var o,a=n.get(r);return arguments.length<2?a&&a.on:(a&&(a.on=null,t=t.slice(0,o=t.indexOf(a)).concat(t.slice(o+1)),n.remove(r)),i&&t.push(n.set(r,{on:i})),e)},r}function j(){e.event.preventDefault()}function z(){for(var t,n=e.event;t=n.sourceEvent;)n=t;return n}function q(t){for(var n=new I,r=0,i=arguments.length;++r<i;)n[arguments[r]]=N(n);return n.of=function(r,i){return function(o){try{var a=o.sourceEvent=e.event;o.target=t,e.event=o,n[o.type].apply(r,i)}finally{e.event=a}}},n}e.dispatch=function(){for(var e=new I,t=-1,n=arguments.length;++t<n;)e[arguments[t]]=N(e);return e},I.prototype.on=function(e,t){var n=e.indexOf("."),r="";if(n>=0&&(r=e.slice(n+1),e=e.slice(0,n)),e)return arguments.length<2?this[e].on(r):this[e].on(r,t);if(2===arguments.length){if(null==t)for(e in this)this.hasOwnProperty(e)&&this[e].on(r,null);return this}},e.event=null,e.requote=function(e){return e.replace(F,"\\$&")};var F=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,B={}.__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]};function H(e){return B(e,G),e}var U=function(e,t){return t.querySelector(e)},V=function(e,t){return t.querySelectorAll(e)},W=function(e,t){var n=e.matches||e[D(e,"matchesSelector")];return(W=function(e,t){return n.call(e,t)})(e,t)};"function"==typeof Sizzle&&(U=function(e,t){return Sizzle(e,t)[0]||null},V=Sizzle,W=Sizzle.matchesSelector),e.selection=function(){return e.select(i.documentElement)};var G=e.selection.prototype=[];function K(e){return"function"==typeof e?e:function(){return U(e,this)}}function Y(e){return"function"==typeof e?e:function(){return V(e,this)}}G.select=function(e){var t,n,r,i,o=[];e=K(e);for(var a=-1,s=this.length;++a<s;){o.push(t=[]),t.parentNode=(r=this[a]).parentNode;for(var l=-1,u=r.length;++l<u;)(i=r[l])?(t.push(n=e.call(i,i.__data__,l,a)),n&&"__data__"in i&&(n.__data__=i.__data__)):t.push(null)}return H(o)},G.selectAll=function(e){var t,n,i=[];e=Y(e);for(var o=-1,a=this.length;++o<a;)for(var s=this[o],l=-1,u=s.length;++l<u;)(n=s[l])&&(i.push(t=r(e.call(n,n.__data__,l,o))),t.parentNode=n);return H(i)};var Z="http://www.w3.org/1999/xhtml",X={svg:"http://www.w3.org/2000/svg",xhtml:Z,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function $(t,n){return t=e.ns.qualify(t),null==n?t.local?function(){this.removeAttributeNS(t.space,t.local)}:function(){this.removeAttribute(t)}:"function"==typeof n?t.local?function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}:function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}:t.local?function(){this.setAttributeNS(t.space,t.local,n)}:function(){this.setAttribute(t,n)}}function J(e){return e.trim().replace(/\s+/g," ")}function Q(t){return new RegExp("(?:^|\\s+)"+e.requote(t)+"(?:\\s+|$)","g")}function ee(e){return(e+"").trim().split(/^|\s+/)}function te(e,t){var n=(e=ee(e).map(ne)).length;return"function"==typeof t?function(){for(var r=-1,i=t.apply(this,arguments);++r<n;)e[r](this,i)}:function(){for(var r=-1;++r<n;)e[r](this,t)}}function ne(e){var t=Q(e);return function(n,r){if(i=n.classList)return r?i.add(e):i.remove(e);var i=n.getAttribute("class")||"";r?(t.lastIndex=0,t.test(i)||n.setAttribute("class",J(i+" "+e))):n.setAttribute("class",J(i.replace(t," ")))}}function re(e,t,n){return null==t?function(){this.style.removeProperty(e)}:"function"==typeof t?function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}:function(){this.style.setProperty(e,t,n)}}function ie(e,t){return null==t?function(){delete this[e]}:"function"==typeof t?function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}:function(){this[e]=t}}function oe(t){return"function"==typeof t?t:(t=e.ns.qualify(t)).local?function(){return this.ownerDocument.createElementNS(t.space,t.local)}:function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Z&&e.documentElement.namespaceURI===Z?e.createElement(t):e.createElementNS(n,t)}}function ae(){var e=this.parentNode;e&&e.removeChild(this)}function se(e){return{__data__:e}}function le(e){return function(){return W(this,e)}}function ue(e){return arguments.length||(e=d),function(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}}function ce(e,t){for(var n=0,r=e.length;n<r;n++)for(var i,o=e[n],a=0,s=o.length;a<s;a++)(i=o[a])&&t(i,a,n);return e}function fe(e){return B(e,de),e}e.ns={prefix:X,qualify:function(e){var t=e.indexOf(":"),n=e;return t>=0&&"xmlns"!==(n=e.slice(0,t))&&(e=e.slice(t+1)),X.hasOwnProperty(n)?{space:X[n],local:e}:e}},G.attr=function(t,n){if(arguments.length<2){if("string"==typeof t){var r=this.node();return(t=e.ns.qualify(t)).local?r.getAttributeNS(t.space,t.local):r.getAttribute(t)}for(n in t)this.each($(n,t[n]));return this}return this.each($(t,n))},G.classed=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node(),r=(e=ee(e)).length,i=-1;if(t=n.classList){for(;++i<r;)if(!t.contains(e[i]))return!1}else for(t=n.getAttribute("class");++i<r;)if(!Q(e[i]).test(t))return!1;return!0}for(t in e)this.each(te(t,e[t]));return this}return this.each(te(e,t))},G.style=function(e,t,n){var r=arguments.length;if(r<3){if("string"!=typeof e){for(n in r<2&&(t=""),e)this.each(re(n,e[n],t));return this}if(r<2){var i=this.node();return a(i).getComputedStyle(i,null).getPropertyValue(e)}n=""}return this.each(re(e,t,n))},G.property=function(e,t){if(arguments.length<2){if("string"==typeof e)return this.node()[e];for(t in e)this.each(ie(t,e[t]));return this}return this.each(ie(e,t))},G.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},G.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},G.append=function(e){return e=oe(e),this.select((function(){return this.appendChild(e.apply(this,arguments))}))},G.insert=function(e,t){return e=oe(e),t=K(t),this.select((function(){return this.insertBefore(e.apply(this,arguments),t.apply(this,arguments)||null)}))},G.remove=function(){return this.each(ae)},G.data=function(e,t){var n,r,i=-1,o=this.length;if(!arguments.length){for(e=new Array(o=(n=this[0]).length);++i<o;)(r=n[i])&&(e[i]=r.__data__);return e}function a(e,n){var r,i,o,a=e.length,c=n.length,f=Math.min(a,c),d=new Array(c),p=new Array(c),h=new Array(a);if(t){var g,m=new _,y=new Array(a);for(r=-1;++r<a;)(i=e[r])&&(m.has(g=t.call(i,i.__data__,r))?h[r]=i:m.set(g,i),y[r]=g);for(r=-1;++r<c;)(i=m.get(g=t.call(n,o=n[r],r)))?!0!==i&&(d[r]=i,i.__data__=o):p[r]=se(o),m.set(g,!0);for(r=-1;++r<a;)r in y&&!0!==m.get(y[r])&&(h[r]=e[r])}else{for(r=-1;++r<f;)i=e[r],o=n[r],i?(i.__data__=o,d[r]=i):p[r]=se(o);for(;r<c;++r)p[r]=se(n[r]);for(;r<a;++r)h[r]=e[r]}p.update=d,p.parentNode=d.parentNode=h.parentNode=e.parentNode,s.push(p),l.push(d),u.push(h)}var s=fe([]),l=H([]),u=H([]);if("function"==typeof e)for(;++i<o;)a(n=this[i],e.call(n,n.parentNode.__data__,i));else for(;++i<o;)a(n=this[i],e);return l.enter=function(){return s},l.exit=function(){return u},l},G.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},G.filter=function(e){var t,n,r,i=[];"function"!=typeof e&&(e=le(e));for(var o=0,a=this.length;o<a;o++){i.push(t=[]),t.parentNode=(n=this[o]).parentNode;for(var s=0,l=n.length;s<l;s++)(r=n[s])&&e.call(r,r.__data__,s,o)&&t.push(r)}return H(i)},G.order=function(){for(var e=-1,t=this.length;++e<t;)for(var n,r=this[e],i=r.length-1,o=r[i];--i>=0;)(n=r[i])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},G.sort=function(e){e=ue.apply(this,arguments);for(var t=-1,n=this.length;++t<n;)this[t].sort(e);return this.order()},G.each=function(e){return ce(this,(function(t,n,r){e.call(t,t.__data__,n,r)}))},G.call=function(e){var t=r(arguments);return e.apply(t[0]=this,t),this},G.empty=function(){return!this.node()},G.node=function(){for(var e=0,t=this.length;e<t;e++)for(var n=this[e],r=0,i=n.length;r<i;r++){var o=n[r];if(o)return o}return null},G.size=function(){var e=0;return ce(this,(function(){++e})),e};var de=[];function pe(e){var t,n;return function(r,i,o){var a,s=e[o].update,l=s.length;for(o!=n&&(n=o,t=0),i>=t&&(t=i+1);!(a=s[t])&&++t<l;);return a}}function he(t,n,i){var o="__on"+t,a=t.indexOf("."),s=me;a>0&&(t=t.slice(0,a));var l=ge.get(t);function u(){var e=this[o];e&&(this.removeEventListener(t,e,e.$),delete this[o])}return l&&(t=l,s=ye),a?n?function(){var e=s(n,r(arguments));u.call(this),this.addEventListener(t,this[o]=e,e.$=i),e._=n}:u:n?R:function(){var n,r=new RegExp("^__on([^.]+)"+e.requote(t)+"$");for(var i in this)if(n=i.match(r)){var o=this[i];this.removeEventListener(n[1],o,o.$),delete this[i]}}}e.selection.enter=fe,e.selection.enter.prototype=de,de.append=G.append,de.empty=G.empty,de.node=G.node,de.call=G.call,de.size=G.size,de.select=function(e){for(var t,n,r,i,o,a=[],s=-1,l=this.length;++s<l;){r=(i=this[s]).update,a.push(t=[]),t.parentNode=i.parentNode;for(var u=-1,c=i.length;++u<c;)(o=i[u])?(t.push(r[u]=n=e.call(i.parentNode,o.__data__,u,s)),n.__data__=o.__data__):t.push(null)}return H(a)},de.insert=function(e,t){return arguments.length<2&&(t=pe(this)),G.insert.call(this,e,t)},e.select=function(e){var t;return"string"==typeof e?(t=[U(e,i)]).parentNode=i.documentElement:(t=[e]).parentNode=o(e),H([t])},e.selectAll=function(e){var t;return"string"==typeof e?(t=r(V(e,i))).parentNode=i.documentElement:(t=r(e)).parentNode=null,H([t])},G.on=function(e,t,n){var r=arguments.length;if(r<3){if("string"!=typeof e){for(n in r<2&&(t=!1),e)this.each(he(n,e[n],t));return this}if(r<2)return(r=this.node()["__on"+e])&&r._;n=!1}return this.each(he(e,t,n))};var ge=e.map({mouseenter:"mouseover",mouseleave:"mouseout"});function me(t,n){return function(r){var i=e.event;e.event=r,n[0]=this.__data__;try{t.apply(this,n)}finally{e.event=i}}}function ye(e,t){var n=me(e,t);return function(e){var t=this,r=e.relatedTarget;r&&(r===t||8&r.compareDocumentPosition(t))||n.call(t,e)}}i&&ge.forEach((function(e){"on"+e in i&&ge.remove(e)}));var ve,be=0;function xe(t){var n=".dragsuppress-"+ ++be,r="click"+n,i=e.select(a(t)).on("touchmove"+n,j).on("dragstart"+n,j).on("selectstart"+n,j);if(null==ve&&(ve=!("onselectstart"in t)&&D(t.style,"userSelect")),ve){var s=o(t).style,l=s[ve];s[ve]="none"}return function(e){if(i.on(n,null),ve&&(s[ve]=l),e){var t=function(){i.on(r,null)};i.on(r,(function(){j(),t()}),!0),setTimeout(t,0)}}}e.mouse=function(e){return we(e,z())};var _e=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function we(t,n){n.changedTouches&&(n=n.changedTouches[0]);var r=t.ownerSVGElement||t;if(r.createSVGPoint){var i=r.createSVGPoint();if(_e<0){var o=a(t);if(o.scrollX||o.scrollY){var s=(r=e.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();_e=!(s.f||s.e),r.remove()}}return _e?(i.x=n.pageX,i.y=n.pageY):(i.x=n.clientX,i.y=n.clientY),[(i=i.matrixTransform(t.getScreenCTM().inverse())).x,i.y]}var l=t.getBoundingClientRect();return[n.clientX-l.left-t.clientLeft,n.clientY-l.top-t.clientTop]}function ke(){return e.event.changedTouches[0].identifier}e.touch=function(e,t,n){if(arguments.length<3&&(n=t,t=z().changedTouches),t)for(var r,i=0,o=t.length;i<o;++i)if((r=t[i]).identifier===n)return we(e,r)},e.behavior.drag=function(){var t=q(o,"drag","dragstart","dragend"),n=null,r=s(R,e.mouse,a,"mousemove","mouseup"),i=s(ke,e.touch,E,"touchmove","touchend");function o(){this.on("mousedown.drag",r).on("touchstart.drag",i)}function s(r,i,o,a,s){return function(){var l,u=this,c=e.event.target.correspondingElement||e.event.target,f=u.parentNode,d=t.of(u,arguments),p=0,h=r(),g=".drag"+(null==h?"":"-"+h),m=e.select(o(c)).on(a+g,b).on(s+g,x),y=xe(c),v=i(f,h);function b(){var e,t,n=i(f,h);n&&(e=n[0]-v[0],t=n[1]-v[1],p|=e|t,v=n,d({type:"drag",x:n[0]+l[0],y:n[1]+l[1],dx:e,dy:t}))}function x(){i(f,h)&&(m.on(a+g,null).on(s+g,null),y(p),d({type:"dragend"}))}l=n?[(l=n.apply(u,arguments)).x-v[0],l.y-v[1]]:[0,0],d({type:"dragstart"})}}return o.origin=function(e){return arguments.length?(n=e,o):n},e.rebind(o,t,"on")},e.touches=function(e,t){return arguments.length<2&&(t=z().touches),t?r(t).map((function(t){var n=we(e,t);return n.identifier=t.identifier,n})):[]};var Te=1e-6,Ce=Te*Te,Oe=Math.PI,Se=2*Oe,Ae=Se-Te,Me=Oe/2,Ee=Oe/180,Pe=180/Oe;function De(e){return e>0?1:e<0?-1:0}function Le(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function Re(e){return e>1?0:e<-1?Oe:Math.acos(e)}function Ie(e){return e>1?Me:e<-1?-Me:Math.asin(e)}function Ne(e){return((e=Math.exp(e))+1/e)/2}function je(e){return(e=Math.sin(e/2))*e}var ze=Math.SQRT2;e.interpolateZoom=function(e,t){var n,r,i=e[0],o=e[1],a=e[2],s=t[0],l=t[1],u=t[2],c=s-i,f=l-o,d=c*c+f*f;if(d<Ce)r=Math.log(u/a)/ze,n=function(e){return[i+e*c,o+e*f,a*Math.exp(ze*e*r)]};else{var p=Math.sqrt(d),h=(u*u-a*a+4*d)/(2*a*2*p),g=(u*u-a*a-4*d)/(2*u*2*p),m=Math.log(Math.sqrt(h*h+1)-h),y=Math.log(Math.sqrt(g*g+1)-g);r=(y-m)/ze,n=function(e){var t,n=e*r,s=Ne(m),l=a/(2*p)*(s*(t=ze*n+m,((t=Math.exp(2*t))-1)/(t+1))-function(e){return((e=Math.exp(e))-1/e)/2}(m));return[i+l*c,o+l*f,a*s/Ne(ze*n+m)]}}return n.duration=1e3*r,n},e.behavior.zoom=function(){var t,n,r,o,s,l,u,c,f,d={x:0,y:0,k:1},p=[960,500],h=Be,g=250,m=0,y="mousedown.zoom",v="mousemove.zoom",b="mouseup.zoom",x="touchstart.zoom",_=q(w,"zoomstart","zoom","zoomend");function w(e){e.on(y,P).on(Fe+".zoom",L).on("dblclick.zoom",R).on(x,D)}function k(e){return[(e[0]-d.x)/d.k,(e[1]-d.y)/d.k]}function T(e){d.k=Math.max(h[0],Math.min(h[1],e))}function C(e,t){t=function(e){return[e[0]*d.k+d.x,e[1]*d.k+d.y]}(t),d.x+=e[0]-t[0],d.y+=e[1]-t[1]}function O(t,r,i,o){t.__chart__={x:d.x,y:d.y,k:d.k},T(Math.pow(2,o)),C(n=r,i),t=e.select(t),g>0&&(t=t.transition().duration(g)),t.call(w.event)}function S(){u&&u.domain(l.range().map((function(e){return(e-d.x)/d.k})).map(l.invert)),f&&f.domain(c.range().map((function(e){return(e-d.y)/d.k})).map(c.invert))}function A(e){m++||e({type:"zoomstart"})}function M(e){S(),e({type:"zoom",scale:d.k,translate:[d.x,d.y]})}function E(e){--m||(e({type:"zoomend"}),n=null)}function P(){var t=this,n=_.of(t,arguments),r=0,i=e.select(a(t)).on(v,l).on(b,u),o=k(e.mouse(t)),s=xe(t);function l(){r=1,C(e.mouse(t),o),M(n)}function u(){i.on(v,null).on(b,null),s(r),E(n)}Ps.call(t),A(n)}function D(){var t,n=this,r=_.of(n,arguments),i={},o=0,a=".zoom-"+e.event.changedTouches[0].identifier,l="touchmove"+a,u="touchend"+a,c=[],f=e.select(n),p=xe(n);function h(){var r=e.touches(n);return t=d.k,r.forEach((function(e){e.identifier in i&&(i[e.identifier]=k(e))})),r}function g(){var t=e.event.target;e.select(t).on(l,m).on(u,v),c.push(t);for(var r=e.event.changedTouches,a=0,f=r.length;a<f;++a)i[r[a].identifier]=null;var p=h(),g=Date.now();if(1===p.length){if(g-s<500){var y=p[0];O(n,y,i[y.identifier],Math.floor(Math.log(d.k)/Math.LN2)+1),j()}s=g}else if(p.length>1){y=p[0];var b=p[1],x=y[0]-b[0],_=y[1]-b[1];o=x*x+_*_}}function m(){var a,l,u,c,f=e.touches(n);Ps.call(n);for(var d=0,p=f.length;d<p;++d,c=null)if(u=f[d],c=i[u.identifier]){if(l)break;a=u,l=c}if(c){var h=(h=u[0]-a[0])*h+(h=u[1]-a[1])*h,g=o&&Math.sqrt(h/o);a=[(a[0]+u[0])/2,(a[1]+u[1])/2],l=[(l[0]+c[0])/2,(l[1]+c[1])/2],T(g*t)}s=null,C(a,l),M(r)}function v(){if(e.event.touches.length){for(var t=e.event.changedTouches,n=0,o=t.length;n<o;++n)delete i[t[n].identifier];for(var s in i)return void h()}e.selectAll(c).on(a,null),f.on(y,P).on(x,D),p(),E(r)}g(),A(r),f.on(y,null).on(x,g)}function L(){var i=_.of(this,arguments);o?clearTimeout(o):(Ps.call(this),t=k(n=r||e.mouse(this)),A(i)),o=setTimeout((function(){o=null,E(i)}),50),j(),T(Math.pow(2,.002*qe())*d.k),C(n,t),M(i)}function R(){var t=e.mouse(this),n=Math.log(d.k)/Math.LN2;O(this,t,k(t),e.event.shiftKey?Math.ceil(n)-1:Math.floor(n)+1)}return Fe||(Fe="onwheel"in i?(qe=function(){return-e.event.deltaY*(e.event.deltaMode?120:1)},"wheel"):"onmousewheel"in i?(qe=function(){return e.event.wheelDelta},"mousewheel"):(qe=function(){return-e.event.detail},"MozMousePixelScroll")),w.event=function(t){t.each((function(){var t=_.of(this,arguments),r=d;Rs?e.select(this).transition().each("start.zoom",(function(){d=this.__chart__||{x:0,y:0,k:1},A(t)})).tween("zoom:zoom",(function(){var i=p[0],o=p[1],a=n?n[0]:i/2,s=n?n[1]:o/2,l=e.interpolateZoom([(a-d.x)/d.k,(s-d.y)/d.k,i/d.k],[(a-r.x)/r.k,(s-r.y)/r.k,i/r.k]);return function(e){var n=l(e),r=i/n[2];this.__chart__=d={x:a-n[0]*r,y:s-n[1]*r,k:r},M(t)}})).each("interrupt.zoom",(function(){E(t)})).each("end.zoom",(function(){E(t)})):(this.__chart__=d,A(t),M(t),E(t))}))},w.translate=function(e){return arguments.length?(d={x:+e[0],y:+e[1],k:d.k},S(),w):[d.x,d.y]},w.scale=function(e){return arguments.length?(d={x:d.x,y:d.y,k:null},T(+e),S(),w):d.k},w.scaleExtent=function(e){return arguments.length?(h=null==e?Be:[+e[0],+e[1]],w):h},w.center=function(e){return arguments.length?(r=e&&[+e[0],+e[1]],w):r},w.size=function(e){return arguments.length?(p=e&&[+e[0],+e[1]],w):p},w.duration=function(e){return arguments.length?(g=+e,w):g},w.x=function(e){return arguments.length?(u=e,l=e.copy(),d={x:0,y:0,k:1},w):u},w.y=function(e){return arguments.length?(f=e,c=e.copy(),d={x:0,y:0,k:1},w):f},e.rebind(w,_,"on")};var qe,Fe,Be=[0,1/0];function He(){}function Ue(e,t,n){return this instanceof Ue?(this.h=+e,this.s=+t,void(this.l=+n)):arguments.length<2?e instanceof Ue?new Ue(e.h,e.s,e.l):ct(""+e,ft,Ue):new Ue(e,t,n)}e.color=He,He.prototype.toString=function(){return this.rgb()+""},e.hsl=Ue;var Ve=Ue.prototype=new He;function We(e,t,n){var r,i;function o(e){return Math.round(255*function(e){return e>360?e-=360:e<0&&(e+=360),e<60?r+(i-r)*e/60:e<180?i:e<240?r+(i-r)*(240-e)/60:r}(e))}return e=isNaN(e)?0:(e%=360)<0?e+360:e,t=isNaN(t)||t<0?0:t>1?1:t,r=2*(n=n<0?0:n>1?1:n)-(i=n<=.5?n*(1+t):n+t-n*t),new ot(o(e+120),o(e),o(e-120))}function Ge(t,n,r){return this instanceof Ge?(this.h=+t,this.c=+n,void(this.l=+r)):arguments.length<2?t instanceof Ge?new Ge(t.h,t.c,t.l):tt(t instanceof Ze?t.l:(t=dt((t=e.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new Ge(t,n,r)}Ve.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),new Ue(this.h,this.s,this.l/e)},Ve.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new Ue(this.h,this.s,e*this.l)},Ve.rgb=function(){return We(this.h,this.s,this.l)},e.hcl=Ge;var Ke=Ge.prototype=new He;function Ye(e,t,n){return isNaN(e)&&(e=0),isNaN(t)&&(t=0),new Ze(n,Math.cos(e*=Ee)*t,Math.sin(e)*t)}function Ze(e,t,n){return this instanceof Ze?(this.l=+e,this.a=+t,void(this.b=+n)):arguments.length<2?e instanceof Ze?new Ze(e.l,e.a,e.b):e instanceof Ge?Ye(e.h,e.c,e.l):dt((e=ot(e)).r,e.g,e.b):new Ze(e,t,n)}Ke.brighter=function(e){return new Ge(this.h,this.c,Math.min(100,this.l+Xe*(arguments.length?e:1)))},Ke.darker=function(e){return new Ge(this.h,this.c,Math.max(0,this.l-Xe*(arguments.length?e:1)))},Ke.rgb=function(){return Ye(this.h,this.c,this.l).rgb()},e.lab=Ze;var Xe=18,$e=.95047,Je=1.08883,Qe=Ze.prototype=new He;function et(e,t,n){var r=(e+16)/116,i=r+t/500,o=r-n/200;return new ot(it(3.2404542*(i=nt(i)*$e)-1.5371385*(r=1*nt(r))-.4985314*(o=nt(o)*Je)),it(-.969266*i+1.8760108*r+.041556*o),it(.0556434*i-.2040259*r+1.0572252*o))}function tt(e,t,n){return e>0?new Ge(Math.atan2(n,t)*Pe,Math.sqrt(t*t+n*n),e):new Ge(NaN,NaN,e)}function nt(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function rt(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function it(e){return Math.round(255*(e<=.00304?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function ot(e,t,n){return this instanceof ot?(this.r=~~e,this.g=~~t,void(this.b=~~n)):arguments.length<2?e instanceof ot?new ot(e.r,e.g,e.b):ct(""+e,ot,We):new ot(e,t,n)}function at(e){return new ot(e>>16,e>>8&255,255&e)}function st(e){return at(e)+""}Qe.brighter=function(e){return new Ze(Math.min(100,this.l+Xe*(arguments.length?e:1)),this.a,this.b)},Qe.darker=function(e){return new Ze(Math.max(0,this.l-Xe*(arguments.length?e:1)),this.a,this.b)},Qe.rgb=function(){return et(this.l,this.a,this.b)},e.rgb=ot;var lt=ot.prototype=new He;function ut(e){return e<16?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function ct(e,t,n){var r,i,o,a=0,s=0,l=0;if(r=/([a-z]+)\((.*)\)/.exec(e=e.toLowerCase()))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return t(ht(i[0]),ht(i[1]),ht(i[2]))}return(o=gt.get(e))?t(o.r,o.g,o.b):(null==e||"#"!==e.charAt(0)||isNaN(o=parseInt(e.slice(1),16))||(4===e.length?(a=(3840&o)>>4,a|=a>>4,s=240&o,s|=s>>4,l=15&o,l|=l<<4):7===e.length&&(a=(16711680&o)>>16,s=(65280&o)>>8,l=255&o)),t(a,s,l))}function ft(e,t,n){var r,i,o=Math.min(e/=255,t/=255,n/=255),a=Math.max(e,t,n),s=a-o,l=(a+o)/2;return s?(i=l<.5?s/(a+o):s/(2-a-o),r=e==a?(t-n)/s+(t<n?6:0):t==a?(n-e)/s+2:(e-t)/s+4,r*=60):(r=NaN,i=l>0&&l<1?0:r),new Ue(r,i,l)}function dt(e,t,n){var r=rt((.4124564*(e=pt(e))+.3575761*(t=pt(t))+.1804375*(n=pt(n)))/$e),i=rt((.2126729*e+.7151522*t+.072175*n)/1);return Ze(116*i-16,500*(r-i),200*(i-rt((.0193339*e+.119192*t+.9503041*n)/Je)))}function pt(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function ht(e){var t=parseFloat(e);return"%"===e.charAt(e.length-1)?Math.round(2.55*t):t}lt.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,n=this.g,r=this.b,i=30;return t||n||r?(t&&t<i&&(t=i),n&&n<i&&(n=i),r&&r<i&&(r=i),new ot(Math.min(255,t/e),Math.min(255,n/e),Math.min(255,r/e))):new ot(i,i,i)},lt.darker=function(e){return new ot((e=Math.pow(.7,arguments.length?e:1))*this.r,e*this.g,e*this.b)},lt.hsl=function(){return ft(this.r,this.g,this.b)},lt.toString=function(){return"#"+ut(this.r)+ut(this.g)+ut(this.b)};var gt=e.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function mt(e){return"function"==typeof e?e:function(){return e}}function yt(e){return function(t,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),vt(t,n,e,r)}}function vt(t,n,i,o){var a={},s=e.dispatch("beforesend","progress","load","error"),l={},u=new XMLHttpRequest,c=null;function f(){var e,t=u.status;if(!t&&function(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}(u)||t>=200&&t<300||304===t){try{e=i.call(a,u)}catch(e){return void s.error.call(a,e)}s.load.call(a,e)}else s.error.call(a,u)}return this.XDomainRequest&&!("withCredentials"in u)&&/^(http(s)?:)?\/\//.test(t)&&(u=new XDomainRequest),"onload"in u?u.onload=u.onerror=f:u.onreadystatechange=function(){u.readyState>3&&f()},u.onprogress=function(t){var n=e.event;e.event=t;try{s.progress.call(a,u)}finally{e.event=n}},a.header=function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?l[e]:(null==t?delete l[e]:l[e]=t+"",a)},a.mimeType=function(e){return arguments.length?(n=null==e?null:e+"",a):n},a.responseType=function(e){return arguments.length?(c=e,a):c},a.response=function(e){return i=e,a},["get","post"].forEach((function(e){a[e]=function(){return a.send.apply(a,[e].concat(r(arguments)))}})),a.send=function(e,r,i){if(2===arguments.length&&"function"==typeof r&&(i=r,r=null),u.open(e,t,!0),null==n||"accept"in l||(l.accept=n+",*/*"),u.setRequestHeader)for(var o in l)u.setRequestHeader(o,l[o]);return null!=n&&u.overrideMimeType&&u.overrideMimeType(n),null!=c&&(u.responseType=c),null!=i&&a.on("error",i).on("load",(function(e){i(null,e)})),s.beforesend.call(a,u),u.send(null==r?null:r),a},a.abort=function(){return u.abort(),a},e.rebind(a,s,"on"),null==o?a:a.get(function(e){return 1===e.length?function(t,n){e(null==t?n:null)}:e}(o))}gt.forEach((function(e,t){gt.set(e,at(t))})),e.functor=mt,e.xhr=yt(E),e.dsv=function(e,t){var n=new RegExp('["'+e+"\n]"),r=e.charCodeAt(0);function i(e,n,r){arguments.length<3&&(r=n,n=null);var i=vt(e,t,null==n?o:a(n),r);return i.row=function(e){return arguments.length?i.response(null==(n=e)?o:a(e)):n},i}function o(e){return i.parse(e.responseText)}function a(e){return function(t){return i.parse(t.responseText,e)}}function s(t){return t.map(l).join(e)}function l(e){return n.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}return i.parse=function(e,t){var n;return i.parseRows(e,(function(e,r){if(n)return n(e,r-1);var i=new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+"]"})).join(",")+"}");n=t?function(e,n){return t(i(e),n)}:i}))},i.parseRows=function(e,t){var n,i,o={},a={},s=[],l=e.length,u=0,c=0;function f(){if(u>=l)return a;if(i)return i=!1,o;var t=u;if(34===e.charCodeAt(t)){for(var n=t;n++<l;)if(34===e.charCodeAt(n)){if(34!==e.charCodeAt(n+1))break;++n}return u=n+2,13===(s=e.charCodeAt(n+1))?(i=!0,10===e.charCodeAt(n+2)&&++u):10===s&&(i=!0),e.slice(t+1,n).replace(/""/g,'"')}for(;u<l;){var s,c=1;if(10===(s=e.charCodeAt(u++)))i=!0;else if(13===s)i=!0,10===e.charCodeAt(u)&&(++u,++c);else if(s!==r)continue;return e.slice(t,u-c)}return e.slice(t)}for(;(n=f())!==a;){for(var d=[];n!==o&&n!==a;)d.push(n),n=f();t&&null==(d=t(d,c++))||s.push(d)}return s},i.format=function(t){if(Array.isArray(t[0]))return i.formatRows(t);var n=new M,r=[];return t.forEach((function(e){for(var t in e)n.has(t)||r.push(n.add(t))})),[r.map(l).join(e)].concat(t.map((function(t){return r.map((function(e){return l(t[e])})).join(e)}))).join("\n")},i.formatRows=function(e){return e.map(s).join("\n")},i},e.csv=e.dsv(",","text/csv"),e.tsv=e.dsv("\t","text/tab-separated-values");var bt,xt,_t,wt,kt=this[D(this,"requestAnimationFrame")]||function(e){setTimeout(e,17)};function Tt(e,t,n){var r=arguments.length;r<2&&(t=0),r<3&&(n=Date.now());var i={c:e,t:n+t,n:null};return xt?xt.n=i:bt=i,xt=i,_t||(wt=clearTimeout(wt),_t=1,kt(Ct)),i}function Ct(){var e=Ot(),t=St()-e;t>24?(isFinite(t)&&(clearTimeout(wt),wt=setTimeout(Ct,t)),_t=0):(_t=1,kt(Ct))}function Ot(){for(var e=Date.now(),t=bt;t;)e>=t.t&&t.c(e-t.t)&&(t.c=null),t=t.n;return e}function St(){for(var e,t=bt,n=1/0;t;)t.c?(t.t<n&&(n=t.t),t=(e=t).n):t=e?e.n=t.n:bt=t.n;return xt=e,n}function At(e,t){return t-(e?Math.ceil(Math.log(e)/Math.LN10):1)}e.timer=function(){Tt.apply(this,arguments)},e.timer.flush=function(){Ot(),St()},e.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)};var Mt=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map((function(e,t){var n=Math.pow(10,3*v(8-t));return{scale:t>8?function(e){return e/n}:function(e){return e*n},symbol:e}}));function Et(t){var n=t.decimal,r=t.thousands,i=t.grouping,o=t.currency,a=i&&r?function(e,t){for(var n=e.length,o=[],a=0,s=i[0],l=0;n>0&&s>0&&(l+s+1>t&&(s=Math.max(1,t-l)),o.push(e.substring(n-=s,n+s)),!((l+=s+1)>t));)s=i[a=(a+1)%i.length];return o.reverse().join(r)}:E;return function(t){var r=Pt.exec(t),i=r[1]||" ",s=r[2]||">",l=r[3]||"-",u=r[4]||"",c=r[5],f=+r[6],d=r[7],p=r[8],h=r[9],g=1,m="",y="",v=!1,b=!0;switch(p&&(p=+p.substring(1)),(c||"0"===i&&"="===s)&&(c=i="0",s="="),h){case"n":d=!0,h="g";break;case"%":g=100,y="%",h="f";break;case"p":g=100,y="%",h="r";break;case"b":case"o":case"x":case"X":"#"===u&&(m="0"+h.toLowerCase());case"c":b=!1;case"d":v=!0,p=0;break;case"s":g=-1,h="r"}"$"===u&&(m=o[0],y=o[1]),"r"!=h||p||(h="g"),null!=p&&("g"==h?p=Math.max(1,Math.min(21,p)):"e"!=h&&"f"!=h||(p=Math.max(0,Math.min(20,p)))),h=Dt.get(h)||Lt;var x=c&&d;return function(t){var r=y;if(v&&t%1)return"";var o=t<0||0===t&&1/t<0?(t=-t,"-"):"-"===l?"":l;if(g<0){var u=e.formatPrefix(t,p);t=u.scale(t),r=u.symbol+y}else t*=g;var _,w,k=(t=h(t,p)).lastIndexOf(".");if(k<0){var T=b?t.lastIndexOf("e"):-1;T<0?(_=t,w=""):(_=t.substring(0,T),w=t.substring(T))}else _=t.substring(0,k),w=n+t.substring(k+1);!c&&d&&(_=a(_,1/0));var C=m.length+_.length+w.length+(x?0:o.length),O=C<f?new Array(C=f-C+1).join(i):"";return x&&(_=a(O+_,O.length?f-w.length:1/0)),o+=m,t=_+w,("<"===s?o+t+O:">"===s?O+o+t:"^"===s?O.substring(0,C>>=1)+o+t+O.substring(C):o+(x?t:O+t))+r}}}e.formatPrefix=function(t,n){var r=0;return(t=+t)&&(t<0&&(t*=-1),n&&(t=e.round(t,At(t,n))),r=1+Math.floor(1e-12+Math.log(t)/Math.LN10),r=Math.max(-24,Math.min(24,3*Math.floor((r-1)/3)))),Mt[8+r/3]};var Pt=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Dt=e.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(t,n){return(t=e.round(t,At(t,n))).toFixed(Math.max(0,Math.min(20,At(t*(1+1e-15),n))))}});function Lt(e){return e+""}var Rt=e.time={},It=Date;function Nt(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}Nt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){jt.setUTCDate.apply(this._,arguments)},setDay:function(){jt.setUTCDay.apply(this._,arguments)},setFullYear:function(){jt.setUTCFullYear.apply(this._,arguments)},setHours:function(){jt.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){jt.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){jt.setUTCMinutes.apply(this._,arguments)},setMonth:function(){jt.setUTCMonth.apply(this._,arguments)},setSeconds:function(){jt.setUTCSeconds.apply(this._,arguments)},setTime:function(){jt.setTime.apply(this._,arguments)}};var jt=Date.prototype;function zt(e,t,n){function r(t){var n=e(t),r=o(n,1);return t-n<r-t?n:r}function i(n){return t(n=e(new It(n-1)),1),n}function o(e,n){return t(e=new It(+e),n),e}function a(e,r,o){var a=i(e),s=[];if(o>1)for(;a<r;)n(a)%o||s.push(new Date(+a)),t(a,1);else for(;a<r;)s.push(new Date(+a)),t(a,1);return s}e.floor=e,e.round=r,e.ceil=i,e.offset=o,e.range=a;var s=e.utc=qt(e);return s.floor=s,s.round=qt(r),s.ceil=qt(i),s.offset=qt(o),s.range=function(e,t,n){try{It=Nt;var r=new Nt;return r._=e,a(r,t,n)}finally{It=Date}},e}function qt(e){return function(t,n){try{It=Nt;var r=new Nt;return r._=t,e(r,n)._}finally{It=Date}}}function Ft(t){var n=t.dateTime,r=t.date,i=t.time,o=t.periods,a=t.days,s=t.shortDays,l=t.months,u=t.shortMonths;function c(e){var t=e.length;function n(n){for(var r,i,o,a=[],s=-1,l=0;++s<t;)37===e.charCodeAt(s)&&(a.push(e.slice(l,s)),null!=(i=Bt[r=e.charAt(++s)])&&(r=e.charAt(++s)),(o=_[r])&&(r=o(n,null==i?"e"===r?" ":"0":i)),a.push(r),l=s+1);return a.push(e.slice(l,s)),a.join("")}return n.parse=function(t){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(f(n,e,t,0)!=t.length)return null;"p"in n&&(n.H=n.H%12+12*n.p);var r=null!=n.Z&&It!==Nt,i=new(r?Nt:It);return"j"in n?i.setFullYear(n.y,0,n.j):"W"in n||"U"in n?("w"in n||(n.w="W"in n?1:0),i.setFullYear(n.y,0,1),i.setFullYear(n.y,0,"W"in n?(n.w+6)%7+7*n.W-(i.getDay()+5)%7:n.w+7*n.U-(i.getDay()+6)%7)):i.setFullYear(n.y,n.m,n.d),i.setHours(n.H+(n.Z/100|0),n.M+n.Z%100,n.S,n.L),r?i._:i},n.toString=function(){return e},n}function f(e,t,n,r){for(var i,o,a,s=0,l=t.length,u=n.length;s<l;){if(r>=u)return-1;if(37===(i=t.charCodeAt(s++))){if(a=t.charAt(s++),!(o=w[a in Bt?t.charAt(s++):a])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}c.utc=function(e){var t=c(e);function n(e){try{var n=new(It=Nt);return n._=e,t(n)}finally{It=Date}}return n.parse=function(e){try{It=Nt;var n=t.parse(e);return n&&n._}finally{It=Date}},n.toString=t.toString,n},c.multi=c.utc.multi=un;var d=e.map(),p=Wt(a),h=Gt(a),g=Wt(s),m=Gt(s),y=Wt(l),v=Gt(l),b=Wt(u),x=Gt(u);o.forEach((function(e,t){d.set(e.toLowerCase(),t)}));var _={a:function(e){return s[e.getDay()]},A:function(e){return a[e.getDay()]},b:function(e){return u[e.getMonth()]},B:function(e){return l[e.getMonth()]},c:c(n),d:function(e,t){return Vt(e.getDate(),t,2)},e:function(e,t){return Vt(e.getDate(),t,2)},H:function(e,t){return Vt(e.getHours(),t,2)},I:function(e,t){return Vt(e.getHours()%12||12,t,2)},j:function(e,t){return Vt(1+Rt.dayOfYear(e),t,3)},L:function(e,t){return Vt(e.getMilliseconds(),t,3)},m:function(e,t){return Vt(e.getMonth()+1,t,2)},M:function(e,t){return Vt(e.getMinutes(),t,2)},p:function(e){return o[+(e.getHours()>=12)]},S:function(e,t){return Vt(e.getSeconds(),t,2)},U:function(e,t){return Vt(Rt.sundayOfYear(e),t,2)},w:function(e){return e.getDay()},W:function(e,t){return Vt(Rt.mondayOfYear(e),t,2)},x:c(r),X:c(i),y:function(e,t){return Vt(e.getFullYear()%100,t,2)},Y:function(e,t){return Vt(e.getFullYear()%1e4,t,4)},Z:sn,"%":function(){return"%"}},w={a:function(e,t,n){g.lastIndex=0;var r=g.exec(t.slice(n));return r?(e.w=m.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){p.lastIndex=0;var r=p.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){b.lastIndex=0;var r=b.exec(t.slice(n));return r?(e.m=x.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){y.lastIndex=0;var r=y.exec(t.slice(n));return r?(e.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,t,n){return f(e,_.c.toString(),t,n)},d:en,e:en,H:nn,I:nn,j:tn,L:an,m:Qt,M:rn,p:function(e,t,n){var r=d.get(t.slice(n,n+=2).toLowerCase());return null==r?-1:(e.p=r,n)},S:on,U:Yt,w:Kt,W:Zt,x:function(e,t,n){return f(e,_.x.toString(),t,n)},X:function(e,t,n){return f(e,_.X.toString(),t,n)},y:$t,Y:Xt,Z:Jt,"%":ln};return c}Rt.year=zt((function(e){return(e=Rt.day(e)).setMonth(0,1),e}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e){return e.getFullYear()})),Rt.years=Rt.year.range,Rt.years.utc=Rt.year.utc.range,Rt.day=zt((function(e){var t=new It(2e3,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t}),(function(e,t){e.setDate(e.getDate()+t)}),(function(e){return e.getDate()-1})),Rt.days=Rt.day.range,Rt.days.utc=Rt.day.utc.range,Rt.dayOfYear=function(e){var t=Rt.year(e);return Math.floor((e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach((function(e,t){t=7-t;var n=Rt[e]=zt((function(e){return(e=Rt.day(e)).setDate(e.getDate()-(e.getDay()+t)%7),e}),(function(e,t){e.setDate(e.getDate()+7*Math.floor(t))}),(function(e){var n=Rt.year(e).getDay();return Math.floor((Rt.dayOfYear(e)+(n+t)%7)/7)-(n!==t)}));Rt[e+"s"]=n.range,Rt[e+"s"].utc=n.utc.range,Rt[e+"OfYear"]=function(e){var n=Rt.year(e).getDay();return Math.floor((Rt.dayOfYear(e)+(n+t)%7)/7)}})),Rt.week=Rt.sunday,Rt.weeks=Rt.sunday.range,Rt.weeks.utc=Rt.sunday.utc.range,Rt.weekOfYear=Rt.sundayOfYear;var Bt={"-":"",_:" ",0:"0"},Ht=/^\s*\d+/,Ut=/^%/;function Vt(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function Wt(t){return new RegExp("^(?:"+t.map(e.requote).join("|")+")","i")}function Gt(e){for(var t=new _,n=-1,r=e.length;++n<r;)t.set(e[n].toLowerCase(),n);return t}function Kt(e,t,n){Ht.lastIndex=0;var r=Ht.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Yt(e,t,n){Ht.lastIndex=0;var r=Ht.exec(t.slice(n));return r?(e.U=+r[0],n+r[0].length):-1}function Zt(e,t,n){Ht.lastIndex=0;var r=Ht.exec(t.slice(n));return r?(e.W=+r[0],n+r[0].length):-1}function Xt(e,t,n){Ht.lastIndex=0;var r=Ht.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function $t(e,t,n){Ht.lastIndex=0;var r,i=Ht.exec(t.slice(n,n+2));return i?(e.y=(r=+i[0])+(r>68?1900:2e3),n+i[0].length):-1}function Jt(e,t,n){return/^[+-]\d{4}$/.test(t=t.slice(n,n+5))?(e.Z=-t,n+5):-1}function Qt(e,t,n){Ht.lastIndex=0;var r=Ht.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function en(e,t,n){Ht.lastIndex=0;var r=Ht.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function tn(e,t,n){Ht.lastIndex=0;var r=Ht.exec(t.slice(n,n+3));return r?(e.j=+r[0],n+r[0].length):-1}function nn(e,t,n){Ht.lastIndex=0;var r=Ht.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function rn(e,t,n){Ht.lastIndex=0;var r=Ht.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function on(e,t,n){Ht.lastIndex=0;var r=Ht.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function an(e,t,n){Ht.lastIndex=0;var r=Ht.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function sn(e){var t=e.getTimezoneOffset(),n=t>0?"-":"+",r=v(t)/60|0,i=v(t)%60;return n+Vt(r,"0",2)+Vt(i,"0",2)}function ln(e,t,n){Ut.lastIndex=0;var r=Ut.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function un(e){for(var t=e.length,n=-1;++n<t;)e[n][0]=this(e[n][0]);return function(t){for(var n=0,r=e[n];!r[1](t);)r=e[++n];return r[0](t)}}e.locale=function(e){return{numberFormat:Et(e),timeFormat:Ft(e)}};var cn=e.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function fn(){}e.format=cn.numberFormat,e.geo={},fn.prototype={s:0,t:0,add:function(e){pn(e,this.t,dn),pn(dn.s,this.s,this),this.s?this.t+=dn.t:this.s=dn.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var dn=new fn;function pn(e,t,n){var r=n.s=e+t,i=r-e,o=r-i;n.t=e-o+(t-i)}function hn(e,t){e&&mn.hasOwnProperty(e.type)&&mn[e.type](e,t)}e.geo.stream=function(e,t){e&&gn.hasOwnProperty(e.type)?gn[e.type](e,t):hn(e,t)};var gn={Feature:function(e,t){hn(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)hn(n[r].geometry,t)}},mn={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){yn(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)yn(n[r],t,0)},Polygon:function(e,t){vn(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)vn(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)hn(n[r],t)}};function yn(e,t,n){var r,i=-1,o=e.length-n;for(t.lineStart();++i<o;)r=e[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function vn(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)yn(e[n],t,1);t.polygonEnd()}e.geo.area=function(t){return bn=0,e.geo.stream(t,Dn),bn};var bn,xn,_n,wn,kn,Tn,Cn,On,Sn,An,Mn,En,Pn=new fn,Dn={sphere:function(){bn+=4*Oe},point:R,lineStart:R,lineEnd:R,polygonStart:function(){Pn.reset(),Dn.lineStart=Ln},polygonEnd:function(){var e=2*Pn;bn+=e<0?4*Oe+e:e,Dn.lineStart=Dn.lineEnd=Dn.point=R}};function Ln(){var e,t,n,r,i;function o(e,t){t=t*Ee/2+Oe/4;var o=(e*=Ee)-n,a=o>=0?1:-1,s=a*o,l=Math.cos(t),u=Math.sin(t),c=i*u,f=r*l+c*Math.cos(s),d=c*a*Math.sin(s);Pn.add(Math.atan2(d,f)),n=e,r=l,i=u}Dn.point=function(a,s){Dn.point=o,n=(e=a)*Ee,r=Math.cos(s=(t=s)*Ee/2+Oe/4),i=Math.sin(s)},Dn.lineEnd=function(){o(e,t)}}function Rn(e){var t=e[0],n=e[1],r=Math.cos(n);return[r*Math.cos(t),r*Math.sin(t),Math.sin(n)]}function In(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Nn(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function jn(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function zn(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function qn(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function Fn(e){return[Math.atan2(e[1],e[0]),Ie(e[2])]}function Bn(e,t){return v(e[0]-t[0])<Te&&v(e[1]-t[1])<Te}e.geo.bounds=function(){var t,n,r,i,o,a,s,l,u,c,f,d={point:p,lineStart:g,lineEnd:m,polygonStart:function(){d.point=y,d.lineStart=b,d.lineEnd=x,u=0,Dn.polygonStart()},polygonEnd:function(){Dn.polygonEnd(),d.point=p,d.lineStart=g,d.lineEnd=m,Pn<0?(t=-(r=180),n=-(i=90)):u>Te?i=90:u<-Te&&(n=-90),f[0]=t,f[1]=r}};function p(e,o){c.push(f=[t=e,r=e]),o<n&&(n=o),o>i&&(i=o)}function h(e,a){var s=Rn([e*Ee,a*Ee]);if(l){var u=Nn(l,s),c=Nn([u[1],-u[0],0],u);qn(c),c=Fn(c);var f=e-o,d=f>0?1:-1,h=c[0]*Pe*d,g=v(f)>180;if(g^(d*o<h&&h<d*e))(m=c[1]*Pe)>i&&(i=m);else if(g^(d*o<(h=(h+360)%360-180)&&h<d*e)){var m;(m=-c[1]*Pe)<n&&(n=m)}else a<n&&(n=a),a>i&&(i=a);g?e<o?_(t,e)>_(t,r)&&(r=e):_(e,r)>_(t,r)&&(t=e):r>=t?(e<t&&(t=e),e>r&&(r=e)):e>o?_(t,e)>_(t,r)&&(r=e):_(e,r)>_(t,r)&&(t=e)}else p(e,a);l=s,o=e}function g(){d.point=h}function m(){f[0]=t,f[1]=r,d.point=p,l=null}function y(e,t){if(l){var n=e-o;u+=v(n)>180?n+(n>0?360:-360):n}else a=e,s=t;Dn.point(e,t),h(e,t)}function b(){Dn.lineStart()}function x(){y(a,s),Dn.lineEnd(),v(u)>Te&&(t=-(r=180)),f[0]=t,f[1]=r,l=null}function _(e,t){return(t-=e)<0?t+360:t}function w(e,t){return e[0]-t[0]}function k(e,t){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}return function(o){if(i=r=-(t=n=1/0),c=[],e.geo.stream(o,d),u=c.length){c.sort(w);for(var a=1,s=[g=c[0]];a<u;++a)k((p=c[a])[0],g)||k(p[1],g)?(_(g[0],p[1])>_(g[0],g[1])&&(g[1]=p[1]),_(p[0],g[1])>_(g[0],g[1])&&(g[0]=p[0])):s.push(g=p);for(var l,u,p,h=-1/0,g=(a=0,s[u=s.length-1]);a<=u;g=p,++a)p=s[a],(l=_(g[1],p[0]))>h&&(h=l,t=p[0],r=g[1])}return c=f=null,t===1/0||n===1/0?[[NaN,NaN],[NaN,NaN]]:[[t,n],[r,i]]}}(),e.geo.centroid=function(t){xn=_n=wn=kn=Tn=Cn=On=Sn=An=Mn=En=0,e.geo.stream(t,Hn);var n=An,r=Mn,i=En,o=n*n+r*r+i*i;return o<Ce&&(n=Cn,r=On,i=Sn,_n<Te&&(n=wn,r=kn,i=Tn),(o=n*n+r*r+i*i)<Ce)?[NaN,NaN]:[Math.atan2(r,n)*Pe,Ie(i/Math.sqrt(o))*Pe]};var Hn={sphere:R,point:Un,lineStart:Wn,lineEnd:Gn,polygonStart:function(){Hn.lineStart=Kn},polygonEnd:function(){Hn.lineStart=Wn}};function Un(e,t){e*=Ee;var n=Math.cos(t*=Ee);Vn(n*Math.cos(e),n*Math.sin(e),Math.sin(t))}function Vn(e,t,n){++xn,wn+=(e-wn)/xn,kn+=(t-kn)/xn,Tn+=(n-Tn)/xn}function Wn(){var e,t,n;function r(r,i){r*=Ee;var o=Math.cos(i*=Ee),a=o*Math.cos(r),s=o*Math.sin(r),l=Math.sin(i),u=Math.atan2(Math.sqrt((u=t*l-n*s)*u+(u=n*a-e*l)*u+(u=e*s-t*a)*u),e*a+t*s+n*l);_n+=u,Cn+=u*(e+(e=a)),On+=u*(t+(t=s)),Sn+=u*(n+(n=l)),Vn(e,t,n)}Hn.point=function(i,o){i*=Ee;var a=Math.cos(o*=Ee);e=a*Math.cos(i),t=a*Math.sin(i),n=Math.sin(o),Hn.point=r,Vn(e,t,n)}}function Gn(){Hn.point=Un}function Kn(){var e,t,n,r,i;function o(e,t){e*=Ee;var o=Math.cos(t*=Ee),a=o*Math.cos(e),s=o*Math.sin(e),l=Math.sin(t),u=r*l-i*s,c=i*a-n*l,f=n*s-r*a,d=Math.sqrt(u*u+c*c+f*f),p=n*a+r*s+i*l,h=d&&-Re(p)/d,g=Math.atan2(d,p);An+=h*u,Mn+=h*c,En+=h*f,_n+=g,Cn+=g*(n+(n=a)),On+=g*(r+(r=s)),Sn+=g*(i+(i=l)),Vn(n,r,i)}Hn.point=function(a,s){e=a,t=s,Hn.point=o,a*=Ee;var l=Math.cos(s*=Ee);n=l*Math.cos(a),r=l*Math.sin(a),i=Math.sin(s),Vn(n,r,i)},Hn.lineEnd=function(){o(e,t),Hn.lineEnd=Gn,Hn.point=Un}}function Yn(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return(n=t.invert(n,r))&&e.invert(n[0],n[1])}),n}function Zn(){return!0}function Xn(e,t,n,r,i){var o=[],a=[];if(e.forEach((function(e){if(!((t=e.length-1)<=0)){var t,n=e[0],r=e[t];if(Bn(n,r)){i.lineStart();for(var s=0;s<t;++s)i.point((n=e[s])[0],n[1]);i.lineEnd()}else{var l=new Jn(n,e,null,!0),u=new Jn(n,null,l,!1);l.o=u,o.push(l),a.push(u),l=new Jn(r,e,null,!1),u=new Jn(r,null,l,!0),l.o=u,o.push(l),a.push(u)}}})),a.sort(t),$n(o),$n(a),o.length){for(var s=0,l=n,u=a.length;s<u;++s)a[s].e=l=!l;for(var c,f,d=o[0];;){for(var p=d,h=!0;p.v;)if((p=p.n)===d)return;c=p.z,i.lineStart();do{if(p.v=p.o.v=!0,p.e){if(h)for(s=0,u=c.length;s<u;++s)i.point((f=c[s])[0],f[1]);else r(p.x,p.n.x,1,i);p=p.n}else{if(h)for(s=(c=p.p.z).length-1;s>=0;--s)i.point((f=c[s])[0],f[1]);else r(p.x,p.p.x,-1,i);p=p.p}c=(p=p.o).z,h=!h}while(!p.v);i.lineEnd()}}}function $n(e){if(t=e.length){for(var t,n,r=0,i=e[0];++r<t;)i.n=n=e[r],n.p=i,i=n;i.n=n=e[0],n.p=i}}function Jn(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Qn(t,n,r,i){return function(o,a){var s,l=n(a),u=o.invert(i[0],i[1]),c={point:f,lineStart:p,lineEnd:h,polygonStart:function(){c.point=x,c.lineStart=_,c.lineEnd=w,s=[],g=[]},polygonEnd:function(){c.point=f,c.lineStart=p,c.lineEnd=h,s=e.merge(s);var t=function(e,t){var n=e[0],r=e[1],i=[Math.sin(n),-Math.cos(n),0],o=0,a=0;Pn.reset();for(var s=0,l=t.length;s<l;++s){var u=t[s],c=u.length;if(c)for(var f=u[0],d=f[0],p=f[1]/2+Oe/4,h=Math.sin(p),g=Math.cos(p),m=1;;){m===c&&(m=0);var y=(e=u[m])[0],v=e[1]/2+Oe/4,b=Math.sin(v),x=Math.cos(v),_=y-d,w=_>=0?1:-1,k=w*_,T=k>Oe,C=h*b;if(Pn.add(Math.atan2(C*w*Math.sin(k),g*x+C*Math.cos(k))),o+=T?_+w*Se:_,T^d>=n^y>=n){var O=Nn(Rn(f),Rn(e));qn(O);var S=Nn(i,O);qn(S);var A=(T^_>=0?-1:1)*Ie(S[2]);(r>A||r===A&&(O[0]||O[1]))&&(a+=T^_>=0?1:-1)}if(!m++)break;d=y,h=b,g=x,f=e}}return(o<-Te||o<Te&&Pn<-Te)^1&a}(u,g);s.length?(b||(a.polygonStart(),b=!0),Xn(s,nr,t,r,a)):t&&(b||(a.polygonStart(),b=!0),a.lineStart(),r(null,null,1,a),a.lineEnd()),b&&(a.polygonEnd(),b=!1),s=g=null},sphere:function(){a.polygonStart(),a.lineStart(),r(null,null,1,a),a.lineEnd(),a.polygonEnd()}};function f(e,n){var r=o(e,n);t(e=r[0],n=r[1])&&a.point(e,n)}function d(e,t){var n=o(e,t);l.point(n[0],n[1])}function p(){c.point=d,l.lineStart()}function h(){c.point=f,l.lineEnd()}var g,m,y=tr(),v=n(y),b=!1;function x(e,t){m.push([e,t]);var n=o(e,t);v.point(n[0],n[1])}function _(){v.lineStart(),m=[]}function w(){x(m[0][0],m[0][1]),v.lineEnd();var e,t=v.clean(),n=y.buffer(),r=n.length;if(m.pop(),g.push(m),m=null,r)if(1&t){var i,o=-1;if((r=(e=n[0]).length-1)>0){for(b||(a.polygonStart(),b=!0),a.lineStart();++o<r;)a.point((i=e[o])[0],i[1]);a.lineEnd()}}else r>1&&2&t&&n.push(n.pop().concat(n.shift())),s.push(n.filter(er))}return c}}function er(e){return e.length>1}function tr(){var e,t=[];return{lineStart:function(){t.push(e=[])},point:function(t,n){e.push([t,n])},lineEnd:R,buffer:function(){var n=t;return t=[],e=null,n},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function nr(e,t){return((e=e.x)[0]<0?e[1]-Me-Te:Me-e[1])-((t=t.x)[0]<0?t[1]-Me-Te:Me-t[1])}var rr=Qn(Zn,(function(e){var t,n=NaN,r=NaN,i=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(o,a){var s=o>0?Oe:-Oe,l=v(o-n);v(l-Oe)<Te?(e.point(n,r=(r+a)/2>0?Me:-Me),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),e.point(o,r),t=0):i!==s&&l>=Oe&&(v(n-i)<Te&&(n-=i*Te),v(o-s)<Te&&(o-=s*Te),r=function(e,t,n,r){var i,o,a=Math.sin(e-n);return v(a)>Te?Math.atan((Math.sin(t)*(o=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(t))*Math.sin(e))/(i*o*a)):(t+r)/2}(n,r,o,a),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),t=0),e.point(n=o,r=a),i=s},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}}),(function(e,t,n,r){var i;if(null==e)i=n*Me,r.point(-Oe,i),r.point(0,i),r.point(Oe,i),r.point(Oe,0),r.point(Oe,-i),r.point(0,-i),r.point(-Oe,-i),r.point(-Oe,0),r.point(-Oe,i);else if(v(e[0]-t[0])>Te){var o=e[0]<t[0]?Oe:-Oe;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}),[-Oe,-Oe/2]);function ir(e){var t=Math.cos(e),n=t>0,r=v(t)>Te;return Qn(i,(function(e){var t,s,l,u,c;return{lineStart:function(){u=l=!1,c=1},point:function(f,d){var p,h=[f,d],g=i(f,d),m=n?g?0:a(f,d):g?a(f+(f<0?Oe:-Oe),d):0;if(!t&&(u=l=g)&&e.lineStart(),g!==l&&(p=o(t,h),(Bn(t,p)||Bn(h,p))&&(h[0]+=Te,h[1]+=Te,g=i(h[0],h[1]))),g!==l)c=0,g?(e.lineStart(),p=o(h,t),e.point(p[0],p[1])):(p=o(t,h),e.point(p[0],p[1]),e.lineEnd()),t=p;else if(r&&t&&n^g){var y;m&s||!(y=o(h,t,!0))||(c=0,n?(e.lineStart(),e.point(y[0][0],y[0][1]),e.point(y[1][0],y[1][1]),e.lineEnd()):(e.point(y[1][0],y[1][1]),e.lineEnd(),e.lineStart(),e.point(y[0][0],y[0][1])))}!g||t&&Bn(t,h)||e.point(h[0],h[1]),t=h,l=g,s=m},lineEnd:function(){l&&e.lineEnd(),t=null},clean:function(){return c|(u&&l)<<1}}}),Br(e,6*Ee),n?[0,-e]:[-Oe,e-Oe]);function i(e,n){return Math.cos(e)*Math.cos(n)>t}function o(e,n,r){var i=[1,0,0],o=Nn(Rn(e),Rn(n)),a=In(o,o),s=o[0],l=a-s*s;if(!l)return!r&&e;var u=t*a/l,c=-t*s/l,f=Nn(i,o),d=zn(i,u);jn(d,zn(o,c));var p=f,h=In(d,p),g=In(p,p),m=h*h-g*(In(d,d)-1);if(!(m<0)){var y=Math.sqrt(m),b=zn(p,(-h-y)/g);if(jn(b,d),b=Fn(b),!r)return b;var x,_=e[0],w=n[0],k=e[1],T=n[1];w<_&&(x=_,_=w,w=x);var C=w-_,O=v(C-Oe)<Te;if(!O&&T<k&&(x=k,k=T,T=x),O||C<Te?O?k+T>0^b[1]<(v(b[0]-_)<Te?k:T):k<=b[1]&&b[1]<=T:C>Oe^(_<=b[0]&&b[0]<=w)){var S=zn(p,(-h+y)/g);return jn(S,d),[b,Fn(S)]}}}function a(t,r){var i=n?e:Oe-e,o=0;return t<-i?o|=1:t>i&&(o|=2),r<-i?o|=4:r>i&&(o|=8),o}}function or(e,t,n,r){return function(i){var o,a=i.a,s=i.b,l=a.x,u=a.y,c=0,f=1,d=s.x-l,p=s.y-u;if(o=e-l,d||!(o>0)){if(o/=d,d<0){if(o<c)return;o<f&&(f=o)}else if(d>0){if(o>f)return;o>c&&(c=o)}if(o=n-l,d||!(o<0)){if(o/=d,d<0){if(o>f)return;o>c&&(c=o)}else if(d>0){if(o<c)return;o<f&&(f=o)}if(o=t-u,p||!(o>0)){if(o/=p,p<0){if(o<c)return;o<f&&(f=o)}else if(p>0){if(o>f)return;o>c&&(c=o)}if(o=r-u,p||!(o<0)){if(o/=p,p<0){if(o>f)return;o>c&&(c=o)}else if(p>0){if(o<c)return;o<f&&(f=o)}return c>0&&(i.a={x:l+c*d,y:u+c*p}),f<1&&(i.b={x:l+f*d,y:u+f*p}),i}}}}}}var ar=1e9;function sr(t,n,r,i){return function(l){var u,c,f,d,p,h,g,m,y,v,b,x=l,_=tr(),w=or(t,n,r,i),k={point:O,lineStart:function(){k.point=S,c&&c.push(f=[]),v=!0,y=!1,g=m=NaN},lineEnd:function(){u&&(S(d,p),h&&y&&_.rejoin(),u.push(_.buffer())),k.point=O,y&&l.lineEnd()},polygonStart:function(){l=_,u=[],c=[],b=!0},polygonEnd:function(){l=x,u=e.merge(u);var n=function(e){for(var t=0,n=c.length,r=e[1],i=0;i<n;++i)for(var o,a=1,s=c[i],l=s.length,u=s[0];a<l;++a)o=s[a],u[1]<=r?o[1]>r&&Le(u,o,e)>0&&++t:o[1]<=r&&Le(u,o,e)<0&&--t,u=o;return 0!==t}([t,i]),r=b&&n,o=u.length;(r||o)&&(l.polygonStart(),r&&(l.lineStart(),T(null,null,1,l),l.lineEnd()),o&&Xn(u,a,n,T,l),l.polygonEnd()),u=c=f=null}};function T(e,a,l,u){var c=0,f=0;if(null==e||(c=o(e,l))!==(f=o(a,l))||s(e,a)<0^l>0)do{u.point(0===c||3===c?t:r,c>1?i:n)}while((c=(c+l+4)%4)!==f);else u.point(a[0],a[1])}function C(e,o){return t<=e&&e<=r&&n<=o&&o<=i}function O(e,t){C(e,t)&&l.point(e,t)}function S(e,t){var n=C(e=Math.max(-1e9,Math.min(ar,e)),t=Math.max(-1e9,Math.min(ar,t)));if(c&&f.push([e,t]),v)d=e,p=t,h=n,v=!1,n&&(l.lineStart(),l.point(e,t));else if(n&&y)l.point(e,t);else{var r={a:{x:g,y:m},b:{x:e,y:t}};w(r)?(y||(l.lineStart(),l.point(r.a.x,r.a.y)),l.point(r.b.x,r.b.y),n||l.lineEnd(),b=!1):n&&(l.lineStart(),l.point(e,t),b=!1)}g=e,m=t,y=n}return k};function o(e,i){return v(e[0]-t)<Te?i>0?0:3:v(e[0]-r)<Te?i>0?2:1:v(e[1]-n)<Te?i>0?1:0:i>0?3:2}function a(e,t){return s(e.x,t.x)}function s(e,t){var n=o(e,1),r=o(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}}function lr(e){var t=0,n=Oe/3,r=Lr(e),i=r(t,n);return i.parallels=function(e){return arguments.length?r(t=e[0]*Oe/180,n=e[1]*Oe/180):[t/Oe*180,n/Oe*180]},i}function ur(e,t){var n=Math.sin(e),r=(n+Math.sin(t))/2,i=1+n*(2*r-n),o=Math.sqrt(i)/r;function a(e,t){var n=Math.sqrt(i-2*r*Math.sin(t))/r;return[n*Math.sin(e*=r),o-n*Math.cos(e)]}return a.invert=function(e,t){var n=o-t;return[Math.atan2(e,n)/r,Ie((i-(e*e+n*n)*r*r)/(2*r))]},a}e.geo.clipExtent=function(){var e,t,n,r,i,o,a={stream:function(e){return i&&(i.valid=!1),(i=o(e)).valid=!0,i},extent:function(s){return arguments.length?(o=sr(e=+s[0][0],t=+s[0][1],n=+s[1][0],r=+s[1][1]),i&&(i.valid=!1,i=null),a):[[e,t],[n,r]]}};return a.extent([[0,0],[960,500]])},(e.geo.conicEqualArea=function(){return lr(ur)}).raw=ur,e.geo.albers=function(){return e.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},e.geo.albersUsa=function(){var t,n,r,i,o=e.geo.albers(),a=e.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=e.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(e,n){t=[e,n]}};function u(e){var o=e[0],a=e[1];return t=null,n(o,a),t||(r(o,a),t)||i(o,a),t}return u.invert=function(e){var t=o.scale(),n=o.translate(),r=(e[0]-n[0])/t,i=(e[1]-n[1])/t;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?a:i>=.166&&i<.234&&r>=-.214&&r<-.115?s:o).invert(e)},u.stream=function(e){var t=o.stream(e),n=a.stream(e),r=s.stream(e);return{point:function(e,i){t.point(e,i),n.point(e,i),r.point(e,i)},sphere:function(){t.sphere(),n.sphere(),r.sphere()},lineStart:function(){t.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){t.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){t.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){t.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},u.precision=function(e){return arguments.length?(o.precision(e),a.precision(e),s.precision(e),u):o.precision()},u.scale=function(e){return arguments.length?(o.scale(e),a.scale(.35*e),s.scale(e),u.translate(o.translate())):o.scale()},u.translate=function(e){if(!arguments.length)return o.translate();var t=o.scale(),c=+e[0],f=+e[1];return n=o.translate(e).clipExtent([[c-.455*t,f-.238*t],[c+.455*t,f+.238*t]]).stream(l).point,r=a.translate([c-.307*t,f+.201*t]).clipExtent([[c-.425*t+Te,f+.12*t+Te],[c-.214*t-Te,f+.234*t-Te]]).stream(l).point,i=s.translate([c-.205*t,f+.212*t]).clipExtent([[c-.214*t+Te,f+.166*t+Te],[c-.115*t-Te,f+.234*t-Te]]).stream(l).point,u},u.scale(1070)};var cr,fr,dr,pr,hr,gr,mr={point:R,lineStart:R,lineEnd:R,polygonStart:function(){fr=0,mr.lineStart=yr},polygonEnd:function(){mr.lineStart=mr.lineEnd=mr.point=R,cr+=v(fr/2)}};function yr(){var e,t,n,r;function i(e,t){fr+=r*e-n*t,n=e,r=t}mr.point=function(o,a){mr.point=i,e=n=o,t=r=a},mr.lineEnd=function(){i(e,t)}}var vr={point:function(e,t){e<dr&&(dr=e),e>hr&&(hr=e),t<pr&&(pr=t),t>gr&&(gr=t)},lineStart:R,lineEnd:R,polygonStart:R,polygonEnd:R};function br(){var e=xr(4.5),t=[],n={point:r,lineStart:function(){n.point=i},lineEnd:a,polygonStart:function(){n.lineEnd=s},polygonEnd:function(){n.lineEnd=a,n.point=r},pointRadius:function(t){return e=xr(t),n},result:function(){if(t.length){var e=t.join("");return t=[],e}}};function r(n,r){t.push("M",n,",",r,e)}function i(e,r){t.push("M",e,",",r),n.point=o}function o(e,n){t.push("L",e,",",n)}function a(){n.point=r}function s(){t.push("Z")}return n}function xr(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}var _r,wr={point:kr,lineStart:Tr,lineEnd:Cr,polygonStart:function(){wr.lineStart=Or},polygonEnd:function(){wr.point=kr,wr.lineStart=Tr,wr.lineEnd=Cr}};function kr(e,t){wn+=e,kn+=t,++Tn}function Tr(){var e,t;function n(n,r){var i=n-e,o=r-t,a=Math.sqrt(i*i+o*o);Cn+=a*(e+n)/2,On+=a*(t+r)/2,Sn+=a,kr(e=n,t=r)}wr.point=function(r,i){wr.point=n,kr(e=r,t=i)}}function Cr(){wr.point=kr}function Or(){var e,t,n,r;function i(e,t){var i=e-n,o=t-r,a=Math.sqrt(i*i+o*o);Cn+=a*(n+e)/2,On+=a*(r+t)/2,Sn+=a,An+=(a=r*e-n*t)*(n+e),Mn+=a*(r+t),En+=3*a,kr(n=e,r=t)}wr.point=function(o,a){wr.point=i,kr(e=n=o,t=r=a)},wr.lineEnd=function(){i(e,t)}}function Sr(e){var t=4.5,n={point:r,lineStart:function(){n.point=i},lineEnd:a,polygonStart:function(){n.lineEnd=s},polygonEnd:function(){n.lineEnd=a,n.point=r},pointRadius:function(e){return t=e,n},result:R};function r(n,r){e.moveTo(n+t,r),e.arc(n,r,t,0,Se)}function i(t,r){e.moveTo(t,r),n.point=o}function o(t,n){e.lineTo(t,n)}function a(){n.point=r}function s(){e.closePath()}return n}function Ar(e){var t=.5,n=Math.cos(30*Ee),r=16;function i(e){return(r?a:o)(e)}function o(t){return Pr(t,(function(n,r){n=e(n,r),t.point(n[0],n[1])}))}function a(t){var n,i,o,a,l,u,c,f,d,p,h,g,m={point:y,lineStart:v,lineEnd:x,polygonStart:function(){t.polygonStart(),m.lineStart=_},polygonEnd:function(){t.polygonEnd(),m.lineStart=v}};function y(n,r){n=e(n,r),t.point(n[0],n[1])}function v(){f=NaN,m.point=b,t.lineStart()}function b(n,i){var o=Rn([n,i]),a=e(n,i);s(f,d,c,p,h,g,f=a[0],d=a[1],c=n,p=o[0],h=o[1],g=o[2],r,t),t.point(f,d)}function x(){m.point=y,t.lineEnd()}function _(){v(),m.point=w,m.lineEnd=k}function w(e,t){b(n=e,t),i=f,o=d,a=p,l=h,u=g,m.point=b}function k(){s(f,d,c,p,h,g,i,o,n,a,l,u,r,t),m.lineEnd=x,x()}return m}function s(r,i,o,a,l,u,c,f,d,p,h,g,m,y){var b=c-r,x=f-i,_=b*b+x*x;if(_>4*t&&m--){var w=a+p,k=l+h,T=u+g,C=Math.sqrt(w*w+k*k+T*T),O=Math.asin(T/=C),S=v(v(T)-1)<Te||v(o-d)<Te?(o+d)/2:Math.atan2(k,w),A=e(S,O),M=A[0],E=A[1],P=M-r,D=E-i,L=x*P-b*D;(L*L/_>t||v((b*P+x*D)/_-.5)>.3||a*p+l*h+u*g<n)&&(s(r,i,o,a,l,u,M,E,S,w/=C,k/=C,T,m,y),y.point(M,E),s(M,E,S,w,k,T,c,f,d,p,h,g,m,y))}}return i.precision=function(e){return arguments.length?(r=(t=e*e)>0&&16,i):Math.sqrt(t)},i}function Mr(e){var t=Ar((function(t,n){return e([t*Pe,n*Pe])}));return function(e){return Rr(t(e))}}function Er(e){this.stream=e}function Pr(e,t){return{point:t,sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}function Dr(e){return Lr((function(){return e}))()}function Lr(t){var n,r,i,o,a,s,l=Ar((function(e,t){return[(e=n(e,t))[0]*u+o,a-e[1]*u]})),u=150,c=480,f=250,d=0,p=0,h=0,g=0,m=0,y=rr,v=E,b=null,x=null;function _(e){return[(e=i(e[0]*Ee,e[1]*Ee))[0]*u+o,a-e[1]*u]}function w(e){return(e=i.invert((e[0]-o)/u,(a-e[1])/u))&&[e[0]*Pe,e[1]*Pe]}function k(){i=Yn(r=jr(h,g,m),n);var e=n(d,p);return o=c-e[0]*u,a=f+e[1]*u,T()}function T(){return s&&(s.valid=!1,s=null),_}return _.stream=function(e){return s&&(s.valid=!1),(s=Rr(y(r,l(v(e))))).valid=!0,s},_.clipAngle=function(e){return arguments.length?(y=null==e?(b=e,rr):ir((b=+e)*Ee),T()):b},_.clipExtent=function(e){return arguments.length?(x=e,v=e?sr(e[0][0],e[0][1],e[1][0],e[1][1]):E,T()):x},_.scale=function(e){return arguments.length?(u=+e,k()):u},_.translate=function(e){return arguments.length?(c=+e[0],f=+e[1],k()):[c,f]},_.center=function(e){return arguments.length?(d=e[0]%360*Ee,p=e[1]%360*Ee,k()):[d*Pe,p*Pe]},_.rotate=function(e){return arguments.length?(h=e[0]%360*Ee,g=e[1]%360*Ee,m=e.length>2?e[2]%360*Ee:0,k()):[h*Pe,g*Pe,m*Pe]},e.rebind(_,l,"precision"),function(){return n=t.apply(this,arguments),_.invert=n.invert&&w,k()}}function Rr(e){return Pr(e,(function(t,n){e.point(t*Ee,n*Ee)}))}function Ir(e,t){return[e,t]}function Nr(e,t){return[e>Oe?e-Se:e<-Oe?e+Se:e,t]}function jr(e,t,n){return e?t||n?Yn(qr(e),Fr(t,n)):qr(e):t||n?Fr(t,n):Nr}function zr(e){return function(t,n){return[(t+=e)>Oe?t-Se:t<-Oe?t+Se:t,n]}}function qr(e){var t=zr(e);return t.invert=zr(-e),t}function Fr(e,t){var n=Math.cos(e),r=Math.sin(e),i=Math.cos(t),o=Math.sin(t);function a(e,t){var a=Math.cos(t),s=Math.cos(e)*a,l=Math.sin(e)*a,u=Math.sin(t),c=u*n+s*r;return[Math.atan2(l*i-c*o,s*n-u*r),Ie(c*i+l*o)]}return a.invert=function(e,t){var a=Math.cos(t),s=Math.cos(e)*a,l=Math.sin(e)*a,u=Math.sin(t),c=u*i-l*o;return[Math.atan2(l*i+u*o,s*n+c*r),Ie(c*n-s*r)]},a}function Br(e,t){var n=Math.cos(e),r=Math.sin(e);return function(i,o,a,s){var l=a*t;null!=i?(i=Hr(n,i),o=Hr(n,o),(a>0?i<o:i>o)&&(i+=a*Se)):(i=e+a*Se,o=e-.5*l);for(var u,c=i;a>0?c>o:c<o;c-=l)s.point((u=Fn([n,-r*Math.cos(c),-r*Math.sin(c)]))[0],u[1])}}function Hr(e,t){var n=Rn(t);n[0]-=e,qn(n);var r=Re(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-Te)%(2*Math.PI)}function Ur(t,n,r){var i=e.range(t,n-Te,r).concat(n);return function(e){return i.map((function(t){return[e,t]}))}}function Vr(t,n,r){var i=e.range(t,n-Te,r).concat(n);return function(e){return i.map((function(t){return[t,e]}))}}function Wr(e){return e.source}function Gr(e){return e.target}e.geo.path=function(){var t,n,r,i,o,a=4.5;function s(t){return t&&("function"==typeof a&&i.pointRadius(+a.apply(this,arguments)),o&&o.valid||(o=r(i)),e.geo.stream(t,o)),i.result()}function l(){return o=null,s}return s.area=function(t){return cr=0,e.geo.stream(t,r(mr)),cr},s.centroid=function(t){return wn=kn=Tn=Cn=On=Sn=An=Mn=En=0,e.geo.stream(t,r(wr)),En?[An/En,Mn/En]:Sn?[Cn/Sn,On/Sn]:Tn?[wn/Tn,kn/Tn]:[NaN,NaN]},s.bounds=function(t){return hr=gr=-(dr=pr=1/0),e.geo.stream(t,r(vr)),[[dr,pr],[hr,gr]]},s.projection=function(e){return arguments.length?(r=(t=e)?e.stream||Mr(e):E,l()):t},s.context=function(e){return arguments.length?(i=null==(n=e)?new br:new Sr(e),"function"!=typeof a&&i.pointRadius(a),l()):n},s.pointRadius=function(e){return arguments.length?(a="function"==typeof e?e:(i.pointRadius(+e),+e),s):a},s.projection(e.geo.albersUsa()).context(null)},e.geo.transform=function(e){return{stream:function(t){var n=new Er(t);for(var r in e)n[r]=e[r];return n}}},Er.prototype={point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},e.geo.projection=Dr,e.geo.projectionMutator=Lr,(e.geo.equirectangular=function(){return Dr(Ir)}).raw=Ir.invert=Ir,e.geo.rotation=function(e){function t(t){return(t=e(t[0]*Ee,t[1]*Ee))[0]*=Pe,t[1]*=Pe,t}return e=jr(e[0]%360*Ee,e[1]*Ee,e.length>2?e[2]*Ee:0),t.invert=function(t){return(t=e.invert(t[0]*Ee,t[1]*Ee))[0]*=Pe,t[1]*=Pe,t},t},Nr.invert=Ir,e.geo.circle=function(){var e,t,n=[0,0],r=6;function i(){var e="function"==typeof n?n.apply(this,arguments):n,r=jr(-e[0]*Ee,-e[1]*Ee,0).invert,i=[];return t(null,null,1,{point:function(e,t){i.push(e=r(e,t)),e[0]*=Pe,e[1]*=Pe}}),{type:"Polygon",coordinates:[i]}}return i.origin=function(e){return arguments.length?(n=e,i):n},i.angle=function(n){return arguments.length?(t=Br((e=+n)*Ee,r*Ee),i):e},i.precision=function(n){return arguments.length?(t=Br(e*Ee,(r=+n)*Ee),i):r},i.angle(90)},e.geo.distance=function(e,t){var n,r=(t[0]-e[0])*Ee,i=e[1]*Ee,o=t[1]*Ee,a=Math.sin(r),s=Math.cos(r),l=Math.sin(i),u=Math.cos(i),c=Math.sin(o),f=Math.cos(o);return Math.atan2(Math.sqrt((n=f*a)*n+(n=u*c-l*f*s)*n),l*c+u*f*s)},e.geo.graticule=function(){var t,n,r,i,o,a,s,l,u,c,f,d,p=10,h=p,g=90,m=360,y=2.5;function b(){return{type:"MultiLineString",coordinates:x()}}function x(){return e.range(Math.ceil(i/g)*g,r,g).map(f).concat(e.range(Math.ceil(l/m)*m,s,m).map(d)).concat(e.range(Math.ceil(n/p)*p,t,p).filter((function(e){return v(e%g)>Te})).map(u)).concat(e.range(Math.ceil(a/h)*h,o,h).filter((function(e){return v(e%m)>Te})).map(c))}return b.lines=function(){return x().map((function(e){return{type:"LineString",coordinates:e}}))},b.outline=function(){return{type:"Polygon",coordinates:[f(i).concat(d(s).slice(1),f(r).reverse().slice(1),d(l).reverse().slice(1))]}},b.extent=function(e){return arguments.length?b.majorExtent(e).minorExtent(e):b.minorExtent()},b.majorExtent=function(e){return arguments.length?(i=+e[0][0],r=+e[1][0],l=+e[0][1],s=+e[1][1],i>r&&(e=i,i=r,r=e),l>s&&(e=l,l=s,s=e),b.precision(y)):[[i,l],[r,s]]},b.minorExtent=function(e){return arguments.length?(n=+e[0][0],t=+e[1][0],a=+e[0][1],o=+e[1][1],n>t&&(e=n,n=t,t=e),a>o&&(e=a,a=o,o=e),b.precision(y)):[[n,a],[t,o]]},b.step=function(e){return arguments.length?b.majorStep(e).minorStep(e):b.minorStep()},b.majorStep=function(e){return arguments.length?(g=+e[0],m=+e[1],b):[g,m]},b.minorStep=function(e){return arguments.length?(p=+e[0],h=+e[1],b):[p,h]},b.precision=function(e){return arguments.length?(y=+e,u=Ur(a,o,90),c=Vr(n,t,y),f=Ur(l,s,90),d=Vr(i,r,y),b):y},b.majorExtent([[-180,-90+Te],[180,90-Te]]).minorExtent([[-180,-80-Te],[180,80+Te]])},e.geo.greatArc=function(){var t,n,r=Wr,i=Gr;function o(){return{type:"LineString",coordinates:[t||r.apply(this,arguments),n||i.apply(this,arguments)]}}return o.distance=function(){return e.geo.distance(t||r.apply(this,arguments),n||i.apply(this,arguments))},o.source=function(e){return arguments.length?(r=e,t="function"==typeof e?null:e,o):r},o.target=function(e){return arguments.length?(i=e,n="function"==typeof e?null:e,o):i},o.precision=function(){return arguments.length?o:0},o},e.geo.interpolate=function(e,t){return n=e[0]*Ee,r=e[1]*Ee,i=t[0]*Ee,o=t[1]*Ee,a=Math.cos(r),s=Math.sin(r),l=Math.cos(o),u=Math.sin(o),c=a*Math.cos(n),f=a*Math.sin(n),d=l*Math.cos(i),p=l*Math.sin(i),h=2*Math.asin(Math.sqrt(je(o-r)+a*l*je(i-n))),g=1/Math.sin(h),(m=h?function(e){var t=Math.sin(e*=h)*g,n=Math.sin(h-e)*g,r=n*c+t*d,i=n*f+t*p,o=n*s+t*u;return[Math.atan2(i,r)*Pe,Math.atan2(o,Math.sqrt(r*r+i*i))*Pe]}:function(){return[n*Pe,r*Pe]}).distance=h,m;var n,r,i,o,a,s,l,u,c,f,d,p,h,g,m},e.geo.length=function(t){return _r=0,e.geo.stream(t,Kr),_r};var Kr={sphere:R,point:R,lineStart:function(){var e,t,n;function r(r,i){var o=Math.sin(i*=Ee),a=Math.cos(i),s=v((r*=Ee)-e),l=Math.cos(s);_r+=Math.atan2(Math.sqrt((s=a*Math.sin(s))*s+(s=n*o-t*a*l)*s),t*o+n*a*l),e=r,t=o,n=a}Kr.point=function(i,o){e=i*Ee,t=Math.sin(o*=Ee),n=Math.cos(o),Kr.point=r},Kr.lineEnd=function(){Kr.point=Kr.lineEnd=R}},lineEnd:R,polygonStart:R,polygonEnd:R};function Yr(e,t){function n(t,n){var r=Math.cos(t),i=Math.cos(n),o=e(r*i);return[o*i*Math.sin(t),o*Math.sin(n)]}return n.invert=function(e,n){var r=Math.sqrt(e*e+n*n),i=t(r),o=Math.sin(i),a=Math.cos(i);return[Math.atan2(e*o,r*a),Math.asin(r&&n*o/r)]},n}var Zr=Yr((function(e){return Math.sqrt(2/(1+e))}),(function(e){return 2*Math.asin(e/2)}));(e.geo.azimuthalEqualArea=function(){return Dr(Zr)}).raw=Zr;var Xr=Yr((function(e){var t=Math.acos(e);return t&&t/Math.sin(t)}),E);function $r(e,t){var n=Math.cos(e),r=function(e){return Math.tan(Oe/4+e/2)},i=e===t?Math.sin(e):Math.log(n/Math.cos(t))/Math.log(r(t)/r(e)),o=n*Math.pow(r(e),i)/i;if(!i)return ei;function a(e,t){o>0?t<-Me+Te&&(t=-Me+Te):t>Me-Te&&(t=Me-Te);var n=o/Math.pow(r(t),i);return[n*Math.sin(i*e),o-n*Math.cos(i*e)]}return a.invert=function(e,t){var n=o-t,r=De(i)*Math.sqrt(e*e+n*n);return[Math.atan2(e,n)/i,2*Math.atan(Math.pow(o/r,1/i))-Me]},a}function Jr(e,t){var n=Math.cos(e),r=e===t?Math.sin(e):(n-Math.cos(t))/(t-e),i=n/r+e;if(v(r)<Te)return Ir;function o(e,t){var n=i-t;return[n*Math.sin(r*e),i-n*Math.cos(r*e)]}return o.invert=function(e,t){var n=i-t;return[Math.atan2(e,n)/r,i-De(r)*Math.sqrt(e*e+n*n)]},o}(e.geo.azimuthalEquidistant=function(){return Dr(Xr)}).raw=Xr,(e.geo.conicConformal=function(){return lr($r)}).raw=$r,(e.geo.conicEquidistant=function(){return lr(Jr)}).raw=Jr;var Qr=Yr((function(e){return 1/e}),Math.atan);function ei(e,t){return[e,Math.log(Math.tan(Oe/4+t/2))]}function ti(e){var t,n=Dr(e),r=n.scale,i=n.translate,o=n.clipExtent;return n.scale=function(){var e=r.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.translate=function(){var e=i.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.clipExtent=function(e){var a=o.apply(n,arguments);if(a===n){if(t=null==e){var s=Oe*r(),l=i();o([[l[0]-s,l[1]-s],[l[0]+s,l[1]+s]])}}else t&&(a=null);return a},n.clipExtent(null)}(e.geo.gnomonic=function(){return Dr(Qr)}).raw=Qr,ei.invert=function(e,t){return[e,2*Math.atan(Math.exp(t))-Me]},(e.geo.mercator=function(){return ti(ei)}).raw=ei;var ni=Yr((function(){return 1}),Math.asin);(e.geo.orthographic=function(){return Dr(ni)}).raw=ni;var ri=Yr((function(e){return 1/(1+e)}),(function(e){return 2*Math.atan(e)}));function ii(e,t){return[Math.log(Math.tan(Oe/4+t/2)),-e]}function oi(e){return e[0]}function ai(e){return e[1]}function si(e){for(var t=e.length,n=[0,1],r=2,i=2;i<t;i++){for(;r>1&&Le(e[n[r-2]],e[n[r-1]],e[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function li(e,t){return e[0]-t[0]||e[1]-t[1]}(e.geo.stereographic=function(){return Dr(ri)}).raw=ri,ii.invert=function(e,t){return[-t,2*Math.atan(Math.exp(e))-Me]},(e.geo.transverseMercator=function(){var e=ti(ii),t=e.center,n=e.rotate;return e.center=function(e){return e?t([-e[1],e[0]]):[(e=t())[1],-e[0]]},e.rotate=function(e){return e?n([e[0],e[1],e.length>2?e[2]+90:90]):[(e=n())[0],e[1],e[2]-90]},n([0,0,90])}).raw=ii,e.geom={},e.geom.hull=function(e){var t=oi,n=ai;if(arguments.length)return r(e);function r(e){if(e.length<3)return[];var r,i=mt(t),o=mt(n),a=e.length,s=[],l=[];for(r=0;r<a;r++)s.push([+i.call(this,e[r],r),+o.call(this,e[r],r),r]);for(s.sort(li),r=0;r<a;r++)l.push([s[r][0],-s[r][1]]);var u=si(s),c=si(l),f=c[0]===u[0],d=c[c.length-1]===u[u.length-1],p=[];for(r=u.length-1;r>=0;--r)p.push(e[s[u[r]][2]]);for(r=+f;r<c.length-d;++r)p.push(e[s[c[r]][2]]);return p}return r.x=function(e){return arguments.length?(t=e,r):t},r.y=function(e){return arguments.length?(n=e,r):n},r},e.geom.polygon=function(e){return B(e,ui),e};var ui=e.geom.polygon.prototype=[];function ci(e,t,n){return(n[0]-t[0])*(e[1]-t[1])<(n[1]-t[1])*(e[0]-t[0])}function fi(e,t,n,r){var i=e[0],o=n[0],a=t[0]-i,s=r[0]-o,l=e[1],u=n[1],c=t[1]-l,f=r[1]-u,d=(s*(l-u)-f*(i-o))/(f*a-s*c);return[i+d*a,l+d*c]}function di(e){var t=e[0],n=e[e.length-1];return!(t[0]-n[0]||t[1]-n[1])}ui.area=function(){for(var e,t=-1,n=this.length,r=this[n-1],i=0;++t<n;)e=r,r=this[t],i+=e[1]*r[0]-e[0]*r[1];return.5*i},ui.centroid=function(e){var t,n,r=-1,i=this.length,o=0,a=0,s=this[i-1];for(arguments.length||(e=-1/(6*this.area()));++r<i;)t=s,s=this[r],n=t[0]*s[1]-s[0]*t[1],o+=(t[0]+s[0])*n,a+=(t[1]+s[1])*n;return[o*e,a*e]},ui.clip=function(e){for(var t,n,r,i,o,a,s=di(e),l=-1,u=this.length-di(this),c=this[u-1];++l<u;){for(t=e.slice(),e.length=0,i=this[l],o=t[(r=t.length-s)-1],n=-1;++n<r;)ci(a=t[n],c,i)?(ci(o,c,i)||e.push(fi(o,a,c,i)),e.push(a)):ci(o,c,i)&&e.push(fi(o,a,c,i)),o=a;s&&e.push(e[0]),c=i}return e};var pi,hi,gi,mi,yi,vi=[],bi=[];function xi(){zi(this),this.edge=this.site=this.circle=null}function _i(e){var t=vi.pop()||new xi;return t.site=e,t}function wi(e){Pi(e),gi.remove(e),vi.push(e),zi(e)}function ki(e){var t=e.circle,n=t.x,r=t.cy,i={x:n,y:r},o=e.P,a=e.N,s=[e];wi(e);for(var l=o;l.circle&&v(n-l.circle.x)<Te&&v(r-l.circle.cy)<Te;)o=l.P,s.unshift(l),wi(l),l=o;s.unshift(l),Pi(l);for(var u=a;u.circle&&v(n-u.circle.x)<Te&&v(r-u.circle.cy)<Te;)a=u.N,s.push(u),wi(u),u=a;s.push(u),Pi(u);var c,f=s.length;for(c=1;c<f;++c)u=s[c],l=s[c-1],Ii(u.edge,l.site,u.site,i);l=s[0],(u=s[f-1]).edge=Ri(l.site,u.site,null,i),Ei(l),Ei(u)}function Ti(e){for(var t,n,r,i,o=e.x,a=e.y,s=gi._;s;)if((r=Ci(s,a)-o)>Te)s=s.L;else{if(!((i=o-Oi(s,a))>Te)){r>-Te?(t=s.P,n=s):i>-Te?(t=s,n=s.N):t=n=s;break}if(!s.R){t=s;break}s=s.R}var l=_i(e);if(gi.insert(t,l),t||n){if(t===n)return Pi(t),n=_i(t.site),gi.insert(l,n),l.edge=n.edge=Ri(t.site,l.site),Ei(t),void Ei(n);if(n){Pi(t),Pi(n);var u=t.site,c=u.x,f=u.y,d=e.x-c,p=e.y-f,h=n.site,g=h.x-c,m=h.y-f,y=2*(d*m-p*g),v=d*d+p*p,b=g*g+m*m,x={x:(m*v-p*b)/y+c,y:(d*b-g*v)/y+f};Ii(n.edge,u,h,x),l.edge=Ri(u,e,null,x),n.edge=Ri(e,h,null,x),Ei(t),Ei(n)}else l.edge=Ri(t.site,l.site)}}function Ci(e,t){var n=e.site,r=n.x,i=n.y,o=i-t;if(!o)return r;var a=e.P;if(!a)return-1/0;var s=(n=a.site).x,l=n.y,u=l-t;if(!u)return s;var c=s-r,f=1/o-1/u,d=c/u;return f?(-d+Math.sqrt(d*d-2*f*(c*c/(-2*u)-l+u/2+i-o/2)))/f+r:(r+s)/2}function Oi(e,t){var n=e.N;if(n)return Ci(n,t);var r=e.site;return r.y===t?r.x:1/0}function Si(e){this.site=e,this.edges=[]}function Ai(e,t){return t.angle-e.angle}function Mi(){zi(this),this.x=this.y=this.arc=this.site=this.cy=null}function Ei(e){var t=e.P,n=e.N;if(t&&n){var r=t.site,i=e.site,o=n.site;if(r!==o){var a=i.x,s=i.y,l=r.x-a,u=r.y-s,c=o.x-a,f=2*(l*(m=o.y-s)-u*c);if(!(f>=-Ce)){var d=l*l+u*u,p=c*c+m*m,h=(m*d-u*p)/f,g=(l*p-c*d)/f,m=g+s,y=bi.pop()||new Mi;y.arc=e,y.site=i,y.x=h+a,y.y=m+Math.sqrt(h*h+g*g),y.cy=m,e.circle=y;for(var v=null,b=yi._;b;)if(y.y<b.y||y.y===b.y&&y.x<=b.x){if(!b.L){v=b.P;break}b=b.L}else{if(!b.R){v=b;break}b=b.R}yi.insert(v,y),v||(mi=y)}}}}function Pi(e){var t=e.circle;t&&(t.P||(mi=t.N),yi.remove(t),bi.push(t),zi(t),e.circle=null)}function Di(e,t){var n=e.b;if(n)return!0;var r,i,o=e.a,a=t[0][0],s=t[1][0],l=t[0][1],u=t[1][1],c=e.l,f=e.r,d=c.x,p=c.y,h=f.x,g=f.y,m=(d+h)/2,y=(p+g)/2;if(g===p){if(m<a||m>=s)return;if(d>h){if(o){if(o.y>=u)return}else o={x:m,y:l};n={x:m,y:u}}else{if(o){if(o.y<l)return}else o={x:m,y:u};n={x:m,y:l}}}else if(i=y-(r=(d-h)/(g-p))*m,r<-1||r>1)if(d>h){if(o){if(o.y>=u)return}else o={x:(l-i)/r,y:l};n={x:(u-i)/r,y:u}}else{if(o){if(o.y<l)return}else o={x:(u-i)/r,y:u};n={x:(l-i)/r,y:l}}else if(p<g){if(o){if(o.x>=s)return}else o={x:a,y:r*a+i};n={x:s,y:r*s+i}}else{if(o){if(o.x<a)return}else o={x:s,y:r*s+i};n={x:a,y:r*a+i}}return e.a=o,e.b=n,!0}function Li(e,t){this.l=e,this.r=t,this.a=this.b=null}function Ri(e,t,n,r){var i=new Li(e,t);return pi.push(i),n&&Ii(i,e,t,n),r&&Ii(i,t,e,r),hi[e.i].edges.push(new Ni(i,e,t)),hi[t.i].edges.push(new Ni(i,t,e)),i}function Ii(e,t,n,r){e.a||e.b?e.l===n?e.b=r:e.a=r:(e.a=r,e.l=t,e.r=n)}function Ni(e,t,n){var r=e.a,i=e.b;this.edge=e,this.site=t,this.angle=n?Math.atan2(n.y-t.y,n.x-t.x):e.l===t?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function ji(){this._=null}function zi(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function qi(e,t){var n=t,r=t.R,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Fi(e,t){var n=t,r=t.L,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function Bi(e){for(;e.L;)e=e.L;return e}function Hi(e,t){var n,r,i,o=e.sort(Ui).pop();for(pi=[],hi=new Array(e.length),gi=new ji,yi=new ji;;)if(i=mi,o&&(!i||o.y<i.y||o.y===i.y&&o.x<i.x))o.x===n&&o.y===r||(hi[o.i]=new Si(o),Ti(o),n=o.x,r=o.y),o=e.pop();else{if(!i)break;ki(i.arc)}t&&(function(e){for(var t,n=pi,r=or(e[0][0],e[0][1],e[1][0],e[1][1]),i=n.length;i--;)(!Di(t=n[i],e)||!r(t)||v(t.a.x-t.b.x)<Te&&v(t.a.y-t.b.y)<Te)&&(t.a=t.b=null,n.splice(i,1))}(t),function(e){for(var t,n,r,i,o,a,s,l,u,c,f=e[0][0],d=e[1][0],p=e[0][1],h=e[1][1],g=hi,m=g.length;m--;)if((o=g[m])&&o.prepare())for(l=(s=o.edges).length,a=0;a<l;)r=(c=s[a].end()).x,i=c.y,t=(u=s[++a%l].start()).x,n=u.y,(v(r-t)>Te||v(i-n)>Te)&&(s.splice(a,0,new Ni((y=o.site,b=c,x=v(r-f)<Te&&h-i>Te?{x:f,y:v(t-f)<Te?n:h}:v(i-h)<Te&&d-r>Te?{x:v(n-h)<Te?t:d,y:h}:v(r-d)<Te&&i-p>Te?{x:d,y:v(t-d)<Te?n:p}:v(i-p)<Te&&r-f>Te?{x:v(n-p)<Te?t:f,y:p}:null,_=void 0,(_=new Li(y,null)).a=b,_.b=x,pi.push(_),_),o.site,null)),++l);var y,b,x,_}(t));var a={cells:hi,edges:pi};return gi=yi=pi=hi=null,a}function Ui(e,t){return t.y-e.y||t.x-e.x}Si.prototype.prepare=function(){for(var e,t=this.edges,n=t.length;n--;)(e=t[n].edge).b&&e.a||t.splice(n,1);return t.sort(Ai),t.length},Ni.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},ji.prototype={insert:function(e,t){var n,r,i;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=Bi(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.R&&(qi(this,n),n=(e=n).U),n.C=!1,r.C=!0,Fi(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.L&&(Fi(this,n),n=(e=n).U),n.C=!1,r.C=!0,qi(this,r)),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,r,i=e.U,o=e.L,a=e.R;if(n=o?a?Bi(a):o:a,i?i.L===e?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=e.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=e.U,e=n.R,i.L=e,n.R=a,a.U=n):(n.U=i,i=n,e=n.R)):(r=e.C,e=n),e&&(e.U=i),!r)if(e&&e.C)e.C=!1;else{do{if(e===this._)break;if(e===i.L){if((t=i.R).C&&(t.C=!1,i.C=!0,qi(this,i),t=i.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,Fi(this,t),t=i.R),t.C=i.C,i.C=t.R.C=!1,qi(this,i),e=this._;break}}else if((t=i.L).C&&(t.C=!1,i.C=!0,Fi(this,i),t=i.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,qi(this,t),t=i.L),t.C=i.C,i.C=t.L.C=!1,Fi(this,i),e=this._;break}t.C=!0,e=i,i=i.U}while(!e.C);e&&(e.C=!1)}}},e.geom.voronoi=function(e){var t=oi,n=ai,r=t,i=n,o=Vi;if(e)return a(e);function a(e){var t=new Array(e.length),n=o[0][0],r=o[0][1],i=o[1][0],a=o[1][1];return Hi(s(e),o).cells.forEach((function(o,s){var l=o.edges,u=o.site;(t[s]=l.length?l.map((function(e){var t=e.start();return[t.x,t.y]})):u.x>=n&&u.x<=i&&u.y>=r&&u.y<=a?[[n,a],[i,a],[i,r],[n,r]]:[]).point=e[s]})),t}function s(e){return e.map((function(e,t){return{x:Math.round(r(e,t)/Te)*Te,y:Math.round(i(e,t)/Te)*Te,i:t}}))}return a.links=function(e){return Hi(s(e)).edges.filter((function(e){return e.l&&e.r})).map((function(t){return{source:e[t.l.i],target:e[t.r.i]}}))},a.triangles=function(e){var t=[];return Hi(s(e)).cells.forEach((function(n,r){for(var i,o=n.site,a=n.edges.sort(Ai),s=-1,l=a.length,u=a[l-1].edge,c=u.l===o?u.r:u.l;++s<l;)i=c,c=(u=a[s].edge).l===o?u.r:u.l,r<i.i&&r<c.i&&(d=i,p=c,((f=o).x-p.x)*(d.y-f.y)-(f.x-d.x)*(p.y-f.y)<0)&&t.push([e[r],e[i.i],e[c.i]]);var f,d,p})),t},a.x=function(e){return arguments.length?(r=mt(t=e),a):t},a.y=function(e){return arguments.length?(i=mt(n=e),a):n},a.clipExtent=function(e){return arguments.length?(o=null==e?Vi:e,a):o===Vi?null:o},a.size=function(e){return arguments.length?a.clipExtent(e&&[[0,0],e]):o===Vi?null:o&&o[1]},a};var Vi=[[-1e6,-1e6],[1e6,1e6]];function Wi(e){return e.x}function Gi(e){return e.y}function Ki(e,t,n,r,i,o){if(!e(t,n,r,i,o)){var a=.5*(n+i),s=.5*(r+o),l=t.nodes;l[0]&&Ki(e,l[0],n,r,a,s),l[1]&&Ki(e,l[1],a,r,i,s),l[2]&&Ki(e,l[2],n,s,a,o),l[3]&&Ki(e,l[3],a,s,i,o)}}function Yi(e,t,n,r,i,o,a){var s,l=1/0;return function e(u,c,f,d,p){if(!(c>o||f>a||d<r||p<i)){if(h=u.point){var h,g=t-u.x,m=n-u.y,y=g*g+m*m;if(y<l){var v=Math.sqrt(l=y);r=t-v,i=n-v,o=t+v,a=n+v,s=h}}for(var b=u.nodes,x=.5*(c+d),_=.5*(f+p),w=(n>=_)<<1|t>=x,k=w+4;w<k;++w)if(u=b[3&w])switch(3&w){case 0:e(u,c,f,x,_);break;case 1:e(u,x,f,d,_);break;case 2:e(u,c,_,x,p);break;case 3:e(u,x,_,d,p)}}}(e,r,i,o,a),s}function Zi(t,n){t=e.rgb(t),n=e.rgb(n);var r=t.r,i=t.g,o=t.b,a=n.r-r,s=n.g-i,l=n.b-o;return function(e){return"#"+ut(Math.round(r+a*e))+ut(Math.round(i+s*e))+ut(Math.round(o+l*e))}}function Xi(e,t){var n,r={},i={};for(n in e)n in t?r[n]=to(e[n],t[n]):i[n]=e[n];for(n in t)n in e||(i[n]=t[n]);return function(e){for(n in r)i[n]=r[n](e);return i}}function $i(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Ji(e,t){var n,r,i,o=Qi.lastIndex=eo.lastIndex=0,a=-1,s=[],l=[];for(e+="",t+="";(n=Qi.exec(e))&&(r=eo.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:$i(n,r)})),o=eo.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?(t=l[0].x,function(e){return t(e)+""}):function(){return t}:(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}e.geom.delaunay=function(t){return e.geom.voronoi().triangles(t)},e.geom.quadtree=function(e,t,n,r,i){var o,a=oi,s=ai;if(o=arguments.length)return a=Wi,s=Gi,3===o&&(i=n,r=t,n=t=0),l(e);function l(e){var l,u,c,f,d,p,h,g,m,y=mt(a),b=mt(s);if(null!=t)p=t,h=n,g=r,m=i;else if(g=m=-(p=h=1/0),u=[],c=[],d=e.length,o)for(f=0;f<d;++f)(l=e[f]).x<p&&(p=l.x),l.y<h&&(h=l.y),l.x>g&&(g=l.x),l.y>m&&(m=l.y),u.push(l.x),c.push(l.y);else for(f=0;f<d;++f){var x=+y(l=e[f],f),_=+b(l,f);x<p&&(p=x),_<h&&(h=_),x>g&&(g=x),_>m&&(m=_),u.push(x),c.push(_)}var w=g-p,k=m-h;function T(e,t,n,r,i,o,a,s){if(!isNaN(n)&&!isNaN(r))if(e.leaf){var l=e.x,u=e.y;if(null!=l)if(v(l-n)+v(u-r)<.01)C(e,t,n,r,i,o,a,s);else{var c=e.point;e.x=e.y=e.point=null,C(e,c,l,u,i,o,a,s),C(e,t,n,r,i,o,a,s)}else e.x=n,e.y=r,e.point=t}else C(e,t,n,r,i,o,a,s)}function C(e,t,n,r,i,o,a,s){var l=.5*(i+a),u=.5*(o+s),c=n>=l,f=r>=u,d=f<<1|c;e.leaf=!1,c?i=l:a=l,f?o=u:s=u,T(e=e.nodes[d]||(e.nodes[d]={leaf:!0,nodes:[],point:null,x:null,y:null}),t,n,r,i,o,a,s)}w>k?m=h+w:g=p+k;var O={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(e){T(O,e,+y(e,++f),+b(e,f),p,h,g,m)},visit:function(e){Ki(e,O,p,h,g,m)},find:function(e){return Yi(O,e[0],e[1],p,h,g,m)}};if(f=-1,null==t){for(;++f<d;)T(O,e[f],u[f],c[f],p,h,g,m);--f}else e.forEach(O.add);return u=c=e=l=null,O}return l.x=function(e){return arguments.length?(a=e,l):a},l.y=function(e){return arguments.length?(s=e,l):s},l.extent=function(e){return arguments.length?(null==e?t=n=r=i=null:(t=+e[0][0],n=+e[0][1],r=+e[1][0],i=+e[1][1]),l):null==t?null:[[t,n],[r,i]]},l.size=function(e){return arguments.length?(null==e?t=n=r=i=null:(t=n=0,r=+e[0],i=+e[1]),l):null==t?null:[r-t,i-n]},l},e.interpolateRgb=Zi,e.interpolateObject=Xi,e.interpolateNumber=$i,e.interpolateString=Ji;var Qi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,eo=new RegExp(Qi.source,"g");function to(t,n){for(var r,i=e.interpolators.length;--i>=0&&!(r=e.interpolators[i](t,n)););return r}function no(e,t){var n,r=[],i=[],o=e.length,a=t.length,s=Math.min(e.length,t.length);for(n=0;n<s;++n)r.push(to(e[n],t[n]));for(;n<o;++n)i[n]=e[n];for(;n<a;++n)i[n]=t[n];return function(e){for(n=0;n<s;++n)i[n]=r[n](e);return i}}e.interpolate=to,e.interpolators=[function(e,t){var n=typeof t;return("string"===n?gt.has(t.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(t)?Zi:Ji:t instanceof He?Zi:Array.isArray(t)?no:"object"===n&&isNaN(t)?Xi:$i)(e,t)}],e.interpolateArray=no;var ro=function(){return E},io=e.map({linear:ro,poly:function(e){return function(t){return Math.pow(t,e)}},quad:function(){return uo},cubic:function(){return co},sin:function(){return po},exp:function(){return ho},circle:function(){return go},elastic:function(e,t){var n;return arguments.length<2&&(t=.45),arguments.length?n=t/Se*Math.asin(1/e):(e=1,n=t/4),function(r){return 1+e*Math.pow(2,-10*r)*Math.sin((r-n)*Se/t)}},back:function(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}},bounce:function(){return mo}}),oo=e.map({in:E,out:so,"in-out":lo,"out-in":function(e){return lo(so(e))}});function ao(e){return function(t){return t<=0?0:t>=1?1:e(t)}}function so(e){return function(t){return 1-e(1-t)}}function lo(e){return function(t){return.5*(t<.5?e(2*t):2-e(2-2*t))}}function uo(e){return e*e}function co(e){return e*e*e}function fo(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)}function po(e){return 1-Math.cos(e*Me)}function ho(e){return Math.pow(2,10*(e-1))}function go(e){return 1-Math.sqrt(1-e*e)}function mo(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function yo(e,t){return t-=e,function(n){return Math.round(e+t*n)}}function vo(e){var t,n,r,i=[e.a,e.b],o=[e.c,e.d],a=xo(i),s=bo(i,o),l=xo(((t=o)[0]+=(r=-s)*(n=i)[0],t[1]+=r*n[1],t))||0;i[0]*o[1]<o[0]*i[1]&&(i[0]*=-1,i[1]*=-1,a*=-1,s*=-1),this.rotate=(a?Math.atan2(i[1],i[0]):Math.atan2(-o[0],o[1]))*Pe,this.translate=[e.e,e.f],this.scale=[a,l],this.skew=l?Math.atan2(s,l)*Pe:0}function bo(e,t){return e[0]*t[0]+e[1]*t[1]}function xo(e){var t=Math.sqrt(bo(e,e));return t&&(e[0]/=t,e[1]/=t),t}e.ease=function(e){var t=e.indexOf("-"),r=t>=0?e.slice(0,t):e,i=t>=0?e.slice(t+1):"in";return r=io.get(r)||ro,ao((i=oo.get(i)||E)(r.apply(null,n.call(arguments,1))))},e.interpolateHcl=function(t,n){t=e.hcl(t),n=e.hcl(n);var r=t.h,i=t.c,o=t.l,a=n.h-r,s=n.c-i,l=n.l-o;return isNaN(s)&&(s=0,i=isNaN(i)?n.c:i),isNaN(a)?(a=0,r=isNaN(r)?n.h:r):a>180?a-=360:a<-180&&(a+=360),function(e){return Ye(r+a*e,i+s*e,o+l*e)+""}},e.interpolateHsl=function(t,n){t=e.hsl(t),n=e.hsl(n);var r=t.h,i=t.s,o=t.l,a=n.h-r,s=n.s-i,l=n.l-o;return isNaN(s)&&(s=0,i=isNaN(i)?n.s:i),isNaN(a)?(a=0,r=isNaN(r)?n.h:r):a>180?a-=360:a<-180&&(a+=360),function(e){return We(r+a*e,i+s*e,o+l*e)+""}},e.interpolateLab=function(t,n){t=e.lab(t),n=e.lab(n);var r=t.l,i=t.a,o=t.b,a=n.l-r,s=n.a-i,l=n.b-o;return function(e){return et(r+a*e,i+s*e,o+l*e)+""}},e.interpolateRound=yo,e.transform=function(t){var n=i.createElementNS(e.ns.prefix.svg,"g");return(e.transform=function(e){if(null!=e){n.setAttribute("transform",e);var t=n.transform.baseVal.consolidate()}return new vo(t?t.matrix:_o)})(t)},vo.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var _o={a:1,b:0,c:0,d:1,e:0,f:0};function wo(e){return e.length?e.pop()+",":""}function ko(t,n){var r=[],i=[];return t=e.transform(t),n=e.transform(n),function(e,t,n,r){if(e[0]!==t[0]||e[1]!==t[1]){var i=n.push("translate(",null,",",null,")");r.push({i:i-4,x:$i(e[0],t[0])},{i:i-2,x:$i(e[1],t[1])})}else(t[0]||t[1])&&n.push("translate("+t+")")}(t.translate,n.translate,r,i),function(e,t,n,r){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),r.push({i:n.push(wo(n)+"rotate(",null,")")-2,x:$i(e,t)})):t&&n.push(wo(n)+"rotate("+t+")")}(t.rotate,n.rotate,r,i),function(e,t,n,r){e!==t?r.push({i:n.push(wo(n)+"skewX(",null,")")-2,x:$i(e,t)}):t&&n.push(wo(n)+"skewX("+t+")")}(t.skew,n.skew,r,i),function(e,t,n,r){if(e[0]!==t[0]||e[1]!==t[1]){var i=n.push(wo(n)+"scale(",null,",",null,")");r.push({i:i-4,x:$i(e[0],t[0])},{i:i-2,x:$i(e[1],t[1])})}else 1===t[0]&&1===t[1]||n.push(wo(n)+"scale("+t+")")}(t.scale,n.scale,r,i),t=n=null,function(e){for(var t,n=-1,o=i.length;++n<o;)r[(t=i[n]).i]=t.x(e);return r.join("")}}function To(e,t){return t=(t-=e=+e)||1/t,function(n){return(n-e)/t}}function Co(e,t){return t=(t-=e=+e)||1/t,function(n){return Math.max(0,Math.min(1,(n-e)/t))}}function Oo(e){for(var t=e.source,n=e.target,r=function(e,t){if(e===t)return e;for(var n=So(e),r=So(t),i=n.pop(),o=r.pop(),a=null;i===o;)a=i,i=n.pop(),o=r.pop();return a}(t,n),i=[t];t!==r;)t=t.parent,i.push(t);for(var o=i.length;n!==r;)i.splice(o,0,n),n=n.parent;return i}function So(e){for(var t=[],n=e.parent;null!=n;)t.push(e),e=n,n=n.parent;return t.push(e),t}function Ao(e){e.fixed|=2}function Mo(e){e.fixed&=-7}function Eo(e){e.fixed|=4,e.px=e.x,e.py=e.y}function Po(e){e.fixed&=-5}function Do(e,t,n){var r=0,i=0;if(e.charge=0,!e.leaf)for(var o,a=e.nodes,s=a.length,l=-1;++l<s;)null!=(o=a[l])&&(Do(o,t,n),e.charge+=o.charge,r+=o.charge*o.cx,i+=o.charge*o.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var u=t*n[e.point.index];e.charge+=e.pointCharge=u,r+=u*e.point.x,i+=u*e.point.y}e.cx=r/e.charge,e.cy=i/e.charge}e.interpolateTransform=ko,e.layout={},e.layout.bundle=function(){return function(e){for(var t=[],n=-1,r=e.length;++n<r;)t.push(Oo(e[n]));return t}},e.layout.chord=function(){var t,n,r,i,o,a,s,l={},u=0;function c(){var l,c,d,p,h,g={},m=[],y=e.range(i),v=[];for(t=[],n=[],l=0,p=-1;++p<i;){for(c=0,h=-1;++h<i;)c+=r[p][h];m.push(c),v.push(e.range(i)),l+=c}for(o&&y.sort((function(e,t){return o(m[e],m[t])})),a&&v.forEach((function(e,t){e.sort((function(e,n){return a(r[t][e],r[t][n])}))})),l=(Se-u*i)/l,c=0,p=-1;++p<i;){for(d=c,h=-1;++h<i;){var b=y[p],x=v[b][h],_=r[b][x],w=c,k=c+=_*l;g[b+"-"+x]={index:b,subindex:x,startAngle:w,endAngle:k,value:_}}n[b]={index:b,startAngle:d,endAngle:c,value:m[b]},c+=u}for(p=-1;++p<i;)for(h=p-1;++h<i;){var T=g[p+"-"+h],C=g[h+"-"+p];(T.value||C.value)&&t.push(T.value<C.value?{source:C,target:T}:{source:T,target:C})}s&&f()}function f(){t.sort((function(e,t){return s((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)}))}return l.matrix=function(e){return arguments.length?(i=(r=e)&&r.length,t=n=null,l):r},l.padding=function(e){return arguments.length?(u=e,t=n=null,l):u},l.sortGroups=function(e){return arguments.length?(o=e,t=n=null,l):o},l.sortSubgroups=function(e){return arguments.length?(a=e,t=null,l):a},l.sortChords=function(e){return arguments.length?(s=e,t&&f(),l):s},l.chords=function(){return t||c(),t},l.groups=function(){return n||c(),n},l},e.layout.force=function(){var t,n,r,i,o,a,s={},l=e.dispatch("start","tick","end"),u=[1,1],c=.9,f=Lo,d=Ro,p=-30,h=Io,g=.1,m=.64,y=[],v=[];function b(e){return function(t,n,r,i){if(t.point!==e){var o=t.cx-e.x,a=t.cy-e.y,s=i-n,l=o*o+a*a;if(s*s/m<l){if(l<h){var u=t.charge/l;e.px-=o*u,e.py-=a*u}return!0}t.point&&l&&l<h&&(u=t.pointCharge/l,e.px-=o*u,e.py-=a*u)}return!t.charge}}function x(t){t.px=e.event.x,t.py=e.event.y,s.resume()}return s.tick=function(){if((r*=.99)<.005)return t=null,l.end({type:"end",alpha:r=0}),!0;var n,s,f,d,h,m,x,_,w,k=y.length,T=v.length;for(s=0;s<T;++s)d=(f=v[s]).source,(m=(_=(h=f.target).x-d.x)*_+(w=h.y-d.y)*w)&&(_*=m=r*o[s]*((m=Math.sqrt(m))-i[s])/m,w*=m,h.x-=_*(x=d.weight+h.weight?d.weight/(d.weight+h.weight):.5),h.y-=w*x,d.x+=_*(x=1-x),d.y+=w*x);if((x=r*g)&&(_=u[0]/2,w=u[1]/2,s=-1,x))for(;++s<k;)(f=y[s]).x+=(_-f.x)*x,f.y+=(w-f.y)*x;if(p)for(Do(n=e.geom.quadtree(y),r,a),s=-1;++s<k;)(f=y[s]).fixed||n.visit(b(f));for(s=-1;++s<k;)(f=y[s]).fixed?(f.x=f.px,f.y=f.py):(f.x-=(f.px-(f.px=f.x))*c,f.y-=(f.py-(f.py=f.y))*c);l.tick({type:"tick",alpha:r})},s.nodes=function(e){return arguments.length?(y=e,s):y},s.links=function(e){return arguments.length?(v=e,s):v},s.size=function(e){return arguments.length?(u=e,s):u},s.linkDistance=function(e){return arguments.length?(f="function"==typeof e?e:+e,s):f},s.distance=s.linkDistance,s.linkStrength=function(e){return arguments.length?(d="function"==typeof e?e:+e,s):d},s.friction=function(e){return arguments.length?(c=+e,s):c},s.charge=function(e){return arguments.length?(p="function"==typeof e?e:+e,s):p},s.chargeDistance=function(e){return arguments.length?(h=e*e,s):Math.sqrt(h)},s.gravity=function(e){return arguments.length?(g=+e,s):g},s.theta=function(e){return arguments.length?(m=e*e,s):Math.sqrt(m)},s.alpha=function(e){return arguments.length?(e=+e,r?e>0?r=e:(t.c=null,t.t=NaN,t=null,l.end({type:"end",alpha:r=0})):e>0&&(l.start({type:"start",alpha:r=e}),t=Tt(s.tick)),s):r},s.start=function(){var e,t,n,r=y.length,l=v.length,c=u[0],h=u[1];for(e=0;e<r;++e)(n=y[e]).index=e,n.weight=0;for(e=0;e<l;++e)"number"==typeof(n=v[e]).source&&(n.source=y[n.source]),"number"==typeof n.target&&(n.target=y[n.target]),++n.source.weight,++n.target.weight;for(e=0;e<r;++e)n=y[e],isNaN(n.x)&&(n.x=g("x",c)),isNaN(n.y)&&(n.y=g("y",h)),isNaN(n.px)&&(n.px=n.x),isNaN(n.py)&&(n.py=n.y);if(i=[],"function"==typeof f)for(e=0;e<l;++e)i[e]=+f.call(this,v[e],e);else for(e=0;e<l;++e)i[e]=f;if(o=[],"function"==typeof d)for(e=0;e<l;++e)o[e]=+d.call(this,v[e],e);else for(e=0;e<l;++e)o[e]=d;if(a=[],"function"==typeof p)for(e=0;e<r;++e)a[e]=+p.call(this,y[e],e);else for(e=0;e<r;++e)a[e]=p;function g(n,i){if(!t){for(t=new Array(r),u=0;u<r;++u)t[u]=[];for(u=0;u<l;++u){var o=v[u];t[o.source.index].push(o.target),t[o.target.index].push(o.source)}}for(var a,s=t[e],u=-1,c=s.length;++u<c;)if(!isNaN(a=s[u][n]))return a;return Math.random()*i}return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)},s.drag=function(){if(n||(n=e.behavior.drag().origin(E).on("dragstart.force",Ao).on("drag.force",x).on("dragend.force",Mo)),!arguments.length)return n;this.on("mouseover.force",Eo).on("mouseout.force",Po).call(n)},e.rebind(s,l,"on")};var Lo=20,Ro=1,Io=1/0;function No(t,n){return e.rebind(t,n,"sort","children","value"),t.nodes=t,t.links=Ho,t}function jo(e,t){for(var n=[e];null!=(e=n.pop());)if(t(e),(i=e.children)&&(r=i.length))for(var r,i;--r>=0;)n.push(i[r])}function zo(e,t){for(var n=[e],r=[];null!=(e=n.pop());)if(r.push(e),(o=e.children)&&(i=o.length))for(var i,o,a=-1;++a<i;)n.push(o[a]);for(;null!=(e=r.pop());)t(e)}function qo(e){return e.children}function Fo(e){return e.value}function Bo(e,t){return t.value-e.value}function Ho(t){return e.merge(t.map((function(e){return(e.children||[]).map((function(t){return{source:e,target:t}}))})))}e.layout.hierarchy=function(){var e=Bo,t=qo,n=Fo;function r(i){var o,a=[i],s=[];for(i.depth=0;null!=(o=a.pop());)if(s.push(o),(u=t.call(r,o,o.depth))&&(l=u.length)){for(var l,u,c;--l>=0;)a.push(c=u[l]),c.parent=o,c.depth=o.depth+1;n&&(o.value=0),o.children=u}else n&&(o.value=+n.call(r,o,o.depth)||0),delete o.children;return zo(i,(function(t){var r,i;e&&(r=t.children)&&r.sort(e),n&&(i=t.parent)&&(i.value+=t.value)})),s}return r.sort=function(t){return arguments.length?(e=t,r):e},r.children=function(e){return arguments.length?(t=e,r):t},r.value=function(e){return arguments.length?(n=e,r):n},r.revalue=function(e){return n&&(jo(e,(function(e){e.children&&(e.value=0)})),zo(e,(function(e){var t;e.children||(e.value=+n.call(r,e,e.depth)||0),(t=e.parent)&&(t.value+=e.value)}))),e},r},e.layout.partition=function(){var t=e.layout.hierarchy(),n=[1,1];function r(e,t,n,i){var o=e.children;if(e.x=t,e.y=e.depth*i,e.dx=n,e.dy=i,o&&(a=o.length)){var a,s,l,u=-1;for(n=e.value?n/e.value:0;++u<a;)r(s=o[u],t,l=s.value*n,i),t+=l}}function i(e){var t=e.children,n=0;if(t&&(r=t.length))for(var r,o=-1;++o<r;)n=Math.max(n,i(t[o]));return 1+n}function o(e,o){var a=t.call(this,e,o);return r(a[0],0,n[0],n[1]/i(a[0])),a}return o.size=function(e){return arguments.length?(n=e,o):n},No(o,t)},e.layout.pie=function(){var t=Number,n=Uo,r=0,i=Se,o=0;function a(s){var l,u=s.length,c=s.map((function(e,n){return+t.call(a,e,n)})),f=+("function"==typeof r?r.apply(this,arguments):r),d=("function"==typeof i?i.apply(this,arguments):i)-f,p=Math.min(Math.abs(d)/u,+("function"==typeof o?o.apply(this,arguments):o)),h=p*(d<0?-1:1),g=e.sum(c),m=g?(d-u*h)/g:0,y=e.range(u),v=[];return null!=n&&y.sort(n===Uo?function(e,t){return c[t]-c[e]}:function(e,t){return n(s[e],s[t])}),y.forEach((function(e){v[e]={data:s[e],value:l=c[e],startAngle:f,endAngle:f+=l*m+h,padAngle:p}})),v}return a.value=function(e){return arguments.length?(t=e,a):t},a.sort=function(e){return arguments.length?(n=e,a):n},a.startAngle=function(e){return arguments.length?(r=e,a):r},a.endAngle=function(e){return arguments.length?(i=e,a):i},a.padAngle=function(e){return arguments.length?(o=e,a):o},a};var Uo={};function Vo(e){return e.x}function Wo(e){return e.y}function Go(e,t,n){e.y0=t,e.y=n}e.layout.stack=function(){var t=E,n=Zo,r=Xo,i=Go,o=Vo,a=Wo;function s(l,u){if(!(p=l.length))return l;var c=l.map((function(e,n){return t.call(s,e,n)})),f=c.map((function(e){return e.map((function(e,t){return[o.call(s,e,t),a.call(s,e,t)]}))})),d=n.call(s,f,u);c=e.permute(c,d),f=e.permute(f,d);var p,h,g,m,y=r.call(s,f,u),v=c[0].length;for(g=0;g<v;++g)for(i.call(s,c[0][g],m=y[g],f[0][g][1]),h=1;h<p;++h)i.call(s,c[h][g],m+=f[h-1][g][1],f[h][g][1]);return l}return s.values=function(e){return arguments.length?(t=e,s):t},s.order=function(e){return arguments.length?(n="function"==typeof e?e:Ko.get(e)||Zo,s):n},s.offset=function(e){return arguments.length?(r="function"==typeof e?e:Yo.get(e)||Xo,s):r},s.x=function(e){return arguments.length?(o=e,s):o},s.y=function(e){return arguments.length?(a=e,s):a},s.out=function(e){return arguments.length?(i=e,s):i},s};var Ko=e.map({"inside-out":function(t){var n,r,i=t.length,o=t.map($o),a=t.map(Jo),s=e.range(i).sort((function(e,t){return o[e]-o[t]})),l=0,u=0,c=[],f=[];for(n=0;n<i;++n)r=s[n],l<u?(l+=a[r],c.push(r)):(u+=a[r],f.push(r));return f.reverse().concat(c)},reverse:function(t){return e.range(t.length).reverse()},default:Zo}),Yo=e.map({silhouette:function(e){var t,n,r,i=e.length,o=e[0].length,a=[],s=0,l=[];for(n=0;n<o;++n){for(t=0,r=0;t<i;t++)r+=e[t][n][1];r>s&&(s=r),a.push(r)}for(n=0;n<o;++n)l[n]=(s-a[n])/2;return l},wiggle:function(e){var t,n,r,i,o,a,s,l,u,c=e.length,f=e[0],d=f.length,p=[];for(p[0]=l=u=0,n=1;n<d;++n){for(t=0,i=0;t<c;++t)i+=e[t][n][1];for(t=0,o=0,s=f[n][0]-f[n-1][0];t<c;++t){for(r=0,a=(e[t][n][1]-e[t][n-1][1])/(2*s);r<t;++r)a+=(e[r][n][1]-e[r][n-1][1])/s;o+=a*e[t][n][1]}p[n]=l-=i?o/i*s:0,l<u&&(u=l)}for(n=0;n<d;++n)p[n]-=u;return p},expand:function(e){var t,n,r,i=e.length,o=e[0].length,a=1/i,s=[];for(n=0;n<o;++n){for(t=0,r=0;t<i;t++)r+=e[t][n][1];if(r)for(t=0;t<i;t++)e[t][n][1]/=r;else for(t=0;t<i;t++)e[t][n][1]=a}for(n=0;n<o;++n)s[n]=0;return s},zero:Xo});function Zo(t){return e.range(t.length)}function Xo(e){for(var t=-1,n=e[0].length,r=[];++t<n;)r[t]=0;return r}function $o(e){for(var t,n=1,r=0,i=e[0][1],o=e.length;n<o;++n)(t=e[n][1])>i&&(r=n,i=t);return r}function Jo(e){return e.reduce(Qo,0)}function Qo(e,t){return e+t[1]}function ea(e,t){return ta(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function ta(e,t){for(var n=-1,r=+e[0],i=(e[1]-r)/t,o=[];++n<=t;)o[n]=i*n+r;return o}function na(t){return[e.min(t),e.max(t)]}function ra(e,t){return e.value-t.value}function ia(e,t){var n=e._pack_next;e._pack_next=t,t._pack_prev=e,t._pack_next=n,n._pack_prev=t}function oa(e,t){e._pack_next=t,t._pack_prev=e}function aa(e,t){var n=t.x-e.x,r=t.y-e.y,i=e.r+t.r;return.999*i*i>n*n+r*r}function sa(e){if((t=e.children)&&(l=t.length)){var t,n,r,i,o,a,s,l,u=1/0,c=-1/0,f=1/0,d=-1/0;if(t.forEach(la),(n=t[0]).x=-n.r,n.y=0,b(n),l>1&&((r=t[1]).x=r.r,r.y=0,b(r),l>2))for(fa(n,r,i=t[2]),b(i),ia(n,i),n._pack_prev=i,ia(i,r),r=n._pack_next,o=3;o<l;o++){fa(n,r,i=t[o]);var p=0,h=1,g=1;for(a=r._pack_next;a!==r;a=a._pack_next,h++)if(aa(a,i)){p=1;break}if(1==p)for(s=n._pack_prev;s!==a._pack_prev&&!aa(s,i);s=s._pack_prev,g++);p?(h<g||h==g&&r.r<n.r?oa(n,r=a):oa(n=s,r),o--):(ia(n,i),r=i,b(i))}var m=(u+c)/2,y=(f+d)/2,v=0;for(o=0;o<l;o++)(i=t[o]).x-=m,i.y-=y,v=Math.max(v,i.r+Math.sqrt(i.x*i.x+i.y*i.y));e.r=v,t.forEach(ua)}function b(e){u=Math.min(e.x-e.r,u),c=Math.max(e.x+e.r,c),f=Math.min(e.y-e.r,f),d=Math.max(e.y+e.r,d)}}function la(e){e._pack_next=e._pack_prev=e}function ua(e){delete e._pack_next,delete e._pack_prev}function ca(e,t,n,r){var i=e.children;if(e.x=t+=r*e.x,e.y=n+=r*e.y,e.r*=r,i)for(var o=-1,a=i.length;++o<a;)ca(i[o],t,n,r)}function fa(e,t,n){var r=e.r+n.r,i=t.x-e.x,o=t.y-e.y;if(r&&(i||o)){var a=t.r+n.r,s=i*i+o*o,l=.5+((r*=r)-(a*=a))/(2*s),u=Math.sqrt(Math.max(0,2*a*(r+s)-(r-=s)*r-a*a))/(2*s);n.x=e.x+l*i+u*o,n.y=e.y+l*o-u*i}else n.x=e.x+r,n.y=e.y}function da(e,t){return e.parent==t.parent?1:2}function pa(e){var t=e.children;return t.length?t[0]:e.t}function ha(e){var t,n=e.children;return(t=n.length)?n[t-1]:e.t}function ga(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function ma(e,t,n){return e.a.parent===t.parent?e.a:n}function ya(e){var t=e.children;return t&&t.length?ya(t[0]):e}function va(e){var t,n=e.children;return n&&(t=n.length)?va(n[t-1]):e}function ba(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function xa(e,t){var n=e.x+t[3],r=e.y+t[0],i=e.dx-t[1]-t[3],o=e.dy-t[0]-t[2];return i<0&&(n+=i/2,i=0),o<0&&(r+=o/2,o=0),{x:n,y:r,dx:i,dy:o}}function _a(e){var t=e[0],n=e[e.length-1];return t<n?[t,n]:[n,t]}function wa(e){return e.rangeExtent?e.rangeExtent():_a(e.range())}function ka(e,t,n,r){var i=n(e[0],e[1]),o=r(t[0],t[1]);return function(e){return o(i(e))}}function Ta(e,t){var n,r=0,i=e.length-1,o=e[r],a=e[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e}function Ca(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:Oa}e.layout.histogram=function(){var t=!0,n=Number,r=na,i=ea;function o(o,a){for(var s,l,u=[],c=o.map(n,this),f=r.call(this,c,a),d=i.call(this,f,c,a),p=(a=-1,c.length),h=d.length-1,g=t?1:1/p;++a<h;)(s=u[a]=[]).dx=d[a+1]-(s.x=d[a]),s.y=0;if(h>0)for(a=-1;++a<p;)(l=c[a])>=f[0]&&l<=f[1]&&((s=u[e.bisect(d,l,1,h)-1]).y+=g,s.push(o[a]));return u}return o.value=function(e){return arguments.length?(n=e,o):n},o.range=function(e){return arguments.length?(r=mt(e),o):r},o.bins=function(e){return arguments.length?(i="number"==typeof e?function(t){return ta(t,e)}:mt(e),o):i},o.frequency=function(e){return arguments.length?(t=!!e,o):t},o},e.layout.pack=function(){var t,n=e.layout.hierarchy().sort(ra),r=0,i=[1,1];function o(e,o){var a=n.call(this,e,o),s=a[0],l=i[0],u=i[1],c=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(s.x=s.y=0,zo(s,(function(e){e.r=+c(e.value)})),zo(s,sa),r){var f=r*(t?1:Math.max(2*s.r/l,2*s.r/u))/2;zo(s,(function(e){e.r+=f})),zo(s,sa),zo(s,(function(e){e.r-=f}))}return ca(s,l/2,u/2,t?1:1/Math.max(2*s.r/l,2*s.r/u)),a}return o.size=function(e){return arguments.length?(i=e,o):i},o.radius=function(e){return arguments.length?(t=null==e||"function"==typeof e?e:+e,o):t},o.padding=function(e){return arguments.length?(r=+e,o):r},No(o,n)},e.layout.tree=function(){var t=e.layout.hierarchy().sort(null).value(null),n=da,r=[1,1],i=null;function o(e,o){var u=t.call(this,e,o),c=u[0],f=function(e){for(var t,n={A:null,children:[e]},r=[n];null!=(t=r.pop());)for(var i,o=t.children,a=0,s=o.length;a<s;++a)r.push((o[a]=i={_:o[a],parent:t,children:(i=o[a].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=i);return n.children[0]}(c);if(zo(f,a),f.parent.m=-f.z,jo(f,s),i)jo(c,l);else{var d=c,p=c,h=c;jo(c,(function(e){e.x<d.x&&(d=e),e.x>p.x&&(p=e),e.depth>h.depth&&(h=e)}));var g=n(d,p)/2-d.x,m=r[0]/(p.x+n(p,d)/2+g),y=r[1]/(h.depth||1);jo(c,(function(e){e.x=(e.x+g)*m,e.y=e.depth*y}))}return u}function a(e){var t=e.children,r=e.parent.children,i=e.i?r[e.i-1]:null;if(t.length){!function(e){for(var t,n=0,r=0,i=e.children,o=i.length;--o>=0;)(t=i[o]).z+=n,t.m+=n,n+=t.s+(r+=t.c)}(e);var o=(t[0].z+t[t.length-1].z)/2;i?(e.z=i.z+n(e._,i._),e.m=e.z-o):e.z=o}else i&&(e.z=i.z+n(e._,i._));e.parent.A=function(e,t,r){if(t){for(var i,o=e,a=e,s=t,l=o.parent.children[0],u=o.m,c=a.m,f=s.m,d=l.m;s=ha(s),o=pa(o),s&&o;)l=pa(l),(a=ha(a)).a=e,(i=s.z+f-o.z-u+n(s._,o._))>0&&(ga(ma(s,e,r),e,i),u+=i,c+=i),f+=s.m,u+=o.m,d+=l.m,c+=a.m;s&&!ha(a)&&(a.t=s,a.m+=f-c),o&&!pa(l)&&(l.t=o,l.m+=u-d,r=e)}return r}(e,i,e.parent.A||r[0])}function s(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function l(e){e.x*=r[0],e.y=e.depth*r[1]}return o.separation=function(e){return arguments.length?(n=e,o):n},o.size=function(e){return arguments.length?(i=null==(r=e)?l:null,o):i?null:r},o.nodeSize=function(e){return arguments.length?(i=null==(r=e)?null:l,o):i?r:null},No(o,t)},e.layout.cluster=function(){var t=e.layout.hierarchy().sort(null).value(null),n=da,r=[1,1],i=!1;function o(o,a){var s,l=t.call(this,o,a),u=l[0],c=0;zo(u,(function(t){var r=t.children;r&&r.length?(t.x=function(e){return e.reduce((function(e,t){return e+t.x}),0)/e.length}(r),t.y=function(t){return 1+e.max(t,(function(e){return e.y}))}(r)):(t.x=s?c+=n(t,s):0,t.y=0,s=t)}));var f=ya(u),d=va(u),p=f.x-n(f,d)/2,h=d.x+n(d,f)/2;return zo(u,i?function(e){e.x=(e.x-u.x)*r[0],e.y=(u.y-e.y)*r[1]}:function(e){e.x=(e.x-p)/(h-p)*r[0],e.y=(1-(u.y?e.y/u.y:1))*r[1]}),l}return o.separation=function(e){return arguments.length?(n=e,o):n},o.size=function(e){return arguments.length?(i=null==(r=e),o):i?null:r},o.nodeSize=function(e){return arguments.length?(i=null!=(r=e),o):i?r:null},No(o,t)},e.layout.treemap=function(){var t,n=e.layout.hierarchy(),r=Math.round,i=[1,1],o=null,a=ba,s=!1,l="squarify",u=.5*(1+Math.sqrt(5));function c(e,t){for(var n,r,i=-1,o=e.length;++i<o;)r=(n=e[i]).value*(t<0?0:t),n.area=isNaN(r)||r<=0?0:r}function f(e){var t=e.children;if(t&&t.length){var n,r,i,o=a(e),s=[],u=t.slice(),d=1/0,g="slice"===l?o.dx:"dice"===l?o.dy:"slice-dice"===l?1&e.depth?o.dy:o.dx:Math.min(o.dx,o.dy);for(c(u,o.dx*o.dy/e.value),s.area=0;(i=u.length)>0;)s.push(n=u[i-1]),s.area+=n.area,"squarify"!==l||(r=p(s,g))<=d?(u.pop(),d=r):(s.area-=s.pop().area,h(s,g,o,!1),g=Math.min(o.dx,o.dy),s.length=s.area=0,d=1/0);s.length&&(h(s,g,o,!0),s.length=s.area=0),t.forEach(f)}}function d(e){var t=e.children;if(t&&t.length){var n,r=a(e),i=t.slice(),o=[];for(c(i,r.dx*r.dy/e.value),o.area=0;n=i.pop();)o.push(n),o.area+=n.area,null!=n.z&&(h(o,n.z?r.dx:r.dy,r,!i.length),o.length=o.area=0);t.forEach(d)}}function p(e,t){for(var n,r=e.area,i=0,o=1/0,a=-1,s=e.length;++a<s;)(n=e[a].area)&&(n<o&&(o=n),n>i&&(i=n));return t*=t,(r*=r)?Math.max(t*i*u/r,r/(t*o*u)):1/0}function h(e,t,n,i){var o,a=-1,s=e.length,l=n.x,u=n.y,c=t?r(e.area/t):0;if(t==n.dx){for((i||c>n.dy)&&(c=n.dy);++a<s;)(o=e[a]).x=l,o.y=u,o.dy=c,l+=o.dx=Math.min(n.x+n.dx-l,c?r(o.area/c):0);o.z=!0,o.dx+=n.x+n.dx-l,n.y+=c,n.dy-=c}else{for((i||c>n.dx)&&(c=n.dx);++a<s;)(o=e[a]).x=l,o.y=u,o.dx=c,u+=o.dy=Math.min(n.y+n.dy-u,c?r(o.area/c):0);o.z=!1,o.dy+=n.y+n.dy-u,n.x+=c,n.dx-=c}}function g(e){var r=t||n(e),o=r[0];return o.x=o.y=0,o.value?(o.dx=i[0],o.dy=i[1]):o.dx=o.dy=0,t&&n.revalue(o),c([o],o.dx*o.dy/o.value),(t?d:f)(o),s&&(t=r),r}return g.size=function(e){return arguments.length?(i=e,g):i},g.padding=function(e){if(!arguments.length)return o;function t(t){var n=e.call(g,t,t.depth);return null==n?ba(t):xa(t,"number"==typeof n?[n,n,n,n]:n)}function n(t){return xa(t,e)}var r;return a=null==(o=e)?ba:"function"==(r=typeof e)?t:"number"===r?(e=[e,e,e,e],n):n,g},g.round=function(e){return arguments.length?(r=e?Math.round:Number,g):r!=Number},g.sticky=function(e){return arguments.length?(s=e,t=null,g):s},g.ratio=function(e){return arguments.length?(u=e,g):u},g.mode=function(e){return arguments.length?(l=e+"",g):l},No(g,n)},e.random={normal:function(e,t){var n=arguments.length;return n<2&&(t=1),n<1&&(e=0),function(){var n,r,i;do{i=(n=2*Math.random()-1)*n+(r=2*Math.random()-1)*r}while(!i||i>1);return e+t*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var t=e.random.normal.apply(e,arguments);return function(){return Math.exp(t())}},bates:function(t){var n=e.random.irwinHall(t);return function(){return n()/t}},irwinHall:function(e){return function(){for(var t=0,n=0;n<e;n++)t+=Math.random();return t}}},e.scale={};var Oa={floor:E,ceil:E};function Sa(t,n,r,i){var o=[],a=[],s=0,l=Math.min(t.length,n.length)-1;for(t[l]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++s<=l;)o.push(r(t[s-1],t[s])),a.push(i(n[s-1],n[s]));return function(n){var r=e.bisect(t,n,1,l)-1;return a[r](o[r](n))}}function Aa(e,t,n,r){var i,o;function a(){var a=Math.min(e.length,t.length)>2?Sa:ka,l=r?Co:To;return i=a(e,t,l,n),o=a(t,e,l,to),s}function s(e){return i(e)}return s.invert=function(e){return o(e)},s.domain=function(t){return arguments.length?(e=t.map(Number),a()):e},s.range=function(e){return arguments.length?(t=e,a()):t},s.rangeRound=function(e){return s.range(e).interpolate(yo)},s.clamp=function(e){return arguments.length?(r=e,a()):r},s.interpolate=function(e){return arguments.length?(n=e,a()):n},s.ticks=function(t){return Da(e,t)},s.tickFormat=function(t,n){return La(e,t,n)},s.nice=function(t){return Ea(e,t),a()},s.copy=function(){return Aa(e,t,n,r)},a()}function Ma(t,n){return e.rebind(t,n,"range","rangeRound","interpolate","clamp")}function Ea(e,t){return Ta(e,Ca(Pa(e,t)[2])),Ta(e,Ca(Pa(e,t)[2])),e}function Pa(e,t){null==t&&(t=10);var n=_a(e),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),o=t/r*i;return o<=.15?i*=10:o<=.35?i*=5:o<=.75&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function Da(t,n){return e.range.apply(e,Pa(t,n))}function La(t,n,r){var i=Pa(t,n);if(r){var o=Pt.exec(r);if(o.shift(),"s"===o[8]){var a=e.formatPrefix(Math.max(v(i[0]),v(i[1])));return o[7]||(o[7]="."+Ia(a.scale(i[2]))),o[8]="f",r=e.format(o.join("")),function(e){return r(a.scale(e))+a.symbol}}o[7]||(o[7]="."+function(e,t){var n=Ia(t[2]);return e in Ra?Math.abs(n-Ia(Math.max(v(t[0]),v(t[1]))))+ +("e"!==e):n-2*("%"===e)}(o[8],i)),r=o.join("")}else r=",."+Ia(i[2])+"f";return e.format(r)}e.scale.linear=function(){return Aa([0,1],[0,1],to,!1)};var Ra={s:1,g:1,p:1,r:1,e:1};function Ia(e){return-Math.floor(Math.log(e)/Math.LN10+.01)}function Na(t,n,r,i){function o(e){return(r?Math.log(e<0?0:e):-Math.log(e>0?0:-e))/Math.log(n)}function a(e){return r?Math.pow(n,e):-Math.pow(n,-e)}function s(e){return t(o(e))}return s.invert=function(e){return a(t.invert(e))},s.domain=function(e){return arguments.length?(r=e[0]>=0,t.domain((i=e.map(Number)).map(o)),s):i},s.base=function(e){return arguments.length?(n=+e,t.domain(i.map(o)),s):n},s.nice=function(){var e=Ta(i.map(o),r?Math:za);return t.domain(e),i=e.map(a),s},s.ticks=function(){var e=_a(i),t=[],s=e[0],l=e[1],u=Math.floor(o(s)),c=Math.ceil(o(l)),f=n%1?2:n;if(isFinite(c-u)){if(r){for(;u<c;u++)for(var d=1;d<f;d++)t.push(a(u)*d);t.push(a(u))}else for(t.push(a(u));u++<c;)for(d=f-1;d>0;d--)t.push(a(u)*d);for(u=0;t[u]<s;u++);for(c=t.length;t[c-1]>l;c--);t=t.slice(u,c)}return t},s.tickFormat=function(t,r){if(!arguments.length)return ja;arguments.length<2?r=ja:"function"!=typeof r&&(r=e.format(r));var i=Math.max(1,n*t/s.ticks().length);return function(e){var t=e/a(Math.round(o(e)));return t*n<n-.5&&(t*=n),t<=i?r(e):""}},s.copy=function(){return Na(t.copy(),n,r,i)},Ma(s,t)}e.scale.log=function(){return Na(e.scale.linear().domain([0,1]),10,!0,[1,10])};var ja=e.format(".0e"),za={floor:function(e){return-Math.ceil(-e)},ceil:function(e){return-Math.floor(-e)}};function qa(e,t,n){var r=Fa(t),i=Fa(1/t);function o(t){return e(r(t))}return o.invert=function(t){return i(e.invert(t))},o.domain=function(t){return arguments.length?(e.domain((n=t.map(Number)).map(r)),o):n},o.ticks=function(e){return Da(n,e)},o.tickFormat=function(e,t){return La(n,e,t)},o.nice=function(e){return o.domain(Ea(n,e))},o.exponent=function(a){return arguments.length?(r=Fa(t=a),i=Fa(1/t),e.domain(n.map(r)),o):t},o.copy=function(){return qa(e.copy(),t,n)},Ma(o,e)}function Fa(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Ba(t,n){var r,i,o;function a(e){return i[((r.get(e)||("range"===n.t?r.set(e,t.push(e)):NaN))-1)%i.length]}function s(n,r){return e.range(t.length).map((function(e){return n+r*e}))}return a.domain=function(e){if(!arguments.length)return t;t=[],r=new _;for(var i,o=-1,s=e.length;++o<s;)r.has(i=e[o])||r.set(i,t.push(i));return a[n.t].apply(a,n.a)},a.range=function(e){return arguments.length?(i=e,o=0,n={t:"range",a:arguments},a):i},a.rangePoints=function(e,r){arguments.length<2&&(r=0);var l=e[0],u=e[1],c=t.length<2?(l=(l+u)/2,0):(u-l)/(t.length-1+r);return i=s(l+c*r/2,c),o=0,n={t:"rangePoints",a:arguments},a},a.rangeRoundPoints=function(e,r){arguments.length<2&&(r=0);var l=e[0],u=e[1],c=t.length<2?(l=u=Math.round((l+u)/2),0):(u-l)/(t.length-1+r)|0;return i=s(l+Math.round(c*r/2+(u-l-(t.length-1+r)*c)/2),c),o=0,n={t:"rangeRoundPoints",a:arguments},a},a.rangeBands=function(e,r,l){arguments.length<2&&(r=0),arguments.length<3&&(l=r);var u=e[1]<e[0],c=e[u-0],f=(e[1-u]-c)/(t.length-r+2*l);return i=s(c+f*l,f),u&&i.reverse(),o=f*(1-r),n={t:"rangeBands",a:arguments},a},a.rangeRoundBands=function(e,r,l){arguments.length<2&&(r=0),arguments.length<3&&(l=r);var u=e[1]<e[0],c=e[u-0],f=e[1-u],d=Math.floor((f-c)/(t.length-r+2*l));return i=s(c+Math.round((f-c-(t.length-r)*d)/2),d),u&&i.reverse(),o=Math.round(d*(1-r)),n={t:"rangeRoundBands",a:arguments},a},a.rangeBand=function(){return o},a.rangeExtent=function(){return _a(n.a[0])},a.copy=function(){return Ba(t,n)},a.domain(t)}e.scale.pow=function(){return qa(e.scale.linear(),1,[0,1])},e.scale.sqrt=function(){return e.scale.pow().exponent(.5)},e.scale.ordinal=function(){return Ba([],{t:"range",a:[[]]})},e.scale.category10=function(){return e.scale.ordinal().range(Ha)},e.scale.category20=function(){return e.scale.ordinal().range(Ua)},e.scale.category20b=function(){return e.scale.ordinal().range(Va)},e.scale.category20c=function(){return e.scale.ordinal().range(Wa)};var Ha=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(st),Ua=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(st),Va=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(st),Wa=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(st);function Ga(t,n){var r;function i(){var i=0,a=n.length;for(r=[];++i<a;)r[i-1]=e.quantile(t,i/a);return o}function o(t){if(!isNaN(t=+t))return n[e.bisect(r,t)]}return o.domain=function(e){return arguments.length?(t=e.map(p).filter(h).sort(d),i()):t},o.range=function(e){return arguments.length?(n=e,i()):n},o.quantiles=function(){return r},o.invertExtent=function(e){return(e=n.indexOf(e))<0?[NaN,NaN]:[e>0?r[e-1]:t[0],e<r.length?r[e]:t[t.length-1]]},o.copy=function(){return Ga(t,n)},i()}function Ka(e,t,n){var r,i;function o(t){return n[Math.max(0,Math.min(i,Math.floor(r*(t-e))))]}function a(){return r=n.length/(t-e),i=n.length-1,o}return o.domain=function(n){return arguments.length?(e=+n[0],t=+n[n.length-1],a()):[e,t]},o.range=function(e){return arguments.length?(n=e,a()):n},o.invertExtent=function(t){return[t=(t=n.indexOf(t))<0?NaN:t/r+e,t+1/r]},o.copy=function(){return Ka(e,t,n)},a()}function Ya(t,n){function r(r){if(r<=r)return n[e.bisect(t,r)]}return r.domain=function(e){return arguments.length?(t=e,r):t},r.range=function(e){return arguments.length?(n=e,r):n},r.invertExtent=function(e){return e=n.indexOf(e),[t[e-1],t[e]]},r.copy=function(){return Ya(t,n)},r}function Za(e){function t(e){return+e}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=n.map(t),t):e},t.ticks=function(t){return Da(e,t)},t.tickFormat=function(t,n){return La(e,t,n)},t.copy=function(){return Za(e)},t}function Xa(){return 0}e.scale.quantile=function(){return Ga([],[])},e.scale.quantize=function(){return Ka(0,1,[0,1])},e.scale.threshold=function(){return Ya([.5],[0,1])},e.scale.identity=function(){return Za([0,1])},e.svg={},e.svg.arc=function(){var e=Ja,t=Qa,n=Xa,r=$a,i=es,o=ts,a=ns;function s(){var s=Math.max(0,+e.apply(this,arguments)),u=Math.max(0,+t.apply(this,arguments)),c=i.apply(this,arguments)-Me,f=o.apply(this,arguments)-Me,d=Math.abs(f-c),p=c>f?0:1;if(u<s&&(h=u,u=s,s=h),d>=Ae)return l(u,p)+(s?l(s,1-p):"")+"Z";var h,g,m,y,v,b,x,_,w,k,T,C,O=0,S=0,A=[];if((y=(+a.apply(this,arguments)||0)/2)&&(m=r===$a?Math.sqrt(s*s+u*u):+r.apply(this,arguments),p||(S*=-1),u&&(S=Ie(m/u*Math.sin(y))),s&&(O=Ie(m/s*Math.sin(y)))),u){v=u*Math.cos(c+S),b=u*Math.sin(c+S),x=u*Math.cos(f-S),_=u*Math.sin(f-S);var M=Math.abs(f-c-2*S)<=Oe?0:1;if(S&&rs(v,b,x,_)===p^M){var E=(c+f)/2;v=u*Math.cos(E),b=u*Math.sin(E),x=_=null}}else v=b=0;if(s){w=s*Math.cos(f-O),k=s*Math.sin(f-O),T=s*Math.cos(c+O),C=s*Math.sin(c+O);var P=Math.abs(c-f+2*O)<=Oe?0:1;if(O&&rs(w,k,T,C)===1-p^P){var D=(c+f)/2;w=s*Math.cos(D),k=s*Math.sin(D),T=C=null}}else w=k=0;if(d>Te&&(h=Math.min(Math.abs(u-s)/2,+n.apply(this,arguments)))>.001){g=s<u^p?0:1;var L=h,R=h;if(d<Oe){var I=null==T?[w,k]:null==x?[v,b]:fi([v,b],[T,C],[x,_],[w,k]),N=v-I[0],j=b-I[1],z=x-I[0],q=_-I[1],F=1/Math.sin(Math.acos((N*z+j*q)/(Math.sqrt(N*N+j*j)*Math.sqrt(z*z+q*q)))/2),B=Math.sqrt(I[0]*I[0]+I[1]*I[1]);R=Math.min(h,(s-B)/(F-1)),L=Math.min(h,(u-B)/(F+1))}if(null!=x){var H=is(null==T?[w,k]:[T,C],[v,b],u,L,p),U=is([x,_],[w,k],u,L,p);h===L?A.push("M",H[0],"A",L,",",L," 0 0,",g," ",H[1],"A",u,",",u," 0 ",1-p^rs(H[1][0],H[1][1],U[1][0],U[1][1]),",",p," ",U[1],"A",L,",",L," 0 0,",g," ",U[0]):A.push("M",H[0],"A",L,",",L," 0 1,",g," ",U[0])}else A.push("M",v,",",b);if(null!=T){var V=is([v,b],[T,C],s,-R,p),W=is([w,k],null==x?[v,b]:[x,_],s,-R,p);h===R?A.push("L",W[0],"A",R,",",R," 0 0,",g," ",W[1],"A",s,",",s," 0 ",p^rs(W[1][0],W[1][1],V[1][0],V[1][1]),",",1-p," ",V[1],"A",R,",",R," 0 0,",g," ",V[0]):A.push("L",W[0],"A",R,",",R," 0 0,",g," ",V[0])}else A.push("L",w,",",k)}else A.push("M",v,",",b),null!=x&&A.push("A",u,",",u," 0 ",M,",",p," ",x,",",_),A.push("L",w,",",k),null!=T&&A.push("A",s,",",s," 0 ",P,",",1-p," ",T,",",C);return A.push("Z"),A.join("")}function l(e,t){return"M0,"+e+"A"+e+","+e+" 0 1,"+t+" 0,"+-e+"A"+e+","+e+" 0 1,"+t+" 0,"+e}return s.innerRadius=function(t){return arguments.length?(e=mt(t),s):e},s.outerRadius=function(e){return arguments.length?(t=mt(e),s):t},s.cornerRadius=function(e){return arguments.length?(n=mt(e),s):n},s.padRadius=function(e){return arguments.length?(r=e==$a?$a:mt(e),s):r},s.startAngle=function(e){return arguments.length?(i=mt(e),s):i},s.endAngle=function(e){return arguments.length?(o=mt(e),s):o},s.padAngle=function(e){return arguments.length?(a=mt(e),s):a},s.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-Me;return[Math.cos(r)*n,Math.sin(r)*n]},s};var $a="auto";function Ja(e){return e.innerRadius}function Qa(e){return e.outerRadius}function es(e){return e.startAngle}function ts(e){return e.endAngle}function ns(e){return e&&e.padAngle}function rs(e,t,n,r){return(e-n)*t-(t-r)*e>0?0:1}function is(e,t,n,r,i){var o=e[0]-t[0],a=e[1]-t[1],s=(i?r:-r)/Math.sqrt(o*o+a*a),l=s*a,u=-s*o,c=e[0]+l,f=e[1]+u,d=t[0]+l,p=t[1]+u,h=(c+d)/2,g=(f+p)/2,m=d-c,y=p-f,v=m*m+y*y,b=n-r,x=c*p-d*f,_=(y<0?-1:1)*Math.sqrt(Math.max(0,b*b*v-x*x)),w=(x*y-m*_)/v,k=(-x*m-y*_)/v,T=(x*y+m*_)/v,C=(-x*m+y*_)/v,O=w-h,S=k-g,A=T-h,M=C-g;return O*O+S*S>A*A+M*M&&(w=T,k=C),[[w-l,k-u],[w*n/b,k*n/b]]}function os(e){var t=oi,n=ai,r=Zn,i=ss,o=i.key,a=.7;function s(o){var s,l=[],u=[],c=-1,f=o.length,d=mt(t),p=mt(n);function h(){l.push("M",i(e(u),a))}for(;++c<f;)r.call(this,s=o[c],c)?u.push([+d.call(this,s,c),+p.call(this,s,c)]):u.length&&(h(),u=[]);return u.length&&h(),l.length?l.join(""):null}return s.x=function(e){return arguments.length?(t=e,s):t},s.y=function(e){return arguments.length?(n=e,s):n},s.defined=function(e){return arguments.length?(r=e,s):r},s.interpolate=function(e){return arguments.length?(o="function"==typeof e?i=e:(i=as.get(e)||ss).key,s):o},s.tension=function(e){return arguments.length?(a=e,s):a},s}e.svg.line=function(){return os(E)};var as=e.map({linear:ss,"linear-closed":ls,step:function(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("H",(r[0]+(r=e[t])[0])/2,"V",r[1]);return n>1&&i.push("H",r[0]),i.join("")},"step-before":us,"step-after":cs,basis:ps,"basis-open":function(e){if(e.length<4)return ss(e);for(var t,n=[],r=-1,i=e.length,o=[0],a=[0];++r<3;)t=e[r],o.push(t[0]),a.push(t[1]);for(n.push(hs(ys,o)+","+hs(ys,a)),--r;++r<i;)t=e[r],o.shift(),o.push(t[0]),a.shift(),a.push(t[1]),vs(n,o,a);return n.join("")},"basis-closed":function(e){for(var t,n,r=-1,i=e.length,o=i+4,a=[],s=[];++r<4;)n=e[r%i],a.push(n[0]),s.push(n[1]);for(t=[hs(ys,a),",",hs(ys,s)],--r;++r<o;)n=e[r%i],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),vs(t,a,s);return t.join("")},bundle:function(e,t){var n=e.length-1;if(n)for(var r,i,o=e[0][0],a=e[0][1],s=e[n][0]-o,l=e[n][1]-a,u=-1;++u<=n;)i=u/n,(r=e[u])[0]=t*r[0]+(1-t)*(o+i*s),r[1]=t*r[1]+(1-t)*(a+i*l);return ps(e)},cardinal:function(e,t){return e.length<3?ss(e):e[0]+fs(e,ds(e,t))},"cardinal-open":function(e,t){return e.length<4?ss(e):e[1]+fs(e.slice(1,-1),ds(e,t))},"cardinal-closed":function(e,t){return e.length<3?ls(e):e[0]+fs((e.push(e[0]),e),ds([e[e.length-2]].concat(e,[e[1]]),t))},monotone:function(e){return e.length<3?ss(e):e[0]+fs(e,function(e){for(var t,n,r,i,o=[],a=function(e){for(var t=0,n=e.length-1,r=[],i=e[0],o=e[1],a=r[0]=bs(i,o);++t<n;)r[t]=(a+(a=bs(i=o,o=e[t+1])))/2;return r[t]=a,r}(e),s=-1,l=e.length-1;++s<l;)t=bs(e[s],e[s+1]),v(t)<Te?a[s]=a[s+1]=0:(i=(n=a[s]/t)*n+(r=a[s+1]/t)*r)>9&&(i=3*t/Math.sqrt(i),a[s]=i*n,a[s+1]=i*r);for(s=-1;++s<=l;)i=(e[Math.min(l,s+1)][0]-e[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),o.push([i||0,a[s]*i||0]);return o}(e))}});function ss(e){return e.length>1?e.join("L"):e+"Z"}function ls(e){return e.join("L")+"Z"}function us(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("V",(r=e[t])[1],"H",r[0]);return i.join("")}function cs(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("H",(r=e[t])[0],"V",r[1]);return i.join("")}function fs(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2)return ss(e);var n=e.length!=t.length,r="",i=e[0],o=e[1],a=t[0],s=a,l=1;if(n&&(r+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],i=e[1],l=2),t.length>1){s=t[1],o=e[l],l++,r+="C"+(i[0]+a[0])+","+(i[1]+a[1])+","+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1];for(var u=2;u<t.length;u++,l++)o=e[l],s=t[u],r+="S"+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1]}if(n){var c=e[l];r+="Q"+(o[0]+2*s[0]/3)+","+(o[1]+2*s[1]/3)+","+c[0]+","+c[1]}return r}function ds(e,t){for(var n,r=[],i=(1-t)/2,o=e[0],a=e[1],s=1,l=e.length;++s<l;)n=o,o=a,a=e[s],r.push([i*(a[0]-n[0]),i*(a[1]-n[1])]);return r}function ps(e){if(e.length<3)return ss(e);var t=1,n=e.length,r=e[0],i=r[0],o=r[1],a=[i,i,i,(r=e[1])[0]],s=[o,o,o,r[1]],l=[i,",",o,"L",hs(ys,a),",",hs(ys,s)];for(e.push(e[n-1]);++t<=n;)r=e[t],a.shift(),a.push(r[0]),s.shift(),s.push(r[1]),vs(l,a,s);return e.pop(),l.push("L",r),l.join("")}function hs(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}as.forEach((function(e,t){t.key=e,t.closed=/-closed$/.test(e)}));var gs=[0,2/3,1/3,0],ms=[0,1/3,2/3,0],ys=[0,1/6,2/3,1/6];function vs(e,t,n){e.push("C",hs(gs,t),",",hs(gs,n),",",hs(ms,t),",",hs(ms,n),",",hs(ys,t),",",hs(ys,n))}function bs(e,t){return(t[1]-e[1])/(t[0]-e[0])}function xs(e){for(var t,n,r,i=-1,o=e.length;++i<o;)n=(t=e[i])[0],r=t[1]-Me,t[0]=n*Math.cos(r),t[1]=n*Math.sin(r);return e}function _s(e){var t=oi,n=oi,r=0,i=ai,o=Zn,a=ss,s=a.key,l=a,u="L",c=.7;function f(s){var f,d,p,h=[],g=[],m=[],y=-1,v=s.length,b=mt(t),x=mt(r),_=t===n?function(){return d}:mt(n),w=r===i?function(){return p}:mt(i);function k(){h.push("M",a(e(m),c),u,l(e(g.reverse()),c),"Z")}for(;++y<v;)o.call(this,f=s[y],y)?(g.push([d=+b.call(this,f,y),p=+x.call(this,f,y)]),m.push([+_.call(this,f,y),+w.call(this,f,y)])):g.length&&(k(),g=[],m=[]);return g.length&&k(),h.length?h.join(""):null}return f.x=function(e){return arguments.length?(t=n=e,f):n},f.x0=function(e){return arguments.length?(t=e,f):t},f.x1=function(e){return arguments.length?(n=e,f):n},f.y=function(e){return arguments.length?(r=i=e,f):i},f.y0=function(e){return arguments.length?(r=e,f):r},f.y1=function(e){return arguments.length?(i=e,f):i},f.defined=function(e){return arguments.length?(o=e,f):o},f.interpolate=function(e){return arguments.length?(s="function"==typeof e?a=e:(a=as.get(e)||ss).key,l=a.reverse||a,u=a.closed?"M":"L",f):s},f.tension=function(e){return arguments.length?(c=e,f):c},f}function ws(e){return e.radius}function ks(e){return[e.x,e.y]}function Ts(e){return function(){var t=e.apply(this,arguments),n=t[0],r=t[1]-Me;return[n*Math.cos(r),n*Math.sin(r)]}}function Cs(){return 64}function Os(){return"circle"}function Ss(e){var t=Math.sqrt(e/Oe);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}e.svg.line.radial=function(){var e=os(xs);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},us.reverse=cs,cs.reverse=us,e.svg.area=function(){return _s(E)},e.svg.area.radial=function(){var e=_s(xs);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},e.svg.chord=function(){var e=Wr,t=Gr,n=ws,r=es,i=ts;function o(n,r){var i,o,u=a(this,e,n,r),c=a(this,t,n,r);return"M"+u.p0+s(u.r,u.p1,u.a1-u.a0)+(o=c,((i=u).a0==o.a0&&i.a1==o.a1?l(u.r,u.p1,u.r,u.p0):l(u.r,u.p1,c.r,c.p0)+s(c.r,c.p1,c.a1-c.a0)+l(c.r,c.p1,u.r,u.p0))+"Z")}function a(e,t,o,a){var s=t.call(e,o,a),l=n.call(e,s,a),u=r.call(e,s,a)-Me,c=i.call(e,s,a)-Me;return{r:l,a0:u,a1:c,p0:[l*Math.cos(u),l*Math.sin(u)],p1:[l*Math.cos(c),l*Math.sin(c)]}}function s(e,t,n){return"A"+e+","+e+" 0 "+ +(n>Oe)+",1 "+t}function l(e,t,n,r){return"Q 0,0 "+r}return o.radius=function(e){return arguments.length?(n=mt(e),o):n},o.source=function(t){return arguments.length?(e=mt(t),o):e},o.target=function(e){return arguments.length?(t=mt(e),o):t},o.startAngle=function(e){return arguments.length?(r=mt(e),o):r},o.endAngle=function(e){return arguments.length?(i=mt(e),o):i},o},e.svg.diagonal=function(){var e=Wr,t=Gr,n=ks;function r(r,i){var o=e.call(this,r,i),a=t.call(this,r,i),s=(o.y+a.y)/2,l=[o,{x:o.x,y:s},{x:a.x,y:s},a];return"M"+(l=l.map(n))[0]+"C"+l[1]+" "+l[2]+" "+l[3]}return r.source=function(t){return arguments.length?(e=mt(t),r):e},r.target=function(e){return arguments.length?(t=mt(e),r):t},r.projection=function(e){return arguments.length?(n=e,r):n},r},e.svg.diagonal.radial=function(){var t=e.svg.diagonal(),n=ks,r=t.projection;return t.projection=function(e){return arguments.length?r(Ts(n=e)):n},t},e.svg.symbol=function(){var e=Os,t=Cs;function n(n,r){return(As.get(e.call(this,n,r))||Ss)(t.call(this,n,r))}return n.type=function(t){return arguments.length?(e=mt(t),n):e},n.size=function(e){return arguments.length?(t=mt(e),n):t},n};var As=e.map({circle:Ss,cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*Es)),n=t*Es;return"M0,"+-t+"L"+n+",0 0,"+t+" "+-n+",0Z"},square:function(e){var t=Math.sqrt(e)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/Ms),n=t*Ms/2;return"M0,"+n+"L"+t+","+-n+" "+-t+","+-n+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/Ms),n=t*Ms/2;return"M0,"+-n+"L"+t+","+n+" "+-t+","+n+"Z"}});e.svg.symbolTypes=As.keys();var Ms=Math.sqrt(3),Es=Math.tan(30*Ee);G.transition=function(e){for(var t,n,r=Rs||++js,i=Fs(e),o=[],a=Is||{time:Date.now(),ease:fo,delay:0,duration:250},s=-1,l=this.length;++s<l;){o.push(t=[]);for(var u=this[s],c=-1,f=u.length;++c<f;)(n=u[c])&&Bs(n,c,i,r,a),t.push(n)}return Ls(o,i,r)},G.interrupt=function(e){return this.each(null==e?Ps:Ds(Fs(e)))};var Ps=Ds(Fs());function Ds(e){return function(){var t,n,r;(t=this[e])&&(r=t[n=t.active])&&(r.timer.c=null,r.timer.t=NaN,--t.count?delete t[n]:delete this[e],t.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function Ls(e,t,n){return B(e,Ns),e.namespace=t,e.id=n,e}var Rs,Is,Ns=[],js=0;function zs(e,t,n,r){var i=e.id,o=e.namespace;return ce(e,"function"==typeof n?function(e,a,s){e[o][i].tween.set(t,r(n.call(e,e.__data__,a,s)))}:(n=r(n),function(e){e[o][i].tween.set(t,n)}))}function qs(e){return null==e&&(e=""),function(){this.textContent=e}}function Fs(e){return null==e?"__transition__":"__transition_"+e+"__"}function Bs(e,t,n,r,i){var o,a,s,l,u,c=e[n]||(e[n]={active:0,count:0}),f=c[r];function d(n){var i=c.active,d=c[i];for(var h in d&&(d.timer.c=null,d.timer.t=NaN,--c.count,delete c[i],d.event&&d.event.interrupt.call(e,e.__data__,d.index)),c)if(+h<r){var g=c[h];g.timer.c=null,g.timer.t=NaN,--c.count,delete c[h]}a.c=p,Tt((function(){return a.c&&p(n||1)&&(a.c=null,a.t=NaN),1}),0,o),c.active=r,f.event&&f.event.start.call(e,e.__data__,t),u=[],f.tween.forEach((function(n,r){(r=r.call(e,e.__data__,t))&&u.push(r)})),l=f.ease,s=f.duration}function p(i){for(var o=i/s,a=l(o),d=u.length;d>0;)u[--d].call(e,a);if(o>=1)return f.event&&f.event.end.call(e,e.__data__,t),--c.count?delete c[r]:delete e[n],1}f||(o=i.time,a=Tt((function(e){var t=f.delay;if(a.t=t+o,t<=e)return d(e-t);a.c=d}),0,o),f=c[r]={tween:new _,time:o,timer:a,delay:i.delay,duration:i.duration,ease:i.ease,index:t},i=null,++c.count)}Ns.call=G.call,Ns.empty=G.empty,Ns.node=G.node,Ns.size=G.size,e.transition=function(t,n){return t&&t.transition?Rs?t.transition(n):t:e.selection().transition(t)},e.transition.prototype=Ns,Ns.select=function(e){var t,n,r,i=this.id,o=this.namespace,a=[];e=K(e);for(var s=-1,l=this.length;++s<l;){a.push(t=[]);for(var u=this[s],c=-1,f=u.length;++c<f;)(r=u[c])&&(n=e.call(r,r.__data__,c,s))?("__data__"in r&&(n.__data__=r.__data__),Bs(n,c,o,i,r[o][i]),t.push(n)):t.push(null)}return Ls(a,o,i)},Ns.selectAll=function(e){var t,n,r,i,o,a=this.id,s=this.namespace,l=[];e=Y(e);for(var u=-1,c=this.length;++u<c;)for(var f=this[u],d=-1,p=f.length;++d<p;)if(r=f[d]){o=r[s][a],n=e.call(r,r.__data__,d,u),l.push(t=[]);for(var h=-1,g=n.length;++h<g;)(i=n[h])&&Bs(i,h,s,a,o),t.push(i)}return Ls(l,s,a)},Ns.filter=function(e){var t,n,r=[];"function"!=typeof e&&(e=le(e));for(var i=0,o=this.length;i<o;i++){r.push(t=[]);for(var a,s=0,l=(a=this[i]).length;s<l;s++)(n=a[s])&&e.call(n,n.__data__,s,i)&&t.push(n)}return Ls(r,this.namespace,this.id)},Ns.tween=function(e,t){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(e):ce(this,null==t?function(t){t[r][n].tween.remove(e)}:function(i){i[r][n].tween.set(e,t)})},Ns.attr=function(t,n){if(arguments.length<2){for(n in t)this.attr(n,t[n]);return this}var r="transform"==t?ko:to,i=e.ns.qualify(t);function o(){this.removeAttribute(i)}function a(){this.removeAttributeNS(i.space,i.local)}function s(e){return null==e?o:(e+="",function(){var t,n=this.getAttribute(i);return n!==e&&(t=r(n,e),function(e){this.setAttribute(i,t(e))})})}function l(e){return null==e?a:(e+="",function(){var t,n=this.getAttributeNS(i.space,i.local);return n!==e&&(t=r(n,e),function(e){this.setAttributeNS(i.space,i.local,t(e))})})}return zs(this,"attr."+t,n,i.local?l:s)},Ns.attrTween=function(t,n){var r=e.ns.qualify(t);return this.tween("attr."+t,r.local?function(e,t){var i=n.call(this,e,t,this.getAttributeNS(r.space,r.local));return i&&function(e){this.setAttributeNS(r.space,r.local,i(e))}}:function(e,t){var i=n.call(this,e,t,this.getAttribute(r));return i&&function(e){this.setAttribute(r,i(e))}})},Ns.style=function(e,t,n){var r=arguments.length;if(r<3){if("string"!=typeof e){for(n in r<2&&(t=""),e)this.style(n,e[n],t);return this}n=""}function i(){this.style.removeProperty(e)}function o(t){return null==t?i:(t+="",function(){var r,i=a(this).getComputedStyle(this,null).getPropertyValue(e);return i!==t&&(r=to(i,t),function(t){this.style.setProperty(e,r(t),n)})})}return zs(this,"style."+e,t,o)},Ns.styleTween=function(e,t,n){function r(r,i){var o=t.call(this,r,i,a(this).getComputedStyle(this,null).getPropertyValue(e));return o&&function(t){this.style.setProperty(e,o(t),n)}}return arguments.length<3&&(n=""),this.tween("style."+e,r)},Ns.text=function(e){return zs(this,"text",e,qs)},Ns.remove=function(){var e=this.namespace;return this.each("end.transition",(function(){var t;this[e].count<2&&(t=this.parentNode)&&t.removeChild(this)}))},Ns.ease=function(t){var n=this.id,r=this.namespace;return arguments.length<1?this.node()[r][n].ease:("function"!=typeof t&&(t=e.ease.apply(e,arguments)),ce(this,(function(e){e[r][n].ease=t})))},Ns.delay=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].delay:ce(this,"function"==typeof e?function(r,i,o){r[n][t].delay=+e.call(r,r.__data__,i,o)}:(e=+e,function(r){r[n][t].delay=e}))},Ns.duration=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].duration:ce(this,"function"==typeof e?function(r,i,o){r[n][t].duration=Math.max(1,e.call(r,r.__data__,i,o))}:(e=Math.max(1,e),function(r){r[n][t].duration=e}))},Ns.each=function(t,n){var r=this.id,i=this.namespace;if(arguments.length<2){var o=Is,a=Rs;try{Rs=r,ce(this,(function(e,n,o){Is=e[i][r],t.call(e,e.__data__,n,o)}))}finally{Is=o,Rs=a}}else ce(this,(function(o){var a=o[i][r];(a.event||(a.event=e.dispatch("start","end","interrupt"))).on(t,n)}));return this},Ns.transition=function(){for(var e,t,n,r=this.id,i=++js,o=this.namespace,a=[],s=0,l=this.length;s<l;s++){a.push(e=[]);for(var u,c=0,f=(u=this[s]).length;c<f;c++)(t=u[c])&&Bs(t,c,o,i,{time:(n=t[o][r]).time,ease:n.ease,delay:n.delay+n.duration,duration:n.duration}),e.push(t)}return Ls(a,o,i)},e.svg.axis=function(){var t,n=e.scale.linear(),i=Hs,o=6,a=6,s=3,l=[10],u=null;function c(r){r.each((function(){var r,c=e.select(this),f=this.__chart__||n,d=this.__chart__=n.copy(),p=null==u?d.ticks?d.ticks.apply(d,l):d.domain():u,h=null==t?d.tickFormat?d.tickFormat.apply(d,l):E:t,g=c.selectAll(".tick").data(p,d),m=g.enter().insert("g",".domain").attr("class","tick").style("opacity",Te),y=e.transition(g.exit()).style("opacity",Te).remove(),v=e.transition(g.order()).style("opacity",1),b=Math.max(o,0)+s,x=wa(d),_=c.selectAll(".domain").data([0]),w=(_.enter().append("path").attr("class","domain"),e.transition(_));m.append("line"),m.append("text");var k,T,C,O,S=m.select("line"),A=v.select("line"),M=g.select("text").text(h),P=m.select("text"),D=v.select("text"),L="top"===i||"left"===i?-1:1;if("bottom"===i||"top"===i?(r=Vs,k="x",C="y",T="x2",O="y2",M.attr("dy",L<0?"0em":".71em").style("text-anchor","middle"),w.attr("d","M"+x[0]+","+L*a+"V0H"+x[1]+"V"+L*a)):(r=Ws,k="y",C="x",T="y2",O="x2",M.attr("dy",".32em").style("text-anchor",L<0?"end":"start"),w.attr("d","M"+L*a+","+x[0]+"H0V"+x[1]+"H"+L*a)),S.attr(O,L*o),P.attr(C,L*b),A.attr(T,0).attr(O,L*o),D.attr(k,0).attr(C,L*b),d.rangeBand){var R=d,I=R.rangeBand()/2;f=d=function(e){return R(e)+I}}else f.rangeBand?f=d:y.call(r,d,f);m.call(r,f,d),v.call(r,d,d)}))}return c.scale=function(e){return arguments.length?(n=e,c):n},c.orient=function(e){return arguments.length?(i=e in Us?e+"":Hs,c):i},c.ticks=function(){return arguments.length?(l=r(arguments),c):l},c.tickValues=function(e){return arguments.length?(u=e,c):u},c.tickFormat=function(e){return arguments.length?(t=e,c):t},c.tickSize=function(e){var t=arguments.length;return t?(o=+e,a=+arguments[t-1],c):o},c.innerTickSize=function(e){return arguments.length?(o=+e,c):o},c.outerTickSize=function(e){return arguments.length?(a=+e,c):a},c.tickPadding=function(e){return arguments.length?(s=+e,c):s},c.tickSubdivide=function(){return arguments.length&&c},c};var Hs="bottom",Us={top:1,right:1,bottom:1,left:1};function Vs(e,t,n){e.attr("transform",(function(e){var r=t(e);return"translate("+(isFinite(r)?r:n(e))+",0)"}))}function Ws(e,t,n){e.attr("transform",(function(e){var r=t(e);return"translate(0,"+(isFinite(r)?r:n(e))+")"}))}e.svg.brush=function(){var t,n,r=q(d,"brushstart","brush","brushend"),i=null,o=null,s=[0,0],l=[0,0],u=!0,c=!0,f=Ks[0];function d(t){t.each((function(){var t=e.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",m).on("touchstart.brush",m),n=t.selectAll(".background").data([0]);n.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var r=t.selectAll(".resize").data(f,E);r.exit().remove(),r.enter().append("g").attr("class",(function(e){return"resize "+e})).style("cursor",(function(e){return Gs[e]})).append("rect").attr("x",(function(e){return/[ew]$/.test(e)?-3:null})).attr("y",(function(e){return/^[ns]/.test(e)?-3:null})).attr("width",6).attr("height",6).style("visibility","hidden"),r.style("display",d.empty()?"none":null);var a,s=e.transition(t),l=e.transition(n);i&&(a=wa(i),l.attr("x",a[0]).attr("width",a[1]-a[0]),h(s)),o&&(a=wa(o),l.attr("y",a[0]).attr("height",a[1]-a[0]),g(s)),p(s)}))}function p(e){e.selectAll(".resize").attr("transform",(function(e){return"translate("+s[+/e$/.test(e)]+","+l[+/^s/.test(e)]+")"}))}function h(e){e.select(".extent").attr("x",s[0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",s[1]-s[0])}function g(e){e.select(".extent").attr("y",l[0]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",l[1]-l[0])}function m(){var f,m,y=this,v=e.select(e.event.target),b=r.of(y,arguments),x=e.select(y),_=v.datum(),w=!/^(n|s)$/.test(_)&&i,k=!/^(e|w)$/.test(_)&&o,T=v.classed("extent"),C=xe(y),O=e.mouse(y),S=e.select(a(y)).on("keydown.brush",E).on("keyup.brush",P);if(e.event.changedTouches?S.on("touchmove.brush",D).on("touchend.brush",R):S.on("mousemove.brush",D).on("mouseup.brush",R),x.interrupt().selectAll("*").interrupt(),T)O[0]=s[0]-O[0],O[1]=l[0]-O[1];else if(_){var A=+/w$/.test(_),M=+/^n/.test(_);m=[s[1-A]-O[0],l[1-M]-O[1]],O[0]=s[A],O[1]=l[M]}else e.event.altKey&&(f=O.slice());function E(){32==e.event.keyCode&&(T||(f=null,O[0]-=s[1],O[1]-=l[1],T=2),j())}function P(){32==e.event.keyCode&&2==T&&(O[0]+=s[1],O[1]+=l[1],T=0,j())}function D(){var t=e.mouse(y),n=!1;m&&(t[0]+=m[0],t[1]+=m[1]),T||(e.event.altKey?(f||(f=[(s[0]+s[1])/2,(l[0]+l[1])/2]),O[0]=s[+(t[0]<f[0])],O[1]=l[+(t[1]<f[1])]):f=null),w&&L(t,i,0)&&(h(x),n=!0),k&&L(t,o,1)&&(g(x),n=!0),n&&(p(x),b({type:"brush",mode:T?"move":"resize"}))}function L(e,r,i){var o,a,d=wa(r),p=d[0],h=d[1],g=O[i],m=i?l:s,y=m[1]-m[0];if(T&&(p-=g,h-=y+g),o=(i?c:u)?Math.max(p,Math.min(h,e[i])):e[i],T?a=(o+=g)+y:(f&&(g=Math.max(p,Math.min(h,2*f[i]-o))),g<o?(a=o,o=g):a=g),m[0]!=o||m[1]!=a)return i?n=null:t=null,m[0]=o,m[1]=a,!0}function R(){D(),x.style("pointer-events","all").selectAll(".resize").style("display",d.empty()?"none":null),e.select("body").style("cursor",null),S.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),C(),b({type:"brushend"})}x.style("pointer-events","none").selectAll(".resize").style("display",null),e.select("body").style("cursor",v.style("cursor")),b({type:"brushstart"}),D()}return d.event=function(i){i.each((function(){var i=r.of(this,arguments),o={x:s,y:l,i:t,j:n},a=this.__chart__||o;this.__chart__=o,Rs?e.select(this).transition().each("start.brush",(function(){t=a.i,n=a.j,s=a.x,l=a.y,i({type:"brushstart"})})).tween("brush:brush",(function(){var e=no(s,o.x),r=no(l,o.y);return t=n=null,function(t){s=o.x=e(t),l=o.y=r(t),i({type:"brush",mode:"resize"})}})).each("end.brush",(function(){t=o.i,n=o.j,i({type:"brush",mode:"resize"}),i({type:"brushend"})})):(i({type:"brushstart"}),i({type:"brush",mode:"resize"}),i({type:"brushend"}))}))},d.x=function(e){return arguments.length?(f=Ks[!(i=e)<<1|!o],d):i},d.y=function(e){return arguments.length?(f=Ks[!i<<1|!(o=e)],d):o},d.clamp=function(e){return arguments.length?(i&&o?(u=!!e[0],c=!!e[1]):i?u=!!e:o&&(c=!!e),d):i&&o?[u,c]:i?u:o?c:null},d.extent=function(e){var r,a,u,c,f;return arguments.length?(i&&(r=e[0],a=e[1],o&&(r=r[0],a=a[0]),t=[r,a],i.invert&&(r=i(r),a=i(a)),a<r&&(f=r,r=a,a=f),r==s[0]&&a==s[1]||(s=[r,a])),o&&(u=e[0],c=e[1],i&&(u=u[1],c=c[1]),n=[u,c],o.invert&&(u=o(u),c=o(c)),c<u&&(f=u,u=c,c=f),u==l[0]&&c==l[1]||(l=[u,c])),d):(i&&(t?(r=t[0],a=t[1]):(r=s[0],a=s[1],i.invert&&(r=i.invert(r),a=i.invert(a)),a<r&&(f=r,r=a,a=f))),o&&(n?(u=n[0],c=n[1]):(u=l[0],c=l[1],o.invert&&(u=o.invert(u),c=o.invert(c)),c<u&&(f=u,u=c,c=f))),i&&o?[[r,u],[a,c]]:i?[r,a]:o&&[u,c])},d.clear=function(){return d.empty()||(s=[0,0],l=[0,0],t=n=null),d},d.empty=function(){return!!i&&s[0]==s[1]||!!o&&l[0]==l[1]},e.rebind(d,r,"on")};var Gs={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ks=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Ys=Rt.format=cn.timeFormat,Zs=Ys.utc,Xs=Zs("%Y-%m-%dT%H:%M:%S.%LZ");function $s(e){return e.toISOString()}function Js(t,n,r){function i(e){return t(e)}function o(t,r){var i=(t[1]-t[0])/r,o=e.bisect(el,i);return o==el.length?[n.year,Pa(t.map((function(e){return e/31536e6})),r)[2]]:o?n[i/el[o-1]<el[o]/i?o-1:o]:[rl,Pa(t,r)[2]]}return i.invert=function(e){return Qs(t.invert(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain().map(Qs)},i.nice=function(e,t){var n=i.domain(),r=_a(n),a=null==e?o(r,10):"number"==typeof e&&o(r,e);function s(n){return!isNaN(n)&&!e.range(n,Qs(+n+1),t).length}return a&&(e=a[0],t=a[1]),i.domain(Ta(n,t>1?{floor:function(t){for(;s(t=e.floor(t));)t=Qs(t-1);return t},ceil:function(t){for(;s(t=e.ceil(t));)t=Qs(+t+1);return t}}:e))},i.ticks=function(e,t){var n=_a(i.domain()),r=null==e?o(n,10):"number"==typeof e?o(n,e):!e.range&&[{range:e},t];return r&&(e=r[0],t=r[1]),e.range(n[0],Qs(+n[1]+1),t<1?1:t)},i.tickFormat=function(){return r},i.copy=function(){return Js(t.copy(),n,r)},Ma(i,t)}function Qs(e){return new Date(e)}Ys.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?$s:Xs,$s.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},$s.toString=Xs.toString,Rt.second=zt((function(e){return new It(1e3*Math.floor(e/1e3))}),(function(e,t){e.setTime(e.getTime()+1e3*Math.floor(t))}),(function(e){return e.getSeconds()})),Rt.seconds=Rt.second.range,Rt.seconds.utc=Rt.second.utc.range,Rt.minute=zt((function(e){return new It(6e4*Math.floor(e/6e4))}),(function(e,t){e.setTime(e.getTime()+6e4*Math.floor(t))}),(function(e){return e.getMinutes()})),Rt.minutes=Rt.minute.range,Rt.minutes.utc=Rt.minute.utc.range,Rt.hour=zt((function(e){var t=e.getTimezoneOffset()/60;return new It(36e5*(Math.floor(e/36e5-t)+t))}),(function(e,t){e.setTime(e.getTime()+36e5*Math.floor(t))}),(function(e){return e.getHours()})),Rt.hours=Rt.hour.range,Rt.hours.utc=Rt.hour.utc.range,Rt.month=zt((function(e){return(e=Rt.day(e)).setDate(1),e}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e){return e.getMonth()})),Rt.months=Rt.month.range,Rt.months.utc=Rt.month.utc.range;var el=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],tl=[[Rt.second,1],[Rt.second,5],[Rt.second,15],[Rt.second,30],[Rt.minute,1],[Rt.minute,5],[Rt.minute,15],[Rt.minute,30],[Rt.hour,1],[Rt.hour,3],[Rt.hour,6],[Rt.hour,12],[Rt.day,1],[Rt.day,2],[Rt.week,1],[Rt.month,1],[Rt.month,3],[Rt.year,1]],nl=Ys.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%a %d",function(e){return e.getDay()&&1!=e.getDate()}],["%b %d",function(e){return 1!=e.getDate()}],["%B",function(e){return e.getMonth()}],["%Y",Zn]]),rl={range:function(t,n,r){return e.range(Math.ceil(t/r)*r,+n,r).map(Qs)},floor:E,ceil:E};tl.year=Rt.year,Rt.scale=function(){return Js(e.scale.linear(),tl,nl)};var il=tl.map((function(e){return[e[0].utc,e[1]]})),ol=Zs.multi([[".%L",function(e){return e.getUTCMilliseconds()}],[":%S",function(e){return e.getUTCSeconds()}],["%I:%M",function(e){return e.getUTCMinutes()}],["%I %p",function(e){return e.getUTCHours()}],["%a %d",function(e){return e.getUTCDay()&&1!=e.getUTCDate()}],["%b %d",function(e){return 1!=e.getUTCDate()}],["%B",function(e){return e.getUTCMonth()}],["%Y",Zn]]);function al(e){return JSON.parse(e.responseText)}function sl(e){var t=i.createRange();return t.selectNode(i.body),t.createContextualFragment(e.responseText)}il.year=Rt.year.utc,Rt.scale.utc=function(){return Js(e.scale.linear(),il,ol)},e.text=yt((function(e){return e.responseText})),e.json=function(e,t){return vt(e,"application/json",al,t)},e.html=function(e,t){return vt(e,"text/html",sl,t)},e.xml=yt((function(e){return e.responseXML})),"object"==typeof t&&t.exports?t.exports=e:this.d3=e}()},{}],22:[function(e,t,r){(function(n,i){!function(e,n){"object"==typeof r&&void 0!==t?t.exports=n():e.ES6Promise=n()}(this,(function(){"use strict";function t(e){return"function"==typeof e}var r=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},o=0,a=void 0,s=void 0,l=function(e,t){g[o]=e,g[o+1]=t,2===(o+=2)&&(s?s(m):_())};var u="undefined"!=typeof window?window:void 0,c=u||{},f=c.MutationObserver||c.WebKitMutationObserver,d="undefined"==typeof self&&void 0!==n&&"[object process]"==={}.toString.call(n),p="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function h(){var e=setTimeout;return function(){return e(m,1)}}var g=new Array(1e3);function m(){for(var e=0;e<o;e+=2)(0,g[e])(g[e+1]),g[e]=void 0,g[e+1]=void 0;o=0}var y,v,b,x,_=void 0;function w(e,t){var n=this,r=new this.constructor(C);void 0===r[T]&&N(r);var i=n._state;if(i){var o=arguments[i-1];l((function(){return R(i,r,o,n._result)}))}else D(n,r,e,t);return r}function k(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(C);return A(t,e),t}_=d?function(){return n.nextTick(m)}:f?(v=0,b=new f(m),x=document.createTextNode(""),b.observe(x,{characterData:!0}),function(){x.data=v=++v%2}):p?((y=new MessageChannel).port1.onmessage=m,function(){return y.port2.postMessage(0)}):void 0===u&&"function"==typeof e?function(){try{var e=Function("return this")().require("vertx");return void 0!==(a=e.runOnLoop||e.runOnContext)?function(){a(m)}:h()}catch(e){return h()}}():h();var T=Math.random().toString(36).substring(2);function C(){}var O=void 0;function S(e,n,r){n.constructor===e.constructor&&r===w&&n.constructor.resolve===k?function(e,t){1===t._state?E(e,t._result):2===t._state?P(e,t._result):D(t,void 0,(function(t){return A(e,t)}),(function(t){return P(e,t)}))}(e,n):void 0===r?E(e,n):t(r)?function(e,t,n){l((function(e){var r=!1,i=function(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}(n,t,(function(n){r||(r=!0,t!==n?A(e,n):E(e,n))}),(function(t){r||(r=!0,P(e,t))}),e._label);!r&&i&&(r=!0,P(e,i))}),e)}(e,n,r):E(e,n)}function A(e,t){if(e===t)P(e,new TypeError("You cannot resolve a promise with itself"));else if(i=typeof(r=t),null===r||"object"!==i&&"function"!==i)E(e,t);else{var n=void 0;try{n=t.then}catch(t){return void P(e,t)}S(e,t,n)}var r,i}function M(e){e._onerror&&e._onerror(e._result),L(e)}function E(e,t){e._state===O&&(e._result=t,e._state=1,0!==e._subscribers.length&&l(L,e))}function P(e,t){e._state===O&&(e._state=2,e._result=t,l(M,e))}function D(e,t,n,r){var i=e._subscribers,o=i.length;e._onerror=null,i[o]=t,i[o+1]=n,i[o+2]=r,0===o&&e._state&&l(L,e)}function L(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,i=void 0,o=e._result,a=0;a<t.length;a+=3)r=t[a],i=t[a+n],r?R(n,r,i,o):i(o);e._subscribers.length=0}}function R(e,n,r,i){var o=t(r),a=void 0,s=void 0,l=!0;if(o){try{a=r(i)}catch(e){l=!1,s=e}if(n===a)return void P(n,new TypeError("A promises callback cannot return that same promise."))}else a=i;n._state!==O||(o&&l?A(n,a):!1===l?P(n,s):1===e?E(n,a):2===e&&P(n,a))}var I=0;function N(e){e[T]=I++,e._state=void 0,e._result=void 0,e._subscribers=[]}var j=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(C),this.promise[T]||N(this.promise),r(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?E(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&E(this.promise,this._result))):P(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;this._state===O&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===k){var i=void 0,o=void 0,a=!1;try{i=e.then}catch(e){a=!0,o=e}if(i===w&&e._state!==O)this._settledAt(e._state,t,e._result);else if("function"!=typeof i)this._remaining--,this._result[t]=e;else if(n===z){var s=new n(C);a?P(s,o):S(s,e,i),this._willSettleAt(s,t)}else this._willSettleAt(new n((function(t){return t(e)})),t)}else this._willSettleAt(r(e),t)},e.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===O&&(this._remaining--,2===e?P(r,n):this._result[t]=n),0===this._remaining&&E(r,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;D(e,void 0,(function(e){return n._settledAt(1,t,e)}),(function(e){return n._settledAt(2,t,e)}))},e}();var z=function(){function e(t){this[T]=I++,this._result=this._state=void 0,this._subscribers=[],C!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof e?function(e,t){try{t((function(t){A(e,t)}),(function(t){P(e,t)}))}catch(t){P(e,t)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return e.prototype.catch=function(e){return this.then(null,e)},e.prototype.finally=function(e){var n=this,r=n.constructor;return t(e)?n.then((function(t){return r.resolve(e()).then((function(){return t}))}),(function(t){return r.resolve(e()).then((function(){throw t}))})):n.then(e,e)},e}();return z.prototype.then=w,z.all=function(e){return new j(this,e).promise},z.race=function(e){var t=this;return r(e)?new t((function(n,r){for(var i=e.length,o=0;o<i;o++)t.resolve(e[o]).then(n,r)})):new t((function(e,t){return t(new TypeError("You must pass an array to race."))}))},z.resolve=k,z.reject=function(e){var t=new this(C);return P(t,e),t},z._setScheduler=function(e){s=e},z._setAsap=function(e){l=e},z._asap=l,z.polyfill=function(){var e=void 0;if(void 0!==i)e=i;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=z},z.Promise=z,z}))}).call(this,e("_process"),void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:57}],23:[function(e,t,n){"use strict";var r=e("is-string-blank");t.exports=function(e){var t=typeof e;if("string"===t){var n=e;if(0==(e=+e)&&r(n))return!1}else if("number"!==t)return!1;return e-e<1}},{"is-string-blank":45}],24:[function(e,t,n){t.exports=function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n+n,s=r+r,l=i+i,u=n*a,c=r*a,f=r*s,d=i*a,p=i*s,h=i*l,g=o*a,m=o*s,y=o*l;return e[0]=1-f-h,e[1]=c+y,e[2]=d-m,e[3]=0,e[4]=c-y,e[5]=1-u-h,e[6]=p+g,e[7]=0,e[8]=d+m,e[9]=p-g,e[10]=1-u-f,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},{}],25:[function(e,t,r){(function(n){"use strict";var r,i=e("is-browser");r="function"==typeof n.matchMedia?!n.matchMedia("(hover: none)").matches:i,t.exports=r}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"is-browser":44}],26:[function(e,t,n){"use strict";var r=e("is-browser");t.exports=r&&function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(t){e=!1}return e}()},{"is-browser":44}],27:[function(e,t,n){n.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,u=l>>1,c=-7,f=n?i-1:0,d=n?-1:1,p=e[t+f];for(f+=d,o=p&(1<<-c)-1,p>>=-c,c+=s;c>0;o=256*o+e[t+f],f+=d,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+e[t+f],f+=d,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),o-=u}return(p?-1:1)*a*Math.pow(2,o-r)},n.write=function(e,t,n,r,i,o){var a,s,l,u=8*o-i-1,c=(1<<u)-1,f=c>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,h=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+f>=1?d/l:d*Math.pow(2,1-f))*l>=2&&(a++,l/=2),a+f>=c?(s=0,a=c):a+f>=1?(s=(t*l-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[n+p]=255&s,p+=h,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[n+p]=255&a,p+=h,a/=256,u-=8);e[n+p-h]|=128*g}},{}],28:[function(e,t,n){"use strict";var r=e("./types");t.exports=function(e,t){var n;for(n in r)if(r[n].detect(e,t))return n}},{"./types":31}],29:[function(e,t,n){(function(n){"use strict";var r=e("fs"),i=e("path"),o=e("./types"),a=e("./detector"),s=524288;function l(e,t){var n=a(e,t);if(n in o){var r=o[n].calculate(e,t);if(!1!==r)return r.type=n,r}throw new TypeError("unsupported file type: "+n+" (file: "+t+")")}t.exports=function(e,t){if(n.isBuffer(e))return l(e);if("string"!=typeof e)throw new TypeError("invalid invocation");var o=i.resolve(e);if("function"!=typeof t)return l(function(e){var t=r.openSync(e,"r"),i=r.fstatSync(t).size,o=Math.min(i,s),a=n.alloc(o);return r.readSync(t,a,0,o,0),r.closeSync(t),a}(o),o);!function(e,t){r.open(e,"r",(function(i,o){if(i)return t(i);r.fstat(o,(function(i,a){if(i)return t(i);var l=a.size;if(l<=0)return t(new Error("File size is not greater than 0 —— "+e));var u=Math.min(l,s),c=n.alloc(u);r.read(o,c,0,u,0,(function(e){if(e)return t(e);r.close(o,(function(e){t(e,c)}))}))}))}))}(o,(function(e,n){if(e)return t(e);var r;try{r=l(n,o)}catch(t){e=t}t(e,r)}))},t.exports.types=Object.keys(o)}).call(this,e("buffer").Buffer)},{"./detector":28,"./types":31,buffer:18,fs:16,path:48}],30:[function(e,t,n){"use strict";t.exports=function(e,t,n,r){return n=n||0,e["readUInt"+t+(r?"BE":"LE")].call(e,n)}},{}],31:[function(e,t,n){"use strict";var r={bmp:e("./types/bmp"),cur:e("./types/cur"),dds:e("./types/dds"),gif:e("./types/gif"),icns:e("./types/icns"),ico:e("./types/ico"),jpg:e("./types/jpg"),png:e("./types/png"),psd:e("./types/psd"),svg:e("./types/svg"),tiff:e("./types/tiff"),webp:e("./types/webp")};t.exports=r},{"./types/bmp":32,"./types/cur":33,"./types/dds":34,"./types/gif":35,"./types/icns":36,"./types/ico":37,"./types/jpg":38,"./types/png":39,"./types/psd":40,"./types/svg":41,"./types/tiff":42,"./types/webp":43}],32:[function(e,t,n){"use strict";t.exports={detect:function(e){return"BM"===e.toString("ascii",0,2)},calculate:function(e){return{width:e.readUInt32LE(18),height:Math.abs(e.readInt32LE(22))}}}},{}],33:[function(e,t,n){"use strict";t.exports={detect:function(e){return 0===e.readUInt16LE(0)&&2===e.readUInt16LE(2)},calculate:e("./ico").calculate}},{"./ico":37}],34:[function(e,t,n){"use strict";t.exports={detect:function(e){return 542327876===e.readUInt32LE(0)},calculate:function(e){return{height:e.readUInt32LE(12),width:e.readUInt32LE(16)}}}},{}],35:[function(e,t,n){"use strict";var r=/^GIF8[79]a/;t.exports={detect:function(e){var t=e.toString("ascii",0,6);return r.test(t)},calculate:function(e){return{width:e.readUInt16LE(6),height:e.readUInt16LE(8)}}}},{}],36:[function(e,t,n){"use strict";var r={ICON:32,"ICN#":32,"icm#":16,icm4:16,icm8:16,"ics#":16,ics4:16,ics8:16,is32:16,s8mk:16,icp4:16,icl4:32,icl8:32,il32:32,l8mk:32,icp5:32,ic11:32,ich4:48,ich8:48,ih32:48,h8mk:48,icp6:64,ic12:32,it32:128,t8mk:128,ic07:128,ic08:256,ic13:256,ic09:512,ic14:512,ic10:1024};function i(e,t){var n=t+4;return[e.toString("ascii",t,n),e.readUInt32BE(n)]}function o(e){var t=r[e];return{width:t,height:t,type:e}}t.exports={detect:function(e){return"icns"===e.toString("ascii",0,4)},calculate:function(e){var t,n,r,a=e.length,s=8,l=e.readUInt32BE(4);if(n=o((t=i(e,s))[0]),(s+=t[1])===l)return n;for(r={width:n.width,height:n.height,images:[n]};s<l&&s<a;)n=o((t=i(e,s))[0]),s+=t[1],r.images.push(n);return r}}},{}],37:[function(e,t,n){"use strict";function r(e,t){var n=e.readUInt8(t);return 0===n?256:n}function i(e,t){var n=6+16*t;return{width:r(e,n),height:r(e,n+1)}}t.exports={detect:function(e){return 0===e.readUInt16LE(0)&&1===e.readUInt16LE(2)},calculate:function(e){var t,n=e.readUInt16LE(4),r=i(e,0);if(1===n)return r;for(r.images=[{width:r.width,height:r.height}],t=1;t<n;t+=1)r.images.push(i(e,t));return r}}},{}],38:[function(e,t,n){"use strict";var r=e("../readUInt");function i(e){return"45786966"===e.toString("hex",2,6)}function o(e,t){return{height:e.readUInt16BE(t),width:e.readUInt16BE(t+2)}}function a(e,t){var n=e.slice(2,t),i=n.toString("hex",6,8),o="4d4d"===i;if(o||"4949"===i)return function(e,t){for(var n,i,o=14,a=r(e,16,o,t),s=0;s<a;s++){if(i=(n=o+2+12*s)+12,n>e.length)return;var l=e.slice(n,i);if(274===r(l,16,0,t)){if(3!==r(l,16,2,t))return;if(1!==r(l,32,4,t))return;return r(l,16,8,t)}}}(n,o)}function s(e,t){if(t>e.length)throw new TypeError("Corrupt JPG, exceeded buffer limits");if(255!==e[t])throw new TypeError("Invalid JPG, marker table corrupted")}t.exports={detect:function(e){return"ffd8"===e.toString("hex",0,2)},calculate:function(e){var t,n,r;for(e=e.slice(4);e.length;){if(n=e.readUInt16BE(0),i(e)&&(t=a(e,n)),s(e,n),192===(r=e[n+1])||193===r||194===r){var l=o(e,n+5);return t?{width:l.width,height:l.height,orientation:t}:l}e=e.slice(n+2)}throw new TypeError("Invalid JPG, no size found")}}},{"../readUInt":30}],39:[function(e,t,n){"use strict";var r="CgBI";t.exports={detect:function(e){if("PNG\r\n\n"===e.toString("ascii",1,8)){var t=e.toString("ascii",12,16);if(t===r&&(t=e.toString("ascii",28,32)),"IHDR"!==t)throw new TypeError("invalid png");return!0}},calculate:function(e){return e.toString("ascii",12,16)===r?{width:e.readUInt32BE(32),height:e.readUInt32BE(36)}:{width:e.readUInt32BE(16),height:e.readUInt32BE(20)}}}},{}],40:[function(e,t,n){"use strict";t.exports={detect:function(e){return"8BPS"===e.toString("ascii",0,4)},calculate:function(e){return{width:e.readUInt32BE(18),height:e.readUInt32BE(14)}}}},{}],41:[function(e,t,n){"use strict";var r=/<svg\s([^>"']|"[^"]*"|'[^']*')*>/;var i={root:r,width:/\swidth=(['"])([^%]+?)\1/,height:/\sheight=(['"])([^%]+?)\1/,viewbox:/\sviewBox=(['"])(.+?)\1/},o={cm:96/2.54,mm:96/2.54/10,m:96/2.54*100,pt:96/72,pc:96/72/12,em:16,ex:8};function a(e){var t=/([0-9.]+)([a-z]*)/.exec(e);if(t)return Math.round(parseFloat(t[1])*(o[t[2]]||1))}function s(e){var t=e.split(" ");return{width:a(t[2]),height:a(t[3])}}t.exports={detect:function(e){return r.test(e)},calculate:function(e){var t=e.toString("utf8").match(i.root);if(t){var n=function(e){var t=e.match(i.width),n=e.match(i.height),r=e.match(i.viewbox);return{width:t&&a(t[2]),height:n&&a(n[2]),viewbox:r&&s(r[2])}}(t[0]);if(n.width&&n.height)return function(e){return{width:e.width,height:e.height}}(n);if(n.viewbox)return function(e){var t=e.viewbox.width/e.viewbox.height;return e.width?{width:e.width,height:Math.floor(e.width/t)}:e.height?{width:Math.floor(e.height*t),height:e.height}:{width:e.viewbox.width,height:e.viewbox.height}}(n)}throw new TypeError("invalid svg")}}},{}],42:[function(e,t,n){(function(n){"use strict";var r=e("fs"),i=e("../readUInt");function o(e,t){var n=i(e,16,8,t);return(i(e,16,10,t)<<16)+n}function a(e){if(e.length>24)return e.slice(12)}t.exports={detect:function(e){var t=e.toString("hex",0,4);return"49492a00"===t||"4d4d002a"===t},calculate:function(e,t){if(!t)throw new TypeError("Tiff doesn't support buffer");var s="BE"===function(e){var t=e.toString("ascii",0,2);return"II"===t?"LE":"MM"===t?"BE":void 0}(e),l=function(e,t){for(var n,r,s,l={};e&&e.length&&(n=i(e,16,0,t),r=i(e,16,2,t),s=i(e,32,4,t),0!==n);)1!==s||3!==r&&4!==r||(l[n]=o(e,t)),e=a(e);return l}(function(e,t,o){var a=i(e,32,4,o),s=1024,l=r.statSync(t).size;a+s>l&&(s=l-a-10);var u=n.alloc(s),c=r.openSync(t,"r");return r.readSync(c,u,0,s,a),u.slice(2)}(e,t,s),s),u=l[256],c=l[257];if(!u||!c)throw new TypeError("Invalid Tiff, missing tags");return{width:u,height:c}}}}).call(this,e("buffer").Buffer)},{"../readUInt":30,buffer:18,fs:16}],43:[function(e,t,n){"use strict";t.exports={detect:function(e){var t="RIFF"===e.toString("ascii",0,4),n="WEBP"===e.toString("ascii",8,12),r="VP8"===e.toString("ascii",12,15);return t&&n&&r},calculate:function(e){var t=e.toString("ascii",12,16);if(e=e.slice(20,30),"VP8X"===t){var n=e[0];return!(0!=(192&n)||0!=(1&n))&&function(e){return{width:1+e.readUIntLE(4,3),height:1+e.readUIntLE(7,3)}}(e)}if("VP8 "===t&&47!==e[0])return function(e){return{width:16383&e.readInt16LE(6),height:16383&e.readInt16LE(8)}}(e);var r=e.toString("hex",3,6);return"VP8L"===t&&"9d012a"!==r&&function(e){return{width:1+((63&e[2])<<8|e[1]),height:1+((15&e[4])<<10|e[3]<<2|(192&e[2])>>6)}}(e)}}},{}],44:[function(e,t,n){t.exports=!0},{}],45:[function(e,t,n){"use strict";t.exports=function(e){for(var t,n=e.length,r=0;r<n;r++)if(((t=e.charCodeAt(r))<9||t>13)&&32!==t&&133!==t&&160!==t&&5760!==t&&6158!==t&&(t<8192||t>8205)&&8232!==t&&8233!==t&&8239!==t&&8287!==t&&8288!==t&&12288!==t&&65279!==t)return!1;return!0}},{}],46:[function(e,t,n){var r={left:0,top:0};t.exports=function(e,t,n){t=t||e.currentTarget||e.srcElement,Array.isArray(n)||(n=[0,0]);var i,o=e.clientX||0,a=e.clientY||0,s=(i=t)===window||i===document||i===document.body?r:i.getBoundingClientRect();return n[0]=o-s.left,n[1]=a-s.top,n}},{}],47:[function(e,t,n){t.exports=function(e){var t=[];return e.replace(i,(function(e,n,i){var a=n.toLowerCase();for(i=function(e){var t=e.match(o);return t?t.map(Number):[]}(i),"m"==a&&i.length>2&&(t.push([n].concat(i.splice(0,2))),a="l",n="m"==n?"l":"L");;){if(i.length==r[a])return i.unshift(n),t.push(i);if(i.length<r[a])throw new Error("malformed path data");t.push([n].concat(i.splice(0,r[a])))}})),t};var r={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},i=/([astvzqmhlc])([^astvzqmhlc]*)/gi;var o=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi},{}],48:[function(e,t,n){(function(e){function t(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}n.resolve=function(){for(var n="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var a=o>=0?arguments[o]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(n=a+"/"+n,i="/"===a.charAt(0))}return(i?"/":"")+(n=t(r(n.split("/"),(function(e){return!!e})),!i).join("/"))||"."},n.normalize=function(e){var o=n.isAbsolute(e),a="/"===i(e,-1);return(e=t(r(e.split("/"),(function(e){return!!e})),!o).join("/"))||o||(e="."),e&&a&&(e+="/"),(o?"/":"")+e},n.isAbsolute=function(e){return"/"===e.charAt(0)},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(r(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},n.relative=function(e,t){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=n.resolve(e).substr(1),t=n.resolve(t).substr(1);for(var i=r(e.split("/")),o=r(t.split("/")),a=Math.min(i.length,o.length),s=a,l=0;l<a;l++)if(i[l]!==o[l]){s=l;break}var u=[];for(l=s;l<i.length;l++)u.push("..");return(u=u.concat(o.slice(s))).join("/")},n.sep="/",n.delimiter=":",n.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,i=!0,o=e.length-1;o>=1;--o)if(47===(t=e.charCodeAt(o))){if(!i){r=o;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},n.basename=function(e,t){var n=function(e){"string"!=typeof e&&(e+="");var t,n=0,r=-1,i=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!i){n=t+1;break}}else-1===r&&(i=!1,r=t+1);return-1===r?"":e.slice(n,r)}(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},n.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,n=0,r=-1,i=!0,o=0,a=e.length-1;a>=0;--a){var s=e.charCodeAt(a);if(47!==s)-1===r&&(i=!1,r=a+1),46===s?-1===t?t=a:1!==o&&(o=1):-1!==t&&(o=-1);else if(!i){n=a+1;break}}return-1===t||-1===r||0===o||1===o&&t===r-1&&t===n+1?"":e.slice(t,r)};var i=function(e,t,n){return e.substr(t,n)}}).call(this,e("_process"))},{_process:57}],49:[function(e,t,n){var r,i=e("./lib/build-log"),o=e("./lib/epsilon"),a=e("./lib/intersecter"),s=e("./lib/segment-chainer"),l=e("./lib/segment-selector"),u=e("./lib/geojson"),c=!1,f=o();function d(e,t,n){var i=r.segments(e),o=r.segments(t),a=n(r.combine(i,o));return r.polygon(a)}r={buildLog:function(e){return!0===e?c=i():!1===e&&(c=!1),!1!==c&&c.list},epsilon:function(e){return f.epsilon(e)},segments:function(e){var t=a(!0,f,c);return e.regions.forEach(t.addRegion),{segments:t.calculate(e.inverted),inverted:e.inverted}},combine:function(e,t){return{combined:a(!1,f,c).calculate(e.segments,e.inverted,t.segments,t.inverted),inverted1:e.inverted,inverted2:t.inverted}},selectUnion:function(e){return{segments:l.union(e.combined,c),inverted:e.inverted1||e.inverted2}},selectIntersect:function(e){return{segments:l.intersect(e.combined,c),inverted:e.inverted1&&e.inverted2}},selectDifference:function(e){return{segments:l.difference(e.combined,c),inverted:e.inverted1&&!e.inverted2}},selectDifferenceRev:function(e){return{segments:l.differenceRev(e.combined,c),inverted:!e.inverted1&&e.inverted2}},selectXor:function(e){return{segments:l.xor(e.combined,c),inverted:e.inverted1!==e.inverted2}},polygon:function(e){return{regions:s(e.segments,f,c),inverted:e.inverted}},polygonFromGeoJSON:function(e){return u.toPolygon(r,e)},polygonToGeoJSON:function(e){return u.fromPolygon(r,f,e)},union:function(e,t){return d(e,t,r.selectUnion)},intersect:function(e,t){return d(e,t,r.selectIntersect)},difference:function(e,t){return d(e,t,r.selectDifference)},differenceRev:function(e,t){return d(e,t,r.selectDifferenceRev)},xor:function(e,t){return d(e,t,r.selectXor)}},"object"==typeof window&&(window.PolyBool=r),t.exports=r},{"./lib/build-log":50,"./lib/epsilon":51,"./lib/geojson":52,"./lib/intersecter":53,"./lib/segment-chainer":55,"./lib/segment-selector":56}],50:[function(e,t,n){t.exports=function(){var e,t=0,n=!1;function r(t,n){return e.list.push({type:t,data:n?JSON.parse(JSON.stringify(n)):void 0}),e}return e={list:[],segmentId:function(){return t++},checkIntersection:function(e,t){return r("check",{seg1:e,seg2:t})},segmentChop:function(e,t){return r("div_seg",{seg:e,pt:t}),r("chop",{seg:e,pt:t})},statusRemove:function(e){return r("pop_seg",{seg:e})},segmentUpdate:function(e){return r("seg_update",{seg:e})},segmentNew:function(e,t){return r("new_seg",{seg:e,primary:t})},segmentRemove:function(e){return r("rem_seg",{seg:e})},tempStatus:function(e,t,n){return r("temp_status",{seg:e,above:t,below:n})},rewind:function(e){return r("rewind",{seg:e})},status:function(e,t,n){return r("status",{seg:e,above:t,below:n})},vert:function(t){return t===n?e:(n=t,r("vert",{x:t}))},log:function(e){return"string"!=typeof e&&(e=JSON.stringify(e,!1,"  ")),r("log",{txt:e})},reset:function(){return r("reset")},selected:function(e){return r("selected",{segs:e})},chainStart:function(e){return r("chain_start",{seg:e})},chainRemoveHead:function(e,t){return r("chain_rem_head",{index:e,pt:t})},chainRemoveTail:function(e,t){return r("chain_rem_tail",{index:e,pt:t})},chainNew:function(e,t){return r("chain_new",{pt1:e,pt2:t})},chainMatch:function(e){return r("chain_match",{index:e})},chainClose:function(e){return r("chain_close",{index:e})},chainAddHead:function(e,t){return r("chain_add_head",{index:e,pt:t})},chainAddTail:function(e,t){return r("chain_add_tail",{index:e,pt:t})},chainConnect:function(e,t){return r("chain_con",{index1:e,index2:t})},chainReverse:function(e){return r("chain_rev",{index:e})},chainJoin:function(e,t){return r("chain_join",{index1:e,index2:t})},done:function(){return r("done")}}}},{}],51:[function(e,t,n){t.exports=function(e){"number"!=typeof e&&(e=1e-10);var t={epsilon:function(t){return"number"==typeof t&&(e=t),e},pointAboveOrOnLine:function(t,n,r){var i=n[0],o=n[1],a=r[0],s=r[1],l=t[0];return(a-i)*(t[1]-o)-(s-o)*(l-i)>=-e},pointBetween:function(t,n,r){var i=t[1]-n[1],o=r[0]-n[0],a=t[0]-n[0],s=r[1]-n[1],l=a*o+i*s;return!(l<e||l-(o*o+s*s)>-e)},pointsSameX:function(t,n){return Math.abs(t[0]-n[0])<e},pointsSameY:function(t,n){return Math.abs(t[1]-n[1])<e},pointsSame:function(e,n){return t.pointsSameX(e,n)&&t.pointsSameY(e,n)},pointsCompare:function(e,n){return t.pointsSameX(e,n)?t.pointsSameY(e,n)?0:e[1]<n[1]?-1:1:e[0]<n[0]?-1:1},pointsCollinear:function(t,n,r){var i=t[0]-n[0],o=t[1]-n[1],a=n[0]-r[0],s=n[1]-r[1];return Math.abs(i*s-a*o)<e},linesIntersect:function(t,n,r,i){var o=n[0]-t[0],a=n[1]-t[1],s=i[0]-r[0],l=i[1]-r[1],u=o*l-a*s;if(Math.abs(u)<e)return!1;var c=t[0]-r[0],f=t[1]-r[1],d=(s*f-l*c)/u,p=(o*f-a*c)/u,h={alongA:0,alongB:0,pt:[t[0]+d*o,t[1]+d*a]};return h.alongA=d<=-e?-2:d<e?-1:d-1<=-e?0:d-1<e?1:2,h.alongB=p<=-e?-2:p<e?-1:p-1<=-e?0:p-1<e?1:2,h},pointInsideRegion:function(t,n){for(var r=t[0],i=t[1],o=n[n.length-1][0],a=n[n.length-1][1],s=!1,l=0;l<n.length;l++){var u=n[l][0],c=n[l][1];c-i>e!=a-i>e&&(o-u)*(i-c)/(a-c)+u-r>e&&(s=!s),o=u,a=c}return s}};return t}},{}],52:[function(e,t,n){var r={toPolygon:function(e,t){function n(t){if(t.length<=0)return e.segments({inverted:!1,regions:[]});function n(t){var n=t.slice(0,t.length-1);return e.segments({inverted:!1,regions:[n]})}for(var r=n(t[0]),i=1;i<t.length;i++)r=e.selectDifference(e.combine(r,n(t[i])));return r}if("Polygon"===t.type)return e.polygon(n(t.coordinates));if("MultiPolygon"===t.type){for(var r=e.segments({inverted:!1,regions:[]}),i=0;i<t.coordinates.length;i++)r=e.selectUnion(e.combine(r,n(t.coordinates[i])));return e.polygon(r)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,t,n){function r(e,n){return t.pointInsideRegion([.5*(e[0][0]+e[1][0]),.5*(e[0][1]+e[1][1])],n)}function i(e){return{region:e,children:[]}}n=e.polygon(e.segments(n));var o=i(null);function a(e,t){for(var n=0;n<e.children.length;n++)if(r(t,(s=e.children[n]).region))return void a(s,t);var o=i(t);for(n=0;n<e.children.length;n++){var s;r((s=e.children[n]).region,t)&&(o.children.push(s),e.children.splice(n,1),n--)}e.children.push(o)}for(var s=0;s<n.regions.length;s++){var l=n.regions[s];l.length<3||a(o,l)}function u(e,t){for(var n=0,r=e[e.length-1][0],i=e[e.length-1][1],o=[],a=0;a<e.length;a++){var s=e[a][0],l=e[a][1];o.push([s,l]),n+=l*r-s*i,r=s,i=l}return n<0!==t&&o.reverse(),o.push([o[0][0],o[0][1]]),o}var c=[];function f(e){var t=[u(e.region,!1)];c.push(t);for(var n=0;n<e.children.length;n++)t.push(d(e.children[n]))}function d(e){for(var t=0;t<e.children.length;t++)f(e.children[t]);return u(e.region,!0)}for(s=0;s<o.children.length;s++)f(o.children[s]);return c.length<=0?{type:"Polygon",coordinates:[]}:1==c.length?{type:"Polygon",coordinates:c[0]}:{type:"MultiPolygon",coordinates:c}}};t.exports=r},{}],53:[function(e,t,n){var r=e("./linked-list");t.exports=function(e,t,n){function i(e,t,r){return{id:n?n.segmentId():-1,start:e,end:t,myFill:{above:r.myFill.above,below:r.myFill.below},otherFill:null}}var o=r.create();function a(e,n){o.insertBefore(e,(function(r){return i=e.isStart,o=e.pt,a=n,s=r.isStart,l=r.pt,u=r.other.pt,(0!==(c=t.pointsCompare(o,l))?c:t.pointsSame(a,u)?0:i!==s?i?1:-1:t.pointAboveOrOnLine(a,s?l:u,s?u:l)?1:-1)<0;var i,o,a,s,l,u,c}))}function s(e,t){var n=function(e,t){var n=r.node({isStart:!0,pt:e.start,seg:e,primary:t,other:null,status:null});return a(n,e.end),n}(e,t);return function(e,t,n){var i=r.node({isStart:!1,pt:t.end,seg:t,primary:n,other:e,status:null});e.other=i,a(i,e.pt)}(n,e,t),n}function l(e,t){var r=i(t,e.seg.end,e.seg);return function(e,t){n&&n.segmentChop(e.seg,t),e.other.remove(),e.seg.end=t,e.other.pt=t,a(e.other,e.pt)}(e,t),s(r,e.primary)}function u(i,a){var s=r.create();function u(e){return s.findTransition((function(n){return r=e,i=n.ev,o=r.seg.start,a=r.seg.end,s=i.seg.start,l=i.seg.end,(t.pointsCollinear(o,s,l)?t.pointsCollinear(a,s,l)||t.pointAboveOrOnLine(a,s,l)?1:-1:t.pointAboveOrOnLine(o,s,l)?1:-1)>0;var r,i,o,a,s,l}))}function c(e,r){var i=e.seg,o=r.seg,a=i.start,s=i.end,u=o.start,c=o.end;n&&n.checkIntersection(i,o);var f=t.linesIntersect(a,s,u,c);if(!1===f){if(!t.pointsCollinear(a,s,u))return!1;if(t.pointsSame(a,c)||t.pointsSame(s,u))return!1;var d=t.pointsSame(a,u),p=t.pointsSame(s,c);if(d&&p)return r;var h=!d&&t.pointBetween(a,u,c),g=!p&&t.pointBetween(s,u,c);if(d)return g?l(r,s):l(e,c),r;h&&(p||(g?l(r,s):l(e,c)),l(r,a))}else 0===f.alongA&&(-1===f.alongB?l(e,u):0===f.alongB?l(e,f.pt):1===f.alongB&&l(e,c)),0===f.alongB&&(-1===f.alongA?l(r,a):0===f.alongA?l(r,f.pt):1===f.alongA&&l(r,s));return!1}for(var f=[];!o.isEmpty();){var d=o.getHead();if(n&&n.vert(d.pt[0]),d.isStart){n&&n.segmentNew(d.seg,d.primary);var p=u(d),h=p.before?p.before.ev:null,g=p.after?p.after.ev:null;function m(){if(h){var e=c(d,h);if(e)return e}return!!g&&c(d,g)}n&&n.tempStatus(d.seg,!!h&&h.seg,!!g&&g.seg);var y,v,b=m();if(b&&(e?(v=null===d.seg.myFill.below||d.seg.myFill.above!==d.seg.myFill.below)&&(b.seg.myFill.above=!b.seg.myFill.above):b.seg.otherFill=d.seg.myFill,n&&n.segmentUpdate(b.seg),d.other.remove(),d.remove()),o.getHead()!==d){n&&n.rewind(d.seg);continue}e?(v=null===d.seg.myFill.below||d.seg.myFill.above!==d.seg.myFill.below,d.seg.myFill.below=g?g.seg.myFill.above:i,d.seg.myFill.above=v?!d.seg.myFill.below:d.seg.myFill.below):null===d.seg.otherFill&&(y=g?d.primary===g.primary?g.seg.otherFill.above:g.seg.myFill.above:d.primary?a:i,d.seg.otherFill={above:y,below:y}),n&&n.status(d.seg,!!h&&h.seg,!!g&&g.seg),d.other.status=p.insert(r.node({ev:d}))}else{var x=d.status;if(null===x)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(s.exists(x.prev)&&s.exists(x.next)&&c(x.prev.ev,x.next.ev),n&&n.statusRemove(x.ev.seg),x.remove(),!d.primary){var _=d.seg.myFill;d.seg.myFill=d.seg.otherFill,d.seg.otherFill=_}f.push(d.seg)}o.getHead().remove()}return n&&n.done(),f}return e?{addRegion:function(e){for(var r,i=e[e.length-1],o=0;o<e.length;o++){r=i,i=e[o];var a=t.pointsCompare(r,i);0!==a&&s((l=a<0?r:i,u=a<0?i:r,{id:n?n.segmentId():-1,start:l,end:u,myFill:{above:null,below:null},otherFill:null}),!0)}var l,u},calculate:function(e){return u(e,!1)}}:{calculate:function(e,t,n,r){return e.forEach((function(e){s(i(e.start,e.end,e),!0)})),n.forEach((function(e){s(i(e.start,e.end,e),!1)})),u(t,r)}}}},{"./linked-list":54}],54:[function(e,t,n){t.exports={create:function(){var e={root:{root:!0,next:null},exists:function(t){return null!==t&&t!==e.root},isEmpty:function(){return null===e.root.next},getHead:function(){return e.root.next},insertBefore:function(t,n){for(var r=e.root,i=e.root.next;null!==i;){if(n(i))return t.prev=i.prev,t.next=i,i.prev.next=t,void(i.prev=t);r=i,i=i.next}r.next=t,t.prev=r,t.next=null},findTransition:function(t){for(var n=e.root,r=e.root.next;null!==r&&!t(r);)n=r,r=r.next;return{before:n===e.root?null:n,after:r,insert:function(e){return e.prev=n,e.next=r,n.next=e,null!==r&&(r.prev=e),e}}}};return e},node:function(e){return e.prev=null,e.next=null,e.remove=function(){e.prev.next=e.next,e.next&&(e.next.prev=e.prev),e.prev=null,e.next=null},e}}},{}],55:[function(e,t,n){t.exports=function(e,t,n){var r=[],i=[];return e.forEach((function(e){var o=e.start,a=e.end;if(t.pointsSame(o,a))console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");else{n&&n.chainStart(e);for(var s={index:0,matches_head:!1,matches_pt1:!1},l={index:0,matches_head:!1,matches_pt1:!1},u=s,c=0;c<r.length;c++){var f=(m=r[c])[0],d=(m[1],m[m.length-1]);if(m[m.length-2],t.pointsSame(f,o)){if(T(c,!0,!0))break}else if(t.pointsSame(f,a)){if(T(c,!0,!1))break}else if(t.pointsSame(d,o)){if(T(c,!1,!0))break}else if(t.pointsSame(d,a)&&T(c,!1,!1))break}if(u===s)return r.push([o,a]),void(n&&n.chainNew(o,a));if(u===l){n&&n.chainMatch(s.index);var p=s.index,h=s.matches_pt1?a:o,g=s.matches_head,m=r[p],y=g?m[0]:m[m.length-1],v=g?m[1]:m[m.length-2],b=g?m[m.length-1]:m[0],x=g?m[m.length-2]:m[1];return t.pointsCollinear(v,y,h)&&(g?(n&&n.chainRemoveHead(s.index,h),m.shift()):(n&&n.chainRemoveTail(s.index,h),m.pop()),y=v),t.pointsSame(b,h)?(r.splice(p,1),t.pointsCollinear(x,b,y)&&(g?(n&&n.chainRemoveTail(s.index,y),m.pop()):(n&&n.chainRemoveHead(s.index,y),m.shift())),n&&n.chainClose(s.index),void i.push(m)):void(g?(n&&n.chainAddHead(s.index,h),m.unshift(h)):(n&&n.chainAddTail(s.index,h),m.push(h)))}var _=s.index,w=l.index;n&&n.chainConnect(_,w);var k=r[_].length<r[w].length;s.matches_head?l.matches_head?k?(C(_),O(_,w)):(C(w),O(w,_)):O(w,_):l.matches_head?O(_,w):k?(C(_),O(w,_)):(C(w),O(_,w))}function T(e,t,n){return u.index=e,u.matches_head=t,u.matches_pt1=n,u===s?(u=l,!1):(u=null,!0)}function C(e){n&&n.chainReverse(e),r[e].reverse()}function O(e,i){var o=r[e],a=r[i],s=o[o.length-1],l=o[o.length-2],u=a[0],c=a[1];t.pointsCollinear(l,s,u)&&(n&&n.chainRemoveTail(e,s),o.pop(),s=l),t.pointsCollinear(s,u,c)&&(n&&n.chainRemoveHead(i,u),a.shift()),n&&n.chainJoin(e,i),r[e]=o.concat(a),r.splice(i,1)}})),i}},{}],56:[function(e,t,n){function r(e,t,n){var r=[];return e.forEach((function(e){var i=(e.myFill.above?8:0)+(e.myFill.below?4:0)+(e.otherFill&&e.otherFill.above?2:0)+(e.otherFill&&e.otherFill.below?1:0);0!==t[i]&&r.push({id:n?n.segmentId():-1,start:e.start,end:e.end,myFill:{above:1===t[i],below:2===t[i]},otherFill:null})})),n&&n.selected(r),r}var i={union:function(e,t){return r(e,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],t)},intersect:function(e,t){return r(e,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],t)},difference:function(e,t){return r(e,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],t)},differenceRev:function(e,t){return r(e,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],t)},xor:function(e,t){return r(e,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],t)}};t.exports=i},{}],57:[function(e,t,n){var r,i,o=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function l(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(e){i=s}}();var u,c=[],f=!1,d=-1;function p(){f&&u&&(f=!1,u.length?c=u.concat(c):d=-1,c.length&&h())}function h(){if(!f){var e=l(p);f=!0;for(var t=c.length;t;){for(u=c,c=[];++d<t;)u&&u[d].run();d=-1,t=c.length}u=null,f=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function g(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new g(e,t)),1!==c.length||f||l(h)},g.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],58:[function(e,t,n){!function(e){var n=/^\s+/,r=/\s+$/,i=0,o=e.round,a=e.min,s=e.max,l=e.random;function u(t,l){if(l=l||{},(t=t||"")instanceof u)return t;if(!(this instanceof u))return new u(t,l);var c=function(t){var i={r:0,g:0,b:0},o=1,l=null,u=null,c=null,f=!1,d=!1;return"string"==typeof t&&(t=function(e){e=e.replace(n,"").replace(r,"").toLowerCase();var t,i=!1;if(S[e])e=S[e],i=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};return(t=F.rgb.exec(e))?{r:t[1],g:t[2],b:t[3]}:(t=F.rgba.exec(e))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=F.hsl.exec(e))?{h:t[1],s:t[2],l:t[3]}:(t=F.hsla.exec(e))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=F.hsv.exec(e))?{h:t[1],s:t[2],v:t[3]}:(t=F.hsva.exec(e))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=F.hex8.exec(e))?{r:D(t[1]),g:D(t[2]),b:D(t[3]),a:N(t[4]),format:i?"name":"hex8"}:(t=F.hex6.exec(e))?{r:D(t[1]),g:D(t[2]),b:D(t[3]),format:i?"name":"hex"}:(t=F.hex4.exec(e))?{r:D(t[1]+""+t[1]),g:D(t[2]+""+t[2]),b:D(t[3]+""+t[3]),a:N(t[4]+""+t[4]),format:i?"name":"hex8"}:!!(t=F.hex3.exec(e))&&{r:D(t[1]+""+t[1]),g:D(t[2]+""+t[2]),b:D(t[3]+""+t[3]),format:i?"name":"hex"}}(t)),"object"==typeof t&&(B(t.r)&&B(t.g)&&B(t.b)?(p=t.r,h=t.g,g=t.b,i={r:255*E(p,255),g:255*E(h,255),b:255*E(g,255)},f=!0,d="%"===String(t.r).substr(-1)?"prgb":"rgb"):B(t.h)&&B(t.s)&&B(t.v)?(l=R(t.s),u=R(t.v),i=function(t,n,r){t=6*E(t,360),n=E(n,100),r=E(r,100);var i=e.floor(t),o=t-i,a=r*(1-n),s=r*(1-o*n),l=r*(1-(1-o)*n),u=i%6;return{r:255*[r,s,a,a,l,r][u],g:255*[l,r,r,s,a,a][u],b:255*[a,a,l,r,r,s][u]}}(t.h,l,u),f=!0,d="hsv"):B(t.h)&&B(t.s)&&B(t.l)&&(l=R(t.s),c=R(t.l),i=function(e,t,n){var r,i,o;function a(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=E(e,360),t=E(t,100),n=E(n,100),0===t)r=i=o=n;else{var s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;r=a(l,s,e+1/3),i=a(l,s,e),o=a(l,s,e-1/3)}return{r:255*r,g:255*i,b:255*o}}(t.h,l,c),f=!0,d="hsl"),t.hasOwnProperty("a")&&(o=t.a)),o=M(o),{ok:f,format:t.format||d,r:a(255,s(i.r,0)),g:a(255,s(i.g,0)),b:a(255,s(i.b,0)),a:o};var p,h,g}(t);this._originalInput=t,this._r=c.r,this._g=c.g,this._b=c.b,this._a=c.a,this._roundA=o(100*this._a)/100,this._format=l.format||c.format,this._gradientType=l.gradientType,this._r<1&&(this._r=o(this._r)),this._g<1&&(this._g=o(this._g)),this._b<1&&(this._b=o(this._b)),this._ok=c.ok,this._tc_id=i++}function c(e,t,n){e=E(e,255),t=E(t,255),n=E(n,255);var r,i,o=s(e,t,n),l=a(e,t,n),u=(o+l)/2;if(o==l)r=i=0;else{var c=o-l;switch(i=u>.5?c/(2-o-l):c/(o+l),o){case e:r=(t-n)/c+(t<n?6:0);break;case t:r=(n-e)/c+2;break;case n:r=(e-t)/c+4}r/=6}return{h:r,s:i,l:u}}function f(e,t,n){e=E(e,255),t=E(t,255),n=E(n,255);var r,i,o=s(e,t,n),l=a(e,t,n),u=o,c=o-l;if(i=0===o?0:c/o,o==l)r=0;else{switch(o){case e:r=(t-n)/c+(t<n?6:0);break;case t:r=(n-e)/c+2;break;case n:r=(e-t)/c+4}r/=6}return{h:r,s:i,v:u}}function d(e,t,n,r){var i=[L(o(e).toString(16)),L(o(t).toString(16)),L(o(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function p(e,t,n,r){return[L(I(r)),L(o(e).toString(16)),L(o(t).toString(16)),L(o(n).toString(16))].join("")}function h(e,t){t=0===t?0:t||10;var n=u(e).toHsl();return n.s-=t/100,n.s=P(n.s),u(n)}function g(e,t){t=0===t?0:t||10;var n=u(e).toHsl();return n.s+=t/100,n.s=P(n.s),u(n)}function m(e){return u(e).desaturate(100)}function y(e,t){t=0===t?0:t||10;var n=u(e).toHsl();return n.l+=t/100,n.l=P(n.l),u(n)}function v(e,t){t=0===t?0:t||10;var n=u(e).toRgb();return n.r=s(0,a(255,n.r-o(-t/100*255))),n.g=s(0,a(255,n.g-o(-t/100*255))),n.b=s(0,a(255,n.b-o(-t/100*255))),u(n)}function b(e,t){t=0===t?0:t||10;var n=u(e).toHsl();return n.l-=t/100,n.l=P(n.l),u(n)}function x(e,t){var n=u(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,u(n)}function _(e){var t=u(e).toHsl();return t.h=(t.h+180)%360,u(t)}function w(e){var t=u(e).toHsl(),n=t.h;return[u(e),u({h:(n+120)%360,s:t.s,l:t.l}),u({h:(n+240)%360,s:t.s,l:t.l})]}function k(e){var t=u(e).toHsl(),n=t.h;return[u(e),u({h:(n+90)%360,s:t.s,l:t.l}),u({h:(n+180)%360,s:t.s,l:t.l}),u({h:(n+270)%360,s:t.s,l:t.l})]}function T(e){var t=u(e).toHsl(),n=t.h;return[u(e),u({h:(n+72)%360,s:t.s,l:t.l}),u({h:(n+216)%360,s:t.s,l:t.l})]}function C(e,t,n){t=t||6,n=n||30;var r=u(e).toHsl(),i=360/n,o=[u(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,o.push(u(r));return o}function O(e,t){t=t||6;for(var n=u(e).toHsv(),r=n.h,i=n.s,o=n.v,a=[],s=1/t;t--;)a.push(u({h:r,s:i,v:o})),o=(o+s)%1;return a}u.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var t,n,r,i=this.toRgb();return t=i.r/255,n=i.g/255,r=i.b/255,.2126*(t<=.03928?t/12.92:e.pow((t+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:e.pow((n+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:e.pow((r+.055)/1.055,2.4))},setAlpha:function(e){return this._a=M(e),this._roundA=o(100*this._a)/100,this},toHsv:function(){var e=f(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=f(this._r,this._g,this._b),t=o(360*e.h),n=o(100*e.s),r=o(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=c(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=c(this._r,this._g,this._b),t=o(360*e.h),n=o(100*e.s),r=o(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return d(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,r,i){var a=[L(o(e).toString(16)),L(o(t).toString(16)),L(o(n).toString(16)),L(I(r))];return i&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:o(this._r),g:o(this._g),b:o(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+o(this._r)+", "+o(this._g)+", "+o(this._b)+")":"rgba("+o(this._r)+", "+o(this._g)+", "+o(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:o(100*E(this._r,255))+"%",g:o(100*E(this._g,255))+"%",b:o(100*E(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+o(100*E(this._r,255))+"%, "+o(100*E(this._g,255))+"%, "+o(100*E(this._b,255))+"%)":"rgba("+o(100*E(this._r,255))+"%, "+o(100*E(this._g,255))+"%, "+o(100*E(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(A[d(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+p(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var i=u(e);n="#"+p(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return u(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(y,arguments)},brighten:function(){return this._applyModification(v,arguments)},darken:function(){return this._applyModification(b,arguments)},desaturate:function(){return this._applyModification(h,arguments)},saturate:function(){return this._applyModification(g,arguments)},greyscale:function(){return this._applyModification(m,arguments)},spin:function(){return this._applyModification(x,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(C,arguments)},complement:function(){return this._applyCombination(_,arguments)},monochromatic:function(){return this._applyCombination(O,arguments)},splitcomplement:function(){return this._applyCombination(T,arguments)},triad:function(){return this._applyCombination(w,arguments)},tetrad:function(){return this._applyCombination(k,arguments)}},u.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:R(e[r]));e=n}return u(e,t)},u.equals=function(e,t){return!(!e||!t)&&u(e).toRgbString()==u(t).toRgbString()},u.random=function(){return u.fromRatio({r:l(),g:l(),b:l()})},u.mix=function(e,t,n){n=0===n?0:n||50;var r=u(e).toRgb(),i=u(t).toRgb(),o=n/100;return u({r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a})},u.readability=function(t,n){var r=u(t),i=u(n);return(e.max(r.getLuminance(),i.getLuminance())+.05)/(e.min(r.getLuminance(),i.getLuminance())+.05)},u.isReadable=function(e,t,n){var r,i,o,a,s,l=u.readability(e,t);switch(i=!1,(o=n,"AA"!==(a=((o=o||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==a&&(a="AA"),"small"!==(s=(o.size||"small").toLowerCase())&&"large"!==s&&(s="small"),r={level:a,size:s}).level+r.size){case"AAsmall":case"AAAlarge":i=l>=4.5;break;case"AAlarge":i=l>=3;break;case"AAAsmall":i=l>=7}return i},u.mostReadable=function(e,t,n){var r,i,o,a,s=null,l=0;i=(n=n||{}).includeFallbackColors,o=n.level,a=n.size;for(var c=0;c<t.length;c++)(r=u.readability(e,t[c]))>l&&(l=r,s=u(t[c]));return u.isReadable(e,s,{level:o,size:a})||!i?s:(n.includeFallbackColors=!1,u.mostReadable(e,["#fff","#000"],n))};var S=u.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},A=u.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(S);function M(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function E(t,n){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(t)&&(t="100%");var r=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(t);return t=a(n,s(0,parseFloat(t))),r&&(t=parseInt(t*n,10)/100),e.abs(t-n)<1e-6?1:t%n/parseFloat(n)}function P(e){return a(1,s(0,e))}function D(e){return parseInt(e,16)}function L(e){return 1==e.length?"0"+e:""+e}function R(e){return e<=1&&(e=100*e+"%"),e}function I(t){return e.round(255*parseFloat(t)).toString(16)}function N(e){return D(e)/255}var j,z,q,F=(z="[\\s|\\(]+("+(j="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+j+")[,|\\s]+("+j+")\\s*\\)?",q="[\\s|\\(]+("+j+")[,|\\s]+("+j+")[,|\\s]+("+j+")[,|\\s]+("+j+")\\s*\\)?",{CSS_UNIT:new RegExp(j),rgb:new RegExp("rgb"+z),rgba:new RegExp("rgba"+q),hsl:new RegExp("hsl"+z),hsla:new RegExp("hsla"+q),hsv:new RegExp("hsv"+z),hsva:new RegExp("hsva"+q),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function B(e){return!!F.CSS_UNIT.exec(e)}void 0!==t&&t.exports?t.exports=u:window.tinycolor=u}(Math)},{}],59:[function(e,t,n){"use strict";t.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},{}],60:[function(e,t,n){"use strict";var r=e("./arrow_paths"),i=e("../../plots/font_attributes"),o=e("../../plots/cartesian/constants"),a=e("../../plot_api/plot_template").templatedArray;e("../../constants/axis_placeable_objects"),t.exports=a("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:i({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:r.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:r.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",o.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",o.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",o.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",o.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:i({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},{"../../constants/axis_placeable_objects":178,"../../plot_api/plot_template":237,"../../plots/cartesian/constants":254,"../../plots/font_attributes":276,"./arrow_paths":59}],61:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../plots/cartesian/axes"),o=e("./draw").draw;function a(e){var t=e._fullLayout;r.filterVisible(t.annotations).forEach((function(t){var n=i.getFromId(e,t.xref),r=i.getFromId(e,t.yref),o=i.getRefType(t.xref),a=i.getRefType(t.yref);t._extremes={},"range"===o&&s(t,n),"range"===a&&s(t,r)}))}function s(e,t){var n,r=t._id,o=r.charAt(0),a=e[o],s=e["a"+o],l=e[o+"ref"],u=e["a"+o+"ref"],c=e["_"+o+"padplus"],f=e["_"+o+"padminus"],d={x:1,y:-1}[o]*e[o+"shift"],p=3*e.arrowsize*e.arrowwidth||0,h=p+d,g=p-d,m=3*e.startarrowsize*e.arrowwidth||0,y=m+d,v=m-d;if(u===l){var b=i.findExtremes(t,[t.r2c(a)],{ppadplus:h,ppadminus:g}),x=i.findExtremes(t,[t.r2c(s)],{ppadplus:Math.max(c,y),ppadminus:Math.max(f,v)});n={min:[b.min[0],x.min[0]],max:[b.max[0],x.max[0]]}}else y=s?y+s:y,v=s?v-s:v,n=i.findExtremes(t,[t.r2c(a)],{ppadplus:Math.max(c,h,y),ppadminus:Math.max(f,g,v)});e._extremes[r]=n}t.exports=function(e){var t=e._fullLayout;if(r.filterVisible(t.annotations).length&&e._fullData.length)return r.syncOrAsync([o,a],e)}},{"../../lib":203,"../../plots/cartesian/axes":248,"./draw":66}],62:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../registry"),o=e("../../plot_api/plot_template").arrayEditor;function a(e,t){var n,r,i,o,a,l,u,c=e._fullLayout.annotations,f=[],d=[],p=[],h=(t||[]).length;for(n=0;n<c.length;n++)if(o=(i=c[n]).clicktoshow){for(r=0;r<h;r++)if(l=(a=t[r]).xaxis,u=a.yaxis,l._id===i.xref&&u._id===i.yref&&l.d2r(a.x)===s(i._xclick,l)&&u.d2r(a.y)===s(i._yclick,u)){(i.visible?"onout"===o?d:p:f).push(n);break}r===h&&i.visible&&"onout"===o&&d.push(n)}return{on:f,off:d,explicitOff:p}}function s(e,t){return"log"===t.type?t.l2r(e):t.d2r(e)}t.exports={hasClickToShow:function(e,t){var n=a(e,t);return n.on.length>0||n.explicitOff.length>0},onClick:function(e,t){var n,s,l=a(e,t),u=l.on,c=l.off.concat(l.explicitOff),f={},d=e._fullLayout.annotations;if(u.length||c.length){for(n=0;n<u.length;n++)(s=o(e.layout,"annotations",d[u[n]])).modifyItem("visible",!0),r.extendFlat(f,s.getUpdateObj());for(n=0;n<c.length;n++)(s=o(e.layout,"annotations",d[c[n]])).modifyItem("visible",!1),r.extendFlat(f,s.getUpdateObj());return i.call("update",e,{},f)}}}},{"../../lib":203,"../../plot_api/plot_template":237,"../../registry":295}],63:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../color");t.exports=function(e,t,n,o){o("opacity");var a=o("bgcolor"),s=o("bordercolor"),l=i.opacity(s);o("borderpad");var u=o("borderwidth"),c=o("showarrow");if(o("text",c?" ":n._dfltTitle.annotation),o("textangle"),r.coerceFont(o,"font",n.font),o("width"),o("align"),o("height")&&o("valign"),c){var f,d,p=o("arrowside");-1!==p.indexOf("end")&&(f=o("arrowhead"),d=o("arrowsize")),-1!==p.indexOf("start")&&(o("startarrowhead",f),o("startarrowsize",d)),o("arrowcolor",l?t.bordercolor:i.defaultLine),o("arrowwidth",2*(l&&u||1)),o("standoff"),o("startstandoff")}var h=o("hovertext"),g=n.hoverlabel||{};if(h){var m=o("hoverlabel.bgcolor",g.bgcolor||(i.opacity(a)?i.rgb(a):i.defaultLine)),y=o("hoverlabel.bordercolor",g.bordercolor||i.contrast(m));r.coerceFont(o,"hoverlabel.font",{family:g.font.family,size:g.font.size,color:g.font.color||y})}o("captureevents",!!h)}},{"../../lib":203,"../color":75}],64:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../../lib/to_log_range");t.exports=function(e,t,n,o){t=t||{};var a="log"===n&&"linear"===t.type,s="linear"===n&&"log"===t.type;if(a||s)for(var l,u,c=e._fullLayout.annotations,f=t._id.charAt(0),d=0;d<c.length;d++)l=c[d],u="annotations["+d+"].",l[f+"ref"]===t._id&&p(f),l["a"+f+"ref"]===t._id&&p("a"+f);function p(e){var n=l[e],s=null;s=a?i(n,t.range):Math.pow(10,n),r(s)||(s=null),o(u+e,s)}}},{"../../lib/to_log_range":226,"fast-isnumeric":23}],65:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../plots/cartesian/axes"),o=e("../../plots/array_container_defaults"),a=e("./common_defaults"),s=e("./attributes");function l(e,t,n){function o(n,i){return r.coerce(e,t,s,n,i)}var l=o("visible"),u=o("clicktoshow");if(l||u){a(e,t,n,o);for(var c=t.showarrow,f=["x","y"],d=[-10,-30],p={_fullLayout:n},h=0;h<2;h++){var g=f[h],m=i.coerceRef(e,t,p,g,"","paper");if("paper"!==m&&i.getFromId(p,m)._annIndices.push(t._index),i.coercePosition(t,p,o,m,g,.5),c){var y="a"+g,v=i.coerceRef(e,t,p,y,"pixel",["pixel","paper"]);"pixel"!==v&&v!==m&&(v=t[y]="pixel");var b="pixel"===v?d[h]:.4;i.coercePosition(t,p,o,v,y,b)}o(g+"anchor"),o(g+"shift")}if(r.noneOrAll(e,t,["x","y"]),c&&r.noneOrAll(e,t,["ax","ay"]),u){var x=o("xclick"),_=o("yclick");t._xclick=void 0===x?t.x:i.cleanPosition(x,p,t.xref),t._yclick=void 0===_?t.y:i.cleanPosition(_,p,t.yref)}}}t.exports=function(e,t){o(e,t,{name:"annotations",handleItemDefaults:l})}},{"../../lib":203,"../../plots/array_container_defaults":243,"../../plots/cartesian/axes":248,"./attributes":60,"./common_defaults":63}],66:[function(e,t,n){"use strict";var r=e("d3"),i=e("../../registry"),o=e("../../plots/plots"),a=e("../../lib"),s=e("../../plots/cartesian/axes"),l=e("../color"),u=e("../drawing"),c=e("../fx"),f=e("../../lib/svg_text_utils"),d=e("../../lib/setcursor"),p=e("../dragelement"),h=e("../../plot_api/plot_template").arrayEditor,g=e("./draw_arrow_head");function m(e,t){var n=e._fullLayout.annotations[t]||{},r=s.getFromId(e,n.xref),i=s.getFromId(e,n.yref);r&&r.setScale(),i&&i.setScale(),v(e,n,t,!1,r,i)}function y(e,t,n,r,i){var o=i[n],a=i[n+"ref"],l=-1!==n.indexOf("y"),u="domain"===s.getRefType(a),c=l?r.h:r.w;return e?u?o+(l?-t:t)/e._length:e.p2r(e.r2p(o)+t):o+(l?-t:t)/c}function v(e,t,n,o,m,v){var b,x,_=e._fullLayout,w=e._fullLayout._size,k=e._context.edits;o?(b="annotation-"+o,x=o+".annotations"):(b="annotation",x="annotations");var T=h(e.layout,x,t),C=T.modifyBase,O=T.modifyItem,S=T.getUpdateObj;_._infolayer.selectAll("."+b+'[data-index="'+n+'"]').remove();var A="clip"+_._uid+"_ann"+n;if(t._input&&!1!==t.visible){var M={x:{},y:{}},E=+t.textangle||0,P=_._infolayer.append("g").classed(b,!0).attr("data-index",String(n)).style("opacity",t.opacity),D=P.append("g").classed("annotation-text-g",!0),L=k[t.showarrow?"annotationTail":"annotationPosition"],R=t.captureevents||k.annotationText||L,I=D.append("g").style("pointer-events",R?"all":null).call(d,"pointer").on("click",(function(){e._dragging=!1,e.emit("plotly_clickannotation",W(r.event))}));t.hovertext&&I.on("mouseover",(function(){var n=t.hoverlabel,r=n.font,i=this.getBoundingClientRect(),o=e.getBoundingClientRect();c.loneHover({x0:i.left-o.left,x1:i.right-o.left,y:(i.top+i.bottom)/2-o.top,text:t.hovertext,color:n.bgcolor,borderColor:n.bordercolor,fontFamily:r.family,fontSize:r.size,fontColor:r.color},{container:_._hoverlayer.node(),outerContainer:_._paper.node(),gd:e})})).on("mouseout",(function(){c.loneUnhover(_._hoverlayer.node())}));var N=t.borderwidth,j=t.borderpad,z=N+j,q=I.append("rect").attr("class","bg").style("stroke-width",N+"px").call(l.stroke,t.bordercolor).call(l.fill,t.bgcolor),F=t.width||t.height,B=_._topclips.selectAll("#"+A).data(F?[0]:[]);B.enter().append("clipPath").classed("annclip",!0).attr("id",A).append("rect"),B.exit().remove();var H=t.font,U=_._meta?a.templateString(t.text,_._meta):t.text,V=I.append("text").classed("annotation-text",!0).text(U);k.annotationText?V.call(f.makeEditable,{delegate:I,gd:e}).call(G).on("edit",(function(n){t.text=n,this.call(G),O("text",n),m&&m.autorange&&C(m._name+".autorange",!0),v&&v.autorange&&C(v._name+".autorange",!0),i.call("_guiRelayout",e,S())})):V.call(G)}else r.selectAll("#"+A).remove();function W(e){var r={index:n,annotation:t._input,fullAnnotation:t,event:e};return o&&(r.subplotId=o),r}function G(n){return n.call(u.font,H).attr({"text-anchor":{left:"start",right:"end"}[t.align]||"middle"}),f.convertToTspans(n,e,K),n}function K(){var n=V.selectAll("a");1===n.size()&&n.text()===V.text()&&I.insert("a",":first-child").attr({"xlink:xlink:href":n.attr("xlink:href"),"xlink:xlink:show":n.attr("xlink:show")}).style({cursor:"pointer"}).node().appendChild(q.node());var r=I.select(".annotation-text-math-group"),c=!r.empty(),h=u.bBox((c?r:V).node()),b=h.width,x=h.height,T=t.width||b,R=t.height||x,j=Math.round(T+2*z),H=Math.round(R+2*z);function U(e,t){return"auto"===t&&(t=e<1/3?"left":e>2/3?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[t]}for(var G=!1,K=["x","y"],Y=0;Y<K.length;Y++){var Z,X,$,J,Q,ee=K[Y],te=t[ee+"ref"]||ee,ne=t["a"+ee+"ref"],re={x:m,y:v}[ee],ie=(E+("x"===ee?0:-90))*Math.PI/180,oe=j*Math.cos(ie),ae=H*Math.sin(ie),se=Math.abs(oe)+Math.abs(ae),le=t[ee+"anchor"],ue=t[ee+"shift"]*("x"===ee?1:-1),ce=M[ee],fe=s.getRefType(te);if(re&&"domain"!==fe){var de=re.r2fraction(t[ee]);(de<0||de>1)&&(ne===te?((de=re.r2fraction(t["a"+ee]))<0||de>1)&&(G=!0):G=!0),Z=re._offset+re.r2p(t[ee]),J=.5}else{var pe="domain"===fe;"x"===ee?($=t[ee],Z=pe?re._offset+re._length*$:Z=w.l+w.w*$):($=1-t[ee],Z=pe?re._offset+re._length*$:Z=w.t+w.h*$),J=t.showarrow?.5:$}if(t.showarrow){ce.head=Z;var he=t["a"+ee];if(Q=oe*U(.5,t.xanchor)-ae*U(.5,t.yanchor),ne===te){var ge=s.getRefType(ne);"domain"===ge?("y"===ee&&(he=1-he),ce.tail=re._offset+re._length*he):"paper"===ge?"y"===ee?(he=1-he,ce.tail=w.t+w.h*he):ce.tail=w.l+w.w*he:ce.tail=re._offset+re.r2p(he),X=Q}else ce.tail=Z+he,X=Q+he;ce.text=ce.tail+Q;var me=_["x"===ee?"width":"height"];if("paper"===te&&(ce.head=a.constrain(ce.head,1,me-1)),"pixel"===ne){var ye=-Math.max(ce.tail-3,ce.text),ve=Math.min(ce.tail+3,ce.text)-me;ye>0?(ce.tail+=ye,ce.text+=ye):ve>0&&(ce.tail-=ve,ce.text-=ve)}ce.tail+=ue,ce.head+=ue}else X=Q=se*U(J,le),ce.text=Z+Q;ce.text+=ue,Q+=ue,X+=ue,t["_"+ee+"padplus"]=se/2+X,t["_"+ee+"padminus"]=se/2-X,t["_"+ee+"size"]=se,t["_"+ee+"shift"]=Q}if(G)I.remove();else{var be=0,xe=0;if("left"!==t.align&&(be=(T-b)*("center"===t.align?.5:1)),"top"!==t.valign&&(xe=(R-x)*("middle"===t.valign?.5:1)),c)r.select("svg").attr({x:z+be-1,y:z+xe}).call(u.setClipUrl,F?A:null,e);else{var _e=z+xe-h.top,we=z+be-h.left;V.call(f.positionText,we,_e).call(u.setClipUrl,F?A:null,e)}B.select("rect").call(u.setRect,z,z,T,R),q.call(u.setRect,N/2,N/2,j-N,H-N),I.call(u.setTranslate,Math.round(M.x.text-j/2),Math.round(M.y.text-H/2)),D.attr({transform:"rotate("+E+","+M.x.text+","+M.y.text+")"});var ke,Te=function(n,r){P.selectAll(".annotation-arrow-g").remove();var s=M.x.head,c=M.y.head,f=M.x.tail+n,d=M.y.tail+r,h=M.x.text+n,b=M.y.text+r,x=a.rotationXYMatrix(E,h,b),_=a.apply2DTransform(x),T=a.apply2DTransform2(x),A=+q.attr("width"),L=+q.attr("height"),R=h-.5*A,N=R+A,j=b-.5*L,z=j+L,F=[[R,j,R,z],[R,z,N,z],[N,z,N,j],[N,j,R,j]].map(T);if(!F.reduce((function(e,t){return e^!!a.segmentsIntersect(s,c,s+1e6,c+1e6,t[0],t[1],t[2],t[3])}),!1)){F.forEach((function(e){var t=a.segmentsIntersect(f,d,s,c,e[0],e[1],e[2],e[3]);t&&(f=t.x,d=t.y)}));var B=t.arrowwidth,H=t.arrowcolor,U=t.arrowside,V=P.append("g").style({opacity:l.opacity(H)}).classed("annotation-arrow-g",!0),W=V.append("path").attr("d","M"+f+","+d+"L"+s+","+c).style("stroke-width",B+"px").call(l.stroke,l.rgb(H));if(g(W,U,t),k.annotationPosition&&W.node().parentNode&&!o){var G=s,K=c;if(t.standoff){var Y=Math.sqrt(Math.pow(s-f,2)+Math.pow(c-d,2));G+=t.standoff*(f-s)/Y,K+=t.standoff*(d-c)/Y}var Z,X,$=V.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(f-G)+","+(d-K),transform:"translate("+G+","+K+")"}).style("stroke-width",B+6+"px").call(l.stroke,"rgba(0,0,0,0)").call(l.fill,"rgba(0,0,0,0)");p.init({element:$.node(),gd:e,prepFn:function(){var e=u.getTranslate(I);Z=e.x,X=e.y,m&&m.autorange&&C(m._name+".autorange",!0),v&&v.autorange&&C(v._name+".autorange",!0)},moveFn:function(e,n){var r=_(Z,X),i=r[0]+e,o=r[1]+n;I.call(u.setTranslate,i,o),O("x",y(m,e,"x",w,t)),O("y",y(v,n,"y",w,t)),t.axref===t.xref&&O("ax",y(m,e,"ax",w,t)),t.ayref===t.yref&&O("ay",y(v,n,"ay",w,t)),V.attr("transform","translate("+e+","+n+")"),D.attr({transform:"rotate("+E+","+i+","+o+")"})},doneFn:function(){i.call("_guiRelayout",e,S());var t=document.querySelector(".js-notes-box-panel");t&&t.redraw(t.selectedObj)}})}}};t.showarrow&&Te(0,0),L&&p.init({element:I.node(),gd:e,prepFn:function(){ke=D.attr("transform")},moveFn:function(e,n){var r="pointer";if(t.showarrow)t.axref===t.xref?O("ax",y(m,e,"ax",w,t)):O("ax",t.ax+e),t.ayref===t.yref?O("ay",y(v,n,"ay",w.w,t)):O("ay",t.ay+n),Te(e,n);else{if(o)return;var i,a;if(m)i=y(m,e,"x",w,t);else{var s=t._xsize/w.w,l=t.x+(t._xshift-t.xshift)/w.w-s/2;i=p.align(l+e/w.w,s,0,1,t.xanchor)}if(v)a=y(v,n,"y",w,t);else{var u=t._ysize/w.h,c=t.y-(t._yshift+t.yshift)/w.h-u/2;a=p.align(c-n/w.h,u,0,1,t.yanchor)}O("x",i),O("y",a),m&&v||(r=p.getCursor(m?.5:i,v?.5:a,t.xanchor,t.yanchor))}D.attr({transform:"translate("+e+","+n+")"+ke}),d(I,r)},clickFn:function(n,r){t.captureevents&&e.emit("plotly_clickannotation",W(r))},doneFn:function(){d(I),i.call("_guiRelayout",e,S());var t=document.querySelector(".js-notes-box-panel");t&&t.redraw(t.selectedObj)}})}}}t.exports={draw:function(e){var t=e._fullLayout;t._infolayer.selectAll(".annotation").remove();for(var n=0;n<t.annotations.length;n++)t.annotations[n].visible&&m(e,n);return o.previousPromises(e)},drawOne:m,drawRaw:v}},{"../../lib":203,"../../lib/setcursor":222,"../../lib/svg_text_utils":224,"../../plot_api/plot_template":237,"../../plots/cartesian/axes":248,"../../plots/plots":282,"../../registry":295,"../color":75,"../dragelement":94,"../drawing":97,"../fx":115,"./draw_arrow_head":67,d3:21}],67:[function(e,t,n){"use strict";var r=e("d3"),i=e("../color"),o=e("./arrow_paths");t.exports=function(e,t,n){var a,s,l,u,c=e.node(),f=o[n.arrowhead||0],d=o[n.startarrowhead||0],p=(n.arrowwidth||1)*(n.arrowsize||1),h=(n.arrowwidth||1)*(n.startarrowsize||1),g=t.indexOf("start")>=0,m=t.indexOf("end")>=0,y=f.backoff*p+n.standoff,v=d.backoff*h+n.startstandoff;if("line"===c.nodeName){a={x:+e.attr("x1"),y:+e.attr("y1")},s={x:+e.attr("x2"),y:+e.attr("y2")};var b=a.x-s.x,x=a.y-s.y;if(u=(l=Math.atan2(x,b))+Math.PI,y&&v&&y+v>Math.sqrt(b*b+x*x))return void P();if(y){if(y*y>b*b+x*x)return void P();var _=y*Math.cos(l),w=y*Math.sin(l);s.x+=_,s.y+=w,e.attr({x2:s.x,y2:s.y})}if(v){if(v*v>b*b+x*x)return void P();var k=v*Math.cos(l),T=v*Math.sin(l);a.x-=k,a.y-=T,e.attr({x1:a.x,y1:a.y})}}else if("path"===c.nodeName){var C=c.getTotalLength(),O="";if(C<y+v)return void P();var S=c.getPointAtLength(0),A=c.getPointAtLength(.1);l=Math.atan2(S.y-A.y,S.x-A.x),a=c.getPointAtLength(Math.min(v,C)),O="0px,"+v+"px,";var M=c.getPointAtLength(C),E=c.getPointAtLength(C-.1);u=Math.atan2(M.y-E.y,M.x-E.x),s=c.getPointAtLength(Math.max(0,C-y)),O+=C-(O?v+y:y)+"px,"+C+"px",e.style("stroke-dasharray",O)}function P(){e.style("stroke-dasharray","0px,100px")}function D(t,o,a,s){t.path&&(t.noRotate&&(a=0),r.select(c.parentNode).append("path").attr({class:e.attr("class"),d:t.path,transform:"translate("+o.x+","+o.y+")"+(a?"rotate("+180*a/Math.PI+")":"")+"scale("+s+")"}).style({fill:i.rgb(n.arrowcolor),"stroke-width":0}))}g&&D(d,a,l,h),m&&D(f,s,u,p)}},{"../color":75,"./arrow_paths":59,d3:21}],68:[function(e,t,n){"use strict";var r=e("./draw"),i=e("./click");t.exports={moduleType:"component",name:"annotations",layoutAttributes:e("./attributes"),supplyLayoutDefaults:e("./defaults"),includeBasePlot:e("../../plots/cartesian/include_components")("annotations"),calcAutorange:e("./calc_autorange"),draw:r.draw,drawOne:r.drawOne,drawRaw:r.drawRaw,hasClickToShow:i.hasClickToShow,onClick:i.onClick,convertCoords:e("./convert_coords")}},{"../../plots/cartesian/include_components":260,"./attributes":60,"./calc_autorange":61,"./click":62,"./convert_coords":64,"./defaults":65,"./draw":66}],69:[function(e,t,n){"use strict";var r=e("../annotations/attributes"),i=e("../../plot_api/edit_types").overrideAll,o=e("../../plot_api/plot_template").templatedArray;t.exports=i(o("annotation",{visible:r.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:r.xanchor,xshift:r.xshift,yanchor:r.yanchor,yshift:r.yshift,text:r.text,textangle:r.textangle,font:r.font,width:r.width,height:r.height,opacity:r.opacity,align:r.align,valign:r.valign,bgcolor:r.bgcolor,bordercolor:r.bordercolor,borderpad:r.borderpad,borderwidth:r.borderwidth,showarrow:r.showarrow,arrowcolor:r.arrowcolor,arrowhead:r.arrowhead,startarrowhead:r.startarrowhead,arrowside:r.arrowside,arrowsize:r.arrowsize,startarrowsize:r.startarrowsize,arrowwidth:r.arrowwidth,standoff:r.standoff,startstandoff:r.startstandoff,hovertext:r.hovertext,hoverlabel:r.hoverlabel,captureevents:r.captureevents}),"calc","from-root")},{"../../plot_api/edit_types":230,"../../plot_api/plot_template":237,"../annotations/attributes":60}],70:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../plots/cartesian/axes");function o(e,t){var n=t.fullSceneLayout.domain,o=t.fullLayout._size,a={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};e._xa={},r.extendFlat(e._xa,a),i.setConvert(e._xa),e._xa._offset=o.l+n.x[0]*o.w,e._xa.l2p=function(){return.5*(1+e._pdata[0]/e._pdata[3])*o.w*(n.x[1]-n.x[0])},e._ya={},r.extendFlat(e._ya,a),i.setConvert(e._ya),e._ya._offset=o.t+(1-n.y[1])*o.h,e._ya.l2p=function(){return.5*(1-e._pdata[1]/e._pdata[3])*o.h*(n.y[1]-n.y[0])}}t.exports=function(e){for(var t=e.fullSceneLayout.annotations,n=0;n<t.length;n++)o(t[n],e);e.fullLayout._infolayer.selectAll(".annotation-"+e.id).remove()}},{"../../lib":203,"../../plots/cartesian/axes":248}],71:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../plots/cartesian/axes"),o=e("../../plots/array_container_defaults"),a=e("../annotations/common_defaults"),s=e("./attributes");function l(e,t,n,o){function l(n,i){return r.coerce(e,t,s,n,i)}function u(e){var r=e+"axis",o={_fullLayout:{}};return o._fullLayout[r]=n[r],i.coercePosition(t,o,l,e,e,.5)}l("visible")&&(a(e,t,o.fullLayout,l),u("x"),u("y"),u("z"),r.noneOrAll(e,t,["x","y","z"]),t.xref="x",t.yref="y",t.zref="z",l("xanchor"),l("yanchor"),l("xshift"),l("yshift"),t.showarrow&&(t.axref="pixel",t.ayref="pixel",l("ax",-10),l("ay",-30),r.noneOrAll(e,t,["ax","ay"])))}t.exports=function(e,t,n){o(e,t,{name:"annotations",handleItemDefaults:l,fullLayout:n.fullLayout})}},{"../../lib":203,"../../plots/array_container_defaults":243,"../../plots/cartesian/axes":248,"../annotations/common_defaults":63,"./attributes":69}],72:[function(e,t,n){"use strict";var r=e("../annotations/draw").drawRaw,i=e("../../plots/gl3d/project"),o=["x","y","z"];t.exports=function(e){for(var t=e.fullSceneLayout,n=e.dataScale,a=t.annotations,s=0;s<a.length;s++){for(var l=a[s],u=!1,c=0;c<3;c++){var f=o[c],d=l[f],p=t[f+"axis"].r2fraction(d);if(p<0||p>1){u=!0;break}}u?e.fullLayout._infolayer.select(".annotation-"+e.id+'[data-index="'+s+'"]').remove():(l._pdata=i(e.glplot.cameraParams,[t.xaxis.r2l(l.x)*n[0],t.yaxis.r2l(l.y)*n[1],t.zaxis.r2l(l.z)*n[2]]),r(e.graphDiv,l,s,e.id,l._xa,l._ya))}}},{"../../plots/gl3d/project":279,"../annotations/draw":66}],73:[function(e,t,n){"use strict";var r=e("../../registry"),i=e("../../lib");t.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:e("./attributes")}}},layoutAttributes:e("./attributes"),handleDefaults:e("./defaults"),includeBasePlot:function(e,t){var n=r.subplotsRegistry.gl3d;if(n)for(var o=n.attrRegex,a=Object.keys(e),s=0;s<a.length;s++){var l=a[s];o.test(l)&&(e[l].annotations||[]).length&&(i.pushUnique(t._basePlotModules,n),i.pushUnique(t._subplots.gl3d,l))}},convert:e("./convert"),draw:e("./draw")}},{"../../lib":203,"../../registry":295,"./attributes":69,"./convert":70,"./defaults":71,"./draw":72}],74:[function(e,t,n){"use strict";n.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],n.defaultLine="#444",n.lightLine="#eee",n.background="#fff",n.borderLine="#BEC8D9",n.lightFraction=1e3/11},{}],75:[function(e,t,n){"use strict";var r=e("tinycolor2"),i=e("fast-isnumeric"),o=t.exports={},a=e("./attributes");o.defaults=a.defaults;var s=o.defaultLine=a.defaultLine;o.lightLine=a.lightLine;var l=o.background=a.background;function u(e){if(i(e)||"string"!=typeof e)return e;var t=e.trim();if("rgb"!==t.substr(0,3))return e;var n=t.match(/^rgba?\s*\(([^()]*)\)$/);if(!n)return e;var r=n[1].trim().split(/\s*[\s,]\s*/),o="a"===t.charAt(3)&&4===r.length;if(!o&&3!==r.length)return e;for(var a=0;a<r.length;a++){if(!r[a].length)return e;if(r[a]=Number(r[a]),!(r[a]>=0))return e;if(3===a)r[a]>1&&(r[a]=1);else if(r[a]>=1)return e}var s=Math.round(255*r[0])+", "+Math.round(255*r[1])+", "+Math.round(255*r[2]);return o?"rgba("+s+", "+r[3]+")":"rgb("+s+")"}o.tinyRGB=function(e){var t=e.toRgb();return"rgb("+Math.round(t.r)+", "+Math.round(t.g)+", "+Math.round(t.b)+")"},o.rgb=function(e){return o.tinyRGB(r(e))},o.opacity=function(e){return e?r(e).getAlpha():0},o.addOpacity=function(e,t){var n=r(e).toRgb();return"rgba("+Math.round(n.r)+", "+Math.round(n.g)+", "+Math.round(n.b)+", "+t+")"},o.combine=function(e,t){var n=r(e).toRgb();if(1===n.a)return r(e).toRgbString();var i=r(t||l).toRgb(),o=1===i.a?i:{r:255*(1-i.a)+i.r*i.a,g:255*(1-i.a)+i.g*i.a,b:255*(1-i.a)+i.b*i.a},a={r:o.r*(1-n.a)+n.r*n.a,g:o.g*(1-n.a)+n.g*n.a,b:o.b*(1-n.a)+n.b*n.a};return r(a).toRgbString()},o.contrast=function(e,t,n){var i=r(e);return 1!==i.getAlpha()&&(i=r(o.combine(e,l))),(i.isDark()?t?i.lighten(t):l:n?i.darken(n):s).toString()},o.stroke=function(e,t){var n=r(t);e.style({stroke:o.tinyRGB(n),"stroke-opacity":n.getAlpha()})},o.fill=function(e,t){var n=r(t);e.style({fill:o.tinyRGB(n),"fill-opacity":n.getAlpha()})},o.clean=function(e){if(e&&"object"==typeof e){var t,n,r,i,a=Object.keys(e);for(t=0;t<a.length;t++)if(i=e[r=a[t]],"color"===r.substr(r.length-5))if(Array.isArray(i))for(n=0;n<i.length;n++)i[n]=u(i[n]);else e[r]=u(i);else if("colorscale"===r.substr(r.length-10)&&Array.isArray(i))for(n=0;n<i.length;n++)Array.isArray(i[n])&&(i[n][1]=u(i[n][1]));else if(Array.isArray(i)){var s=i[0];if(!Array.isArray(s)&&s&&"object"==typeof s)for(n=0;n<i.length;n++)o.clean(i[n])}else i&&"object"==typeof i&&o.clean(i)}}},{"./attributes":74,"fast-isnumeric":23,tinycolor2:58}],76:[function(e,t,n){"use strict";var r=e("../../plots/cartesian/layout_attributes"),i=e("../../plots/font_attributes"),o=e("../../lib/extend").extendFlat,a=e("../../plot_api/edit_types").overrideAll;t.exports=a({thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",dflt:1.02,min:-2,max:3},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number",dflt:.5,min:-2,max:3},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle"},ypad:{valType:"number",min:0,dflt:10},outlinecolor:r.linecolor,outlinewidth:r.linewidth,bordercolor:r.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:r.tickmode,nticks:r.nticks,tick0:r.tick0,dtick:r.dtick,tickvals:r.tickvals,ticktext:r.ticktext,ticks:o({},r.ticks,{dflt:""}),ticklen:r.ticklen,tickwidth:r.tickwidth,tickcolor:r.tickcolor,showticklabels:r.showticklabels,tickfont:i({}),tickangle:r.tickangle,tickformat:r.tickformat,tickformatstops:r.tickformatstops,tickprefix:r.tickprefix,showtickprefix:r.showtickprefix,ticksuffix:r.ticksuffix,showticksuffix:r.showticksuffix,separatethousands:r.separatethousands,exponentformat:r.exponentformat,minexponent:r.minexponent,showexponent:r.showexponent,title:{text:{valType:"string"},font:i({}),side:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}},_deprecated:{title:{valType:"string"},titlefont:i({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},{"../../lib/extend":197,"../../plot_api/edit_types":230,"../../plots/cartesian/layout_attributes":262,"../../plots/font_attributes":276}],77:[function(e,t,n){"use strict";t.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},{}],78:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../plot_api/plot_template"),o=e("../../plots/cartesian/tick_value_defaults"),a=e("../../plots/cartesian/tick_mark_defaults"),s=e("../../plots/cartesian/tick_label_defaults"),l=e("./attributes");t.exports=function(e,t,n){var u=i.newContainer(t,"colorbar"),c=e.colorbar||{};function f(e,t){return r.coerce(c,u,l,e,t)}var d=f("thicknessmode");f("thickness","fraction"===d?30/(n.width-n.margin.l-n.margin.r):30);var p=f("lenmode");f("len","fraction"===p?1:n.height-n.margin.t-n.margin.b),f("x"),f("xanchor"),f("xpad"),f("y"),f("yanchor"),f("ypad"),r.noneOrAll(c,u,["x","y"]),f("outlinecolor"),f("outlinewidth"),f("bordercolor"),f("borderwidth"),f("bgcolor"),o(c,u,f,"linear");var h={outerTicks:!1,font:n.font};s(c,u,f,"linear",h),a(c,u,f,"linear",h),f("title.text",n._dfltTitle.colorbar),r.coerceFont(f,"title.font",n.font),f("title.side")}},{"../../lib":203,"../../plot_api/plot_template":237,"../../plots/cartesian/tick_label_defaults":269,"../../plots/cartesian/tick_mark_defaults":270,"../../plots/cartesian/tick_value_defaults":271,"./attributes":76}],79:[function(e,t,n){"use strict";var r=e("d3"),i=e("tinycolor2"),o=e("../../plots/plots"),a=e("../../registry"),s=e("../../plots/cartesian/axes"),l=e("../dragelement"),u=e("../../lib"),c=e("../../lib/extend").extendFlat,f=e("../../lib/setcursor"),d=e("../drawing"),p=e("../color"),h=e("../titles"),g=e("../../lib/svg_text_utils"),m=e("../colorscale/helpers").flipScale,y=e("../../plots/cartesian/axis_defaults"),v=e("../../plots/cartesian/position_defaults"),b=e("../../plots/cartesian/layout_attributes"),x=e("../../constants/alignment"),_=x.LINE_SPACING,w=x.FROM_TL,k=x.FROM_BR,T=e("./constants").cn;t.exports={draw:function(e){var t=e._fullLayout._infolayer.selectAll("g."+T.colorbar).data(function(e){var t,n,r,i,o=e._fullLayout,a=e.calcdata,s=[];function l(e){return c(e,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function u(){"function"==typeof i.calc?i.calc(e,r,t):(t._fillgradient=n.reversescale?m(n.colorscale):n.colorscale,t._zrange=[n[i.min],n[i.max]])}for(var f=0;f<a.length;f++){var d=a[f],p=(r=d[0].trace)._module.colorbar;if(!0===r.visible&&p)for(var h=Array.isArray(p),g=h?p:[p],y=0;y<g.length;y++){var v=(i=g[y]).container;(n=v?r[v]:r)&&n.showscale&&((t=l(n.colorbar))._id="cb"+r.uid+(h&&v?"-"+v:""),t._traceIndex=r.index,t._propPrefix=(v?v+".":"")+"colorbar.",t._meta=r._meta,u(),s.push(t))}}for(var b in o._colorAxes)if((n=o[b]).showscale){var x=o._colorAxes[b];(t=l(n.colorbar))._id="cb"+b,t._propPrefix=b+".colorbar.",t._meta=o._meta,i={min:"cmin",max:"cmax"},"heatmap"!==x[0]&&(r=x[1],i.calc=r._module.colorbar.calc),u(),s.push(t)}return s}(e),(function(e){return e._id}));t.enter().append("g").attr("class",(function(e){return e._id})).classed(T.colorbar,!0),t.each((function(t){var n=r.select(this);u.ensureSingle(n,"rect",T.cbbg),u.ensureSingle(n,"g",T.cbfills),u.ensureSingle(n,"g",T.cblines),u.ensureSingle(n,"g",T.cbaxis,(function(e){e.classed(T.crisp,!0)})),u.ensureSingle(n,"g",T.cbtitleunshift,(function(e){e.append("g").classed(T.cbtitle,!0)})),u.ensureSingle(n,"rect",T.cboutline);var m=function(e,t,n){var a=n._fullLayout,l=a._size,f=t._fillcolor,m=t._line,x=t.title,C=x.side,O=t._zrange||r.extent(("function"==typeof f?f:m.color).domain()),S="function"==typeof m.color?m.color:function(){return m.color},A="function"==typeof f?f:function(){return f},M=t._levels,E=function(e,t,n){var r,i,o=t._levels,a=[],s=[],l=o.end+o.size/100,u=o.size,c=1.001*n[0]-.001*n[1],f=1.001*n[1]-.001*n[0];for(i=0;i<1e5&&(r=o.start+i*u,!(u>0?r>=l:r<=l));i++)r>c&&r<f&&a.push(r);if(t._fillgradient)s=[0];else if("function"==typeof t._fillcolor){var d=t._filllevels;if(d)for(l=d.end+d.size/100,u=d.size,i=0;i<1e5&&(r=d.start+i*u,!(u>0?r>=l:r<=l));i++)r>n[0]&&r<n[1]&&s.push(r);else(s=a.map((function(e){return e-o.size/2}))).push(s[s.length-1]+o.size)}else t._fillcolor&&"string"==typeof t._fillcolor&&(s=[0]);return o.size<0&&(a.reverse(),s.reverse()),{line:a,fill:s}}(0,t,O),P=E.fill,D=E.line,L=Math.round(t.thickness*("fraction"===t.thicknessmode?l.w:1)),R=L/l.w,I=Math.round(t.len*("fraction"===t.lenmode?l.h:1)),N=I/l.h,j=t.xpad/l.w,z=(t.borderwidth+t.outlinewidth)/2,q=t.ypad/l.h,F=Math.round(t.x*l.w+t.xpad),B=t.x-R*({middle:.5,right:1}[t.xanchor]||0),H=t.y+N*(({top:-.5,bottom:.5}[t.yanchor]||0)-.5),U=Math.round(l.h*(1-H)),V=U-I;t._lenFrac=N,t._thickFrac=R,t._xLeftFrac=B,t._yBottomFrac=H;var W=t._axis=function(e,t,n){var r=e._fullLayout,i={type:"linear",range:n,tickmode:t.tickmode,nticks:t.nticks,tick0:t.tick0,dtick:t.dtick,tickvals:t.tickvals,ticktext:t.ticktext,ticks:t.ticks,ticklen:t.ticklen,tickwidth:t.tickwidth,tickcolor:t.tickcolor,showticklabels:t.showticklabels,tickfont:t.tickfont,tickangle:t.tickangle,tickformat:t.tickformat,exponentformat:t.exponentformat,minexponent:t.minexponent,separatethousands:t.separatethousands,showexponent:t.showexponent,showtickprefix:t.showtickprefix,tickprefix:t.tickprefix,showticksuffix:t.showticksuffix,ticksuffix:t.ticksuffix,title:t.title,showline:!0,anchor:"free",side:"right",position:1},o={type:"linear",_id:"y"+t._id},a={letter:"y",font:r.font,noHover:!0,noTickson:!0,noTicklabelmode:!0,calendar:r.calendar};function s(e,t){return u.coerce(i,o,b,e,t)}return y(i,o,s,a,r),v(i,o,s,a),o}(n,t,O);if(W.position=t.x+j+R,-1!==["top","bottom"].indexOf(C)&&(W.title.side=C,W.titlex=t.x+j,W.titley=H+("top"===x.side?N-q:q)),m.color&&"auto"===t.tickmode){W.tickmode="linear",W.tick0=M.start;var G=M.size,K=u.constrain((U-V)/50,4,15)+1,Y=(O[1]-O[0])/((t.nticks||K)*G);if(Y>1){var Z=Math.pow(10,Math.floor(Math.log(Y)/Math.LN10));G*=Z*u.roundUp(Y/Z,[2,5,10]),(Math.abs(M.start)/M.size+1e-6)%1<2e-6&&(W.tick0=0)}W.dtick=G}W.domain=[H+q,H+N-q],W.setScale(),e.attr("transform","translate("+Math.round(l.l)+","+Math.round(l.t)+")");var X,$=e.select("."+T.cbtitleunshift).attr("transform","translate(-"+Math.round(l.l)+",-"+Math.round(l.t)+")"),J=e.select("."+T.cbaxis),Q=0;function ee(r,i){var o={propContainer:W,propName:t._propPrefix+"title",traceIndex:t._traceIndex,_meta:t._meta,placeholder:a._dfltTitle.colorbar,containerGroup:e.select("."+T.cbtitle)},s="h"===r.charAt(0)?r.substr(1):"h"+r;e.selectAll("."+s+",."+s+"-math-group").remove(),h.draw(n,r,c(o,i||{}))}function te(){if(-1!==["top","bottom"].indexOf(C)){var e,n=l.l+(t.x+j)*l.w,r=W.title.font.size;e="top"===C?(1-(H+N-q))*l.h+l.t+3+.75*r:(1-(H+q))*l.h+l.t-3-.25*r,ee(W._id+"title",{attributes:{x:n,y:e,"text-anchor":"start"}})}}function ne(){if(-1===["top","bottom"].indexOf(C)){var e=W.title.font.size,t=W._offset+W._length/2,i=l.l+(W.position||0)*l.w+("right"===W.side?10+e*(W.showticklabels?1:.5):-10-e*(W.showticklabels?.5:0));ee("h"+W._id+"title",{avoid:{selection:r.select(n).selectAll("g."+W._id+"tick"),side:C,offsetLeft:l.l,offsetTop:0,maxShift:a.width},attributes:{x:i,y:t,"text-anchor":"middle"},transform:{rotate:"-90",offset:0}})}}function re(){if(-1!==["top","bottom"].indexOf(C)){var o=e.select("."+T.cbtitle),a=o.select("text"),c=[-t.outlinewidth/2,t.outlinewidth/2],f=o.select(".h"+W._id+"title-math-group").node(),p=15.6;if(a.node()&&(p=parseInt(a.node().style.fontSize,10)*_),f?(Q=d.bBox(f).height)>p&&(c[1]-=(Q-p)/2):a.node()&&!a.classed(T.jsPlaceholder)&&(Q=d.bBox(a.node()).height),Q){if(Q+=5,"top"===C)W.domain[1]-=Q/l.h,c[1]*=-1;else{W.domain[0]+=Q/l.h;var h=g.lineCount(a);c[1]+=(1-h)*p}o.attr("transform","translate("+c+")"),W.setScale()}}e.selectAll("."+T.cbfills+",."+T.cblines).attr("transform","translate(0,"+Math.round(l.h*(1-W.domain[1]))+")"),J.attr("transform","translate(0,"+Math.round(-l.t)+")");var y=e.select("."+T.cbfills).selectAll("rect."+T.cbfill).attr("style","").data(P);y.enter().append("rect").classed(T.cbfill,!0).style("stroke","none"),y.exit().remove();var v=O.map(W.c2p).map(Math.round).sort((function(e,t){return e-t}));y.each((function(e,o){var a=[0===o?O[0]:(P[o]+P[o-1])/2,o===P.length-1?O[1]:(P[o]+P[o+1])/2].map(W.c2p).map(Math.round);a[1]=u.constrain(a[1]+(a[1]>a[0])?1:-1,v[0],v[1]);var s=r.select(this).attr({x:F,width:Math.max(L,2),y:r.min(a),height:Math.max(r.max(a)-r.min(a),2)});if(t._fillgradient)d.gradient(s,n,t._id,"vertical",t._fillgradient,"fill");else{var l=A(e).replace("e-","");s.attr("fill",i(l).toHexString())}}));var b=e.select("."+T.cblines).selectAll("path."+T.cbline).data(m.color&&m.width?D:[]);b.enter().append("path").classed(T.cbline,!0),b.exit().remove(),b.each((function(e){r.select(this).attr("d","M"+F+","+(Math.round(W.c2p(e))+m.width/2%1)+"h"+L).call(d.lineGroupStyle,m.width,S(e),m.dash)})),J.selectAll("g."+W._id+"tick,path").remove();var x=F+L+(t.outlinewidth||0)/2-("outside"===t.ticks?1:0),w=s.calcTicks(W),k=s.makeTransFn(W),M=s.getTickSigns(W)[2];return s.drawTicks(n,W,{vals:"inside"===W.ticks?s.clipEnds(W,w):w,layer:J,path:s.makeTickPath(W,x,M),transFn:k}),s.drawLabels(n,W,{vals:w,layer:J,transFn:k,labelFns:s.makeLabelFns(W,x)})}function ie(){var r=L+t.outlinewidth/2+d.bBox(J.node()).width;if((X=$.select("text")).node()&&!X.classed(T.jsPlaceholder)){var i,a=$.select(".h"+W._id+"title-math-group").node();i=a&&-1!==["top","bottom"].indexOf(C)?d.bBox(a).width:d.bBox($.node()).right-F-l.l,r=Math.max(r,i)}var s=2*t.xpad+r+t.borderwidth+t.outlinewidth/2,u=U-V;e.select("."+T.cbbg).attr({x:F-t.xpad-(t.borderwidth+t.outlinewidth)/2,y:V-z,width:Math.max(s,2),height:Math.max(u+2*z,2)}).call(p.fill,t.bgcolor).call(p.stroke,t.bordercolor).style("stroke-width",t.borderwidth),e.selectAll("."+T.cboutline).attr({x:F,y:V+t.ypad+("top"===C?Q:0),width:Math.max(L,2),height:Math.max(u-2*t.ypad-Q,2)}).call(p.stroke,t.outlinecolor).style({fill:"none","stroke-width":t.outlinewidth});var c=({center:.5,right:1}[t.xanchor]||0)*s;e.attr("transform","translate("+(l.l-c)+","+l.t+")");var f={},h=w[t.yanchor],g=k[t.yanchor];"pixels"===t.lenmode?(f.y=t.y,f.t=u*h,f.b=u*g):(f.t=f.b=0,f.yt=t.y+t.len*h,f.yb=t.y-t.len*g);var m=w[t.xanchor],y=k[t.xanchor];if("pixels"===t.thicknessmode)f.x=t.x,f.l=s*m,f.r=s*y;else{var v=s-L;f.l=v*m,f.r=v*y,f.xl=t.x-t.thickness*m,f.xr=t.x+t.thickness*y}o.autoMargin(n,t._id,f)}return u.syncOrAsync([o.previousPromises,te,re,ne,o.previousPromises,ie],n)}(n,t,e);m&&m.then&&(e._promises||[]).push(m),e._context.edits.colorbarPosition&&function(e,t,n){var r,i,o,s=n._fullLayout._size;l.init({element:e.node(),gd:n,prepFn:function(){r=e.attr("transform"),f(e)},moveFn:function(n,a){e.attr("transform",r+" translate("+n+","+a+")"),i=l.align(t._xLeftFrac+n/s.w,t._thickFrac,0,1,t.xanchor),o=l.align(t._yBottomFrac-a/s.h,t._lenFrac,0,1,t.yanchor);var u=l.getCursor(i,o,t.xanchor,t.yanchor);f(e,u)},doneFn:function(){if(f(e),void 0!==i&&void 0!==o){var r={};r[t._propPrefix+"x"]=i,r[t._propPrefix+"y"]=o,void 0!==t._traceIndex?a.call("_guiRestyle",n,r,t._traceIndex):a.call("_guiRelayout",n,r)}}})}(n,t,e)})),t.exit().each((function(t){o.autoMargin(e,t._id)})).remove(),t.order()}}},{"../../constants/alignment":177,"../../lib":203,"../../lib/extend":197,"../../lib/setcursor":222,"../../lib/svg_text_utils":224,"../../plots/cartesian/axes":248,"../../plots/cartesian/axis_defaults":250,"../../plots/cartesian/layout_attributes":262,"../../plots/cartesian/position_defaults":265,"../../plots/plots":282,"../../registry":295,"../color":75,"../colorscale/helpers":86,"../dragelement":94,"../drawing":97,"../titles":170,"./constants":77,d3:21,tinycolor2:58}],80:[function(e,t,n){"use strict";var r=e("../../lib");t.exports=function(e){return r.isPlainObject(e.colorbar)}},{"../../lib":203}],81:[function(e,t,n){"use strict";t.exports={moduleType:"component",name:"colorbar",attributes:e("./attributes"),supplyDefaults:e("./defaults"),draw:e("./draw").draw,hasColorbar:e("./has_colorbar")}},{"./attributes":76,"./defaults":78,"./draw":79,"./has_colorbar":80}],82:[function(e,t,n){"use strict";var r=e("../colorbar/attributes"),i=e("../../lib/regex").counter,o=e("./scales.js").scales;function a(e){return"`"+e+"`"}Object.keys(o),t.exports=function(e,t){e=e||"";var n,s=(t=t||{}).cLetter||"c",l=("onlyIfNumerical"in t?t.onlyIfNumerical:Boolean(e),"noScale"in t?t.noScale:"marker.line"===e),u="showScaleDflt"in t?t.showScaleDflt:"z"===s,c="string"==typeof t.colorscaleDflt?o[t.colorscaleDflt]:null,f=t.editTypeOverride||"",d=e?e+".":"";"colorAttr"in t?(n=t.colorAttr,t.colorAttr):a(d+(n={z:"z",c:"color"}[s]));var p=s+"auto",h=s+"min",g=s+"max",m=s+"mid",y=(a(d+p),a(d+h),a(d+g),{});y[h]=y[g]=void 0;var v={};v[p]=!1;var b={};return"color"===n&&(b.color={valType:"color",arrayOk:!0,editType:f||"style"},t.anim&&(b.color.anim=!0)),b[p]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:y},b[h]={valType:"number",dflt:null,editType:f||"plot",impliedEdits:v},b[g]={valType:"number",dflt:null,editType:f||"plot",impliedEdits:v},b[m]={valType:"number",dflt:null,editType:"calc",impliedEdits:y},b.colorscale={valType:"colorscale",editType:"calc",dflt:c,impliedEdits:{autocolorscale:!1}},b.autocolorscale={valType:"boolean",dflt:!1!==t.autoColorDflt,editType:"calc",impliedEdits:{colorscale:void 0}},b.reversescale={valType:"boolean",dflt:!1,editType:"plot"},l||(b.showscale={valType:"boolean",dflt:u,editType:"calc"},b.colorbar=r),t.noColorAxis||(b.coloraxis={valType:"subplotid",regex:i("coloraxis"),dflt:null,editType:"calc"}),b}},{"../../lib/regex":218,"../colorbar/attributes":76,"./scales.js":90}],83:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../../lib"),o=e("./helpers").extractOpts;t.exports=function(e,t,n){var a,s=e._fullLayout,l=n.vals,u=n.containerStr,c=u?i.nestedProperty(t,u).get():t,f=o(c),d=!1!==f.auto,p=f.min,h=f.max,g=f.mid,m=function(){return i.aggNums(Math.min,null,l)},y=function(){return i.aggNums(Math.max,null,l)};void 0===p?p=m():d&&(p=c._colorAx&&r(p)?Math.min(p,m()):m()),void 0===h?h=y():d&&(h=c._colorAx&&r(h)?Math.max(h,y()):y()),d&&void 0!==g&&(h-g>g-p?p=g-(h-g):h-g<g-p&&(h=g+(g-p))),p===h&&(p-=.5,h+=.5),f._sync("min",p),f._sync("max",h),f.autocolorscale&&(a=p*h<0?s.colorscale.diverging:p>=0?s.colorscale.sequential:s.colorscale.sequentialminus,f._sync("colorscale",a))}},{"../../lib":203,"./helpers":86,"fast-isnumeric":23}],84:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("./helpers").hasColorscale,o=e("./helpers").extractOpts;t.exports=function(e,t){function n(e,t){var n=e["_"+t];void 0!==n&&(e[t]=n)}function a(e,i){var a=i.container?r.nestedProperty(e,i.container).get():e;if(a)if(a.coloraxis)a._colorAx=t[a.coloraxis];else{var s=o(a),l=s.auto;(l||void 0===s.min)&&n(a,i.min),(l||void 0===s.max)&&n(a,i.max),s.autocolorscale&&n(a,"colorscale")}}for(var s=0;s<e.length;s++){var l=e[s],u=l._module.colorbar;if(u)if(Array.isArray(u))for(var c=0;c<u.length;c++)a(l,u[c]);else a(l,u);i(l,"marker.line")&&a(l,{container:"marker.line",min:"cmin",max:"cmax"})}for(var f in t._colorAxes)a(t[f],{min:"cmin",max:"cmax"})}},{"../../lib":203,"./helpers":86}],85:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../../lib"),o=e("../colorbar/has_colorbar"),a=e("../colorbar/defaults"),s=e("./scales").isValid,l=e("../../registry").traceIs;function u(e,t){var n=t.slice(0,t.length-1);return t?i.nestedProperty(e,n).get()||{}:e}t.exports=function e(t,n,c,f,d){var p=d.prefix,h=d.cLetter,g="_module"in n,m=u(t,p),y=u(n,p),v=u(n._template||{},p)||{},b=function(){return delete t.coloraxis,delete n.coloraxis,e(t,n,c,f,d)};if(g){var x=c._colorAxes||{},_=f(p+"coloraxis");if(_){var w=l(n,"contour")&&i.nestedProperty(n,"contours.coloring").get()||"heatmap",k=x[_];return void(k?(k[2].push(b),k[0]!==w&&(k[0]=!1,i.warn(["Ignoring coloraxis:",_,"setting","as it is linked to incompatible colorscales."].join(" ")))):x[_]=[w,n,[b]])}}var T=m[h+"min"],C=m[h+"max"],O=r(T)&&r(C)&&T<C;f(p+h+"auto",!O)?f(p+h+"mid"):(f(p+h+"min"),f(p+h+"max"));var S,A,M=m.colorscale,E=v.colorscale;void 0!==M&&(S=!s(M)),void 0!==E&&(S=!s(E)),f(p+"autocolorscale",S),f(p+"colorscale"),f(p+"reversescale"),"marker.line."!==p&&(p&&g&&(A=o(m)),f(p+"showscale",A)&&(p&&v&&(y._template=v),a(m,y,c)))}},{"../../lib":203,"../../registry":295,"../colorbar/defaults":78,"../colorbar/has_colorbar":80,"./scales":90,"fast-isnumeric":23}],86:[function(e,t,n){"use strict";var r=e("d3"),i=e("tinycolor2"),o=e("fast-isnumeric"),a=e("../../lib"),s=e("../color"),l=e("./scales").isValid;var u=["showscale","autocolorscale","colorscale","reversescale","colorbar"],c=["min","max","mid","auto"];function f(e){var t,n,r,i=e._colorAx,o=i||e,a={};for(n=0;n<u.length;n++)a[r=u[n]]=o[r];if(i)for(t="c",n=0;n<c.length;n++)a[r=c[n]]=o["c"+r];else{var s;for(n=0;n<c.length;n++)((s="c"+(r=c[n]))in o||(s="z"+r)in o)&&(a[r]=o[s]);t=s.charAt(0)}return a._sync=function(e,n){var r=-1!==c.indexOf(e)?t+e:e;o[r]=o["_"+r]=n},a}function d(e){for(var t=f(e),n=t.min,r=t.max,i=t.reversescale?p(t.colorscale):t.colorscale,o=i.length,a=new Array(o),s=new Array(o),l=0;l<o;l++){var u=i[l];a[l]=n+u[0]*(r-n),s[l]=u[1]}return{domain:a,range:s}}function p(e){for(var t=e.length,n=new Array(t),r=t-1,i=0;r>=0;r--,i++){var o=e[r];n[i]=[1-o[0],o[1]]}return n}function h(e,t){t=t||{};for(var n=e.domain,a=e.range,l=a.length,u=new Array(l),c=0;c<l;c++){var f=i(a[c]).toRgb();u[c]=[f.r,f.g,f.b,f.a]}var d,p=r.scale.linear().domain(n).range(u).clamp(!0),h=t.noNumericCheck,m=t.returnArray;return(d=h&&m?p:h?function(e){return g(p(e))}:m?function(e){return o(e)?p(e):i(e).isValid()?e:s.defaultLine}:function(e){return o(e)?g(p(e)):i(e).isValid()?e:s.defaultLine}).domain=p.domain,d.range=function(){return a},d}function g(e){var t={r:e[0],g:e[1],b:e[2],a:e[3]};return i(t).toRgbString()}t.exports={hasColorscale:function(e,t,n){var r=t?a.nestedProperty(e,t).get()||{}:e,i=r[n||"color"],s=!1;if(a.isArrayOrTypedArray(i))for(var u=0;u<i.length;u++)if(o(i[u])){s=!0;break}return a.isPlainObject(r)&&(s||!0===r.showscale||o(r.cmin)&&o(r.cmax)||l(r.colorscale)||a.isPlainObject(r.colorbar))},extractOpts:f,extractScale:d,flipScale:p,makeColorScaleFunc:h,makeColorScaleFuncFromTrace:function(e,t){return h(d(e),t)}}},{"../../lib":203,"../color":75,"./scales":90,d3:21,"fast-isnumeric":23,tinycolor2:58}],87:[function(e,t,n){"use strict";var r=e("./scales"),i=e("./helpers");t.exports={moduleType:"component",name:"colorscale",attributes:e("./attributes"),layoutAttributes:e("./layout_attributes"),supplyLayoutDefaults:e("./layout_defaults"),handleDefaults:e("./defaults"),crossTraceDefaults:e("./cross_trace_defaults"),calc:e("./calc"),scales:r.scales,defaultScale:r.defaultScale,getScale:r.get,isValidScale:r.isValid,hasColorscale:i.hasColorscale,extractOpts:i.extractOpts,extractScale:i.extractScale,flipScale:i.flipScale,makeColorScaleFunc:i.makeColorScaleFunc,makeColorScaleFuncFromTrace:i.makeColorScaleFuncFromTrace}},{"./attributes":82,"./calc":83,"./cross_trace_defaults":84,"./defaults":85,"./helpers":86,"./layout_attributes":88,"./layout_defaults":89,"./scales":90}],88:[function(e,t,n){"use strict";var r=e("../../lib/extend").extendFlat,i=e("./attributes"),o=e("./scales").scales;t.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:o.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:o.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:o.RdBu,editType:"calc"}},coloraxis:r({_isSubplotObj:!0,editType:"calc"},i("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},{"../../lib/extend":197,"./attributes":82,"./scales":90}],89:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../plot_api/plot_template"),o=e("./layout_attributes"),a=e("./defaults");t.exports=function(e,t){function n(n,i){return r.coerce(e,t,o,n,i)}n("colorscale.sequential"),n("colorscale.sequentialminus"),n("colorscale.diverging");var s,l,u=t._colorAxes;function c(e,t){return r.coerce(s,l,o.coloraxis,e,t)}for(var f in u){var d=u[f];if(d[0])s=e[f]||{},(l=i.newContainer(t,f,"coloraxis"))._name=f,a(s,l,t,c,{prefix:"",cLetter:"c"});else{for(var p=0;p<d[2].length;p++)d[2][p]();delete t._colorAxes[f]}}}},{"../../lib":203,"../../plot_api/plot_template":237,"./defaults":85,"./layout_attributes":88}],90:[function(e,t,n){"use strict";var r=e("tinycolor2"),i={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},o=i.RdBu;function a(e){var t=0;if(!Array.isArray(e)||e.length<2)return!1;if(!e[0]||!e[e.length-1])return!1;if(0!=+e[0][0]||1!=+e[e.length-1][0])return!1;for(var n=0;n<e.length;n++){var i=e[n];if(2!==i.length||+i[0]<t||!r(i[1]).isValid())return!1;t=+i[0]}return!0}t.exports={scales:i,defaultScale:o,get:function(e,t){if(t||(t=o),!e)return t;function n(){try{e=i[e]||JSON.parse(e)}catch(n){e=t}}return"string"==typeof e&&(n(),"string"==typeof e&&n()),a(e)?e:t},isValid:function(e){return void 0!==i[e]||a(e)}}},{tinycolor2:58}],91:[function(e,t,n){"use strict";t.exports=function(e,t,n,r,i){var o=(e-n)/(r-n),a=o+t/(r-n),s=(o+a)/2;return"left"===i||"bottom"===i?o:"center"===i||"middle"===i?s:"right"===i||"top"===i?a:o<2/3-s?o:a>4/3-s?a:s}},{}],92:[function(e,t,n){"use strict";var r=e("../../lib"),i=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];t.exports=function(e,t,n,o){return e="left"===n?0:"center"===n?1:"right"===n?2:r.constrain(Math.floor(3*e),0,2),t="bottom"===o?0:"middle"===o?1:"top"===o?2:r.constrain(Math.floor(3*t),0,2),i[t][e]}},{"../../lib":203}],93:[function(e,t,n){"use strict";n.selectMode=function(e){return"lasso"===e||"select"===e},n.drawMode=function(e){return"drawclosedpath"===e||"drawopenpath"===e||"drawline"===e||"drawrect"===e||"drawcircle"===e},n.openMode=function(e){return"drawline"===e||"drawopenpath"===e},n.rectMode=function(e){return"select"===e||"drawline"===e||"drawrect"===e||"drawcircle"===e},n.freeMode=function(e){return"lasso"===e||"drawclosedpath"===e||"drawopenpath"===e},n.selectingOrDrawing=function(e){return n.freeMode(e)||n.rectMode(e)}},{}],94:[function(e,t,n){"use strict";var r=e("mouse-event-offset"),i=e("has-hover"),o=e("has-passive-events"),a=e("../../lib").removeElement,s=e("../../plots/cartesian/constants"),l=t.exports={};l.align=e("./align"),l.getCursor=e("./cursor");var u=e("./unhover");function c(){var e=document.createElement("div");e.className="dragcover";var t=e.style;return t.position="fixed",t.left=0,t.right=0,t.top=0,t.bottom=0,t.zIndex=999999999,t.background="none",document.body.appendChild(e),e}function f(e){return r(e.changedTouches?e.changedTouches[0]:e,document.body)}l.unhover=u.wrapped,l.unhoverRaw=u.raw,l.init=function(e){var t,n,r,u,d,p,h,g,m=e.gd,y=1,v=m._context.doubleClickDelay,b=e.element;m._mouseDownTime||(m._mouseDownTime=0),b.style.pointerEvents="all",b.onmousedown=_,o?(b._ontouchstart&&b.removeEventListener("touchstart",b._ontouchstart),b._ontouchstart=_,b.addEventListener("touchstart",_,{passive:!1})):b.ontouchstart=_;var x=e.clampFn||function(e,t,n){return Math.abs(e)<n&&(e=0),Math.abs(t)<n&&(t=0),[e,t]};function _(o){m._dragged=!1,m._dragging=!0;var a=f(o);t=a[0],n=a[1],h=o.target,p=o,g=2===o.buttons||o.ctrlKey,void 0===o.clientX&&void 0===o.clientY&&(o.clientX=t,o.clientY=n),(r=(new Date).getTime())-m._mouseDownTime<v?y+=1:(y=1,m._mouseDownTime=r),e.prepFn&&e.prepFn(o,t,n),i&&!g?(d=c()).style.cursor=window.getComputedStyle(b).cursor:i||(d=document,u=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(b).cursor),document.addEventListener("mouseup",k),document.addEventListener("touchend",k),!1!==e.dragmode&&(o.preventDefault(),document.addEventListener("mousemove",w),document.addEventListener("touchmove",w,{passive:!1}))}function w(r){r.preventDefault();var i=f(r),o=e.minDrag||s.MINDRAG,a=x(i[0]-t,i[1]-n,o),u=a[0],c=a[1];(u||c)&&(m._dragged=!0,l.unhover(m)),m._dragged&&e.moveFn&&!g&&(m._dragdata={element:b,dx:u,dy:c},e.moveFn(u,c))}function k(t){if(delete m._dragdata,!1!==e.dragmode&&(t.preventDefault(),document.removeEventListener("mousemove",w),document.removeEventListener("touchmove",w)),document.removeEventListener("mouseup",k),document.removeEventListener("touchend",k),i?a(d):u&&(d.documentElement.style.cursor=u,u=null),m._dragging){if(m._dragging=!1,(new Date).getTime()-m._mouseDownTime>v&&(y=Math.max(y-1,1)),m._dragged)e.doneFn&&e.doneFn();else if(e.clickFn&&e.clickFn(y,p),!g){var n;try{n=new MouseEvent("click",t)}catch(e){var r=f(t);(n=document.createEvent("MouseEvents")).initMouseEvent("click",t.bubbles,t.cancelable,t.view,t.detail,t.screenX,t.screenY,r[0],r[1],t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget)}h.dispatchEvent(n)}m._dragging=!1,m._dragged=!1}else m._dragged=!1}},l.coverSlip=c},{"../../lib":203,"../../plots/cartesian/constants":254,"./align":91,"./cursor":92,"./unhover":95,"has-hover":25,"has-passive-events":26,"mouse-event-offset":46}],95:[function(e,t,n){"use strict";var r=e("../../lib/events"),i=e("../../lib/throttle"),o=e("../../lib/dom").getGraphDiv,a=e("../fx/constants"),s=t.exports={};s.wrapped=function(e,t,n){(e=o(e))._fullLayout&&i.clear(e._fullLayout._uid+a.HOVERID),s.raw(e,t,n)},s.raw=function(e,t){var n=e._fullLayout,i=e._hoverdata;t||(t={}),t.target&&!1===r.triggerHandler(e,"plotly_beforehover",t)||(n._hoverlayer.selectAll("g").remove(),n._hoverlayer.selectAll("line").remove(),n._hoverlayer.selectAll("circle").remove(),e._hoverdata=void 0,t.target&&i&&e.emit("plotly_unhover",{event:t,points:i}))}},{"../../lib/dom":195,"../../lib/events":196,"../../lib/throttle":225,"../fx/constants":109}],96:[function(e,t,n){"use strict";n.dash={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"}},{}],97:[function(e,t,n){"use strict";var r=e("d3"),i=e("fast-isnumeric"),o=e("tinycolor2"),a=e("../../registry"),s=e("../color"),l=e("../colorscale"),u=e("../../lib"),c=e("../../lib/svg_text_utils"),f=e("../../constants/xmlns_namespaces"),d=e("../../constants/alignment").LINE_SPACING,p=e("../../constants/interactions").DESELECTDIM,h=e("../../traces/scatter/subtypes"),g=e("../../traces/scatter/make_bubble_size_func"),m=e("../../components/fx/helpers").appendArrayPointValue,y=t.exports={};y.font=function(e,t,n,r){u.isPlainObject(t)&&(r=t.color,n=t.size,t=t.family),t&&e.style("font-family",t),n+1&&e.style("font-size",n+"px"),r&&e.call(s.fill,r)},y.setPosition=function(e,t,n){e.attr("x",t).attr("y",n)},y.setSize=function(e,t,n){e.attr("width",t).attr("height",n)},y.setRect=function(e,t,n,r,i){e.call(y.setPosition,t,n).call(y.setSize,r,i)},y.translatePoint=function(e,t,n,r){var o=n.c2p(e.x),a=r.c2p(e.y);return!!(i(o)&&i(a)&&t.node())&&("text"===t.node().nodeName?t.attr("x",o).attr("y",a):t.attr("transform","translate("+o+","+a+")"),!0)},y.translatePoints=function(e,t,n){e.each((function(e){var i=r.select(this);y.translatePoint(e,i,t,n)}))},y.hideOutsideRangePoint=function(e,t,n,r,i,o){t.attr("display",n.isPtWithinRange(e,i)&&r.isPtWithinRange(e,o)?null:"none")},y.hideOutsideRangePoints=function(e,t){if(t._hasClipOnAxisFalse){var n=t.xaxis,i=t.yaxis;e.each((function(t){var o=t[0].trace,s=o.xcalendar,l=o.ycalendar,u=a.traceIs(o,"bar-like")?".bartext":".point,.textpoint";e.selectAll(u).each((function(e){y.hideOutsideRangePoint(e,r.select(this),n,i,s,l)}))}))}},y.crispRound=function(e,t,n){return t&&i(t)?e._context.staticPlot?t:t<1?1:Math.round(t):n||0},y.singleLineStyle=function(e,t,n,r,i){t.style("fill","none");var o=(((e||[])[0]||{}).trace||{}).line||{},a=n||o.width||0,l=i||o.dash||"";s.stroke(t,r||o.color),y.dashLine(t,l,a)},y.lineGroupStyle=function(e,t,n,i){e.style("fill","none").each((function(e){var o=(((e||[])[0]||{}).trace||{}).line||{},a=t||o.width||0,l=i||o.dash||"";r.select(this).call(s.stroke,n||o.color).call(y.dashLine,l,a)}))},y.dashLine=function(e,t,n){n=+n||0,t=y.dashStyle(t,n),e.style({"stroke-dasharray":t,"stroke-width":n+"px"})},y.dashStyle=function(e,t){t=+t||1;var n=Math.max(t,3);return"solid"===e?e="":"dot"===e?e=n+"px,"+n+"px":"dash"===e?e=3*n+"px,"+3*n+"px":"longdash"===e?e=5*n+"px,"+5*n+"px":"dashdot"===e?e=3*n+"px,"+n+"px,"+n+"px,"+n+"px":"longdashdot"===e&&(e=5*n+"px,"+2*n+"px,"+n+"px,"+2*n+"px"),e},y.singleFillStyle=function(e){var t=(((r.select(e.node()).data()[0]||[])[0]||{}).trace||{}).fillcolor;t&&e.call(s.fill,t)},y.fillGroupStyle=function(e){e.style("stroke-width",0).each((function(e){var t=r.select(this);e[0].trace&&t.call(s.fill,e[0].trace.fillcolor)}))};var v=e("./symbol_defs");y.symbolNames=[],y.symbolFuncs=[],y.symbolNeedLines={},y.symbolNoDot={},y.symbolNoFill={},y.symbolList=[],Object.keys(v).forEach((function(e){var t=v[e],n=t.n;y.symbolList.push(n,String(n),e,n+100,String(n+100),e+"-open"),y.symbolNames[n]=e,y.symbolFuncs[n]=t.f,t.needLine&&(y.symbolNeedLines[n]=!0),t.noDot?y.symbolNoDot[n]=!0:y.symbolList.push(n+200,String(n+200),e+"-dot",n+300,String(n+300),e+"-open-dot"),t.noFill&&(y.symbolNoFill[n]=!0)}));var b=y.symbolNames.length;function x(e,t){var n=e%100;return y.symbolFuncs[n](t)+(e>=200?"M0,0.5L0.5,0L0,-0.5L-0.5,0Z":"")}y.symbolNumber=function(e){if(i(e))e=+e;else if("string"==typeof e){var t=0;e.indexOf("-open")>0&&(t=100,e=e.replace("-open","")),e.indexOf("-dot")>0&&(t+=200,e=e.replace("-dot","")),(e=y.symbolNames.indexOf(e))>=0&&(e+=t)}return e%100>=b||e>=400?0:Math.floor(Math.max(e,0))};var _={x1:1,x2:0,y1:0,y2:0},w={x1:0,x2:0,y1:1,y2:0},k=r.format("~.1f"),T={radial:{node:"radialGradient"},radialreversed:{node:"radialGradient",reversed:!0},horizontal:{node:"linearGradient",attrs:_},horizontalreversed:{node:"linearGradient",attrs:_,reversed:!0},vertical:{node:"linearGradient",attrs:w},verticalreversed:{node:"linearGradient",attrs:w,reversed:!0}};y.gradient=function(e,t,n,i,a,l){for(var c=a.length,f=T[i],d=new Array(c),p=0;p<c;p++)f.reversed?d[c-1-p]=[k(100*(1-a[p][0])),a[p][1]]:d[p]=[k(100*a[p][0]),a[p][1]];var h=t._fullLayout,g="g"+h._uid+"-"+n,m=h._defs.select(".gradients").selectAll("#"+g).data([i+d.join(";")],u.identity);m.exit().remove(),m.enter().append(f.node).each((function(){var e=r.select(this);f.attrs&&e.attr(f.attrs),e.attr("id",g);var t=e.selectAll("stop").data(d);t.exit().remove(),t.enter().append("stop"),t.each((function(e){var t=o(e[1]);r.select(this).attr({offset:e[0]+"%","stop-color":s.tinyRGB(t),"stop-opacity":t.getAlpha()})}))})),e.style(l,L(g,t)).style(l+"-opacity",null);var y=function(e){return"."+e.attr("class").replace(/\s/g,".")},v=y(r.select(e.node().parentNode))+">"+y(e);h._gradientUrlQueryParts[v]=1},y.initGradients=function(e){var t=e._fullLayout;u.ensureSingle(t._defs,"g","gradients").selectAll("linearGradient,radialGradient").remove(),t._gradientUrlQueryParts={}},y.pointStyle=function(e,t,n){if(e.size()){var i=y.makePointStyleFns(t);e.each((function(e){y.singlePointStyle(e,r.select(this),t,i,n)}))}},y.singlePointStyle=function(e,t,n,r,i){var o=n.marker,a=o.line;if(t.style("opacity",r.selectedOpacityFn?r.selectedOpacityFn(e):void 0===e.mo?o.opacity:e.mo),r.ms2mrc){var l;l="various"===e.ms||"various"===o.size?3:r.ms2mrc(e.ms),e.mrc=l,r.selectedSizeFn&&(l=e.mrc=r.selectedSizeFn(e));var c=y.symbolNumber(e.mx||o.symbol)||0;e.om=c%200>=100,t.attr("d",x(c,l))}var f,d,p,h=!1;if(e.so)p=a.outlierwidth,d=a.outliercolor,f=o.outliercolor;else{var g=(a||{}).width;p=(e.mlw+1||g+1||(e.trace?(e.trace.marker.line||{}).width:0)+1)-1||0,d="mlc"in e?e.mlcc=r.lineScale(e.mlc):u.isArrayOrTypedArray(a.color)?s.defaultLine:a.color,u.isArrayOrTypedArray(o.color)&&(f=s.defaultLine,h=!0),f="mc"in e?e.mcc=r.markerScale(e.mc):o.color||"rgba(0,0,0,0)",r.selectedColorFn&&(f=r.selectedColorFn(e))}if(e.om)t.call(s.stroke,f).style({"stroke-width":(p||1)+"px",fill:"none"});else{t.style("stroke-width",(e.isBlank?0:p)+"px");var m=o.gradient,v=e.mgt;if(v?h=!0:v=m&&m.type,Array.isArray(v)&&(v=v[0],T[v]||(v=0)),v&&"none"!==v){var b=e.mgc;b?h=!0:b=m.color;var _=n.uid;h&&(_+="-"+e.i),y.gradient(t,i,_,v,[[0,b],[1,f]],"fill")}else s.fill(t,f);p&&s.stroke(t,d)}},y.makePointStyleFns=function(e){var t={},n=e.marker;return t.markerScale=y.tryColorscale(n,""),t.lineScale=y.tryColorscale(n,"line"),a.traceIs(e,"symbols")&&(t.ms2mrc=h.isBubble(e)?g(e):function(){return(n.size||6)/2}),e.selectedpoints&&u.extendFlat(t,y.makeSelectedPointStyleFns(e)),t},y.makeSelectedPointStyleFns=function(e){var t={},n=e.selected||{},r=e.unselected||{},i=e.marker||{},o=n.marker||{},s=r.marker||{},l=i.opacity,c=o.opacity,f=s.opacity,d=void 0!==c,h=void 0!==f;(u.isArrayOrTypedArray(l)||d||h)&&(t.selectedOpacityFn=function(e){var t=void 0===e.mo?i.opacity:e.mo;return e.selected?d?c:t:h?f:p*t});var g=i.color,m=o.color,y=s.color;(m||y)&&(t.selectedColorFn=function(e){var t=e.mcc||g;return e.selected?m||t:y||t});var v=i.size,b=o.size,x=s.size,_=void 0!==b,w=void 0!==x;return a.traceIs(e,"symbols")&&(_||w)&&(t.selectedSizeFn=function(e){var t=e.mrc||v/2;return e.selected?_?b/2:t:w?x/2:t}),t},y.makeSelectedTextStyleFns=function(e){var t={},n=e.selected||{},r=e.unselected||{},i=e.textfont||{},o=n.textfont||{},a=r.textfont||{},l=i.color,u=o.color,c=a.color;return t.selectedTextColorFn=function(e){var t=e.tc||l;return e.selected?u||t:c||(u?t:s.addOpacity(t,p))},t},y.selectedPointStyle=function(e,t){if(e.size()&&t.selectedpoints){var n=y.makeSelectedPointStyleFns(t),i=t.marker||{},o=[];n.selectedOpacityFn&&o.push((function(e,t){e.style("opacity",n.selectedOpacityFn(t))})),n.selectedColorFn&&o.push((function(e,t){s.fill(e,n.selectedColorFn(t))})),n.selectedSizeFn&&o.push((function(e,t){var r=t.mx||i.symbol||0,o=n.selectedSizeFn(t);e.attr("d",x(y.symbolNumber(r),o)),t.mrc2=o})),o.length&&e.each((function(e){for(var t=r.select(this),n=0;n<o.length;n++)o[n](t,e)}))}},y.tryColorscale=function(e,t){var n=t?u.nestedProperty(e,t).get():e;if(n){var r=n.color;if((n.colorscale||n._colorAx)&&u.isArrayOrTypedArray(r))return l.makeColorScaleFuncFromTrace(n)}return u.identity};var C={start:1,end:-1,middle:0,bottom:1,top:-1};function O(e,t,n,i){var o=r.select(e.node().parentNode),a=-1!==t.indexOf("top")?"top":-1!==t.indexOf("bottom")?"bottom":"middle",s=-1!==t.indexOf("left")?"end":-1!==t.indexOf("right")?"start":"middle",l=i?i/.8+1:0,u=(c.lineCount(e)-1)*d+1,f=C[s]*l,p=.75*n+C[a]*l+(C[a]-1)*u*n/2;e.attr("text-anchor",s),o.attr("transform","translate("+f+","+p+")")}function S(e,t){var n=e.ts||t.textfont.size;return i(n)&&n>0?n:0}y.textPointStyle=function(e,t,n){if(e.size()){var i;if(t.selectedpoints){var o=y.makeSelectedTextStyleFns(t);i=o.selectedTextColorFn}var a=t.texttemplate,s=n._fullLayout;e.each((function(e){var o=r.select(this),l=a?u.extractOption(e,t,"txt","texttemplate"):u.extractOption(e,t,"tx","text");if(l||0===l){if(a){var f=t._module.formatLabels?t._module.formatLabels(e,t,s):{},d={};m(d,t,e.i);var p=t._meta||{};l=u.texttemplateString(l,f,s._d3locale,d,e,p)}var h=e.tp||t.textposition,g=S(e,t),v=i?i(e):e.tc||t.textfont.color;o.call(y.font,e.tf||t.textfont.family,g,v).text(l).call(c.convertToTspans,n).call(O,h,g,e.mrc)}else o.remove()}))}},y.selectedTextStyle=function(e,t){if(e.size()&&t.selectedpoints){var n=y.makeSelectedTextStyleFns(t);e.each((function(e){var i=r.select(this),o=n.selectedTextColorFn(e),a=e.tp||t.textposition,l=S(e,t);s.fill(i,o),O(i,a,l,e.mrc2||e.mrc)}))}};function A(e,t,n,i){var o=e[0]-t[0],a=e[1]-t[1],s=n[0]-t[0],l=n[1]-t[1],u=Math.pow(o*o+a*a,.25),c=Math.pow(s*s+l*l,.25),f=(c*c*o-u*u*s)*i,d=(c*c*a-u*u*l)*i,p=3*c*(u+c),h=3*u*(u+c);return[[r.round(t[0]+(p&&f/p),2),r.round(t[1]+(p&&d/p),2)],[r.round(t[0]-(h&&f/h),2),r.round(t[1]-(h&&d/h),2)]]}y.smoothopen=function(e,t){if(e.length<3)return"M"+e.join("L");var n,r="M"+e[0],i=[];for(n=1;n<e.length-1;n++)i.push(A(e[n-1],e[n],e[n+1],t));for(r+="Q"+i[0][0]+" "+e[1],n=2;n<e.length-1;n++)r+="C"+i[n-2][1]+" "+i[n-1][0]+" "+e[n];return r+"Q"+i[e.length-3][1]+" "+e[e.length-1]},y.smoothclosed=function(e,t){if(e.length<3)return"M"+e.join("L")+"Z";var n,r="M"+e[0],i=e.length-1,o=[A(e[i],e[0],e[1],t)];for(n=1;n<i;n++)o.push(A(e[n-1],e[n],e[n+1],t));for(o.push(A(e[i-1],e[i],e[0],t)),n=1;n<=i;n++)r+="C"+o[n-1][1]+" "+o[n][0]+" "+e[n];return r+"C"+o[i][1]+" "+o[0][0]+" "+e[0]+"Z"};var M={hv:function(e,t){return"H"+r.round(t[0],2)+"V"+r.round(t[1],2)},vh:function(e,t){return"V"+r.round(t[1],2)+"H"+r.round(t[0],2)},hvh:function(e,t){return"H"+r.round((e[0]+t[0])/2,2)+"V"+r.round(t[1],2)+"H"+r.round(t[0],2)},vhv:function(e,t){return"V"+r.round((e[1]+t[1])/2,2)+"H"+r.round(t[0],2)+"V"+r.round(t[1],2)}},E=function(e,t){return"L"+r.round(t[0],2)+","+r.round(t[1],2)};y.steps=function(e){var t=M[e]||E;return function(e){for(var n="M"+r.round(e[0][0],2)+","+r.round(e[0][1],2),i=1;i<e.length;i++)n+=t(e[i-1],e[i]);return n}},y.makeTester=function(){var e=u.ensureSingleById(r.select("body"),"svg","js-plotly-tester",(function(e){e.attr(f.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})})),t=u.ensureSingle(e,"path","js-reference-point",(function(e){e.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})}));y.tester=e,y.testref=t},y.savedBBoxes={};var P=0;function D(e){var t=e.getAttribute("data-unformatted");if(null!==t)return t+e.getAttribute("data-math")+e.getAttribute("text-anchor")+e.getAttribute("style")}function L(e,t){if(!e)return null;var n=t._context;return"url('"+(n._exportedPlot?"":n._baseUrl||"")+"#"+e+"')"}y.bBox=function(e,t,n){var i,o,a;if(n||(n=D(e)),n){if(i=y.savedBBoxes[n])return u.extendFlat({},i)}else if(1===e.childNodes.length){var s=e.childNodes[0];if(n=D(s)){var l=+s.getAttribute("x")||0,f=+s.getAttribute("y")||0,d=s.getAttribute("transform");if(!d){var p=y.bBox(s,!1,n);return l&&(p.left+=l,p.right+=l),f&&(p.top+=f,p.bottom+=f),p}if(n+="~"+l+"~"+f+"~"+d,i=y.savedBBoxes[n])return u.extendFlat({},i)}}t?o=e:(a=y.tester.node(),o=e.cloneNode(!0),a.appendChild(o)),r.select(o).attr("transform",null).call(c.positionText,0,0);var h=o.getBoundingClientRect(),g=y.testref.node().getBoundingClientRect();t||a.removeChild(o);var m={height:h.height,width:h.width,left:h.left-g.left,top:h.top-g.top,right:h.right-g.left,bottom:h.bottom-g.top};return P>=1e4&&(y.savedBBoxes={},P=0),n&&(y.savedBBoxes[n]=m),P++,u.extendFlat({},m)},y.setClipUrl=function(e,t,n){e.attr("clip-path",L(t,n))},y.getTranslate=function(e){var t=(e[e.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,(function(e,t,n){return[t,n].join(" ")})).split(" ");return{x:+t[0]||0,y:+t[1]||0}},y.setTranslate=function(e,t,n){var r=e.attr?"attr":"getAttribute",i=e.attr?"attr":"setAttribute",o=e[r]("transform")||"";return t=t||0,n=n||0,o=o.replace(/(\btranslate\(.*?\);?)/,"").trim(),o=(o+=" translate("+t+", "+n+")").trim(),e[i]("transform",o),o},y.getScale=function(e){var t=(e[e.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,(function(e,t,n){return[t,n].join(" ")})).split(" ");return{x:+t[0]||1,y:+t[1]||1}},y.setScale=function(e,t,n){var r=e.attr?"attr":"getAttribute",i=e.attr?"attr":"setAttribute",o=e[r]("transform")||"";return t=t||1,n=n||1,o=o.replace(/(\bscale\(.*?\);?)/,"").trim(),o=(o+=" scale("+t+", "+n+")").trim(),e[i]("transform",o),o};var R=/\s*sc.*/;y.setPointGroupScale=function(e,t,n){if(t=t||1,n=n||1,e){var r=1===t&&1===n?"":" scale("+t+","+n+")";e.each((function(){var e=(this.getAttribute("transform")||"").replace(R,"");e=(e+=r).trim(),this.setAttribute("transform",e)}))}};var I=/translate\([^)]*\)\s*$/;y.setTextPointsScale=function(e,t,n){e&&e.each((function(){var e,i=r.select(this),o=i.select("text");if(o.node()){var a=parseFloat(o.attr("x")||0),s=parseFloat(o.attr("y")||0),l=(i.attr("transform")||"").match(I);e=1===t&&1===n?[]:["translate("+a+","+s+")","scale("+t+","+n+")","translate("+-a+","+-s+")"],l&&e.push(l),i.attr("transform",e.join(" "))}}))}},{"../../components/fx/helpers":111,"../../constants/alignment":177,"../../constants/interactions":181,"../../constants/xmlns_namespaces":183,"../../lib":203,"../../lib/svg_text_utils":224,"../../registry":295,"../../traces/scatter/make_bubble_size_func":433,"../../traces/scatter/subtypes":441,"../color":75,"../colorscale":87,"./symbol_defs":98,d3:21,"fast-isnumeric":23,tinycolor2:58}],98:[function(e,t,n){"use strict";var r=e("d3");t.exports={circle:{n:0,f:function(e){var t=r.round(e,2);return"M"+t+",0A"+t+","+t+" 0 1,1 0,-"+t+"A"+t+","+t+" 0 0,1 "+t+",0Z"}},square:{n:1,f:function(e){var t=r.round(e,2);return"M"+t+","+t+"H-"+t+"V-"+t+"H"+t+"Z"}},diamond:{n:2,f:function(e){var t=r.round(1.3*e,2);return"M"+t+",0L0,"+t+"L-"+t+",0L0,-"+t+"Z"}},cross:{n:3,f:function(e){var t=r.round(.4*e,2),n=r.round(1.2*e,2);return"M"+n+","+t+"H"+t+"V"+n+"H-"+t+"V"+t+"H-"+n+"V-"+t+"H-"+t+"V-"+n+"H"+t+"V-"+t+"H"+n+"Z"}},x:{n:4,f:function(e){var t=r.round(.8*e/Math.sqrt(2),2),n="l"+t+","+t,i="l"+t+",-"+t,o="l-"+t+",-"+t,a="l-"+t+","+t;return"M0,"+t+n+i+o+i+o+a+o+a+n+a+n+"Z"}},"triangle-up":{n:5,f:function(e){var t=r.round(2*e/Math.sqrt(3),2);return"M-"+t+","+r.round(e/2,2)+"H"+t+"L0,-"+r.round(e,2)+"Z"}},"triangle-down":{n:6,f:function(e){var t=r.round(2*e/Math.sqrt(3),2);return"M-"+t+",-"+r.round(e/2,2)+"H"+t+"L0,"+r.round(e,2)+"Z"}},"triangle-left":{n:7,f:function(e){var t=r.round(2*e/Math.sqrt(3),2);return"M"+r.round(e/2,2)+",-"+t+"V"+t+"L-"+r.round(e,2)+",0Z"}},"triangle-right":{n:8,f:function(e){var t=r.round(2*e/Math.sqrt(3),2);return"M-"+r.round(e/2,2)+",-"+t+"V"+t+"L"+r.round(e,2)+",0Z"}},"triangle-ne":{n:9,f:function(e){var t=r.round(.6*e,2),n=r.round(1.2*e,2);return"M-"+n+",-"+t+"H"+t+"V"+n+"Z"}},"triangle-se":{n:10,f:function(e){var t=r.round(.6*e,2),n=r.round(1.2*e,2);return"M"+t+",-"+n+"V"+t+"H-"+n+"Z"}},"triangle-sw":{n:11,f:function(e){var t=r.round(.6*e,2),n=r.round(1.2*e,2);return"M"+n+","+t+"H-"+t+"V-"+n+"Z"}},"triangle-nw":{n:12,f:function(e){var t=r.round(.6*e,2),n=r.round(1.2*e,2);return"M-"+t+","+n+"V-"+t+"H"+n+"Z"}},pentagon:{n:13,f:function(e){var t=r.round(.951*e,2),n=r.round(.588*e,2),i=r.round(-e,2),o=r.round(-.309*e,2);return"M"+t+","+o+"L"+n+","+r.round(.809*e,2)+"H-"+n+"L-"+t+","+o+"L0,"+i+"Z"}},hexagon:{n:14,f:function(e){var t=r.round(e,2),n=r.round(e/2,2),i=r.round(e*Math.sqrt(3)/2,2);return"M"+i+",-"+n+"V"+n+"L0,"+t+"L-"+i+","+n+"V-"+n+"L0,-"+t+"Z"}},hexagon2:{n:15,f:function(e){var t=r.round(e,2),n=r.round(e/2,2),i=r.round(e*Math.sqrt(3)/2,2);return"M-"+n+","+i+"H"+n+"L"+t+",0L"+n+",-"+i+"H-"+n+"L-"+t+",0Z"}},octagon:{n:16,f:function(e){var t=r.round(.924*e,2),n=r.round(.383*e,2);return"M-"+n+",-"+t+"H"+n+"L"+t+",-"+n+"V"+n+"L"+n+","+t+"H-"+n+"L-"+t+","+n+"V-"+n+"Z"}},star:{n:17,f:function(e){var t=1.4*e,n=r.round(.225*t,2),i=r.round(.951*t,2),o=r.round(.363*t,2),a=r.round(.588*t,2),s=r.round(-t,2),l=r.round(-.309*t,2),u=r.round(.118*t,2),c=r.round(.809*t,2);return"M"+n+","+l+"H"+i+"L"+o+","+u+"L"+a+","+c+"L0,"+r.round(.382*t,2)+"L-"+a+","+c+"L-"+o+","+u+"L-"+i+","+l+"H-"+n+"L0,"+s+"Z"}},hexagram:{n:18,f:function(e){var t=r.round(.66*e,2),n=r.round(.38*e,2),i=r.round(.76*e,2);return"M-"+i+",0l-"+n+",-"+t+"h"+i+"l"+n+",-"+t+"l"+n+","+t+"h"+i+"l-"+n+","+t+"l"+n+","+t+"h-"+i+"l-"+n+","+t+"l-"+n+",-"+t+"h-"+i+"Z"}},"star-triangle-up":{n:19,f:function(e){var t=r.round(e*Math.sqrt(3)*.8,2),n=r.round(.8*e,2),i=r.round(1.6*e,2),o=r.round(4*e,2),a="A "+o+","+o+" 0 0 1 ";return"M-"+t+","+n+a+t+","+n+a+"0,-"+i+a+"-"+t+","+n+"Z"}},"star-triangle-down":{n:20,f:function(e){var t=r.round(e*Math.sqrt(3)*.8,2),n=r.round(.8*e,2),i=r.round(1.6*e,2),o=r.round(4*e,2),a="A "+o+","+o+" 0 0 1 ";return"M"+t+",-"+n+a+"-"+t+",-"+n+a+"0,"+i+a+t+",-"+n+"Z"}},"star-square":{n:21,f:function(e){var t=r.round(1.1*e,2),n=r.round(2*e,2),i="A "+n+","+n+" 0 0 1 ";return"M-"+t+",-"+t+i+"-"+t+","+t+i+t+","+t+i+t+",-"+t+i+"-"+t+",-"+t+"Z"}},"star-diamond":{n:22,f:function(e){var t=r.round(1.4*e,2),n=r.round(1.9*e,2),i="A "+n+","+n+" 0 0 1 ";return"M-"+t+",0"+i+"0,"+t+i+t+",0"+i+"0,-"+t+i+"-"+t+",0Z"}},"diamond-tall":{n:23,f:function(e){var t=r.round(.7*e,2),n=r.round(1.4*e,2);return"M0,"+n+"L"+t+",0L0,-"+n+"L-"+t+",0Z"}},"diamond-wide":{n:24,f:function(e){var t=r.round(1.4*e,2),n=r.round(.7*e,2);return"M0,"+n+"L"+t+",0L0,-"+n+"L-"+t+",0Z"}},hourglass:{n:25,f:function(e){var t=r.round(e,2);return"M"+t+","+t+"H-"+t+"L"+t+",-"+t+"H-"+t+"Z"},noDot:!0},bowtie:{n:26,f:function(e){var t=r.round(e,2);return"M"+t+","+t+"V-"+t+"L-"+t+","+t+"V-"+t+"Z"},noDot:!0},"circle-cross":{n:27,f:function(e){var t=r.round(e,2);return"M0,"+t+"V-"+t+"M"+t+",0H-"+t+"M"+t+",0A"+t+","+t+" 0 1,1 0,-"+t+"A"+t+","+t+" 0 0,1 "+t+",0Z"},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(e){var t=r.round(e,2),n=r.round(e/Math.sqrt(2),2);return"M"+n+","+n+"L-"+n+",-"+n+"M"+n+",-"+n+"L-"+n+","+n+"M"+t+",0A"+t+","+t+" 0 1,1 0,-"+t+"A"+t+","+t+" 0 0,1 "+t+",0Z"},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(e){var t=r.round(e,2);return"M0,"+t+"V-"+t+"M"+t+",0H-"+t+"M"+t+","+t+"H-"+t+"V-"+t+"H"+t+"Z"},needLine:!0,noDot:!0},"square-x":{n:30,f:function(e){var t=r.round(e,2);return"M"+t+","+t+"L-"+t+",-"+t+"M"+t+",-"+t+"L-"+t+","+t+"M"+t+","+t+"H-"+t+"V-"+t+"H"+t+"Z"},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(e){var t=r.round(1.3*e,2);return"M"+t+",0L0,"+t+"L-"+t+",0L0,-"+t+"ZM0,-"+t+"V"+t+"M-"+t+",0H"+t},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(e){var t=r.round(1.3*e,2),n=r.round(.65*e,2);return"M"+t+",0L0,"+t+"L-"+t+",0L0,-"+t+"ZM-"+n+",-"+n+"L"+n+","+n+"M-"+n+","+n+"L"+n+",-"+n},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(e){var t=r.round(1.4*e,2);return"M0,"+t+"V-"+t+"M"+t+",0H-"+t},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(e){var t=r.round(e,2);return"M"+t+","+t+"L-"+t+",-"+t+"M"+t+",-"+t+"L-"+t+","+t},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(e){var t=r.round(1.2*e,2),n=r.round(.85*e,2);return"M0,"+t+"V-"+t+"M"+t+",0H-"+t+"M"+n+","+n+"L-"+n+",-"+n+"M"+n+",-"+n+"L-"+n+","+n},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(e){var t=r.round(e/2,2),n=r.round(e,2);return"M"+t+","+n+"V-"+n+"m-"+n+",0V"+n+"M"+n+","+t+"H-"+n+"m0,-"+n+"H"+n},needLine:!0,noFill:!0},"y-up":{n:37,f:function(e){var t=r.round(1.2*e,2),n=r.round(1.6*e,2),i=r.round(.8*e,2);return"M-"+t+","+i+"L0,0M"+t+","+i+"L0,0M0,-"+n+"L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(e){var t=r.round(1.2*e,2),n=r.round(1.6*e,2),i=r.round(.8*e,2);return"M-"+t+",-"+i+"L0,0M"+t+",-"+i+"L0,0M0,"+n+"L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(e){var t=r.round(1.2*e,2),n=r.round(1.6*e,2),i=r.round(.8*e,2);return"M"+i+","+t+"L0,0M"+i+",-"+t+"L0,0M-"+n+",0L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(e){var t=r.round(1.2*e,2),n=r.round(1.6*e,2),i=r.round(.8*e,2);return"M-"+i+","+t+"L0,0M-"+i+",-"+t+"L0,0M"+n+",0L0,0"},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(e){var t=r.round(1.4*e,2);return"M"+t+",0H-"+t},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(e){var t=r.round(1.4*e,2);return"M0,"+t+"V-"+t},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(e){var t=r.round(e,2);return"M"+t+",-"+t+"L-"+t+","+t},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(e){var t=r.round(e,2);return"M"+t+","+t+"L-"+t+",-"+t},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(e){var t=r.round(e,2);return"M0,0L-"+t+","+r.round(2*e,2)+"H"+t+"Z"},noDot:!0},"arrow-down":{n:46,f:function(e){var t=r.round(e,2);return"M0,0L-"+t+",-"+r.round(2*e,2)+"H"+t+"Z"},noDot:!0},"arrow-left":{n:47,f:function(e){var t=r.round(2*e,2),n=r.round(e,2);return"M0,0L"+t+",-"+n+"V"+n+"Z"},noDot:!0},"arrow-right":{n:48,f:function(e){var t=r.round(2*e,2),n=r.round(e,2);return"M0,0L-"+t+",-"+n+"V"+n+"Z"},noDot:!0},"arrow-bar-up":{n:49,f:function(e){var t=r.round(e,2);return"M-"+t+",0H"+t+"M0,0L-"+t+","+r.round(2*e,2)+"H"+t+"Z"},needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(e){var t=r.round(e,2);return"M-"+t+",0H"+t+"M0,0L-"+t+",-"+r.round(2*e,2)+"H"+t+"Z"},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(e){var t=r.round(2*e,2),n=r.round(e,2);return"M0,-"+n+"V"+n+"M0,0L"+t+",-"+n+"V"+n+"Z"},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(e){var t=r.round(2*e,2),n=r.round(e,2);return"M0,-"+n+"V"+n+"M0,0L-"+t+",-"+n+"V"+n+"Z"},needLine:!0,noDot:!0}}},{d3:21}],99:[function(e,t,n){"use strict";t.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},{}],100:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../../registry"),o=e("../../plots/cartesian/axes"),a=e("../../lib"),s=e("./compute_error");function l(e,t,n,i){var l=t["error_"+i]||{},u=[];if(l.visible&&-1!==["linear","log"].indexOf(n.type)){for(var c=s(l),f=0;f<e.length;f++){var d=e[f],p=d.i;if(void 0===p)p=f;else if(null===p)continue;var h=d[i];if(r(n.c2l(h))){var g=c(h,p);if(r(g[0])&&r(g[1])){var m=d[i+"s"]=h-g[0],y=d[i+"h"]=h+g[1];u.push(m,y)}}}var v=n._id,b=t._extremes[v],x=o.findExtremes(n,u,a.extendFlat({tozero:b.opts.tozero},{padded:!0}));b.min=b.min.concat(x.min),b.max=b.max.concat(x.max)}}t.exports=function(e){for(var t=e.calcdata,n=0;n<t.length;n++){var r=t[n],a=r[0].trace;if(!0===a.visible&&i.traceIs(a,"errorBarsOK")){var s=o.getFromId(e,a.xaxis),u=o.getFromId(e,a.yaxis);l(r,a,s,"x"),l(r,a,u,"y")}}}},{"../../lib":203,"../../plots/cartesian/axes":248,"../../registry":295,"./compute_error":101,"fast-isnumeric":23}],101:[function(e,t,n){"use strict";function r(e,t){return"percent"===e?function(e){return Math.abs(e*t/100)}:"constant"===e?function(){return Math.abs(t)}:"sqrt"===e?function(e){return Math.sqrt(Math.abs(e))}:void 0}t.exports=function(e){var t=e.type,n=e.symmetric;if("data"===t){var i=e.array||[];if(n)return function(e,t){var n=+i[t];return[n,n]};var o=e.arrayminus||[];return function(e,t){var n=+i[t],r=+o[t];return isNaN(n)&&isNaN(r)?[NaN,NaN]:[r||0,n||0]}}var a=r(t,e.value),s=r(t,e.valueminus);return n||void 0===e.valueminus?function(e){var t=a(e);return[t,t]}:function(e){return[s(e),a(e)]}}},{}],102:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../../registry"),o=e("../../lib"),a=e("../../plot_api/plot_template"),s=e("./attributes");t.exports=function(e,t,n,l){var u="error_"+l.axis,c=a.newContainer(t,u),f=e[u]||{};function d(e,t){return o.coerce(f,c,s,e,t)}if(!1!==d("visible",void 0!==f.array||void 0!==f.value||"sqrt"===f.type)){var p=d("type","array"in f?"data":"percent"),h=!0;"sqrt"!==p&&(h=d("symmetric",!(("data"===p?"arrayminus":"valueminus")in f))),"data"===p?(d("array"),d("traceref"),h||(d("arrayminus"),d("tracerefminus"))):"percent"!==p&&"constant"!==p||(d("value"),h||d("valueminus"));var g="copy_"+l.inherit+"style";l.inherit&&(t["error_"+l.inherit]||{}).visible&&d(g,!(f.color||r(f.thickness)||r(f.width))),l.inherit&&c[g]||(d("color",n),d("thickness"),d("width",i.traceIs(t,"gl3d")?0:4))}}},{"../../lib":203,"../../plot_api/plot_template":237,"../../registry":295,"./attributes":99,"fast-isnumeric":23}],103:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../plot_api/edit_types").overrideAll,o=e("./attributes"),a={error_x:r.extendFlat({},o),error_y:r.extendFlat({},o)};delete a.error_x.copy_zstyle,delete a.error_y.copy_zstyle,delete a.error_y.copy_ystyle;var s={error_x:r.extendFlat({},o),error_y:r.extendFlat({},o),error_z:r.extendFlat({},o)};delete s.error_x.copy_ystyle,delete s.error_y.copy_ystyle,delete s.error_z.copy_ystyle,delete s.error_z.copy_zstyle,t.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:a,bar:a,histogram:a,scatter3d:i(s,"calc","nested"),scattergl:i(a,"calc","nested")}},supplyDefaults:e("./defaults"),calc:e("./calc"),makeComputeError:e("./compute_error"),plot:e("./plot"),style:e("./style"),hoverInfo:function(e,t,n){(t.error_y||{}).visible&&(n.yerr=e.yh-e.y,t.error_y.symmetric||(n.yerrneg=e.y-e.ys)),(t.error_x||{}).visible&&(n.xerr=e.xh-e.x,t.error_x.symmetric||(n.xerrneg=e.x-e.xs))}}},{"../../lib":203,"../../plot_api/edit_types":230,"./attributes":99,"./calc":100,"./compute_error":101,"./defaults":102,"./plot":104,"./style":105}],104:[function(e,t,n){"use strict";var r=e("d3"),i=e("fast-isnumeric"),o=e("../drawing"),a=e("../../traces/scatter/subtypes");t.exports=function(e,t,n,s){var l=n.xaxis,u=n.yaxis,c=s&&s.duration>0;t.each((function(t){var f,d=t[0].trace,p=d.error_x||{},h=d.error_y||{};d.ids&&(f=function(e){return e.id});var g=a.hasMarkers(d)&&d.marker.maxdisplayed>0;h.visible||p.visible||(t=[]);var m=r.select(this).selectAll("g.errorbar").data(t,f);if(m.exit().remove(),t.length){p.visible||m.selectAll("path.xerror").remove(),h.visible||m.selectAll("path.yerror").remove(),m.style("opacity",1);var y=m.enter().append("g").classed("errorbar",!0);c&&y.style("opacity",0).transition().duration(s.duration).style("opacity",1),o.setClipUrl(m,n.layerClipId,e),m.each((function(e){var t=r.select(this),n=function(e,t,n){var r={x:t.c2p(e.x),y:n.c2p(e.y)};return void 0!==e.yh&&(r.yh=n.c2p(e.yh),r.ys=n.c2p(e.ys),i(r.ys)||(r.noYS=!0,r.ys=n.c2p(e.ys,!0))),void 0!==e.xh&&(r.xh=t.c2p(e.xh),r.xs=t.c2p(e.xs),i(r.xs)||(r.noXS=!0,r.xs=t.c2p(e.xs,!0))),r}(e,l,u);if(!g||e.vis){var o,a=t.select("path.yerror");if(h.visible&&i(n.x)&&i(n.yh)&&i(n.ys)){var f=h.width;o="M"+(n.x-f)+","+n.yh+"h"+2*f+"m-"+f+",0V"+n.ys,n.noYS||(o+="m-"+f+",0h"+2*f),a.size()?c&&(a=a.transition().duration(s.duration).ease(s.easing)):a=t.append("path").style("vector-effect","non-scaling-stroke").classed("yerror",!0),a.attr("d",o)}else a.remove();var d=t.select("path.xerror");if(p.visible&&i(n.y)&&i(n.xh)&&i(n.xs)){var m=(p.copy_ystyle?h:p).width;o="M"+n.xh+","+(n.y-m)+"v"+2*m+"m0,-"+m+"H"+n.xs,n.noXS||(o+="m0,-"+m+"v"+2*m),d.size()?c&&(d=d.transition().duration(s.duration).ease(s.easing)):d=t.append("path").style("vector-effect","non-scaling-stroke").classed("xerror",!0),d.attr("d",o)}else d.remove()}}))}}))}},{"../../traces/scatter/subtypes":441,"../drawing":97,d3:21,"fast-isnumeric":23}],105:[function(e,t,n){"use strict";var r=e("d3"),i=e("../color");t.exports=function(e){e.each((function(e){var t=e[0].trace,n=t.error_y||{},o=t.error_x||{},a=r.select(this);a.selectAll("path.yerror").style("stroke-width",n.thickness+"px").call(i.stroke,n.color),o.copy_ystyle&&(o=n),a.selectAll("path.xerror").style("stroke-width",o.thickness+"px").call(i.stroke,o.color)}))}},{"../color":75,d3:21}],106:[function(e,t,n){"use strict";var r=e("../../plots/font_attributes"),i=e("./layout_attributes").hoverlabel,o=e("../../lib/extend").extendFlat;t.exports={hoverlabel:{bgcolor:o({},i.bgcolor,{arrayOk:!0}),bordercolor:o({},i.bordercolor,{arrayOk:!0}),font:r({arrayOk:!0,editType:"none"}),align:o({},i.align,{arrayOk:!0}),namelength:o({},i.namelength,{arrayOk:!0}),editType:"none"}}},{"../../lib/extend":197,"../../plots/font_attributes":276,"./layout_attributes":116}],107:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../registry");function o(e,t,n,i){i=i||r.identity,Array.isArray(e)&&(t[0][n]=i(e))}t.exports=function(e){var t=e.calcdata,n=e._fullLayout;function a(e){return function(t){return r.coerceHoverinfo({hoverinfo:t},{_module:e._module},n)}}for(var s=0;s<t.length;s++){var l=t[s],u=l[0].trace;if(!i.traceIs(u,"pie-like")){var c=i.traceIs(u,"2dMap")?o:r.fillArray;c(u.hoverinfo,l,"hi",a(u)),u.hovertemplate&&c(u.hovertemplate,l,"ht"),u.hoverlabel&&(c(u.hoverlabel.bgcolor,l,"hbg"),c(u.hoverlabel.bordercolor,l,"hbc"),c(u.hoverlabel.font.size,l,"hts"),c(u.hoverlabel.font.color,l,"htc"),c(u.hoverlabel.font.family,l,"htf"),c(u.hoverlabel.namelength,l,"hnl"),c(u.hoverlabel.align,l,"hta"))}}}},{"../../lib":203,"../../registry":295}],108:[function(e,t,n){"use strict";var r=e("../../registry"),i=e("./hover").hover;t.exports=function(e,t,n){var o=r.getComponentMethod("annotations","onClick")(e,e._hoverdata);function a(){e.emit("plotly_click",{points:e._hoverdata,event:t})}void 0!==n&&i(e,t,n,!0),e._hoverdata&&t&&t.target&&(o&&o.then?o.then(a):a(),t.stopImmediatePropagation&&t.stopImmediatePropagation())}},{"../../registry":295,"./hover":112}],109:[function(e,t,n){"use strict";t.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},{}],110:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("./attributes"),o=e("./hoverlabel_defaults");t.exports=function(e,t,n,a){var s=r.extendFlat({},a.hoverlabel);t.hovertemplate&&(s.namelength=-1),o(e,t,(function(n,o){return r.coerce(e,t,i,n,o)}),s)}},{"../../lib":203,"./attributes":106,"./hoverlabel_defaults":113}],111:[function(e,t,n){"use strict";var r=e("../../lib");n.getSubplot=function(e){return e.subplot||e.xaxis+e.yaxis||e.geo},n.isTraceInSubplots=function(e,t){if("splom"===e.type){for(var r=e.xaxes||[],i=e.yaxes||[],o=0;o<r.length;o++)for(var a=0;a<i.length;a++)if(-1!==t.indexOf(r[o]+i[a]))return!0;return!1}return-1!==t.indexOf(n.getSubplot(e))},n.flat=function(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++)n[r]=t;return n},n.p2c=function(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++)n[r]=e[r].p2c(t);return n},n.getDistanceFunction=function(e,t,r,i){return"closest"===e?i||n.quadrature(t,r):"x"===e.charAt(0)?t:r},n.getClosest=function(e,t,n){if(!1!==n.index)n.index>=0&&n.index<e.length?n.distance=0:n.index=!1;else for(var r=0;r<e.length;r++){var i=t(e[r]);i<=n.distance&&(n.index=r,n.distance=i)}return n},n.inbox=function(e,t,n){return e*t<0||0===e?n:1/0},n.quadrature=function(e,t){return function(n){var r=e(n),i=t(n);return Math.sqrt(r*r+i*i)}},n.makeEventData=function(e,t,r){var i="index"in e?e.index:e.pointNumber,o={data:t._input,fullData:t,curveNumber:t.index,pointNumber:i};if(t._indexToPoints){var a=t._indexToPoints[i];1===a.length?o.pointIndex=a[0]:o.pointIndices=a}else o.pointIndex=i;return t._module.eventData?o=t._module.eventData(o,e,t,r,i):("xVal"in e?o.x=e.xVal:"x"in e&&(o.x=e.x),"yVal"in e?o.y=e.yVal:"y"in e&&(o.y=e.y),e.xa&&(o.xaxis=e.xa),e.ya&&(o.yaxis=e.ya),void 0!==e.zLabelVal&&(o.z=e.zLabelVal)),n.appendArrayPointValue(o,t,i),o},n.appendArrayPointValue=function(e,t,n){var i=t._arrayAttrs;if(i)for(var s=0;s<i.length;s++){var l=i[s],u=o(l);if(void 0===e[u]){var c=a(r.nestedProperty(t,l).get(),n);void 0!==c&&(e[u]=c)}}},n.appendArrayMultiPointValues=function(e,t,n){var i=t._arrayAttrs;if(i)for(var s=0;s<i.length;s++){var l=i[s],u=o(l);if(void 0===e[u]){for(var c=r.nestedProperty(t,l).get(),f=new Array(n.length),d=0;d<n.length;d++)f[d]=a(c,n[d]);e[u]=f}}};var i={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function o(e){return i[e]||e}function a(e,t){return Array.isArray(t)?Array.isArray(e)&&Array.isArray(e[t[0]])?e[t[0]][t[1]]:void 0:e[t]}var s={x:!0,y:!0},l={"x unified":!0,"y unified":!0};n.isUnifiedHover=function(e){return"string"==typeof e&&!!l[e]},n.isXYhover=function(e){return"string"==typeof e&&!!s[e]}},{"../../lib":203}],112:[function(e,t,n){"use strict";var r=e("d3"),i=e("fast-isnumeric"),o=e("tinycolor2"),a=e("../../lib"),s=e("../../lib/events"),l=e("../../lib/svg_text_utils"),u=e("../../lib/override_cursor"),c=e("../drawing"),f=e("../color"),d=e("../dragelement"),p=e("../../plots/cartesian/axes"),h=e("../../registry"),g=e("./helpers"),m=e("./constants"),y=e("../legend/defaults"),v=e("../legend/draw"),b=m.YANGLE,x=Math.PI*b/180,_=1/Math.sin(x),w=Math.cos(x),k=Math.sin(x),T=m.HOVERARROWSIZE,C=m.HOVERTEXTPAD;function O(e,t,n,o){n||(n="xy");var l=Array.isArray(n)?n:[n],c=e._fullLayout,p=c._plots||[],m=p[n],y=c._has("cartesian");if(m){var v=m.overlays.map((function(e){return e.id}));l=l.concat(v)}for(var b=l.length,x=new Array(b),w=new Array(b),k=!1,T=0;T<b;T++){var C=l[T];if(p[C])k=!0,x[T]=p[C].xaxis,w[T]=p[C].yaxis;else{if(!c[C]||!c[C]._subplot)return void a.warn("Unrecognized subplot: "+C);var O=c[C]._subplot;x[T]=O.xaxis,w[T]=O.yaxis}}var A=t.hovermode||c.hovermode;if(A&&!k&&(A="closest"),-1===["x","y","closest","x unified","y unified"].indexOf(A)||!e.calcdata||e.querySelector(".zoombox")||e._dragging)return d.unhoverRaw(e,t);var E,I,N,j,z,q,F,B,H,U,V,W,G,K=-1===c.hoverdistance?1/0:c.hoverdistance,Y=-1===c.spikedistance?1/0:c.spikedistance,Z=[],X=[],$={hLinePoint:null,vLinePoint:null},J=!1;if(Array.isArray(t))for(A="array",N=0;N<t.length;N++)(z=e.calcdata[t[N].curveNumber||0])&&(q=z[0].trace,"skip"!==z[0].trace.hoverinfo&&(X.push(z),"h"===q.orientation&&(J=!0)));else{for(j=0;j<e.calcdata.length;j++)z=e.calcdata[j],"skip"!==(q=z[0].trace).hoverinfo&&g.isTraceInSubplots(q,l)&&(X.push(z),"h"===q.orientation&&(J=!0));var Q,ee;if(t.target){if(!1===s.triggerHandler(e,"plotly_beforehover",t))return;var te=t.target.getBoundingClientRect();if(Q=t.clientX-te.left,ee=t.clientY-te.top,Q<0||Q>x[0]._length||ee<0||ee>w[0]._length)return d.unhoverRaw(e,t)}else Q="xpx"in t?t.xpx:x[0]._length/2,ee="ypx"in t?t.ypx:w[0]._length/2;if(t.pointerX=Q+x[0]._offset,t.pointerY=ee+w[0]._offset,E="xval"in t?g.flat(l,t.xval):g.p2c(x,Q),I="yval"in t?g.flat(l,t.yval):g.p2c(w,ee),!i(E[0])||!i(I[0]))return a.warn("Fx.hover failed",t,e),d.unhoverRaw(e,t)}var ne=1/0;function re(e,n){for(j=0;j<X.length;j++)if((z=X[j])&&z[0]&&z[0].trace&&!0===(q=z[0].trace).visible&&0!==q._length&&-1===["carpet","contourcarpet"].indexOf(q._module.name)){if("splom"===q.type?F=l[B=0]:(F=g.getSubplot(q),B=l.indexOf(F)),H=A,g.isUnifiedHover(H)&&(H=H.charAt(0)),W={cd:z,trace:q,xa:x[B],ya:w[B],maxHoverDistance:K,maxSpikeDistance:Y,index:!1,distance:Math.min(ne,K),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:f.defaultLine,name:q.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},c[F]&&(W.subplot=c[F]._subplot),c._splomScenes&&c._splomScenes[q.uid]&&(W.scene=c._splomScenes[q.uid]),G=Z.length,"array"===H){var r=t[j];"pointNumber"in r?(W.index=r.pointNumber,H="closest"):(H="","xval"in r&&(U=r.xval,H="x"),"yval"in r&&(V=r.yval,H=H?"closest":"y"))}else void 0!==e&&void 0!==n?(U=e,V=n):(U=E[B],V=I[B]);if(0!==K)if(q._module&&q._module.hoverPoints){var o=q._module.hoverPoints(W,U,V,H,c._hoverlayer);if(o)for(var s,u=0;u<o.length;u++)s=o[u],i(s.x0)&&i(s.y0)&&Z.push(D(s,A))}else a.log("Unrecognized trace type in hover:",q);if("closest"===A&&Z.length>G&&(Z.splice(0,G),ne=Z[0].distance),y&&0!==Y&&0===Z.length){W.distance=Y,W.index=!1;var d=q._module.hoverPoints(W,U,V,"closest",c._hoverlayer);if(d&&(d=d.filter((function(e){return e.spikeDistance<=Y}))),d&&d.length){var p,h=d.filter((function(e){return e.xa.showspikes&&"hovered data"!==e.xa.spikesnap}));if(h.length){var m=h[0];i(m.x0)&&i(m.y0)&&(p=oe(m),(!$.vLinePoint||$.vLinePoint.spikeDistance>p.spikeDistance)&&($.vLinePoint=p))}var v=d.filter((function(e){return e.ya.showspikes&&"hovered data"!==e.ya.spikesnap}));if(v.length){var b=v[0];i(b.x0)&&i(b.y0)&&(p=oe(b),(!$.hLinePoint||$.hLinePoint.spikeDistance>p.spikeDistance)&&($.hLinePoint=p))}}}}}function ie(e,t){for(var n,r=null,i=1/0,o=0;o<e.length;o++)(n=e[o].spikeDistance)<=i&&n<=t&&(r=e[o],i=n);return r}function oe(e){return e?{xa:e.xa,ya:e.ya,x:void 0!==e.xSpike?e.xSpike:(e.x0+e.x1)/2,y:void 0!==e.ySpike?e.ySpike:(e.y0+e.y1)/2,distance:e.distance,spikeDistance:e.spikeDistance,curveNumber:e.trace.index,color:e.color,pointNumber:e.index}:null}re();var ae={fullLayout:c,container:c._hoverlayer,outerContainer:c._paperdiv,event:t},se=e._spikepoints,le={vLinePoint:$.vLinePoint,hLinePoint:$.hLinePoint};if(e._spikepoints=le,y&&0!==Y&&0!==Z.length){var ue=ie(Z.filter((function(e){return e.ya.showspikes})),Y);$.hLinePoint=oe(ue);var ce=ie(Z.filter((function(e){return e.xa.showspikes})),Y);$.vLinePoint=oe(ce)}if(0===Z.length){var fe=d.unhoverRaw(e,t);return!y||null===$.hLinePoint&&null===$.vLinePoint||R(se)&&L(e,$,ae),fe}if(y&&R(se)&&L(e,$,ae),Z.sort((function(e,t){return e.distance-t.distance})),g.isXYhover(H)&&0!==Z[0].length&&"splom"!==Z[0].trace.type){var de=Z[0],pe=de.cd[de.index],he="group"===c.boxmode||"group"===c.violinmode,ge=de.xVal,me=de.xa;"category"===me.type&&(ge=me._categoriesMap[ge]),"date"===me.type&&(ge=me.d2c(ge)),pe&&pe.t&&pe.t.posLetter===me._id&&he&&(ge+=pe.t.dPos);var ye=de.yVal;"category"===(me=de.ya).type&&(ye=me._categoriesMap[ye]),"date"===me.type&&(ye=me.d2c(ye)),pe&&pe.t&&pe.t.posLetter===me._id&&he&&(ye+=pe.t.dPos),re(ge,ye);var ve={};Z=Z.filter((function(e){var t=S(e);if(!ve[t])return ve[t]=!0,ve[t]}))}var be=e._hoverdata,xe=[];for(N=0;N<Z.length;N++){var _e=Z[N],we=g.makeEventData(_e,_e.trace,_e.cd);if(!1!==_e.hovertemplate){var ke=!1;_e.cd[_e.index]&&_e.cd[_e.index].ht&&(ke=_e.cd[_e.index].ht),_e.hovertemplate=ke||_e.trace.hovertemplate||!1}_e.eventData=[we],xe.push(we)}e._hoverdata=xe;var Te="y"===A&&(X.length>1||Z.length>1)||"closest"===A&&J&&Z.length>1,Ce=f.combine(c.plot_bgcolor||f.background,c.paper_bgcolor),Oe={hovermode:A,rotateLabels:Te,bgColor:Ce,container:c._hoverlayer,outerContainer:c._paperdiv,commonLabelOpts:c.hoverlabel,hoverdistance:c.hoverdistance},Se=M(Z,Oe,e);if(g.isUnifiedHover(A)||(function(e,t,n){var r,i,o,a,s,l,u,c=0,f=1,d=e.size(),p=new Array(d),h=0;function g(e){var t=e[0],n=e[e.length-1];if(i=t.pmin-t.pos-t.dp+t.size,o=n.pos+n.dp+n.size-t.pmax,i>.01){for(s=e.length-1;s>=0;s--)e[s].dp+=i;r=!1}if(!(o<.01)){if(i<-.01){for(s=e.length-1;s>=0;s--)e[s].dp-=o;r=!1}if(r){var u=0;for(a=0;a<e.length;a++)(l=e[a]).pos+l.dp+l.size>t.pmax&&u++;for(a=e.length-1;a>=0&&!(u<=0);a--)(l=e[a]).pos>t.pmax-1&&(l.del=!0,u--);for(a=0;a<e.length&&!(u<=0);a++)if((l=e[a]).pos<t.pmin+1)for(l.del=!0,u--,o=2*l.size,s=e.length-1;s>=0;s--)e[s].dp-=o;for(a=e.length-1;a>=0&&!(u<=0);a--)(l=e[a]).pos+l.dp+l.size>t.pmax&&(l.del=!0,u--)}}}for(e.each((function(e){var r=e[t],i="x"===r._id.charAt(0),o=r.range;0===h&&o&&o[0]>o[1]!==i&&(f=-1),p[h++]=[{datum:e,traceIndex:e.trace.index,dp:0,pos:e.pos,posref:e.posref,size:e.by*(i?_:1)/2,pmin:0,pmax:i?n.width:n.height}]})),p.sort((function(e,t){return e[0].posref-t[0].posref||f*(t[0].traceIndex-e[0].traceIndex)}));!r&&c<=d;){for(c++,r=!0,a=0;a<p.length-1;){var m=p[a],y=p[a+1],v=m[m.length-1],b=y[0];if((i=v.pos+v.dp+v.size-b.pos-b.dp+b.size)>.01&&v.pmin===b.pmin&&v.pmax===b.pmax){for(s=y.length-1;s>=0;s--)y[s].dp+=i;for(m.push.apply(m,y),p.splice(a+1,1),u=0,s=m.length-1;s>=0;s--)u+=m[s].dp;for(o=u/m.length,s=m.length-1;s>=0;s--)m[s].dp-=o;r=!1}else a++}p.forEach(g)}for(a=p.length-1;a>=0;a--){var x=p[a];for(s=x.length-1;s>=0;s--){var w=x[s],k=w.datum;k.offset=w.dp,k.del=w.del}}}(Se,Te?"xa":"ya",c),P(Se,Te)),t.target&&t.target.tagName){var Ae=h.getComponentMethod("annotations","hasClickToShow")(e,xe);u(r.select(t.target),Ae?"pointer":"")}t.target&&!o&&function(e,t,n){if(!n||n.length!==e._hoverdata.length)return!0;for(var r=n.length-1;r>=0;r--){var i=n[r],o=e._hoverdata[r];if(i.curveNumber!==o.curveNumber||String(i.pointNumber)!==String(o.pointNumber)||String(i.pointNumbers)!==String(o.pointNumbers))return!0}return!1}(e,0,be)&&(be&&e.emit("plotly_unhover",{event:t,points:be}),e.emit("plotly_hover",{event:t,points:e._hoverdata,xaxes:x,yaxes:w,xvals:E,yvals:I}))}function S(e){return[e.trace.index,e.index,e.x0,e.y0,e.name,e.attr,e.xa,e.ya||""].join(",")}n.hover=function(e,t,n,r){e=a.getGraphDiv(e),a.throttle(e._fullLayout._uid+m.HOVERID,m.HOVERMINTIME,(function(){O(e,t,n,r)}))},n.loneHover=function(e,t){var n=!0;Array.isArray(e)||(n=!1,e=[e]);var i=e.map((function(e){return{color:e.color||f.defaultLine,x0:e.x0||e.x||0,x1:e.x1||e.x||0,y0:e.y0||e.y||0,y1:e.y1||e.y||0,xLabel:e.xLabel,yLabel:e.yLabel,zLabel:e.zLabel,text:e.text,name:e.name,idealAlign:e.idealAlign,borderColor:e.borderColor,fontFamily:e.fontFamily,fontSize:e.fontSize,fontColor:e.fontColor,nameLength:e.nameLength,textAlign:e.textAlign,trace:e.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:e.hovertemplate||!1,eventData:e.eventData||!1,hovertemplateLabels:e.hovertemplateLabels||!1}})),o=r.select(t.container),a=t.outerContainer?r.select(t.outerContainer):o,s={hovermode:"closest",rotateLabels:!1,bgColor:t.bgColor||f.background,container:o,outerContainer:a},l=M(i,s,t.gd),u=0,c=0;return l.sort((function(e,t){return e.y0-t.y0})).each((function(e,n){var r=e.y0-e.by/2;e.offset=r-5<u?u-r+5:0,u=r+e.by+e.offset,n===t.anchorIndex&&(c=e.offset)})).each((function(e){e.offset-=c})),P(l,s.rotateLabels),n?l:l.node()};var A=/<extra>([\s\S]*)<\/extra>/;function M(e,t,n){var i=n._fullLayout,o=t.hovermode,s=t.rotateLabels,u=t.bgColor,d=t.container,p=t.outerContainer,h=t.commonLabelOpts||{},x=t.fontFamily||m.HOVERFONT,_=t.fontSize||m.HOVERFONTSIZE,w=e[0],k=w.xa,O=w.ya,A="y"===o.charAt(0)?"yLabel":"xLabel",M=w[A],P=(String(M)||"").split(" ")[0],D=p.node().getBoundingClientRect(),L=D.top,R=D.width,I=D.height,N=void 0!==M&&w.distance<=t.hoverdistance&&("x"===o||"y"===o);if(N){var j,z,q=!0;for(j=0;j<e.length;j++)if(q&&void 0===e[j].zLabel&&(q=!1),z=e[j].hoverinfo||e[j].trace.hoverinfo){var F=Array.isArray(z)?z:z.split("+");if(-1===F.indexOf("all")&&-1===F.indexOf(o)){N=!1;break}}q&&(N=!1)}var B=d.selectAll("g.axistext").data(N?[0]:[]);function H(e){return e.filter((function(e){return void 0!==e.zLabelVal||(e[A]||"").split(" ")[0]===P}))}if(B.enter().append("g").classed("axistext",!0),B.exit().remove(),B.each((function(){var t=r.select(this),s=a.ensureSingle(t,"path","",(function(e){e.style({"stroke-width":"1px"})})),u=a.ensureSingle(t,"text","",(function(e){e.attr("data-notex",1)})),d=h.bgcolor||f.defaultLine,p=h.bordercolor||f.contrast(d),g=f.contrast(d),m={family:h.font.family||x,size:h.font.size||_,color:h.font.color||g};s.style({fill:d,stroke:p}),u.text(M).call(c.font,m).call(l.positionText,0,0).call(l.convertToTspans,n),t.attr("transform","");var y,v,b=u.node().getBoundingClientRect();if("x"===o){var S="top"===k.side?"-":"";u.attr("text-anchor","middle").call(l.positionText,0,"top"===k.side?L-b.bottom-T-C:L-b.top+T+C),y=k._offset+(w.x0+w.x1)/2,v=O._offset+("top"===k.side?0:O._length);var A=b.width/2+C;y<A?(y=A,s.attr("d","M-"+(A-T)+",0L-"+(A-2*T)+","+S+T+"H"+(C+b.width/2)+"v"+S+(2*C+b.height)+"H-"+A+"V"+S+T+"Z")):y>i.width-A?(y=i.width-A,s.attr("d","M"+(A-T)+",0L"+A+","+S+T+"v"+S+(2*C+b.height)+"H-"+A+"V"+S+T+"H"+(A-2*T)+"Z")):s.attr("d","M0,0L"+T+","+S+T+"H"+(C+b.width/2)+"v"+S+(2*C+b.height)+"H-"+(C+b.width/2)+"V"+S+T+"H-"+T+"Z")}else{var E,P,D;"right"===O.side?(E="start",P=1,D="",y=k._offset+k._length):(E="end",P=-1,D="-",y=k._offset),v=O._offset+(w.y0+w.y1)/2,u.attr("text-anchor",E),s.attr("d","M0,0L"+D+T+","+T+"V"+(C+b.height/2)+"h"+D+(2*C+b.width)+"V-"+(C+b.height/2)+"H"+D+T+"V-"+T+"Z");var R,I=b.height/2,N=L-b.top-I,j="clip"+i._uid+"commonlabel"+O._id;if(y<b.width+2*C+T){R="M-"+(T+C)+"-"+I+"h-"+(b.width-C)+"V"+I+"h"+(b.width-C)+"Z";var z=b.width-y+C;l.positionText(u,z,N),"end"===E&&u.selectAll("tspan").each((function(){var e=r.select(this),t=c.tester.append("text").text(e.text()).call(c.font,m),n=t.node().getBoundingClientRect();Math.round(n.width)<Math.round(b.width)&&e.attr("x",z-n.width),t.remove()}))}else l.positionText(u,P*(C+T),N),R=null;var q=i._topclips.selectAll("#"+j).data(R?[0]:[]);q.enter().append("clipPath").attr("id",j).append("path"),q.exit().remove(),q.select("path").attr("d",R),c.setClipUrl(u,R?j:null,n)}t.attr("transform","translate("+y+","+v+")"),e=H(e)})),g.isUnifiedHover(o)){if(d.selectAll("g.hovertext").remove(),void 0!==M&&w.distance<=t.hoverdistance&&(e=H(e)),0===e.length)return;var U={showlegend:!0,legend:{title:{text:M,font:i.hoverlabel.font},font:i.hoverlabel.font,bgcolor:i.hoverlabel.bgcolor,bordercolor:i.hoverlabel.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:i.legend?i.legend.traceorder:void 0,orientation:"v"}},V={};y(U,V,n._fullData);var W=V.legend;W.entries=[];for(var G=0;G<e.length;G++){var K=E(e[G],!0,o,i,M),Y=K[0],Z=K[1],X=e[G];X.name=Z,X.text=""!==Z?Z+" : "+Y:Y;var $=X.cd[X.index];$&&($.mc&&(X.mc=$.mc),$.mcc&&(X.mc=$.mcc),$.mlc&&(X.mlc=$.mlc),$.mlcc&&(X.mlc=$.mlcc),$.mlw&&(X.mlw=$.mlw),$.mrc&&(X.mrc=$.mrc),$.dir&&(X.dir=$.dir)),X._distinct=!0,W.entries.push([X])}W.entries.sort((function(e,t){return e[0].trace.index-t[0].trace.index})),W.layer=d,v(n,W);var J=a.mean(e.map((function(e){return(e.y0+e.y1)/2}))),Q=a.mean(e.map((function(e){return(e.x0+e.x1)/2}))),ee=d.select("g.legend"),te=ee.node().getBoundingClientRect();Q+=k._offset,J+=O._offset-te.height/2;var ne=te.width+2*C;!(Q+ne<=R)&&Q-ne>=0?Q-=ne:Q+=2*C;var re=te.height+2*C,ie=J+re>=I;return re<=I&&(J<=L?J=O._offset+2*C:ie&&(J=I-re)),ee.attr("transform","translate("+Q+","+J+")"),ee}var oe=d.selectAll("g.hovertext").data(e,(function(e){return S(e)}));return oe.enter().append("g").classed("hovertext",!0).each((function(){var e=r.select(this);e.append("rect").call(f.fill,f.addOpacity(u,.8)),e.append("text").classed("name",!0),e.append("path").style("stroke-width","1px"),e.append("text").classed("nums",!0).call(c.font,x,_)})),oe.exit().remove(),oe.each((function(e){var t=r.select(this).attr("transform",""),a=e.color;Array.isArray(a)&&(a=a[e.eventData[0].pointNumber]);var d=e.bgcolor||a,p=f.combine(f.opacity(d)?d:f.defaultLine,u),h=f.combine(f.opacity(a)?a:f.defaultLine,u),g=e.borderColor||f.contrast(p),m=E(e,N,o,i,M,t),y=m[0],v=m[1],w=t.select("text.nums").call(c.font,e.fontFamily||x,e.fontSize||_,e.fontColor||g).text(y).attr("data-notex",1).call(l.positionText,0,0).call(l.convertToTspans,n),k=t.select("text.name"),O=0,S=0;if(v&&v!==y){k.call(c.font,e.fontFamily||x,e.fontSize||_,h).text(v).attr("data-notex",1).call(l.positionText,0,0).call(l.convertToTspans,n);var A=k.node().getBoundingClientRect();O=A.width+2*C,S=A.height+2*C}else k.remove(),t.select("rect").remove();t.select("path").style({fill:p,stroke:g});var P,D,j=w.node().getBoundingClientRect(),z=e.xa._offset+(e.x0+e.x1)/2,q=e.ya._offset+(e.y0+e.y1)/2,F=Math.abs(e.x1-e.x0),B=Math.abs(e.y1-e.y0),H=j.width+T+C+O;if(e.ty0=L-j.top,e.bx=j.width+2*C,e.by=Math.max(j.height+2*C,S),e.anchor="start",e.txwidth=j.width,e.tx2width=O,e.offset=0,s)e.pos=z,P=q+B/2+H<=I,D=q-B/2-H>=0,"top"!==e.idealAlign&&P||!D?P?(q+=B/2,e.anchor="start"):e.anchor="middle":(q-=B/2,e.anchor="end");else if(e.pos=q,P=z+F/2+H<=R,D=z-F/2-H>=0,"left"!==e.idealAlign&&P||!D)if(P)z+=F/2,e.anchor="start";else{e.anchor="middle";var U=H/2,V=z+U-R,W=z-U;V>0&&(z-=V),W<0&&(z+=-W)}else z-=F/2,e.anchor="end";w.attr("text-anchor",e.anchor),O&&k.attr("text-anchor",e.anchor),t.attr("transform","translate("+z+","+q+")"+(s?"rotate("+b+")":""))})),oe}function E(e,t,n,r,i,o){var s="",l="";void 0!==e.nameOverride&&(e.name=e.nameOverride),e.name&&(e.trace._meta&&(e.name=a.templateString(e.name,e.trace._meta)),s=I(e.name,e.nameLength)),void 0!==e.zLabel?(void 0!==e.xLabel&&(l+="x: "+e.xLabel+"<br>"),void 0!==e.yLabel&&(l+="y: "+e.yLabel+"<br>"),"choropleth"!==e.trace.type&&"choroplethmapbox"!==e.trace.type&&(l+=(l?"z: ":"")+e.zLabel)):t&&e[n.charAt(0)+"Label"]===i?l=e[("x"===n.charAt(0)?"y":"x")+"Label"]||"":void 0===e.xLabel?void 0!==e.yLabel&&"scattercarpet"!==e.trace.type&&(l=e.yLabel):l=void 0===e.yLabel?e.xLabel:"("+e.xLabel+", "+e.yLabel+")",!e.text&&0!==e.text||Array.isArray(e.text)||(l+=(l?"<br>":"")+e.text),void 0!==e.extraText&&(l+=(l?"<br>":"")+e.extraText),o&&""===l&&!e.hovertemplate&&(""===s&&o.remove(),l=s);var u=r._d3locale,c=e.hovertemplate||!1,f=e.hovertemplateLabels||e,d=e.eventData[0]||{};return c&&(l=(l=a.hovertemplateString(c,f,u,d,e.trace._meta)).replace(A,(function(t,n){return s=I(n,e.nameLength),""}))),[l,s]}function P(e,t){e.each((function(e){var n=r.select(this);if(e.del)return n.remove();var i=n.select("text.nums"),o=e.anchor,a="end"===o?-1:1,s={start:1,end:-1,middle:0}[o],u=s*(T+C),f=u+s*(e.txwidth+C),d=0,p=e.offset;"middle"===o&&(u-=e.tx2width/2,f+=e.txwidth/2+C),t&&(p*=-k,d=e.offset*w),n.select("path").attr("d","middle"===o?"M-"+(e.bx/2+e.tx2width/2)+","+(p-e.by/2)+"h"+e.bx+"v"+e.by+"h-"+e.bx+"Z":"M0,0L"+(a*T+d)+","+(T+p)+"v"+(e.by/2-T)+"h"+a*e.bx+"v-"+e.by+"H"+(a*T+d)+"V"+(p-T)+"Z");var h=u+d,g=p+e.ty0-e.by/2+C,m=e.textAlign||"auto";"auto"!==m&&("left"===m&&"start"!==o?(i.attr("text-anchor","start"),h="middle"===o?-e.bx/2-e.tx2width/2+C:-e.bx-C):"right"===m&&"end"!==o&&(i.attr("text-anchor","end"),h="middle"===o?e.bx/2-e.tx2width/2-C:e.bx+C)),i.call(l.positionText,h,g),e.tx2width&&(n.select("text.name").call(l.positionText,f+s*C+d,p+e.ty0-e.by/2+C),n.select("rect").call(c.setRect,f+(s-1)*e.tx2width/2+d,p-e.by/2-1,e.tx2width,e.by+2))}))}function D(e,t){var n=e.index,r=e.trace||{},o=e.cd[0],s=e.cd[n]||{};function l(e){return e||i(e)&&0===e}var u=Array.isArray(n)?function(e,t){var i=a.castOption(o,n,e);return l(i)?i:a.extractOption({},r,"",t)}:function(e,t){return a.extractOption(s,r,e,t)};function c(t,n,r){var i=u(n,r);l(i)&&(e[t]=i)}if(c("hoverinfo","hi","hoverinfo"),c("bgcolor","hbg","hoverlabel.bgcolor"),c("borderColor","hbc","hoverlabel.bordercolor"),c("fontFamily","htf","hoverlabel.font.family"),c("fontSize","hts","hoverlabel.font.size"),c("fontColor","htc","hoverlabel.font.color"),c("nameLength","hnl","hoverlabel.namelength"),c("textAlign","hta","hoverlabel.align"),e.posref="y"===t||"closest"===t&&"h"===r.orientation?e.xa._offset+(e.x0+e.x1)/2:e.ya._offset+(e.y0+e.y1)/2,e.x0=a.constrain(e.x0,0,e.xa._length),e.x1=a.constrain(e.x1,0,e.xa._length),e.y0=a.constrain(e.y0,0,e.ya._length),e.y1=a.constrain(e.y1,0,e.ya._length),void 0!==e.xLabelVal&&(e.xLabel="xLabel"in e?e.xLabel:p.hoverLabelText(e.xa,e.xLabelVal),e.xVal=e.xa.c2d(e.xLabelVal)),void 0!==e.yLabelVal&&(e.yLabel="yLabel"in e?e.yLabel:p.hoverLabelText(e.ya,e.yLabelVal),e.yVal=e.ya.c2d(e.yLabelVal)),void 0!==e.zLabelVal&&void 0===e.zLabel&&(e.zLabel=String(e.zLabelVal)),!(isNaN(e.xerr)||"log"===e.xa.type&&e.xerr<=0)){var f=p.tickText(e.xa,e.xa.c2l(e.xerr),"hover").text;void 0!==e.xerrneg?e.xLabel+=" +"+f+" / -"+p.tickText(e.xa,e.xa.c2l(e.xerrneg),"hover").text:e.xLabel+=" ± "+f,"x"===t&&(e.distance+=1)}if(!(isNaN(e.yerr)||"log"===e.ya.type&&e.yerr<=0)){var d=p.tickText(e.ya,e.ya.c2l(e.yerr),"hover").text;void 0!==e.yerrneg?e.yLabel+=" +"+d+" / -"+p.tickText(e.ya,e.ya.c2l(e.yerrneg),"hover").text:e.yLabel+=" ± "+d,"y"===t&&(e.distance+=1)}var h=e.hoverinfo||e.trace.hoverinfo;return h&&"all"!==h&&(-1===(h=Array.isArray(h)?h:h.split("+")).indexOf("x")&&(e.xLabel=void 0),-1===h.indexOf("y")&&(e.yLabel=void 0),-1===h.indexOf("z")&&(e.zLabel=void 0),-1===h.indexOf("text")&&(e.text=void 0),-1===h.indexOf("name")&&(e.name=void 0)),e}function L(e,t,n){var r,i,a=n.container,s=n.fullLayout,l=s._size,u=n.event,d=!!t.hLinePoint,h=!!t.vLinePoint;if(a.selectAll(".spikeline").remove(),h||d){var g=f.combine(s.plot_bgcolor,s.paper_bgcolor);if(d){var m,y,v=t.hLinePoint;r=v&&v.xa,"cursor"===(i=v&&v.ya).spikesnap?(m=u.pointerX,y=u.pointerY):(m=r._offset+v.x,y=i._offset+v.y);var b,x,_=o.readability(v.color,g)<1.5?f.contrast(g):v.color,w=i.spikemode,k=i.spikethickness,T=i.spikecolor||_,C=p.getPxPosition(e,i);if(-1!==w.indexOf("toaxis")||-1!==w.indexOf("across")){if(-1!==w.indexOf("toaxis")&&(b=C,x=m),-1!==w.indexOf("across")){var O=i._counterDomainMin,S=i._counterDomainMax;"free"===i.anchor&&(O=Math.min(O,i.position),S=Math.max(S,i.position)),b=l.l+O*l.w,x=l.l+S*l.w}a.insert("line",":first-child").attr({x1:b,x2:x,y1:y,y2:y,"stroke-width":k,stroke:T,"stroke-dasharray":c.dashStyle(i.spikedash,k)}).classed("spikeline",!0).classed("crisp",!0),a.insert("line",":first-child").attr({x1:b,x2:x,y1:y,y2:y,"stroke-width":k+2,stroke:g}).classed("spikeline",!0).classed("crisp",!0)}-1!==w.indexOf("marker")&&a.insert("circle",":first-child").attr({cx:C+("right"!==i.side?k:-k),cy:y,r:k,fill:T}).classed("spikeline",!0)}if(h){var A,M,E=t.vLinePoint;r=E&&E.xa,i=E&&E.ya,"cursor"===r.spikesnap?(A=u.pointerX,M=u.pointerY):(A=r._offset+E.x,M=i._offset+E.y);var P,D,L=o.readability(E.color,g)<1.5?f.contrast(g):E.color,R=r.spikemode,I=r.spikethickness,N=r.spikecolor||L,j=p.getPxPosition(e,r);if(-1!==R.indexOf("toaxis")||-1!==R.indexOf("across")){if(-1!==R.indexOf("toaxis")&&(P=j,D=M),-1!==R.indexOf("across")){var z=r._counterDomainMin,q=r._counterDomainMax;"free"===r.anchor&&(z=Math.min(z,r.position),q=Math.max(q,r.position)),P=l.t+(1-q)*l.h,D=l.t+(1-z)*l.h}a.insert("line",":first-child").attr({x1:A,x2:A,y1:P,y2:D,"stroke-width":I,stroke:N,"stroke-dasharray":c.dashStyle(r.spikedash,I)}).classed("spikeline",!0).classed("crisp",!0),a.insert("line",":first-child").attr({x1:A,x2:A,y1:P,y2:D,"stroke-width":I+2,stroke:g}).classed("spikeline",!0).classed("crisp",!0)}-1!==R.indexOf("marker")&&a.insert("circle",":first-child").attr({cx:A,cy:j-("top"!==r.side?I:-I),r:I,fill:N}).classed("spikeline",!0)}}}function R(e,t){return!t||t.vLinePoint!==e._spikepoints.vLinePoint||t.hLinePoint!==e._spikepoints.hLinePoint}function I(e,t){return l.plainText(e||"",{len:t,allowedTags:["br","sub","sup","b","i","em"]})}},{"../../lib":203,"../../lib/events":196,"../../lib/override_cursor":214,"../../lib/svg_text_utils":224,"../../plots/cartesian/axes":248,"../../registry":295,"../color":75,"../dragelement":94,"../drawing":97,"../legend/defaults":127,"../legend/draw":128,"./constants":109,"./helpers":111,d3:21,"fast-isnumeric":23,tinycolor2:58}],113:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../color"),o=e("./helpers").isUnifiedHover;t.exports=function(e,t,n,a){function s(e){a.font[e]||(a.font[e]=t.legend?t.legend.font[e]:t.font[e])}a=a||{},t&&o(t.hovermode)&&(a.font||(a.font={}),s("size"),s("family"),s("color"),t.legend?(a.bgcolor||(a.bgcolor=i.combine(t.legend.bgcolor,t.paper_bgcolor)),a.bordercolor||(a.bordercolor=t.legend.bordercolor)):a.bgcolor||(a.bgcolor=t.paper_bgcolor)),n("hoverlabel.bgcolor",a.bgcolor),n("hoverlabel.bordercolor",a.bordercolor),n("hoverlabel.namelength",a.namelength),r.coerceFont(n,"hoverlabel.font",a.font),n("hoverlabel.align",a.align)}},{"../../lib":203,"../color":75,"./helpers":111}],114:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("./layout_attributes");t.exports=function(e,t,n){function o(n,o){return void 0!==t[n]?t[n]:r.coerce(e,t,i,n,o)}var a,s=o("clickmode");return t._has("cartesian")?s.indexOf("select")>-1?a="closest":(t._isHoriz=function(e,t){for(var n=t._scatterStackOpts||{},r=0;r<e.length;r++){var i=e[r],o=(n[i.xaxis+i.yaxis]||{})[i.stackgroup]||{};if("h"!==i.orientation&&"h"!==o.orientation)return!1}return!0}(n,t),a=t._isHoriz?"y":"x"):a="closest",o("hovermode",a)}},{"../../lib":203,"./layout_attributes":116}],115:[function(e,t,n){"use strict";var r=e("d3"),i=e("../../lib"),o=e("../dragelement"),a=e("./helpers"),s=e("./layout_attributes"),l=e("./hover");t.exports={moduleType:"component",name:"fx",constants:e("./constants"),schema:{layout:s},attributes:e("./attributes"),layoutAttributes:s,supplyLayoutGlobalDefaults:e("./layout_global_defaults"),supplyDefaults:e("./defaults"),supplyLayoutDefaults:e("./layout_defaults"),calc:e("./calc"),getDistanceFunction:a.getDistanceFunction,getClosest:a.getClosest,inbox:a.inbox,quadrature:a.quadrature,appendArrayPointValue:a.appendArrayPointValue,castHoverOption:function(e,t,n){return i.castOption(e,t,"hoverlabel."+n)},castHoverinfo:function(e,t,n){return i.castOption(e,n,"hoverinfo",(function(n){return i.coerceHoverinfo({hoverinfo:n},{_module:e._module},t)}))},hover:l.hover,unhover:o.unhover,loneHover:l.loneHover,loneUnhover:function(e){var t=i.isD3Selection(e)?e:r.select(e);t.selectAll("g.hovertext").remove(),t.selectAll(".spikeline").remove()},click:e("./click")}},{"../../lib":203,"../dragelement":94,"./attributes":106,"./calc":107,"./click":108,"./constants":109,"./defaults":110,"./helpers":111,"./hover":112,"./layout_attributes":116,"./layout_defaults":117,"./layout_global_defaults":118,d3:21}],116:[function(e,t,n){"use strict";var r=e("./constants"),i=e("../../plots/font_attributes")({editType:"none"});i.family.dflt=r.HOVERFONT,i.size.dflt=r.HOVERFONTSIZE,t.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:20,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:i,align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},{"../../plots/font_attributes":276,"./constants":109}],117:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("./helpers").isUnifiedHover,o=e("./layout_attributes"),a=e("./hovermode_defaults"),s=e("./hoverlabel_defaults");t.exports=function(e,t,n){function l(n,i){return r.coerce(e,t,o,n,i)}var u=a(e,t,n);u&&(l("hoverdistance"),l("spikedistance",i(u)?-1:void 0)),"select"===l("dragmode")&&l("selectdirection");var c=t._has("mapbox"),f=t._has("geo"),d=t._basePlotModules.length;"zoom"===t.dragmode&&((c||f)&&1===d||c&&f&&2===d)&&(t.dragmode="pan"),s(e,t,l)}},{"../../lib":203,"./helpers":111,"./hoverlabel_defaults":113,"./hovermode_defaults":114,"./layout_attributes":116}],118:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("./hoverlabel_defaults"),o=e("./layout_attributes");t.exports=function(e,t){i(e,t,(function(n,i){return r.coerce(e,t,o,n,i)}))}},{"../../lib":203,"./hoverlabel_defaults":113,"./layout_attributes":116}],119:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../lib/regex").counter,o=e("../../plots/domain").attributes,a=e("../../plots/cartesian/constants").idRegex,s=e("../../plot_api/plot_template"),l={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[i("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[a.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[a.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:o({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function u(e,t,n){var r=t[n+"axes"],i=Object.keys((e._splomAxes||{})[n]||{});return Array.isArray(r)?r:i.length?i:void 0}function c(e,t,n,r,i,o){var a=t(e+"gap",n),s=t("domain."+e);t(e+"side",r);for(var l=new Array(i),u=s[0],c=(s[1]-u)/(i-a),f=c*(1-a),d=0;d<i;d++){var p=u+c*d;l[o?i-1-d:d]=[p,p+f]}return l}function f(e,t,n,r,i){var o,a=new Array(n);function s(e,n){-1!==t.indexOf(n)&&void 0===r[n]?(a[e]=n,r[n]=e):a[e]=""}if(Array.isArray(e))for(o=0;o<n;o++)s(o,e[o]);else for(s(0,i),o=1;o<n;o++)s(o,i+(o+1));return a}t.exports={moduleType:"component",name:"grid",schema:{layout:{grid:l}},layoutAttributes:l,sizeDefaults:function(e,t){var n=e.grid||{},i=u(t,n,"x"),o=u(t,n,"y");if(e.grid||i||o){var a,f,d=Array.isArray(n.subplots)&&Array.isArray(n.subplots[0]),p=Array.isArray(i),h=Array.isArray(o),g=p&&i!==n.xaxes&&h&&o!==n.yaxes;d?(a=n.subplots.length,f=n.subplots[0].length):(h&&(a=o.length),p&&(f=i.length));var m=s.newContainer(t,"grid"),y=T("rows",a),v=T("columns",f);if(y*v>1){d||p||h||"independent"===T("pattern")&&(d=!0),m._hasSubplotGrid=d;var b,x,_="top to bottom"===T("roworder"),w=d?.2:.1,k=d?.3:.1;g&&t._splomGridDflt&&(b=t._splomGridDflt.xside,x=t._splomGridDflt.yside),m._domains={x:c("x",T,w,b,v),y:c("y",T,k,x,y,_)}}else delete t.grid}function T(e,t){return r.coerce(n,m,l,e,t)}},contentDefaults:function(e,t){var n=t.grid;if(n&&n._domains){var r,i,o,a,s,l,c,d=e.grid||{},p=t._subplots,h=n._hasSubplotGrid,g=n.rows,m=n.columns,y="independent"===n.pattern,v=n._axisMap={};if(h){var b=d.subplots||[];l=n.subplots=new Array(g);var x=1;for(r=0;r<g;r++){var _=l[r]=new Array(m),w=b[r]||[];for(i=0;i<m;i++)if(y?(s=1===x?"xy":"x"+x+"y"+x,x++):s=w[i],_[i]="",-1!==p.cartesian.indexOf(s)){if(c=s.indexOf("y"),o=s.slice(0,c),a=s.slice(c),void 0!==v[o]&&v[o]!==i||void 0!==v[a]&&v[a]!==r)continue;_[i]=s,v[o]=i,v[a]=r}}}else{var k=u(t,d,"x"),T=u(t,d,"y");n.xaxes=f(k,p.xaxis,m,v,"x"),n.yaxes=f(T,p.yaxis,g,v,"y")}var C=n._anchors={},O="top to bottom"===n.roworder;for(var S in v){var A,M,E,P=S.charAt(0),D=n[P+"side"];if(D.length<8)C[S]="free";else if("x"===P){if("t"===D.charAt(0)===O?(A=0,M=1,E=g):(A=g-1,M=-1,E=-1),h){var L=v[S];for(r=A;r!==E;r+=M)if((s=l[r][L])&&(c=s.indexOf("y"),s.slice(0,c)===S)){C[S]=s.slice(c);break}}else for(r=A;r!==E;r+=M)if(a=n.yaxes[r],-1!==p.cartesian.indexOf(S+a)){C[S]=a;break}}else if("l"===D.charAt(0)?(A=0,M=1,E=m):(A=m-1,M=-1,E=-1),h){var R=v[S];for(r=A;r!==E;r+=M)if((s=l[R][r])&&(c=s.indexOf("y"),s.slice(c)===S)){C[S]=s.slice(0,c);break}}else for(r=A;r!==E;r+=M)if(o=n.xaxes[r],-1!==p.cartesian.indexOf(o+S)){C[S]=o;break}}}}}},{"../../lib":203,"../../lib/regex":218,"../../plot_api/plot_template":237,"../../plots/cartesian/constants":254,"../../plots/domain":275}],120:[function(e,t,n){"use strict";var r=e("../../plots/cartesian/constants"),i=e("../../plot_api/plot_template").templatedArray;e("../../constants/axis_placeable_objects"),t.exports=i("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",r.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",r.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},{"../../constants/axis_placeable_objects":178,"../../plot_api/plot_template":237,"../../plots/cartesian/constants":254}],121:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../../lib/to_log_range");t.exports=function(e,t,n,o){t=t||{};var a="log"===n&&"linear"===t.type,s="linear"===n&&"log"===t.type;if(a||s)for(var l,u,c=e._fullLayout.images,f=t._id.charAt(0),d=0;d<c.length;d++)if(u="images["+d+"].",(l=c[d])[f+"ref"]===t._id){var p=l[f],h=l["size"+f],g=null,m=null;if(a){g=i(p,t.range);var y=h/Math.pow(10,g)/2;m=2*Math.log(y+Math.sqrt(1+y*y))/Math.LN10}else m=(g=Math.pow(10,p))*(Math.pow(10,h/2)-Math.pow(10,-h/2));r(g)?r(m)||(m=null):(g=null,m=null),o(u+f,g),o(u+"size"+f,m)}}},{"../../lib/to_log_range":226,"fast-isnumeric":23}],122:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../plots/cartesian/axes"),o=e("../../plots/array_container_defaults"),a=e("./attributes");function s(e,t,n){function o(n,i){return r.coerce(e,t,a,n,i)}var s=o("source");if(!o("visible",!!s))return t;o("layer"),o("xanchor"),o("yanchor"),o("sizex"),o("sizey"),o("sizing"),o("opacity");for(var l={_fullLayout:n},u=["x","y"],c=0;c<2;c++){var f=u[c],d=i.coerceRef(e,t,l,f,"paper",void 0);"paper"!==d&&i.getFromId(l,d)._imgIndices.push(t._index),i.coercePosition(t,l,o,d,f,0)}return t}t.exports=function(e,t){o(e,t,{name:"images",handleItemDefaults:s})}},{"../../lib":203,"../../plots/array_container_defaults":243,"../../plots/cartesian/axes":248,"./attributes":120}],123:[function(e,t,n){"use strict";var r=e("d3"),i=e("../drawing"),o=e("../../plots/cartesian/axes"),a=e("../../plots/cartesian/axis_ids"),s=e("../../constants/xmlns_namespaces");t.exports=function(e){var t,n,l=e._fullLayout,u=[],c={},f=[];for(n=0;n<l.images.length;n++){var d=l.images[n];if(d.visible)if("below"===d.layer&&"paper"!==d.xref&&"paper"!==d.yref){t=a.ref2id(d.xref)+a.ref2id(d.yref);var p=l._plots[t];if(!p){f.push(d);continue}p.mainplot&&(t=p.mainplot.id),c[t]||(c[t]=[]),c[t].push(d)}else"above"===d.layer?u.push(d):f.push(d)}var h={left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-.5},right:{sizing:"xMax",offset:-1}},g={top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-.5},bottom:{sizing:"YMax",offset:-1}};function m(t){var n=r.select(this);if(this._imgSrc!==t.source)if(n.attr("xmlns",s.svg),t.source&&"data:"===t.source.slice(0,5))n.attr("xlink:href",t.source),this._imgSrc=t.source;else{var i=new Promise(function(e){var r=new Image;function i(){n.remove(),e()}this.img=r,r.setAttribute("crossOrigin","anonymous"),r.onerror=i,r.onload=function(){var t=document.createElement("canvas");t.width=this.width,t.height=this.height,t.getContext("2d").drawImage(this,0,0);var r=t.toDataURL("image/png");n.attr("xlink:href",r),e()},n.on("error",i),r.src=t.source,this._imgSrc=t.source}.bind(this));e._promises.push(i)}}function y(t){var n,a,s=r.select(this),u=o.getFromId(e,t.xref),c=o.getFromId(e,t.yref),f="domain"===o.getRefType(t.xref),d="domain"===o.getRefType(t.yref),p=l._size;n=void 0!==u?"string"==typeof t.xref&&f?u._length*t.sizex:Math.abs(u.l2p(t.sizex)-u.l2p(0)):t.sizex*p.w,a=void 0!==c?"string"==typeof t.yref&&d?c._length*t.sizey:Math.abs(c.l2p(t.sizey)-c.l2p(0)):t.sizey*p.h;var m,y,v=n*h[t.xanchor].offset,b=a*g[t.yanchor].offset,x=h[t.xanchor].sizing+g[t.yanchor].sizing;switch(m=void 0!==u?"string"==typeof t.xref&&f?u._length*t.x+u._offset:u.r2p(t.x)+u._offset:t.x*p.w+p.l,m+=v,y=void 0!==c?"string"==typeof t.yref&&d?c._length*(1-t.y)+c._offset:c.r2p(t.y)+c._offset:p.h-t.y*p.h+p.t,y+=b,t.sizing){case"fill":x+=" slice";break;case"stretch":x="none"}s.attr({x:m,y,width:n,height:a,preserveAspectRatio:x,opacity:t.opacity});var _=(u&&"domain"!==o.getRefType(t.xref)?u._id:"")+(c&&"domain"!==o.getRefType(t.yref)?c._id:"");i.setClipUrl(s,_?"clip"+l._uid+_:null,e)}var v=l._imageLowerLayer.selectAll("image").data(f),b=l._imageUpperLayer.selectAll("image").data(u);v.enter().append("image"),b.enter().append("image"),v.exit().remove(),b.exit().remove(),v.each((function(e){m.bind(this)(e),y.bind(this)(e)})),b.each((function(e){m.bind(this)(e),y.bind(this)(e)}));var x=Object.keys(l._plots);for(n=0;n<x.length;n++){t=x[n];var _=l._plots[t];if(_.imagelayer){var w=_.imagelayer.selectAll("image").data(c[t]||[]);w.enter().append("image"),w.exit().remove(),w.each((function(e){m.bind(this)(e),y.bind(this)(e)}))}}}},{"../../constants/xmlns_namespaces":183,"../../plots/cartesian/axes":248,"../../plots/cartesian/axis_ids":251,"../drawing":97,d3:21}],124:[function(e,t,n){"use strict";t.exports={moduleType:"component",name:"images",layoutAttributes:e("./attributes"),supplyLayoutDefaults:e("./defaults"),includeBasePlot:e("../../plots/cartesian/include_components")("images"),draw:e("./draw"),convertCoords:e("./convert_coords")}},{"../../plots/cartesian/include_components":260,"./attributes":120,"./convert_coords":121,"./defaults":122,"./draw":123}],125:[function(e,t,n){"use strict";var r=e("../../plots/font_attributes"),i=e("../color/attributes");t.exports={bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:i.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:r({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},x:{valType:"number",min:-2,max:3,editType:"legend"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",min:-2,max:3,editType:"legend"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:r({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left"],editType:"legend"},editType:"legend"},editType:"legend"}},{"../../plots/font_attributes":276,"../color/attributes":74}],126:[function(e,t,n){"use strict";t.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,textGap:40,itemGap:5}},{}],127:[function(e,t,n){"use strict";var r=e("../../registry"),i=e("../../lib"),o=e("../../plot_api/plot_template"),a=e("./attributes"),s=e("../../plots/layout_attributes"),l=e("./helpers");t.exports=function(e,t,n){for(var u=e.legend||{},c=0,f=!1,d="normal",p=0;p<n.length;p++){var h=n[p];h.visible&&((h.showlegend||h._dfltShowLegend&&!(h._module&&h._module.attributes&&h._module.attributes.showlegend&&!1===h._module.attributes.showlegend.dflt))&&(c++,h.showlegend&&(f=!0,(r.traceIs(h,"pie-like")||!0===h._input.showlegend)&&c++)),(r.traceIs(h,"bar")&&"stack"===t.barmode||-1!==["tonextx","tonexty"].indexOf(h.fill))&&(d=l.isGrouped({traceorder:d})?"grouped+reversed":"reversed"),void 0!==h.legendgroup&&""!==h.legendgroup&&(d=l.isReversed({traceorder:d})?"reversed+grouped":"grouped"))}var g=i.coerce(e,t,s,"showlegend",f&&c>1);if(!1!==g||u.uirevision){var m=o.newContainer(t,"legend");if(_("uirevision",t.uirevision),!1!==g){_("bgcolor",t.paper_bgcolor),_("bordercolor"),_("borderwidth"),i.coerceFont(_,"font",t.font);var y,v,b,x=_("orientation");"h"===x?(y=0,r.getComponentMethod("rangeslider","isVisible")(e.xaxis)?(v=1.1,b="bottom"):(v=-.1,b="top")):(y=1.02,v=1,b="auto"),_("traceorder",d),l.isGrouped(t.legend)&&_("tracegroupgap"),_("itemsizing"),_("itemclick"),_("itemdoubleclick"),_("x",y),_("xanchor"),_("y",v),_("yanchor",b),_("valign"),i.noneOrAll(u,m,["x","y"]),_("title.text")&&(_("title.side","h"===x?"left":"top"),i.coerceFont(_,"title.font",t.font))}}function _(e,t){return i.coerce(u,m,a,e,t)}}},{"../../lib":203,"../../plot_api/plot_template":237,"../../plots/layout_attributes":280,"../../registry":295,"./attributes":125,"./helpers":131}],128:[function(e,t,n){"use strict";var r=e("d3"),i=e("../../lib"),o=e("../../plots/plots"),a=e("../../registry"),s=e("../../lib/events"),l=e("../dragelement"),u=e("../drawing"),c=e("../color"),f=e("../../lib/svg_text_utils"),d=e("./handle_click"),p=e("./constants"),h=e("../../constants/alignment"),g=h.LINE_SPACING,m=h.FROM_TL,y=h.FROM_BR,v=e("./get_legend_data"),b=e("./style"),x=e("./helpers");function _(e,t,n,r,i){var o=n.data()[0][0].trace,l={event:i,node:n.node(),curveNumber:o.index,expandedIndex:o._expandedIndex,data:e.data,layout:e.layout,frames:e._transitionData._frames,config:e._context,fullData:e._fullData,fullLayout:e._fullLayout};o._group&&(l.group=o._group),a.traceIs(o,"pie-like")&&(l.label=n.datum()[0].label),!1!==s.triggerHandler(e,"plotly_legendclick",l)&&(1===r?t._clickTimeout=setTimeout((function(){d(n,e,r)}),e._context.doubleClickDelay):2===r&&(t._clickTimeout&&clearTimeout(t._clickTimeout),e._legendMouseDownTime=0,!1!==s.triggerHandler(e,"plotly_legenddoubleclick",l)&&d(n,e,r)))}function w(e,t,n){var r,o=e.data()[0][0],s=o.trace,l=a.traceIs(s,"pie-like"),c=s.index,d=n._main&&t._context.edits.legendText&&!l,h=n._maxNameLength;n.entries?r=o.text:(r=l?o.label:s.name,s._meta&&(r=i.templateString(r,s._meta)));var g=i.ensureSingle(e,"text","legendtext");g.attr("text-anchor","start").call(u.font,n.font).text(d?k(r,h):r),f.positionText(g,p.textGap,0),d?g.call(f.makeEditable,{gd:t,text:r}).call(C,e,t,n).on("edit",(function(r){this.text(k(r,h)).call(C,e,t,n);var s=o.trace._fullInput||{},l={};if(a.hasTransform(s,"groupby")){var u=a.getTransformIndices(s,"groupby"),f=u[u.length-1],d=i.keyedContainer(s,"transforms["+f+"].styles","target","value.name");d.set(o.trace._group,r),l=d.constructUpdate()}else l.name=r;return a.call("_guiRestyle",t,l,c)})):C(g,e,t,n)}function k(e,t){var n=Math.max(4,t);if(e&&e.trim().length>=n/2)return e;for(var r=n-(e=e||"").length;r>0;r--)e+=" ";return e}function T(e,t){var n,o=t._context.doubleClickDelay,a=1,s=i.ensureSingle(e,"rect","legendtoggle",(function(e){t._context.staticPlot||e.style("cursor","pointer").attr("pointer-events","all"),e.call(c.fill,"rgba(0,0,0,0)")}));t._context.staticPlot||(s.on("mousedown",(function(){(n=(new Date).getTime())-t._legendMouseDownTime<o?a+=1:(a=1,t._legendMouseDownTime=n)})),s.on("mouseup",(function(){if(!t._dragged&&!t._editing){var n=t._fullLayout.legend;(new Date).getTime()-t._legendMouseDownTime>o&&(a=Math.max(a-1,1)),_(t,n,e,a,r.event)}})))}function C(e,t,n,r){r._main||e.attr("data-notex",!0),f.convertToTspans(e,n,(function(){!function(e,t,n){var r=e.data()[0][0];if(n._main&&r&&!r.trace.showlegend)e.remove();else{var i=e.select("g[class*=math-group]"),o=i.node();n||(n=t._fullLayout.legend);var a,s,l=n.borderwidth,c=(r?n:n.title).font.size*g;if(o){var d=u.bBox(o);a=d.height,s=d.width,r?u.setTranslate(i,0,.25*a):u.setTranslate(i,l,.75*a+l)}else{var h=e.select(r?".legendtext":".legendtitletext"),m=f.lineCount(h),y=h.node();a=c*m,s=y?u.bBox(y).width:0;var v=c*((m-1)/2-.3);r?f.positionText(h,p.textGap,-v):f.positionText(h,p.titlePad+l,c+l)}r?(r.lineHeight=c,r.height=Math.max(a,16)+3,r.width=s):(n._titleWidth=s,n._titleHeight=a)}}(t,n,r)}))}function O(e){return i.isRightAnchor(e)?"right":i.isCenterAnchor(e)?"center":"left"}function S(e){return i.isBottomAnchor(e)?"bottom":i.isMiddleAnchor(e)?"middle":"top"}t.exports=function(e,t){var n,s=e._fullLayout,f="legend"+s._uid;if(t?(n=t.layer,f+="-hover"):((t=s.legend||{})._main=!0,n=s._infolayer),n){var d;if(e._legendMouseDownTime||(e._legendMouseDownTime=0),t._main){if(!e.calcdata)return;d=s.showlegend&&v(e.calcdata,t)}else{if(!t.entries)return;d=v(t.entries,t)}var h=s.hiddenlabels||[];if(t._main&&(!s.showlegend||!d.length))return n.selectAll(".legend").remove(),s._topdefs.select("#"+f).remove(),o.autoMargin(e,"legend");var g=i.ensureSingle(n,"g","legend",(function(e){t._main&&e.attr("pointer-events","all")})),k=i.ensureSingleById(s._topdefs,"clipPath",f,(function(e){e.append("rect")})),A=i.ensureSingle(g,"rect","bg",(function(e){e.attr("shape-rendering","crispEdges")}));A.call(c.stroke,t.bordercolor).call(c.fill,t.bgcolor).style("stroke-width",t.borderwidth+"px");var M=i.ensureSingle(g,"g","scrollbox"),E=t.title;if(t._titleWidth=0,t._titleHeight=0,E.text){var P=i.ensureSingle(M,"text","legendtitletext");P.attr("text-anchor","start").call(u.font,E.font).text(E.text),C(P,M,e,t)}else M.selectAll(".legendtitletext").remove();var D=i.ensureSingle(g,"rect","scrollbar",(function(e){e.attr(p.scrollBarEnterAttrs).call(c.fill,p.scrollBarColor)})),L=M.selectAll("g.groups").data(d);L.enter().append("g").attr("class","groups"),L.exit().remove();var R=L.selectAll("g.traces").data(i.identity);R.enter().append("g").attr("class","traces"),R.exit().remove(),R.style("opacity",(function(e){var t=e[0].trace;return a.traceIs(t,"pie-like")?-1!==h.indexOf(e[0].label)?.5:1:"legendonly"===t.visible?.5:1})).each((function(){r.select(this).call(w,e,t)})).call(b,e,t).each((function(){t._main&&r.select(this).call(T,e)})),i.syncOrAsync([o.previousPromises,function(){return function(e,t,n,i){var o=e._fullLayout;i||(i=o.legend);var a=o._size,s=x.isVertical(i),l=x.isGrouped(i),c=i.borderwidth,f=2*c,d=p.textGap,h=p.itemGap,g=2*(c+h),m=S(i),y=i.y<0||0===i.y&&"top"===m,v=i.y>1||1===i.y&&"bottom"===m;i._maxHeight=Math.max(y||v?o.height/2:a.h,30);var b=0;i._width=0,i._height=0;var _=function(e){var t=0,n=0,r=e.title.side;return r&&(-1!==r.indexOf("left")&&(t=e._titleWidth),-1!==r.indexOf("top")&&(n=e._titleHeight)),[t,n]}(i);if(s)n.each((function(e){var t=e[0].height;u.setTranslate(this,c+_[0],c+_[1]+i._height+t/2+h),i._height+=t,i._width=Math.max(i._width,e[0].width)})),b=d+i._width,i._width+=h+d+f,i._height+=g,l&&(t.each((function(e,t){u.setTranslate(this,0,t*i.tracegroupgap)})),i._height+=(i._lgroupsLength-1)*i.tracegroupgap);else{var w=O(i),k=i.x<0||0===i.x&&"right"===w,T=i.x>1||1===i.x&&"left"===w,C=v||y,A=o.width/2;i._maxWidth=Math.max(k?C&&"left"===w?a.l+a.w:A:T?C&&"right"===w?a.r+a.w:A:a.w,2*d);var M=0,E=0;n.each((function(e){var t=e[0].width+d;M=Math.max(M,t),E+=t})),b=null;var P=0;if(l){var D=0,L=0,R=0;t.each((function(){var e=0,t=0;r.select(this).selectAll("g.traces").each((function(n){var r=n[0].height;u.setTranslate(this,_[0],_[1]+c+h+r/2+t),t+=r,e=Math.max(e,d+n[0].width)})),D=Math.max(D,t);var n=e+h;n+c+L>i._maxWidth&&(P=Math.max(P,L),L=0,R+=D+i.tracegroupgap,D=t),u.setTranslate(this,L,R),L+=n})),i._width=Math.max(P,L)+c,i._height=R+D+g}else{var I=n.size(),N=E+f+(I-1)*h<i._maxWidth,j=0,z=0,q=0,F=0;n.each((function(e){var t=e[0].height,n=d+e[0].width,r=(N?n:M)+h;r+c+z-h>=i._maxWidth&&(P=Math.max(P,F),z=0,q+=j,i._height+=j,j=0),u.setTranslate(this,_[0]+c+z,_[1]+c+q+t/2+h),F=z+n+h,z+=r,j=Math.max(j,t)})),N?(i._width=z+f,i._height=j+g):(i._width=Math.max(P,F)+f,i._height+=j+g)}}i._width=Math.ceil(Math.max(i._width+_[0],i._titleWidth+2*(c+p.titlePad))),i._height=Math.ceil(Math.max(i._height+_[1],i._titleHeight+2*(c+p.itemGap))),i._effHeight=Math.min(i._height,i._maxHeight);var B=e._context.edits,H=B.legendText||B.legendPosition;n.each((function(e){var t=r.select(this).select(".legendtoggle"),n=e[0].height,i=H?d:b||d+e[0].width;s||(i+=h/2),u.setRect(t,0,-n/2,i,n)}))}(e,L,R,t)},function(){if(!t._main||!function(e){var t=e._fullLayout.legend,n=O(t),r=S(t);return o.autoMargin(e,"legend",{x:t.x,y:t.y,l:t._width*m[n],r:t._width*y[n],b:t._effHeight*y[r],t:t._effHeight*m[r]})}(e)){var c,d,h,v,b=s._size,x=t.borderwidth,w=b.l+b.w*t.x-m[O(t)]*t._width,T=b.t+b.h*(1-t.y)-m[S(t)]*t._effHeight;if(t._main&&s.margin.autoexpand){var C=w,E=T;w=i.constrain(w,0,s.width-t._width),T=i.constrain(T,0,s.height-t._effHeight),w!==C&&i.log("Constrain legend.x to make legend fit inside graph"),T!==E&&i.log("Constrain legend.y to make legend fit inside graph")}if(t._main&&u.setTranslate(g,w,T),D.on(".drag",null),g.on("wheel",null),!t._main||t._height<=t._maxHeight||e._context.staticPlot){var P=t._effHeight;t._main||(P=t._height),A.attr({width:t._width-x,height:P-x,x:x/2,y:x/2}),u.setTranslate(M,0,0),k.select("rect").attr({width:t._width-2*x,height:P-2*x,x,y:x}),u.setClipUrl(M,f,e),u.setRect(D,0,0,0,0),delete t._scrollY}else{var L,R,I,N=Math.max(p.scrollBarMinHeight,t._effHeight*t._effHeight/t._height),j=t._effHeight-N-2*p.scrollBarMargin,z=t._height-t._effHeight,q=j/z,F=Math.min(t._scrollY||0,z);A.attr({width:t._width-2*x+p.scrollBarWidth+p.scrollBarMargin,height:t._effHeight-x,x:x/2,y:x/2}),k.select("rect").attr({width:t._width-2*x+p.scrollBarWidth+p.scrollBarMargin,height:t._effHeight-2*x,x,y:x+F}),u.setClipUrl(M,f,e),U(F,N,q),g.on("wheel",(function(){U(F=i.constrain(t._scrollY+r.event.deltaY/j*z,0,z),N,q),0!==F&&F!==z&&r.event.preventDefault()}));var B=r.behavior.drag().on("dragstart",(function(){var e=r.event.sourceEvent;L="touchstart"===e.type?e.changedTouches[0].clientY:e.clientY,I=F})).on("drag",(function(){var e=r.event.sourceEvent;2===e.buttons||e.ctrlKey||(R="touchmove"===e.type?e.changedTouches[0].clientY:e.clientY,U(F=function(e,t,n){var r=(n-t)/q+e;return i.constrain(r,0,z)}(I,L,R),N,q))}));D.call(B);var H=r.behavior.drag().on("dragstart",(function(){var e=r.event.sourceEvent;"touchstart"===e.type&&(L=e.changedTouches[0].clientY,I=F)})).on("drag",(function(){var e=r.event.sourceEvent;"touchmove"===e.type&&(R=e.changedTouches[0].clientY,U(F=function(e,t,n){var r=(t-n)/q+e;return i.constrain(r,0,z)}(I,L,R),N,q))}));M.call(H)}e._context.edits.legendPosition&&(g.classed("cursor-move",!0),l.init({element:g.node(),gd:e,prepFn:function(){var e=u.getTranslate(g);h=e.x,v=e.y},moveFn:function(e,n){var r=h+e,i=v+n;u.setTranslate(g,r,i),c=l.align(r,0,b.l,b.l+b.w,t.xanchor),d=l.align(i,0,b.t+b.h,b.t,t.yanchor)},doneFn:function(){void 0!==c&&void 0!==d&&a.call("_guiRelayout",e,{"legend.x":c,"legend.y":d})},clickFn:function(t,r){var i=n.selectAll("g.traces").filter((function(){var e=this.getBoundingClientRect();return r.clientX>=e.left&&r.clientX<=e.right&&r.clientY>=e.top&&r.clientY<=e.bottom}));i.size()>0&&_(e,g,i,t,r)}}))}function U(n,r,i){t._scrollY=e._fullLayout.legend._scrollY=n,u.setTranslate(M,0,-n),u.setRect(D,t._width,p.scrollBarMargin+n*i,p.scrollBarWidth,r),k.select("rect").attr("y",x+n)}}],e)}}},{"../../constants/alignment":177,"../../lib":203,"../../lib/events":196,"../../lib/svg_text_utils":224,"../../plots/plots":282,"../../registry":295,"../color":75,"../dragelement":94,"../drawing":97,"./constants":126,"./get_legend_data":129,"./handle_click":130,"./helpers":131,"./style":133,d3:21}],129:[function(e,t,n){"use strict";var r=e("../../registry"),i=e("./helpers");t.exports=function(e,t){var n,o,a={},s=[],l=!1,u={},c=0,f=0,d=t._main;function p(e,n){if(""!==e&&i.isGrouped(t))-1===s.indexOf(e)?(s.push(e),l=!0,a[e]=[[n]]):a[e].push([n]);else{var r="~~i"+c;s.push(r),a[r]=[[n]],c++}}for(n=0;n<e.length;n++){var h=e[n],g=h[0],m=g.trace,y=m.legendgroup;if(!d||m.visible&&m.showlegend)if(r.traceIs(m,"pie-like"))for(u[y]||(u[y]={}),o=0;o<h.length;o++){var v=h[o].label;u[y][v]||(p(y,{label:v,color:h[o].color,i:h[o].i,trace:m,pts:h[o].pts}),u[y][v]=!0,f=Math.max(f,(v||"").length))}else p(y,g),f=Math.max(f,(m.name||"").length)}if(!s.length)return[];var b,x,_=s.length;if(l&&i.isGrouped(t))for(x=new Array(_),n=0;n<_;n++)b=a[s[n]],x[n]=i.isReversed(t)?b.reverse():b;else{for(x=[new Array(_)],n=0;n<_;n++)b=a[s[n]][0],x[0][i.isReversed(t)?_-n-1:n]=b;_=1}return t._lgroupsLength=_,t._maxNameLength=f,x}},{"../../registry":295,"./helpers":131}],130:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../registry"),o=!0;t.exports=function(e,t,n){var a=t._fullLayout;if(!t._dragged&&!t._editing){var s,l=a.legend.itemclick,u=a.legend.itemdoubleclick;if(1===n&&"toggle"===l&&"toggleothers"===u&&o&&t.data&&t._context.showTips?(r.notifier(r._(t,"Double-click on legend to isolate one trace"),"long"),o=!1):o=!1,1===n?s=l:2===n&&(s=u),s){var c,f,d,p,h,g=a.hiddenlabels?a.hiddenlabels.slice():[],m=e.data()[0][0],y=t._fullData,v=m.trace,b=v.legendgroup,x={},_=[],w=[],k=[];if(i.traceIs(v,"pie-like")){var T=m.label,C=g.indexOf(T);"toggle"===s?-1===C?g.push(T):g.splice(C,1):"toggleothers"===s&&(g=[],t.calcdata[0].forEach((function(e){T!==e.label&&g.push(e.label)})),t._fullLayout.hiddenlabels&&t._fullLayout.hiddenlabels.length===g.length&&-1===C&&(g=[])),i.call("_guiRelayout",t,"hiddenlabels",g)}else{var O,S=b&&b.length,A=[];if(S)for(c=0;c<y.length;c++)(O=y[c]).visible&&O.legendgroup===b&&A.push(c);if("toggle"===s){var M;switch(v.visible){case!0:M="legendonly";break;case!1:M=!1;break;case"legendonly":M=!0}if(S)for(c=0;c<y.length;c++)!1!==y[c].visible&&y[c].legendgroup===b&&z(y[c],M);else z(v,M)}else if("toggleothers"===s){var E,P,D,L,R=!0;for(c=0;c<y.length;c++)if(E=y[c]===v,D=!0!==y[c].showlegend,!(E||D||(P=S&&y[c].legendgroup===b)||!0!==y[c].visible||i.traceIs(y[c],"notLegendIsolatable"))){R=!1;break}for(c=0;c<y.length;c++)if(!1!==y[c].visible&&!i.traceIs(y[c],"notLegendIsolatable"))switch(v.visible){case"legendonly":z(y[c],!0);break;case!0:L=!!R||"legendonly",E=y[c]===v,D=!0!==y[c].showlegend&&!y[c].legendgroup,P=E||S&&y[c].legendgroup===b,z(y[c],!(!P&&!D)||L)}}for(c=0;c<w.length;c++)if(d=w[c]){var I=d.constructUpdate(),N=Object.keys(I);for(f=0;f<N.length;f++)p=N[f],(x[p]=x[p]||[])[k[c]]=I[p]}for(h=Object.keys(x),c=0;c<h.length;c++)for(p=h[c],f=0;f<_.length;f++)x[p].hasOwnProperty(f)||(x[p][f]=void 0);i.call("_guiRestyle",t,x,_)}}}function j(e,t,n){var r=_.indexOf(e),i=x[t];return i||(i=x[t]=[]),-1===_.indexOf(e)&&(_.push(e),r=_.length-1),i[r]=n,r}function z(e,t){var n=e._fullInput;if(i.hasTransform(n,"groupby")){var o=w[n.index];if(!o){var a=i.getTransformIndices(n,"groupby"),s=a[a.length-1];o=r.keyedContainer(n,"transforms["+s+"].styles","target","value.visible"),w[n.index]=o}var l=o.get(e._group);void 0===l&&(l=!0),!1!==l&&o.set(e._group,t),k[n.index]=j(n.index,"visible",!1!==n.visible)}else{var u=!1!==n.visible&&t;j(n.index,"visible",u)}}}},{"../../lib":203,"../../registry":295}],131:[function(e,t,n){"use strict";n.isGrouped=function(e){return-1!==(e.traceorder||"").indexOf("grouped")},n.isVertical=function(e){return"h"!==e.orientation},n.isReversed=function(e){return-1!==(e.traceorder||"").indexOf("reversed")}},{}],132:[function(e,t,n){"use strict";t.exports={moduleType:"component",name:"legend",layoutAttributes:e("./attributes"),supplyLayoutDefaults:e("./defaults"),draw:e("./draw"),style:e("./style")}},{"./attributes":125,"./defaults":127,"./draw":128,"./style":133}],133:[function(e,t,n){"use strict";var r=e("d3"),i=e("../../registry"),o=e("../../lib"),a=e("../drawing"),s=e("../color"),l=e("../colorscale/helpers").extractOpts,u=e("../../traces/scatter/subtypes"),c=e("../../traces/pie/style_one"),f=e("../../traces/pie/helpers").castOption;function d(e,t){return(t?"radial":"horizontal")+(e?"":"reversed")}t.exports=function(e,t,n){var p=t._fullLayout;n||(n=p.legend);var h="constant"===n.itemsizing,g=function(e,t,n,r){var i;if(e+1)i=e;else{if(!(t&&t.width>0))return 0;i=t.width}return h?r:Math.min(i,n)};function m(e,t,n){var o=e[0].trace,a=o.marker||{},l=a.line||{},u=n?o.visible&&o.type===n:i.traceIs(o,"bar"),c=r.select(t).select("g.legendpoints").selectAll("path.legend"+n).data(u?[e]:[]);c.enter().append("path").classed("legend"+n,!0).attr("d","M6,6H-6V-6H6Z").attr("transform","translate(20,0)"),c.exit().remove(),c.each((function(e){var t=r.select(this),n=e[0],i=g(n.mlw,a.line,5,2);t.style("stroke-width",i+"px").call(s.fill,n.mc||a.color),i&&s.stroke(t,n.mlc||l.color)}))}function y(e,t,n){var a=e[0],s=a.trace,l=n?s.visible&&s.type===n:i.traceIs(s,n),u=r.select(t).select("g.legendpoints").selectAll("path.legend"+n).data(l?[e]:[]);if(u.enter().append("path").classed("legend"+n,!0).attr("d","M6,6H-6V-6H6Z").attr("transform","translate(20,0)"),u.exit().remove(),u.size()){var d=(s.marker||{}).line,p=g(f(d.width,a.pts),d,5,2),h=o.minExtend(s,{marker:{line:{width:p}}});h.marker.line.color=d.color;var m=o.minExtend(a,{trace:h});c(u,m,h)}}e.each((function(e){var t=r.select(this),i=o.ensureSingle(t,"g","layers");i.style("opacity",e[0].trace.opacity);var a=n.valign,s=e[0].lineHeight,l=e[0].height;if("middle"!==a&&s&&l){var u={top:1,bottom:-1}[a]*(.5*(s-l+3));i.attr("transform","translate(0,"+u+")")}else i.attr("transform",null);i.selectAll("g.legendfill").data([e]).enter().append("g").classed("legendfill",!0),i.selectAll("g.legendlines").data([e]).enter().append("g").classed("legendlines",!0);var c=i.selectAll("g.legendsymbols").data([e]);c.enter().append("g").classed("legendsymbols",!0),c.selectAll("g.legendpoints").data([e]).enter().append("g").classed("legendpoints",!0)})).each((function(e){var n,i=e[0].trace,u=[];if(i.visible)switch(i.type){case"histogram2d":case"heatmap":u=[["M-15,-2V4H15V-2Z"]],n=!0;break;case"choropleth":case"choroplethmapbox":u=[["M-6,-6V6H6V-6Z"]],n=!0;break;case"densitymapbox":u=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],n="radial";break;case"cone":u=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],n=!1;break;case"streamtube":u=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],n=!1;break;case"surface":u=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],n=!0;break;case"mesh3d":u=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],n=!1;break;case"volume":u=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],n=!0;break;case"isosurface":u=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],n=!1}var c=r.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(u);c.enter().append("path").classed("legend3dandfriends",!0).attr("transform","translate(20,0)").style("stroke-miterlimit",1),c.exit().remove(),c.each((function(e,u){var c,f=r.select(this),p=l(i),h=p.colorscale,g=p.reversescale;if(h){if(!n){var m=h.length;c=0===u?h[g?m-1:0][1]:1===u?h[g?0:m-1][1]:h[Math.floor((m-1)/2)][1]}}else{var y=i.vertexcolor||i.facecolor||i.color;c=o.isArrayOrTypedArray(y)?y[u]||y[0]:y}f.attr("d",e[0]),c?f.call(s.fill,c):f.call((function(e){if(e.size()){var r="legendfill-"+i.uid;a.gradient(e,t,r,d(g,"radial"===n),h,"fill")}}))}))})).each((function(e){var t=e[0].trace,n="waterfall"===t.type;if(e[0]._distinct&&n){var i=e[0].trace[e[0].dir].marker;return e[0].mc=i.color,e[0].mlw=i.line.width,e[0].mlc=i.line.color,m(e,this,"waterfall")}var o=[];t.visible&&n&&(o=e[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var a=r.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(o);a.enter().append("path").classed("legendwaterfall",!0).attr("transform","translate(20,0)").style("stroke-miterlimit",1),a.exit().remove(),a.each((function(e){var n=r.select(this),i=t[e[0]].marker,o=g(void 0,i.line,5,2);n.attr("d",e[1]).style("stroke-width",o+"px").call(s.fill,i.color),o&&n.call(s.stroke,i.line.color)}))})).each((function(e){m(e,this,"funnel")})).each((function(e){m(e,this)})).each((function(e){var n=e[0].trace,l=r.select(this).select("g.legendpoints").selectAll("path.legendbox").data(n.visible&&i.traceIs(n,"box-violin")?[e]:[]);l.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform","translate(20,0)"),l.exit().remove(),l.each((function(){var e=r.select(this);if("all"!==n.boxpoints&&"all"!==n.points||0!==s.opacity(n.fillcolor)||0!==s.opacity((n.line||{}).color)){var i=g(void 0,n.line,5,2);e.style("stroke-width",i+"px").call(s.fill,n.fillcolor),i&&s.stroke(e,n.line.color)}else{var u=o.minExtend(n,{marker:{size:h?12:o.constrain(n.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});l.call(a.pointStyle,u,t)}}))})).each((function(e){y(e,this,"funnelarea")})).each((function(e){y(e,this,"pie")})).each((function(e){var n,i,s=e[0],c=s.trace,f=c.visible&&c.fill&&"none"!==c.fill,p=u.hasLines(c),h=c.contours,m=!1,y=!1,v=l(c),b=v.colorscale,x=v.reversescale;if(h){var _=h.coloring;"lines"===_?m=!0:p="none"===_||"heatmap"===_||h.showlines,"constraint"===h.type?f="="!==h._operation:"fill"!==_&&"heatmap"!==_||(y=!0)}var w=u.hasMarkers(c)||u.hasText(c)||!f&&!y?"M5,0":p||m?"M5,-2":"M5,-3",k=r.select(this),T=k.select(".legendfill").selectAll("path").data(f||y?[e]:[]);if(T.enter().append("path").classed("js-fill",!0),T.exit().remove(),T.attr("d",w+"h30v6h-30z").call(f?a.fillGroupStyle:function(e){if(e.size()){var n="legendfill-"+c.uid;a.gradient(e,t,n,d(x),b,"fill")}}),p||m){var C=g(void 0,c.line,10,5);i=o.minExtend(c,{line:{width:C}}),n=[o.minExtend(s,{trace:i})]}var O=k.select(".legendlines").selectAll("path").data(p||m?[n]:[]);O.enter().append("path").classed("js-line",!0),O.exit().remove(),O.attr("d",w+(m?"l30,0.0001":"h30")).call(p?a.lineGroupStyle:function(e){if(e.size()){var n="legendline-"+c.uid;a.lineGroupStyle(e),a.gradient(e,t,n,d(x),b,"stroke")}})})).each((function(e){var n,i,s=e[0],l=s.trace,c=u.hasMarkers(l),f=u.hasText(l),d=u.hasLines(l);function p(e,t,n,r){var i=o.nestedProperty(l,e).get(),a=o.isArrayOrTypedArray(i)&&t?t(i):i;if(h&&a&&void 0!==r&&(a=r),n){if(a<n[0])return n[0];if(a>n[1])return n[1]}return a}function g(e){return s._distinct&&s.index&&e[s.index]?e[s.index]:e[0]}if(c||f||d){var m={},y={};if(c){m.mc=p("marker.color",g),m.mx=p("marker.symbol",g),m.mo=p("marker.opacity",o.mean,[.2,1]),m.mlc=p("marker.line.color",g),m.mlw=p("marker.line.width",o.mean,[0,5],2),y.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var v=p("marker.size",o.mean,[2,16],12);m.ms=v,y.marker.size=v}d&&(y.line={width:p("line.width",g,[0,10],5)}),f&&(m.tx="Aa",m.tp=p("textposition",g),m.ts=10,m.tc=p("textfont.color",g),m.tf=p("textfont.family",g)),n=[o.minExtend(s,m)],(i=o.minExtend(l,y)).selectedpoints=null,i.texttemplate=null}var b=r.select(this).select("g.legendpoints"),x=b.selectAll("path.scatterpts").data(c?n:[]);x.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform","translate(20,0)"),x.exit().remove(),x.call(a.pointStyle,i,t),c&&(n[0].mrc=3);var _=b.selectAll("g.pointtext").data(f?n:[]);_.enter().append("g").classed("pointtext",!0).append("text").attr("transform","translate(20,0)"),_.exit().remove(),_.selectAll("text").call(a.textPointStyle,i,t)})).each((function(e){var t=e[0].trace,n=r.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(t.visible&&"candlestick"===t.type?[e,e]:[]);n.enter().append("path").classed("legendcandle",!0).attr("d",(function(e,t){return t?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"})).attr("transform","translate(20,0)").style("stroke-miterlimit",1),n.exit().remove(),n.each((function(e,n){var i=r.select(this),o=t[n?"increasing":"decreasing"],a=g(void 0,o.line,5,2);i.style("stroke-width",a+"px").call(s.fill,o.fillcolor),a&&s.stroke(i,o.line.color)}))})).each((function(e){var t=e[0].trace,n=r.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(t.visible&&"ohlc"===t.type?[e,e]:[]);n.enter().append("path").classed("legendohlc",!0).attr("d",(function(e,t){return t?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"})).attr("transform","translate(20,0)").style("stroke-miterlimit",1),n.exit().remove(),n.each((function(e,n){var i=r.select(this),o=t[n?"increasing":"decreasing"],l=g(void 0,o.line,5,2);i.style("fill","none").call(a.dashLine,o.line.dash,l),l&&s.stroke(i,o.line.color)}))}))}},{"../../lib":203,"../../registry":295,"../../traces/pie/helpers":408,"../../traces/pie/style_one":414,"../../traces/scatter/subtypes":441,"../color":75,"../colorscale/helpers":86,"../drawing":97,d3:21}],134:[function(e,t,n){"use strict";var r=e("../../registry"),i=e("../../plots/plots"),o=e("../../plots/cartesian/axis_ids"),a=e("../../fonts/ploticon"),s=e("../shapes/draw").eraseActiveShape,l=e("../../lib"),u=l._,c=t.exports={};function f(e,t){var n,i,a=t.currentTarget,s=a.getAttribute("data-attr"),l=a.getAttribute("data-val")||!0,u=e._fullLayout,c={},f=o.list(e,null,!0),d=u._cartesianSpikesEnabled;if("zoom"===s){var p,h="in"===l?.5:2,g=(1+h)/2,m=(1-h)/2;for(i=0;i<f.length;i++)if(!(n=f[i]).fixedrange)if(p=n._name,"auto"===l)c[p+".autorange"]=!0;else if("reset"===l){if(void 0===n._rangeInitial)c[p+".autorange"]=!0;else{var y=n._rangeInitial.slice();c[p+".range[0]"]=y[0],c[p+".range[1]"]=y[1]}void 0!==n._showSpikeInitial&&(c[p+".showspikes"]=n._showSpikeInitial,"on"!==d||n._showSpikeInitial||(d="off"))}else{var v=[n.r2l(n.range[0]),n.r2l(n.range[1])],b=[g*v[0]+m*v[1],g*v[1]+m*v[0]];c[p+".range[0]"]=n.l2r(b[0]),c[p+".range[1]"]=n.l2r(b[1])}}else"hovermode"!==s||"x"!==l&&"y"!==l||(l=u._isHoriz?"y":"x",a.setAttribute("data-val",l)),c[s]=l;u._cartesianSpikesEnabled=d,r.call("_guiRelayout",e,c)}function d(e,t){for(var n=t.currentTarget,i=n.getAttribute("data-attr"),o=n.getAttribute("data-val")||!0,a=e._fullLayout._subplots.gl3d||[],s={},l=i.split("."),u=0;u<a.length;u++)s[a[u]+"."+l[1]]=o;var c="pan"===o?o:"zoom";s.dragmode=c,r.call("_guiRelayout",e,s)}function p(e,t){for(var n=t.currentTarget.getAttribute("data-attr"),i="resetLastSave"===n,o="resetDefault"===n,a=e._fullLayout,s=a._subplots.gl3d||[],l={},u=0;u<s.length;u++){var c,f=s[u],d=f+".camera",p=f+".aspectratio",h=f+".aspectmode",g=a[f]._scene;i?(l[d+".up"]=g.viewInitial.up,l[d+".eye"]=g.viewInitial.eye,l[d+".center"]=g.viewInitial.center,c=!0):o&&(l[d+".up"]=null,l[d+".eye"]=null,l[d+".center"]=null,c=!0),c&&(l[p+".x"]=g.viewInitial.aspectratio.x,l[p+".y"]=g.viewInitial.aspectratio.y,l[p+".z"]=g.viewInitial.aspectratio.z,l[h]=g.viewInitial.aspectmode)}r.call("_guiRelayout",e,l)}function h(e,t){var n=t.currentTarget,r=n._previousVal,i=e._fullLayout,o=i._subplots.gl3d||[],a=["xaxis","yaxis","zaxis"],s={},l={};if(r)l=r,n._previousVal=null;else{for(var u=0;u<o.length;u++){var c=o[u],f=i[c],d=c+".hovermode";s[d]=f.hovermode,l[d]=!1;for(var p=0;p<3;p++){var h=a[p],g=c+"."+h+".showspikes";l[g]=!1,s[g]=f[h].showspikes}}n._previousVal=s}return l}function g(e,t){for(var n=t.currentTarget,i=n.getAttribute("data-attr"),o=n.getAttribute("data-val")||!0,a=e._fullLayout,s=a._subplots.geo||[],l=0;l<s.length;l++){var u=s[l],c=a[u];if("zoom"===i){var f=c.projection.scale,d="in"===o?2*f:.5*f;r.call("_guiRelayout",e,u+".projection.scale",d)}}"reset"===i&&b(e,"geo")}function m(e){var t=e._fullLayout;return!t.hovermode&&(t._has("cartesian")?t._isHoriz?"y":"x":"closest")}function y(e){var t=m(e);r.call("_guiRelayout",e,"hovermode",t)}function v(e,t){for(var n=t.currentTarget.getAttribute("data-val"),i=e._fullLayout,o=i._subplots.mapbox||[],a={},s=0;s<o.length;s++){var l=o[s],u=i[l].zoom,c="in"===n?1.05*u:u/1.05;a[l+".zoom"]=c}r.call("_guiRelayout",e,a)}function b(e,t){for(var n=e._fullLayout,i=n._subplots[t]||[],o={},a=0;a<i.length;a++)for(var s=i[a],l=n[s]._subplot.viewInitial,u=Object.keys(l),c=0;c<u.length;c++){var f=u[c];o[s+"."+f]=l[f]}r.call("_guiRelayout",e,o)}c.toImage={name:"toImage",title:function(e){var t=(e._context.toImageButtonOptions||{}).format||"png";return u(e,"png"===t?"Download plot as a png":"Download plot")},icon:a.camera,click:function(e){var t=e._context.toImageButtonOptions,n={format:t.format||"png"};l.notifier(u(e,"Taking snapshot - this may take a few seconds"),"long"),"svg"!==n.format&&l.isIE()&&(l.notifier(u(e,"IE only supports svg.  Changing format to svg."),"long"),n.format="svg"),["filename","width","height","scale"].forEach((function(e){e in t&&(n[e]=t[e])})),r.call("downloadImage",e,n).then((function(t){l.notifier(u(e,"Snapshot succeeded")+" - "+t,"long")})).catch((function(){l.notifier(u(e,"Sorry, there was a problem downloading your snapshot!"),"long")}))}},c.sendDataToCloud={name:"sendDataToCloud",title:function(e){return u(e,"Edit in Chart Studio")},icon:a.disk,click:function(e){i.sendDataToCloud(e)}},c.editInChartStudio={name:"editInChartStudio",title:function(e){return u(e,"Edit in Chart Studio")},icon:a.pencil,click:function(e){i.sendDataToCloud(e)}},c.zoom2d={name:"zoom2d",title:function(e){return u(e,"Zoom")},attr:"dragmode",val:"zoom",icon:a.zoombox,click:f},c.pan2d={name:"pan2d",title:function(e){return u(e,"Pan")},attr:"dragmode",val:"pan",icon:a.pan,click:f},c.select2d={name:"select2d",title:function(e){return u(e,"Box Select")},attr:"dragmode",val:"select",icon:a.selectbox,click:f},c.lasso2d={name:"lasso2d",title:function(e){return u(e,"Lasso Select")},attr:"dragmode",val:"lasso",icon:a.lasso,click:f},c.drawclosedpath={name:"drawclosedpath",title:function(e){return u(e,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:a.drawclosedpath,click:f},c.drawopenpath={name:"drawopenpath",title:function(e){return u(e,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:a.drawopenpath,click:f},c.drawline={name:"drawline",title:function(e){return u(e,"Draw line")},attr:"dragmode",val:"drawline",icon:a.drawline,click:f},c.drawrect={name:"drawrect",title:function(e){return u(e,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:a.drawrect,click:f},c.drawcircle={name:"drawcircle",title:function(e){return u(e,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:a.drawcircle,click:f},c.eraseshape={name:"eraseshape",title:function(e){return u(e,"Erase active shape")},icon:a.eraseshape,click:s},c.zoomIn2d={name:"zoomIn2d",title:function(e){return u(e,"Zoom in")},attr:"zoom",val:"in",icon:a.zoom_plus,click:f},c.zoomOut2d={name:"zoomOut2d",title:function(e){return u(e,"Zoom out")},attr:"zoom",val:"out",icon:a.zoom_minus,click:f},c.autoScale2d={name:"autoScale2d",title:function(e){return u(e,"Autoscale")},attr:"zoom",val:"auto",icon:a.autoscale,click:f},c.resetScale2d={name:"resetScale2d",title:function(e){return u(e,"Reset axes")},attr:"zoom",val:"reset",icon:a.home,click:f},c.hoverClosestCartesian={name:"hoverClosestCartesian",title:function(e){return u(e,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:a.tooltip_basic,gravity:"ne",click:f},c.hoverCompareCartesian={name:"hoverCompareCartesian",title:function(e){return u(e,"Compare data on hover")},attr:"hovermode",val:function(e){return e._fullLayout._isHoriz?"y":"x"},icon:a.tooltip_compare,gravity:"ne",click:f},c.zoom3d={name:"zoom3d",title:function(e){return u(e,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:a.zoombox,click:d},c.pan3d={name:"pan3d",title:function(e){return u(e,"Pan")},attr:"scene.dragmode",val:"pan",icon:a.pan,click:d},c.orbitRotation={name:"orbitRotation",title:function(e){return u(e,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:a["3d_rotate"],click:d},c.tableRotation={name:"tableRotation",title:function(e){return u(e,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:a["z-axis"],click:d},c.resetCameraDefault3d={name:"resetCameraDefault3d",title:function(e){return u(e,"Reset camera to default")},attr:"resetDefault",icon:a.home,click:p},c.resetCameraLastSave3d={name:"resetCameraLastSave3d",title:function(e){return u(e,"Reset camera to last save")},attr:"resetLastSave",icon:a.movie,click:p},c.hoverClosest3d={name:"hoverClosest3d",title:function(e){return u(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:a.tooltip_basic,gravity:"ne",click:function(e,t){var n=h(e,t);r.call("_guiRelayout",e,n)}},c.zoomInGeo={name:"zoomInGeo",title:function(e){return u(e,"Zoom in")},attr:"zoom",val:"in",icon:a.zoom_plus,click:g},c.zoomOutGeo={name:"zoomOutGeo",title:function(e){return u(e,"Zoom out")},attr:"zoom",val:"out",icon:a.zoom_minus,click:g},c.resetGeo={name:"resetGeo",title:function(e){return u(e,"Reset")},attr:"reset",val:null,icon:a.autoscale,click:g},c.hoverClosestGeo={name:"hoverClosestGeo",title:function(e){return u(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:a.tooltip_basic,gravity:"ne",click:y},c.hoverClosestGl2d={name:"hoverClosestGl2d",title:function(e){return u(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:a.tooltip_basic,gravity:"ne",click:y},c.hoverClosestPie={name:"hoverClosestPie",title:function(e){return u(e,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:a.tooltip_basic,gravity:"ne",click:y},c.resetViewSankey={name:"resetSankeyGroup",title:function(e){return u(e,"Reset view")},icon:a.home,click:function(e){for(var t={"node.groups":[],"node.x":[],"node.y":[]},n=0;n<e._fullData.length;n++){var i=e._fullData[n]._viewInitial;t["node.groups"].push(i.node.groups.slice()),t["node.x"].push(i.node.x.slice()),t["node.y"].push(i.node.y.slice())}r.call("restyle",e,t)}},c.toggleHover={name:"toggleHover",title:function(e){return u(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:a.tooltip_basic,gravity:"ne",click:function(e,t){var n=h(e,t);n.hovermode=m(e),r.call("_guiRelayout",e,n)}},c.resetViews={name:"resetViews",title:function(e){return u(e,"Reset views")},icon:a.home,click:function(e,t){var n=t.currentTarget;n.setAttribute("data-attr","zoom"),n.setAttribute("data-val","reset"),f(e,t),n.setAttribute("data-attr","resetLastSave"),p(e,t),b(e,"geo"),b(e,"mapbox")}},c.toggleSpikelines={name:"toggleSpikelines",title:function(e){return u(e,"Toggle Spike Lines")},icon:a.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(e){var t=e._fullLayout,n=t._cartesianSpikesEnabled;t._cartesianSpikesEnabled="on"===n?"off":"on",r.call("_guiRelayout",e,function(e){for(var t="on"===e._fullLayout._cartesianSpikesEnabled,n=o.list(e,null,!0),r={},i=0;i<n.length;i++){var a=n[i];r[a._name+".showspikes"]=!!t||a._showSpikeInitial}return r}(e))}},c.resetViewMapbox={name:"resetViewMapbox",title:function(e){return u(e,"Reset view")},attr:"reset",icon:a.home,click:function(e){b(e,"mapbox")}},c.zoomInMapbox={name:"zoomInMapbox",title:function(e){return u(e,"Zoom in")},attr:"zoom",val:"in",icon:a.zoom_plus,click:v},c.zoomOutMapbox={name:"zoomOutMapbox",title:function(e){return u(e,"Zoom out")},attr:"zoom",val:"out",icon:a.zoom_minus,click:v}},{"../../fonts/ploticon":186,"../../lib":203,"../../plots/cartesian/axis_ids":251,"../../plots/plots":282,"../../registry":295,"../shapes/draw":156}],135:[function(e,t,n){"use strict";n.manage=e("./manage")},{"./manage":136}],136:[function(e,t,n){"use strict";var r=e("../../plots/cartesian/axis_ids"),i=e("../../traces/scatter/subtypes"),o=e("../../registry"),a=e("../fx/helpers").isUnifiedHover,s=e("./modebar"),l=e("./buttons");t.exports=function(e){var t=e._fullLayout,n=e._context,c=t._modeBar;if(n.displayModeBar||n.watermark){if(!Array.isArray(n.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(n.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var f,d=n.modeBarButtons;f=Array.isArray(d)&&d.length?function(e){for(var t=0;t<e.length;t++)for(var n=e[t],r=0;r<n.length;r++){var i=n[r];if("string"==typeof i){if(void 0===l[i])throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));e[t][r]=l[i]}}return e}(d):!n.displayModeBar&&n.watermark?[]:function(e){var t=e._fullLayout,n=e._fullData,s=e._context,c=s.modeBarButtonsToRemove,f=s.modeBarButtonsToAdd,d=t._has("cartesian"),p=t._has("gl3d"),h=t._has("geo"),g=t._has("pie"),m=t._has("funnelarea"),y=t._has("gl2d"),v=t._has("ternary"),b=t._has("mapbox"),x=t._has("polar"),_=t._has("sankey"),w=function(e){for(var t=r.list({_fullLayout:e},null,!0),n=0;n<t.length;n++)if(!t[n].fixedrange)return!1;return!0}(t),k=a(t.hovermode),T=[];function C(e){if(e.length){for(var t=[],n=0;n<e.length;n++){var r=e[n];-1===c.indexOf(r)&&t.push(l[r])}T.push(t)}}var O=["toImage"];s.showEditInChartStudio?O.push("editInChartStudio"):s.showSendToCloud&&O.push("sendDataToCloud"),C(O);var S=[],A=[],M=[],E=[];if((d||y||g||m||v)+h+p+b+x>1?(A=["toggleHover"],M=["resetViews"]):h?(S=["zoomInGeo","zoomOutGeo"],A=["hoverClosestGeo"],M=["resetGeo"]):p?(A=["hoverClosest3d"],M=["resetCameraDefault3d","resetCameraLastSave3d"]):b?(S=["zoomInMapbox","zoomOutMapbox"],A=["toggleHover"],M=["resetViewMapbox"]):y?A=["hoverClosestGl2d"]:g?A=["hoverClosestPie"]:_?(A=["hoverClosestCartesian","hoverCompareCartesian"],M=["resetViewSankey"]):A=["toggleHover"],d&&(A=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(function(e){for(var t=0;t<e.length;t++)if(!o.traceIs(e[t],"noHover"))return!1;return!0}(n)||k)&&(A=[]),!d&&!y||w||(S=["zoomIn2d","zoomOut2d","autoScale2d"],"resetViews"!==M[0]&&(M=["resetScale2d"])),p?E=["zoom3d","pan3d","orbitRotation","tableRotation"]:(d||y)&&!w||v?E=["zoom2d","pan2d"]:b||h?E=["pan2d"]:x&&(E=["zoom2d"]),function(e){for(var t=!1,n=0;n<e.length&&!t;n++){var r=e[n];r._module&&r._module.selectPoints&&(o.traceIs(r,"scatter-like")?(i.hasMarkers(r)||i.hasText(r))&&(t=!0):o.traceIs(r,"box-violin")&&"all"!==r.boxpoints&&"all"!==r.points||(t=!0))}return t}(n)&&E.push("select2d","lasso2d"),Array.isArray(f)){for(var P=[],D=0;D<f.length;D++){var L=f[D];"string"==typeof L?-1!==u.indexOf(L)&&(t._has("mapbox")||t._has("cartesian"))&&E.push(L):P.push(L)}f=P}return C(E),C(S.concat(M)),C(A),function(e,t){if(t.length)if(Array.isArray(t[0]))for(var n=0;n<t.length;n++)e.push(t[n]);else e.push(t);return e}(T,f)}(e),c?c.update(e,f):t._modeBar=s(e,f)}else c&&(c.destroy(),delete t._modeBar)};var u=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"]},{"../../plots/cartesian/axis_ids":251,"../../registry":295,"../../traces/scatter/subtypes":441,"../fx/helpers":111,"./buttons":134,"./modebar":137}],137:[function(e,t,n){"use strict";var r=e("d3"),i=e("fast-isnumeric"),o=e("../../lib"),a=e("../../fonts/ploticon"),s=new DOMParser;function l(e){this.container=e.container,this.element=document.createElement("div"),this.update(e.graphInfo,e.buttons),this.container.appendChild(this.element)}var u=l.prototype;u.update=function(e,t){this.graphInfo=e;var n=this.graphInfo._context,r=this.graphInfo._fullLayout,i="modebar-"+r._uid;this.element.setAttribute("id",i),this._uid=i,this.element.className="modebar","hover"===n.displayModeBar&&(this.element.className+=" modebar--hover ease-bg"),"v"===r.modebar.orientation&&(this.element.className+=" vertical",t=t.reverse());var a=r.modebar,s="hover"===n.displayModeBar?".js-plotly-plot .plotly:hover ":"";o.deleteRelatedStyleRule(i),o.addRelatedStyleRule(i,s+"#"+i+" .modebar-group","background-color: "+a.bgcolor),o.addRelatedStyleRule(i,"#"+i+" .modebar-btn .icon path","fill: "+a.color),o.addRelatedStyleRule(i,"#"+i+" .modebar-btn:hover .icon path","fill: "+a.activecolor),o.addRelatedStyleRule(i,"#"+i+" .modebar-btn.active .icon path","fill: "+a.activecolor);var l=!this.hasButtons(t),u=this.hasLogo!==n.displaylogo,c=this.locale!==n.locale;if(this.locale=n.locale,(l||u||c)&&(this.removeAllButtons(),this.updateButtons(t),n.watermark||n.displaylogo)){var f=this.getLogo();n.watermark&&(f.className=f.className+" watermark"),"v"===r.modebar.orientation?this.element.insertBefore(f,this.element.childNodes[0]):this.element.appendChild(f),this.hasLogo=!0}this.updateActiveButton()},u.updateButtons=function(e){var t=this;this.buttons=e,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach((function(e){var n=t.createGroup();e.forEach((function(e){var r=e.name;if(!r)throw new Error("must provide button 'name' in button config");if(-1!==t.buttonsNames.indexOf(r))throw new Error("button name '"+r+"' is taken");t.buttonsNames.push(r);var i=t.createButton(e);t.buttonElements.push(i),n.appendChild(i)})),t.element.appendChild(n)}))},u.createGroup=function(){var e=document.createElement("div");return e.className="modebar-group",e},u.createButton=function(e){var t=this,n=document.createElement("a");n.setAttribute("rel","tooltip"),n.className="modebar-btn";var i=e.title;void 0===i?i=e.name:"function"==typeof i&&(i=i(this.graphInfo)),(i||0===i)&&n.setAttribute("data-title",i),void 0!==e.attr&&n.setAttribute("data-attr",e.attr);var o=e.val;if(void 0!==o&&("function"==typeof o&&(o=o(this.graphInfo)),n.setAttribute("data-val",o)),"function"!=typeof e.click)throw new Error("must provide button 'click' function in button config");n.addEventListener("click",(function(n){e.click(t.graphInfo,n),t.updateActiveButton(n.currentTarget)})),n.setAttribute("data-toggle",e.toggle||!1),e.toggle&&r.select(n).classed("active",!0);var s=e.icon;return"function"==typeof s?n.appendChild(s()):n.appendChild(this.createIcon(s||a.question)),n.setAttribute("data-gravity",e.gravity||"n"),n},u.createIcon=function(e){var t,n=i(e.height)?Number(e.height):e.ascent-e.descent,r="http://www.w3.org/2000/svg";if(e.path){(t=document.createElementNS(r,"svg")).setAttribute("viewBox",[0,0,e.width,n].join(" ")),t.setAttribute("class","icon");var o=document.createElementNS(r,"path");o.setAttribute("d",e.path),e.transform?o.setAttribute("transform",e.transform):void 0!==e.ascent&&o.setAttribute("transform","matrix(1 0 0 -1 0 "+e.ascent+")"),t.appendChild(o)}return e.svg&&(t=s.parseFromString(e.svg,"application/xml").childNodes[0]),t.setAttribute("height","1em"),t.setAttribute("width","1em"),t},u.updateActiveButton=function(e){var t=this.graphInfo._fullLayout,n=void 0!==e?e.getAttribute("data-attr"):null;this.buttonElements.forEach((function(e){var i=e.getAttribute("data-val")||!0,a=e.getAttribute("data-attr"),s="true"===e.getAttribute("data-toggle"),l=r.select(e);if(s)a===n&&l.classed("active",!l.classed("active"));else{var u=null===a?a:o.nestedProperty(t,a).get();l.classed("active",u===i)}}))},u.hasButtons=function(e){var t=this.buttons;if(!t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n){if(e[n].length!==t[n].length)return!1;for(var r=0;r<e[n].length;r++)if(e[n][r].name!==t[n][r].name)return!1}return!0},u.getLogo=function(){var e=this.createGroup(),t=document.createElement("a");return t.href="https://plotly.com/",t.target="_blank",t.setAttribute("data-title",o._(this.graphInfo,"Produced with Plotly")),t.className="modebar-btn plotlyjsicon modebar-btn--logo",t.appendChild(this.createIcon(a.newplotlylogo)),e.appendChild(t),e},u.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},u.destroy=function(){o.removeElement(this.container.querySelector(".modebar")),o.deleteRelatedStyleRule(this._uid)},t.exports=function(e,t){var n=e._fullLayout,i=new l({graphInfo:e,container:n._modebardiv.node(),buttons:t});return n._privateplot&&r.select(i.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),i}},{"../../fonts/ploticon":186,"../../lib":203,d3:21,"fast-isnumeric":23}],138:[function(e,t,n){"use strict";var r=e("../../plots/font_attributes"),i=e("../color/attributes"),o=(0,e("../../plot_api/plot_template").templatedArray)("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});t.exports={visible:{valType:"boolean",editType:"plot"},buttons:o,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:r({editType:"plot"}),bgcolor:{valType:"color",dflt:i.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:i.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},{"../../plot_api/plot_template":237,"../../plots/font_attributes":276,"../color/attributes":74}],139:[function(e,t,n){"use strict";t.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},{}],140:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../color"),o=e("../../plot_api/plot_template"),a=e("../../plots/array_container_defaults"),s=e("./attributes"),l=e("./constants");function u(e,t,n,i){var o=i.calendar;function a(n,i){return r.coerce(e,t,s.buttons,n,i)}if(a("visible")){var l=a("step");"all"!==l&&(!o||"gregorian"===o||"month"!==l&&"year"!==l?a("stepmode"):t.stepmode="backward",a("count")),a("label")}}t.exports=function(e,t,n,c,f){var d=e.rangeselector||{},p=o.newContainer(t,"rangeselector");function h(e,t){return r.coerce(d,p,s,e,t)}if(h("visible",a(d,p,{name:"buttons",handleItemDefaults:u,calendar:f}).length>0)){var g=function(e,t,n){for(var r=n.filter((function(n){return t[n].anchor===e._id})),i=0,o=0;o<r.length;o++){var a=t[r[o]].domain;a&&(i=Math.max(a[1],i))}return[e.domain[0],i+l.yPad]}(t,n,c);h("x",g[0]),h("y",g[1]),r.noneOrAll(e,t,["x","y"]),h("xanchor"),h("yanchor"),r.coerceFont(h,"font",n.font);var m=h("bgcolor");h("activecolor",i.contrast(m,l.lightAmount,l.darkAmount)),h("bordercolor"),h("borderwidth")}}},{"../../lib":203,"../../plot_api/plot_template":237,"../../plots/array_container_defaults":243,"../color":75,"./attributes":138,"./constants":139}],141:[function(e,t,n){"use strict";var r=e("d3"),i=e("../../registry"),o=e("../../plots/plots"),a=e("../color"),s=e("../drawing"),l=e("../../lib"),u=e("../../lib/svg_text_utils"),c=e("../../plots/cartesian/axis_ids"),f=e("../../constants/alignment"),d=f.LINE_SPACING,p=f.FROM_TL,h=f.FROM_BR,g=e("./constants"),m=e("./get_update_object");function y(e){return e._id}function v(e,t,n){var r=l.ensureSingle(e,"rect","selector-rect",(function(e){e.attr("shape-rendering","crispEdges")}));r.attr({rx:g.rx,ry:g.ry}),r.call(a.stroke,t.bordercolor).call(a.fill,function(e,t){return t._isActive||t._isHovered?e.activecolor:e.bgcolor}(t,n)).style("stroke-width",t.borderwidth+"px")}function b(e,t,n,r){var i,o;l.ensureSingle(e,"text","selector-text",(function(e){e.attr("text-anchor","middle")})).call(s.font,t.font).text((i=n,o=r._fullLayout._meta,i.label?o?l.templateString(i.label,o):i.label:"all"===i.step?"all":i.count+i.step.charAt(0))).call((function(e){u.convertToTspans(e,r)}))}t.exports=function(e){var t=e._fullLayout._infolayer.selectAll(".rangeselector").data(function(e){for(var t=c.list(e,"x",!0),n=[],r=0;r<t.length;r++){var i=t[r];i.rangeselector&&i.rangeselector.visible&&n.push(i)}return n}(e),y);t.enter().append("g").classed("rangeselector",!0),t.exit().remove(),t.style({cursor:"pointer","pointer-events":"all"}),t.each((function(t){var n=r.select(this),a=t,c=a.rangeselector,f=n.selectAll("g.button").data(l.filterVisible(c.buttons));f.enter().append("g").classed("button",!0),f.exit().remove(),f.each((function(t){var n=r.select(this),o=m(a,t);t._isActive=function(e,t,n){if("all"===t.step)return!0===e.autorange;var r=Object.keys(n);return e.range[0]===n[r[0]]&&e.range[1]===n[r[1]]}(a,t,o),n.call(v,c,t),n.call(b,c,t,e),n.on("click",(function(){e._dragged||i.call("_guiRelayout",e,o)})),n.on("mouseover",(function(){t._isHovered=!0,n.call(v,c,t)})),n.on("mouseout",(function(){t._isHovered=!1,n.call(v,c,t)}))})),function(e,t,n,i,a){var c=0,f=0,m=n.borderwidth;t.each((function(){var e=r.select(this).select(".selector-text"),t=n.font.size*d,i=Math.max(t*u.lineCount(e),16)+3;f=Math.max(f,i)})),t.each((function(){var e=r.select(this),t=e.select(".selector-rect"),i=e.select(".selector-text"),o=i.node()&&s.bBox(i.node()).width,a=n.font.size*d,l=u.lineCount(i),p=Math.max(o+10,g.minButtonWidth);e.attr("transform","translate("+(m+c)+","+m+")"),t.attr({x:0,y:0,width:p,height:f}),u.positionText(i,p/2,f/2-(l-1)*a/2+3),c+=p+5}));var y=e._fullLayout._size,v=y.l+y.w*n.x,b=y.t+y.h*(1-n.y),x="left";l.isRightAnchor(n)&&(v-=c,x="right"),l.isCenterAnchor(n)&&(v-=c/2,x="center");var _="top";l.isBottomAnchor(n)&&(b-=f,_="bottom"),l.isMiddleAnchor(n)&&(b-=f/2,_="middle"),c=Math.ceil(c),f=Math.ceil(f),v=Math.round(v),b=Math.round(b),o.autoMargin(e,i+"-range-selector",{x:n.x,y:n.y,l:c*p[x],r:c*h[x],b:f*h[_],t:f*p[_]}),a.attr("transform","translate("+v+","+b+")")}(e,f,c,a._name,n)}))}},{"../../constants/alignment":177,"../../lib":203,"../../lib/svg_text_utils":224,"../../plots/cartesian/axis_ids":251,"../../plots/plots":282,"../../registry":295,"../color":75,"../drawing":97,"./constants":139,"./get_update_object":142,d3:21}],142:[function(e,t,n){"use strict";var r=e("d3");t.exports=function(e,t){var n=e._name,i={};if("all"===t.step)i[n+".autorange"]=!0;else{var o=function(e,t){var n,i=e.range,o=new Date(e.r2l(i[1])),a=t.step,s=t.count;switch(t.stepmode){case"backward":n=e.l2r(+r.time[a].utc.offset(o,-s));break;case"todate":var l=r.time[a].utc.offset(o,-s);n=e.l2r(+r.time[a].utc.ceil(l))}return[n,i[1]]}(e,t);i[n+".range[0]"]=o[0],i[n+".range[1]"]=o[1]}return i}},{d3:21}],143:[function(e,t,n){"use strict";t.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:e("./attributes")}}},layoutAttributes:e("./attributes"),handleDefaults:e("./defaults"),draw:e("./draw")}},{"./attributes":138,"./defaults":140,"./draw":141}],144:[function(e,t,n){"use strict";var r=e("../color/attributes");t.exports={bgcolor:{valType:"color",dflt:r.background,editType:"plot"},bordercolor:{valType:"color",dflt:r.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},{"../color/attributes":74}],145:[function(e,t,n){"use strict";var r=e("../../plots/cartesian/axis_ids").list,i=e("../../plots/cartesian/autorange").getAutoRange,o=e("./constants");t.exports=function(e){for(var t=r(e,"x",!0),n=0;n<t.length;n++){var a=t[n],s=a[o.name];s&&s.visible&&s.autorange&&(s._input.autorange=!0,s._input.range=s.range=i(e,a))}}},{"../../plots/cartesian/autorange":247,"../../plots/cartesian/axis_ids":251,"./constants":146}],146:[function(e,t,n){"use strict";t.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},{}],147:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../plot_api/plot_template"),o=e("../../plots/cartesian/axis_ids"),a=e("./attributes"),s=e("./oppaxis_attributes");t.exports=function(e,t,n){var l=e[n],u=t[n];if(l.rangeslider||t._requestRangeslider[u._id]){r.isPlainObject(l.rangeslider)||(l.rangeslider={});var c,f,d=l.rangeslider,p=i.newContainer(u,"rangeslider");if(_("visible")){_("bgcolor",t.plot_bgcolor),_("bordercolor"),_("borderwidth"),_("thickness"),_("autorange",!u.isValidRange(d.range)),_("range");var h=t._subplots;if(h)for(var g=h.cartesian.filter((function(e){return e.substr(0,e.indexOf("y"))===o.name2id(n)})).map((function(e){return e.substr(e.indexOf("y"),e.length)})),m=r.simpleMap(g,o.id2name),y=0;y<m.length;y++){var v=m[y];c=d[v]||{},f=i.newContainer(p,v,"yaxis");var b,x=t[v];c.range&&x.isValidRange(c.range)&&(b="fixed"),"match"!==w("rangemode",b)&&w("range",x.range.slice())}p._input=d}}function _(e,t){return r.coerce(d,p,a,e,t)}function w(e,t){return r.coerce(c,f,s,e,t)}}},{"../../lib":203,"../../plot_api/plot_template":237,"../../plots/cartesian/axis_ids":251,"./attributes":144,"./oppaxis_attributes":151}],148:[function(e,t,n){"use strict";var r=e("d3"),i=e("../../registry"),o=e("../../plots/plots"),a=e("../../lib"),s=e("../drawing"),l=e("../color"),u=e("../titles"),c=e("../../plots/cartesian"),f=e("../../plots/cartesian/axis_ids"),d=e("../dragelement"),p=e("../../lib/setcursor"),h=e("./constants");function g(e,t,n,o){if(!t._context.staticPlot){var s=e.select("rect."+h.slideBoxClassName).node(),l=e.select("rect."+h.grabAreaMinClassName).node(),u=e.select("rect."+h.grabAreaMaxClassName).node();e.on("mousedown",c),e.on("touchstart",c)}function c(){var c=r.event,f=c.target,h=c.clientX||c.touches[0].clientX,g=h-e.node().getBoundingClientRect().left,m=o.d2p(n._rl[0]),y=o.d2p(n._rl[1]),v=d.coverSlip();function b(e){var c,d,b,x=+(e.clientX||e.touches[0].clientX)-h;switch(f){case s:b="ew-resize",c=m+x,d=y+x;break;case l:b="col-resize",c=m+x,d=y;break;case u:b="col-resize",c=m,d=y+x;break;default:b="ew-resize",c=g,d=g+x}if(d<c){var _=d;d=c,c=_}o._pixelMin=c,o._pixelMax=d,p(r.select(v),b),function(e,t,n,r){function o(e){return n.l2r(a.constrain(e,r._rl[0],r._rl[1]))}var s=o(r.p2d(r._pixelMin)),l=o(r.p2d(r._pixelMax));window.requestAnimationFrame((function(){i.call("_guiRelayout",t,n._name+".range",[s,l])}))}(0,t,n,o)}function x(){v.removeEventListener("mousemove",b),v.removeEventListener("mouseup",x),this.removeEventListener("touchmove",b),this.removeEventListener("touchend",x),a.removeElement(v)}this.addEventListener("touchmove",b),this.addEventListener("touchend",x),v.addEventListener("mousemove",b),v.addEventListener("mouseup",x)}}function m(e,t,n,r){var i=a.ensureSingle(e,"rect",h.bgClassName,(function(e){e.attr({x:0,y:0,"shape-rendering":"crispEdges"})})),o=r.borderwidth%2==0?r.borderwidth:r.borderwidth-1,l=-r._offsetShift,u=s.crispRound(t,r.borderwidth);i.attr({width:r._width+o,height:r._height+o,transform:"translate("+l+","+l+")",fill:r.bgcolor,stroke:r.bordercolor,"stroke-width":u})}function y(e,t,n,r){var i=t._fullLayout;a.ensureSingleById(i._topdefs,"clipPath",r._clipId,(function(e){e.append("rect").attr({x:0,y:0})})).select("rect").attr({width:r._width,height:r._height})}function v(e,t,n,i){var l,u=t.calcdata,d=e.selectAll("g."+h.rangePlotClassName).data(n._subplotsWith,a.identity);d.enter().append("g").attr("class",(function(e){return h.rangePlotClassName+" "+e})).call(s.setClipUrl,i._clipId,t),d.order(),d.exit().remove(),d.each((function(e,a){var s=r.select(this),d=0===a,p=f.getFromId(t,e,"y"),h=p._name,g=i[h],m={data:[],layout:{xaxis:{type:n.type,domain:[0,1],range:i.range.slice(),calendar:n.calendar},width:i._width,height:i._height,margin:{t:0,b:0,l:0,r:0}},_context:t._context};n.rangebreaks&&(m.layout.xaxis.rangebreaks=n.rangebreaks),m.layout[h]={type:p.type,domain:[0,1],range:"match"!==g.rangemode?g.range.slice():p.range.slice(),calendar:p.calendar},p.rangebreaks&&(m.layout[h].rangebreaks=p.rangebreaks),o.supplyDefaults(m);var y=m._fullLayout.xaxis,v=m._fullLayout[h];y.clearCalc(),y.setScale(),v.clearCalc(),v.setScale();var b={id:e,plotgroup:s,xaxis:y,yaxis:v,isRangePlot:!0};d?l=b:(b.mainplot="xy",b.mainplotinfo=l),c.rangePlot(t,b,function(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r],o=i[0].trace;o.xaxis+o.yaxis===t&&n.push(i)}return n}(u,e))}))}function b(e,t,n,r,i){a.ensureSingle(e,"rect",h.maskMinClassName,(function(e){e.attr({x:0,y:0,"shape-rendering":"crispEdges"})})).attr("height",r._height).call(l.fill,h.maskColor),a.ensureSingle(e,"rect",h.maskMaxClassName,(function(e){e.attr({y:0,"shape-rendering":"crispEdges"})})).attr("height",r._height).call(l.fill,h.maskColor),"match"!==i.rangemode&&(a.ensureSingle(e,"rect",h.maskMinOppAxisClassName,(function(e){e.attr({y:0,"shape-rendering":"crispEdges"})})).attr("width",r._width).call(l.fill,h.maskOppAxisColor),a.ensureSingle(e,"rect",h.maskMaxOppAxisClassName,(function(e){e.attr({y:0,"shape-rendering":"crispEdges"})})).attr("width",r._width).style("border-top",h.maskOppBorder).call(l.fill,h.maskOppAxisColor))}function x(e,t,n,r){t._context.staticPlot||a.ensureSingle(e,"rect",h.slideBoxClassName,(function(e){e.attr({y:0,cursor:h.slideBoxCursor,"shape-rendering":"crispEdges"})})).attr({height:r._height,fill:h.slideBoxFill})}function _(e,t,n,r){var i=a.ensureSingle(e,"g",h.grabberMinClassName),o=a.ensureSingle(e,"g",h.grabberMaxClassName),s={x:0,width:h.handleWidth,rx:h.handleRadius,fill:l.background,stroke:l.defaultLine,"stroke-width":h.handleStrokeWidth,"shape-rendering":"crispEdges"},u={y:Math.round(r._height/4),height:Math.round(r._height/2)};a.ensureSingle(i,"rect",h.handleMinClassName,(function(e){e.attr(s)})).attr(u),a.ensureSingle(o,"rect",h.handleMaxClassName,(function(e){e.attr(s)})).attr(u);var c={width:h.grabAreaWidth,x:0,y:0,fill:h.grabAreaFill,cursor:t._context.staticPlot?void 0:h.grabAreaCursor};a.ensureSingle(i,"rect",h.grabAreaMinClassName,(function(e){e.attr(c)})).attr("height",r._height),a.ensureSingle(o,"rect",h.grabAreaMaxClassName,(function(e){e.attr(c)})).attr("height",r._height)}t.exports=function(e){for(var t=e._fullLayout,n=t._rangeSliderData,i=0;i<n.length;i++){var o=n[i][h.name];o._clipId=o._id+"-"+t._uid}var s=t._infolayer.selectAll("g."+h.containerClassName).data(n,(function(e){return e._name}));s.exit().each((function(e){var n=e[h.name];t._topdefs.select("#"+n._clipId).remove()})).remove(),0!==n.length&&(s.enter().append("g").classed(h.containerClassName,!0).attr("pointer-events","all"),s.each((function(n){var i=r.select(this),o=n[h.name],s=t[f.id2name(n.anchor)],l=o[f.id2name(n.anchor)];if(o.range){var c,d=a.simpleMap(o.range,n.r2l),p=a.simpleMap(n.range,n.r2l);c=p[0]<p[1]?[Math.min(d[0],p[0]),Math.max(d[1],p[1])]:[Math.max(d[0],p[0]),Math.min(d[1],p[1])],o.range=o._input.range=a.simpleMap(c,n.l2r)}n.cleanRange("rangeslider.range");var w=t._size,k=n.domain;o._width=w.w*(k[1]-k[0]);var T=Math.round(w.l+w.w*k[0]),C=Math.round(w.t+w.h*(1-n._counterDomainMin)+("bottom"===n.side?n._depth:0)+o._offsetShift+h.extraPad);i.attr("transform","translate("+T+","+C+")"),o._rl=a.simpleMap(o.range,n.r2l);var O=o._rl[0],S=o._rl[1],A=S-O;if(o.p2d=function(e){return e/o._width*A+O},o.d2p=function(e){return(e-O)/A*o._width},n.rangebreaks){var M=n.locateBreaks(O,S);if(M.length){var E,P,D=0;for(E=0;E<M.length;E++)D+=(P=M[E]).max-P.min;var L=o._width/(S-O-D),R=[-L*O];for(E=0;E<M.length;E++)P=M[E],R.push(R[R.length-1]-L*(P.max-P.min));for(o.d2p=function(e){for(var t=R[0],n=0;n<M.length;n++){var r=M[n];if(e>=r.max)t=R[n+1];else if(e<r.min)break}return t+L*e},E=0;E<M.length;E++)(P=M[E]).pmin=o.d2p(P.min),P.pmax=o.d2p(P.max);o.p2d=function(e){for(var t=R[0],n=0;n<M.length;n++){var r=M[n];if(e>=r.pmax)t=R[n+1];else if(e<r.pmin)break}return(e-t)/L}}}if("match"!==l.rangemode){var I=s.r2l(l.range[0]),N=s.r2l(l.range[1])-I;o.d2pOppAxis=function(e){return(e-I)/N*o._height}}i.call(m,e,n,o).call(y,e,n,o).call(v,e,n,o).call(b,e,n,o,l).call(x,e,n,o).call(_,e,n,o),g(i,e,n,o),function(e,t,n,r,i,o){var s=h.handleWidth/2;function l(e){return a.constrain(e,0,r._width)}function u(e){return a.constrain(e,0,r._height)}function c(e){return a.constrain(e,-s,r._width+s)}var f=l(r.d2p(n._rl[0])),d=l(r.d2p(n._rl[1]));if(e.select("rect."+h.slideBoxClassName).attr("x",f).attr("width",d-f),e.select("rect."+h.maskMinClassName).attr("width",f),e.select("rect."+h.maskMaxClassName).attr("x",d).attr("width",r._width-d),"match"!==o.rangemode){var p=r._height-u(r.d2pOppAxis(i._rl[1])),g=r._height-u(r.d2pOppAxis(i._rl[0]));e.select("rect."+h.maskMinOppAxisClassName).attr("x",f).attr("height",p).attr("width",d-f),e.select("rect."+h.maskMaxOppAxisClassName).attr("x",f).attr("y",g).attr("height",r._height-g).attr("width",d-f),e.select("rect."+h.slideBoxClassName).attr("y",p).attr("height",g-p)}var m=.5,y=Math.round(c(f-s))-m,v=Math.round(c(d-s))+m;e.select("g."+h.grabberMinClassName).attr("transform","translate("+y+",0.5)"),e.select("g."+h.grabberMaxClassName).attr("transform","translate("+v+",0.5)")}(i,0,n,o,s,l),"bottom"===n.side&&u.draw(e,n._id+"title",{propContainer:n,propName:n._name+".title",placeholder:t._dfltTitle.x,attributes:{x:n._offset+n._length/2,y:C+o._height+o._offsetShift+10+1.5*n.title.font.size,"text-anchor":"middle"}})})))}},{"../../lib":203,"../../lib/setcursor":222,"../../plots/cartesian":261,"../../plots/cartesian/axis_ids":251,"../../plots/plots":282,"../../registry":295,"../color":75,"../dragelement":94,"../drawing":97,"../titles":170,"./constants":146,d3:21}],149:[function(e,t,n){"use strict";var r=e("../../plots/cartesian/axis_ids"),i=e("../../lib/svg_text_utils"),o=e("./constants"),a=e("../../constants/alignment").LINE_SPACING,s=o.name;function l(e){var t=e&&e[s];return t&&t.visible}n.isVisible=l,n.makeData=function(e){var t=r.list({_fullLayout:e},"x",!0),n=e.margin,i=[];if(!e._has("gl2d"))for(var o=0;o<t.length;o++){var a=t[o];if(l(a)){i.push(a);var u=a[s];u._id=s+a._id,u._height=(e.height-n.b-n.t)*u.thickness,u._offsetShift=Math.floor(u.borderwidth/2)}}e._rangeSliderData=i},n.autoMarginOpts=function(e,t){var n=e._fullLayout,r=t[s],l=t._id.charAt(0),u=0,c=0;return"bottom"===t.side&&(u=t._depth,t.title.text!==n._dfltTitle[l]&&(c=1.5*t.title.font.size+10+r._offsetShift,c+=(t.title.text.match(i.BR_TAG_ALL)||[]).length*t.title.font.size*a)),{x:0,y:t._counterDomainMin,l:0,r:0,t:0,b:r._height+u+Math.max(n.margin.b,c),pad:o.extraPad+2*r._offsetShift}}},{"../../constants/alignment":177,"../../lib/svg_text_utils":224,"../../plots/cartesian/axis_ids":251,"./constants":146}],150:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("./attributes"),o=e("./oppaxis_attributes"),a=e("./helpers");t.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:r.extendFlat({},i,{yaxis:o})}}},layoutAttributes:e("./attributes"),handleDefaults:e("./defaults"),calcAutorange:e("./calc_autorange"),draw:e("./draw"),isVisible:a.isVisible,makeData:a.makeData,autoMarginOpts:a.autoMarginOpts}},{"../../lib":203,"./attributes":144,"./calc_autorange":145,"./defaults":147,"./draw":148,"./helpers":149,"./oppaxis_attributes":151}],151:[function(e,t,n){"use strict";t.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},{}],152:[function(e,t,n){"use strict";var r=e("../annotations/attributes"),i=e("../../traces/scatter/attributes").line,o=e("../drawing/attributes").dash,a=e("../../lib/extend").extendFlat,s=e("../../plot_api/plot_template").templatedArray;e("../../constants/axis_placeable_objects"),t.exports=s("shape",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:a({},r.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:a({},r.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:a({},i.color,{editType:"arraydraw"}),width:a({},i.width,{editType:"calc+arraydraw"}),dash:a({},o,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},editType:"arraydraw"})},{"../../constants/axis_placeable_objects":178,"../../lib/extend":197,"../../plot_api/plot_template":237,"../../traces/scatter/attributes":416,"../annotations/attributes":60,"../drawing/attributes":96}],153:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../plots/cartesian/axes"),o=e("./constants"),a=e("./helpers");function s(e){return u(e.line.width,e.xsizemode,e.x0,e.x1,e.path,!1)}function l(e){return u(e.line.width,e.ysizemode,e.y0,e.y1,e.path,!0)}function u(e,t,n,i,s,l){var u=e/2,c=l;if("pixel"===t){var f=s?a.extractPathCoords(s,l?o.paramIsY:o.paramIsX):[n,i],d=r.aggNums(Math.max,null,f),p=r.aggNums(Math.min,null,f),h=p<0?Math.abs(p)+u:u,g=d>0?d+u:u;return{ppad:u,ppadplus:c?h:g,ppadminus:c?g:h}}return{ppad:u}}function c(e,t,n,r,i){var s="category"===e.type||"multicategory"===e.type?e.r2c:e.d2c;if(void 0!==t)return[s(t),s(n)];if(r){var l,u,c,f,d=1/0,p=-1/0,h=r.match(o.segmentRE);for("date"===e.type&&(s=a.decodeDate(s)),l=0;l<h.length;l++)void 0!==(u=i[h[l].charAt(0)].drawn)&&(!(c=h[l].substr(1).match(o.paramRE))||c.length<u||((f=s(c[u]))<d&&(d=f),f>p&&(p=f)));return p>=d?[d,p]:void 0}}t.exports=function(e){var t=e._fullLayout,n=r.filterVisible(t.shapes);if(n.length&&e._fullData.length)for(var a=0;a<n.length;a++){var u,f,d=n[a];d._extremes={};var p=i.getRefType(d.xref),h=i.getRefType(d.yref);if("paper"!==d.xref&&"domain"!==p){var g="pixel"===d.xsizemode?d.xanchor:d.x0,m="pixel"===d.xsizemode?d.xanchor:d.x1;(f=c(u=i.getFromId(e,d.xref),g,m,d.path,o.paramIsX))&&(d._extremes[u._id]=i.findExtremes(u,f,s(d)))}if("paper"!==d.yref&&"domain"!==h){var y="pixel"===d.ysizemode?d.yanchor:d.y0,v="pixel"===d.ysizemode?d.yanchor:d.y1;(f=c(u=i.getFromId(e,d.yref),y,v,d.path,o.paramIsY))&&(d._extremes[u._id]=i.findExtremes(u,f,l(d)))}}}},{"../../lib":203,"../../plots/cartesian/axes":248,"./constants":154,"./helpers":163}],154:[function(e,t,n){"use strict";t.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},{}],155:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../plots/cartesian/axes"),o=e("../../plots/array_container_defaults"),a=e("./attributes"),s=e("./helpers");function l(e,t,n){function o(n,i){return r.coerce(e,t,a,n,i)}if(o("visible")){var l=o("path"),u=o("type",l?"path":"rect");"path"!==t.type&&delete t.path,o("editable"),o("layer"),o("opacity"),o("fillcolor"),o("fillrule"),o("line.width")&&(o("line.color"),o("line.dash"));for(var c=o("xsizemode"),f=o("ysizemode"),d=["x","y"],p=0;p<2;p++){var h,g,m,y=d[p],v=y+"anchor",b="x"===y?c:f,x={_fullLayout:n},_=i.coerceRef(e,t,x,y,void 0,"paper");if("range"===i.getRefType(_)?((h=i.getFromId(x,_))._shapeIndices.push(t._index),m=s.rangeToShapePosition(h),g=s.shapePositionToRange(h)):g=m=r.identity,"path"!==u){var w=y+"0",k=y+"1",T=e[w],C=e[k];e[w]=g(e[w],!0),e[k]=g(e[k],!0),"pixel"===b?(o(w,0),o(k,10)):(i.coercePosition(t,x,o,_,w,.25),i.coercePosition(t,x,o,_,k,.75)),t[w]=m(t[w]),t[k]=m(t[k]),e[w]=T,e[k]=C}if("pixel"===b){var O=e[v];e[v]=g(e[v],!0),i.coercePosition(t,x,o,_,v,.25),t[v]=m(t[v]),e[v]=O}}"path"===u?o("path"):r.noneOrAll(e,t,["x0","x1","y0","y1"])}}t.exports=function(e,t){o(e,t,{name:"shapes",handleItemDefaults:l})}},{"../../lib":203,"../../plots/array_container_defaults":243,"../../plots/cartesian/axes":248,"./attributes":152,"./helpers":163}],156:[function(e,t,n){"use strict";var r=e("../../registry"),i=e("../../lib"),o=e("../../plots/cartesian/axes"),a=e("./draw_newshape/helpers").readPaths,s=e("./draw_newshape/display_outlines"),l=e("../../plots/cartesian/handle_outline").clearOutlineControllers,u=e("../color"),c=e("../drawing"),f=e("../../plot_api/plot_template").arrayEditor,d=e("../dragelement"),p=e("../../lib/setcursor"),h=e("./constants"),g=e("./helpers");function m(e){var t=e._fullLayout;for(var n in t._shapeUpperLayer.selectAll("path").remove(),t._shapeLowerLayer.selectAll("path").remove(),t._plots){var r=t._plots[n].shapelayer;r&&r.selectAll("path").remove()}for(var i=0;i<t.shapes.length;i++)t.shapes[i].visible&&b(e,i)}function y(e){return!!e._fullLayout._drawing}function v(e){return!e._context.edits.shapePosition}function b(e,t){e._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+t+'"]').remove();var n=g.makeOptionsAndPlotinfo(e,t),l=n.options,b=n.plotinfo;function T(n){var T=_(e,l),C={"data-index":t,"fill-rule":l.fillrule,d:T},O=l.opacity,S=l.fillcolor,A=l.line.width?l.line.color:"rgba(0,0,0,0)",M=l.line.width,E=l.line.dash;M||!0!==l.editable||(M=5,E="solid");var P="Z"!==T[T.length-1],D=v(e)&&l.editable&&e._fullLayout._activeShapeIndex===t;D&&(S=P?"rgba(0,0,0,0)":e._fullLayout.activeshape.fillcolor,O=e._fullLayout.activeshape.opacity);var L,R=n.append("path").attr(C).style("opacity",O).call(u.stroke,A).call(u.fill,S).call(c.dashLine,E,M);if(x(R,e,l),(D||e._context.edits.shapePosition)&&(L=f(e.layout,"shapes",l)),D){R.style({cursor:"move"});var I={element:R.node(),plotinfo:b,gd:e,editHelpers:L,isActiveShape:!0},N=a(T,e);s(N,R,I)}else e._context.edits.shapePosition?function(e,t,n,a,s,l){var u,f,m,v,b,k,T,C,O,S,A,M,E,P,D,L,R=10,I=10,N="pixel"===n.xsizemode,j="pixel"===n.ysizemode,z="line"===n.type,q="path"===n.type,F=l.modifyItem,B=o.getFromId(e,n.xref),H=o.getRefType(n.xref),U=o.getFromId(e,n.yref),V=o.getRefType(n.yref),W=g.getDataToPixel(e,B,!1,H),G=g.getDataToPixel(e,U,!0,V),K=g.getPixelToData(e,B,!1,H),Y=g.getPixelToData(e,U,!0,V),Z=$(),X={element:Z.node(),gd:e,prepFn:ee,doneFn:te,clickFn:ne};function $(){return z?J():t}function J(){var e=10,r=Math.max(n.line.width,e),i=s.append("g").attr("data-index",a);i.append("path").attr("d",t.attr("d")).style({cursor:"move","stroke-width":r,"stroke-opacity":"0"});var o={"fill-opacity":"0"},l=Math.max(r/2,e);return i.append("circle").attr({"data-line-point":"start-point",cx:N?W(n.xanchor)+n.x0:W(n.x0),cy:j?G(n.yanchor)-n.y0:G(n.y0),r:l}).style(o).classed("cursor-grab",!0),i.append("circle").attr({"data-line-point":"end-point",cx:N?W(n.xanchor)+n.x1:W(n.x1),cy:j?G(n.yanchor)-n.y1:G(n.y1),r:l}).style(o).classed("cursor-grab",!0),i}function Q(n){if(y(e))L=null;else if(z)L="path"===n.target.tagName?"move":"start-point"===n.target.attributes["data-line-point"].value?"resize-over-start-point":"resize-over-end-point";else{var r=X.element.getBoundingClientRect(),i=r.right-r.left,o=r.bottom-r.top,a=n.clientX-r.left,s=n.clientY-r.top,l=!q&&i>R&&o>I&&!n.shiftKey?d.getCursor(a/i,1-s/o):"move";p(t,l),L=l.split("-")[0]}}function ee(r){y(e)||(N&&(b=W(n.xanchor)),j&&(k=G(n.yanchor)),"path"===n.type?D=n.path:(u=N?n.x0:W(n.x0),f=j?n.y0:G(n.y0),m=N?n.x1:W(n.x1),v=j?n.y1:G(n.y1)),u<m?(O=u,E="x0",S=m,P="x1"):(O=m,E="x1",S=u,P="x0"),!j&&f<v||j&&f>v?(T=f,A="y0",C=v,M="y1"):(T=v,A="y1",C=f,M="y0"),Q(r),oe(s,n),se(t,n,e),X.moveFn="move"===L?re:ie,X.altKey=r.altKey)}function te(){y(e)||(p(t),ae(s),x(t,e,n),r.call("_guiRelayout",e,l.getUpdateObj()))}function ne(){y(e)||ae(s)}function re(r,i){if("path"===n.type){var o=function(e){return e},a=o,l=o;N?F("xanchor",n.xanchor=K(b+r)):(a=function(e){return K(W(e)+r)},B&&"date"===B.type&&(a=g.encodeDate(a))),j?F("yanchor",n.yanchor=Y(k+i)):(l=function(e){return Y(G(e)+i)},U&&"date"===U.type&&(l=g.encodeDate(l))),F("path",n.path=w(D,a,l))}else N?F("xanchor",n.xanchor=K(b+r)):(F("x0",n.x0=K(u+r)),F("x1",n.x1=K(m+r))),j?F("yanchor",n.yanchor=Y(k+i)):(F("y0",n.y0=Y(f+i)),F("y1",n.y1=Y(v+i)));t.attr("d",_(e,n)),oe(s,n)}function ie(r,i){if(q){var o=function(e){return e},a=o,l=o;N?F("xanchor",n.xanchor=K(b+r)):(a=function(e){return K(W(e)+r)},B&&"date"===B.type&&(a=g.encodeDate(a))),j?F("yanchor",n.yanchor=Y(k+i)):(l=function(e){return Y(G(e)+i)},U&&"date"===U.type&&(l=g.encodeDate(l))),F("path",n.path=w(D,a,l))}else if(z){if("resize-over-start-point"===L){var c=u+r,d=j?f-i:f+i;F("x0",n.x0=N?c:K(c)),F("y0",n.y0=j?d:Y(d))}else if("resize-over-end-point"===L){var p=m+r,h=j?v-i:v+i;F("x1",n.x1=N?p:K(p)),F("y1",n.y1=j?h:Y(h))}}else{var y=function(e){return-1!==L.indexOf(e)},x=y("n"),H=y("s"),V=y("w"),Z=y("e"),X=x?T+i:T,$=H?C+i:C,J=V?O+r:O,Q=Z?S+r:S;j&&(x&&(X=T-i),H&&($=C-i)),(!j&&$-X>I||j&&X-$>I)&&(F(A,n[A]=j?X:Y(X)),F(M,n[M]=j?$:Y($))),Q-J>R&&(F(E,n[E]=N?J:K(J)),F(P,n[P]=N?Q:K(Q)))}t.attr("d",_(e,n)),oe(s,n)}function oe(e,t){function n(){var n="path"!==t.type,r=e.selectAll(".visual-cue").data([0]),o=1;r.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":o}).classed("visual-cue",!0);var a=W(N?t.xanchor:i.midRange(n?[t.x0,t.x1]:g.extractPathCoords(t.path,h.paramIsX))),s=G(j?t.yanchor:i.midRange(n?[t.y0,t.y1]:g.extractPathCoords(t.path,h.paramIsY)));if(a=g.roundPositionForSharpStrokeRendering(a,o),s=g.roundPositionForSharpStrokeRendering(s,o),N&&j){var l="M"+(a-1-o)+","+(s-1-o)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";r.attr("d",l)}else if(N){var u="M"+(a-1-o)+","+(s-9-o)+"v18 h2 v-18 Z";r.attr("d",u)}else{var c="M"+(a-9-o)+","+(s-1-o)+"h18 v2 h-18 Z";r.attr("d",c)}}(N||j)&&n()}function ae(e){e.selectAll(".visual-cue").remove()}function se(e,t,n){var r=t.xref,i=t.yref,a=o.getFromId(n,r),s=o.getFromId(n,i),l="";"paper"===r||a.autorange||(l+=r),"paper"===i||s.autorange||(l+=i),c.setClipUrl(e,l?"clip"+n._fullLayout._uid+l:null,n)}d.init(X),Z.node().onmousemove=Q}(e,R,l,t,n,L):!0===l.editable&&R.style("pointer-events",P||u.opacity(S)*O<=.5?"stroke":"all");R.node().addEventListener("click",(function(){return function(e,t){if(v(e)){var n=+t.node().getAttribute("data-index");if(n>=0){if(n===e._fullLayout._activeShapeIndex)return void k(e);e._fullLayout._activeShapeIndex=n,e._fullLayout._deactivateShape=k,m(e)}}}(e,R)}))}l._input&&!1!==l.visible&&("below"!==l.layer?T(e._fullLayout._shapeUpperLayer):"paper"===l.xref||"paper"===l.yref?T(e._fullLayout._shapeLowerLayer):b._hadPlotinfo?T((b.mainplotinfo||b).shapelayer):T(e._fullLayout._shapeLowerLayer))}function x(e,t,n){var r=(n.xref+n.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");c.setClipUrl(e,r?"clip"+t._fullLayout._uid+r:null,t)}function _(e,t){var n,r,a,s,l,u,c,f,d=t.type,p=o.getRefType(t.xref),m=o.getRefType(t.yref),y=o.getFromId(e,t.xref),v=o.getFromId(e,t.yref),b=e._fullLayout._size;if(y?"domain"===p?r=function(e){return y._offset+y._length*e}:(n=g.shapePositionToRange(y),r=function(e){return y._offset+y.r2p(n(e,!0))}):r=function(e){return b.l+b.w*e},v?"domain"===m?s=function(e){return v._offset+v._length*(1-e)}:(a=g.shapePositionToRange(v),s=function(e){return v._offset+v.r2p(a(e,!0))}):s=function(e){return b.t+b.h*(1-e)},"path"===d)return y&&"date"===y.type&&(r=g.decodeDate(r)),v&&"date"===v.type&&(s=g.decodeDate(s)),function(e,t,n){var r=e.path,o=e.xsizemode,a=e.ysizemode,s=e.xanchor,l=e.yanchor;return r.replace(h.segmentRE,(function(e){var r=0,u=e.charAt(0),c=h.paramIsX[u],f=h.paramIsY[u],d=h.numParams[u],p=e.substr(1).replace(h.paramRE,(function(e){return c[r]?e="pixel"===o?t(s)+Number(e):t(e):f[r]&&(e="pixel"===a?n(l)-Number(e):n(e)),++r>d&&(e="X"),e}));return r>d&&(p=p.replace(/[\s,]*X.*/,""),i.log("Ignoring extra params in segment "+e)),u+p}))}(t,r,s);if("pixel"===t.xsizemode){var x=r(t.xanchor);l=x+t.x0,u=x+t.x1}else l=r(t.x0),u=r(t.x1);if("pixel"===t.ysizemode){var _=s(t.yanchor);c=_-t.y0,f=_-t.y1}else c=s(t.y0),f=s(t.y1);if("line"===d)return"M"+l+","+c+"L"+u+","+f;if("rect"===d)return"M"+l+","+c+"H"+u+"V"+f+"H"+l+"Z";var w=(l+u)/2,k=(c+f)/2,T=Math.abs(w-l),C=Math.abs(k-c),O="A"+T+","+C,S=w+T+","+k;return"M"+S+O+" 0 1,1 "+w+","+(k-C)+O+" 0 0,1 "+S+"Z"}function w(e,t,n){return e.replace(h.segmentRE,(function(e){var r=0,i=e.charAt(0),o=h.paramIsX[i],a=h.paramIsY[i],s=h.numParams[i];return i+e.substr(1).replace(h.paramRE,(function(e){return r>=s||(o[r]?e=t(e):a[r]&&(e=n(e)),r++),e}))}))}function k(e){v(e)&&e._fullLayout._activeShapeIndex>=0&&(l(e),delete e._fullLayout._activeShapeIndex,m(e))}t.exports={draw:m,drawOne:b,eraseActiveShape:function(e){if(v(e)){l(e);var t=e._fullLayout._activeShapeIndex,n=(e.layout||{}).shapes||[];if(t<n.length){for(var i=[],o=0;o<n.length;o++)o!==t&&i.push(n[o]);delete e._fullLayout._activeShapeIndex,r.call("_guiRelayout",e,{shapes:i})}}}}},{"../../lib":203,"../../lib/setcursor":222,"../../plot_api/plot_template":237,"../../plots/cartesian/axes":248,"../../plots/cartesian/handle_outline":258,"../../registry":295,"../color":75,"../dragelement":94,"../drawing":97,"./constants":154,"./draw_newshape/display_outlines":160,"./draw_newshape/helpers":161,"./helpers":163}],157:[function(e,t,n){"use strict";var r=e("../../drawing/attributes").dash,i=e("../../../lib/extend").extendFlat;t.exports={newshape:{line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:0,dflt:4,editType:"none"},dash:i({},r,{dflt:"solid",editType:"none"}),editType:"none"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"none"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"none"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal",editType:"none"},editType:"none"},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},{"../../../lib/extend":197,"../../drawing/attributes":96}],158:[function(e,t,n){"use strict";t.exports={CIRCLE_SIDES:32,i000:0,i090:8,i180:16,i270:24,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},{}],159:[function(e,t,n){"use strict";var r=e("../../color");t.exports=function(e,t,n){if(n("newshape.drawdirection"),n("newshape.layer"),n("newshape.fillcolor"),n("newshape.fillrule"),n("newshape.opacity"),n("newshape.line.width")){var i=(e||{}).plot_bgcolor||"#FFF";n("newshape.line.color",r.contrast(i)),n("newshape.line.dash")}n("activeshape.fillcolor"),n("activeshape.opacity")}},{"../../color":75}],160:[function(e,t,n){"use strict";var r=e("../../dragelement"),i=e("../../dragelement/helpers").drawMode,o=e("../../../registry"),a=e("./constants"),s=a.i000,l=a.i090,u=a.i180,c=a.i270,f=e("../../../plots/cartesian/handle_outline").clearOutlineControllers,d=e("./helpers"),p=d.pointsShapeRectangle,h=d.pointsShapeEllipse,g=d.writePaths,m=e("./newshapes");t.exports=function e(t,n,a,d){d||(d=0);var y=a.gd;function v(){e(t,n,a,d++),h(t[0])&&b({redrawing:!0})}function b(e){a.isActiveShape=!1;var t=m(n,a);Object.keys(t).length&&o.call((e||{}).redrawing?"relayout":"_guiRelayout",y,t)}var x,_,w,k,T,C=a.isActiveShape,O=y._fullLayout._zoomlayer,S=a.dragmode;function A(e){w=+e.srcElement.getAttribute("data-i"),k=+e.srcElement.getAttribute("data-j"),x[w][k].moveFn=M}function M(e,n){if(t.length){var r=T[w][k][1],i=T[w][k][2],o=t[w],a=o.length;if(p(o)){for(var s=0;s<a;s++)if(s!==k){var l=o[s];l[1]===o[k][1]&&(l[1]=r+e),l[2]===o[k][2]&&(l[2]=i+n)}if(o[k][1]=r+e,o[k][2]=i+n,!p(o))for(var u=0;u<a;u++)for(var c=0;c<o[u].length;c++)o[u][c]=T[w][u][c]}else o[k][1]=r+e,o[k][2]=i+n;v()}}function E(){b()}function P(e,n){if(2===e){w=+n.srcElement.getAttribute("data-i"),k=+n.srcElement.getAttribute("data-j");var r=t[w];p(r)||h(r)||function(){if(t.length&&t[w]&&t[w].length){for(var e=[],n=0;n<t[w].length;n++)n!==k&&e.push(t[w][n]);e.length>1&&(2!==e.length||"Z"!==e[1][0])&&(0===k&&(e[0][0]="M"),t[w]=e,v(),b())}}()}}function D(e,n){(function(e,n){if(t.length)for(var r=0;r<t.length;r++)for(var i=0;i<t[r].length;i++)for(var o=0;o+2<t[r][i].length;o+=2)t[r][i][o+1]=T[r][i][o+1]+e,t[r][i][o+2]=T[r][i][o+2]+n})(e,n),v()}function L(e){(w=+e.srcElement.getAttribute("data-i"))||(w=0),_[w].moveFn=D}function R(){b()}i(S)?y._fullLayout._drawing=!0:y._fullLayout._activeShapeIndex>=0&&f(y),n.attr("d",g(t)),C&&!d&&(T=function(e,t){for(var n=0;n<t.length;n++){var r=t[n];e[n]=[];for(var i=0;i<r.length;i++){e[n][i]=[];for(var o=0;o<r[i].length;o++)e[n][i][o]=r[i][o]}}return e}([],t),function(e){x=[];for(var n=0;n<t.length;n++){var i=t[n],o=!p(i)&&h(i);x[n]=[];for(var a=0;a<i.length;a++)if("Z"!==i[a][0]&&(!o||a===s||a===l||a===u||a===c)){var f=i[a][1],d=i[a][2],g=e.append("circle").classed("cursor-grab",!0).attr("data-i",n).attr("data-j",a).attr("cx",f).attr("cy",d).attr("r",4).style({"mix-blend-mode":"luminosity",fill:"black",stroke:"white","stroke-width":1});x[n][a]={element:g.node(),gd:y,prepFn:A,doneFn:E,clickFn:P},r.init(x[n][a])}}}(O.append("g").attr("class","outline-controllers")),function(){if(_=[],t.length){_[0]={element:n[0][0],gd:y,prepFn:L,doneFn:R},r.init(_[0])}}())}},{"../../../plots/cartesian/handle_outline":258,"../../../registry":295,"../../dragelement":94,"../../dragelement/helpers":93,"./constants":158,"./helpers":161,"./newshapes":162}],161:[function(e,t,n){"use strict";var r=e("parse-svg-path"),i=e("./constants"),o=i.CIRCLE_SIDES,a=i.SQRT2,s=e("../../../plots/cartesian/helpers"),l=s.p2r,u=s.r2p,c=[0,3,4,5,6,1,2],f=[0,3,4,1,2];function d(e,t){return Math.abs(e-t)<=1e-6}function p(e,t){var n=t[1]-e[1],r=t[2]-e[2];return Math.sqrt(n*n+r*r)}n.writePaths=function(e){var t=e.length;if(!t)return"M0,0Z";for(var n="",r=0;r<t;r++)for(var i=e[r].length,o=0;o<i;o++){var a=e[r][o][0];if("Z"===a)n+="Z";else for(var s=e[r][o].length,l=0;l<s;l++){var u=l;"Q"===a||"S"===a?u=f[l]:"C"===a&&(u=c[l]),n+=e[r][o][u],l>0&&l<s-1&&(n+=",")}}return n},n.readPaths=function(e,t,n,i){var a,s,c,f=r(e),d=[],p=-1,h=0,g=0,m=function(){s=h,c=g};m();for(var y=0;y<f.length;y++){var v,b,x,_,w=[],k=f[y][0],T=k;switch(k){case"M":p++,d[p]=[],h=+f[y][1],g=+f[y][2],w.push([T,h,g]),m();break;case"Q":case"S":v=+f[y][1],x=+f[y][2],h=+f[y][3],g=+f[y][4],w.push([T,h,g,v,x]);break;case"C":v=+f[y][1],x=+f[y][2],b=+f[y][3],_=+f[y][4],h=+f[y][5],g=+f[y][6],w.push([T,h,g,v,x,b,_]);break;case"T":case"L":h=+f[y][1],g=+f[y][2],w.push([T,h,g]);break;case"H":T="L",h=+f[y][1],w.push([T,h,g]);break;case"V":T="L",g=+f[y][1],w.push([T,h,g]);break;case"A":T="L";var C=+f[y][1],O=+f[y][2];+f[y][4]||(C=-C,O=-O);var S=h-C,A=g;for(a=1;a<=o/2;a++){var M=2*Math.PI*a/o;w.push([T,S+C*Math.cos(M),A+O*Math.sin(M)])}break;case"Z":h===s&&g===c||(h=s,g=c,w.push([T,h,g]))}for(var E=(n||{}).domain,P=t._fullLayout._size,D=n&&"pixel"===n.xsizemode,L=n&&"pixel"===n.ysizemode,R=!1===i,I=0;I<w.length;I++){for(a=0;a+2<7;a+=2){var N=w[I][a+1],j=w[I][a+2];void 0!==N&&void 0!==j&&(h=N,g=j,n&&(n.xaxis&&n.xaxis.p2r?(R&&(N-=n.xaxis._offset),N=D?u(n.xaxis,n.xanchor)+N:l(n.xaxis,N)):(R&&(N-=P.l),E?N=E.x[0]+N/P.w:N/=P.w),n.yaxis&&n.yaxis.p2r?(R&&(j-=n.yaxis._offset),j=L?u(n.yaxis,n.yanchor)-j:l(n.yaxis,j)):(R&&(j-=P.t),j=E?E.y[1]-j/P.h:1-j/P.h)),w[I][a+1]=N,w[I][a+2]=j)}d[p].push(w[I].slice())}}return d},n.pointsShapeRectangle=function(e){if(5!==e.length)return!1;for(var t=1;t<3;t++){if(!d(e[0][t]-e[1][t],e[3][t]-e[2][t]))return!1;if(!d(e[0][t]-e[3][t],e[1][t]-e[2][t]))return!1}return!(!d(e[0][1],e[1][1])&&!d(e[0][1],e[3][1])||!(p(e[0],e[1])*p(e[0],e[3])))},n.pointsShapeEllipse=function(e){var t=e.length;if(t!==o+1)return!1;t=o;for(var n=0;n<t;n++){var r=(2*t-n)%t,i=(t/2+r)%t,a=(t/2+n)%t;if(!d(p(e[n],e[a]),p(e[r],e[i])))return!1}return!0},n.handleEllipse=function(e,t,r){if(!e)return[t,r];var i=n.ellipseOver({x0:t[0],y0:t[1],x1:r[0],y1:r[1]}),s=(i.x1+i.x0)/2,l=(i.y1+i.y0)/2,u=(i.x1-i.x0)/2,c=(i.y1-i.y0)/2;u||(u=c/=a),c||(c=u/=a);for(var f=[],d=0;d<o;d++){var p=2*d*Math.PI/o;f.push([s+u*Math.cos(p),l+c*Math.sin(p)])}return f},n.ellipseOver=function(e){var t=e.x0,n=e.y0,r=e.x1,i=e.y1,o=r-t,s=i-n,l=((t-=o)+r)/2,u=((n-=s)+i)/2;return{x0:l-(o*=a),y0:u-(s*=a),x1:l+o,y1:u+s}}},{"../../../plots/cartesian/helpers":259,"./constants":158,"parse-svg-path":47}],162:[function(e,t,n){"use strict";var r=e("../../dragelement/helpers"),i=r.drawMode,o=r.openMode,a=e("./constants"),s=a.i000,l=a.i090,u=a.i180,c=a.i270,f=a.cos45,d=a.sin45,p=e("../../../plots/cartesian/helpers"),h=p.p2r,g=p.r2p,m=e("../../../plots/cartesian/handle_outline").clearSelect,y=e("./helpers"),v=y.readPaths,b=y.writePaths,x=y.ellipseOver;t.exports=function(e,t){if(e.length){var n=e[0][0];if(n){var r=n.getAttribute("d"),a=t.gd,p=a._fullLayout.newshape,y=t.plotinfo,_=y.xaxis,w=y.yaxis,k=!!y.domain||!y.xaxis,T=!!y.domain||!y.yaxis,C=t.isActiveShape,O=t.dragmode,S=(a.layout||{}).shapes||[];if(!i(O)&&void 0!==C){var A=a._fullLayout._activeShapeIndex;if(A<S.length)switch(a._fullLayout.shapes[A].type){case"rect":O="drawrect";break;case"circle":O="drawcircle";break;case"line":O="drawline";break;case"path":var M=S[A].path||"";O="Z"===M[M.length-1]?"drawclosedpath":"drawopenpath"}}var E,P=o(O),D=v(r,a,y,C),L={editable:!0,xref:k?"paper":_._id,yref:T?"paper":w._id,layer:p.layer,opacity:p.opacity,line:{color:p.line.color,width:p.line.width,dash:p.line.dash}};if(P||(L.fillcolor=p.fillcolor,L.fillrule=p.fillrule),1===D.length&&(E=D[0]),E&&"drawrect"===O)L.type="rect",L.x0=E[0][1],L.y0=E[0][2],L.x1=E[2][1],L.y1=E[2][2];else if(E&&"drawline"===O)L.type="line",L.x0=E[0][1],L.y0=E[0][2],L.x1=E[1][1],L.y1=E[1][2];else if(E&&"drawcircle"===O){L.type="circle";var R=E[s][1],I=E[l][1],N=E[u][1],j=E[c][1],z=E[s][2],q=E[l][2],F=E[u][2],B=E[c][2],H=y.xaxis&&("date"===y.xaxis.type||"log"===y.xaxis.type),U=y.yaxis&&("date"===y.yaxis.type||"log"===y.yaxis.type);H&&(R=g(y.xaxis,R),I=g(y.xaxis,I),N=g(y.xaxis,N),j=g(y.xaxis,j)),U&&(z=g(y.yaxis,z),q=g(y.yaxis,q),F=g(y.yaxis,F),B=g(y.yaxis,B));var V=(I+j)/2,W=(z+F)/2,G=x({x0:V,y0:W,x1:V+(j-I+N-R)/2*f,y1:W+(B-q+F-z)/2*d});H&&(G.x0=h(y.xaxis,G.x0),G.x1=h(y.xaxis,G.x1)),U&&(G.y0=h(y.yaxis,G.y0),G.y1=h(y.yaxis,G.y1)),L.x0=G.x0,L.y0=G.y0,L.x1=G.x1,L.y1=G.y1}else L.type="path",_&&w&&function(e,t,n){var r="date"===t.type,i="date"===n.type;if(!r&&!i)return e;for(var o=0;o<e.length;o++)for(var a=0;a<e[o].length;a++)for(var s=0;s+2<e[o][a].length;s+=2)r&&(e[o][a][s+1]=e[o][a][s+1].replace(" ","_")),i&&(e[o][a][s+2]=e[o][a][s+2].replace(" ","_"))}(D,_,w),L.path=b(D),E=null;m(a);for(var K=t.editHelpers,Y=(K||{}).modifyItem,Z=[],X=0;X<S.length;X++){var $=a._fullLayout.shapes[X];if(Z[X]=$._input,void 0!==C&&X===a._fullLayout._activeShapeIndex){var J=L;switch($.type){case"line":case"rect":case"circle":Y("x0",J.x0),Y("x1",J.x1),Y("y0",J.y0),Y("y1",J.y1);break;case"path":Y("path",J.path)}}}return void 0===C?(Z.push(L),Z):K?K.getUpdateObj():{}}}}},{"../../../plots/cartesian/handle_outline":258,"../../../plots/cartesian/helpers":259,"../../dragelement/helpers":93,"./constants":158,"./helpers":161}],163:[function(e,t,n){"use strict";var r=e("./constants"),i=e("../../lib");n.rangeToShapePosition=function(e){return"log"===e.type?e.r2d:function(e){return e}},n.shapePositionToRange=function(e){return"log"===e.type?e.d2r:function(e){return e}},n.decodeDate=function(e){return function(t){return t.replace&&(t=t.replace("_"," ")),e(t)}},n.encodeDate=function(e){return function(t){return e(t).replace(" ","_")}},n.extractPathCoords=function(e,t){var n=[];return e.match(r.segmentRE).forEach((function(e){var o=t[e.charAt(0)].drawn;if(void 0!==o){var a=e.substr(1).match(r.paramRE);!a||a.length<o||n.push(i.cleanNumber(a[o]))}})),n},n.getDataToPixel=function(e,t,r,i){var o,a=e._fullLayout._size;if(t)if("domain"===i)o=function(e){return t._length*(r?1-e:e)+t._offset};else{var s=n.shapePositionToRange(t);o=function(e){return t._offset+t.r2p(s(e,!0))},"date"===t.type&&(o=n.decodeDate(o))}else o=r?function(e){return a.t+a.h*(1-e)}:function(e){return a.l+a.w*e};return o},n.getPixelToData=function(e,t,r,i){var o,a=e._fullLayout._size;if(t)if("domain"===i)o=function(e){var n=(e-t._offset)/t._length;return r?1-n:n};else{var s=n.rangeToShapePosition(t);o=function(e){return s(t.p2r(e-t._offset))}}else o=r?function(e){return 1-(e-a.t)/a.h}:function(e){return(e-a.l)/a.w};return o},n.roundPositionForSharpStrokeRendering=function(e,t){var n=1===Math.round(t%2),r=Math.round(e);return n?r+.5:r},n.makeOptionsAndPlotinfo=function(e,t){var n=e._fullLayout.shapes[t]||{},r=e._fullLayout._plots[n.xref+n.yref];return r?r._hadPlotinfo=!0:(r={},n.xref&&"paper"!==n.xref&&(r.xaxis=e._fullLayout[n.xref+"axis"]),n.yref&&"paper"!==n.yref&&(r.yaxis=e._fullLayout[n.yref+"axis"])),r.xsizemode=n.xsizemode,r.ysizemode=n.ysizemode,r.xanchor=n.xanchor,r.yanchor=n.yanchor,{options:n,plotinfo:r}}},{"../../lib":203,"./constants":154}],164:[function(e,t,n){"use strict";var r=e("./draw");t.exports={moduleType:"component",name:"shapes",layoutAttributes:e("./attributes"),supplyLayoutDefaults:e("./defaults"),supplyDrawNewShapeDefaults:e("./draw_newshape/defaults"),includeBasePlot:e("../../plots/cartesian/include_components")("shapes"),calcAutorange:e("./calc_autorange"),draw:r.draw,drawOne:r.drawOne}},{"../../plots/cartesian/include_components":260,"./attributes":152,"./calc_autorange":153,"./defaults":155,"./draw":156,"./draw_newshape/defaults":159}],165:[function(e,t,n){"use strict";var r=e("../../plots/font_attributes"),i=e("../../plots/pad_attributes"),o=e("../../lib/extend").extendDeepAll,a=e("../../plot_api/edit_types").overrideAll,s=e("../../plots/animation_attributes"),l=e("../../plot_api/plot_template").templatedArray,u=e("./constants"),c=l("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});t.exports=a(l("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:c,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:o(i({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:s.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:r({})},font:r({}),activebgcolor:{valType:"color",dflt:u.gripBgActiveColor},bgcolor:{valType:"color",dflt:u.railBgColor},bordercolor:{valType:"color",dflt:u.railBorderColor},borderwidth:{valType:"number",min:0,dflt:u.railBorderWidth},ticklen:{valType:"number",min:0,dflt:u.tickLength},tickcolor:{valType:"color",dflt:u.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:u.minorTickLength}}),"arraydraw","from-root")},{"../../lib/extend":197,"../../plot_api/edit_types":230,"../../plot_api/plot_template":237,"../../plots/animation_attributes":242,"../../plots/font_attributes":276,"../../plots/pad_attributes":281,"./constants":166}],166:[function(e,t,n){"use strict";t.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},{}],167:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../plots/array_container_defaults"),o=e("./attributes"),a=e("./constants").name,s=o.steps;function l(e,t,n){function a(n,i){return r.coerce(e,t,o,n,i)}for(var s=i(e,t,{name:"steps",handleItemDefaults:u}),l=0,c=0;c<s.length;c++)s[c].visible&&l++;if(l<2?t.visible=!1:a("visible")){t._stepCount=l;var f=t._visibleSteps=r.filterVisible(s);(s[a("active")]||{}).visible||(t.active=f[0]._index),a("x"),a("y"),r.noneOrAll(e,t,["x","y"]),a("xanchor"),a("yanchor"),a("len"),a("lenmode"),a("pad.t"),a("pad.r"),a("pad.b"),a("pad.l"),r.coerceFont(a,"font",n.font),a("currentvalue.visible")&&(a("currentvalue.xanchor"),a("currentvalue.prefix"),a("currentvalue.suffix"),a("currentvalue.offset"),r.coerceFont(a,"currentvalue.font",t.font)),a("transition.duration"),a("transition.easing"),a("bgcolor"),a("activebgcolor"),a("bordercolor"),a("borderwidth"),a("ticklen"),a("tickwidth"),a("tickcolor"),a("minorticklen")}}function u(e,t){function n(n,i){return r.coerce(e,t,s,n,i)}if("skip"===e.method||Array.isArray(e.args)?n("visible"):t.visible=!1){n("method"),n("args");var i=n("label","step-"+t._index);n("value",i),n("execute")}}t.exports=function(e,t){i(e,t,{name:a,handleItemDefaults:l})}},{"../../lib":203,"../../plots/array_container_defaults":243,"./attributes":165,"./constants":166}],168:[function(e,t,n){"use strict";var r=e("d3"),i=e("../../plots/plots"),o=e("../color"),a=e("../drawing"),s=e("../../lib"),l=e("../../lib/svg_text_utils"),u=e("../../plot_api/plot_template").arrayEditor,c=e("./constants"),f=e("../../constants/alignment"),d=f.LINE_SPACING,p=f.FROM_TL,h=f.FROM_BR;function g(e){return c.autoMarginIdRoot+e._index}function m(e){return e._index}function y(e,t){var n=a.tester.selectAll("g."+c.labelGroupClass).data(t._visibleSteps);n.enter().append("g").classed(c.labelGroupClass,!0);var o=0,u=0;n.each((function(e){var n=x(r.select(this),{step:e},t).node();if(n){var i=a.bBox(n);u=Math.max(u,i.height),o=Math.max(o,i.width)}})),n.remove();var f=t._dims={};f.inputAreaWidth=Math.max(c.railWidth,c.gripHeight);var d=e._fullLayout._size;f.lx=d.l+d.w*t.x,f.ly=d.t+d.h*(1-t.y),"fraction"===t.lenmode?f.outerLength=Math.round(d.w*t.len):f.outerLength=t.len,f.inputAreaStart=0,f.inputAreaLength=Math.round(f.outerLength-t.pad.l-t.pad.r);var m=(f.inputAreaLength-2*c.stepInset)/(t._stepCount-1),y=o+c.labelPadding;if(f.labelStride=Math.max(1,Math.ceil(y/m)),f.labelHeight=u,f.currentValueMaxWidth=0,f.currentValueHeight=0,f.currentValueTotalHeight=0,f.currentValueMaxLines=1,t.currentvalue.visible){var b=a.tester.append("g");n.each((function(e){var n=v(b,t,e.label),r=n.node()&&a.bBox(n.node())||{width:0,height:0},i=l.lineCount(n);f.currentValueMaxWidth=Math.max(f.currentValueMaxWidth,Math.ceil(r.width)),f.currentValueHeight=Math.max(f.currentValueHeight,Math.ceil(r.height)),f.currentValueMaxLines=Math.max(f.currentValueMaxLines,i)})),f.currentValueTotalHeight=f.currentValueHeight+t.currentvalue.offset,b.remove()}f.height=f.currentValueTotalHeight+c.tickOffset+t.ticklen+c.labelOffset+f.labelHeight+t.pad.t+t.pad.b;var _="left";s.isRightAnchor(t)&&(f.lx-=f.outerLength,_="right"),s.isCenterAnchor(t)&&(f.lx-=f.outerLength/2,_="center");var w="top";s.isBottomAnchor(t)&&(f.ly-=f.height,w="bottom"),s.isMiddleAnchor(t)&&(f.ly-=f.height/2,w="middle"),f.outerLength=Math.ceil(f.outerLength),f.height=Math.ceil(f.height),f.lx=Math.round(f.lx),f.ly=Math.round(f.ly);var k={y:t.y,b:f.height*h[w],t:f.height*p[w]};"fraction"===t.lenmode?(k.l=0,k.xl=t.x-t.len*p[_],k.r=0,k.xr=t.x+t.len*h[_]):(k.x=t.x,k.l=f.outerLength*p[_],k.r=f.outerLength*h[_]),i.autoMargin(e,g(t),k)}function v(e,t,n){if(t.currentvalue.visible){var r,i,o=t._dims;switch(t.currentvalue.xanchor){case"right":r=o.inputAreaLength-c.currentValueInset-o.currentValueMaxWidth,i="left";break;case"center":r=.5*o.inputAreaLength,i="middle";break;default:r=c.currentValueInset,i="left"}var u=s.ensureSingle(e,"text",c.labelClass,(function(e){e.attr({"text-anchor":i,"data-notex":1})})),f=t.currentvalue.prefix?t.currentvalue.prefix:"";if("string"==typeof n)f+=n;else{var p=t.steps[t.active].label,h=t._gd._fullLayout._meta;h&&(p=s.templateString(p,h)),f+=p}t.currentvalue.suffix&&(f+=t.currentvalue.suffix),u.call(a.font,t.currentvalue.font).text(f).call(l.convertToTspans,t._gd);var g=l.lineCount(u),m=(o.currentValueMaxLines+1-g)*t.currentvalue.font.size*d;return l.positionText(u,r,m),u}}function b(e,t,n){s.ensureSingle(e,"rect",c.gripRectClass,(function(r){r.call(T,t,e,n).style("pointer-events","all")})).attr({width:c.gripWidth,height:c.gripHeight,rx:c.gripRadius,ry:c.gripRadius}).call(o.stroke,n.bordercolor).call(o.fill,n.bgcolor).style("stroke-width",n.borderwidth+"px")}function x(e,t,n){var r=s.ensureSingle(e,"text",c.labelClass,(function(e){e.attr({"text-anchor":"middle","data-notex":1})})),i=t.step.label,o=n._gd._fullLayout._meta;return o&&(i=s.templateString(i,o)),r.call(a.font,n.font).text(i).call(l.convertToTspans,n._gd),r}function _(e,t){var n=s.ensureSingle(e,"g",c.labelsClass),i=t._dims,o=n.selectAll("g."+c.labelGroupClass).data(i.labelSteps);o.enter().append("g").classed(c.labelGroupClass,!0),o.exit().remove(),o.each((function(e){var n=r.select(this);n.call(x,e,t),a.setTranslate(n,S(t,e.fraction),c.tickOffset+t.ticklen+t.font.size*d+c.labelOffset+i.currentValueTotalHeight)}))}function w(e,t,n,r,i){var o=Math.round(r*(n._stepCount-1)),a=n._visibleSteps[o]._index;a!==n.active&&k(e,t,n,a,!0,i)}function k(e,t,n,r,o,a){var s=n.active;n.active=r,u(e.layout,c.name,n).applyUpdate("active",r);var l=n.steps[n.active];t.call(O,n,a),t.call(v,n),e.emit("plotly_sliderchange",{slider:n,step:n.steps[n.active],interaction:o,previousActive:s}),l&&l.method&&o&&(t._nextMethod?(t._nextMethod.step=l,t._nextMethod.doCallback=o,t._nextMethod.doTransition=a):(t._nextMethod={step:l,doCallback:o,doTransition:a},t._nextMethodRaf=window.requestAnimationFrame((function(){var n=t._nextMethod.step;n.method&&(n.execute&&i.executeAPICommand(e,n.method,n.args),t._nextMethod=null,t._nextMethodRaf=null)}))))}function T(e,t,n){var i=n.node(),a=r.select(t);function s(){return n.data()[0]}e.on("mousedown",(function(){var e=s();t.emit("plotly_sliderstart",{slider:e});var l=n.select("."+c.gripRectClass);r.event.stopPropagation(),r.event.preventDefault(),l.call(o.fill,e.activebgcolor);var u=A(e,r.mouse(i)[0]);w(t,n,e,u,!0),e._dragging=!0,a.on("mousemove",(function(){var e=s(),o=A(e,r.mouse(i)[0]);w(t,n,e,o,!1)})),a.on("mouseup",(function(){var e=s();e._dragging=!1,l.call(o.fill,e.bgcolor),a.on("mouseup",null),a.on("mousemove",null),t.emit("plotly_sliderend",{slider:e,step:e.steps[e.active]})}))}))}function C(e,t){var n=e.selectAll("rect."+c.tickRectClass).data(t._visibleSteps),i=t._dims;n.enter().append("rect").classed(c.tickRectClass,!0),n.exit().remove(),n.attr({width:t.tickwidth+"px","shape-rendering":"crispEdges"}),n.each((function(e,n){var s=n%i.labelStride==0,l=r.select(this);l.attr({height:s?t.ticklen:t.minorticklen}).call(o.fill,t.tickcolor),a.setTranslate(l,S(t,n/(t._stepCount-1))-.5*t.tickwidth,(s?c.tickOffset:c.minorTickOffset)+i.currentValueTotalHeight)}))}function O(e,t,n){for(var r=e.select("rect."+c.gripRectClass),i=0,o=0;o<t._stepCount;o++)if(t._visibleSteps[o]._index===t.active){i=o;break}var a=S(t,i/(t._stepCount-1));if(!t._invokingCommand){var s=r;n&&t.transition.duration>0&&(s=s.transition().duration(t.transition.duration).ease(t.transition.easing)),s.attr("transform","translate("+(a-.5*c.gripWidth)+","+t._dims.currentValueTotalHeight+")")}}function S(e,t){var n=e._dims;return n.inputAreaStart+c.stepInset+(n.inputAreaLength-2*c.stepInset)*Math.min(1,Math.max(0,t))}function A(e,t){var n=e._dims;return Math.min(1,Math.max(0,(t-c.stepInset-n.inputAreaStart)/(n.inputAreaLength-2*c.stepInset-2*n.inputAreaStart)))}function M(e,t,n){var r=n._dims,i=s.ensureSingle(e,"rect",c.railTouchRectClass,(function(r){r.call(T,t,e,n).style("pointer-events","all")}));i.attr({width:r.inputAreaLength,height:Math.max(r.inputAreaWidth,c.tickOffset+n.ticklen+r.labelHeight)}).call(o.fill,n.bgcolor).attr("opacity",0),a.setTranslate(i,0,r.currentValueTotalHeight)}function E(e,t){var n=t._dims,r=n.inputAreaLength-2*c.railInset,i=s.ensureSingle(e,"rect",c.railRectClass);i.attr({width:r,height:c.railWidth,rx:c.railRadius,ry:c.railRadius,"shape-rendering":"crispEdges"}).call(o.stroke,t.bordercolor).call(o.fill,t.bgcolor).style("stroke-width",t.borderwidth+"px"),a.setTranslate(i,c.railInset,.5*(n.inputAreaWidth-c.railWidth)+n.currentValueTotalHeight)}t.exports=function(e){var t=e._fullLayout,n=function(e,t){for(var n=e[c.name],r=[],i=0;i<n.length;i++){var o=n[i];o.visible&&(o._gd=t,r.push(o))}return r}(t,e),o=t._infolayer.selectAll("g."+c.containerClassName).data(n.length>0?[0]:[]);function s(t){t._commandObserver&&(t._commandObserver.remove(),delete t._commandObserver),i.autoMargin(e,g(t))}if(o.enter().append("g").classed(c.containerClassName,!0).style("cursor","ew-resize"),o.exit().each((function(){r.select(this).selectAll("g."+c.groupClassName).each(s)})).remove(),0!==n.length){var l=o.selectAll("g."+c.groupClassName).data(n,m);l.enter().append("g").classed(c.groupClassName,!0),l.exit().each(s).remove();for(var u=0;u<n.length;u++){var f=n[u];y(e,f)}l.each((function(t){var n=r.select(this);(function(e){var t=e._dims;t.labelSteps=[];for(var n=e._stepCount,r=0;r<n;r+=t.labelStride)t.labelSteps.push({fraction:r/(n-1),step:e._visibleSteps[r]})})(t),i.manageCommandObserver(e,t,t._visibleSteps,(function(t){var r=n.data()[0];r.active!==t.index&&(r._dragging||k(e,n,r,t.index,!1,!0))})),function(e,t,n){(n.steps[n.active]||{}).visible||(n.active=n._visibleSteps[0]._index),t.call(v,n).call(E,n).call(_,n).call(C,n).call(M,e,n).call(b,e,n);var r=n._dims;a.setTranslate(t,r.lx+n.pad.l,r.ly+n.pad.t),t.call(O,n,!1),t.call(v,n)}(e,r.select(this),t)}))}}},{"../../constants/alignment":177,"../../lib":203,"../../lib/svg_text_utils":224,"../../plot_api/plot_template":237,"../../plots/plots":282,"../color":75,"../drawing":97,"./constants":166,d3:21}],169:[function(e,t,n){"use strict";var r=e("./constants");t.exports={moduleType:"component",name:r.name,layoutAttributes:e("./attributes"),supplyLayoutDefaults:e("./defaults"),draw:e("./draw")}},{"./attributes":165,"./constants":166,"./defaults":167,"./draw":168}],170:[function(e,t,n){"use strict";var r=e("d3"),i=e("fast-isnumeric"),o=e("../../plots/plots"),a=e("../../registry"),s=e("../../lib"),l=e("../drawing"),u=e("../color"),c=e("../../lib/svg_text_utils"),f=e("../../constants/interactions"),d=e("../../constants/alignment").OPPOSITE_SIDE,p=/ [XY][0-9]* /;t.exports={draw:function(e,t,n){var h,g=n.propContainer,m=n.propName,y=n.placeholder,v=n.traceIndex,b=n.avoid||{},x=n.attributes,_=n.transform,w=n.containerGroup,k=e._fullLayout,T=1,C=!1,O=g.title,S=(O&&O.text?O.text:"").trim(),A=O&&O.font?O.font:{},M=A.family,E=A.size,P=A.color;"title.text"===m?h="titleText":-1!==m.indexOf("axis")?h="axisTitleText":m.indexOf(!0)&&(h="colorbarTitleText");var D=e._context.edits[h];""===S?T=0:S.replace(p," % ")===y.replace(p," % ")&&(T=.2,C=!0,D||(S="")),n._meta?S=s.templateString(S,n._meta):k._meta&&(S=s.templateString(S,k._meta));var L=S||D;w||(w=s.ensureSingle(k._infolayer,"g","g-"+t));var R=w.selectAll("text").data(L?[0]:[]);if(R.enter().append("text"),R.text(S).attr("class",t),R.exit().remove(),!L)return w;function I(e){s.syncOrAsync([N,j],e)}function N(t){var n;return _?(n="",_.rotate&&(n+="rotate("+[_.rotate,x.x,x.y]+")"),_.offset&&(n+="translate(0, "+_.offset+")")):n=null,t.attr("transform",n),t.style({"font-family":M,"font-size":r.round(E,2)+"px",fill:u.rgb(P),opacity:T*u.opacity(P),"font-weight":o.fontWeight}).attr(x).call(c.convertToTspans,e),o.previousPromises(e)}function j(e){var t=r.select(e.node().parentNode);if(b&&b.selection&&b.side&&S){t.attr("transform",null);var n=d[b.side],o="left"===b.side||"top"===b.side?-1:1,a=i(b.pad)?b.pad:2,u=l.bBox(t.node()),c={left:0,top:0,right:k.width,bottom:k.height},f=b.maxShift||o*(c[b.side]-u[b.side]),p=0;if(f<0)p=f;else{var h=b.offsetLeft||0,g=b.offsetTop||0;u.left-=h,u.right-=h,u.top-=g,u.bottom-=g,b.selection.each((function(){var e=l.bBox(this);s.bBoxIntersect(u,e,a)&&(p=Math.max(p,o*(e[b.side]-u[n])+a))})),p=Math.min(f,p)}if(p>0||f<0){var m={left:[-p,0],right:[p,0],top:[0,-p],bottom:[0,p]}[b.side];t.attr("transform","translate("+m+")")}}}return R.call(I),D&&(S?R.on(".opacity",null):(T=0,C=!0,R.text(y).on("mouseover.opacity",(function(){r.select(this).transition().duration(f.SHOW_PLACEHOLDER).style("opacity",1)})).on("mouseout.opacity",(function(){r.select(this).transition().duration(f.HIDE_PLACEHOLDER).style("opacity",0)}))),R.call(c.makeEditable,{gd:e}).on("edit",(function(t){void 0!==v?a.call("_guiRestyle",e,m,t,v):a.call("_guiRelayout",e,m,t)})).on("cancel",(function(){this.text(this.attr("data-unformatted")).call(I)})).on("input",(function(e){this.text(e||" ").call(c.positionText,x.x,x.y)}))),R.classed("js-placeholder",C),w}}},{"../../constants/alignment":177,"../../constants/interactions":181,"../../lib":203,"../../lib/svg_text_utils":224,"../../plots/plots":282,"../../registry":295,"../color":75,"../drawing":97,d3:21,"fast-isnumeric":23}],171:[function(e,t,n){"use strict";var r=e("../../plots/font_attributes"),i=e("../color/attributes"),o=e("../../lib/extend").extendFlat,a=e("../../plot_api/edit_types").overrideAll,s=e("../../plots/pad_attributes"),l=e("../../plot_api/plot_template").templatedArray,u=l("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});t.exports=a(l("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:u,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:o(s({editType:"arraydraw"}),{}),font:r({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:i.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},{"../../lib/extend":197,"../../plot_api/edit_types":230,"../../plot_api/plot_template":237,"../../plots/font_attributes":276,"../../plots/pad_attributes":281,"../color/attributes":74}],172:[function(e,t,n){"use strict";t.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"◄",right:"►",up:"▲",down:"▼"}}},{}],173:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../plots/array_container_defaults"),o=e("./attributes"),a=e("./constants").name,s=o.buttons;function l(e,t,n){function a(n,i){return r.coerce(e,t,o,n,i)}a("visible",i(e,t,{name:"buttons",handleItemDefaults:u}).length>0)&&(a("active"),a("direction"),a("type"),a("showactive"),a("x"),a("y"),r.noneOrAll(e,t,["x","y"]),a("xanchor"),a("yanchor"),a("pad.t"),a("pad.r"),a("pad.b"),a("pad.l"),r.coerceFont(a,"font",n.font),a("bgcolor",n.paper_bgcolor),a("bordercolor"),a("borderwidth"))}function u(e,t){function n(n,i){return r.coerce(e,t,s,n,i)}n("visible","skip"===e.method||Array.isArray(e.args))&&(n("method"),n("args"),n("args2"),n("label"),n("execute"))}t.exports=function(e,t){i(e,t,{name:a,handleItemDefaults:l})}},{"../../lib":203,"../../plots/array_container_defaults":243,"./attributes":171,"./constants":172}],174:[function(e,t,n){"use strict";var r=e("d3"),i=e("../../plots/plots"),o=e("../color"),a=e("../drawing"),s=e("../../lib"),l=e("../../lib/svg_text_utils"),u=e("../../plot_api/plot_template").arrayEditor,c=e("../../constants/alignment").LINE_SPACING,f=e("./constants"),d=e("./scrollbox");function p(e){return e._index}function h(e,t){return+e.attr(f.menuIndexAttrName)===t._index}function g(e,t,n,r,i,o,a,s){t.active=a,u(e.layout,f.name,t).applyUpdate("active",a),"buttons"===t.type?y(e,r,null,null,t):"dropdown"===t.type&&(i.attr(f.menuIndexAttrName,"-1"),m(e,r,i,o,t),s||y(e,r,i,o,t))}function m(e,t,n,r,i){var o=s.ensureSingle(t,"g",f.headerClassName,(function(e){e.style("pointer-events","all")})),l=i._dims,u=i.active,c=i.buttons[u]||f.blankHeaderOpts,d={y:i.pad.t,yPad:0,x:i.pad.l,xPad:0,index:0},p={width:l.headerWidth,height:l.headerHeight};o.call(v,i,c,e).call(O,i,d,p),s.ensureSingle(t,"text",f.headerArrowClassName,(function(e){e.attr("text-anchor","end").call(a.font,i.font).text(f.arrowSymbol[i.direction])})).attr({x:l.headerWidth-f.arrowOffsetX+i.pad.l,y:l.headerHeight/2+f.textOffsetY+i.pad.t}),o.on("click",(function(){n.call(S,String(h(n,i)?-1:i._index)),y(e,t,n,r,i)})),o.on("mouseover",(function(){o.call(w)})),o.on("mouseout",(function(){o.call(k,i)})),a.setTranslate(t,l.lx,l.ly)}function y(e,t,n,o,a){n||(n=t).attr("pointer-events","all");var l=function(e){return-1==+e.attr(f.menuIndexAttrName)}(n)&&"buttons"!==a.type?[]:a.buttons,u="dropdown"===a.type?f.dropdownButtonClassName:f.buttonClassName,c=n.selectAll("g."+u).data(s.filterVisible(l)),d=c.enter().append("g").classed(u,!0),p=c.exit();"dropdown"===a.type?(d.attr("opacity","0").transition().attr("opacity","1"),p.transition().attr("opacity","0").remove()):p.remove();var h=0,m=0,y=a._dims,b=-1!==["up","down"].indexOf(a.direction);"dropdown"===a.type&&(b?m=y.headerHeight+f.gapButtonHeader:h=y.headerWidth+f.gapButtonHeader),"dropdown"===a.type&&"up"===a.direction&&(m=-f.gapButtonHeader+f.gapButton-y.openHeight),"dropdown"===a.type&&"left"===a.direction&&(h=-f.gapButtonHeader+f.gapButton-y.openWidth);var x={x:y.lx+h+a.pad.l,y:y.ly+m+a.pad.t,yPad:f.gapButton,xPad:f.gapButton,index:0},T={l:x.x+a.borderwidth,t:x.y+a.borderwidth};c.each((function(s,l){var u=r.select(this);u.call(v,a,s,e).call(O,a,x),u.on("click",(function(){r.event.defaultPrevented||(s.execute&&(s.args2&&a.active===l?(g(e,a,0,t,n,o,-1),i.executeAPICommand(e,s.method,s.args2)):(g(e,a,0,t,n,o,l),i.executeAPICommand(e,s.method,s.args))),e.emit("plotly_buttonclicked",{menu:a,button:s,active:a.active}))})),u.on("mouseover",(function(){u.call(w)})),u.on("mouseout",(function(){u.call(k,a),c.call(_,a)}))})),c.call(_,a),b?(T.w=Math.max(y.openWidth,y.headerWidth),T.h=x.y-T.t):(T.w=x.x-T.l,T.h=Math.max(y.openHeight,y.headerHeight)),T.direction=a.direction,o&&(c.size()?function(e,t,n,r,i,o){var a,s,l,u=i.direction,c="up"===u||"down"===u,d=i._dims,p=i.active;if(c)for(s=0,l=0;l<p;l++)s+=d.heights[l]+f.gapButton;else for(a=0,l=0;l<p;l++)a+=d.widths[l]+f.gapButton;r.enable(o,a,s),r.hbar&&r.hbar.attr("opacity","0").transition().attr("opacity","1"),r.vbar&&r.vbar.attr("opacity","0").transition().attr("opacity","1")}(0,0,0,o,a,T):function(e){var t=!!e.hbar,n=!!e.vbar;t&&e.hbar.transition().attr("opacity","0").each("end",(function(){t=!1,n||e.disable()})),n&&e.vbar.transition().attr("opacity","0").each("end",(function(){n=!1,t||e.disable()}))}(o))}function v(e,t,n,r){e.call(b,t).call(x,t,n,r)}function b(e,t){s.ensureSingle(e,"rect",f.itemRectClassName,(function(e){e.attr({rx:f.rx,ry:f.ry,"shape-rendering":"crispEdges"})})).call(o.stroke,t.bordercolor).call(o.fill,t.bgcolor).style("stroke-width",t.borderwidth+"px")}function x(e,t,n,r){var i=s.ensureSingle(e,"text",f.itemTextClassName,(function(e){e.attr({"text-anchor":"start","data-notex":1})})),o=n.label,u=r._fullLayout._meta;u&&(o=s.templateString(o,u)),i.call(a.font,t.font).text(o).call(l.convertToTspans,r)}function _(e,t){var n=t.active;e.each((function(e,i){var a=r.select(this);i===n&&t.showactive&&a.select("rect."+f.itemRectClassName).call(o.fill,f.activeColor)}))}function w(e){e.select("rect."+f.itemRectClassName).call(o.fill,f.hoverColor)}function k(e,t){e.select("rect."+f.itemRectClassName).call(o.fill,t.bgcolor)}function T(e,t){var n=t._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},o=a.tester.selectAll("g."+f.dropdownButtonClassName).data(s.filterVisible(t.buttons));o.enter().append("g").classed(f.dropdownButtonClassName,!0);var u=-1!==["up","down"].indexOf(t.direction);o.each((function(i,o){var s=r.select(this);s.call(v,t,i,e);var d=s.select("."+f.itemTextClassName),p=d.node()&&a.bBox(d.node()).width,h=Math.max(p+f.textPadX,f.minWidth),g=t.font.size*c,m=l.lineCount(d),y=Math.max(g*m,f.minHeight)+f.textOffsetY;y=Math.ceil(y),h=Math.ceil(h),n.widths[o]=h,n.heights[o]=y,n.height1=Math.max(n.height1,y),n.width1=Math.max(n.width1,h),u?(n.totalWidth=Math.max(n.totalWidth,h),n.openWidth=n.totalWidth,n.totalHeight+=y+f.gapButton,n.openHeight+=y+f.gapButton):(n.totalWidth+=h+f.gapButton,n.openWidth+=h+f.gapButton,n.totalHeight=Math.max(n.totalHeight,y),n.openHeight=n.totalHeight)})),u?n.totalHeight-=f.gapButton:n.totalWidth-=f.gapButton,n.headerWidth=n.width1+f.arrowPadX,n.headerHeight=n.height1,"dropdown"===t.type&&(u?(n.width1+=f.arrowPadX,n.totalHeight=n.height1):n.totalWidth=n.width1,n.totalWidth+=f.arrowPadX),o.remove();var d=n.totalWidth+t.pad.l+t.pad.r,p=n.totalHeight+t.pad.t+t.pad.b,h=e._fullLayout._size;n.lx=h.l+h.w*t.x,n.ly=h.t+h.h*(1-t.y);var g="left";s.isRightAnchor(t)&&(n.lx-=d,g="right"),s.isCenterAnchor(t)&&(n.lx-=d/2,g="center");var m="top";s.isBottomAnchor(t)&&(n.ly-=p,m="bottom"),s.isMiddleAnchor(t)&&(n.ly-=p/2,m="middle"),n.totalWidth=Math.ceil(n.totalWidth),n.totalHeight=Math.ceil(n.totalHeight),n.lx=Math.round(n.lx),n.ly=Math.round(n.ly),i.autoMargin(e,C(t),{x:t.x,y:t.y,l:d*({right:1,center:.5}[g]||0),r:d*({left:1,center:.5}[g]||0),b:p*({top:1,middle:.5}[m]||0),t:p*({bottom:1,middle:.5}[m]||0)})}function C(e){return f.autoMarginIdRoot+e._index}function O(e,t,n,r){r=r||{};var i=e.select("."+f.itemRectClassName),o=e.select("."+f.itemTextClassName),s=t.borderwidth,u=n.index,d=t._dims;a.setTranslate(e,s+n.x,s+n.y);var p=-1!==["up","down"].indexOf(t.direction),h=r.height||(p?d.heights[u]:d.height1);i.attr({x:0,y:0,width:r.width||(p?d.width1:d.widths[u]),height:h});var g=t.font.size*c,m=(l.lineCount(o)-1)*g/2;l.positionText(o,f.textOffsetX,h/2-m+f.textOffsetY),p?n.y+=d.heights[u]+n.yPad:n.x+=d.widths[u]+n.xPad,n.index++}function S(e,t){e.attr(f.menuIndexAttrName,t||"-1").selectAll("g."+f.dropdownButtonClassName).remove()}t.exports=function(e){var t=e._fullLayout,n=s.filterVisible(t[f.name]);function o(t){i.autoMargin(e,C(t))}var a=t._menulayer.selectAll("g."+f.containerClassName).data(n.length>0?[0]:[]);if(a.enter().append("g").classed(f.containerClassName,!0).style("cursor","pointer"),a.exit().each((function(){r.select(this).selectAll("g."+f.headerGroupClassName).each(o)})).remove(),0!==n.length){var l=a.selectAll("g."+f.headerGroupClassName).data(n,p);l.enter().append("g").classed(f.headerGroupClassName,!0);for(var u=s.ensureSingle(a,"g",f.dropdownButtonGroupClassName,(function(e){e.style("pointer-events","all")})),c=0;c<n.length;c++){var v=n[c];T(e,v)}var b="updatemenus"+t._uid,x=new d(e,u,b);l.enter().size()&&(u.node().parentNode.appendChild(u.node()),u.call(S)),l.exit().each((function(e){u.call(S),o(e)})).remove(),l.each((function(t){var n=r.select(this),o="dropdown"===t.type?u:null;i.manageCommandObserver(e,t,t.buttons,(function(r){g(e,t,t.buttons[r.index],n,o,x,r.index,!0)})),"dropdown"===t.type?(m(e,n,u,x,t),h(u,t)&&y(e,n,u,x,t)):y(e,n,null,null,t)}))}}},{"../../constants/alignment":177,"../../lib":203,"../../lib/svg_text_utils":224,"../../plot_api/plot_template":237,"../../plots/plots":282,"../color":75,"../drawing":97,"./constants":172,"./scrollbox":176,d3:21}],175:[function(e,t,n){arguments[4][169][0].apply(n,arguments)},{"./attributes":171,"./constants":172,"./defaults":173,"./draw":174,dup:169}],176:[function(e,t,n){"use strict";t.exports=s;var r=e("d3"),i=e("../color"),o=e("../drawing"),a=e("../../lib");function s(e,t,n){this.gd=e,this.container=t,this.id=n,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}s.barWidth=2,s.barLength=20,s.barRadius=2,s.barPad=1,s.barColor="#808BA4",s.prototype.enable=function(e,t,n){var a=this.gd._fullLayout,l=a.width,u=a.height;this.position=e;var c,f,d,p,h=this.position.l,g=this.position.w,m=this.position.t,y=this.position.h,v=this.position.direction,b="down"===v,x="left"===v,_="up"===v,w=g,k=y;b||x||"right"===v||_||(this.position.direction="down",b=!0),b||_?(f=(c=h)+w,b?(d=m,k=(p=Math.min(d+k,u))-d):k=(p=m+k)-(d=Math.max(p-k,0))):(p=(d=m)+k,x?w=(f=h+w)-(c=Math.max(f-w,0)):(c=h,w=(f=Math.min(c+w,l))-c)),this._box={l:c,t:d,w,h:k};var T=g>w,C=s.barLength+2*s.barPad,O=s.barWidth+2*s.barPad,S=h,A=m+y;A+O>u&&(A=u-O);var M=this.container.selectAll("rect.scrollbar-horizontal").data(T?[0]:[]);M.exit().on(".drag",null).remove(),M.enter().append("rect").classed("scrollbar-horizontal",!0).call(i.fill,s.barColor),T?(this.hbar=M.attr({rx:s.barRadius,ry:s.barRadius,x:S,y:A,width:C,height:O}),this._hbarXMin=S+C/2,this._hbarTranslateMax=w-C):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var E=y>k,P=s.barWidth+2*s.barPad,D=s.barLength+2*s.barPad,L=h+g,R=m;L+P>l&&(L=l-P);var I=this.container.selectAll("rect.scrollbar-vertical").data(E?[0]:[]);I.exit().on(".drag",null).remove(),I.enter().append("rect").classed("scrollbar-vertical",!0).call(i.fill,s.barColor),E?(this.vbar=I.attr({rx:s.barRadius,ry:s.barRadius,x:L,y:R,width:P,height:D}),this._vbarYMin=R+D/2,this._vbarTranslateMax=k-D):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var N=this.id,j=c-.5,z=E?f+P+.5:f+.5,q=d-.5,F=T?p+O+.5:p+.5,B=a._topdefs.selectAll("#"+N).data(T||E?[0]:[]);if(B.exit().remove(),B.enter().append("clipPath").attr("id",N).append("rect"),T||E?(this._clipRect=B.select("rect").attr({x:Math.floor(j),y:Math.floor(q),width:Math.ceil(z)-Math.floor(j),height:Math.ceil(F)-Math.floor(q)}),this.container.call(o.setClipUrl,N,this.gd),this.bg.attr({x:h,y:m,width:g,height:y})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(o.setClipUrl,null),delete this._clipRect),T||E){var H=r.behavior.drag().on("dragstart",(function(){r.event.sourceEvent.preventDefault()})).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(H);var U=r.behavior.drag().on("dragstart",(function(){r.event.sourceEvent.preventDefault(),r.event.sourceEvent.stopPropagation()})).on("drag",this._onBarDrag.bind(this));T&&this.hbar.on(".drag",null).call(U),E&&this.vbar.on(".drag",null).call(U)}this.setTranslate(t,n)},s.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(o.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},s.prototype._onBoxDrag=function(){var e=this.translateX,t=this.translateY;this.hbar&&(e-=r.event.dx),this.vbar&&(t-=r.event.dy),this.setTranslate(e,t)},s.prototype._onBoxWheel=function(){var e=this.translateX,t=this.translateY;this.hbar&&(e+=r.event.deltaY),this.vbar&&(t+=r.event.deltaY),this.setTranslate(e,t)},s.prototype._onBarDrag=function(){var e=this.translateX,t=this.translateY;if(this.hbar){var n=e+this._hbarXMin,i=n+this._hbarTranslateMax;e=(a.constrain(r.event.x,n,i)-n)/(i-n)*(this.position.w-this._box.w)}if(this.vbar){var o=t+this._vbarYMin,s=o+this._vbarTranslateMax;t=(a.constrain(r.event.y,o,s)-o)/(s-o)*(this.position.h-this._box.h)}this.setTranslate(e,t)},s.prototype.setTranslate=function(e,t){var n=this.position.w-this._box.w,r=this.position.h-this._box.h;if(e=a.constrain(e||0,0,n),t=a.constrain(t||0,0,r),this.translateX=e,this.translateY=t,this.container.call(o.setTranslate,this._box.l-this.position.l-e,this._box.t-this.position.t-t),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+e-.5),y:Math.floor(this.position.t+t-.5)}),this.hbar){var i=e/n;this.hbar.call(o.setTranslate,e+i*this._hbarTranslateMax,t)}if(this.vbar){var s=t/r;this.vbar.call(o.setTranslate,e,t+s*this._vbarTranslateMax)}}},{"../../lib":203,"../color":75,"../drawing":97,d3:21}],177:[function(e,t,n){"use strict";t.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},{}],178:[function(e,t,n){"use strict";t.exports={axisRefDescription:function(e,t,n){return["If set to a",e,"axis id (e.g. *"+e+"* or","*"+e+"2*), the `"+e+"` position refers to a",e,"coordinate. If set to *paper*, the `"+e+"`","position refers to the distance from the",t,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",t,"("+n+"). If set to a",e,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",t,"of the domain of that axis: e.g.,","*"+e+"2 domain* refers to the domain of the second",e," axis and a",e,"position of 0.5 refers to the","point between the",t,"and the",n,"of the domain of the","second",e,"axis."].join(" ")}}},{}],179:[function(e,t,n){"use strict";t.exports={FORMAT_LINK:"https://github.com/d3/d3-3.x-api-reference/blob/master/Formatting.md#d3_format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format#locale_format"}},{}],180:[function(e,t,n){"use strict";t.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},{}],181:[function(e,t,n){"use strict";t.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},{}],182:[function(e,t,n){"use strict";t.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE/1e4,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:2440587.5,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:"−"}},{}],183:[function(e,t,n){"use strict";n.xmlns="http://www.w3.org/2000/xmlns/",n.svg="http://www.w3.org/2000/svg",n.xlink="http://www.w3.org/1999/xlink",n.svgAttrs={xmlns:n.svg,"xmlns:xlink":n.xlink}},{}],184:[function(e,t,n){"use strict";n.version=e("./version").version,e("es6-promise").polyfill(),e("../build/plotcss"),e("./fonts/mathjax_config")();for(var r=e("./registry"),i=n.register=r.register,o=e("./plot_api"),a=Object.keys(o),s=0;s<a.length;s++){var l=a[s];"_"!==l.charAt(0)&&(n[l]=o[l]),i({moduleType:"apiMethod",name:l,fn:o[l]})}i(e("./traces/scatter")),i([e("./components/legend"),e("./components/fx"),e("./components/annotations"),e("./components/annotations3d"),e("./components/shapes"),e("./components/images"),e("./components/updatemenus"),e("./components/sliders"),e("./components/rangeslider"),e("./components/rangeselector"),e("./components/grid"),e("./components/errorbars"),e("./components/colorscale"),e("./components/colorbar")]),i([e("./locale-en"),e("./locale-en-us")]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(i(window.PlotlyLocales),delete window.PlotlyLocales),n.Icons=e("./fonts/ploticon"),n.Plots=e("./plots/plots"),n.Fx=e("./components/fx"),n.Snapshot=e("./snapshot"),n.PlotSchema=e("./plot_api/plot_schema"),n.Queue=e("./lib/queue"),n.d3=e("d3")},{"../build/plotcss":1,"./components/annotations":68,"./components/annotations3d":73,"./components/colorbar":81,"./components/colorscale":87,"./components/errorbars":103,"./components/fx":115,"./components/grid":119,"./components/images":124,"./components/legend":132,"./components/rangeselector":143,"./components/rangeslider":150,"./components/shapes":164,"./components/sliders":169,"./components/updatemenus":175,"./fonts/mathjax_config":185,"./fonts/ploticon":186,"./lib/queue":217,"./locale-en":228,"./locale-en-us":227,"./plot_api":232,"./plot_api/plot_schema":236,"./plots/plots":282,"./registry":295,"./snapshot":300,"./traces/scatter":428,"./version":463,d3:21,"es6-promise":22}],185:[function(e,t,n){"use strict";t.exports=function(){"undefined"!=typeof MathJax&&"local"!==(window.PlotlyConfig||{}).MathJaxConfig&&(MathJax.Hub.Config({messageStyle:"none",skipStartupTypeset:!0,displayAlign:"left",tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]]}}),MathJax.Hub.Configured())}},{}],186:[function(e,t,n){"use strict";t.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:"<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'><defs><style>.cls-1 {fill: #3f4f75;} .cls-2 {fill: #80cfbe;} .cls-3 {fill: #fff;}</style></defs><title>plotly-logomark</title><g id='symbol'><rect class='cls-1' width='132' height='132' rx='6' ry='6'/><circle class='cls-2' cx='78' cy='54' r='6'/><circle class='cls-2' cx='102' cy='30' r='6'/><circle class='cls-2' cx='78' cy='30' r='6'/><circle class='cls-2' cx='54' cy='30' r='6'/><circle class='cls-2' cx='30' cy='30' r='6'/><circle class='cls-2' cx='30' cy='54' r='6'/><path class='cls-3' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/><path class='cls-3' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/><path class='cls-3' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/><path class='cls-3' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/></g></svg>"}}},{}],187:[function(e,t,n){"use strict";n.isLeftAnchor=function(e){return"left"===e.xanchor||"auto"===e.xanchor&&e.x<=1/3},n.isCenterAnchor=function(e){return"center"===e.xanchor||"auto"===e.xanchor&&e.x>1/3&&e.x<2/3},n.isRightAnchor=function(e){return"right"===e.xanchor||"auto"===e.xanchor&&e.x>=2/3},n.isTopAnchor=function(e){return"top"===e.yanchor||"auto"===e.yanchor&&e.y>=2/3},n.isMiddleAnchor=function(e){return"middle"===e.yanchor||"auto"===e.yanchor&&e.y>1/3&&e.y<2/3},n.isBottomAnchor=function(e){return"bottom"===e.yanchor||"auto"===e.yanchor&&e.y<=1/3}},{}],188:[function(e,t,n){"use strict";var r=e("./mod"),i=r.mod,o=r.modHalf,a=Math.PI,s=2*a;function l(e){return Math.abs(e[1]-e[0])>s-1e-14}function u(e,t){return o(t-e,s)}function c(e,t){if(l(t))return!0;var n,r;t[0]<t[1]?(n=t[0],r=t[1]):(n=t[1],r=t[0]),(n=i(n,s))>(r=i(r,s))&&(r+=s);var o=i(e,s),a=o+s;return o>=n&&o<=r||a>=n&&a<=r}function f(e,t,n,r,i,o,u){i=i||0,o=o||0;var c,f,d,p,h,g=l([n,r]);function m(e,t){return[e*Math.cos(t)+i,o-e*Math.sin(t)]}g?(c=0,f=a,d=s):n<r?(c=n,d=r):(c=r,d=n),e<t?(p=e,h=t):(p=t,h=e);var y,v=Math.abs(d-c)<=a?0:1;function b(e,t,n){return"A"+[e,e]+" "+[0,v,n]+" "+m(e,t)}return g?y=null===p?"M"+m(h,c)+b(h,f,0)+b(h,d,0)+"Z":"M"+m(p,c)+b(p,f,0)+b(p,d,0)+"ZM"+m(h,c)+b(h,f,1)+b(h,d,1)+"Z":null===p?(y="M"+m(h,c)+b(h,d,0),u&&(y+="L0,0Z")):y="M"+m(p,c)+"L"+m(h,c)+b(h,d,0)+"L"+m(p,d)+b(p,c,1)+"Z",y}t.exports={deg2rad:function(e){return e/180*a},rad2deg:function(e){return e/a*180},angleDelta:u,angleDist:function(e,t){return Math.abs(u(e,t))},isFullCircle:l,isAngleInsideSector:c,isPtInsideSector:function(e,t,n,r){return!!c(t,r)&&(n[0]<n[1]?(i=n[0],o=n[1]):(i=n[1],o=n[0]),e>=i&&e<=o);var i,o},pathArc:function(e,t,n,r,i){return f(null,e,t,n,r,i,0)},pathSector:function(e,t,n,r,i){return f(null,e,t,n,r,i,1)},pathAnnulus:function(e,t,n,r,i,o){return f(e,t,n,r,i,o,1)}}},{"./mod":210}],189:[function(e,t,n){"use strict";var r=Array.isArray,i="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer:{isView:function(){return!1}},o="undefined"==typeof DataView?function(){}:DataView;function a(e){return i.isView(e)&&!(e instanceof o)}function s(e){return r(e)||a(e)}function l(e,t,n){if(s(e)){if(s(e[0])){for(var r=n,i=0;i<e.length;i++)r=t(r,e[i].length);return r}return e.length}return 0}n.isTypedArray=a,n.isArrayOrTypedArray=s,n.isArray1D=function(e){return!s(e[0])},n.ensureArray=function(e,t){return r(e)||(e=[]),e.length=t,e},n.concat=function(){var e,t,n,i,o,a,s,l,u=[],c=!0,f=0;for(n=0;n<arguments.length;n++)(a=(i=arguments[n]).length)&&(t?u.push(i):(t=i,o=a),r(i)?e=!1:(c=!1,f?e!==i.constructor&&(e=!1):e=i.constructor),f+=a);if(!f)return[];if(!u.length)return t;if(c)return t.concat.apply(t,u);if(e){for((s=new e(f)).set(t),n=0;n<u.length;n++)i=u[n],s.set(i,o),o+=i.length;return s}for(s=new Array(f),l=0;l<t.length;l++)s[l]=t[l];for(n=0;n<u.length;n++){for(i=u[n],l=0;l<i.length;l++)s[o+l]=i[l];o+=l}return s},n.maxRowLength=function(e){return l(e,Math.max,0)},n.minRowLength=function(e){return l(e,Math.min,1/0)}},{}],190:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../constants/numerical").BADNUM,o=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;t.exports=function(e){return"string"==typeof e&&(e=e.replace(o,"")),r(e)?Number(e):i}},{"../constants/numerical":182,"fast-isnumeric":23}],191:[function(e,t,n){"use strict";t.exports=function(e){var t=e._fullLayout;t._glcanvas&&t._glcanvas.size()&&t._glcanvas.each((function(e){e.regl&&e.regl.clear({color:!0,depth:!0})}))}},{}],192:[function(e,t,n){"use strict";t.exports=function(e){e._responsiveChartHandler&&(window.removeEventListener("resize",e._responsiveChartHandler),delete e._responsiveChartHandler)}},{}],193:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("tinycolor2"),o=e("../plots/attributes"),a=e("../components/colorscale/scales"),s=e("../constants/interactions").DESELECTDIM,l=e("./nested_property"),u=e("./regex").counter,c=e("./mod").modHalf,f=e("./array").isArrayOrTypedArray;function d(e,t){var r=n.valObjectMeta[t.valType];if(t.arrayOk&&f(e))return!0;if(r.validateFunction)return r.validateFunction(e,t);var i={},o=i,a={set:function(e){o=e}};return r.coerceFunction(e,a,i,t),o!==i}n.valObjectMeta={data_array:{coerceFunction:function(e,t,n){f(e)?t.set(e):void 0!==n&&t.set(n)}},enumerated:{coerceFunction:function(e,t,n,r){r.coerceNumber&&(e=+e),-1===r.values.indexOf(e)?t.set(n):t.set(e)},validateFunction:function(e,t){t.coerceNumber&&(e=+e);for(var n=t.values,r=0;r<n.length;r++){var i=String(n[r]);if("/"===i.charAt(0)&&"/"===i.charAt(i.length-1)){if(new RegExp(i.substr(1,i.length-2)).test(e))return!0}else if(e===n[r])return!0}return!1}},boolean:{coerceFunction:function(e,t,n){!0===e||!1===e?t.set(e):t.set(n)}},number:{coerceFunction:function(e,t,n,i){!r(e)||void 0!==i.min&&e<i.min||void 0!==i.max&&e>i.max?t.set(n):t.set(+e)}},integer:{coerceFunction:function(e,t,n,i){e%1||!r(e)||void 0!==i.min&&e<i.min||void 0!==i.max&&e>i.max?t.set(n):t.set(+e)}},string:{coerceFunction:function(e,t,n,r){if("string"!=typeof e){var i="number"==typeof e;!0!==r.strict&&i?t.set(String(e)):t.set(n)}else r.noBlank&&!e?t.set(n):t.set(e)}},color:{coerceFunction:function(e,t,n){i(e).isValid()?t.set(e):t.set(n)}},colorlist:{coerceFunction:function(e,t,n){Array.isArray(e)&&e.length&&e.every((function(e){return i(e).isValid()}))?t.set(e):t.set(n)}},colorscale:{coerceFunction:function(e,t,n){t.set(a.get(e,n))}},angle:{coerceFunction:function(e,t,n){"auto"===e?t.set("auto"):r(e)?t.set(c(+e,360)):t.set(n)}},subplotid:{coerceFunction:function(e,t,n,r){var i=r.regex||u(n);"string"==typeof e&&i.test(e)?t.set(e):t.set(n)},validateFunction:function(e,t){var n=t.dflt;return e===n||"string"==typeof e&&!!u(n).test(e)}},flaglist:{coerceFunction:function(e,t,n,r){if("string"==typeof e)if(-1===(r.extras||[]).indexOf(e)){for(var i=e.split("+"),o=0;o<i.length;){var a=i[o];-1===r.flags.indexOf(a)||i.indexOf(a)<o?i.splice(o,1):o++}i.length?t.set(i.join("+")):t.set(n)}else t.set(e);else t.set(n)}},any:{coerceFunction:function(e,t,n){void 0===e?t.set(n):t.set(e)}},info_array:{coerceFunction:function(e,t,r,i){function o(e,t,r){var i,o={set:function(e){i=e}};return void 0===r&&(r=t.dflt),n.valObjectMeta[t.valType].coerceFunction(e,o,r,t),i}var a=2===i.dimensions||"1-2"===i.dimensions&&Array.isArray(e)&&Array.isArray(e[0]);if(Array.isArray(e)){var s,l,u,c,f,d,p=i.items,h=[],g=Array.isArray(p),m=g&&a&&Array.isArray(p[0]),y=a&&g&&!m,v=g&&!y?p.length:e.length;if(r=Array.isArray(r)?r:[],a)for(s=0;s<v;s++)for(h[s]=[],u=Array.isArray(e[s])?e[s]:[],f=y?p.length:g?p[s].length:u.length,l=0;l<f;l++)c=y?p[l]:g?p[s][l]:p,void 0!==(d=o(u[l],c,(r[s]||[])[l]))&&(h[s][l]=d);else for(s=0;s<v;s++)void 0!==(d=o(e[s],g?p[s]:p,r[s]))&&(h[s]=d);t.set(h)}else t.set(r)},validateFunction:function(e,t){if(!Array.isArray(e))return!1;var n=t.items,r=Array.isArray(n),i=2===t.dimensions;if(!t.freeLength&&e.length!==n.length)return!1;for(var o=0;o<e.length;o++)if(i){if(!Array.isArray(e[o])||!t.freeLength&&e[o].length!==n[o].length)return!1;for(var a=0;a<e[o].length;a++)if(!d(e[o][a],r?n[o][a]:n))return!1}else if(!d(e[o],r?n[o]:n))return!1;return!0}}},n.coerce=function(e,t,r,i,o){var a=l(r,i).get(),s=l(e,i),u=l(t,i),c=s.get(),p=t._template;if(void 0===c&&p&&(c=l(p,i).get(),p=0),void 0===o&&(o=a.dflt),a.arrayOk&&f(c))return u.set(c),c;var h=n.valObjectMeta[a.valType].coerceFunction;h(c,u,o,a);var g=u.get();return p&&g===o&&!d(c,a)&&(h(c=l(p,i).get(),u,o,a),g=u.get()),g},n.coerce2=function(e,t,r,i,o){var a=l(e,i),s=n.coerce(e,t,r,i,o);return null!=a.get()&&s},n.coerceFont=function(e,t,n){var r={};return n=n||{},r.family=e(t+".family",n.family),r.size=e(t+".size",n.size),r.color=e(t+".color",n.color),r},n.coerceHoverinfo=function(e,t,r){var i,a=t._module.attributes,s=a.hoverinfo?a:o,l=s.hoverinfo;if(1===r._dataLength){var u="all"===l.dflt?l.flags.slice():l.dflt.split("+");u.splice(u.indexOf("name"),1),i=u.join("+")}return n.coerce(e,t,s,"hoverinfo",i)},n.coerceSelectionMarkerOpacity=function(e,t){if(e.marker){var n,r,i=e.marker.opacity;void 0!==i&&(f(i)||e.selected||e.unselected||(n=i,r=s*i),t("selected.marker.opacity",n),t("unselected.marker.opacity",r))}},n.validate=d},{"../components/colorscale/scales":90,"../constants/interactions":181,"../plots/attributes":244,"./array":189,"./mod":210,"./nested_property":211,"./regex":218,"fast-isnumeric":23,tinycolor2:58}],194:[function(e,t,n){"use strict";var r,i,o=e("d3-time-format").timeFormat,a=e("fast-isnumeric"),s=e("./loggers"),l=e("./mod").mod,u=e("../constants/numerical"),c=u.BADNUM,f=u.ONEDAY,d=u.ONEHOUR,p=u.ONEMIN,h=u.ONESEC,g=u.EPOCHJD,m=e("../registry"),y=e("d3-time-format").utcFormat,v=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,b=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,x=(new Date).getFullYear()-70;function _(e){return e&&m.componentsRegistry.calendars&&"string"==typeof e&&"gregorian"!==e}function w(e,t){return String(e+Math.pow(10,t)).substr(1)}n.dateTick0=function(e,t){var r=function(e,t){return _(e)?t?m.getComponentMethod("calendars","CANONICAL_SUNDAY")[e]:m.getComponentMethod("calendars","CANONICAL_TICK")[e]:t?"2000-01-02":"2000-01-01"}(e,!!t);if(t<2)return r;var i=n.dateTime2ms(r,e);return i+=f*(t-1),n.ms2DateTime(i,0,e)},n.dfltRange=function(e){return _(e)?m.getComponentMethod("calendars","DFLTRANGE")[e]:["2000-01-01","2001-01-01"]},n.isJSDate=function(e){return"object"==typeof e&&null!==e&&"function"==typeof e.getTime},n.dateTime2ms=function(e,t){if(n.isJSDate(e)){var o=e.getTimezoneOffset()*p,a=(e.getUTCMinutes()-e.getMinutes())*p+(e.getUTCSeconds()-e.getSeconds())*h+(e.getUTCMilliseconds()-e.getMilliseconds());if(a){var s=3*p;o=o-s/2+l(a-o+s/2,s)}return(e=Number(e)-o)>=r&&e<=i?e:c}if("string"!=typeof e&&"number"!=typeof e)return c;e=String(e);var u=_(t),y=e.charAt(0);!u||"G"!==y&&"g"!==y||(e=e.substr(1),t="");var w=u&&"chinese"===t.substr(0,7),k=e.match(w?b:v);if(!k)return c;var T=k[1],C=k[3]||"1",O=Number(k[5]||1),S=Number(k[7]||0),A=Number(k[9]||0),M=Number(k[11]||0);if(u){if(2===T.length)return c;var E;T=Number(T);try{var P=m.getComponentMethod("calendars","getCal")(t);if(w){var D="i"===C.charAt(C.length-1);C=parseInt(C,10),E=P.newDate(T,P.toMonthIndex(T,C,D),O)}else E=P.newDate(T,Number(C),O)}catch(e){return c}return E?(E.toJD()-g)*f+S*d+A*p+M*h:c}T=2===T.length?(Number(T)+2e3-x)%100+x:Number(T),C-=1;var L=new Date(Date.UTC(2e3,C,O,S,A));return L.setUTCFullYear(T),L.getUTCMonth()!==C||L.getUTCDate()!==O?c:L.getTime()+M*h},r=n.MIN_MS=n.dateTime2ms("-9999"),i=n.MAX_MS=n.dateTime2ms("9999-12-31 23:59:59.9999"),n.isDateTime=function(e,t){return n.dateTime2ms(e,t)!==c};var k=90*f,T=3*d,C=5*p;function O(e,t,n,r,i){if((t||n||r||i)&&(e+=" "+w(t,2)+":"+w(n,2),(r||i)&&(e+=":"+w(r,2),i))){for(var o=4;i%10==0;)o-=1,i/=10;e+="."+w(i,o)}return e}n.ms2DateTime=function(e,t,n){if("number"!=typeof e||!(e>=r&&e<=i))return c;t||(t=0);var o,a,s,u,v,b,x=Math.floor(10*l(e+.05,1)),w=Math.round(e-x/10);if(_(n)){var S=Math.floor(w/f)+g,A=Math.floor(l(e,f));try{o=m.getComponentMethod("calendars","getCal")(n).fromJD(S).formatDate("yyyy-mm-dd")}catch(e){o=y("G%Y-%m-%d")(new Date(w))}if("-"===o.charAt(0))for(;o.length<11;)o="-0"+o.substr(1);else for(;o.length<10;)o="0"+o;a=t<k?Math.floor(A/d):0,s=t<k?Math.floor(A%d/p):0,u=t<T?Math.floor(A%p/h):0,v=t<C?A%h*10+x:0}else b=new Date(w),o=y("%Y-%m-%d")(b),a=t<k?b.getUTCHours():0,s=t<k?b.getUTCMinutes():0,u=t<T?b.getUTCSeconds():0,v=t<C?10*b.getUTCMilliseconds()+x:0;return O(o,a,s,u,v)},n.ms2DateTimeLocal=function(e){if(!(e>=r+f&&e<=i-f))return c;var t=Math.floor(10*l(e+.05,1)),n=new Date(Math.round(e-t/10));return O(o("%Y-%m-%d")(n),n.getHours(),n.getMinutes(),n.getSeconds(),10*n.getUTCMilliseconds()+t)},n.cleanDate=function(e,t,r){if(e===c)return t;if(n.isJSDate(e)||"number"==typeof e&&isFinite(e)){if(_(r))return s.error("JS Dates and milliseconds are incompatible with world calendars",e),t;if(!(e=n.ms2DateTimeLocal(+e))&&void 0!==t)return t}else if(!n.isDateTime(e,r))return s.error("unrecognized date",e),t;return e};var S=/%\d?f/g;function A(e,t,n,r){e=e.replace(S,(function(e){var n=Math.min(+e.charAt(1)||6,6);return(t/1e3%1+2).toFixed(n).substr(2).replace(/0+$/,"")||"0"}));var i=new Date(Math.floor(t+.05));if(_(r))try{e=m.getComponentMethod("calendars","worldCalFmt")(e,t,r)}catch(e){return"Invalid"}return n(e)(i)}var M=[59,59.9,59.99,59.999,59.9999];n.formatDate=function(e,t,n,r,i,o){if(i=_(i)&&i,!t)if("y"===n)t=o.year;else if("m"===n)t=o.month;else{if("d"!==n)return function(e,t){var n=l(e+.05,f),r=w(Math.floor(n/d),2)+":"+w(l(Math.floor(n/p),60),2);if("M"!==t){a(t)||(t=0);var i=(100+Math.min(l(e/h,60),M[t])).toFixed(t).substr(1);t>0&&(i=i.replace(/0+$/,"").replace(/[\.]$/,"")),r+=":"+i}return r}(e,n)+"\n"+A(o.dayMonthYear,e,r,i);t=o.dayMonth+"\n"+o.year}return A(t,e,r,i)};var E=3*f;n.incrementMonth=function(e,t,n){n=_(n)&&n;var r=l(e,f);if(e=Math.round(e-r),n)try{var i=Math.round(e/f)+g,o=m.getComponentMethod("calendars","getCal")(n),a=o.fromJD(i);return t%12?o.add(a,t,"m"):o.add(a,t/12,"y"),(a.toJD()-g)*f+r}catch(t){s.error("invalid ms "+e+" in calendar "+n)}var u=new Date(e+E);return u.setUTCMonth(u.getUTCMonth()+t)+r-E},n.findExactDates=function(e,t){for(var n,r,i=0,o=0,s=0,l=0,u=_(t)&&m.getComponentMethod("calendars","getCal")(t),c=0;c<e.length;c++)if(r=e[c],a(r)){if(!(r%f))if(u)try{1===(n=u.fromJD(r/f+g)).day()?1===n.month()?i++:o++:s++}catch(e){}else 1===(n=new Date(r)).getUTCDate()?0===n.getUTCMonth()?i++:o++:s++}else l++;s+=o+=i;var d=e.length-l;return{exactYears:i/d,exactMonths:o/d,exactDays:s/d}}},{"../constants/numerical":182,"../registry":295,"./loggers":207,"./mod":210,"d3-time-format":19,"fast-isnumeric":23}],195:[function(e,t,n){"use strict";var r=e("d3"),i=e("./loggers");function o(e){var t=e&&e.parentNode;t&&t.removeChild(e)}function a(e,t,n){var r="plotly.js-style-"+e,o=document.getElementById(r);o||((o=document.createElement("style")).setAttribute("id",r),o.appendChild(document.createTextNode("")),document.head.appendChild(o));var a=o.sheet;a.insertRule?a.insertRule(t+"{"+n+"}",0):a.addRule?a.addRule(t,n,0):i.warn("addStyleRule failed")}t.exports={getGraphDiv:function(e){var t;if("string"==typeof e){if(null===(t=document.getElementById(e)))throw new Error("No DOM element with id '"+e+"' exists on the page.");return t}if(null==e)throw new Error("DOM element provided is null or undefined");return e},isPlotDiv:function(e){var t=r.select(e);return t.node()instanceof HTMLElement&&t.size()&&t.classed("js-plotly-plot")},removeElement:o,addStyleRule:function(e,t){a("global",e,t)},addRelatedStyleRule:a,deleteRelatedStyleRule:function(e){var t="plotly.js-style-"+e,n=document.getElementById(t);n&&o(n)}}},{"./loggers":207,d3:21}],196:[function(e,t,n){"use strict";var r=e("events").EventEmitter,i={init:function(e){if(e._ev instanceof r)return e;var t=new r,n=new r;return e._ev=t,e._internalEv=n,e.on=t.on.bind(t),e.once=t.once.bind(t),e.removeListener=t.removeListener.bind(t),e.removeAllListeners=t.removeAllListeners.bind(t),e._internalOn=n.on.bind(n),e._internalOnce=n.once.bind(n),e._removeInternalListener=n.removeListener.bind(n),e._removeAllInternalListeners=n.removeAllListeners.bind(n),e.emit=function(r,i){"undefined"!=typeof jQuery&&jQuery(e).trigger(r,i),t.emit(r,i),n.emit(r,i)},e},triggerHandler:function(e,t,n){var r,i;"undefined"!=typeof jQuery&&(r=jQuery(e).triggerHandler(t,n));var o=e._ev;if(!o)return r;var a,s=o._events[t];if(!s)return r;function l(e){return e.listener?(o.removeListener(t,e.listener),e.fired?void 0:(e.fired=!0,e.listener.apply(o,[n]))):e.apply(o,[n])}for(s=Array.isArray(s)?s:[s],a=0;a<s.length-1;a++)l(s[a]);return i=l(s[a]),void 0!==r?r:i},purge:function(e){return delete e._ev,delete e.on,delete e.once,delete e.removeListener,delete e.removeAllListeners,delete e.emit,delete e._ev,delete e._internalEv,delete e._internalOn,delete e._internalOnce,delete e._removeInternalListener,delete e._removeAllInternalListeners,e}};t.exports=i},{events:17}],197:[function(e,t,n){"use strict";var r=e("./is_plain_object.js"),i=Array.isArray;function o(e,t,n,a){var s,l,u,c,f,d,p=e[0],h=e.length;if(2===h&&i(p)&&i(e[1])&&0===p.length){if(function(e,t){var n,r;for(n=0;n<e.length;n++){if(null!==(r=e[n])&&"object"==typeof r)return!1;void 0!==r&&(t[n]=r)}return!0}(e[1],p))return p;p.splice(0,p.length)}for(var g=1;g<h;g++)for(l in s=e[g])u=p[l],c=s[l],a&&i(c)?p[l]=c:t&&c&&(r(c)||(f=i(c)))?(f?(f=!1,d=u&&i(u)?u:[]):d=u&&r(u)?u:{},p[l]=o([d,c],t,n,a)):(void 0!==c||n)&&(p[l]=c);return p}n.extendFlat=function(){return o(arguments,!1,!1,!1)},n.extendDeep=function(){return o(arguments,!0,!1,!1)},n.extendDeepAll=function(){return o(arguments,!0,!0,!1)},n.extendDeepNoArrays=function(){return o(arguments,!0,!1,!0)}},{"./is_plain_object.js":204}],198:[function(e,t,n){"use strict";t.exports=function(e){for(var t={},n=[],r=0,i=0;i<e.length;i++){var o=e[i];1!==t[o]&&(t[o]=1,n[r++]=o)}return n}},{}],199:[function(e,t,n){"use strict";function r(e){return!0===e.visible}function i(e){var t=e[0].trace;return!0===t.visible&&0!==t._length}t.exports=function(e){for(var t=(s=e,Array.isArray(s)&&Array.isArray(s[0])&&s[0][0]&&s[0][0].trace?i:r),n=[],o=0;o<e.length;o++){var a=e[o];t(a)&&n.push(a)}var s;return n}},{}],200:[function(e,t,n){"use strict";var r,i,o,a=e("./mod").mod;function s(e,t,n,r,i,o,a,s){var l=n-e,u=i-e,c=a-i,f=r-t,d=o-t,p=s-o,h=l*p-c*f;if(0===h)return null;var g=(u*p-c*d)/h,m=(u*f-l*d)/h;return m<0||m>1||g<0||g>1?null:{x:e+l*g,y:t+f*g}}function l(e,t,n,r,i){var o=r*e+i*t;if(o<0)return r*r+i*i;if(o>n){var a=r-e,s=i-t;return a*a+s*s}var l=r*t-i*e;return l*l/n}n.segmentsIntersect=s,n.segmentDistance=function(e,t,n,r,i,o,a,u){if(s(e,t,n,r,i,o,a,u))return 0;var c=n-e,f=r-t,d=a-i,p=u-o,h=c*c+f*f,g=d*d+p*p,m=Math.min(l(c,f,h,i-e,o-t),l(c,f,h,a-e,u-t),l(d,p,g,e-i,t-o),l(d,p,g,n-i,r-o));return Math.sqrt(m)},n.getTextLocation=function(e,t,n,s){if(e===i&&s===o||(r={},i=e,o=s),r[n])return r[n];var l=e.getPointAtLength(a(n-s/2,t)),u=e.getPointAtLength(a(n+s/2,t)),c=Math.atan((u.y-l.y)/(u.x-l.x)),f=e.getPointAtLength(a(n,t)),d={x:(4*f.x+l.x+u.x)/6,y:(4*f.y+l.y+u.y)/6,theta:c};return r[n]=d,d},n.clearLocationCache=function(){i=null},n.getVisibleSegment=function(e,t,n){var r,i,o=t.left,a=t.right,s=t.top,l=t.bottom,u=0,c=e.getTotalLength(),f=c;function d(t){var n=e.getPointAtLength(t);0===t?r=n:t===c&&(i=n);var u=n.x<o?o-n.x:n.x>a?n.x-a:0,f=n.y<s?s-n.y:n.y>l?n.y-l:0;return Math.sqrt(u*u+f*f)}for(var p=d(u);p;){if((u+=p+n)>f)return;p=d(u)}for(p=d(f);p;){if(u>(f-=p+n))return;p=d(f)}return{min:u,max:f,len:f-u,total:c,isClosed:0===u&&f===c&&Math.abs(r.x-i.x)<.1&&Math.abs(r.y-i.y)<.1}},n.findPointOnPath=function(e,t,n,r){for(var i,o,a,s=(r=r||{}).pathLength||e.getTotalLength(),l=r.tolerance||.001,u=r.iterationLimit||30,c=e.getPointAtLength(0)[n]>e.getPointAtLength(s)[n]?-1:1,f=0,d=0,p=s;f<u;){if(i=(d+p)/2,a=(o=e.getPointAtLength(i))[n]-t,Math.abs(a)<l)return o;c*a>0?p=i:d=i,f++}return o}},{"./mod":210}],201:[function(e,t,n){"use strict";t.exports=function(e){return e}},{}],202:[function(e,t,n){"use strict";t.exports=function(e,t){if(!t)return e;var n=1/Math.abs(t),r=n>1?(n*e+n*t)/n:e+t,i=String(r).length;if(i>16){var o=String(t).length;if(i>=String(e).length+o){var a=parseFloat(r).toPrecision(12);-1===a.indexOf("e+")&&(r=+a)}}return r}},{}],203:[function(e,t,n){"use strict";var r=e("d3"),i=e("d3-time-format").utcFormat,o=e("fast-isnumeric"),a=e("../constants/numerical"),s=a.FP_SAFE,l=a.BADNUM,u=t.exports={};u.nestedProperty=e("./nested_property"),u.keyedContainer=e("./keyed_container"),u.relativeAttr=e("./relative_attr"),u.isPlainObject=e("./is_plain_object"),u.toLogRange=e("./to_log_range"),u.relinkPrivateKeys=e("./relink_private");var c=e("./array");u.isTypedArray=c.isTypedArray,u.isArrayOrTypedArray=c.isArrayOrTypedArray,u.isArray1D=c.isArray1D,u.ensureArray=c.ensureArray,u.concat=c.concat,u.maxRowLength=c.maxRowLength,u.minRowLength=c.minRowLength;var f=e("./mod");u.mod=f.mod,u.modHalf=f.modHalf;var d=e("./coerce");u.valObjectMeta=d.valObjectMeta,u.coerce=d.coerce,u.coerce2=d.coerce2,u.coerceFont=d.coerceFont,u.coerceHoverinfo=d.coerceHoverinfo,u.coerceSelectionMarkerOpacity=d.coerceSelectionMarkerOpacity,u.validate=d.validate;var p=e("./dates");u.dateTime2ms=p.dateTime2ms,u.isDateTime=p.isDateTime,u.ms2DateTime=p.ms2DateTime,u.ms2DateTimeLocal=p.ms2DateTimeLocal,u.cleanDate=p.cleanDate,u.isJSDate=p.isJSDate,u.formatDate=p.formatDate,u.incrementMonth=p.incrementMonth,u.dateTick0=p.dateTick0,u.dfltRange=p.dfltRange,u.findExactDates=p.findExactDates,u.MIN_MS=p.MIN_MS,u.MAX_MS=p.MAX_MS;var h=e("./search");u.findBin=h.findBin,u.sorterAsc=h.sorterAsc,u.sorterDes=h.sorterDes,u.distinctVals=h.distinctVals,u.roundUp=h.roundUp,u.sort=h.sort,u.findIndexOfMin=h.findIndexOfMin;var g=e("./stats");u.aggNums=g.aggNums,u.len=g.len,u.mean=g.mean,u.median=g.median,u.midRange=g.midRange,u.variance=g.variance,u.stdev=g.stdev,u.interp=g.interp;var m=e("./matrix");u.init2dArray=m.init2dArray,u.transposeRagged=m.transposeRagged,u.dot=m.dot,u.translationMatrix=m.translationMatrix,u.rotationMatrix=m.rotationMatrix,u.rotationXYMatrix=m.rotationXYMatrix,u.apply2DTransform=m.apply2DTransform,u.apply2DTransform2=m.apply2DTransform2;var y=e("./angles");u.deg2rad=y.deg2rad,u.rad2deg=y.rad2deg,u.angleDelta=y.angleDelta,u.angleDist=y.angleDist,u.isFullCircle=y.isFullCircle,u.isAngleInsideSector=y.isAngleInsideSector,u.isPtInsideSector=y.isPtInsideSector,u.pathArc=y.pathArc,u.pathSector=y.pathSector,u.pathAnnulus=y.pathAnnulus;var v=e("./anchor_utils");u.isLeftAnchor=v.isLeftAnchor,u.isCenterAnchor=v.isCenterAnchor,u.isRightAnchor=v.isRightAnchor,u.isTopAnchor=v.isTopAnchor,u.isMiddleAnchor=v.isMiddleAnchor,u.isBottomAnchor=v.isBottomAnchor;var b=e("./geometry2d");u.segmentsIntersect=b.segmentsIntersect,u.segmentDistance=b.segmentDistance,u.getTextLocation=b.getTextLocation,u.clearLocationCache=b.clearLocationCache,u.getVisibleSegment=b.getVisibleSegment,u.findPointOnPath=b.findPointOnPath;var x=e("./extend");u.extendFlat=x.extendFlat,u.extendDeep=x.extendDeep,u.extendDeepAll=x.extendDeepAll,u.extendDeepNoArrays=x.extendDeepNoArrays;var _=e("./loggers");u.log=_.log,u.warn=_.warn,u.error=_.error;var w=e("./regex");u.counterRegex=w.counter;var k=e("./throttle");u.throttle=k.throttle,u.throttleDone=k.done,u.clearThrottle=k.clear;var T=e("./dom");function C(e){var t={};for(var n in e)for(var r=e[n],i=0;i<r.length;i++)t[r[i]]=+n;return t}u.getGraphDiv=T.getGraphDiv,u.isPlotDiv=T.isPlotDiv,u.removeElement=T.removeElement,u.addStyleRule=T.addStyleRule,u.addRelatedStyleRule=T.addRelatedStyleRule,u.deleteRelatedStyleRule=T.deleteRelatedStyleRule,u.clearResponsive=e("./clear_responsive"),u.makeTraceGroups=e("./make_trace_groups"),u._=e("./localize"),u.notifier=e("./notifier"),u.filterUnique=e("./filter_unique"),u.filterVisible=e("./filter_visible"),u.pushUnique=e("./push_unique"),u.increment=e("./increment"),u.cleanNumber=e("./clean_number"),u.ensureNumber=function(e){return o(e)?(e=Number(e))<-s||e>s?l:o(e)?Number(e):l:l},u.isIndex=function(e,t){return!(void 0!==t&&e>=t)&&o(e)&&e>=0&&e%1==0},u.noop=e("./noop"),u.identity=e("./identity"),u.repeat=function(e,t){for(var n=new Array(t),r=0;r<t;r++)n[r]=e;return n},u.swapAttrs=function(e,t,n,r){n||(n="x"),r||(r="y");for(var i=0;i<t.length;i++){var o=t[i],a=u.nestedProperty(e,o.replace("?",n)),s=u.nestedProperty(e,o.replace("?",r)),l=a.get();a.set(s.get()),s.set(l)}},u.raiseToTop=function(e){e.parentNode.appendChild(e)},u.cancelTransition=function(e){return e.transition().duration(0)},u.constrain=function(e,t,n){return t>n?Math.max(n,Math.min(t,e)):Math.max(t,Math.min(n,e))},u.bBoxIntersect=function(e,t,n){return n=n||0,e.left<=t.right+n&&t.left<=e.right+n&&e.top<=t.bottom+n&&t.top<=e.bottom+n},u.simpleMap=function(e,t,n,r,i){for(var o=e.length,a=new Array(o),s=0;s<o;s++)a[s]=t(e[s],n,r,i);return a},u.randstr=function e(t,n,r,i){if(r||(r=16),void 0===n&&(n=24),n<=0)return"0";var o,a,s=Math.log(Math.pow(2,n))/Math.log(r),l="";for(o=2;s===1/0;o*=2)s=Math.log(Math.pow(2,n/o))/Math.log(r)*o;var c=s-Math.floor(s);for(o=0;o<Math.floor(s);o++)l=Math.floor(Math.random()*r).toString(r)+l;c&&(a=Math.pow(r,c),l=Math.floor(Math.random()*a).toString(r)+l);var f=parseInt(l,r);return t&&t[l]||f!==1/0&&f>=Math.pow(2,n)?i>10?(u.warn("randstr failed uniqueness"),l):e(t,n,r,(i||0)+1):l},u.OptionControl=function(e,t){e||(e={}),t||(t="opt");var n={optionList:[],_newoption:function(r){r[t]=e,n[r.name]=r,n.optionList.push(r)}};return n["_"+t]=e,n},u.smooth=function(e,t){if((t=Math.round(t)||0)<2)return e;var n,r,i,o,a=e.length,s=2*a,l=2*t-1,u=new Array(l),c=new Array(a);for(n=0;n<l;n++)u[n]=(1-Math.cos(Math.PI*(n+1)/t))/(2*t);for(n=0;n<a;n++){for(o=0,r=0;r<l;r++)(i=n+r+1-t)<-a?i-=s*Math.round(i/s):i>=s&&(i-=s*Math.floor(i/s)),i<0?i=-1-i:i>=a&&(i=s-1-i),o+=e[i]*u[r];c[n]=o}return c},u.syncOrAsync=function(e,t,n){var r;function i(){return u.syncOrAsync(e,t,n)}for(;e.length;)if((r=(0,e.splice(0,1)[0])(t))&&r.then)return r.then(i).then(void 0,u.promiseError);return n&&n(t)},u.stripTrailingSlash=function(e){return"/"===e.substr(-1)?e.substr(0,e.length-1):e},u.noneOrAll=function(e,t,n){if(e){var r,i=!1,o=!0;for(r=0;r<n.length;r++)null!=e[n[r]]?i=!0:o=!1;if(i&&!o)for(r=0;r<n.length;r++)e[n[r]]=t[n[r]]}},u.mergeArray=function(e,t,n,r){var i="function"==typeof r;if(u.isArrayOrTypedArray(e))for(var o=Math.min(e.length,t.length),a=0;a<o;a++){var s=e[a];t[a][n]=i?r(s):s}},u.mergeArrayCastPositive=function(e,t,n){return u.mergeArray(e,t,n,(function(e){var t=+e;return isFinite(t)&&t>0?t:0}))},u.fillArray=function(e,t,n,r){if(r=r||u.identity,u.isArrayOrTypedArray(e))for(var i=0;i<t.length;i++)t[i][n]=r(e[i])},u.castOption=function(e,t,n,r){r=r||u.identity;var i=u.nestedProperty(e,n).get();return u.isArrayOrTypedArray(i)?Array.isArray(t)&&u.isArrayOrTypedArray(i[t[0]])?r(i[t[0]][t[1]]):r(i[t]):i},u.extractOption=function(e,t,n,r){if(n in e)return e[n];var i=u.nestedProperty(t,r).get();return Array.isArray(i)?void 0:i},u.tagSelected=function(e,t,n){var r,i,o=t.selectedpoints,a=t._indexToPoints;a&&(r=C(a));for(var s=0;s<o.length;s++){var l=o[s];if(u.isIndex(l)||u.isArrayOrTypedArray(l)&&u.isIndex(l[0])&&u.isIndex(l[1])){var c=r?r[l]:l,f=n?n[c]:c;void 0!==(i=f)&&i<e.length&&(e[f].selected=1)}}},u.selIndices2selPoints=function(e){var t=e.selectedpoints,n=e._indexToPoints;if(n){for(var r=C(n),i=[],o=0;o<t.length;o++){var a=t[o];if(u.isIndex(a)){var s=r[a];u.isIndex(s)&&i.push(s)}}return i}return t},u.getTargetArray=function(e,t){var n=t.target;if("string"==typeof n&&n){var r=u.nestedProperty(e,n).get();return!!Array.isArray(r)&&r}return!!Array.isArray(n)&&n},u.minExtend=function(e,t){var n={};"object"!=typeof t&&(t={});var r,i,o,a=Object.keys(e);for(r=0;r<a.length;r++)o=e[i=a[r]],"_"!==i.charAt(0)&&"function"!=typeof o&&("module"===i?n[i]=o:Array.isArray(o)?n[i]="colorscale"===i?o.slice():o.slice(0,3):u.isTypedArray(o)?n[i]=o.subarray(0,3):n[i]=o&&"object"==typeof o?u.minExtend(e[i],t[i]):o);for(a=Object.keys(t),r=0;r<a.length;r++)"object"==typeof(o=t[i=a[r]])&&i in n&&"object"==typeof n[i]||(n[i]=o);return n},u.titleCase=function(e){return e.charAt(0).toUpperCase()+e.substr(1)},u.containsAny=function(e,t){for(var n=0;n<t.length;n++)if(-1!==e.indexOf(t[n]))return!0;return!1},u.isIE=function(){return void 0!==window.navigator.msSaveBlob};var O=/MSIE [1-9]\./;u.isIE9orBelow=function(){return u.isIE()&&O.test(window.navigator.userAgent)};var S=/Version\/[\d\.]+.*Safari/;u.isSafari=function(){return S.test(window.navigator.userAgent)};var A=/iPad|iPhone|iPod/;u.isIOS=function(){return A.test(window.navigator.userAgent)},u.isD3Selection=function(e){return e&&"function"==typeof e.classed},u.ensureSingle=function(e,t,n,r){var i=e.select(t+(n?"."+n:""));if(i.size())return i;var o=e.append(t);return n&&o.classed(n,!0),r&&o.call(r),o},u.ensureSingleById=function(e,t,n,r){var i=e.select(t+"#"+n);if(i.size())return i;var o=e.append(t).attr("id",n);return r&&o.call(r),o},u.objectFromPath=function(e,t){for(var n,r=e.split("."),i=n={},o=0;o<r.length;o++){var a=r[o],s=null,l=r[o].match(/(.*)\[([0-9]+)\]/);l?(a=l[1],s=l[2],n=n[a]=[],o===r.length-1?n[s]=t:n[s]={},n=n[s]):(o===r.length-1?n[a]=t:n[a]={},n=n[a])}return i};var M=/^([^\[\.]+)\.(.+)?/,E=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;u.expandObjectPaths=function(e){var t,n,r,i,o,a,s;if("object"==typeof e&&!Array.isArray(e))for(n in e)e.hasOwnProperty(n)&&((t=n.match(M))?(i=e[n],r=t[1],delete e[n],e[r]=u.extendDeepNoArrays(e[r]||{},u.objectFromPath(n,u.expandObjectPaths(i))[r])):(t=n.match(E))?(i=e[n],r=t[1],o=parseInt(t[2]),delete e[n],e[r]=e[r]||[],"."===t[3]?(s=t[4],a=e[r][o]=e[r][o]||{},u.extendDeepNoArrays(a,u.objectFromPath(s,u.expandObjectPaths(i)))):e[r][o]=u.expandObjectPaths(i)):e[n]=u.expandObjectPaths(e[n]));return e},u.numSeparate=function(e,t,n){if(n||(n=!1),"string"!=typeof t||0===t.length)throw new Error("Separator string required for formatting!");"number"==typeof e&&(e=String(e));var r=/(\d+)(\d{3})/,i=t.charAt(0),o=t.charAt(1),a=e.split("."),s=a[0],l=a.length>1?i+a[1]:"";if(o&&(a.length>1||s.length>4||n))for(;r.test(s);)s=s.replace(r,"$1"+o+"$2");return s+l},u.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var P=/^\w*$/;u.templateString=function(e,t){var n={};return e.replace(u.TEMPLATE_STRING_REGEX,(function(e,r){var i;return P.test(r)?i=t[r]:(n[r]=n[r]||u.nestedProperty(t,r).get,i=n[r]()),u.isValidTextValue(i)?i:""}))};var D={max:10,count:0,name:"hovertemplate"};u.hovertemplateString=function(){return I.apply(D,arguments)};var L={max:10,count:0,name:"texttemplate"};u.texttemplateString=function(){return I.apply(L,arguments)};var R=/^[:|\|]/;function I(e,t,n){var o=this,a=arguments;t||(t={});var s={};return e.replace(u.TEMPLATE_STRING_REGEX,(function(e,l,c){var f,d,p,h;for(p=3;p<a.length;p++)if(f=a[p]){if(f.hasOwnProperty(l)){d=f[l];break}if(P.test(l)||(d=s[l]||u.nestedProperty(f,l).get())&&(s[l]=d),void 0!==d)break}if(void 0===d&&o)return o.count<o.max&&(u.warn("Variable '"+l+"' in "+o.name+" could not be found!"),d=e),o.count===o.max&&u.warn("Too many "+o.name+" warnings - additional warnings will be suppressed"),o.count++,e;if(c){if(":"===c[0]&&(d=(h=n?n.numberFormat:r.format)(c.replace(R,""))(d)),"|"===c[0]){h=n?n.timeFormat:i;var g=u.dateTime2ms(d);d=u.formatDate(g,c.replace(R,""),!1,h)}}else t.hasOwnProperty(l+"Label")&&(d=t[l+"Label"]);return d}))}u.subplotSort=function(e,t){for(var n=Math.min(e.length,t.length)+1,r=0,i=0,o=0;o<n;o++){var a=e.charCodeAt(o)||0,s=t.charCodeAt(o)||0,l=a>=48&&a<=57,u=s>=48&&s<=57;if(l&&(r=10*r+a-48),u&&(i=10*i+s-48),!l||!u){if(r!==i)return r-i;if(a!==s)return a-s}}return i-r};var N=2e9;u.seedPseudoRandom=function(){N=2e9},u.pseudoRandom=function(){var e=N;return N=(69069*N+1)%4294967296,Math.abs(N-e)<429496729?u.pseudoRandom():N/4294967296},u.fillText=function(e,t,n){var r=Array.isArray(n)?function(e){n.push(e)}:function(e){n.text=e},i=u.extractOption(e,t,"htx","hovertext");if(u.isValidTextValue(i))return r(i);var o=u.extractOption(e,t,"tx","text");return u.isValidTextValue(o)?r(o):void 0},u.isValidTextValue=function(e){return e||0===e},u.formatPercent=function(e,t){t=t||0;for(var n=(Math.round(100*e*Math.pow(10,t))*Math.pow(.1,t)).toFixed(t)+"%",r=0;r<t;r++)-1!==n.indexOf(".")&&(n=(n=n.replace("0%","%")).replace(".%","%"));return n},u.isHidden=function(e){var t=window.getComputedStyle(e).display;return!t||"none"===t},u.getTextTransform=function(e){var t=e.noCenter,n=e.textX,r=e.textY,i=e.targetX,o=e.targetY,a=e.anchorX||0,s=e.anchorY||0,l=e.rotate,u=e.scale;return u?u>1&&(u=1):u=0,"translate("+(i-u*(n+a))+","+(o-u*(r+s))+")"+(u<1?"scale("+u+")":"")+(l?"rotate("+l+(t?"":" "+n+" "+r)+")":"")},u.ensureUniformFontSize=function(e,t){var n=u.extendFlat({},t);return n.size=Math.max(t.size,e._fullLayout.uniformtext.minsize||0),n},u.join2=function(e,t,n){var r=e.length;return r>1?e.slice(0,-1).join(t)+n+e[r-1]:e.join(t)}},{"../constants/numerical":182,"./anchor_utils":187,"./angles":188,"./array":189,"./clean_number":190,"./clear_responsive":192,"./coerce":193,"./dates":194,"./dom":195,"./extend":197,"./filter_unique":198,"./filter_visible":199,"./geometry2d":200,"./identity":201,"./increment":202,"./is_plain_object":204,"./keyed_container":205,"./localize":206,"./loggers":207,"./make_trace_groups":208,"./matrix":209,"./mod":210,"./nested_property":211,"./noop":212,"./notifier":213,"./push_unique":216,"./regex":218,"./relative_attr":219,"./relink_private":220,"./search":221,"./stats":223,"./throttle":225,"./to_log_range":226,d3:21,"d3-time-format":19,"fast-isnumeric":23}],204:[function(e,t,n){"use strict";t.exports=function(e){return window&&window.process&&window.process.versions?"[object Object]"===Object.prototype.toString.call(e):"[object Object]"===Object.prototype.toString.call(e)&&Object.getPrototypeOf(e)===Object.prototype}},{}],205:[function(e,t,n){"use strict";var r=e("./nested_property"),i=/^\w*$/;t.exports=function(e,t,n,o){var a,s,l;n=n||"name",o=o||"value";var u={};t&&t.length?(l=r(e,t),s=l.get()):s=e,t=t||"";var c={};if(s)for(a=0;a<s.length;a++)c[s[a][n]]=a;var f=i.test(o),d={set:function(e,t){var i=null===t?4:0;if(!s){if(!l||4===i)return;s=[],l.set(s)}var a=c[e];if(void 0===a){if(4===i)return;i|=3,a=s.length,c[e]=a}else t!==(f?s[a][o]:r(s[a],o).get())&&(i|=2);var p=s[a]=s[a]||{};return p[n]=e,f?p[o]=t:r(p,o).set(t),null!==t&&(i&=-5),u[a]=u[a]|i,d},get:function(e){if(s){var t=c[e];return void 0===t?void 0:f?s[t][o]:r(s[t],o).get()}},rename:function(e,t){var r=c[e];return void 0===r||(u[r]=1|u[r],c[t]=r,delete c[e],s[r][n]=t),d},remove:function(e){var t=c[e];if(void 0===t)return d;var i=s[t];if(Object.keys(i).length>2)return u[t]=2|u[t],d.set(e,null);if(f){for(a=t;a<s.length;a++)u[a]=3|u[a];for(a=t;a<s.length;a++)c[s[a][n]]--;s.splice(t,1),delete c[e]}else r(i,o).set(null),u[t]=6|u[t];return d},constructUpdate:function(){for(var e,i,a={},l=Object.keys(u),c=0;c<l.length;c++)i=l[c],e=t+"["+i+"]",s[i]?(1&u[i]&&(a[e+"."+n]=s[i][n]),2&u[i]&&(a[e+"."+o]=f?4&u[i]?null:s[i][o]:4&u[i]?null:r(s[i],o).get())):a[e]=null;return a}};return d}},{"./nested_property":211}],206:[function(e,t,n){"use strict";var r=e("../registry");t.exports=function(e,t){for(var n=e._context.locale,i=0;i<2;i++){for(var o=e._context.locales,a=0;a<2;a++){var s=(o[n]||{}).dictionary;if(s){var l=s[t];if(l)return l}o=r.localeRegistry}var u=n.split("-")[0];if(u===n)break;n=u}return t}},{"../registry":295}],207:[function(e,t,n){"use strict";var r=e("../plot_api/plot_config").dfltConfig,i=e("./notifier"),o=t.exports={};function a(e,t){if(e&&e.apply)try{return void e.apply(console,t)}catch(e){}for(var n=0;n<t.length;n++)try{e(t[n])}catch(e){console.log(t[n])}}o.log=function(){var e;if(r.logging>1){var t=["LOG:"];for(e=0;e<arguments.length;e++)t.push(arguments[e]);a(console.trace||console.log,t)}if(r.notifyOnLogging>1){var n=[];for(e=0;e<arguments.length;e++)n.push(arguments[e]);i(n.join("<br>"),"long")}},o.warn=function(){var e;if(r.logging>0){var t=["WARN:"];for(e=0;e<arguments.length;e++)t.push(arguments[e]);a(console.trace||console.log,t)}if(r.notifyOnLogging>0){var n=[];for(e=0;e<arguments.length;e++)n.push(arguments[e]);i(n.join("<br>"),"stick")}},o.error=function(){var e;if(r.logging>0){var t=["ERROR:"];for(e=0;e<arguments.length;e++)t.push(arguments[e]);a(console.error,t)}if(r.notifyOnLogging>0){var n=[];for(e=0;e<arguments.length;e++)n.push(arguments[e]);i(n.join("<br>"),"stick")}}},{"../plot_api/plot_config":235,"./notifier":213}],208:[function(e,t,n){"use strict";var r=e("d3");t.exports=function(e,t,n){var i=e.selectAll("g."+n.replace(/\s/g,".")).data(t,(function(e){return e[0].trace.uid}));i.exit().remove(),i.enter().append("g").attr("class",n),i.order();var o=e.classed("rangeplot")?"nodeRangePlot3":"node3";return i.each((function(e){e[0][o]=r.select(this)})),i}},{d3:21}],209:[function(e,t,n){"use strict";n.init2dArray=function(e,t){for(var n=new Array(e),r=0;r<e;r++)n[r]=new Array(t);return n},n.transposeRagged=function(e){var t,n,r=0,i=e.length;for(t=0;t<i;t++)r=Math.max(r,e[t].length);var o=new Array(r);for(t=0;t<r;t++)for(o[t]=new Array(i),n=0;n<i;n++)o[t][n]=e[n][t];return o},n.dot=function(e,t){if(!e.length||!t.length||e.length!==t.length)return null;var r,i,o=e.length;if(e[0].length)for(r=new Array(o),i=0;i<o;i++)r[i]=n.dot(e[i],t);else if(t[0].length){var a=n.transposeRagged(t);for(r=new Array(a.length),i=0;i<a.length;i++)r[i]=n.dot(e,a[i])}else for(r=0,i=0;i<o;i++)r+=e[i]*t[i];return r},n.translationMatrix=function(e,t){return[[1,0,e],[0,1,t],[0,0,1]]},n.rotationMatrix=function(e){var t=e*Math.PI/180;return[[Math.cos(t),-Math.sin(t),0],[Math.sin(t),Math.cos(t),0],[0,0,1]]},n.rotationXYMatrix=function(e,t,r){return n.dot(n.dot(n.translationMatrix(t,r),n.rotationMatrix(e)),n.translationMatrix(-t,-r))},n.apply2DTransform=function(e){return function(){var t=arguments;3===t.length&&(t=t[0]);var r=1===arguments.length?t[0]:[t[0],t[1]];return n.dot(e,[r[0],r[1],1]).slice(0,2)}},n.apply2DTransform2=function(e){var t=n.apply2DTransform(e);return function(e){return t(e.slice(0,2)).concat(t(e.slice(2,4)))}}},{}],210:[function(e,t,n){"use strict";t.exports={mod:function(e,t){var n=e%t;return n<0?n+t:n},modHalf:function(e,t){return Math.abs(e)>t/2?e-Math.round(e/t)*t:e}}},{}],211:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("./array").isArrayOrTypedArray;function o(e,t){return function(){var n,r,a,s,l,u=e;for(s=0;s<t.length-1;s++){if(-1===(n=t[s])){for(r=!0,a=[],l=0;l<u.length;l++)a[l]=o(u[l],t.slice(s+1))(),a[l]!==a[0]&&(r=!1);return r?a[0]:a}if("number"==typeof n&&!i(u))return;if("object"!=typeof(u=u[n])||null===u)return}if("object"==typeof u&&null!==u&&null!==(a=u[t[s]]))return a}}t.exports=function(e,t){if(r(t))t=String(t);else if("string"!=typeof t||"[-1]"===t.substr(t.length-4))throw"bad property string";for(var n,i,a,s=0,u=t.split(".");s<u.length;){if(n=String(u[s]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)){if(n[1])u[s]=n[1];else{if(0!==s)throw"bad property string";u.splice(0,1)}for(i=n[2].substr(1,n[2].length-2).split("]["),a=0;a<i.length;a++)s++,u.splice(s,0,Number(i[a]))}s++}return"object"!=typeof e?function(e,t,n){return{set:function(){throw"bad container"},get:function(){},astr:t,parts:n,obj:e}}(e,t,u):{set:l(e,u,t),get:o(e,u),astr:t,parts:u,obj:e}};var a=/(^|\.)args\[/;function s(e,t){return void 0===e||null===e&&!t.match(a)}function l(e,t,n){return function(r){var o,a,l=e,d="",p=[[e,d]],h=s(r,n);for(a=0;a<t.length-1;a++){if("number"==typeof(o=t[a])&&!i(l))throw"array index but container is not an array";if(-1===o){if(h=!c(l,t.slice(a+1),r,n))break;return}if(!f(l,o,t[a+1],h))break;if("object"!=typeof(l=l[o])||null===l)throw"container is not an object";d=u(d,o),p.push([l,d])}if(h){if(a===t.length-1&&(delete l[t[a]],Array.isArray(l)&&+t[a]==l.length-1))for(;l.length&&void 0===l[l.length-1];)l.pop()}else l[t[a]]=r}}function u(e,t){var n=t;return r(t)?n="["+t+"]":e&&(n="."+t),e+n}function c(e,t,n,r){var o,a=i(n),u=!0,c=n,d=r.replace("-1",0),p=!a&&s(n,d),h=t[0];for(o=0;o<e.length;o++)d=r.replace("-1",o),a&&(p=s(c=n[o%n.length],d)),p&&(u=!1),f(e,o,h,p)&&l(e[o],t,r.replace("-1",o))(c);return u}function f(e,t,n,r){if(void 0===e[t]){if(r)return!1;e[t]="number"==typeof n?[]:{}}return!0}},{"./array":189,"fast-isnumeric":23}],212:[function(e,t,n){"use strict";t.exports=function(){}},{}],213:[function(e,t,n){"use strict";var r=e("d3"),i=e("fast-isnumeric"),o=[];t.exports=function(e,t){if(-1===o.indexOf(e)){o.push(e);var n=1e3;i(t)?n=t:"long"===t&&(n=3e3);var a=r.select("body").selectAll(".plotly-notifier").data([0]);a.enter().append("div").classed("plotly-notifier",!0),a.selectAll(".notifier-note").data(o).enter().append("div").classed("notifier-note",!0).style("opacity",0).each((function(e){var i=r.select(this);i.append("button").classed("notifier-close",!0).html("&times;").on("click",(function(){i.transition().call(s)}));for(var o=i.append("p"),a=e.split(/<br\s*\/?>/g),l=0;l<a.length;l++)l&&o.append("br"),o.append("span").text(a[l]);"stick"===t?i.transition().duration(350).style("opacity",1):i.transition().duration(700).style("opacity",1).transition().delay(n).call(s)}))}function s(e){e.duration(700).style("opacity",0).each("end",(function(e){var t=o.indexOf(e);-1!==t&&o.splice(t,1),r.select(this).remove()}))}}},{d3:21,"fast-isnumeric":23}],214:[function(e,t,n){"use strict";var r=e("./setcursor"),i="data-savedcursor";t.exports=function(e,t){var n=e.attr(i);if(t){if(!n){for(var o=(e.attr("class")||"").split(" "),a=0;a<o.length;a++){var s=o[a];0===s.indexOf("cursor-")&&e.attr(i,s.substr(7)).classed(s,!1)}e.attr(i)||e.attr(i,"!!")}r(e,t)}else n&&(e.attr(i,null),"!!"===n?r(e):r(e,n))}},{"./setcursor":222}],215:[function(e,t,n){"use strict";var r=e("./matrix").dot,i=e("../constants/numerical").BADNUM,o=t.exports={};o.tester=function(e){var t,n=e.slice(),r=n[0][0],o=r,a=n[0][1],s=a;for(n.push(n[0]),t=1;t<n.length;t++)r=Math.min(r,n[t][0]),o=Math.max(o,n[t][0]),a=Math.min(a,n[t][1]),s=Math.max(s,n[t][1]);var l,u=!1;5===n.length&&(n[0][0]===n[1][0]?n[2][0]===n[3][0]&&n[0][1]===n[3][1]&&n[1][1]===n[2][1]&&(u=!0,l=function(e){return e[0]===n[0][0]}):n[0][1]===n[1][1]&&n[2][1]===n[3][1]&&n[0][0]===n[3][0]&&n[1][0]===n[2][0]&&(u=!0,l=function(e){return e[1]===n[0][1]}));var c=!0,f=n[0];for(t=1;t<n.length;t++)if(f[0]!==n[t][0]||f[1]!==n[t][1]){c=!1;break}return{xmin:r,xmax:o,ymin:a,ymax:s,pts:n,contains:u?function(e,t){var n=e[0],u=e[1];return!(n===i||n<r||n>o||u===i||u<a||u>s||t&&l(e))}:function(e,t){var l=e[0],u=e[1];if(l===i||l<r||l>o||u===i||u<a||u>s)return!1;var c,f,d,p,h,g=n.length,m=n[0][0],y=n[0][1],v=0;for(c=1;c<g;c++)if(f=m,d=y,m=n[c][0],y=n[c][1],!(l<(p=Math.min(f,m))||l>Math.max(f,m)||u>Math.max(d,y)))if(u<Math.min(d,y))l!==p&&v++;else{if(u===(h=m===f?u:d+(l-f)*(y-d)/(m-f)))return 1!==c||!t;u<=h&&l!==p&&v++}return v%2==1},isRect:u,degenerate:c}},o.isSegmentBent=function(e,t,n,i){var o,a,s,l=e[t],u=[e[n][0]-l[0],e[n][1]-l[1]],c=r(u,u),f=Math.sqrt(c),d=[-u[1]/f,u[0]/f];for(o=t+1;o<n;o++)if(a=[e[o][0]-l[0],e[o][1]-l[1]],(s=r(a,u))<0||s>c||Math.abs(r(a,d))>i)return!0;return!1},o.filter=function(e,t){var n=[e[0]],r=0,i=0;function a(a){e.push(a);var s=n.length,l=r;n.splice(i+1);for(var u=l+1;u<e.length;u++)(u===e.length-1||o.isSegmentBent(e,l,u+1,t))&&(n.push(e[u]),n.length<s-2&&(r=u,i=n.length-1),l=u)}return e.length>1&&a(e.pop()),{addPt:a,raw:e,filtered:n}}},{"../constants/numerical":182,"./matrix":209}],216:[function(e,t,n){"use strict";t.exports=function(e,t){if(t instanceof RegExp){for(var n=t.toString(),r=0;r<e.length;r++)if(e[r]instanceof RegExp&&e[r].toString()===n)return e;e.push(t)}else!t&&0!==t||-1!==e.indexOf(t)||e.push(t);return e}},{}],217:[function(e,t,n){"use strict";var r=e("../lib"),i=e("../plot_api/plot_config").dfltConfig;var o={add:function(e,t,n,r,o){var a,s;e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},s=e.undoQueue.index,e.autoplay?e.undoQueue.inSequence||(e.autoplay=!1):(!e.undoQueue.sequence||e.undoQueue.beginSequence?(a={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},e.undoQueue.queue.splice(s,e.undoQueue.queue.length-s,a),e.undoQueue.index+=1):a=e.undoQueue.queue[s-1],e.undoQueue.beginSequence=!1,a&&(a.undo.calls.unshift(t),a.undo.args.unshift(n),a.redo.calls.push(r),a.redo.args.push(o)),e.undoQueue.queue.length>i.queueLength&&(e.undoQueue.queue.shift(),e.undoQueue.index--))},startSequence:function(e){e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},e.undoQueue.sequence=!0,e.undoQueue.beginSequence=!0},stopSequence:function(e){e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},e.undoQueue.sequence=!1,e.undoQueue.beginSequence=!1},undo:function(e){var t,n;if(e.framework&&e.framework.isPolar)e.framework.undo();else if(!(void 0===e.undoQueue||isNaN(e.undoQueue.index)||e.undoQueue.index<=0)){for(e.undoQueue.index--,t=e.undoQueue.queue[e.undoQueue.index],e.undoQueue.inSequence=!0,n=0;n<t.undo.calls.length;n++)o.plotDo(e,t.undo.calls[n],t.undo.args[n]);e.undoQueue.inSequence=!1,e.autoplay=!1}},redo:function(e){var t,n;if(e.framework&&e.framework.isPolar)e.framework.redo();else if(!(void 0===e.undoQueue||isNaN(e.undoQueue.index)||e.undoQueue.index>=e.undoQueue.queue.length)){for(t=e.undoQueue.queue[e.undoQueue.index],e.undoQueue.inSequence=!0,n=0;n<t.redo.calls.length;n++)o.plotDo(e,t.redo.calls[n],t.redo.args[n]);e.undoQueue.inSequence=!1,e.autoplay=!1,e.undoQueue.index++}},plotDo:function(e,t,n){e.autoplay=!0,n=function(e,t){for(var n,i=[],o=0;o<t.length;o++)n=t[o],i[o]=n===e?n:"object"==typeof n?Array.isArray(n)?r.extendDeep([],n):r.extendDeepAll({},n):n;return i}(e,n),t.apply(null,n)}};t.exports=o},{"../lib":203,"../plot_api/plot_config":235}],218:[function(e,t,n){"use strict";n.counter=function(e,t,n,r){var i=(t||"")+(n?"":"$"),o=!1===r?"":"^";return"xy"===e?new RegExp(o+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+i):new RegExp(o+e+"([2-9]|[1-9][0-9]+)?"+i)}},{}],219:[function(e,t,n){"use strict";var r=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,i=/^[^\.\[\]]+$/;t.exports=function(e,t){for(;t;){var n=e.match(r);if(n)e=n[1];else{if(!e.match(i))throw new Error("bad relativeAttr call:"+[e,t]);e=""}if("^"!==t.charAt(0))break;t=t.slice(1)}return e&&"["!==t.charAt(0)?e+"."+t:e+t}},{}],220:[function(e,t,n){"use strict";var r=e("./array").isArrayOrTypedArray,i=e("./is_plain_object");t.exports=function e(t,n){for(var o in n){var a=n[o],s=t[o];if(s!==a)if("_"===o.charAt(0)||"function"==typeof a){if(o in t)continue;t[o]=a}else if(r(a)&&r(s)&&i(a[0])){if("customdata"===o||"ids"===o)continue;for(var l=Math.min(a.length,s.length),u=0;u<l;u++)s[u]!==a[u]&&i(a[u])&&i(s[u])&&e(s[u],a[u])}else i(a)&&i(s)&&(e(s,a),Object.keys(s).length||delete t[o])}}},{"./array":189,"./is_plain_object":204}],221:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("./loggers"),o=e("./identity"),a=e("../constants/numerical").BADNUM,s=1e-9;function l(e,t){return e<t}function u(e,t){return e<=t}function c(e,t){return e>t}function f(e,t){return e>=t}n.findBin=function(e,t,n){if(r(t.start))return n?Math.ceil((e-t.start)/t.size-s)-1:Math.floor((e-t.start)/t.size+s);var o,a,d=0,p=t.length,h=0,g=p>1?(t[p-1]-t[0])/(p-1):1;for(a=g>=0?n?l:u:n?f:c,e+=g*s*(n?-1:1)*(g>=0?1:-1);d<p&&h++<100;)a(t[o=Math.floor((d+p)/2)],e)?d=o+1:p=o;return h>90&&i.log("Long binary search..."),d-1},n.sorterAsc=function(e,t){return e-t},n.sorterDes=function(e,t){return t-e},n.distinctVals=function(e,t){var r,i=(t||{}).unitMinDiff,o=e.slice();for(o.sort(n.sorterAsc),r=o.length-1;r>-1&&o[r]===a;r--);var s=1;i||(s=o[r]-o[0]||1);for(var l,u=s/(r||1)/1e4,c=[],f=0;f<=r;f++){var d=o[f],p=d-l;void 0===l?(c.push(d),l=d):p>u&&(s=Math.min(s,p),c.push(d),l=d)}return{vals:c,minDiff:s}},n.roundUp=function(e,t,n){for(var r,i=0,o=t.length-1,a=0,s=n?0:1,l=n?1:0,u=n?Math.ceil:Math.floor;i<o&&a++<100;)t[r=u((i+o)/2)]<=e?i=r+s:o=r-l;return t[i]},n.sort=function(e,t){for(var n=0,r=0,i=1;i<e.length;i++){var o=t(e[i],e[i-1]);if(o<0?n=1:o>0&&(r=1),n&&r)return e.sort(t)}return r?e:e.reverse()},n.findIndexOfMin=function(e,t){t=t||o;for(var n,r=1/0,i=0;i<e.length;i++){var a=t(e[i]);a<r&&(r=a,n=i)}return n}},{"../constants/numerical":182,"./identity":201,"./loggers":207,"fast-isnumeric":23}],222:[function(e,t,n){"use strict";t.exports=function(e,t){(e.attr("class")||"").split(" ").forEach((function(t){0===t.indexOf("cursor-")&&e.classed(t,!1)})),t&&e.classed("cursor-"+t,!0)}},{}],223:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("./array").isArrayOrTypedArray;n.aggNums=function(e,t,o,a){var s,l;if((!a||a>o.length)&&(a=o.length),r(t)||(t=!1),i(o[0])){for(l=new Array(a),s=0;s<a;s++)l[s]=n.aggNums(e,t,o[s]);o=l}for(s=0;s<a;s++)r(t)?r(o[s])&&(t=e(+t,+o[s])):t=o[s];return t},n.len=function(e){return n.aggNums((function(e){return e+1}),0,e)},n.mean=function(e,t){return t||(t=n.len(e)),n.aggNums((function(e,t){return e+t}),0,e)/t},n.midRange=function(e){if(void 0!==e&&0!==e.length)return(n.aggNums(Math.max,null,e)+n.aggNums(Math.min,null,e))/2},n.variance=function(e,t,i){return t||(t=n.len(e)),r(i)||(i=n.mean(e,t)),n.aggNums((function(e,t){return e+Math.pow(t-i,2)}),0,e)/t},n.stdev=function(e,t,r){return Math.sqrt(n.variance(e,t,r))},n.median=function(e){var t=e.slice().sort();return n.interp(t,.5)},n.interp=function(e,t){if(!r(t))throw"n should be a finite number";if((t=t*e.length-.5)<0)return e[0];if(t>e.length-1)return e[e.length-1];var n=t%1;return n*e[Math.ceil(t)]+(1-n)*e[Math.floor(t)]}},{"./array":189,"fast-isnumeric":23}],224:[function(e,t,n){"use strict";var r=e("d3"),i=e("../lib"),o=e("../constants/xmlns_namespaces"),a=e("../constants/alignment").LINE_SPACING;function s(e,t){return e.node().getBoundingClientRect()[t]}var l=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;n.convertToTspans=function(e,t,O){var S=e.text(),M=!e.attr("data-notex")&&"undefined"!=typeof MathJax&&S.match(l),E=r.select(e.node().parentNode);if(!E.empty()){var P=e.attr("class")?e.attr("class").split(" ")[0]:"text";return P+="-math",E.selectAll("svg."+P).remove(),E.selectAll("g."+P+"-group").remove(),e.style("display",null).attr({"data-unformatted":S,"data-math":"N"}),M?(t&&t._promises||[]).push(new Promise((function(t){e.style("display","none");var n=parseInt(e.node().style.fontSize,10),o={fontSize:n};!function(e,t,n){var o,a,s,l;MathJax.Hub.Queue((function(){return a=i.extendDeepAll({},MathJax.Hub.config),s=MathJax.Hub.processSectionDelay,void 0!==MathJax.Hub.processSectionDelay&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]]},displayAlign:"left"})}),(function(){if("SVG"!==(o=MathJax.Hub.config.menuSettings.renderer))return MathJax.Hub.setRenderer("SVG")}),(function(){var n="math-output-"+i.randstr({},64);return l=r.select("body").append("div").attr({id:n}).style({visibility:"hidden",position:"absolute"}).style({"font-size":t.fontSize+"px"}).text(e.replace(u,"\\lt ").replace(c,"\\gt ")),MathJax.Hub.Typeset(l.node())}),(function(){var t=r.select("body").select("#MathJax_SVG_glyphs");if(l.select(".MathJax_SVG").empty()||!l.select("svg").node())i.log("There was an error in the tex syntax.",e),n();else{var a=l.select("svg").node().getBoundingClientRect();n(l.select(".MathJax_SVG"),t,a)}if(l.remove(),"SVG"!==o)return MathJax.Hub.setRenderer(o)}),(function(){return void 0!==s&&(MathJax.Hub.processSectionDelay=s),MathJax.Hub.Config(a)}))}(M[2],o,(function(r,i,o){E.selectAll("svg."+P).remove(),E.selectAll("g."+P+"-group").remove();var a=r&&r.select("svg");if(!a||!a.node())return D(),void t();var l=E.append("g").classed(P+"-group",!0).attr({"pointer-events":"none","data-unformatted":S,"data-math":"Y"});l.node().appendChild(a.node()),i&&i.node()&&a.node().insertBefore(i.node().cloneNode(!0),a.node().firstChild),a.attr({class:P,height:o.height,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var u=e.node().style.fill||"black",c=a.select("g");c.attr({fill:u,stroke:u});var f=s(c,"width"),d=s(c,"height"),p=+e.attr("x")-f*{start:0,middle:.5,end:1}[e.attr("text-anchor")||"start"],h=-(n||s(e,"height"))/4;"y"===P[0]?(l.attr({transform:"rotate("+[-90,+e.attr("x"),+e.attr("y")]+") translate("+[-f/2,h-d/2]+")"}),a.attr({x:+e.attr("x"),y:+e.attr("y")})):"l"===P[0]?a.attr({x:e.attr("x"),y:h-d/2}):"a"===P[0]&&0!==P.indexOf("atitle")?a.attr({x:0,y:h}):a.attr({x:p,y:+e.attr("y")+h-d/2}),O&&O.call(e,l),t(l)}))}))):D(),e}function D(){E.empty()||(P=e.attr("class")+"-math",E.select("svg."+P).remove()),e.text("").style("white-space","pre"),function(e,t){t=t.replace(m," ");var n,s=!1,l=[],u=-1;function c(){u++;var t=document.createElementNS(o.svg,"tspan");r.select(t).attr({class:"line",dy:u*a+"em"}),e.appendChild(t),n=t;var i=l;if(l=[{node:t}],i.length>1)for(var s=1;s<i.length;s++)O(i[s])}function O(e){var t,i=e.type,a={};if("a"===i){t="a";var s=e.target,u=e.href,c=e.popup;u&&(a={"xlink:xlink:show":"_blank"===s||"_"!==s.charAt(0)?"new":"replace",target:s,"xlink:xlink:href":u},c&&(a.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+c+'");return false;'))}else t="tspan";e.style&&(a.style=e.style);var f=document.createElementNS(o.svg,t);if("sup"===i||"sub"===i){S(n,h),n.appendChild(f);var g=document.createElementNS(o.svg,"tspan");S(g,h),r.select(g).attr("dy",p[i]),a.dy=d[i],n.appendChild(f),n.appendChild(g)}else n.appendChild(f);r.select(f).attr(a),n=e.node=f,l.push(e)}function S(e,t){e.appendChild(document.createTextNode(t))}function M(e){if(1!==l.length){var r=l.pop();e!==r.type&&i.log("Start tag <"+r.type+"> doesnt match end tag <"+e+">. Pretending it did match.",t),n=l[l.length-1].node}else i.log("Ignoring unexpected end tag </"+e+">.",t)}b.test(t)?c():(n=e,l=[{node:e}]);for(var E=t.split(y),P=0;P<E.length;P++){var D=E[P],L=D.match(v),R=L&&L[2].toLowerCase(),I=f[R];if("br"===R)c();else if(void 0===I)S(n,A(D));else if(L[1])M(R);else{var N=L[4],j={type:R},z=T(N,x);if(z?(z=z.replace(C,"$1 fill:"),I&&(z+=";"+I)):I&&(z=I),z&&(j.style=z),"a"===R){s=!0;var q=T(N,_);if(q){var F=document.createElement("a");F.href=q,-1!==g.indexOf(F.protocol)&&(j.href=encodeURI(decodeURI(q)),j.target=T(N,w)||"_blank",j.popup=T(N,k))}}O(j)}}return s}(e.node(),S)&&e.style("pointer-events","all"),n.positionText(e),O&&O.call(e)}};var u=/(<|&lt;|&#60;)/g,c=/(>|&gt;|&#62;)/g;var f={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},d={sub:"0.3em",sup:"-0.6em"},p={sub:"-0.21em",sup:"0.42em"},h="​",g=["http:","https:","mailto:","",void 0,":"],m=n.NEWLINES=/(\r\n?|\n)/g,y=/(<[^<>]*>)/,v=/<(\/?)([^ >]*)(\s+(.*))?>/i,b=/<br(\s+.*)?>/i;n.BR_TAG_ALL=/<br(\s+.*)?>/gi;var x=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,_=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,w=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,k=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function T(e,t){if(!e)return null;var n=e.match(t),r=n&&(n[3]||n[4]);return r&&A(r)}var C=/(^|;)\s*color:/;n.plainText=function(e,t){for(var n=void 0!==(t=t||{}).len&&-1!==t.len?t.len:1/0,r=void 0!==t.allowedTags?t.allowedTags:["br"],i="...".length,o=e.split(y),a=[],s="",l=0,u=0;u<o.length;u++){var c=o[u],f=c.match(v),d=f&&f[2].toLowerCase();if(d)-1!==r.indexOf(d)&&(a.push(c),s=d);else{var p=c.length;if(l+p<n)a.push(c),l+=p;else if(l<n){var h=n-l;s&&("br"!==s||h<=i||p<=i)&&a.pop(),n>i?a.push(c.substr(0,h-i)+"..."):a.push(c.substr(0,h));break}s=""}}return a.join("")};var O={mu:"μ",amp:"&",lt:"<",gt:">",nbsp:" ",times:"×",plusmn:"±",deg:"°"},S=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function A(e){return e.replace(S,(function(e,t){return("#"===t.charAt(0)?function(e){if(!(e>1114111)){var t=String.fromCodePoint;if(t)return t(e);var n=String.fromCharCode;return e<=65535?n(e):n(55232+(e>>10),e%1024+56320)}}("x"===t.charAt(1)?parseInt(t.substr(2),16):parseInt(t.substr(1),10)):O[t])||e}))}function M(e,t,n){var r,i,o,a=n.horizontalAlign,s=n.verticalAlign||"top",l=e.node().getBoundingClientRect(),u=t.node().getBoundingClientRect();return i="bottom"===s?function(){return l.bottom-r.height}:"middle"===s?function(){return l.top+(l.height-r.height)/2}:function(){return l.top},o="right"===a?function(){return l.right-r.width}:"center"===a?function(){return l.left+(l.width-r.width)/2}:function(){return l.left},function(){return r=this.node().getBoundingClientRect(),this.style({top:i()-u.top+"px",left:o()-u.left+"px","z-index":1e3}),this}}n.convertEntities=A,n.sanitizeHTML=function(e){e=e.replace(m," ");for(var t=document.createElement("p"),n=t,i=[],o=e.split(y),a=0;a<o.length;a++){var s=o[a],l=s.match(v),u=l&&l[2].toLowerCase();if(u in f)if(l[1])i.length&&(n=i.pop());else{var c=l[4],d=T(c,x),p=d?{style:d}:{};if("a"===u){var h=T(c,_);if(h){var b=document.createElement("a");if(b.href=h,-1!==g.indexOf(b.protocol)){p.href=encodeURI(decodeURI(h));var k=T(c,w);k&&(p.target=k)}}}var C=document.createElement(u);n.appendChild(C),r.select(C).attr(p),n=C,i.push(C)}else n.appendChild(document.createTextNode(A(s)))}return t.innerHTML},n.lineCount=function(e){return e.selectAll("tspan.line").size()||1},n.positionText=function(e,t,n){return e.each((function(){var e=r.select(this);function i(t,n){return void 0===n?null===(n=e.attr(t))&&(e.attr(t,0),n=0):e.attr(t,n),n}var o=i("x",t),a=i("y",n);"text"===this.nodeName&&e.selectAll("tspan.line").attr({x:o,y:a})}))},n.makeEditable=function(e,t){var n=t.gd,i=t.delegate,o=r.dispatch("edit","input","cancel"),a=i||e;if(e.style({"pointer-events":i?"none":"all"}),1!==e.size())throw new Error("boo");function s(){var i,s,u,c,f;i=r.select(n).select(".svg-container"),s=i.append("div"),u=e.node().style,c=parseFloat(u.fontSize||12),void 0===(f=t.text)&&(f=e.attr("data-unformatted")),s.classed("plugin-editable editable",!0).style({position:"absolute","font-family":u.fontFamily||"Arial","font-size":c,color:t.fill||u.fill||"black",opacity:1,"background-color":t.background||"transparent",outline:"#ffffff33 1px solid",margin:[-c/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(f).call(M(e,i,t)).on("blur",(function(){n._editing=!1,e.text(this.textContent).style({opacity:1});var t,i=r.select(this).attr("class");(t=i?"."+i.split(" ")[0]+"-math-group":"[class*=-math-group]")&&r.select(e.node().parentNode).select(t).style({opacity:0});var a=this.textContent;r.select(this).transition().duration(0).remove(),r.select(document).on("mouseup",null),o.edit.call(e,a)})).on("focus",(function(){var e=this;n._editing=!0,r.select(document).on("mouseup",(function(){if(r.event.target===e)return!1;document.activeElement===s.node()&&s.node().blur()}))})).on("keyup",(function(){27===r.event.which?(n._editing=!1,e.style({opacity:1}),r.select(this).style({opacity:0}).on("blur",(function(){return!1})).transition().remove(),o.cancel.call(e,this.textContent)):(o.input.call(e,this.textContent),r.select(this).call(M(e,i,t)))})).on("keydown",(function(){13===r.event.which&&this.blur()})).call(l),e.style({opacity:0});var d,p=a.attr("class");(d=p?"."+p.split(" ")[0]+"-math-group":"[class*=-math-group]")&&r.select(e.node().parentNode).select(d).style({opacity:0})}function l(e){var t=e.node(),n=document.createRange();n.selectNodeContents(t);var r=window.getSelection();r.removeAllRanges(),r.addRange(n),t.focus()}return t.immediate?s():a.on("click",s),r.rebind(e,o,"on")}},{"../constants/alignment":177,"../constants/xmlns_namespaces":183,"../lib":203,d3:21}],225:[function(e,t,n){"use strict";var r={};function i(e){e&&null!==e.timer&&(clearTimeout(e.timer),e.timer=null)}n.throttle=function(e,t,n){var o=r[e],a=Date.now();if(!o){for(var s in r)r[s].ts<a-6e4&&delete r[s];o=r[e]={ts:0,timer:null}}function l(){n(),o.ts=Date.now(),o.onDone&&(o.onDone(),o.onDone=null)}i(o),a>o.ts+t?l():o.timer=setTimeout((function(){l(),o.timer=null}),t)},n.done=function(e){var t=r[e];return t&&t.timer?new Promise((function(e){var n=t.onDone;t.onDone=function(){n&&n(),e(),t.onDone=null}})):Promise.resolve()},n.clear=function(e){if(e)i(r[e]),delete r[e];else for(var t in r)n.clear(t)}},{}],226:[function(e,t,n){"use strict";var r=e("fast-isnumeric");t.exports=function(e,t){if(e>0)return Math.log(e)/Math.LN10;var n=Math.log(Math.min(t[0],t[1]))/Math.LN10;return r(n)||(n=Math.log(Math.max(t[0],t[1]))/Math.LN10-6),n}},{"fast-isnumeric":23}],227:[function(e,t,n){"use strict";t.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},{}],228:[function(e,t,n){"use strict";t.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},{}],229:[function(e,t,n){"use strict";var r=e("../registry");t.exports=function(e){for(var t,n,i=r.layoutArrayContainers,o=r.layoutArrayRegexes,a=e.split("[")[0],s=0;s<o.length;s++)if((n=e.match(o[s]))&&0===n.index){t=n[0];break}if(t||(t=i[i.indexOf(a)]),!t)return!1;var l=e.substr(t.length);return l?!!(n=l.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/))&&{array:t,index:Number(n[1]),property:n[3]||""}:{array:t,index:"",property:""}}},{"../registry":295}],230:[function(e,t,n){"use strict";var r=e("../lib"),i=r.extendFlat,o=r.isPlainObject,a={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},s={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},l=a.flags.slice().concat(["fullReplot"]),u=s.flags.slice().concat("layoutReplot");function c(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=!1;return t}function f(e,t,n){var r=i({},e);for(var a in r){var s=r[a];o(s)&&(r[a]=d(s,t,0,a))}return"from-root"===n&&(r.editType=t),r}function d(e,t,n,r){if(e.valType){var o=i({},e);if(o.editType=t,Array.isArray(e.items)){o.items=new Array(e.items.length);for(var a=0;a<e.items.length;a++)o.items[a]=d(e.items[a],t)}return o}return f(e,t,"_"===r.charAt(0)?"nested":"from-root")}t.exports={traces:a,layout:s,traceFlags:function(){return c(l)},layoutFlags:function(){return c(u)},update:function(e,t){var n=t.editType;if(n&&"none"!==n)for(var r=n.split("+"),i=0;i<r.length;i++)e[r[i]]=!0},overrideAll:f}},{"../lib":203}],231:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("gl-mat4/fromQuat"),o=e("../registry"),a=e("../lib"),s=e("../plots/plots"),l=e("../plots/cartesian/axis_ids"),u=e("../components/color"),c=l.cleanId,f=l.getFromTrace,d=o.traceIs;function p(e,t){var n=e[t],r=t.charAt(0);n&&"paper"!==n&&(e[t]=c(n,r,!0))}function h(e){function t(t,n){var r=e[t],i=e.title&&e.title[n];r&&!i&&(e.title||(e.title={}),e.title[n]=e[t],delete e[t])}e&&("string"!=typeof e.title&&"number"!=typeof e.title||(e.title={text:e.title}),t("titlefont","font"),t("titleposition","position"),t("titleside","side"),t("titleoffset","offset"))}function g(e){if(!a.isPlainObject(e))return!1;var t=e.name;return delete e.name,delete e.showlegend,("string"==typeof t||"number"==typeof t)&&String(t)}function m(e,t,n,r){if(n&&!r)return e;if(r&&!n)return t;if(!e.trim())return t;if(!t.trim())return e;var i,o=Math.min(e.length,t.length);for(i=0;i<o&&e.charAt(i)===t.charAt(i);i++);return e.substr(0,i).trim()}function y(e){var t="middle",n="center";return"string"==typeof e&&(-1!==e.indexOf("top")?t="top":-1!==e.indexOf("bottom")&&(t="bottom"),-1!==e.indexOf("left")?n="left":-1!==e.indexOf("right")&&(n="right")),t+" "+n}function v(e,t){return t in e&&"object"==typeof e[t]&&0===Object.keys(e[t]).length}n.clearPromiseQueue=function(e){Array.isArray(e._promises)&&e._promises.length>0&&a.log("Clearing previous rejected promises from queue."),e._promises=[]},n.cleanLayout=function(e){var t,r;e||(e={}),e.xaxis1&&(e.xaxis||(e.xaxis=e.xaxis1),delete e.xaxis1),e.yaxis1&&(e.yaxis||(e.yaxis=e.yaxis1),delete e.yaxis1),e.scene1&&(e.scene||(e.scene=e.scene1),delete e.scene1);var o=(s.subplotsRegistry.cartesian||{}).attrRegex,l=(s.subplotsRegistry.polar||{}).attrRegex,f=(s.subplotsRegistry.ternary||{}).attrRegex,d=(s.subplotsRegistry.gl3d||{}).attrRegex,g=Object.keys(e);for(t=0;t<g.length;t++){var m=g[t];if(o&&o.test(m)){var y=e[m];y.anchor&&"free"!==y.anchor&&(y.anchor=c(y.anchor)),y.overlaying&&(y.overlaying=c(y.overlaying)),y.type||(y.isdate?y.type="date":y.islog?y.type="log":!1===y.isdate&&!1===y.islog&&(y.type="linear")),"withzero"!==y.autorange&&"tozero"!==y.autorange||(y.autorange=!0,y.rangemode="tozero"),delete y.islog,delete y.isdate,delete y.categories,v(y,"domain")&&delete y.domain,void 0!==y.autotick&&(void 0===y.tickmode&&(y.tickmode=y.autotick?"auto":"linear"),delete y.autotick),h(y)}else if(l&&l.test(m))h(e[m].radialaxis);else if(f&&f.test(m)){var b=e[m];h(b.aaxis),h(b.baxis),h(b.caxis)}else if(d&&d.test(m)){var x=e[m],_=x.cameraposition;if(Array.isArray(_)&&4===_[0].length){var w=_[0],k=_[1],T=_[2],C=i([],w),O=[];for(r=0;r<3;++r)O[r]=k[r]+T*C[2+4*r];x.camera={eye:{x:O[0],y:O[1],z:O[2]},center:{x:k[0],y:k[1],z:k[2]},up:{x:0,y:0,z:1}},delete x.cameraposition}h(x.xaxis),h(x.yaxis),h(x.zaxis)}}var S=Array.isArray(e.annotations)?e.annotations.length:0;for(t=0;t<S;t++){var A=e.annotations[t];a.isPlainObject(A)&&(A.ref&&("paper"===A.ref?(A.xref="paper",A.yref="paper"):"data"===A.ref&&(A.xref="x",A.yref="y"),delete A.ref),p(A,"xref"),p(A,"yref"))}var M=Array.isArray(e.shapes)?e.shapes.length:0;for(t=0;t<M;t++){var E=e.shapes[t];a.isPlainObject(E)&&(p(E,"xref"),p(E,"yref"))}var P=Array.isArray(e.images)?e.images.length:0;for(t=0;t<P;t++){var D=e.images[t];a.isPlainObject(D)&&(p(D,"xref"),p(D,"yref"))}var L=e.legend;return L&&(L.x>3?(L.x=1.02,L.xanchor="left"):L.x<-2&&(L.x=-.02,L.xanchor="right"),L.y>3?(L.y=1.02,L.yanchor="bottom"):L.y<-2&&(L.y=-.02,L.yanchor="top")),h(e),"rotate"===e.dragmode&&(e.dragmode="orbit"),u.clean(e),e.template&&e.template.layout&&n.cleanLayout(e.template.layout),e},n.cleanData=function(e){for(var t=0;t<e.length;t++){var r,i=e[t];if("histogramy"===i.type&&"xbins"in i&&!("ybins"in i)&&(i.ybins=i.xbins,delete i.xbins),i.error_y&&"opacity"in i.error_y){var l=u.defaults,f=i.error_y.color||(d(i,"bar")?u.defaultLine:l[t%l.length]);i.error_y.color=u.addOpacity(u.rgb(f),u.opacity(f)*i.error_y.opacity),delete i.error_y.opacity}if("bardir"in i&&("h"!==i.bardir||!d(i,"bar")&&"histogram"!==i.type.substr(0,9)||(i.orientation="h",n.swapXYData(i)),delete i.bardir),"histogramy"===i.type&&n.swapXYData(i),"histogramx"!==i.type&&"histogramy"!==i.type||(i.type="histogram"),"scl"in i&&!("colorscale"in i)&&(i.colorscale=i.scl,delete i.scl),"reversescl"in i&&!("reversescale"in i)&&(i.reversescale=i.reversescl,delete i.reversescl),i.xaxis&&(i.xaxis=c(i.xaxis,"x")),i.yaxis&&(i.yaxis=c(i.yaxis,"y")),d(i,"gl3d")&&i.scene&&(i.scene=s.subplotsRegistry.gl3d.cleanId(i.scene)),!d(i,"pie-like")&&!d(i,"bar-like"))if(Array.isArray(i.textposition))for(r=0;r<i.textposition.length;r++)i.textposition[r]=y(i.textposition[r]);else i.textposition&&(i.textposition=y(i.textposition));var p=o.getModule(i);if(p&&p.colorbar){var b=p.colorbar.container,x=b?i[b]:i;x&&x.colorscale&&("YIGnBu"===x.colorscale&&(x.colorscale="YlGnBu"),"YIOrRd"===x.colorscale&&(x.colorscale="YlOrRd"))}if("surface"===i.type&&a.isPlainObject(i.contours)){var _=["x","y","z"];for(r=0;r<_.length;r++){var w=i.contours[_[r]];a.isPlainObject(w)&&(w.highlightColor&&(w.highlightcolor=w.highlightColor,delete w.highlightColor),w.highlightWidth&&(w.highlightwidth=w.highlightWidth,delete w.highlightWidth))}}if("candlestick"===i.type||"ohlc"===i.type){var k=!1!==(i.increasing||{}).showlegend,T=!1!==(i.decreasing||{}).showlegend,C=g(i.increasing),O=g(i.decreasing);if(!1!==C&&!1!==O){var S=m(C,O,k,T);S&&(i.name=S)}else!C&&!O||i.name||(i.name=C||O)}if(Array.isArray(i.transforms)){var A=i.transforms;for(r=0;r<A.length;r++){var M=A[r];if(a.isPlainObject(M))switch(M.type){case"filter":M.filtersrc&&(M.target=M.filtersrc,delete M.filtersrc),M.calendar&&(M.valuecalendar||(M.valuecalendar=M.calendar),delete M.calendar);break;case"groupby":if(M.styles=M.styles||M.style,M.styles&&!Array.isArray(M.styles)){var E=M.styles,P=Object.keys(E);M.styles=[];for(var D=0;D<P.length;D++)M.styles.push({target:P[D],value:E[P[D]]})}}}}v(i,"line")&&delete i.line,"marker"in i&&(v(i.marker,"line")&&delete i.marker.line,v(i,"marker")&&delete i.marker),u.clean(i),i.autobinx&&(delete i.autobinx,delete i.xbins),i.autobiny&&(delete i.autobiny,delete i.ybins),h(i),i.colorbar&&h(i.colorbar),i.marker&&i.marker.colorbar&&h(i.marker.colorbar),i.line&&i.line.colorbar&&h(i.line.colorbar),i.aaxis&&h(i.aaxis),i.baxis&&h(i.baxis)}},n.swapXYData=function(e){var t;if(a.swapAttrs(e,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(e.z)&&Array.isArray(e.z[0])&&(e.transpose?delete e.transpose:e.transpose=!0),e.error_x&&e.error_y){var n=e.error_y,r="copy_ystyle"in n?n.copy_ystyle:!(n.color||n.thickness||n.width);a.swapAttrs(e,["error_?.copy_ystyle"]),r&&a.swapAttrs(e,["error_?.color","error_?.thickness","error_?.width"])}if("string"==typeof e.hoverinfo){var i=e.hoverinfo.split("+");for(t=0;t<i.length;t++)"x"===i[t]?i[t]="y":"y"===i[t]&&(i[t]="x");e.hoverinfo=i.join("+")}},n.coerceTraceIndices=function(e,t){if(r(t))return[t];if(!Array.isArray(t)||!t.length)return e.data.map((function(e,t){return t}));if(Array.isArray(t)){for(var n=[],i=0;i<t.length;i++)a.isIndex(t[i],e.data.length)?n.push(t[i]):a.warn("trace index (",t[i],") is not a number or is out of bounds");return n}return t},n.manageArrayContainers=function(e,t,n){var i=e.obj,o=e.parts,s=o.length,l=o[s-1],u=r(l);if(u&&null===t){var c=o.slice(0,s-1).join(".");a.nestedProperty(i,c).get().splice(l,1)}else u&&void 0===e.get()?(void 0===e.get()&&(n[e.astr]=null),e.set(t)):e.set(t)};var b=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function x(e){var t=e.search(b);if(t>0)return e.substr(0,t)}n.hasParent=function(e,t){for(var n=x(t);n;){if(n in e)return!0;n=x(n)}return!1};var _=["x","y","z"];n.clearAxisTypes=function(e,t,n){for(var r=0;r<t.length;r++)for(var i=e._fullData[r],o=0;o<3;o++){var s=f(e,i,_[o]);if(s&&"log"!==s.type){var l=s._name,u=s._id.substr(1);if("scene"===u.substr(0,5)){if(void 0!==n[u])continue;l=u+"."+l}var c=l+".type";void 0===n[l]&&void 0===n[c]&&a.nestedProperty(e.layout,c).set(null)}}}},{"../components/color":75,"../lib":203,"../plots/cartesian/axis_ids":251,"../plots/plots":282,"../registry":295,"fast-isnumeric":23,"gl-mat4/fromQuat":24}],232:[function(e,t,n){"use strict";var r=e("./plot_api");n.plot=r.plot,n.newPlot=r.newPlot,n.restyle=r.restyle,n.relayout=r.relayout,n.redraw=r.redraw,n.update=r.update,n._guiRestyle=r._guiRestyle,n._guiRelayout=r._guiRelayout,n._guiUpdate=r._guiUpdate,n._storeDirectGUIEdit=r._storeDirectGUIEdit,n.react=r.react,n.extendTraces=r.extendTraces,n.prependTraces=r.prependTraces,n.addTraces=r.addTraces,n.deleteTraces=r.deleteTraces,n.moveTraces=r.moveTraces,n.purge=r.purge,n.addFrames=r.addFrames,n.deleteFrames=r.deleteFrames,n.animate=r.animate,n.setPlotConfig=r.setPlotConfig,n.toImage=e("./to_image"),n.validate=e("./validate"),n.downloadImage=e("../snapshot/download");var i=e("./template_api");n.makeTemplate=i.makeTemplate,n.validateTemplate=i.validateTemplate},{"../snapshot/download":297,"./plot_api":234,"./template_api":239,"./to_image":240,"./validate":241}],233:[function(e,t,n){"use strict";var r=e("../lib/is_plain_object"),i=e("../lib/noop"),o=e("../lib/loggers"),a=e("../lib/search").sorterAsc,s=e("../registry");n.containerArrayMatch=e("./container_array_match");var l=n.isAddVal=function(e){return"add"===e||r(e)},u=n.isRemoveVal=function(e){return null===e||"remove"===e};n.applyContainerArrayChanges=function(e,t,n,r,c){var f=t.astr,d=s.getComponentMethod(f,"supplyLayoutDefaults"),p=s.getComponentMethod(f,"draw"),h=s.getComponentMethod(f,"drawOne"),g=r.replot||r.recalc||d===i||p===i,m=e.layout,y=e._fullLayout;if(n[""]){Object.keys(n).length>1&&o.warn("Full array edits are incompatible with other edits",f);var v=n[""][""];if(u(v))t.set(null);else{if(!Array.isArray(v))return o.warn("Unrecognized full array edit value",f,v),!0;t.set(v)}return!g&&(d(m,y),p(e),!0)}var b,x,_,w,k,T,C,O,S=Object.keys(n).map(Number).sort(a),A=t.get(),M=A||[],E=c(y,f).get(),P=[],D=-1,L=M.length;for(b=0;b<S.length;b++)if(w=n[_=S[b]],k=Object.keys(w),T=w[""],C=l(T),_<0||_>M.length-(C?0:1))o.warn("index out of range",f,_);else if(void 0!==T)k.length>1&&o.warn("Insertion & removal are incompatible with edits to the same index.",f,_),u(T)?P.push(_):C?("add"===T&&(T={}),M.splice(_,0,T),E&&E.splice(_,0,{})):o.warn("Unrecognized full object edit value",f,_,T),-1===D&&(D=_);else for(x=0;x<k.length;x++)O=f+"["+_+"].",c(M[_],k[x],O).set(w[k[x]]);for(b=P.length-1;b>=0;b--)M.splice(P[b],1),E&&E.splice(P[b],1);if(M.length?A||t.set(M):t.set(null),g)return!1;if(d(m,y),h!==i){var R;if(-1===D)R=S;else{for(L=Math.max(M.length,L),R=[],b=0;b<S.length&&!((_=S[b])>=D);b++)R.push(_);for(b=D;b<L;b++)R.push(b)}for(b=0;b<R.length;b++)h(e,R[b])}else p(e);return!0}},{"../lib/is_plain_object":204,"../lib/loggers":207,"../lib/noop":212,"../lib/search":221,"../registry":295,"./container_array_match":229}],234:[function(e,t,n){"use strict";var r=e("d3"),i=e("fast-isnumeric"),o=e("has-hover"),a=e("../lib"),s=a.nestedProperty,l=e("../lib/events"),u=e("../lib/queue"),c=e("../registry"),f=e("./plot_schema"),d=e("../plots/plots"),p=e("../plots/polar/legacy"),h=e("../plots/cartesian/axes"),g=e("../components/drawing"),m=e("../components/color"),y=e("../plots/cartesian/graph_interact").initInteractions,v=e("../constants/xmlns_namespaces"),b=e("../lib/svg_text_utils"),x=e("../plots/cartesian/select").clearSelect,_=e("./plot_config").dfltConfig,w=e("./manage_arrays"),k=e("./helpers"),T=e("./subroutines"),C=e("./edit_types"),O=e("../plots/cartesian/constants").AX_NAME_PATTERN,S=0;function A(e){var t=e._fullLayout;t._redrawFromAutoMarginCount?t._redrawFromAutoMarginCount--:e.emit("plotly_afterplot")}function M(e,t){try{e._fullLayout._paper.style("background",t)}catch(e){a.error(e)}}function E(e,t){M(e,m.combine(t,"white"))}function P(e,t){if(!e._context){e._context=a.extendDeep({},_);var n=r.select("base");e._context._baseUrl=n.size()&&n.attr("href")?window.location.href.split("#")[0]:""}var i,s,l,u=e._context;if(t){for(s=Object.keys(t),i=0;i<s.length;i++)"editable"!==(l=s[i])&&"edits"!==l&&l in u&&("setBackground"===l&&"opaque"===t[l]?u[l]=E:u[l]=t[l]);t.plot3dPixelRatio&&!u.plotGlPixelRatio&&(u.plotGlPixelRatio=u.plot3dPixelRatio);var c=t.editable;if(void 0!==c)for(u.editable=c,s=Object.keys(u.edits),i=0;i<s.length;i++)u.edits[s[i]]=c;if(t.edits)for(s=Object.keys(t.edits),i=0;i<s.length;i++)(l=s[i])in u.edits&&(u.edits[l]=t.edits[l]);u._exportedPlot=t._exportedPlot}u.staticPlot&&(u.editable=!1,u.edits={},u.autosizable=!1,u.scrollZoom=!1,u.doubleClick=!1,u.showTips=!1,u.showLink=!1,u.displayModeBar=!1),"hover"!==u.displayModeBar||o||(u.displayModeBar=!0),"transparent"!==u.setBackground&&"function"==typeof u.setBackground||(u.setBackground=M),u._hasZeroHeight=u._hasZeroHeight||0===e.clientHeight,u._hasZeroWidth=u._hasZeroWidth||0===e.clientWidth;var f=u.scrollZoom,d=u._scrollZoom={};if(!0===f)d.cartesian=1,d.gl3d=1,d.geo=1,d.mapbox=1;else if("string"==typeof f){var p=f.split("+");for(i=0;i<p.length;i++)d[p[i]]=1}else!1!==f&&(d.gl3d=1,d.geo=1,d.mapbox=1)}function D(e,t){var n,r,i=t+1,o=[];for(n=0;n<e.length;n++)(r=e[n])<0?o.push(i+r):o.push(r);return o}function L(e,t,n){var r,i;for(r=0;r<t.length;r++){if((i=t[r])!==parseInt(i,10))throw new Error("all values in "+n+" must be integers");if(i>=e.data.length||i<-e.data.length)throw new Error(n+" must be valid indices for gd.data.");if(t.indexOf(i,r+1)>-1||i>=0&&t.indexOf(-e.data.length+i)>-1||i<0&&t.indexOf(e.data.length+i)>-1)throw new Error("each index in "+n+" must be unique.")}}function R(e,t,n){if(!Array.isArray(e.data))throw new Error("gd.data must be an array.");if(void 0===t)throw new Error("currentIndices is a required argument.");if(Array.isArray(t)||(t=[t]),L(e,t,"currentIndices"),void 0===n||Array.isArray(n)||(n=[n]),void 0!==n&&L(e,n,"newIndices"),void 0!==n&&t.length!==n.length)throw new Error("current and new indices must be of equal length.")}function I(e,t,n,r,o){!function(e,t,n,r){var i=a.isPlainObject(r);if(!Array.isArray(e.data))throw new Error("gd.data must be an array");if(!a.isPlainObject(t))throw new Error("update must be a key:value object");if(void 0===n)throw new Error("indices must be an integer or array of integers");for(var o in L(e,n,"indices"),t){if(!Array.isArray(t[o])||t[o].length!==n.length)throw new Error("attribute "+o+" must be an array of length equal to indices array length");if(i&&(!(o in r)||!Array.isArray(r[o])||r[o].length!==t[o].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}(e,t,n,r);for(var l=function(e,t,n,r){var o,l,u,c,f,d=a.isPlainObject(r),p=[];for(var h in Array.isArray(n)||(n=[n]),n=D(n,e.data.length-1),t)for(var g=0;g<n.length;g++){if(o=e.data[n[g]],l=(u=s(o,h)).get(),c=t[h][g],!a.isArrayOrTypedArray(c))throw new Error("attribute: "+h+" index: "+g+" must be an array");if(!a.isArrayOrTypedArray(l))throw new Error("cannot extend missing or non-array attribute: "+h);if(l.constructor!==c.constructor)throw new Error("cannot extend array with an array of a different type: "+h);f=d?r[h][g]:r,i(f)||(f=-1),p.push({prop:u,target:l,insert:c,maxp:Math.floor(f)})}return p}(e,t,n,r),u={},c={},f=0;f<l.length;f++){var d=l[f].prop,p=l[f].maxp,h=o(l[f].target,l[f].insert,p);d.set(h[0]),Array.isArray(u[d.astr])||(u[d.astr]=[]),u[d.astr].push(h[1]),Array.isArray(c[d.astr])||(c[d.astr]=[]),c[d.astr].push(l[f].target.length)}return{update:u,maxPoints:c}}function N(e,t){var n=new e.constructor(e.length+t.length);return n.set(e),n.set(t,e.length),n}function j(e,t,r,i){e=a.getGraphDiv(e),k.clearPromiseQueue(e);var o={};if("string"==typeof t)o[t]=r;else{if(!a.isPlainObject(t))return a.warn("Restyle fail.",t,r,i),Promise.reject();o=a.extendFlat({},t),void 0===i&&(i=r)}Object.keys(o).length&&(e.changed=!0);var s=k.coerceTraceIndices(e,i),l=B(e,o,s),c=l.flags;c.calc&&(e.calcdata=void 0),c.clearAxisTypes&&k.clearAxisTypes(e,s,{});var f=[];c.fullReplot?f.push(n.plot):(f.push(d.previousPromises),d.supplyDefaults(e),c.markerSize&&(d.doCalcdata(e),W(f)),c.style&&f.push(T.doTraceStyle),c.colorbars&&f.push(T.doColorBars),f.push(A)),f.push(d.rehover,d.redrag),u.add(e,j,[e,l.undoit,l.traces],j,[e,l.redoit,l.traces]);var p=a.syncOrAsync(f,e);return p&&p.then||(p=Promise.resolve()),p.then((function(){return e.emit("plotly_restyle",l.eventData),e}))}function z(e){return void 0===e?null:e}function q(e,t){return t?function(t,n,r){var i=s(t,n),o=i.set;return i.set=function(t){F((r||"")+n,i.get(),t,e),o(t)},i}:s}function F(e,t,n,r){if(Array.isArray(t)||Array.isArray(n))for(var i=Array.isArray(t)?t:[],o=Array.isArray(n)?n:[],s=Math.max(i.length,o.length),l=0;l<s;l++)F(e+"["+l+"]",i[l],o[l],r);else if(a.isPlainObject(t)||a.isPlainObject(n)){var u=a.isPlainObject(t)?t:{},c=a.isPlainObject(n)?n:{},f=a.extendFlat({},u,c);for(var d in f)F(e+"."+d,u[d],c[d],r)}else void 0===r[e]&&(r[e]=z(t))}function B(e,t,n){var r,i=e._fullLayout,o=e._fullData,l=e.data,u=i._guiEditing,p=q(i._preGUI,u),g=a.extendDeepAll({},t);H(t);var m,y=C.traceFlags(),v={},b={};function x(){return n.map((function(){}))}function _(e){var t=h.id2name(e);-1===m.indexOf(t)&&m.push(t)}function w(e){return"LAYOUT"+e+".autorange"}function T(e){return"LAYOUT"+e+".range"}function O(e){for(var t=e;t<o.length;t++)if(o[t]._input===l[e])return o[t]}function S(r,o,a){if(Array.isArray(r))r.forEach((function(e){S(e,o,a)}));else if(!(r in t)&&!k.hasParent(t,r)){var s;if("LAYOUT"===r.substr(0,6))s=p(e.layout,r.replace("LAYOUT",""));else{var c=n[a];s=q(i._tracePreGUI[O(c)._fullInput.uid],u)(l[c],r)}r in b||(b[r]=x()),void 0===b[r][a]&&(b[r][a]=z(s.get())),void 0!==o&&s.set(o)}}function A(e){return function(t){return o[t][e]}}function M(e){return function(t,r){return!1===t?o[n[r]][e]:null}}for(var E in t){if(k.hasParent(t,E))throw new Error("cannot set "+E+" and a parent attribute simultaneously");var P,D,L,R,I,N,j=t[E];if("autobinx"!==E&&"autobiny"!==E||(E=E.charAt(E.length-1)+"bins",j=Array.isArray(j)?j.map(M(E)):!1===j?n.map(A(E)):null),v[E]=j,"LAYOUT"!==E.substr(0,6)){for(b[E]=x(),r=0;r<n.length;r++)if(P=l[n[r]],D=O(n[r]),R=(L=q(i._tracePreGUI[D._fullInput.uid],u)(P,E)).get(),void 0!==(I=Array.isArray(j)?j[r%j.length]:j)){var F=L.parts[L.parts.length-1],B=E.substr(0,E.length-F.length-1),U=B?B+".":"",V=B?s(D,B).get():D;if((N=f.getTraceValObject(D,L.parts))&&N.impliedEdits&&null!==I)for(var W in N.impliedEdits)S(a.relativeAttr(E,W),N.impliedEdits[W],r);else if("thicknessmode"!==F&&"lenmode"!==F||R===I||"fraction"!==I&&"pixels"!==I||!V){if("type"===E&&("pie"===I!=("pie"===R)||"funnelarea"===I!=("funnelarea"===R))){var G="x",K="y";"bar"!==I&&"bar"!==R||"h"!==P.orientation||(G="y",K="x"),a.swapAttrs(P,["?","?src"],"labels",G),a.swapAttrs(P,["d?","?0"],"label",G),a.swapAttrs(P,["?","?src"],"values",K),"pie"===R||"funnelarea"===R?(s(P,"marker.color").set(s(P,"marker.colors").get()),i._pielayer.selectAll("g.trace").remove()):c.traceIs(P,"cartesian")&&s(P,"marker.colors").set(s(P,"marker.color").get())}}else{var Y=i._size,Z=V.orient,X="top"===Z||"bottom"===Z;if("thicknessmode"===F){var $=X?Y.h:Y.w;S(U+"thickness",V.thickness*("fraction"===I?1/$:$),r)}else{var J=X?Y.w:Y.h;S(U+"len",V.len*("fraction"===I?1/J:J),r)}}if(b[E][r]=z(R),-1!==["swapxy","swapxyaxes","orientation","orientationaxes"].indexOf(E)){if("orientation"===E){L.set(I);var Q=P.x&&!P.y?"h":"v";if((L.get()||Q)===D.orientation)continue}else"orientationaxes"===E&&(P.orientation={v:"h",h:"v"}[D.orientation]);k.swapXYData(P),y.calc=y.clearAxisTypes=!0}else-1!==d.dataArrayContainers.indexOf(L.parts[0])?(k.manageArrayContainers(L,I,b),y.calc=!0):(N?N.arrayOk&&!c.traceIs(D,"regl")&&(a.isArrayOrTypedArray(I)||a.isArrayOrTypedArray(R))?y.calc=!0:C.update(y,N):y.calc=!0,L.set(I))}if(-1!==["swapxyaxes","orientationaxes"].indexOf(E)&&h.swap(e,n),"orientationaxes"===E){var ee=s(e.layout,"hovermode"),te=ee.get();"x"===te?ee.set("y"):"y"===te?ee.set("x"):"x unified"===te?ee.set("y unified"):"y unified"===te&&ee.set("x unified")}if(-1!==["orientation","type"].indexOf(E)){for(m=[],r=0;r<n.length;r++){var ne=l[n[r]];c.traceIs(ne,"cartesian")&&(_(ne.xaxis||"x"),_(ne.yaxis||"y"))}S(m.map(w),!0,0),S(m.map(T),[0,1],0)}}else L=p(e.layout,E.replace("LAYOUT","")),b[E]=[z(L.get())],L.set(Array.isArray(j)?j[0]:j),y.calc=!0}return(y.calc||y.plot)&&(y.fullReplot=!0),{flags:y,undoit:b,redoit:v,traces:n,eventData:a.extendDeepNoArrays([],[g,n])}}function H(e){var t,n,r,i=a.counterRegex("axis",".title",!1,!1),o=/colorbar\.title$/,s=Object.keys(e);for(t=0;t<s.length;t++)n=s[t],r=e[n],"title"!==n&&!i.test(n)&&!o.test(n)||"string"!=typeof r&&"number"!=typeof r?n.indexOf("titlefont")>-1?l(n,n.replace("titlefont","title.font")):n.indexOf("titleposition")>-1?l(n,n.replace("titleposition","title.position")):n.indexOf("titleside")>-1?l(n,n.replace("titleside","title.side")):n.indexOf("titleoffset")>-1&&l(n,n.replace("titleoffset","title.offset")):l(n,n.replace("title","title.text"));function l(t,n){e[n]=e[t],delete e[t]}}function U(e,t,n){if(e=a.getGraphDiv(e),k.clearPromiseQueue(e),e.framework&&e.framework.isPolar)return Promise.resolve(e);var r={};if("string"==typeof t)r[t]=n;else{if(!a.isPlainObject(t))return a.warn("Relayout fail.",t,n),Promise.reject();r=a.extendFlat({},t)}Object.keys(r).length&&(e.changed=!0);var i=Z(e,r),o=i.flags;o.calc&&(e.calcdata=void 0);var s=[d.previousPromises];o.layoutReplot?s.push(T.layoutReplot):Object.keys(r).length&&(V(e,o,i)||d.supplyDefaults(e),o.legend&&s.push(T.doLegend),o.layoutstyle&&s.push(T.layoutStyles),o.axrange&&W(s,i.rangesAltered),o.ticks&&s.push(T.doTicksRelayout),o.modebar&&s.push(T.doModeBar),o.camera&&s.push(T.doCamera),o.colorbars&&s.push(T.doColorBars),s.push(A)),s.push(d.rehover,d.redrag),u.add(e,U,[e,i.undoit],U,[e,i.redoit]);var l=a.syncOrAsync(s,e);return l&&l.then||(l=Promise.resolve(e)),l.then((function(){return e.emit("plotly_relayout",i.eventData),e}))}function V(e,t,n){var r=e._fullLayout;if(!t.axrange)return!1;for(var i in t)if("axrange"!==i&&t[i])return!1;for(var o in n.rangesAltered){var a=h.id2name(o),s=e.layout[a],l=r[a];if(l.autorange=s.autorange,l.range=s.range.slice(),l.cleanRange(),l._matchGroup)for(var u in l._matchGroup)if(u!==o){var c=r[h.id2name(u)];c.autorange=l.autorange,c.range=l.range.slice(),c._input.range=l.range.slice()}}return!0}function W(e,t){var n=t?function(e){var n=[],r=!0;for(var i in t){var o=h.getFromId(e,i);if(n.push(i),o._matchGroup)for(var a in o._matchGroup)t[a]||n.push(a);o.automargin&&(r=!1)}return h.draw(e,n,{skipTitle:r})}:function(e){return h.draw(e,"redraw")};e.push(x,T.doAutoRangeAndConstraints,n,T.drawData,T.finalDraw)}var G=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,K=/^[xyz]axis[0-9]*\.autorange$/,Y=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function Z(e,t){var n,r,i,o=e.layout,l=e._fullLayout,u=l._guiEditing,d=q(l._preGUI,u),p=Object.keys(t),g=h.list(e),m=a.extendDeepAll({},t),y={};for(H(t),p=Object.keys(t),r=0;r<p.length;r++)if(0===p[r].indexOf("allaxes")){for(i=0;i<g.length;i++){var v=g[i]._id.substr(1),b=-1!==v.indexOf("scene")?v+".":"",x=p[r].replace("allaxes",b+g[i]._name);t[x]||(t[x]=t[p[r]])}delete t[p[r]]}var _=C.layoutFlags(),T={},S={};function A(e,n){if(Array.isArray(e))e.forEach((function(e){A(e,n)}));else if(!(e in t)&&!k.hasParent(t,e)){var r=d(o,e);e in S||(S[e]=z(r.get())),void 0!==n&&r.set(n)}}var M,E={};function P(e){var t=h.name2id(e.split(".")[0]);return E[t]=1,t}for(var D in t){if(k.hasParent(t,D))throw new Error("cannot set "+D+" and a parent attribute simultaneously");for(var L=d(o,D),R=t[D],I=L.parts.length-1;I>0&&"string"!=typeof L.parts[I];)I--;var N=L.parts[I],j=L.parts[I-1]+"."+N,F=L.parts.slice(0,I).join("."),B=s(e.layout,F).get(),U=s(l,F).get(),V=L.get();if(void 0!==R){T[D]=R,S[D]="reverse"===N?R:z(V);var W=f.getLayoutValObject(l,L.parts);if(W&&W.impliedEdits&&null!==R)for(var Z in W.impliedEdits)A(a.relativeAttr(D,Z),W.impliedEdits[Z]);if(-1!==["width","height"].indexOf(D))if(R){A("autosize",null);var $="height"===D?"width":"height";A($,l[$])}else l[D]=e._initialAutoSize[D];else if("autosize"===D)A("width",R?null:l.width),A("height",R?null:l.height);else if(j.match(G))P(j),s(l,F+"._inputRange").set(null);else if(j.match(K)){P(j),s(l,F+"._inputRange").set(null);var J=s(l,F).get();J._inputDomain&&(J._input.domain=J._inputDomain.slice())}else j.match(Y)&&s(l,F+"._inputDomain").set(null);if("type"===N){var Q=B,ee="linear"===U.type&&"log"===R,te="log"===U.type&&"linear"===R;if(ee||te){if(Q&&Q.range)if(U.autorange)ee&&(Q.range=Q.range[1]>Q.range[0]?[1,2]:[2,1]);else{var ne=Q.range[0],re=Q.range[1];ee?(ne<=0&&re<=0&&A(F+".autorange",!0),ne<=0?ne=re/1e6:re<=0&&(re=ne/1e6),A(F+".range[0]",Math.log(ne)/Math.LN10),A(F+".range[1]",Math.log(re)/Math.LN10)):(A(F+".range[0]",Math.pow(10,ne)),A(F+".range[1]",Math.pow(10,re)))}else A(F+".autorange",!0);Array.isArray(l._subplots.polar)&&l._subplots.polar.length&&l[L.parts[0]]&&"radialaxis"===L.parts[1]&&delete l[L.parts[0]]._subplot.viewInitial["radialaxis.range"],c.getComponentMethod("annotations","convertCoords")(e,U,R,A),c.getComponentMethod("images","convertCoords")(e,U,R,A)}else A(F+".autorange",!0),A(F+".range",null);s(l,F+"._inputRange").set(null)}else if(N.match(O)){var ie=s(l,D).get(),oe=(R||{}).type;oe&&"-"!==oe||(oe="linear"),c.getComponentMethod("annotations","convertCoords")(e,ie,oe,A),c.getComponentMethod("images","convertCoords")(e,ie,oe,A)}var ae=w.containerArrayMatch(D);if(ae){n=ae.array,r=ae.index;var se=ae.property,le=W||{editType:"calc"};""!==r&&""===se&&(w.isAddVal(R)?S[D]=null:w.isRemoveVal(R)?S[D]=(s(o,n).get()||[])[r]:a.warn("unrecognized full object value",t)),C.update(_,le),y[n]||(y[n]={});var ue=y[n][r];ue||(ue=y[n][r]={}),ue[se]=R,delete t[D]}else"reverse"===N?(B.range?B.range.reverse():(A(F+".autorange",!0),B.range=[1,0]),U.autorange?_.calc=!0:_.plot=!0):(l._has("scatter-like")&&l._has("regl")&&"dragmode"===D&&("lasso"===R||"select"===R)&&"lasso"!==V&&"select"!==V||l._has("gl2d")?_.plot=!0:W?C.update(_,W):_.calc=!0,L.set(R))}}for(n in y)w.applyContainerArrayChanges(e,d(o,n),y[n],_,d)||(_.plot=!0);var ce=l._axisConstraintGroups||[];for(M in E)for(r=0;r<ce.length;r++){var fe=ce[r];if(fe[M])for(var de in _.calc=!0,fe)E[de]||(h.getFromId(e,de)._constraintShrinkable=!0)}return(X(e)||t.height||t.width)&&(_.plot=!0),(_.plot||_.calc)&&(_.layoutReplot=!0),{flags:_,rangesAltered:E,undoit:S,redoit:T,eventData:m}}function X(e){var t=e._fullLayout,n=t.width,r=t.height;return e.layout.autosize&&d.plotAutoSize(e,e.layout,t),t.width!==n||t.height!==r}function $(e,t,r,i){if(e=a.getGraphDiv(e),k.clearPromiseQueue(e),e.framework&&e.framework.isPolar)return Promise.resolve(e);a.isPlainObject(t)||(t={}),a.isPlainObject(r)||(r={}),Object.keys(t).length&&(e.changed=!0),Object.keys(r).length&&(e.changed=!0);var o=k.coerceTraceIndices(e,i),s=B(e,a.extendFlat({},t),o),l=s.flags,c=Z(e,a.extendFlat({},r)),f=c.flags;(l.calc||f.calc)&&(e.calcdata=void 0),l.clearAxisTypes&&k.clearAxisTypes(e,o,r);var p=[];f.layoutReplot?p.push(T.layoutReplot):l.fullReplot?p.push(n.plot):(p.push(d.previousPromises),V(e,f,c)||d.supplyDefaults(e),l.style&&p.push(T.doTraceStyle),(l.colorbars||f.colorbars)&&p.push(T.doColorBars),f.legend&&p.push(T.doLegend),f.layoutstyle&&p.push(T.layoutStyles),f.axrange&&W(p,c.rangesAltered),f.ticks&&p.push(T.doTicksRelayout),f.modebar&&p.push(T.doModeBar),f.camera&&p.push(T.doCamera),p.push(A)),p.push(d.rehover,d.redrag),u.add(e,$,[e,s.undoit,c.undoit,s.traces],$,[e,s.redoit,c.redoit,s.traces]);var h=a.syncOrAsync(p,e);return h&&h.then||(h=Promise.resolve(e)),h.then((function(){return e.emit("plotly_update",{data:s.eventData,layout:c.eventData}),e}))}function J(e){return function(t){t._fullLayout._guiEditing=!0;var n=e.apply(null,arguments);return t._fullLayout._guiEditing=!1,n}}var Q=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],ee=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function te(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=e.match(r.pattern);if(i)return{head:i[1],attr:r.attr}}}function ne(e,t){var n=s(t,e).get();if(void 0!==n)return n;var r=e.split(".");for(r.pop();r.length>1;)if(r.pop(),void 0!==(n=s(t,r.join(".")+".uirevision").get()))return n;return t.uirevision}function re(e,t){for(var n=0;n<t.length;n++)if(t[n]._fullInput.uid===e)return n;return-1}function ie(e,t,n){for(var r=0;r<t.length;r++)if(t[r].uid===e)return r;return!t[n]||t[n].uid?-1:n}function oe(e,t){var n=a.isPlainObject(e),r=Array.isArray(e);return n||r?(n&&a.isPlainObject(t)||r&&Array.isArray(t))&&JSON.stringify(e)===JSON.stringify(t):e===t}function ae(e,t,n,r){var i,o,l,u=r.getValObject,c=r.flags,f=r.immutable,d=r.inArray,p=r.arrayIndex;function h(){var e=i.editType;d&&-1!==e.indexOf("arraydraw")?a.pushUnique(c.arrays[d],p):(C.update(c,i),"none"!==e&&c.nChanges++,r.transition&&i.anim&&c.nChangesAnim++,(G.test(l)||K.test(l))&&(c.rangesAltered[n[0]]=1),Y.test(l)&&s(t,"_inputDomain").set(null),"datarevision"===o&&(c.newDataRevision=1))}function g(e){return"data_array"===e.valType||e.arrayOk}for(o in e){if(c.calc&&!r.transition)return;var m=e[o],y=t[o],v=n.concat(o);if(l=v.join("."),"_"!==o.charAt(0)&&"function"!=typeof m&&m!==y){if(("tick0"===o||"dtick"===o)&&"geo"!==n[0]){var b=t.tickmode;if("auto"===b||"array"===b||!b)continue}if(("range"!==o||!t.autorange)&&("zmin"!==o&&"zmax"!==o||"contourcarpet"!==t.type)&&(i=u(v))&&(!i._compareAsJSON||JSON.stringify(m)!==JSON.stringify(y))){var x,_=i.valType,w=g(i),k=Array.isArray(m),T=Array.isArray(y);if(k&&T){var O="_input_"+o,S=e[O],A=t[O];if(Array.isArray(S)&&S===A)continue}if(void 0===y)w&&k?c.calc=!0:h();else if(i._isLinkedToArray){var M=[],E=!1;d||(c.arrays[o]=M);var P=Math.min(m.length,y.length),D=Math.max(m.length,y.length);if(P!==D){if("arraydraw"!==i.editType){h();continue}E=!0}for(x=0;x<P;x++)ae(m[x],y[x],v.concat(x),a.extendFlat({inArray:o,arrayIndex:x},r));if(E)for(x=P;x<D;x++)M.push(x)}else!_&&a.isPlainObject(m)?ae(m,y,v,r):w?k&&T?(f&&(c.calc=!0),(f||r.newDataRevision)&&h()):k!==T?c.calc=!0:h():k&&T&&m.length===y.length&&String(m)===String(y)||h()}}}for(o in t)if(!(o in e)&&"_"!==o.charAt(0)&&"function"!=typeof t[o]){if(g(i=u(n.concat(o)))&&Array.isArray(t[o]))return void(c.calc=!0);h()}}function se(e,t){var n;for(n in e)if("_"!==n.charAt(0)){var r=e[n],i=t[n];if(r!==i)if(a.isPlainObject(r)&&a.isPlainObject(i)){if(se(r,i))return!0}else{if(!Array.isArray(r)||!Array.isArray(i))return!0;if(r.length!==i.length)return!0;for(var o=0;o<r.length;o++)if(r[o]!==i[o]){if(!a.isPlainObject(r[o])||!a.isPlainObject(i[o]))return!0;if(se(r[o],i[o]))return!0}}}}function le(e){var t=r.select(e),n=e._fullLayout;if(n._container=t.selectAll(".plot-container").data([0]),n._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),n._paperdiv=n._container.selectAll(".svg-container").data([0]),n._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),n._glcontainer=n._paperdiv.selectAll(".gl-container").data([{}]),n._glcontainer.enter().append("div").classed("gl-container",!0),n._paperdiv.selectAll(".main-svg").remove(),n._paperdiv.select(".modebar-container").remove(),n._paper=n._paperdiv.insert("svg",":first-child").classed("main-svg",!0),n._toppaper=n._paperdiv.append("svg").classed("main-svg",!0),n._modebardiv=n._paperdiv.append("div"),delete n._modeBar,n._hoverpaper=n._paperdiv.append("svg").classed("main-svg",!0),!n._uid){var i={};r.selectAll("defs").each((function(){this.id&&(i[this.id.split("-")[1]]=1)})),n._uid=a.randstr(i)}n._paperdiv.selectAll(".main-svg").attr(v.svgAttrs),n._defs=n._paper.append("defs").attr("id","defs-"+n._uid),n._clips=n._defs.append("g").classed("clips",!0),n._topdefs=n._toppaper.append("defs").attr("id","topdefs-"+n._uid),n._topclips=n._topdefs.append("g").classed("clips",!0),n._bgLayer=n._paper.append("g").classed("bglayer",!0),n._draggers=n._paper.append("g").classed("draglayer",!0);var o=n._paper.append("g").classed("layer-below",!0);n._imageLowerLayer=o.append("g").classed("imagelayer",!0),n._shapeLowerLayer=o.append("g").classed("shapelayer",!0),n._cartesianlayer=n._paper.append("g").classed("cartesianlayer",!0),n._polarlayer=n._paper.append("g").classed("polarlayer",!0),n._ternarylayer=n._paper.append("g").classed("ternarylayer",!0),n._geolayer=n._paper.append("g").classed("geolayer",!0),n._funnelarealayer=n._paper.append("g").classed("funnelarealayer",!0),n._pielayer=n._paper.append("g").classed("pielayer",!0),n._treemaplayer=n._paper.append("g").classed("treemaplayer",!0),n._sunburstlayer=n._paper.append("g").classed("sunburstlayer",!0),n._indicatorlayer=n._toppaper.append("g").classed("indicatorlayer",!0),n._glimages=n._paper.append("g").classed("glimages",!0);var s=n._toppaper.append("g").classed("layer-above",!0);n._imageUpperLayer=s.append("g").classed("imagelayer",!0),n._shapeUpperLayer=s.append("g").classed("shapelayer",!0),n._infolayer=n._toppaper.append("g").classed("infolayer",!0),n._menulayer=n._toppaper.append("g").classed("menulayer",!0),n._zoomlayer=n._toppaper.append("g").classed("zoomlayer",!0),n._hoverlayer=n._hoverpaper.append("g").classed("hoverlayer",!0),n._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),e.emit("plotly_framework")}n.animate=function(e,t,n){if(e=a.getGraphDiv(e),!a.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var r=e._transitionData;r._frameQueue||(r._frameQueue=[]);var i=(n=d.supplyAnimationDefaults(n)).transition,o=n.frame;function s(e){return Array.isArray(i)?e>=i.length?i[0]:i[e]:i}function l(e){return Array.isArray(o)?e>=o.length?o[0]:o[e]:o}function u(e,t){var n=0;return function(){if(e&&++n===t)return e()}}return void 0===r._frameWaitingCnt&&(r._frameWaitingCnt=0),new Promise((function(o,c){function f(){r._currentFrame&&r._currentFrame.onComplete&&r._currentFrame.onComplete();var t=r._currentFrame=r._frameQueue.shift();if(t){var n=t.name?t.name.toString():null;e._fullLayout._currentFrame=n,r._lastFrameAt=Date.now(),r._timeToNext=t.frameOpts.duration,d.transition(e,t.frame.data,t.frame.layout,k.coerceTraceIndices(e,t.frame.traces),t.frameOpts,t.transitionOpts).then((function(){t.onComplete&&t.onComplete()})),e.emit("plotly_animatingframe",{name:n,frame:t.frame,animation:{frame:t.frameOpts,transition:t.transitionOpts}})}else e.emit("plotly_animated"),window.cancelAnimationFrame(r._animationRaf),r._animationRaf=null}function p(){e.emit("plotly_animating"),r._lastFrameAt=-1/0,r._timeToNext=0,r._runningTransitions=0,r._currentFrame=null;var t=function(){r._animationRaf=window.requestAnimationFrame(t),Date.now()-r._lastFrameAt>r._timeToNext&&f()};t()}var h,g,m=0;function y(e){return Array.isArray(i)?m>=i.length?e.transitionOpts=i[m]:e.transitionOpts=i[0]:e.transitionOpts=i,m++,e}var v=[],b=null==t,x=Array.isArray(t);if(b||x||!a.isPlainObject(t)){if(b||-1!==["string","number"].indexOf(typeof t))for(h=0;h<r._frames.length;h++)(g=r._frames[h])&&(b||String(g.group)===String(t))&&v.push({type:"byname",name:String(g.name),data:y({name:g.name})});else if(x)for(h=0;h<t.length;h++){var _=t[h];-1!==["number","string"].indexOf(typeof _)?(_=String(_),v.push({type:"byname",name:_,data:y({name:_})})):a.isPlainObject(_)&&v.push({type:"object",data:y(a.extendFlat({},_))})}}else v.push({type:"object",data:y(a.extendFlat({},t))});for(h=0;h<v.length;h++)if("byname"===(g=v[h]).type&&!r._frameHash[g.data.name])return a.warn('animate failure: frame not found: "'+g.data.name+'"'),void c();-1!==["next","immediate"].indexOf(n.mode)&&function(){if(0!==r._frameQueue.length){for(;r._frameQueue.length;){var t=r._frameQueue.pop();t.onInterrupt&&t.onInterrupt()}e.emit("plotly_animationinterrupted",[])}}(),"reverse"===n.direction&&v.reverse();var w=e._fullLayout._currentFrame;if(w&&n.fromcurrent){var T=-1;for(h=0;h<v.length;h++)if("byname"===(g=v[h]).type&&g.name===w){T=h;break}if(T>0&&T<v.length-1){var C=[];for(h=0;h<v.length;h++)g=v[h],("byname"!==v[h].type||h>T)&&C.push(g);v=C}}v.length>0?function(t){if(0!==t.length){for(var i=0;i<t.length;i++){var a;a="byname"===t[i].type?d.computeFrame(e,t[i].name):t[i].data;var f=l(i),h=s(i);h.duration=Math.min(h.duration,f.duration);var g={frame:a,name:t[i].name,frameOpts:f,transitionOpts:h};i===t.length-1&&(g.onComplete=u(o,2),g.onInterrupt=c),r._frameQueue.push(g)}"immediate"===n.mode&&(r._lastFrameAt=-1/0),r._animationRaf||p()}}(v):(e.emit("plotly_animated"),o())}))},n.addFrames=function(e,t,n){if(e=a.getGraphDiv(e),null==t)return Promise.resolve();if(!a.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var r,i,o,s,l=e._transitionData._frames,c=e._transitionData._frameHash;if(!Array.isArray(t))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+t);var f=l.length+2*t.length,p=[],h={};for(r=t.length-1;r>=0;r--)if(a.isPlainObject(t[r])){var g=t[r].name,m=(c[g]||h[g]||{}).name,y=t[r].name,v=c[m]||h[m];m&&y&&"number"==typeof y&&v&&S<5&&(S++,a.warn('addFrames: overwriting frame "'+(c[m]||h[m]).name+'" with a frame whose name of type "number" also equates to "'+m+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),5===S&&a.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),h[g]={name:g},p.push({frame:d.supplyFrameDefaults(t[r]),index:n&&void 0!==n[r]&&null!==n[r]?n[r]:f+r})}p.sort((function(e,t){return e.index>t.index?-1:e.index<t.index?1:0}));var b=[],x=[],_=l.length;for(r=p.length-1;r>=0;r--){if("number"==typeof(i=p[r].frame).name&&a.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!i.name)for(;c[i.name="frame "+e._transitionData._counter++];);if(c[i.name]){for(o=0;o<l.length&&(l[o]||{}).name!==i.name;o++);b.push({type:"replace",index:o,value:i}),x.unshift({type:"replace",index:o,value:l[o]})}else s=Math.max(0,Math.min(p[r].index,_)),b.push({type:"insert",index:s,value:i}),x.unshift({type:"delete",index:s}),_++}var w=d.modifyFrames,k=d.modifyFrames,T=[e,x],C=[e,b];return u&&u.add(e,w,T,k,C),d.modifyFrames(e,b)},n.deleteFrames=function(e,t){if(e=a.getGraphDiv(e),!a.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e);var n,r,i=e._transitionData._frames,o=[],s=[];if(!t)for(t=[],n=0;n<i.length;n++)t.push(n);for((t=t.slice()).sort(),n=t.length-1;n>=0;n--)r=t[n],o.push({type:"delete",index:r}),s.unshift({type:"insert",index:r,value:i[r]});var l=d.modifyFrames,c=d.modifyFrames,f=[e,s],p=[e,o];return u&&u.add(e,l,f,c,p),d.modifyFrames(e,o)},n.addTraces=function e(t,r,i){t=a.getGraphDiv(t);var o,s,l=[],c=n.deleteTraces,f=e,d=[t,l],p=[t,r];for(function(e,t,n){var r,i;if(!Array.isArray(e.data))throw new Error("gd.data must be an array.");if(void 0===t)throw new Error("traces must be defined.");for(Array.isArray(t)||(t=[t]),r=0;r<t.length;r++)if("object"!=typeof(i=t[r])||Array.isArray(i)||null===i)throw new Error("all values in traces array must be non-array objects");if(void 0===n||Array.isArray(n)||(n=[n]),void 0!==n&&n.length!==t.length)throw new Error("if indices is specified, traces.length must equal indices.length")}(t,r,i),Array.isArray(r)||(r=[r]),r=r.map((function(e){return a.extendFlat({},e)})),k.cleanData(r),o=0;o<r.length;o++)t.data.push(r[o]);for(o=0;o<r.length;o++)l.push(-r.length+o);if(void 0===i)return s=n.redraw(t),u.add(t,c,d,f,p),s;Array.isArray(i)||(i=[i]);try{R(t,l,i)}catch(e){throw t.data.splice(t.data.length-r.length,r.length),e}return u.startSequence(t),u.add(t,c,d,f,p),s=n.moveTraces(t,l,i),u.stopSequence(t),s},n.deleteTraces=function e(t,r){t=a.getGraphDiv(t);var i,o,s=[],l=n.addTraces,c=e,f=[t,s,r],d=[t,r];if(void 0===r)throw new Error("indices must be an integer or array of integers.");for(Array.isArray(r)||(r=[r]),L(t,r,"indices"),(r=D(r,t.data.length-1)).sort(a.sorterDes),i=0;i<r.length;i+=1)o=t.data.splice(r[i],1)[0],s.push(o);var p=n.redraw(t);return u.add(t,l,f,c,d),p},n.extendTraces=function e(t,r,i,o){function s(e,t,n){var r,i;if(a.isTypedArray(e))if(n<0){var o=new e.constructor(0),s=N(e,t);n<0?(r=s,i=o):(r=o,i=s)}else if(r=new e.constructor(n),i=new e.constructor(e.length+t.length-n),n===t.length)r.set(t),i.set(e);else if(n<t.length){var l=t.length-n;r.set(t.subarray(l)),i.set(e),i.set(t.subarray(0,l),e.length)}else{var u=n-t.length,c=e.length-u;r.set(e.subarray(c)),r.set(t,u),i.set(e.subarray(0,c))}else r=e.concat(t),i=n>=0&&n<r.length?r.splice(0,r.length-n):[];return[r,i]}var l=I(t=a.getGraphDiv(t),r,i,o,s),c=n.redraw(t),f=[t,l.update,i,l.maxPoints];return u.add(t,n.prependTraces,f,e,arguments),c},n.moveTraces=function e(t,r,i){var o,s=[],l=[],c=e,f=e,d=[t=a.getGraphDiv(t),i,r],p=[t,r,i];if(R(t,r,i),r=Array.isArray(r)?r:[r],void 0===i)for(i=[],o=0;o<r.length;o++)i.push(-r.length+o);for(i=Array.isArray(i)?i:[i],r=D(r,t.data.length-1),i=D(i,t.data.length-1),o=0;o<t.data.length;o++)-1===r.indexOf(o)&&s.push(t.data[o]);for(o=0;o<r.length;o++)l.push({newIndex:i[o],trace:t.data[r[o]]});for(l.sort((function(e,t){return e.newIndex-t.newIndex})),o=0;o<l.length;o+=1)s.splice(l[o].newIndex,0,l[o].trace);t.data=s;var h=n.redraw(t);return u.add(t,c,d,f,p),h},n.prependTraces=function e(t,r,i,o){function s(e,t,n){var r,i;if(a.isTypedArray(e))if(n<=0){var o=new e.constructor(0),s=N(t,e);n<0?(r=s,i=o):(r=o,i=s)}else if(r=new e.constructor(n),i=new e.constructor(e.length+t.length-n),n===t.length)r.set(t),i.set(e);else if(n<t.length){var l=t.length-n;r.set(t.subarray(0,l)),i.set(t.subarray(l)),i.set(e,l)}else{var u=n-t.length;r.set(t),r.set(e.subarray(0,u),t.length),i.set(e.subarray(u))}else r=t.concat(e),i=n>=0&&n<r.length?r.splice(n,r.length):[];return[r,i]}var l=I(t=a.getGraphDiv(t),r,i,o,s),c=n.redraw(t),f=[t,l.update,i,l.maxPoints];return u.add(t,n.extendTraces,f,e,arguments),c},n.newPlot=function(e,t,r,i){return e=a.getGraphDiv(e),d.cleanPlot([],{},e._fullData||[],e._fullLayout||{}),d.purge(e),n.plot(e,t,r,i)},n.plot=function(e,t,i,o){var s;if(e=a.getGraphDiv(e),l.init(e),a.isPlainObject(t)){var u=t;t=u.data,i=u.layout,o=u.config,s=u.frames}if(!1===l.triggerHandler(e,"plotly_beforeplot",[t,i,o]))return Promise.reject();t||i||a.isPlotDiv(e)||a.warn("Calling Plotly.plot as if redrawing but this container doesn't yet have a plot.",e),P(e,o),i||(i={}),r.select(e).classed("js-plotly-plot",!0),g.makeTester(),Array.isArray(e._promises)||(e._promises=[]);var f=0===(e.data||[]).length&&Array.isArray(t);Array.isArray(t)&&(k.cleanData(t),f?e.data=t:e.data.push.apply(e.data,t),e.empty=!1),e.layout&&!f||(e.layout=k.cleanLayout(i)),d.supplyDefaults(e);var m=e._fullLayout,v=m._has("cartesian");if(!m._has("polar")&&t&&t[0]&&t[0].r)return a.log("Legacy polar charts are deprecated!"),function(e,t,n){var i=r.select(e).selectAll(".plot-container").data([0]);i.enter().insert("div",":first-child").classed("plot-container plotly",!0);var o=i.selectAll(".svg-container").data([0]);o.enter().append("div").classed("svg-container",!0).style("position","relative"),o.html(""),t&&(e.data=t),n&&(e.layout=n),p.manager.fillLayout(e),o.style({width:e._fullLayout.width+"px",height:e._fullLayout.height+"px"}),e.framework=p.manager.framework(e),e.framework({data:e.data,layout:e.layout},o.node()),e.framework.setUndoPoint();var s=e.framework.svg(),l=1,u=e._fullLayout.title?e._fullLayout.title.text:"";""!==u&&u||(l=0);var c=function(){this.call(b.convertToTspans,e)},f=s.select(".title-group text").call(c);if(e._context.edits.titleText){var h=a._(e,"Click to enter Plot title");u&&u!==h||(l=.2,f.attr({"data-unformatted":h}).text(h).style({opacity:l}).on("mouseover.opacity",(function(){r.select(this).transition().duration(100).style("opacity",1)})).on("mouseout.opacity",(function(){r.select(this).transition().duration(1e3).style("opacity",0)})));var g=function(){this.call(b.makeEditable,{gd:e}).on("edit",(function(t){e.framework({layout:{title:{text:t}}}),this.text(t).call(c),this.call(g)})).on("cancel",(function(){var e=this.attr("data-unformatted");this.text(e).call(c)}))};f.call(g)}return e._context.setBackground(e,e._fullLayout.paper_bgcolor),d.addLinks(e),Promise.resolve()}(e,t,i);m._replotting=!0,(f||m._shouldCreateBgLayer)&&(le(e),m._shouldCreateBgLayer&&delete m._shouldCreateBgLayer),e.framework!==le&&(e.framework=le,le(e)),g.initGradients(e),f&&h.saveShowSpikeInitial(e);var x=!e.calcdata||e.calcdata.length!==(e._fullData||[]).length;x&&d.doCalcdata(e);for(var _=0;_<e.calcdata.length;_++)e.calcdata[_][0].trace=e._fullData[_];e._context.responsive?e._responsiveChartHandler||(e._responsiveChartHandler=function(){a.isHidden(e)||d.resize(e)},window.addEventListener("resize",e._responsiveChartHandler)):a.clearResponsive(e);var w=a.extendFlat({},m._size),C=0;function O(){if(d.clearAutoMarginIds(e),T.drawMarginPushers(e),h.allowAutoMargin(e),m._has("pie"))for(var t=e._fullData,n=0;n<t.length;n++){var r=t[n];"pie"===r.type&&r.automargin&&d.allowAutoMargin(e,"pie."+r.uid+".automargin")}return d.doAutoMargin(e),d.previousPromises(e)}function S(){e._transitioning||(T.doAutoRangeAndConstraints(e),f&&h.saveRangeInitial(e),c.getComponentMethod("rangeslider","calcAutorange")(e))}var M=[d.previousPromises,function(){if(s)return n.addFrames(e,s)},function t(){for(var n=m._basePlotModules,r=0;r<n.length;r++)n[r].drawFramework&&n[r].drawFramework(e);if(!m._glcanvas&&m._has("gl")&&(m._glcanvas=m._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],(function(e){return e.key})),m._glcanvas.enter().append("canvas").attr("class",(function(e){return"gl-canvas gl-canvas-"+e.key.replace("Layer","")})).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"})),m._glcanvas){m._glcanvas.attr("width",m.width).attr("height",m.height);var i=m._glcanvas.data()[0].regl;if(i&&(Math.floor(m.width)!==i._gl.drawingBufferWidth||Math.floor(m.height)!==i._gl.drawingBufferHeight)){var o="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(!C)return a.log(o+" Clearing graph and plotting again."),d.cleanPlot([],{},e._fullData,m),d.supplyDefaults(e),m=e._fullLayout,d.doCalcdata(e),C++,t();a.error(o)}}return"h"===m.modebar.orientation?m._modebardiv.style("height",null).style("width","100%"):m._modebardiv.style("width",null).style("height",m.height+"px"),d.previousPromises(e)},O,function(){if(d.didMarginChange(w,m._size))return a.syncOrAsync([O,T.layoutStyles],e)}];v&&M.push((function(){if(x)return a.syncOrAsync([c.getComponentMethod("shapes","calcAutorange"),c.getComponentMethod("annotations","calcAutorange"),S],e);S()})),M.push(T.layoutStyles),v&&M.push((function(){return h.draw(e,f?"":"redraw")})),M.push(T.drawData,T.finalDraw,y,d.addLinks,d.rehover,d.redrag,d.doAutoMargin,d.previousPromises);var E=a.syncOrAsync(M,e);return E&&E.then||(E=Promise.resolve()),E.then((function(){return A(e),e}))},n.purge=function(e){var t=(e=a.getGraphDiv(e))._fullLayout||{},n=e._fullData||[];return d.cleanPlot([],{},n,t),d.purge(e),l.purge(e),t._container&&t._container.remove(),delete e._context,e},n.react=function(e,t,r,i){var o,l;e=a.getGraphDiv(e),k.clearPromiseQueue(e);var u=e._fullData,p=e._fullLayout;if(a.isPlotDiv(e)&&u&&p){if(a.isPlainObject(t)){var h=t;t=h.data,r=h.layout,i=h.config,o=h.frames}var g=!1;if(i){var m=a.extendDeep({},e._context);e._context=void 0,P(e,i),g=se(m,e._context)}e.data=t||[],k.cleanData(e.data),e.layout=r||{},k.cleanLayout(e.layout),function(e,t,n,r){var i,o,l,u,c,f,d,p,h=r._preGUI,g=[],m={};for(i in h){if(c=te(i,Q)){if(o=c.attr||c.head+".uirevision",(u=(l=s(r,o).get())&&ne(o,t))&&u===l&&(null===(f=h[i])&&(f=void 0),oe(p=(d=s(t,i)).get(),f))){void 0===p&&"autorange"===i.substr(i.length-9)&&g.push(i.substr(0,i.length-10)),d.set(z(s(r,i).get()));continue}}else a.warn("unrecognized GUI edit: "+i);delete h[i],"range["===i.substr(i.length-8,6)&&(m[i.substr(0,i.length-9)]=1)}for(var y=0;y<g.length;y++){var v=g[y];if(m[v]){var b=s(t,v).get();b&&delete b.autorange}}var x=r._tracePreGUI;for(var _ in x){var w,k=x[_],T=null;for(i in k){if(!T){var C=re(_,n);if(C<0){delete x[_];break}var O=ie(_,e,(w=n[C]._fullInput).index);if(O<0){delete x[_];break}T=e[O]}if(c=te(i,ee)){if(c.attr?u=(l=s(r,c.attr).get())&&ne(c.attr,t):(l=w.uirevision,void 0===(u=T.uirevision)&&(u=t.uirevision)),u&&u===l&&(null===(f=k[i])&&(f=void 0),oe(p=(d=s(T,i)).get(),f))){d.set(z(s(w,i).get()));continue}}else a.warn("unrecognized GUI edit: "+i+" in trace uid "+_);delete k[i]}}}(e.data,e.layout,u,p);for(var y=Object.getOwnPropertyNames(p),v=0;v<y.length;v++){var b=y[v],x=b.substring(0,5);if("xaxis"===x||"yaxis"===x){var _=p[b]._emptyCategories;_&&_()}}d.supplyDefaults(e,{skipUpdateCalc:!0});var w=e._fullData,O=e._fullLayout,S=void 0===O.datarevision,M=O.transition,E=function(e,t,n,r,i){var o=C.layoutFlags();function a(e){return f.getLayoutValObject(n,e)}return o.arrays={},o.rangesAltered={},o.nChanges=0,o.nChangesAnim=0,ae(t,n,[],{getValObject:a,flags:o,immutable:r,transition:i,gd:e}),(o.plot||o.calc)&&(o.layoutReplot=!0),i&&o.nChanges&&o.nChangesAnim&&(o.anim=o.nChanges===o.nChangesAnim?"all":"some"),o}(e,p,O,S,M),D=E.newDataRevision,L=function(e,t,n,r,i,o){var a=t.length===n.length;if(!i&&!a)return{fullReplot:!0,calc:!0};var s,l,u=C.traceFlags();function c(e){var t=f.getTraceValObject(l,e);return!l._module.animatable&&t.anim&&(t.anim=!1),t}u.arrays={},u.nChanges=0,u.nChangesAnim=0;var p={getValObject:c,flags:u,immutable:r,transition:i,newDataRevision:o,gd:e},h={};for(s=0;s<t.length;s++)if(n[s]){if(l=n[s]._fullInput,d.hasMakesDataTransform(l)&&(l=n[s]),h[l.uid])continue;h[l.uid]=1,ae(t[s]._fullInput,l,[],p)}return(u.calc||u.plot)&&(u.fullReplot=!0),i&&u.nChanges&&u.nChangesAnim&&(u.anim=u.nChanges===u.nChangesAnim&&a?"all":"some"),u}(e,u,w,S,M,D);X(e)&&(E.layoutReplot=!0),L.calc||E.calc?e.calcdata=void 0:d.supplyDefaultsUpdateCalc(e.calcdata,w);var R=[];if(o&&(e._transitionData={},d.createTransitionData(e),R.push((function(){return n.addFrames(e,o)}))),O.transition&&!g&&(L.anim||E.anim))E.ticks&&R.push(T.doTicksRelayout),d.doCalcdata(e),T.doAutoRangeAndConstraints(e),R.push((function(){return d.transitionFromReact(e,L,E,p)}));else if(L.fullReplot||E.layoutReplot||g)e._fullLayout._skipDefaults=!0,R.push(n.plot);else{for(var I in E.arrays){var N=E.arrays[I];if(N.length){var j=c.getComponentMethod(I,"drawOne");if(j!==a.noop)for(var q=0;q<N.length;q++)j(e,N[q]);else{var F=c.getComponentMethod(I,"draw");if(F===a.noop)throw new Error("cannot draw components: "+I);F(e)}}}R.push(d.previousPromises),L.style&&R.push(T.doTraceStyle),(L.colorbars||E.colorbars)&&R.push(T.doColorBars),E.legend&&R.push(T.doLegend),E.layoutstyle&&R.push(T.layoutStyles),E.axrange&&W(R),E.ticks&&R.push(T.doTicksRelayout),E.modebar&&R.push(T.doModeBar),E.camera&&R.push(T.doCamera),R.push(A)}R.push(d.rehover,d.redrag),(l=a.syncOrAsync(R,e))&&l.then||(l=Promise.resolve(e))}else l=n.newPlot(e,t,r,i);return l.then((function(){return e.emit("plotly_react",{data:t,layout:r}),e}))},n.redraw=function(e){if(e=a.getGraphDiv(e),!a.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e);return k.cleanData(e.data),k.cleanLayout(e.layout),e.calcdata=void 0,n.plot(e).then((function(){return e.emit("plotly_redraw"),e}))},n.relayout=U,n.restyle=j,n.setPlotConfig=function(e){return a.extendFlat(_,e)},n.update=$,n._guiRelayout=J(U),n._guiRestyle=J(j),n._guiUpdate=J($),n._storeDirectGUIEdit=function(e,t,n){for(var r in n)F(r,s(e,r).get(),n[r],t)}},{"../components/color":75,"../components/drawing":97,"../constants/xmlns_namespaces":183,"../lib":203,"../lib/events":196,"../lib/queue":217,"../lib/svg_text_utils":224,"../plots/cartesian/axes":248,"../plots/cartesian/constants":254,"../plots/cartesian/graph_interact":257,"../plots/cartesian/select":267,"../plots/plots":282,"../plots/polar/legacy":285,"../registry":295,"./edit_types":230,"./helpers":231,"./manage_arrays":233,"./plot_config":235,"./plot_schema":236,"./subroutines":238,d3:21,"fast-isnumeric":23,"has-hover":25}],235:[function(e,t,n){"use strict";var r={staticPlot:{valType:"boolean",dflt:!1},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},i={};(function e(t,n){for(var r in t){var i=t[r];i.valType?n[r]=i.dflt:(n[r]||(n[r]={}),e(i,n[r]))}})(r,i),t.exports={configAttributes:r,dfltConfig:i}},{}],236:[function(e,t,n){"use strict";var r=e("../registry"),i=e("../lib"),o=e("../plots/attributes"),a=e("../plots/layout_attributes"),s=e("../plots/frame_attributes"),l=e("../plots/animation_attributes"),u=e("./plot_config").configAttributes,c=e("../plots/polar/legacy/area_attributes"),f=e("../plots/polar/legacy/axis_attributes"),d=e("./edit_types"),p=i.extendFlat,h=i.extendDeepAll,g=i.isPlainObject,m=i.isArrayOrTypedArray,y=i.nestedProperty,v=i.valObjectMeta,b="_isSubplotObj",x="_isLinkedToArray",_="_deprecated",w=[b,x,"_arrayAttrRegexps",_];function k(e,t,n){if(!e)return!1;if(e._isLinkedToArray)if(T(t[n]))n++;else if(n<t.length)return!1;for(;n<t.length;n++){var r=e[t[n]];if(!g(r))break;if(e=r,n===t.length-1)break;if(e._isLinkedToArray){if(!T(t[++n]))return!1}else if("info_array"===e.valType){var i=t[++n];if(!T(i))return!1;var o=e.items;if(Array.isArray(o)){if(i>=o.length)return!1;if(2===e.dimensions){if(n++,t.length===n)return e;var a=t[n];if(!T(a))return!1;e=o[i][a]}else e=o[i]}else e=o}}return e}function T(e){return e===Math.round(e)&&e>=0}function C(){var e,t,n={};for(e in h(n,a),r.subplotsRegistry)if((t=r.subplotsRegistry[e]).layoutAttributes)if(Array.isArray(t.attr))for(var i=0;i<t.attr.length;i++)S(n,t,t.attr[i]);else S(n,t,"subplot"===t.attr?t.name:t.attr);for(e in n=function(e){return p(e,{radialaxis:f.radialaxis,angularaxis:f.angularaxis}),p(e,f.layout),e}(n),r.componentsRegistry){var o=(t=r.componentsRegistry[e]).schema;if(o&&(o.subplots||o.layout)){var s=o.subplots;if(s&&s.xaxis&&!s.yaxis)for(var l in s.xaxis)delete n.yaxis[l]}else"colorscale"===t.name?h(n,t.layoutAttributes):t.layoutAttributes&&A(n,t.layoutAttributes,t.name)}return{layoutAttributes:O(n)}}function O(e){return function(e){function t(e){return{valType:"string",editType:"none"}}function r(e,r,i){n.isValObject(e)?"data_array"===e.valType?(e.role="data",i[r+"src"]=t(r)):!0===e.arrayOk&&(i[r+"src"]=t(r)):g(e)&&(e.role="object")}n.crawl(e,r)}(e),function(e){function t(e,t,n){if(e){var r=e._isLinkedToArray;r&&(delete e._isLinkedToArray,n[t]={items:{}},n[t].items[r]=e,n[t].role="object")}}n.crawl(e,t)}(e),function(e){function t(e){for(var n in e)if(g(e[n]))t(e[n]);else if(Array.isArray(e[n]))for(var r=0;r<e[n].length;r++)t(e[n][r]);else e[n]instanceof RegExp&&(e[n]=e[n].toString())}t(e)}(e),e}function S(e,t,n){var r=y(e,n),i=h({},t.layoutAttributes);i._isSubplotObj=!0,r.set(i)}function A(e,t,n){var r=y(e,n);r.set(h(r.get()||{},t))}n.IS_SUBPLOT_OBJ=b,n.IS_LINKED_TO_ARRAY=x,n.DEPRECATED=_,n.UNDERSCORE_ATTRS=w,n.get=function(){var e={};r.allTypes.concat("area").forEach((function(t){e[t]=function(e){var t,i;"area"===e?(t={attributes:c},i={}):i=(t=r.modules[e]._module).basePlotModule;var a={type:null},s=h({},o),l=h({},t.attributes);n.crawl(l,(function(e,t,n,r,i){y(s,i).set(void 0),void 0===e&&y(l,i).set(void 0)})),h(a,s),r.traceIs(e,"noOpacity")&&delete a.opacity,r.traceIs(e,"showLegend")||(delete a.showlegend,delete a.legendgroup),r.traceIs(e,"noHover")&&(delete a.hoverinfo,delete a.hoverlabel),t.selectPoints||delete a.selectedpoints,h(a,l),i.attributes&&h(a,i.attributes),a.type=e;var u={meta:t.meta||{},categories:t.categories||{},animatable:Boolean(t.animatable),type:e,attributes:O(a)};if(t.layoutAttributes){var f={};h(f,t.layoutAttributes),u.layoutAttributes=O(f)}return t.animatable||n.crawl(u,(function(e){n.isValObject(e)&&"anim"in e&&delete e.anim})),u}(t)}));var t,i={};return Object.keys(r.transformsRegistry).forEach((function(e){i[e]=function(e){var t=r.transformsRegistry[e],n=h({},t.attributes);return Object.keys(r.componentsRegistry).forEach((function(t){var i=r.componentsRegistry[t];i.schema&&i.schema.transforms&&i.schema.transforms[e]&&Object.keys(i.schema.transforms[e]).forEach((function(t){A(n,i.schema.transforms[e][t],t)}))})),{attributes:O(n)}}(e)})),{defs:{valObjects:v,metaKeys:w.concat(["description","role","editType","impliedEdits"]),editType:{traces:d.traces,layout:d.layout},impliedEdits:{}},traces:e,layout:C(),transforms:i,frames:(t={frames:h({},s)},O(t),t.frames),animation:O(l),config:O(u)}},n.crawl=function(e,t,r,i){var o=r||0;i=i||"",Object.keys(e).forEach((function(r){var a=e[r];if(-1===w.indexOf(r)){var s=(i?i+".":"")+r;t(a,r,e,o,s),n.isValObject(a)||g(a)&&"impliedEdits"!==r&&n.crawl(a,t,o+1,s)}}))},n.isValObject=function(e){return e&&void 0!==e.valType},n.findArrayAttributes=function(e){var t,r,i=[],a=[],s=[];function l(e,n,r,i){a=a.slice(0,i).concat([n]),s=s.slice(0,i).concat([e&&e._isLinkedToArray]),e&&("data_array"===e.valType||!0===e.arrayOk)&&("colorbar"!==a[i-1]||"ticktext"!==n&&"tickvals"!==n)&&u(t,0,"")}function u(e,t,n){var o=e[a[t]],l=n+a[t];if(t===a.length-1)m(o)&&i.push(r+l);else if(s[t]){if(Array.isArray(o))for(var c=0;c<o.length;c++)g(o[c])&&u(o[c],t+1,l+"["+c+"].")}else g(o)&&u(o,t+1,l+".")}t=e,r="",n.crawl(o,l),e._module&&e._module.attributes&&n.crawl(e._module.attributes,l);var c=e.transforms;if(c)for(var f=0;f<c.length;f++){var d=c[f],p=d._module;p&&(r="transforms["+f+"].",t=d,n.crawl(p.attributes,l))}return i},n.getTraceValObject=function(e,t){var n,i,a=t[0],s=1;if("transforms"===a){if(1===t.length)return o.transforms;var l=e.transforms;if(!Array.isArray(l)||!l.length)return!1;var u=t[1];if(!T(u)||u>=l.length)return!1;i=(n=(r.transformsRegistry[l[u].type]||{}).attributes)&&n[t[2]],s=3}else if("area"===e.type)i=c[a];else{var f=e._module;if(f||(f=(r.modules[e.type||o.type.dflt]||{})._module),!f)return!1;if(!(i=(n=f.attributes)&&n[a])){var d=f.basePlotModule;d&&d.attributes&&(i=d.attributes[a])}i||(i=o[a])}return k(i,t,s)},n.getLayoutValObject=function(e,t){return k(function(e,t){var n,i,o,s,l=e._basePlotModules;if(l){var u;for(n=0;n<l.length;n++){if((o=l[n]).attrRegex&&o.attrRegex.test(t)){if(o.layoutAttrOverrides)return o.layoutAttrOverrides;!u&&o.layoutAttributes&&(u=o.layoutAttributes)}var c=o.baseLayoutAttrOverrides;if(c&&t in c)return c[t]}if(u)return u}var d=e._modules;if(d)for(n=0;n<d.length;n++)if((s=d[n].layoutAttributes)&&t in s)return s[t];for(i in r.componentsRegistry){if("colorscale"===(o=r.componentsRegistry[i]).name&&0===t.indexOf("coloraxis"))return o.layoutAttributes[t];if(!o.schema&&t===o.name)return o.layoutAttributes}return t in a?a[t]:"radialaxis"===t||"angularaxis"===t?f[t]:f.layout[t]||!1}(e,t[0]),t,1)}},{"../lib":203,"../plots/animation_attributes":242,"../plots/attributes":244,"../plots/frame_attributes":277,"../plots/layout_attributes":280,"../plots/polar/legacy/area_attributes":283,"../plots/polar/legacy/axis_attributes":284,"../registry":295,"./edit_types":230,"./plot_config":235}],237:[function(e,t,n){"use strict";var r=e("../lib"),i=e("../plots/attributes"),o={name:{valType:"string",editType:"none"}};function a(e){return e&&"string"==typeof e}function s(e){var t=e.length-1;return"s"!==e.charAt(t)&&r.warn("bad argument to arrayDefaultKey: "+e),e.substr(0,e.length-1)+"defaults"}o.templateitemname={valType:"string",editType:"calc"},n.templatedArray=function(e,t){return t._isLinkedToArray=e,t.name=o.name,t.templateitemname=o.templateitemname,t},n.traceTemplater=function(e){var t,n,o={};for(t in e)n=e[t],Array.isArray(n)&&n.length&&(o[t]=0);return{newTrace:function(a){var s={type:t=r.coerce(a,{},i,"type"),_template:null};if(t in o){n=e[t];var l=o[t]%n.length;o[t]++,s._template=n[l]}return s}}},n.newContainer=function(e,t,n){var i=e._template,o=i&&(i[t]||n&&i[n]);return r.isPlainObject(o)||(o=null),e[t]={_template:o}},n.arrayTemplater=function(e,t,n){var r=e._template,i=r&&r[s(t)],o=r&&r[t];Array.isArray(o)&&o.length||(o=[]);var l={};return{newItem:function(e){var t={name:e.name,_input:e},r=t.templateitemname=e.templateitemname;if(!a(r))return t._template=i,t;for(var s=0;s<o.length;s++){var u=o[s];if(u.name===r)return l[r]=1,t._template=u,t}return t[n]=e[n]||!1,t._template=!1,t},defaultItems:function(){for(var e=[],t=0;t<o.length;t++){var n=o[t],r=n.name;if(a(r)&&!l[r]){var i={_template:n,name:r,_input:{_templateitemname:r}};i.templateitemname=n.templateitemname,e.push(i),l[r]=1}}return e}}},n.arrayDefaultKey=s,n.arrayEditor=function(e,t,n){var i=(r.nestedProperty(e,t).get()||[]).length,o=n._index,a=o>=i&&(n._input||{})._templateitemname;a&&(o=i);var s,l=t+"["+o+"]";function u(){s={},a&&(s[l]={},s[l].templateitemname=a)}function c(e,t){a?r.nestedProperty(s[l],e).set(t):s[l+"."+e]=t}function f(){var e=s;return u(),e}return u(),{modifyBase:function(e,t){s[e]=t},modifyItem:c,getUpdateObj:f,applyUpdate:function(t,n){t&&c(t,n);var i=f();for(var o in i)r.nestedProperty(e,o).set(i[o])}}}},{"../lib":203,"../plots/attributes":244}],238:[function(e,t,n){"use strict";var r=e("d3"),i=e("../registry"),o=e("../plots/plots"),a=e("../lib"),s=e("../lib/clear_gl_canvases"),l=e("../components/color"),u=e("../components/drawing"),c=e("../components/titles"),f=e("../components/modebar"),d=e("../plots/cartesian/axes"),p=e("../constants/alignment"),h=e("../plots/cartesian/constraints"),g=h.enforce,m=h.clean,y=e("../plots/cartesian/autorange").doAutoRange,v="start";function b(e,t,n){for(var r=0;r<n.length;r++){var i=n[r][0],o=n[r][1];if(!(i[0]>=e[1]||i[1]<=e[0])&&o[0]<t[1]&&o[1]>t[0])return!0}return!1}function x(e){var t,i,s,c,h,g,m=e._fullLayout,y=m._size,v=y.p,x=d.list(e,"",!0);if(m._paperdiv.style({width:e._context.responsive&&m.autosize&&!e._context._hasZeroWidth&&!e.layout.width?"100%":m.width+"px",height:e._context.responsive&&m.autosize&&!e._context._hasZeroHeight&&!e.layout.height?"100%":m.height+"px"}).selectAll(".main-svg").call(u.setSize,m.width,m.height),e._context.setBackground(e,m.paper_bgcolor),n.drawMainTitle(e),f.manage(e),!m._has("cartesian"))return o.previousPromises(e);function w(e,t,n){var r=e._lw/2;return"x"===e._id.charAt(0)?t?"top"===n?t._offset-v-r:t._offset+t._length+v+r:y.t+y.h*(1-(e.position||0))+r%1:t?"right"===n?t._offset+t._length+v+r:t._offset-v-r:y.l+y.w*(e.position||0)+r%1}for(t=0;t<x.length;t++){var T=(c=x[t])._anchorAxis;c._linepositions={},c._lw=u.crispRound(e,c.linewidth,1),c._mainLinePosition=w(c,T,c.side),c._mainMirrorPosition=c.mirror&&T?w(c,T,p.OPPOSITE_SIDE[c.side]):null}var C=[],O=[],S=[],A=1===l.opacity(m.paper_bgcolor)&&1===l.opacity(m.plot_bgcolor)&&m.paper_bgcolor===m.plot_bgcolor;for(i in m._plots)if((s=m._plots[i]).mainplot)s.bg&&s.bg.remove(),s.bg=void 0;else{var M=s.xaxis.domain,E=s.yaxis.domain,P=s.plotgroup;if(b(M,E,S)){var D=P.node(),L=s.bg=a.ensureSingle(P,"rect","bg");D.insertBefore(L.node(),D.childNodes[0]),O.push(i)}else P.select("rect.bg").remove(),S.push([M,E]),A||(C.push(i),O.push(i))}var R,I,N,j,z,q,F,B,H,U,V,W,G,K=m._bgLayer.selectAll(".bg").data(C);for(K.enter().append("rect").classed("bg",!0),K.exit().remove(),K.each((function(e){m._plots[e].bg=r.select(this)})),t=0;t<O.length;t++)s=m._plots[O[t]],h=s.xaxis,g=s.yaxis,s.bg&&s.bg.call(u.setRect,h._offset-v,g._offset-v,h._length+2*v,g._length+2*v).call(l.fill,m.plot_bgcolor).style("stroke-width",0);if(!m._hasOnlyLargeSploms)for(i in m._plots){s=m._plots[i],h=s.xaxis,g=s.yaxis;var Y,Z,X=s.clipId="clip"+m._uid+i+"plot",$=a.ensureSingleById(m._clips,"clipPath",X,(function(e){e.classed("plotclip",!0).append("rect")}));s.clipRect=$.select("rect").attr({width:h._length,height:g._length}),u.setTranslate(s.plot,h._offset,g._offset),s._hasClipOnAxisFalse?(Y=null,Z=X):(Y=X,Z=null),u.setClipUrl(s.plot,Y,e),s.layerClipId=Z}function J(e){return"M"+R+","+e+"H"+I}function Q(e){return"M"+h._offset+","+e+"h"+h._length}function ee(e){return"M"+e+","+B+"V"+F}function te(e){return"M"+e+","+g._offset+"v"+g._length}function ne(e,t,n){if(!e.showline||i!==e._mainSubplot)return"";if(!e._anchorAxis)return n(e._mainLinePosition);var r=t(e._mainLinePosition);return e.mirror&&(r+=t(e._mainMirrorPosition)),r}for(i in m._plots){s=m._plots[i],h=s.xaxis,g=s.yaxis;var re="M0,0";_(h,i)&&(z=k(h,"left",g,x),R=h._offset-(z?v+z:0),q=k(h,"right",g,x),I=h._offset+h._length+(q?v+q:0),N=w(h,g,"bottom"),j=w(h,g,"top"),!(G=!h._anchorAxis||i!==h._mainSubplot)||"allticks"!==h.mirror&&"all"!==h.mirror||(h._linepositions[i]=[N,j]),re=ne(h,J,Q),G&&h.showline&&("all"===h.mirror||"allticks"===h.mirror)&&(re+=J(N)+J(j)),s.xlines.style("stroke-width",h._lw+"px").call(l.stroke,h.showline?h.linecolor:"rgba(0,0,0,0)")),s.xlines.attr("d",re);var ie="M0,0";_(g,i)&&(V=k(g,"bottom",h,x),F=g._offset+g._length+(V?v:0),W=k(g,"top",h,x),B=g._offset-(W?v:0),H=w(g,h,"left"),U=w(g,h,"right"),!(G=!g._anchorAxis||i!==g._mainSubplot)||"allticks"!==g.mirror&&"all"!==g.mirror||(g._linepositions[i]=[H,U]),ie=ne(g,ee,te),G&&g.showline&&("all"===g.mirror||"allticks"===g.mirror)&&(ie+=ee(H)+ee(U)),s.ylines.style("stroke-width",g._lw+"px").call(l.stroke,g.showline?g.linecolor:"rgba(0,0,0,0)")),s.ylines.attr("d",ie)}return d.makeClipPaths(e),o.previousPromises(e)}function _(e,t){return(e.ticks||e.showline)&&(t===e._mainSubplot||"all"===e.mirror||"allticks"===e.mirror)}function w(e,t,n){if(!n.showline||!n._lw)return!1;if("all"===n.mirror||"allticks"===n.mirror)return!0;var r=n._anchorAxis;if(!r)return!1;var i=p.FROM_BL[t];return n.side===t?r.domain[i]===e.domain[i]:n.mirror&&r.domain[1-i]===e.domain[1-i]}function k(e,t,n,r){if(w(e,t,n))return n._lw;for(var i=0;i<r.length;i++){var o=r[i];if(o._mainAxis===n._mainAxis&&w(e,t,o))return o._lw}return 0}function T(e,t){var n=e.title,r=e._size,i=0;switch(t===v?i=n.pad.l:"end"===t&&(i=-n.pad.r),n.xref){case"paper":return r.l+r.w*n.x+i;case"container":default:return e.width*n.x+i}}function C(e,t){var n=e.title,r=e._size,i=0;if("0em"!==t&&t?t===p.CAP_SHIFT+"em"&&(i=n.pad.t):i=-n.pad.b,"auto"===n.y)return r.t/2;switch(n.yref){case"paper":return r.t+r.h-r.h*n.y+i;case"container":default:return e.height-e.height*n.y+i}}n.layoutStyles=function(e){return a.syncOrAsync([o.doAutoMargin,x],e)},n.drawMainTitle=function(e){var t=e._fullLayout,n=function(e){var t=e.title,n="middle";return a.isRightAnchor(t)?n="end":a.isLeftAnchor(t)&&(n=v),n}(t),r=function(e){var t=e.title,n="0em";return a.isTopAnchor(t)?n=p.CAP_SHIFT+"em":a.isMiddleAnchor(t)&&(n=p.MID_SHIFT+"em"),n}(t);c.draw(e,"gtitle",{propContainer:t,propName:"title.text",placeholder:t._dfltTitle.plot,attributes:{x:T(t,n),y:C(t,r),"text-anchor":n,dy:r}})},n.doTraceStyle=function(e){var t,r=e.calcdata,a=[];for(t=0;t<r.length;t++){var l=r[t],u=l[0]||{},c=u.trace||{},f=c._module||{},d=f.arraysToCalcdata;d&&d(l,c);var p=f.editStyle;p&&a.push({fn:p,cd0:u})}if(a.length){for(t=0;t<a.length;t++){var h=a[t];h.fn(e,h.cd0)}s(e),n.redrawReglTraces(e)}return o.style(e),i.getComponentMethod("legend","draw")(e),o.previousPromises(e)},n.doColorBars=function(e){return i.getComponentMethod("colorbar","draw")(e),o.previousPromises(e)},n.layoutReplot=function(e){var t=e.layout;return e.layout=void 0,i.call("plot",e,"",t)},n.doLegend=function(e){return i.getComponentMethod("legend","draw")(e),o.previousPromises(e)},n.doTicksRelayout=function(e){return d.draw(e,"redraw"),e._fullLayout._hasOnlyLargeSploms&&(i.subplotsRegistry.splom.updateGrid(e),s(e),n.redrawReglTraces(e)),n.drawMainTitle(e),o.previousPromises(e)},n.doModeBar=function(e){var t=e._fullLayout;f.manage(e);for(var n=0;n<t._basePlotModules.length;n++){var r=t._basePlotModules[n].updateFx;r&&r(e)}return o.previousPromises(e)},n.doCamera=function(e){for(var t=e._fullLayout,n=t._subplots.gl3d,r=0;r<n.length;r++){var i=t[n[r]];i._scene.setViewport(i)}},n.drawData=function(e){var t=e._fullLayout;s(e);for(var r=t._basePlotModules,a=0;a<r.length;a++)r[a].plot(e);return n.redrawReglTraces(e),o.style(e),i.getComponentMethod("shapes","draw")(e),i.getComponentMethod("annotations","draw")(e),i.getComponentMethod("images","draw")(e),t._replotting=!1,o.previousPromises(e)},n.redrawReglTraces=function(e){var t=e._fullLayout;if(t._has("regl")){var n,r,i=e._fullData,o=[],s=[];for(t._hasOnlyLargeSploms&&t._splomGrid.draw(),n=0;n<i.length;n++){var l=i[n];!0===l.visible&&0!==l._length&&("splom"===l.type?t._splomScenes[l.uid].draw():"scattergl"===l.type?a.pushUnique(o,l.xaxis+l.yaxis):"scatterpolargl"===l.type&&a.pushUnique(s,l.subplot))}for(n=0;n<o.length;n++)(r=t._plots[o[n]])._scene&&r._scene.draw();for(n=0;n<s.length;n++)(r=t[s[n]]._subplot)._scene&&r._scene.draw()}},n.doAutoRangeAndConstraints=function(e){for(var t,n,r=e._fullLayout,i=d.list(e,"",!0),o=r._axisMatchGroups||[],s={},l=0;l<i.length;l++)t=i[l],m(e,t),y(e,t),s[t._id]=1;g(e);e:for(var u=0;u<o.length;u++){var c,f=o[u],p=null;for(c in f)if(s[(t=d.getFromId(e,c))._id]){if(!1===t.autorange)continue e;n=a.simpleMap(t.range,t.r2l),p?p[0]<p[1]?(p[0]=Math.min(p[0],n[0]),p[1]=Math.max(p[1],n[1])):(p[0]=Math.max(p[0],n[0]),p[1]=Math.min(p[1],n[1])):p=n}for(c in f)(t=d.getFromId(e,c)).range=a.simpleMap(p,t.l2r),t._input.range=t.range.slice(),t.setScale()}},n.finalDraw=function(e){i.getComponentMethod("rangeslider","draw")(e),i.getComponentMethod("rangeselector","draw")(e)},n.drawMarginPushers=function(e){i.getComponentMethod("legend","draw")(e),i.getComponentMethod("rangeselector","draw")(e),i.getComponentMethod("sliders","draw")(e),i.getComponentMethod("updatemenus","draw")(e),i.getComponentMethod("colorbar","draw")(e)}},{"../components/color":75,"../components/drawing":97,"../components/modebar":135,"../components/titles":170,"../constants/alignment":177,"../lib":203,"../lib/clear_gl_canvases":191,"../plots/cartesian/autorange":247,"../plots/cartesian/axes":248,"../plots/cartesian/constraints":255,"../plots/plots":282,"../registry":295,d3:21}],239:[function(e,t,n){"use strict";var r=e("../lib"),i=r.isPlainObject,o=e("./plot_schema"),a=e("../plots/plots"),s=e("../plots/attributes"),l=e("./plot_template"),u=e("./plot_config").dfltConfig;function c(e,t){e=r.extendDeep({},e);var n,o,a=Object.keys(e).sort();function s(t,n,r){if(i(n)&&i(t))c(t,n);else if(Array.isArray(n)&&Array.isArray(t)){var a=l.arrayTemplater({_template:e},r);for(o=0;o<n.length;o++){var s=n[o],u=a.newItem(s)._template;u&&c(u,s)}var f=a.defaultItems();for(o=0;o<f.length;o++)n.push(f[o]._template);for(o=0;o<n.length;o++)delete n[o].templateitemname}}for(n=0;n<a.length;n++){var u=a[n],d=e[u];if(u in t?s(d,t[u],u):t[u]=d,f(u)===u)for(var p in t){var h=f(p);p===h||h!==u||p in e||s(d,t[p],u)}}}function f(e){return e.replace(/[0-9]+$/,"")}function d(e,t,n,o,a){var s=a&&n(a);for(var u in e){var c=e[u],p=g(e,u,o),h=g(e,u,a),m=n(h);if(!m){var y=f(u);y!==u&&(m=n(h=g(e,y,a)))}if(!(s&&s===m||!m||m._noTemplating||"data_array"===m.valType||m.arrayOk&&Array.isArray(c)))if(!m.valType&&i(c))d(c,t,n,p,h);else if(m._isLinkedToArray&&Array.isArray(c))for(var v=!1,b=0,x={},_=0;_<c.length;_++){var w=c[_];if(i(w)){var k=w.name;if(k)x[k]||(d(w,t,n,g(c,b,p),g(c,b,h)),b++,x[k]=1);else if(!v){var T=g(e,l.arrayDefaultKey(u),o),C=g(c,b,p);d(w,t,n,C,g(c,b,h));var O=r.nestedProperty(t,C);r.nestedProperty(t,T).set(O.get()),O.set(null),v=!0}}}else r.nestedProperty(t,p).set(c)}}function p(e,t){return o.getLayoutValObject(e,r.nestedProperty({},t).parts)}function h(e,t){return o.getTraceValObject(e,r.nestedProperty({},t).parts)}function g(e,t,n){return n?Array.isArray(e)?n+"["+t+"]":n+"."+t:t}function m(e){for(var t=0;t<e.length;t++)if(i(e[t]))return!0}function y(e){var t;switch(e.code){case"data":t="The template has no key data.";break;case"layout":t="The template has no key layout.";break;case"missing":t=e.path?"There are no templates for item "+e.path+" with name "+e.templateitemname:"There are no templates for trace "+e.index+", of type "+e.traceType+".";break;case"unused":t=e.path?"The template item at "+e.path+" was not used in constructing the plot.":e.dataCount?"Some of the templates of type "+e.traceType+" were not used. The template has "+e.templateCount+" traces, the data only has "+e.dataCount+" of this type.":"The template has "+e.templateCount+" traces of type "+e.traceType+" but there are none in the data.";break;case"reused":t="Some of the templates of type "+e.traceType+" were used more than once. The template has "+e.templateCount+" traces, the data has "+e.dataCount+" of this type."}return e.msg=t,e}n.makeTemplate=function(e){e=r.isPlainObject(e)?e:r.getGraphDiv(e),e=r.extendDeep({_context:u},{data:e.data,layout:e.layout}),a.supplyDefaults(e);var t=e.data||[],n=e.layout||{};n._basePlotModules=e._fullLayout._basePlotModules,n._modules=e._fullLayout._modules;var o={data:{},layout:{}};t.forEach((function(e){var t={};d(e,t,h.bind(null,e));var n=r.coerce(e,{},s,"type"),i=o.data[n];i||(i=o.data[n]=[]),i.push(t)})),d(n,o.layout,p.bind(null,n)),delete o.layout.template;var l=n.template;if(i(l)){var f,g,m,y,v,b,x=l.layout;i(x)&&c(x,o.layout);var _=l.data;if(i(_)){for(g in o.data)if(m=_[g],Array.isArray(m)){for(b=(v=o.data[g]).length,y=m.length,f=0;f<b;f++)c(m[f%y],v[f]);for(f=b;f<y;f++)v.push(r.extendDeep({},m[f]))}for(g in _)g in o.data||(o.data[g]=r.extendDeep([],_[g]))}}return o},n.validateTemplate=function(e,t){var n=r.extendDeep({},{_context:u,data:e.data,layout:e.layout}),o=n.layout||{};i(t)||(t=o.template||{});var s=t.layout,l=t.data,c=[];n.layout=o,n.layout.template=t,a.supplyDefaults(n);var d=n._fullLayout,p=n._fullData,h={};if(i(s)?(function e(t,n){for(var r in t)if("_"!==r.charAt(0)&&i(t[r])){var o,a=f(r),s=[];for(o=0;o<n.length;o++)s.push(g(t,r,n[o])),a!==r&&s.push(g(t,a,n[o]));for(o=0;o<s.length;o++)h[s[o]]=1;e(t[r],s)}}(d,["layout"]),function e(t,n){for(var r in t)if(-1===r.indexOf("defaults")&&i(t[r])){var o=g(t,r,n);h[o]?e(t[r],o):c.push({code:"unused",path:o})}}(s,"layout")):c.push({code:"layout"}),i(l)){for(var v,b={},x=0;x<p.length;x++){var _=p[x];b[v=_.type]=(b[v]||0)+1,_._fullInput._template||c.push({code:"missing",index:_._fullInput.index,traceType:v})}for(v in l){var w=l[v].length,k=b[v]||0;w>k?c.push({code:"unused",traceType:v,templateCount:w,dataCount:k}):k>w&&c.push({code:"reused",traceType:v,templateCount:w,dataCount:k})}}else c.push({code:"data"});if(function e(t,n){for(var r in t)if("_"!==r.charAt(0)){var o=t[r],a=g(t,r,n);i(o)?(Array.isArray(t)&&!1===o._template&&o.templateitemname&&c.push({code:"missing",path:a,templateitemname:o.templateitemname}),e(o,a)):Array.isArray(o)&&m(o)&&e(o,a)}}({data:p,layout:d},""),c.length)return c.map(y)}},{"../lib":203,"../plots/attributes":244,"../plots/plots":282,"./plot_config":235,"./plot_schema":236,"./plot_template":237}],240:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("./plot_api"),o=e("../plots/plots"),a=e("../lib"),s=e("../snapshot/helpers"),l=e("../snapshot/tosvg"),u=e("../snapshot/svgtoimg"),c=e("../version").version,f={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};t.exports=function(e,t){var n,d,p,h;function g(e){return!(e in t)||a.validate(t[e],f[e])}if(t=t||{},a.isPlainObject(e)?(n=e.data||[],d=e.layout||{},p=e.config||{},h={}):(e=a.getGraphDiv(e),n=a.extendDeep([],e.data),d=a.extendDeep({},e.layout),p=e._context,h=e._fullLayout||{}),!g("width")&&null!==t.width||!g("height")&&null!==t.height)throw new Error("Height and width should be pixel values.");if(!g("format"))throw new Error("Export format is not "+a.join2(f.format.values,", "," or ")+".");var m={};function y(e,n){return a.coerce(t,m,f,e,n)}var v=y("format"),b=y("width"),x=y("height"),_=y("scale"),w=y("setBackground"),k=y("imageDataOnly"),T=document.createElement("div");T.style.position="absolute",T.style.left="-5000px",document.body.appendChild(T);var C=a.extendFlat({},d);b?C.width=b:null===t.width&&r(h.width)&&(C.width=h.width),x?C.height=x:null===t.height&&r(h.height)&&(C.height=h.height);var O=a.extendFlat({},p,{_exportedPlot:!0,staticPlot:!0,setBackground:w}),S=s.getRedrawFunc(T);function A(){return new Promise((function(e){setTimeout(e,s.getDelay(T._fullLayout))}))}function M(){return new Promise((function(e,t){var n=l(T,v,_),r=T._fullLayout.width,f=T._fullLayout.height;function d(){i.purge(T),document.body.removeChild(T)}if("full-json"===v){var p=o.graphJson(T,!1,"keepdata","object",!0,!0);return p.version=c,p=JSON.stringify(p),d(),e(k?p:s.encodeJSON(p))}if(d(),"svg"===v)return e(k?n:s.encodeSVG(n));var h=document.createElement("canvas");h.id=a.randstr(),u({format:v,width:r,height:f,scale:_,canvas:h,svg:n,promise:!0}).then(e).catch(t)}))}return new Promise((function(e,t){i.plot(T,n,C,O).then(S).then(A).then(M).then((function(t){e(function(e){return k?e.replace(s.IMAGE_URL_PREFIX,""):e}(t))})).catch((function(e){t(e)}))}))}},{"../lib":203,"../plots/plots":282,"../snapshot/helpers":299,"../snapshot/svgtoimg":301,"../snapshot/tosvg":303,"../version":463,"./plot_api":234,"fast-isnumeric":23}],241:[function(e,t,n){"use strict";var r=e("../lib"),i=e("../plots/plots"),o=e("./plot_schema"),a=e("./plot_config").dfltConfig,s=r.isPlainObject,l=Array.isArray,u=r.isArrayOrTypedArray;function c(e,t,n,i,o,a){a=a||[];for(var f=Object.keys(e),d=0;d<f.length;d++){var p=f[d];if("transforms"!==p){var y=a.slice();y.push(p);var v=e[p],b=t[p],x=m(n,p),_=(x||{}).valType,w="info_array"===_,k="colorscale"===_,T=(x||{}).items;if(g(n,p))if(s(v)&&s(b)&&"any"!==_)c(v,b,x,i,o,y);else if(w&&l(v)){v.length>b.length&&i.push(h("unused",o,y.concat(b.length)));var C,O,S,A,M,E=b.length,P=Array.isArray(T);if(P&&(E=Math.min(E,T.length)),2===x.dimensions)for(O=0;O<E;O++)if(l(v[O])){v[O].length>b[O].length&&i.push(h("unused",o,y.concat(O,b[O].length)));var D=b[O].length;for(C=0;C<(P?Math.min(D,T[O].length):D);C++)S=P?T[O][C]:T,A=v[O][C],M=b[O][C],r.validate(A,S)?M!==A&&M!==+A&&i.push(h("dynamic",o,y.concat(O,C),A,M)):i.push(h("value",o,y.concat(O,C),A))}else i.push(h("array",o,y.concat(O),v[O]));else for(O=0;O<E;O++)S=P?T[O]:T,A=v[O],M=b[O],r.validate(A,S)?M!==A&&M!==+A&&i.push(h("dynamic",o,y.concat(O),A,M)):i.push(h("value",o,y.concat(O),A))}else if(x.items&&!w&&l(v)){var L,R,I=T[Object.keys(T)[0]],N=[];for(L=0;L<b.length;L++){var j=b[L]._index||L;if((R=y.slice()).push(j),s(v[j])&&s(b[L])){N.push(j);var z=v[j],q=b[L];s(z)&&!1!==z.visible&&!1===q.visible?i.push(h("invisible",o,R)):c(z,q,I,i,o,R)}}for(L=0;L<v.length;L++)(R=y.slice()).push(L),s(v[L])?-1===N.indexOf(L)&&i.push(h("unused",o,R)):i.push(h("object",o,R,v[L]))}else!s(v)&&s(b)?i.push(h("object",o,y,v)):u(v)||!u(b)||w||k?p in t?r.validate(v,x)?"enumerated"===x.valType&&(x.coerceNumber&&v!==+b||v!==b)&&i.push(h("dynamic",o,y,v,b)):i.push(h("value",o,y,v)):i.push(h("unused",o,y,v)):i.push(h("array",o,y,v));else i.push(h("schema",o,y))}}return i}function f(e,t){for(var n=e.layout.layoutAttributes,i=0;i<t.length;i++){var o=t[i],a=e.traces[o.type],s=a.layoutAttributes;s&&(o.subplot?r.extendFlat(n[a.attributes.subplot.dflt],s):r.extendFlat(n,s))}return n}t.exports=function(e,t){void 0===e&&(e=[]),void 0===t&&(t={});var n,u,d=o.get(),p=[],g={_context:r.extendFlat({},a)};l(e)?(g.data=r.extendDeep([],e),n=e):(g.data=[],n=[],p.push(h("array","data"))),s(t)?(g.layout=r.extendDeep({},t),u=t):(g.layout={},u={},arguments.length>1&&p.push(h("object","layout"))),i.supplyDefaults(g);for(var m=g._fullData,y=n.length,v=0;v<y;v++){var b=n[v],x=["data",v];if(s(b)){var _=m[v],w=_.type,k=d.traces[w].attributes;k.type={valType:"enumerated",values:[w]},!1===_.visible&&!1!==b.visible&&p.push(h("invisible",x)),c(b,_,k,p,x);var T=b.transforms,C=_.transforms;if(T){l(T)||p.push(h("array",x,["transforms"])),x.push("transforms");for(var O=0;O<T.length;O++){var S=["transforms",O],A=T[O].type;if(s(T[O])){var M=d.transforms[A]?d.transforms[A].attributes:{};M.type={valType:"enumerated",values:Object.keys(d.transforms)},c(T[O],C[O],M,p,x,S)}else p.push(h("object",x,S))}}}else p.push(h("object",x))}return c(u,g._fullLayout,f(d,m),p,"layout"),0===p.length?void 0:p};var d={object:function(e,t){return("layout"===e&&""===t?"The layout argument":"data"===e[0]&&""===t?"Trace "+e[1]+" in the data argument":p(e)+"key "+t)+" must be linked to an object container"},array:function(e,t){return("data"===e?"The data argument":p(e)+"key "+t)+" must be linked to an array container"},schema:function(e,t){return p(e)+"key "+t+" is not part of the schema"},unused:function(e,t,n){var r=s(n)?"container":"key";return p(e)+r+" "+t+" did not get coerced"},dynamic:function(e,t,n,r){return[p(e)+"key",t,"(set to '"+n+"')","got reset to","'"+r+"'","during defaults."].join(" ")},invisible:function(e,t){return(t?p(e)+"item "+t:"Trace "+e[1])+" got defaulted to be not visible"},value:function(e,t,n){return[p(e)+"key "+t,"is set to an invalid value ("+n+")"].join(" ")}};function p(e){return l(e)?"In data trace "+e[1]+", ":"In "+e+", "}function h(e,t,n,i,o){var a,s;n=n||"",l(t)?(a=t[0],s=t[1]):(a=t,s=null);var u=function(e){if(!l(e))return String(e);for(var t="",n=0;n<e.length;n++){var r=e[n];"number"==typeof r?t=t.substr(0,t.length-1)+"["+r+"]":t+=r,n<e.length-1&&(t+=".")}return t}(n),c=d[e](t,u,i,o);return r.log(c),{code:e,container:a,trace:s,path:n,astr:u,msg:c}}function g(e,t){var n=v(t),r=n.keyMinusId,i=n.id;return!!(r in e&&e[r]._isSubplotObj&&i)||t in e}function m(e,t){return t in e?e[t]:e[v(t).keyMinusId]}var y=r.counterRegex("([a-z]+)");function v(e){var t=e.match(y);return{keyMinusId:t&&t[1],id:t&&t[2]}}},{"../lib":203,"../plots/plots":282,"./plot_config":235,"./plot_schema":236}],242:[function(e,t,n){"use strict";t.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},{}],243:[function(e,t,n){"use strict";var r=e("../lib"),i=e("../plot_api/plot_template");t.exports=function(e,t,n){var o,a,s=n.name,l=n.inclusionAttr||"visible",u=t[s],c=r.isArrayOrTypedArray(e[s])?e[s]:[],f=t[s]=[],d=i.arrayTemplater(t,s,l);for(o=0;o<c.length;o++){var p=c[o];r.isPlainObject(p)?a=d.newItem(p):(a=d.newItem({}))[l]=!1,a._index=o,!1!==a[l]&&n.handleItemDefaults(p,a,t,n),f.push(a)}var h=d.defaultItems();for(o=0;o<h.length;o++)(a=h[o])._index=f.length,n.handleItemDefaults({},a,t,n,{}),f.push(a);if(r.isArrayOrTypedArray(u)){var g=Math.min(u.length,f.length);for(o=0;o<g;o++)r.relinkPrivateKeys(f[o],u[o])}return f}},{"../lib":203,"../plot_api/plot_template":237}],244:[function(e,t,n){"use strict";var r=e("../components/fx/attributes");t.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:r.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},{"../components/fx/attributes":106}],245:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../../lib"),o=i.dateTime2ms,a=i.incrementMonth,s=e("../../constants/numerical").ONEAVGMONTH;t.exports=function(e,t,n,i){if("date"!==t.type)return i;var l=e[n+"periodalignment"];if(!l)return i;var u,c=e[n+"period"];if(r(c)){if((c=+c)<=0)return i}else if("string"==typeof c&&"M"===c.charAt(0)){var f=+c.substring(1);if(!(f>0&&Math.round(f)===f))return i;u=f}for(var d=t.calendar,p="start"===l,h="end"===l,g=e[n+"period0"],m=o(g,d)||0,y=[],v=i.length,b=0;b<v;b++){var x,_,w,k=i[b];if(u){for(x=Math.round((k-m)/(u*s)),w=a(m,u*x,d);w>k;)w=a(w,-u,d);for(;w<=k;)w=a(w,u,d);_=a(w,-u,d)}else{for(w=m+(x=Math.round((k-m)/c))*c;w>k;)w-=c;for(;w<=k;)w+=c;_=w-c}y[b]=p?_:h?w:(_+w)/2}return y}},{"../../constants/numerical":182,"../../lib":203,"fast-isnumeric":23}],246:[function(e,t,n){"use strict";t.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},{}],247:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../../lib"),o=e("../../constants/numerical").FP_SAFE,a=e("../../registry");function s(e,t){var n,r,o=[],a=l(t),s=u(e,t),c=s.min,f=s.max;if(0===c.length||0===f.length)return i.simpleMap(t.range,t.r2l);var d=c[0].val,p=f[0].val;for(n=1;n<c.length&&d===p;n++)d=Math.min(d,c[n].val);for(n=1;n<f.length&&d===p;n++)p=Math.max(p,f[n].val);var h=!1;if(t.range){var g=i.simpleMap(t.range,t.r2l);h=g[1]<g[0]}"reversed"===t.autorange&&(h=!0,t.autorange=!0);var m,y,v,b,x,_,w=t.rangemode,k="tozero"===w,T="nonnegative"===w,C=t._length,O=C/10,S=function(e,n){var r=0;if(t.rangebreaks)for(var i=t.locateBreaks(e,n),o=0;o<i.length;o++){var a=i[o];r+=a.max-a.min}return r},A=0;for(n=0;n<c.length;n++)for(m=c[n],r=0;r<f.length;r++)(_=(y=f[r]).val-m.val-S(m.val,y.val))>0&&((x=C-a(m)-a(y))>O?_/x>A&&(v=m,b=y,A=_/x):_/C>A&&(v={val:m.val,pad:0},b={val:y.val,pad:0},A=_/C));if(d===p){var M=d-1,E=d+1;if(k)if(0===d)o=[0,1];else{var P=(d>0?f:c).reduce((function(e,t){return Math.max(e,a(t))}),0),D=d/(1-Math.min(.5,P/C));o=d>0?[0,D]:[D,0]}else o=T?[Math.max(0,M),Math.max(1,E)]:[M,E]}else k?(v.val>=0&&(v={val:0,pad:0}),b.val<=0&&(b={val:0,pad:0})):T&&(v.val-A*a(v)<0&&(v={val:0,pad:0}),b.val<=0&&(b={val:1,pad:0})),A=(b.val-v.val-S(m.val,y.val))/(C-a(v)-a(b)),o=[v.val-A*a(v),b.val+A*a(b)];return h&&o.reverse(),i.simpleMap(o,t.l2r||Number)}function l(e){var t=e._length/20;return"domain"===e.constrain&&e._inputDomain&&(t*=(e._inputDomain[1]-e._inputDomain[0])/(e.domain[1]-e.domain[0])),function(e){return e.pad+(e.extrapad?t:0)}}function u(e,t){var n,r,i,o=t._id,a=e._fullData,s=e._fullLayout,l=[],u=[];function d(e,t){for(n=0;n<t.length;n++){var a=e[t[n]],s=(a._extremes||{})[o];if(!0===a.visible&&s){for(r=0;r<s.min.length;r++)i=s.min[r],c(l,i.val,i.pad,{extrapad:i.extrapad});for(r=0;r<s.max.length;r++)i=s.max[r],f(u,i.val,i.pad,{extrapad:i.extrapad})}}}return d(a,t._traceIndices),d(s.annotations||[],t._annIndices||[]),d(s.shapes||[],t._shapeIndices||[]),{min:l,max:u}}function c(e,t,n,r){d(e,t,n,r,h)}function f(e,t,n,r){d(e,t,n,r,g)}function d(e,t,n,r,i){for(var o=r.tozero,a=r.extrapad,s=!0,l=0;l<e.length&&s;l++){var u=e[l];if(i(u.val,t)&&u.pad>=n&&(u.extrapad||!a)){s=!1;break}i(t,u.val)&&u.pad<=n&&(a||!u.extrapad)&&(e.splice(l,1),l--)}if(s){var c=o&&0===t;e.push({val:t,pad:c?0:n,extrapad:!c&&a})}}function p(e){return r(e)&&Math.abs(e)<o}function h(e,t){return e<=t}function g(e,t){return e>=t}t.exports={getAutoRange:s,makePadFn:l,doAutoRange:function(e,t){if(t.setScale(),t.autorange){t.range=s(e,t),t._r=t.range.slice(),t._rl=i.simpleMap(t._r,t.r2l);var n=t._input,r={};r[t._attr+".range"]=t.range,r[t._attr+".autorange"]=t.autorange,a.call("_storeDirectGUIEdit",e.layout,e._fullLayout._preGUI,r),n.range=t.range.slice(),n.autorange=t.autorange}var o=t._anchorAxis;if(o&&o.rangeslider){var l=o.rangeslider[t._name];l&&"auto"===l.rangemode&&(l.range=s(e,t)),o._input.rangeslider[t._name]=i.extendFlat({},l)}},findExtremes:function(e,t,n){n||(n={}),e._m||e.setScale();var i,a,s,l,u,d,h,g,m,y=[],v=[],b=t.length,x=n.padded||!1,_=n.tozero&&("linear"===e.type||"-"===e.type),w="log"===e.type,k=!1,T=n.vpadLinearized||!1;function C(e){if(Array.isArray(e))return k=!0,function(t){return Math.max(Number(e[t]||0),0)};var t=Math.max(Number(e||0),0);return function(){return t}}var O=C((e._m>0?n.ppadplus:n.ppadminus)||n.ppad||0),S=C((e._m>0?n.ppadminus:n.ppadplus)||n.ppad||0),A=C(n.vpadplus||n.vpad),M=C(n.vpadminus||n.vpad);if(!k){if(g=1/0,m=-1/0,w)for(i=0;i<b;i++)(a=t[i])<g&&a>0&&(g=a),a>m&&a<o&&(m=a);else for(i=0;i<b;i++)(a=t[i])<g&&a>-o&&(g=a),a>m&&a<o&&(m=a);t=[g,m],b=2}var E={tozero:_,extrapad:x};function P(n){s=t[n],r(s)&&(d=O(n),h=S(n),T?(l=e.c2l(s)-M(n),u=e.c2l(s)+A(n)):(g=s-M(n),m=s+A(n),w&&g<m/10&&(g=m/10),l=e.c2l(g),u=e.c2l(m)),_&&(l=Math.min(0,l),u=Math.max(0,u)),p(l)&&c(y,l,h,E),p(u)&&f(v,u,d,E))}var D=Math.min(6,b);for(i=0;i<D;i++)P(i);for(i=b-1;i>=D;i--)P(i);return{min:y,max:v,opts:n}},concatExtremes:u}},{"../../constants/numerical":182,"../../lib":203,"../../registry":295,"fast-isnumeric":23}],248:[function(e,t,n){"use strict";var r=e("d3"),i=e("fast-isnumeric"),o=e("../../plots/plots"),a=e("../../registry"),s=e("../../lib"),l=e("../../lib/svg_text_utils"),u=e("../../components/titles"),c=e("../../components/color"),f=e("../../components/drawing"),d=e("./layout_attributes"),p=e("./clean_ticks"),h=e("../../constants/numerical"),g=h.ONEMAXYEAR,m=h.ONEAVGYEAR,y=h.ONEMINYEAR,v=h.ONEMAXQUARTER,b=h.ONEAVGQUARTER,x=h.ONEMINQUARTER,_=h.ONEMAXMONTH,w=h.ONEAVGMONTH,k=h.ONEMINMONTH,T=h.ONEWEEK,C=h.ONEDAY,O=C/2,S=h.ONEHOUR,A=h.ONEMIN,M=h.ONESEC,E=h.MINUS_SIGN,P=h.BADNUM,D=e("../../constants/alignment"),L=D.MID_SHIFT,R=D.CAP_SHIFT,I=D.LINE_SPACING,N=D.OPPOSITE_SIDE,j=t.exports={};j.setConvert=e("./set_convert");var z=e("./axis_autotype"),q=e("./axis_ids");j.id2name=q.id2name,j.name2id=q.name2id,j.cleanId=q.cleanId,j.list=q.list,j.listIds=q.listIds,j.getFromId=q.getFromId,j.getFromTrace=q.getFromTrace;var F=e("./autorange");j.getAutoRange=F.getAutoRange,j.findExtremes=F.findExtremes;function B(e){var t=1e-4*(e[1]-e[0]);return[e[0]-t,e[1]+t]}j.coerceRef=function(e,t,n,r,i,o){var a=r.charAt(r.length-1),l=n._fullLayout._subplots[a+"axis"],u=r+"ref",c={};return i||(i=l[0]||("string"==typeof o?o:o[0])),o||(o=i),l=l.concat(l.map((function(e){return e+" domain"}))),c[u]={valType:"enumerated",values:l.concat(o?"string"==typeof o?[o]:o:[]),dflt:i},s.coerce(e,t,c,u)},j.getRefType=function(e){return void 0===e?e:"paper"===e?"paper":"pixel"===e?"pixel":/( domain)$/.test(e)?"domain":"range"},j.coercePosition=function(e,t,n,r,i,o){var a,l;if("range"!==j.getRefType(r))a=s.ensureNumber,l=n(i,o);else{var u=j.getFromId(t,r);l=n(i,o=u.fraction2r(o)),a=u.cleanPos}e[i]=a(l)},j.cleanPosition=function(e,t,n){return("paper"===n||"pixel"===n?s.ensureNumber:j.getFromId(t,n).cleanPos)(e)},j.redrawComponents=function(e,t){t=t||j.listIds(e);var n=e._fullLayout;function r(r,i,o,s){for(var l=a.getComponentMethod(r,i),u={},c=0;c<t.length;c++)for(var f=n[j.id2name(t[c])][o],d=0;d<f.length;d++){var p=f[d];if(!u[p]&&(l(e,p),u[p]=1,s))return}}r("annotations","drawOne","_annIndices"),r("shapes","drawOne","_shapeIndices"),r("images","draw","_imgIndices",!0)};var H=j.getDataConversions=function(e,t,n,r){var i,o="x"===n||"y"===n||"z"===n?n:r;if(Array.isArray(o)){if(i={type:z(r),_categories:[]},j.setConvert(i),"category"===i.type)for(var a=0;a<r.length;a++)i.d2c(r[a])}else i=j.getFromTrace(e,t,o);return i?{d2c:i.d2c,c2d:i.c2d}:"ids"===o?{d2c:V,c2d:V}:{d2c:U,c2d:U}};function U(e){return+e}function V(e){return String(e)}function W(e){return+e.substring(1)}j.getDataToCoordFunc=function(e,t,n,r){return H(e,t,n,r).d2c},j.counterLetter=function(e){var t=e.charAt(0);return"x"===t?"y":"y"===t?"x":void 0},j.minDtick=function(e,t,n,r){-1===["log","category","multicategory"].indexOf(e.type)&&r?void 0===e._minDtick?(e._minDtick=t,e._forceTick0=n):e._minDtick&&((e._minDtick/t+1e-6)%1<2e-6&&((n-e._forceTick0)/t%1+1.000001)%1<2e-6?(e._minDtick=t,e._forceTick0=n):((t/e._minDtick+1e-6)%1>2e-6||((n-e._forceTick0)/e._minDtick%1+1.000001)%1>2e-6)&&(e._minDtick=0)):e._minDtick=0},j.saveRangeInitial=function(e,t){for(var n=j.list(e,"",!0),r=!1,i=0;i<n.length;i++){var o=n[i],a=void 0===o._rangeInitial,s=a||!(o.range[0]===o._rangeInitial[0]&&o.range[1]===o._rangeInitial[1]);(a&&!1===o.autorange||t&&s)&&(o._rangeInitial=o.range.slice(),r=!0)}return r},j.saveShowSpikeInitial=function(e,t){for(var n=j.list(e,"",!0),r=!1,i="on",o=0;o<n.length;o++){var a=n[o],s=void 0===a._showSpikeInitial,l=s||!(a.showspikes===a._showspikes);(s||t&&l)&&(a._showSpikeInitial=a.showspikes,r=!0),"on"!==i||a.showspikes||(i="off")}return e._fullLayout._cartesianSpikesEnabled=i,r},j.autoBin=function(e,t,n,r,o,a){var l,u=s.aggNums(Math.min,null,e),c=s.aggNums(Math.max,null,e);if("category"===t.type||"multicategory"===t.type)return{start:u-.5,end:c+.5,size:Math.max(1,Math.round(a)||1),_dataSpan:c-u};if(o||(o=t.calendar),l="log"===t.type?{type:"linear",range:[u,c]}:{type:t.type,range:s.simpleMap([u,c],t.c2r,0,o),calendar:o},j.setConvert(l),a=a&&p.dtick(a,l.type))l.dtick=a,l.tick0=p.tick0(void 0,l.type,o);else{var f;if(n)f=(c-u)/n;else{var d=s.distinctVals(e),h=Math.pow(10,Math.floor(Math.log(d.minDiff)/Math.LN10)),g=h*s.roundUp(d.minDiff/h,[.9,1.9,4.9,9.9],!0);f=Math.max(g,2*s.stdev(e)/Math.pow(e.length,r?.25:.4)),i(f)||(f=1)}j.autoTicks(l,f)}var m,y=l.dtick,v=j.tickIncrement(j.tickFirst(l),y,"reverse",o);if("number"==typeof y)m=(v=function(e,t,n,r,o){var a=0,s=0,l=0,u=0;function c(t){return(1+100*(t-e)/n.dtick)%100<2}for(var f=0;f<t.length;f++)t[f]%1==0?l++:i(t[f])||u++,c(t[f])&&a++,c(t[f]+n.dtick/2)&&s++;var d=t.length-u;if(l===d&&"date"!==n.type)n.dtick<1?e=r-.5*n.dtick:(e-=.5)+n.dtick<r&&(e+=n.dtick);else if(s<.1*d&&(a>.3*d||c(r)||c(o))){var p=n.dtick/2;e+=e+p<r?p:-p}return e}(v,e,l,u,c))+(1+Math.floor((c-v)/y))*y;else for("M"===l.dtick.charAt(0)&&(v=function(e,t,n,r,i){var o=s.findExactDates(t,i);if(o.exactDays>.8){var a=Number(n.substr(1));o.exactYears>.8&&a%12==0?e=j.tickIncrement(e,"M6","reverse")+1.5*C:o.exactMonths>.8?e=j.tickIncrement(e,"M1","reverse")+15.5*C:e-=O;var l=j.tickIncrement(e,n);if(l<=r)return l}return e}(v,e,y,u,o)),m=v;m<=c;)m=j.tickIncrement(m,y,!1,o);return{start:t.c2r(v,0,o),end:t.c2r(m,0,o),size:y,_dataSpan:c-u}},j.prepTicks=function(e,t){var n=s.simpleMap(e.range,e.r2l,void 0,void 0,t);if(e._dtickInit=e.dtick,e._tick0Init=e.tick0,"auto"===e.tickmode||!e.dtick){var r,o=e.nticks;o||("category"===e.type||"multicategory"===e.type?(r=e.tickfont?1.2*(e.tickfont.size||12):15,o=e._length/r):(r="y"===e._id.charAt(0)?40:80,o=s.constrain(e._length/r,4,9)+1),"radialaxis"===e._name&&(o*=2)),"array"===e.tickmode&&(o*=100),e._roughDTick=Math.abs(n[1]-n[0])/o,j.autoTicks(e,e._roughDTick),e._minDtick>0&&e.dtick<2*e._minDtick&&(e.dtick=e._minDtick,e.tick0=e.l2r(e._forceTick0))}"period"===e.ticklabelmode&&function(e){var t;function n(){return!(i(e.dtick)||"M"!==e.dtick.charAt(0))}var r=n(),o=j.getTickFormat(e);if(o){var a=e._dtickInit!==e.dtick;/%[fLQsSMX]/.test(o)||(/%[HI]/.test(o)?(t=S,a&&!r&&e.dtick<S&&(e.dtick=S)):/%p/.test(o)?(t=O,a&&!r&&e.dtick<O&&(e.dtick=O)):/%[Aadejuwx]/.test(o)?(t=C,a&&!r&&e.dtick<C&&(e.dtick=C)):/%[UVW]/.test(o)?(t=T,a&&!r&&e.dtick<T&&(e.dtick=T)):/%[Bbm]/.test(o)?(t=w,a&&(r?W(e.dtick)<1:e.dtick<k)&&(e.dtick="M1")):/%[q]/.test(o)?(t=b,a&&(r?W(e.dtick)<3:e.dtick<x)&&(e.dtick="M3")):/%[Yy]/.test(o)&&(t=m,a&&(r?W(e.dtick)<12:e.dtick<y)&&(e.dtick="M12")))}(r=n())&&e.tick0===e._dowTick0&&(e.tick0=e._rawTick0),e._definedDelta=t}(e),e.tick0||(e.tick0="date"===e.type?"2000-01-01":0),"date"===e.type&&e.dtick<.1&&(e.dtick=.1),ee(e)},j.calcTicks=function(e,t){j.prepTicks(e,t);var n=s.simpleMap(e.range,e.r2l,void 0,void 0,t);if("array"===e.tickmode)return function(e){var t=e.tickvals,n=e.ticktext,r=new Array(t.length),i=B(s.simpleMap(e.range,e.r2l)),o=Math.min(i[0],i[1]),a=Math.max(i[0],i[1]),l=0;Array.isArray(n)||(n=[]);var u="category"===e.type?e.d2l_noadd:e.d2l;"log"===e.type&&"L"!==String(e.dtick).charAt(0)&&(e.dtick="L"+Math.pow(10,Math.floor(Math.min(e.range[0],e.range[1]))-1));for(var c=0;c<t.length;c++){var f=u(t[c]);f>o&&f<a&&(void 0===n[c]?r[l]=j.tickText(e,f):r[l]=te(e,f,String(n[c])),l++)}return l<t.length&&r.splice(l,t.length-l),e.rangebreaks&&(r=r.filter((function(t){return e.maskBreaks(t.x)!==P}))),r}(e);var r=B(n),o=r[0],a=r[1],l=n[1]<n[0],u=Math.min(n[0],n[1]),c=Math.max(n[0],n[1]),f="log"===e.type&&!(i(e.dtick)||"L"===e.dtick.charAt(0)),d="period"===e.ticklabelmode;if(e._tmin=j.tickFirst(e,t),e._tmin<o!==l)return[];"category"!==e.type&&"multicategory"!==e.type||(a=l?Math.max(-.5,a):Math.min(e._categories.length-.5,a));var p=e._tmin;e.rangebreaks&&e._tick0Init!==e.tick0&&(p=be(p,e),l||(p=j.tickIncrement(p,e.dtick,!l,e.calendar))),d&&(p=j.tickIncrement(p,e.dtick,!l,e.calendar));for(var h,A=Math.max(1e3,e._length||0),M=[],E=null;l?p>=a:p<=a;p=j.tickIncrement(p,e.dtick,l,e.calendar)){if(e.rangebreaks&&!l){if(p<o)continue;if(e.maskBreaks(p)===P&&be(p,e)>=c)break}if(M.length>A||p===E)break;E=p;var D=!1;f&&p!==(0|p)&&(D=!0),M.push({minor:D,value:p})}if(d&&function(e,t,n){for(var r=0;r<e.length;r++){var i=e[r].value,o=r,a=r+1;r<e.length-1?(o=r,a=r+1):r>0?(o=r-1,a=r):(o=r,a=r);var s,l=e[o].value,u=e[a].value,c=Math.abs(u-l),f=n||c,d=0;f>=y?d=c>=y&&c<=g?c:m:n===b&&f>=x?d=c>=x&&c<=v?c:b:f>=k?d=c>=k&&c<=_?c:w:n===T&&f>=T?d=T:f>=C?d=C:n===O&&f>=O?d=O:n===S&&f>=S&&(d=S),d>=c&&(d=c,s=!0);var p=i+d;if(t.rangebreaks&&d>0){for(var h=0,A=0;A<84;A++){var M=(A+.5)/84;t.maskBreaks(i*(1-M)+M*p)!==P&&h++}(d*=h/84)||(e[r].drop=!0),s&&c>T&&(d=c)}(d>0||0===r)&&(e[r].periodX=i+d/2)}}(M,e,e._definedDelta),e.rangebreaks){var L="y"===e._id.charAt(0),R=1;"auto"===e.tickmode&&(R=e.tickfont?e.tickfont.size:12);var I=NaN;for(h=M.length-1;h>-1;h--)if(M[h].drop)M.splice(h,1);else{M[h].value=be(M[h].value,e);var N=e.c2p(M[h].value);(L?I>N-R:I<N+R)?M.splice(l?h+1:h,1):I=N}}ve(e)&&360===Math.abs(n[1]-n[0])&&M.pop(),e._tmax=(M[M.length-1]||{}).value,e._prevDateHead="",e._inCalcTicks=!0;var z,q,F=[];for(h=0;h<M.length;h++){var H=M[h].minor,U=M[h].value;z=j.tickText(e,U,!1,H),void 0!==(q=M[h].periodX)&&(z.periodX=q,(q>c||q<u)&&(q>c&&(z.periodX=c),q<u&&(z.periodX=u),z.text=" ",e._prevDateHead="")),F.push(z)}return e._inCalcTicks=!1,F};var G=[2,5,10],K=[1,2,3,6,12],Y=[1,2,5,10,15,30],Z=[1,2,3,7,14],X=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],$=[-.301,0,.301,.699,1],J=[15,30,45,90,180];function Q(e,t,n){return t*s.roundUp(e/t,n)}function ee(e){var t=e.dtick;if(e._tickexponent=0,i(t)||"string"==typeof t||(t=1),"category"!==e.type&&"multicategory"!==e.type||(e._tickround=null),"date"===e.type){var n=e.r2l(e.tick0),r=e.l2r(n).replace(/(^-|i)/g,""),o=r.length;if("M"===String(t).charAt(0))o>10||"01-01"!==r.substr(5)?e._tickround="d":e._tickround=+t.substr(1)%12==0?"y":"m";else if(t>=C&&o<=10||t>=15*C)e._tickround="d";else if(t>=A&&o<=16||t>=S)e._tickround="M";else if(t>=M&&o<=19||t>=A)e._tickround="S";else{var a=e.l2r(n+t).replace(/^-/,"").length;e._tickround=Math.max(o,a)-20,e._tickround<0&&(e._tickround=4)}}else if(i(t)||"L"===t.charAt(0)){var s=e.range.map(e.r2d||Number);i(t)||(t=Number(t.substr(1))),e._tickround=2-Math.floor(Math.log(t)/Math.LN10+.01);var l=Math.max(Math.abs(s[0]),Math.abs(s[1])),u=Math.floor(Math.log(l)/Math.LN10+.01),c=void 0===e.minexponent?3:e.minexponent;Math.abs(u)>c&&(ie(e.exponentformat)&&!oe(u)?e._tickexponent=3*Math.round((u-1)/3):e._tickexponent=u)}else e._tickround=null}function te(e,t,n){var r=e.tickfont||{};return{x:t,dx:0,dy:0,text:n||"",fontSize:r.size,font:r.family,fontColor:r.color}}function ne(e,t,n,r,i){if("radians"!==e.thetaunit||n)t.text=ae(t.x,e,i,r);else{var o=t.x/180;if(0===o)t.text="0";else{var a=function(e){function t(e,t){return Math.abs(e-t)<=1e-6}function n(e,r){return t(r,0)?e:n(r,e%r)}function r(e){for(var n=1;!t(Math.round(e*n)/n,e);)n*=10;return n}var i=r(e),o=e*i,a=Math.abs(n(o,i));return[Math.round(o/a),Math.round(i/a)]}(o);if(a[1]>=100)t.text=ae(s.deg2rad(t.x),e,i,r);else{var l=t.x<0;1===a[1]?1===a[0]?t.text="π":t.text=a[0]+"π":t.text=["<sup>",a[0],"</sup>","⁄","<sub>",a[1],"</sub>","π"].join(""),l&&(t.text=E+t.text)}}}}j.autoTicks=function(e,t){var n;function r(e){return Math.pow(e,Math.floor(Math.log(t)/Math.LN10))}if("date"===e.type){e.tick0=s.dateTick0(e.calendar,0);var o=2*t;if(o>m)t/=m,n=r(10),e.dtick="M"+12*Q(t,n,G);else if(o>w)t/=w,e.dtick="M"+Q(t,1,K);else if(o>C){e.dtick=Q(t,C,e._hasDayOfWeekBreaks?[1,2,7,14]:Z);var a=j.getTickFormat(e),l="period"===e.ticklabelmode;l&&(e._rawTick0=e.tick0),/%[uVW]/.test(a)?e.tick0=s.dateTick0(e.calendar,2):e.tick0=s.dateTick0(e.calendar,1),l&&(e._dowTick0=e.tick0)}else o>S?e.dtick=Q(t,S,K):o>A?e.dtick=Q(t,A,Y):o>M?e.dtick=Q(t,M,Y):(n=r(10),e.dtick=Q(t,n,G))}else if("log"===e.type){e.tick0=0;var u=s.simpleMap(e.range,e.r2l);if(t>.7)e.dtick=Math.ceil(t);else if(Math.abs(u[1]-u[0])<1){var c=1.5*Math.abs((u[1]-u[0])/t);t=Math.abs(Math.pow(10,u[1])-Math.pow(10,u[0]))/c,n=r(10),e.dtick="L"+Q(t,n,G)}else e.dtick=t>.3?"D2":"D1"}else"category"===e.type||"multicategory"===e.type?(e.tick0=0,e.dtick=Math.ceil(Math.max(t,1))):ve(e)?(e.tick0=0,n=1,e.dtick=Q(t,n,J)):(e.tick0=0,n=r(10),e.dtick=Q(t,n,G));if(0===e.dtick&&(e.dtick=1),!i(e.dtick)&&"string"!=typeof e.dtick){var f=e.dtick;throw e.dtick=1,"ax.dtick error: "+String(f)}},j.tickIncrement=function(e,t,n,o){var a=n?-1:1;if(i(t))return s.increment(e,a*t);var l=t.charAt(0),u=a*Number(t.substr(1));if("M"===l)return s.incrementMonth(e,u,o);if("L"===l)return Math.log(Math.pow(10,e)+u)/Math.LN10;if("D"===l){var c="D2"===t?$:X,f=e+.01*a,d=s.roundUp(s.mod(f,1),c,n);return Math.floor(f)+Math.log(r.round(Math.pow(10,d),1))/Math.LN10}throw"unrecognized dtick "+String(t)},j.tickFirst=function(e,t){var n=e.r2l||Number,o=s.simpleMap(e.range,n,void 0,void 0,t),a=o[1]<o[0],l=a?Math.floor:Math.ceil,u=B(o)[0],c=e.dtick,f=n(e.tick0);if(i(c)){var d=l((u-f)/c)*c+f;return"category"!==e.type&&"multicategory"!==e.type||(d=s.constrain(d,0,e._categories.length-1)),d}var p=c.charAt(0),h=Number(c.substr(1));if("M"===p){for(var g,m,y,v=0,b=f;v<10;){if(((g=j.tickIncrement(b,c,a,e.calendar))-u)*(b-u)<=0)return a?Math.min(b,g):Math.max(b,g);m=(u-(b+g)/2)/(g-b),y=p+(Math.abs(Math.round(m))||1)*h,b=j.tickIncrement(b,y,m<0?!a:a,e.calendar),v++}return s.error("tickFirst did not converge",e),b}if("L"===p)return Math.log(l((Math.pow(10,u)-f)/h)*h+f)/Math.LN10;if("D"===p){var x="D2"===c?$:X,_=s.roundUp(s.mod(u,1),x,a);return Math.floor(u)+Math.log(r.round(Math.pow(10,_),1))/Math.LN10}throw"unrecognized dtick "+String(c)},j.tickText=function(e,t,n,r){var o,a=te(e,t),l="array"===e.tickmode,u=n||l,c=e.type,f="category"===c?e.d2l_noadd:e.d2l;if(l&&Array.isArray(e.ticktext)){var d=s.simpleMap(e.range,e.r2l),p=(Math.abs(d[1]-d[0])-(e._lBreaks||0))/1e4;for(o=0;o<e.ticktext.length&&!(Math.abs(t-f(e.tickvals[o]))<p);o++);if(o<e.ticktext.length)return a.text=String(e.ticktext[o]),a}function h(r){if(void 0===r)return!0;if(n)return"none"===r;var i={first:e._tmin,last:e._tmax}[r];return"all"!==r&&t!==i}var g=n?"never":"none"!==e.exponentformat&&h(e.showexponent)?"hide":"";if("date"===c?function(e,t,n,r){var o=e._tickround,a=n&&e.hoverformat||j.getTickFormat(e);r&&(o=i(o)?4:{y:"m",m:"d",d:"M",M:"S",S:4}[o]);var l,u=s.formatDate(t.x,a,o,e._dateFormat,e.calendar,e._extraFormat),c=u.indexOf("\n");-1!==c&&(l=u.substr(c+1),u=u.substr(0,c)),r&&("00:00:00"===u||"00:00"===u?(u=l,l=""):8===u.length&&(u=u.replace(/:00$/,""))),l&&(n?"d"===o?u+=", "+l:u=l+(u?", "+u:""):e._inCalcTicks&&l===e._prevDateHead||(u+="<br>"+l,e._prevDateHead=l)),t.text=u}(e,a,n,u):"log"===c?function(e,t,n,r,o){var a=e.dtick,l=t.x,u=e.tickformat,c="string"==typeof a&&a.charAt(0);if("never"===o&&(o=""),r&&"L"!==c&&(a="L3",c="L"),u||"L"===c)t.text=ae(Math.pow(10,l),e,o,r);else if(i(a)||"D"===c&&s.mod(l+.01,1)<.1){var f=Math.round(l),d=Math.abs(f),p=e.exponentformat;"power"===p||ie(p)&&oe(f)?(t.text=0===f?1:1===f?"10":"10<sup>"+(f>1?"":E)+d+"</sup>",t.fontSize*=1.25):("e"===p||"E"===p)&&d>2?t.text="1"+p+(f>0?"+":E)+d:(t.text=ae(Math.pow(10,l),e,"","fakehover"),"D1"===a&&"y"===e._id.charAt(0)&&(t.dy-=t.fontSize/6))}else{if("D"!==c)throw"unrecognized dtick "+String(a);t.text=String(Math.round(Math.pow(10,s.mod(l,1)))),t.fontSize*=.75}if("D1"===e.dtick){var h=String(t.text).charAt(0);"0"!==h&&"1"!==h||("y"===e._id.charAt(0)?t.dx-=t.fontSize/4:(t.dy+=t.fontSize/2,t.dx+=(e.range[1]>e.range[0]?1:-1)*t.fontSize*(l<0?.5:.25)))}}(e,a,0,u,g):"category"===c?function(e,t){var n=e._categories[Math.round(t.x)];void 0===n&&(n=""),t.text=String(n)}(e,a):"multicategory"===c?function(e,t,n){var r=Math.round(t.x),i=e._categories[r]||[],o=void 0===i[1]?"":String(i[1]),a=void 0===i[0]?"":String(i[0]);n?t.text=a+" - "+o:(t.text=o,t.text2=a)}(e,a,n):ve(e)?ne(e,a,n,u,g):function(e,t,n,r,i){"never"===i?i="":"all"===e.showexponent&&Math.abs(t.x/e.dtick)<1e-6&&(i="hide"),t.text=ae(t.x,e,i,r)}(e,a,0,u,g),r||(e.tickprefix&&!h(e.showtickprefix)&&(a.text=e.tickprefix+a.text),e.ticksuffix&&!h(e.showticksuffix)&&(a.text+=e.ticksuffix)),"boundaries"===e.tickson||e.showdividers){var m=function(t){var n=e.l2p(t);return n>=0&&n<=e._length?t:null};a.xbnd=[m(a.x-.5),m(a.x+e.dtick-.5)]}return a},j.hoverLabelText=function(e,t,n){if(n!==P&&n!==t)return j.hoverLabelText(e,t)+" - "+j.hoverLabelText(e,n);var r="log"===e.type&&t<=0,i=j.tickText(e,e.c2l(r?-t:t),"hover").text;return r?0===t?"0":E+i:i};var re=["f","p","n","μ","m","","k","M","G","T"];function ie(e){return"SI"===e||"B"===e}function oe(e){return e>14||e<-15}function ae(e,t,n,r){var o=e<0,a=t._tickround,l=n||t.exponentformat||"B",u=t._tickexponent,c=j.getTickFormat(t),f=t.separatethousands;if(r){var d={exponentformat:l,minexponent:t.minexponent,dtick:"none"===t.showexponent?t.dtick:i(e)&&Math.abs(e)||1,range:"none"===t.showexponent?t.range.map(t.r2d):[0,e||1]};ee(d),a=(Number(d._tickround)||0)+4,u=d._tickexponent,t.hoverformat&&(c=t.hoverformat)}if(c)return t._numFormat(c)(e).replace(/-/g,E);var p,h=Math.pow(10,-a)/2;if("none"===l&&(u=0),(e=Math.abs(e))<h)e="0",o=!1;else{if(e+=h,u&&(e*=Math.pow(10,-u),a+=u),0===a)e=String(Math.floor(e));else if(a<0){e=(e=String(Math.round(e))).substr(0,e.length+a);for(var g=a;g<0;g++)e+="0"}else{var m=(e=String(e)).indexOf(".")+1;m&&(e=e.substr(0,m+a).replace(/\.?0+$/,""))}e=s.numSeparate(e,t._separators,f)}return u&&"hide"!==l&&(ie(l)&&oe(u)&&(l="power"),p=u<0?E+-u:"power"!==l?"+"+u:String(u),"e"===l||"E"===l?e+=l+p:"power"===l?e+="×10<sup>"+p+"</sup>":"B"===l&&9===u?e+="B":ie(l)&&(e+=re[u/3+5])),o?E+e:e}function se(e,t){for(var n=[],r={},i=0;i<t.length;i++){var o=t[i];r[o.text2]?r[o.text2].push(o.x):r[o.text2]=[o.x]}for(var a in r)n.push(te(e,s.interp(r[a],.5),a));return n}function le(e){return[e.text,e.x,e.axInfo,e.font,e.fontSize,e.fontColor].join("_")}function ue(e){var t=e.title.font.size,n=(e.title.text.match(l.BR_TAG_ALL)||[]).length;return e.title.hasOwnProperty("standoff")?n?t*(R+n*I):t*R:n?t*(n+1)*I:t}function ce(e,t){var n=e.l2p(t);return n>1&&n<e._length-1}function fe(e){var t=r.select(e),n=t.select(".text-math-group");return n.empty()?t.select("text"):n}function de(e){return e._id+".automargin"}function pe(e){return de(e)+".mirror"}function he(e){return e._id+".rangeslider"}function ge(e,t){for(var n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n])}function me(e,t,n){var r,i,o=[],a=[],l=e.layout;for(r=0;r<t.length;r++)o.push(j.getFromId(e,t[r]));for(r=0;r<n.length;r++)a.push(j.getFromId(e,n[r]));var u=Object.keys(d),c=["anchor","domain","overlaying","position","side","tickangle","editType"],f=["linear","log"];for(r=0;r<u.length;r++){var p=u[r],h=o[0][p],g=a[0][p],m=!0,y=!1,v=!1;if("_"!==p.charAt(0)&&"function"!=typeof h&&-1===c.indexOf(p)){for(i=1;i<o.length&&m;i++){var b=o[i][p];"type"===p&&-1!==f.indexOf(h)&&-1!==f.indexOf(b)&&h!==b?y=!0:b!==h&&(m=!1)}for(i=1;i<a.length&&m;i++){var x=a[i][p];"type"===p&&-1!==f.indexOf(g)&&-1!==f.indexOf(x)&&g!==x?v=!0:a[i][p]!==g&&(m=!1)}m&&(y&&(l[o[0]._name].type="linear"),v&&(l[a[0]._name].type="linear"),ye(l,p,o,a,e._fullLayout._dfltTitle))}}for(r=0;r<e._fullLayout.annotations.length;r++){var _=e._fullLayout.annotations[r];-1!==t.indexOf(_.xref)&&-1!==n.indexOf(_.yref)&&s.swapAttrs(l.annotations[r],["?"])}}function ye(e,t,n,r,i){var o,a=s.nestedProperty,l=a(e[n[0]._name],t).get(),u=a(e[r[0]._name],t).get();for("title"===t&&(l&&l.text===i.x&&(l.text=i.y),u&&u.text===i.y&&(u.text=i.x)),o=0;o<n.length;o++)a(e,n[o]._name+"."+t).set(u);for(o=0;o<r.length;o++)a(e,r[o]._name+"."+t).set(l)}function ve(e){return"angularaxis"===e._id}function be(e,t){for(var n=t._rangebreaks.length,r=0;r<n;r++){var i=t._rangebreaks[r];if(e>=i.min&&e<i.max)return i.max}return e}j.getTickFormat=function(e){var t,n,r,i,o,a,s,l;function u(e){return"string"!=typeof e?e:Number(e.replace("M",""))*w}function c(e,t){var n=["L","D"];if(typeof e==typeof t){if("number"==typeof e)return e-t;var r=n.indexOf(e.charAt(0)),i=n.indexOf(t.charAt(0));return r===i?Number(e.replace(/(L|D)/g,""))-Number(t.replace(/(L|D)/g,"")):r-i}return"number"==typeof e?1:-1}function f(e,t){var n=null===t[0],r=null===t[1],i=c(e,t[0])>=0,o=c(e,t[1])<=0;return(n||i)&&(r||o)}if(e.tickformatstops&&e.tickformatstops.length>0)switch(e.type){case"date":case"linear":for(t=0;t<e.tickformatstops.length;t++)if((r=e.tickformatstops[t]).enabled&&(i=e.dtick,o=r.dtickrange,a=void 0,s=void 0,l=void 0,a=u||function(e){return e},s=o[0],l=o[1],(!s&&"number"!=typeof s||a(s)<=a(i))&&(!l&&"number"!=typeof l||a(l)>=a(i)))){n=r;break}break;case"log":for(t=0;t<e.tickformatstops.length;t++)if((r=e.tickformatstops[t]).enabled&&f(e.dtick,r.dtickrange)){n=r;break}}return n?n.value:e.tickformat},j.getSubplots=function(e,t){var n=e._fullLayout._subplots,r=n.cartesian.concat(n.gl2d||[]),i=t?j.findSubplotsWithAxis(r,t):r;return i.sort((function(e,t){var n=e.substr(1).split("y"),r=t.substr(1).split("y");return n[0]===r[0]?+n[1]-+r[1]:+n[0]-+r[0]})),i},j.findSubplotsWithAxis=function(e,t){for(var n=new RegExp("x"===t._id.charAt(0)?"^"+t._id+"y":t._id+"$"),r=[],i=0;i<e.length;i++){var o=e[i];n.test(o)&&r.push(o)}return r},j.makeClipPaths=function(e){var t=e._fullLayout;if(!t._hasOnlyLargeSploms){var n,i,o={_offset:0,_length:t.width,_id:""},a={_offset:0,_length:t.height,_id:""},s=j.list(e,"x",!0),l=j.list(e,"y",!0),u=[];for(n=0;n<s.length;n++)for(u.push({x:s[n],y:a}),i=0;i<l.length;i++)0===n&&u.push({x:o,y:l[i]}),u.push({x:s[n],y:l[i]});var c=t._clips.selectAll(".axesclip").data(u,(function(e){return e.x._id+e.y._id}));c.enter().append("clipPath").classed("axesclip",!0).attr("id",(function(e){return"clip"+t._uid+e.x._id+e.y._id})).append("rect"),c.exit().remove(),c.each((function(e){r.select(this).select("rect").attr({x:e.x._offset||0,y:e.y._offset||0,width:e.x._length||1,height:e.y._length||1})}))}},j.draw=function(e,t,n){var r=e._fullLayout;"redraw"===t&&r._paper.selectAll("g.subplot").each((function(e){var t=e[0],n=r._plots[t],i=n.xaxis,o=n.yaxis;n.xaxislayer.selectAll("."+i._id+"tick").remove(),n.yaxislayer.selectAll("."+o._id+"tick").remove(),n.xaxislayer.selectAll("."+i._id+"tick2").remove(),n.yaxislayer.selectAll("."+o._id+"tick2").remove(),n.xaxislayer.selectAll("."+i._id+"divider").remove(),n.yaxislayer.selectAll("."+o._id+"divider").remove(),n.gridlayer&&n.gridlayer.selectAll("path").remove(),n.zerolinelayer&&n.zerolinelayer.selectAll("path").remove(),r._infolayer.select(".g-"+i._id+"title").remove(),r._infolayer.select(".g-"+o._id+"title").remove()}));var i=t&&"redraw"!==t?t:j.listIds(e);return s.syncOrAsync(i.map((function(t){return function(){if(t){var r=j.getFromId(e,t),i=j.drawOne(e,r,n);return r._r=r.range.slice(),r._rl=s.simpleMap(r._r,r.r2l),i}}})))},j.drawOne=function(e,t,n){var r,i,l;n=n||{},t.setScale();var d=e._fullLayout,p=t._id,h=p.charAt(0),g=j.counterLetter(p),m=d._plots[t._mainSubplot];if(m){var y=m[h+"axislayer"],v=t._mainLinePosition,b=t._mainMirrorPosition,x=t._vals=j.calcTicks(t),_=[t.mirror,v,b].join("_");for(r=0;r<x.length;r++)x[r].axInfo=_;t._selections={},t._tickAngles&&(t._prevTickAngles=t._tickAngles),t._tickAngles={},t._depth=null;var w={};if(t.visible){var k,T,C=j.makeTransFn(t),O="period"===t.ticklabelmode?j.makeTransPeriodFn(t):j.makeTransFn(t);if("boundaries"===t.tickson){var S=function(e,t){var n,r=[],i=function(e,t){var n=e.xbnd[t];null!==n&&r.push(s.extendFlat({},e,{x:n}))};if(t.length){for(n=0;n<t.length;n++)i(t[n],0);i(t[n-1],1)}return r}(0,x);T=j.clipEnds(t,S),k="inside"===t.ticks?T:S}else T=j.clipEnds(t,x),k="inside"===t.ticks?T:x;var A=t._gridVals=T,M=function(e,t){var n,r,i=[],o=t.length&&t[t.length-1].x<t[0].x,a=function(e,t){var n=e.xbnd[t];null!==n&&i.push(s.extendFlat({},e,{x:n}))};if(e.showdividers&&t.length){for(n=0;n<t.length;n++){var l=t[n];l.text2!==r&&a(l,o?1:0),r=l.text2}a(t[n-1],o?0:1)}return i}(t,x);if(!d._hasOnlyLargeSploms){var E=t._subplotsWith,P={};for(r=0;r<E.length;r++){i=E[r];var D=(l=d._plots[i])[g+"axis"],L=D._mainAxis._id;if(!P[L]){P[L]=1;var R="x"===h?"M0,"+D._offset+"v"+D._length:"M"+D._offset+",0h"+D._length;j.drawGrid(e,t,{vals:A,counterAxis:D,layer:l.gridlayer.select("."+p),path:R,transFn:C}),j.drawZeroLine(e,t,{counterAxis:D,layer:l.zerolinelayer,path:R,transFn:C})}}}var z=j.getTickSigns(t),q=[];if(t.ticks){var F,B,H,U=j.makeTickPath(t,v,z[2]);if(t._anchorAxis&&t.mirror&&!0!==t.mirror?(F=j.makeTickPath(t,b,z[3]),B=U+F):(F="",B=U),t.showdividers&&"outside"===t.ticks&&"boundaries"===t.tickson){var V={};for(r=0;r<M.length;r++)V[M[r].x]=1;H=function(e){return V[e.x]?F:B}}else H=B;j.drawTicks(e,t,{vals:k,layer:y,path:H,transFn:C}),"allticks"===t.mirror&&(q=Object.keys(t._linepositions||{}))}for(r=0;r<q.length;r++){i=q[r],l=d._plots[i];var W=t._linepositions[i]||[],G=j.makeTickPath(t,W[0],z[0])+j.makeTickPath(t,W[1],z[1]);j.drawTicks(e,t,{vals:k,layer:l[h+"axislayer"],path:G,transFn:C})}var K=[];if(K.push((function(){return j.drawLabels(e,t,{vals:x,layer:y,transFn:O,labelFns:j.makeLabelFns(t,v)})})),"multicategory"===t.type){var Y={x:2,y:10}[h];K.push((function(){var n={x:"height",y:"width"}[h],r=X()[n]+Y+(t._tickAngles[p+"tick"]?t.tickfont.size*I:0);return j.drawLabels(e,t,{vals:se(t,x),layer:y,cls:p+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:C,labelFns:j.makeLabelFns(t,v+r*z[4])})})),K.push((function(){return t._depth=z[4]*(X("tick2")[t.side]-v),function(e,t,n){var r=t._id+"divider",i=n.vals,o=n.layer.selectAll("path."+r).data(i,le);o.exit().remove(),o.enter().insert("path",":first-child").classed(r,1).classed("crisp",1).call(c.stroke,t.dividercolor).style("stroke-width",f.crispRound(e,t.dividerwidth,1)+"px"),o.attr("transform",n.transFn).attr("d",n.path)}(e,t,{vals:M,layer:y,path:j.makeTickPath(t,v,z[4],t._depth),transFn:C})}))}else t.title.hasOwnProperty("standoff")&&K.push((function(){t._depth=z[4]*(X()[t.side]-v)}));var Z=a.getComponentMethod("rangeslider","isVisible")(t);return K.push((function(){var n,r,i,s,l=t.side.charAt(0),u=N[t.side].charAt(0),c=j.getPxPosition(e,t),f="outside"===t.ticks?t.ticklen:0;if((t.automargin||Z)&&("multicategory"===t.type?n=X("tick2"):(n=X(),"x"===h&&"b"===l&&(t._depth=Math.max(n.width>0?n.bottom-c:0,f)))),t.automargin){r={x:0,y:0,r:0,l:0,t:0,b:0};var p=[0,1];if("x"===h){if("b"===l?r[l]=t._depth:(r[l]=t._depth=Math.max(n.width>0?c-n.top:0,f),p.reverse()),n.width>0){var m=n.right-(t._offset+t._length);m>0&&(r.xr=1,r.r=m);var y=t._offset-n.left;y>0&&(r.xl=0,r.l=y)}}else if("l"===l?r[l]=t._depth=Math.max(n.height>0?c-n.left:0,f):(r[l]=t._depth=Math.max(n.height>0?n.right-c:0,f),p.reverse()),n.height>0){var v=n.bottom-(t._offset+t._length);v>0&&(r.yb=0,r.b=v);var b=t._offset-n.top;b>0&&(r.yt=1,r.t=b)}r[g]="free"===t.anchor?t.position:t._anchorAxis.domain[p[0]],t.title.text!==d._dfltTitle[h]&&(r[l]+=ue(t)+(t.title.standoff||0)),t.mirror&&"free"!==t.anchor&&((i={x:0,y:0,r:0,l:0,t:0,b:0})[u]=t.linewidth,t.mirror&&!0!==t.mirror&&(i[u]+=f),!0===t.mirror||"ticks"===t.mirror?i[g]=t._anchorAxis.domain[p[1]]:"all"!==t.mirror&&"allticks"!==t.mirror||(i[g]=[t._counterDomainMin,t._counterDomainMax][p[1]]))}Z&&(s=a.getComponentMethod("rangeslider","autoMarginOpts")(e,t)),o.autoMargin(e,de(t),r),o.autoMargin(e,pe(t),i),o.autoMargin(e,he(t),s)})),n.skipTitle||Z&&"bottom"===t.side||K.push((function(){return function(e,t){var n,r=e._fullLayout,i=t._id,o=i.charAt(0),a=t.title.font.size;t.title.hasOwnProperty("standoff")?n=t._depth+t.title.standoff+ue(t):(n="multicategory"===t.type?t._depth:10+1.5*a+(t.linewidth?t.linewidth-1:0),n+="x"===o?"top"===t.side?a*(t.showticklabels?1:0):a*(t.showticklabels?1.5:.5):"right"===t.side?a*(t.showticklabels?1:.5):a*(t.showticklabels?.5:0));var s,l,c,d,p=j.getPxPosition(e,t);if("x"===o?(l=t._offset+t._length/2,c="top"===t.side?p-n:p+n):(c=t._offset+t._length/2,l="right"===t.side?p+n:p-n,s={rotate:"-90",offset:0}),"multicategory"!==t.type){var h=t._selections[t._id+"tick"];if(d={selection:h,side:t.side},h&&h.node()&&h.node().parentNode){var g=f.getTranslate(h.node().parentNode);d.offsetLeft=g.x,d.offsetTop=g.y}t.title.hasOwnProperty("standoff")&&(d.pad=0)}return u.draw(e,i+"title",{propContainer:t,propName:t._name+".title.text",placeholder:r._dfltTitle[o],avoid:d,transform:s,attributes:{x:l,y:c,"text-anchor":"middle"}})}(e,t)})),s.syncOrAsync(K)}}function X(e){var n=p+(e||"tick");return w[n]||(w[n]=function(e,t){var n,r,i,o;return e._selections[t].size()?(n=1/0,r=-1/0,i=1/0,o=-1/0,e._selections[t].each((function(){var e=fe(this),t=f.bBox(e.node().parentNode);n=Math.min(n,t.top),r=Math.max(r,t.bottom),i=Math.min(i,t.left),o=Math.max(o,t.right)}))):(n=0,r=0,i=0,o=0),{top:n,bottom:r,left:i,right:o,height:r-n,width:o-i}}(t,n)),w[n]}},j.getTickSigns=function(e){var t=e._id.charAt(0),n={x:"top",y:"right"}[t],r=e.side===n?1:-1,i=[-1,1,r,-r];return"inside"!==e.ticks==("x"===t)&&(i=i.map((function(e){return-e}))),e.side&&i.push({l:-1,t:-1,r:1,b:1}[e.side.charAt(0)]),i},j.makeTransFn=function(e){var t=e._id.charAt(0),n=e._offset;return"x"===t?function(t){return"translate("+(n+e.l2p(t.x))+",0)"}:function(t){return"translate(0,"+(n+e.l2p(t.x))+")"}},j.makeTransPeriodFn=function(e){var t=e._id.charAt(0),n=e._offset;return"x"===t?function(t){return"translate("+(n+e.l2p(void 0!==t.periodX?t.periodX:t.x))+",0)"}:function(t){return"translate(0,"+(n+e.l2p(void 0!==t.periodX?t.periodX:t.x))+")"}},j.makeTickPath=function(e,t,n,r){r=void 0!==r?r:e.ticklen;var i=e._id.charAt(0),o=(e.linewidth||1)/2;return"x"===i?"M0,"+(t+o*n)+"v"+r*n:"M"+(t+o*n)+",0h"+r*n},j.makeLabelFns=function(e,t,n){var r=e._id.charAt(0),o="boundaries"!==e.tickson&&"outside"===e.ticks,a=0,l=0;if(o&&(a+=e.ticklen),n&&"outside"===e.ticks){var u=s.deg2rad(n);a=e.ticklen*Math.cos(u)+1,l=e.ticklen*Math.sin(u)}e.showticklabels&&(o||e.showline)&&(a+=.2*e.tickfont.size);var c,f,d,p,h={labelStandoff:a+=(e.linewidth||1)/2,labelShift:l};return"x"===r?(p="bottom"===e.side?1:-1,c=l*p,f=t+a*p,d="bottom"===e.side?1:-.2,h.xFn=function(e){return e.dx+c},h.yFn=function(e){return e.dy+f+e.fontSize*d},h.anchorFn=function(e,t){return i(t)&&0!==t&&180!==t?t*p<0?"end":"start":"middle"},h.heightFn=function(t,n,r){return n<-60||n>60?-.5*r:"top"===e.side?-r:0}):"y"===r&&(p="right"===e.side?1:-1,c=a,f=-l*p,d=90===Math.abs(e.tickangle)?.5:0,h.xFn=function(e){return e.dx+t+(c+e.fontSize*d)*p},h.yFn=function(e){return e.dy+f+e.fontSize*L},h.anchorFn=function(t,n){return i(n)&&90===Math.abs(n)?"middle":"right"===e.side?"start":"end"},h.heightFn=function(t,n,r){return(n*="left"===e.side?1:-1)<-30?-r:n<30?-.5*r:0}),h},j.drawTicks=function(e,t,n){n=n||{};var r=t._id+"tick",i=n.vals;"period"===t.ticklabelmode&&(i=i.slice()).shift();var o=n.layer.selectAll("path."+r).data(t.ticks?i:[],le);o.exit().remove(),o.enter().append("path").classed(r,1).classed("ticks",1).classed("crisp",!1!==n.crisp).call(c.stroke,t.tickcolor).style("stroke-width",f.crispRound(e,t.tickwidth,1)+"px").attr("d",n.path),o.attr("transform",n.transFn)},j.drawGrid=function(e,t,n){n=n||{};var r=t._id+"grid",i=n.vals,o=n.counterAxis;if(!1===t.showgrid)i=[];else if(o&&j.shouldShowZeroLine(e,t,o))for(var a="array"===t.tickmode,s=0;s<i.length;s++){var l=i[s].x;if(a?!l:Math.abs(l)<t.dtick/100){if(i=i.slice(0,s).concat(i.slice(s+1)),!a)break;s--}}var u=n.layer.selectAll("path."+r).data(i,le);u.exit().remove(),u.enter().append("path").classed(r,1).classed("crisp",!1!==n.crisp),t._gw=f.crispRound(e,t.gridwidth,1),u.attr("transform",n.transFn).attr("d",n.path).call(c.stroke,t.gridcolor||"#ddd").style("stroke-width",t._gw+"px"),"function"==typeof n.path&&u.attr("d",n.path)},j.drawZeroLine=function(e,t,n){n=n||n;var r=t._id+"zl",i=j.shouldShowZeroLine(e,t,n.counterAxis),o=n.layer.selectAll("path."+r).data(i?[{x:0,id:t._id}]:[]);o.exit().remove(),o.enter().append("path").classed(r,1).classed("zl",1).classed("crisp",!1!==n.crisp).each((function(){n.layer.selectAll("path").sort((function(e,t){return q.idSort(e.id,t.id)}))})),o.attr("transform",n.transFn).attr("d",n.path).call(c.stroke,t.zerolinecolor||c.defaultLine).style("stroke-width",f.crispRound(e,t.zerolinewidth,t._gw||1)+"px")},j.drawLabels=function(e,t,n){n=n||{};var o=e._fullLayout,a=t._id,u=a.charAt(0),c=n.cls||a+"tick",d=n.vals,p=n.labelFns,h=n.secondary?0:t.tickangle,g=(t._prevTickAngles||{})[c],m=n.layer.selectAll("g."+c).data(t.showticklabels?d:[],le),y=[];function v(e,t){e.each((function(e){var o=r.select(this),a=o.select(".text-math-group"),s=p.anchorFn(e,t),u=n.transFn.call(o.node(),e)+(i(t)&&0!=+t?" rotate("+t+","+p.xFn(e)+","+(p.yFn(e)-e.fontSize/2)+")":""),c=l.lineCount(o),d=I*e.fontSize,h=p.heightFn(e,i(t)?+t:0,(c-1)*d);if(h&&(u+=" translate(0, "+h+")"),a.empty())o.select("text").attr({transform:u,"text-anchor":s});else{var g=f.bBox(a.node()).width*{end:-.5,start:.5}[s];a.attr("transform",u+(g?"translate("+g+",0)":""))}}))}m.enter().append("g").classed(c,1).append("text").attr("text-anchor","middle").each((function(t){var n=r.select(this),i=e._promises.length;n.call(l.positionText,p.xFn(t),p.yFn(t)).call(f.font,t.font,t.fontSize,t.fontColor).text(t.text).call(l.convertToTspans,e),e._promises[i]?y.push(e._promises.pop().then((function(){v(n,h)}))):v(n,h)})),m.exit().remove(),n.repositionOnUpdate&&m.each((function(e){r.select(this).select("text").call(l.positionText,p.xFn(e),p.yFn(e))})),v(m,g+1?g:h);var b=null;t._selections&&(t._selections[c]=m);var x=[function(){return y.length&&Promise.all(y)}];t.automargin&&o._redrawFromAutoMarginCount&&90===g?(b=90,x.push((function(){v(m,g)}))):x.push((function(){if(v(m,h),d.length&&"x"===u&&!i(h)&&("log"!==t.type||"D"!==String(t.dtick).charAt(0))){b=0;var e,r=0,o=[];if(m.each((function(e){r=Math.max(r,e.fontSize);var n=t.l2p(e.x),i=fe(this),a=f.bBox(i.node());o.push({top:0,bottom:10,height:10,left:n-a.width/2,right:n+a.width/2+2,width:a.width+2})})),"boundaries"!==t.tickson&&!t.showdividers||n.secondary){var a=d.length,l=Math.abs((d[a-1].x-d[0].x)*t._m)/(a-1)<2.5*r||"multicategory"===t.type;for(e=0;e<o.length-1;e++)if(s.bBoxIntersect(o[e],o[e+1])){b=l?90:30;break}}else{var c=2;for(t.ticks&&(c+=t.tickwidth/2),e=0;e<o.length;e++){var p=d[e].xbnd,g=o[e];if(null!==p[0]&&g.left-t.l2p(p[0])<c||null!==p[1]&&t.l2p(p[1])-g.right<c){b=90;break}}}b&&v(m,b)}})),t._tickAngles&&x.push((function(){t._tickAngles[c]=null===b?i(h)?h:0:b}));var _=s.syncOrAsync(x);return _&&_.then&&e._promises.push(_),_},j.getPxPosition=function(e,t){var n,r=e._fullLayout._size,i=t._id.charAt(0),o=t.side;return"free"!==t.anchor?n=t._anchorAxis:"x"===i?n={_offset:r.t+(1-(t.position||0))*r.h,_length:0}:"y"===i&&(n={_offset:r.l+(t.position||0)*r.w,_length:0}),"top"===o||"left"===o?n._offset:"bottom"===o||"right"===o?n._offset+n._length:void 0},j.shouldShowZeroLine=function(e,t,n){var r=s.simpleMap(t.range,t.r2l);return r[0]*r[1]<=0&&t.zeroline&&("linear"===t.type||"-"===t.type)&&!(t.rangebreaks&&t.maskBreaks(0)===P)&&(ce(t,0)||!function(e,t,n,r){var i=n._mainAxis;if(i){var o=e._fullLayout,a=t._id.charAt(0),s=j.counterLetter(t._id),l=t._offset+(Math.abs(r[0])<Math.abs(r[1])==("x"===a)?0:t._length),u=o._plots[n._mainSubplot];if(!(u.mainplotinfo||u).overlays.length)return p(n);for(var c=j.list(e,s),f=0;f<c.length;f++){var d=c[f];if(d._mainAxis===i&&p(d))return!0}}function p(e){if(!e.showline||!e.linewidth)return!1;var n=Math.max((e.linewidth+t.zerolinewidth)/2,1);function r(e){return"number"==typeof e&&Math.abs(e-l)<n}if(r(e._mainLinePosition)||r(e._mainMirrorPosition))return!0;var i=e._linepositions||{};for(var o in i)if(r(i[o][0])||r(i[o][1]))return!0}}(e,t,n,r)||function(e,t){for(var n=e._fullData,r=t._mainSubplot,i=t._id.charAt(0),o=0;o<n.length;o++){var s=n[o];if(!0===s.visible&&s.xaxis+s.yaxis===r){if(a.traceIs(s,"bar-like")&&s.orientation==={x:"h",y:"v"}[i])return!0;if(s.fill&&s.fill.charAt(s.fill.length-1)===i)return!0}}return!1}(e,t))},j.clipEnds=function(e,t){return t.filter((function(t){return ce(e,t.x)}))},j.allowAutoMargin=function(e){for(var t=j.list(e,"",!0),n=0;n<t.length;n++){var r=t[n];r.automargin&&(o.allowAutoMargin(e,de(r)),r.mirror&&o.allowAutoMargin(e,pe(r))),a.getComponentMethod("rangeslider","isVisible")(r)&&o.allowAutoMargin(e,he(r))}},j.swap=function(e,t){for(var n=function(e,t){var n,r,i=[];for(n=0;n<t.length;n++){var o=[],a=e._fullData[t[n]].xaxis,s=e._fullData[t[n]].yaxis;if(a&&s){for(r=0;r<i.length;r++)-1===i[r].x.indexOf(a)&&-1===i[r].y.indexOf(s)||o.push(r);if(o.length){var l,u=i[o[0]];if(o.length>1)for(r=1;r<o.length;r++)l=i[o[r]],ge(u.x,l.x),ge(u.y,l.y);ge(u.x,[a]),ge(u.y,[s])}else i.push({x:[a],y:[s]})}}return i}(e,t),r=0;r<n.length;r++)me(e,n[r].x,n[r].y)}},{"../../components/color":75,"../../components/drawing":97,"../../components/titles":170,"../../constants/alignment":177,"../../constants/numerical":182,"../../lib":203,"../../lib/svg_text_utils":224,"../../plots/plots":282,"../../registry":295,"./autorange":247,"./axis_autotype":249,"./axis_ids":251,"./clean_ticks":253,"./layout_attributes":262,"./set_convert":268,d3:21,"fast-isnumeric":23}],249:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../../lib"),o=e("../../constants/numerical").BADNUM;t.exports=function(e,t,n){return!(n=n||{}).noMultiCategory&&(a=e,i.isArrayOrTypedArray(a[0])&&i.isArrayOrTypedArray(a[1]))?"multicategory":function(e,t){for(var n=Math.max(1,(e.length-1)/1e3),o=0,a=0,s={},l=0;l<e.length;l+=n){var u=e[Math.round(l)],c=String(u);s[c]||(s[c]=1,i.isDateTime(u,t)&&(o+=1),r(u)&&(a+=1))}return o>2*a}(e,t)?"date":function(e){for(var t=Math.max(1,(e.length-1)/1e3),n=0,r=0,a={},s=0;s<e.length;s+=t){var l=e[Math.round(s)],u=String(l);a[u]||(a[u]=1,"boolean"==typeof l?r++:i.cleanNumber(l)!==o?n++:"string"==typeof l&&r++)}return r>2*n}(e)?"category":function(e){if(!e)return!1;for(var t=0;t<e.length;t++)if(r(e[t]))return!0;return!1}(e)?"linear":"-";var a}},{"../../constants/numerical":182,"../../lib":203,"fast-isnumeric":23}],250:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../../registry"),o=e("../../lib"),a=e("../array_container_defaults"),s=e("./layout_attributes"),l=e("./tick_value_defaults"),u=e("./tick_mark_defaults"),c=e("./tick_label_defaults"),f=e("./category_order_defaults"),d=e("./line_grid_defaults"),p=e("./set_convert"),h=e("./constants").WEEKDAY_PATTERN,g=e("./constants").HOUR_PATTERN;function m(e,t,n){function i(n,r){return o.coerce(e,t,s.rangebreaks,n,r)}if(i("enabled")){var a=i("bounds");if(a&&a.length>=2){var l,u,c="";if(2===a.length)for(l=0;l<2;l++)if(u=v(a[l])){c=h;break}var f=i("pattern",c);if(f===h)for(l=0;l<2;l++)(u=v(a[l]))&&(t.bounds[l]=a[l]=u-1);if(f)for(l=0;l<2;l++)switch(u=a[l],f){case h:if(!r(u))return void(t.enabled=!1);if((u=+u)!==Math.floor(u)||u<0||u>=7)return void(t.enabled=!1);t.bounds[l]=a[l]=u;break;case g:if(!r(u))return void(t.enabled=!1);if((u=+u)<0||u>24)return void(t.enabled=!1);t.bounds[l]=a[l]=u}if(!1===n.autorange){var d=n.range;if(d[0]<d[1]){if(a[0]<d[0]&&a[1]>d[1])return void(t.enabled=!1)}else if(a[0]>d[0]&&a[1]<d[1])return void(t.enabled=!1)}}else{var p=i("values");if(!p||!p.length)return void(t.enabled=!1);i("dvalue")}}}t.exports=function(e,t,n,r,g){var y=r.letter,v=r.font||{},b=r.splomStash||{},x=n("visible",!r.visibleDflt),_=t._template||{},w=t.type||_.type||"-";"date"===w&&i.getComponentMethod("calendars","handleDefaults")(e,t,"calendar",r.calendar),p(t,g);var k=!t.isValidRange(e.range);k&&r.reverseDflt&&(k="reversed"),!n("autorange",k)||"linear"!==w&&"-"!==w||n("rangemode"),n("range"),t.cleanRange(),f(e,t,n,r),"category"===w||r.noHover||n("hoverformat");var T=n("color"),C=T!==s.color.dflt?T:v.color,O=b.label||g._dfltTitle[y];if(c(e,t,n,w,r,{pass:1}),!x)return t;n("title.text",O),o.coerceFont(n,"title.font",{family:v.family,size:Math.round(1.2*v.size),color:C}),l(e,t,n,w),c(e,t,n,w,r,{pass:2}),u(e,t,n,r),d(e,t,n,{dfltColor:T,bgColor:r.bgColor,showGrid:r.showGrid,attributes:s}),(t.showline||t.ticks)&&n("mirror"),r.automargin&&n("automargin");var S,A="multicategory"===w;if(r.noTickson||"category"!==w&&!A||!t.ticks&&!t.showgrid||(A&&(S="boundaries"),n("tickson",S)),A&&n("showdividers")&&(n("dividercolor"),n("dividerwidth")),"date"===w)if(r.noTicklabelmode||n("ticklabelmode"),a(e,t,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:m}),t.rangebreaks.length){for(var M=0;M<t.rangebreaks.length;M++)if(t.rangebreaks[M].pattern===h){t._hasDayOfWeekBreaks=!0;break}if(p(t,g),g._has("scattergl")||g._has("splom"))for(var E=0;E<r.data.length;E++){var P=r.data[E];"scattergl"!==P.type&&"splom"!==P.type||(P.visible=!1,o.warn(P.type+" traces do not work on axes with rangebreaks. Setting trace "+P.index+" to `visible: false`."))}}else delete t.rangebreaks;return t};var y={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function v(e){if("string"==typeof e)return y[e.substr(0,3).toLowerCase()]}},{"../../lib":203,"../../registry":295,"../array_container_defaults":243,"./category_order_defaults":252,"./constants":254,"./layout_attributes":262,"./line_grid_defaults":264,"./set_convert":268,"./tick_label_defaults":269,"./tick_mark_defaults":270,"./tick_value_defaults":271,"fast-isnumeric":23}],251:[function(e,t,n){"use strict";var r=e("../../registry"),i=e("./constants");n.id2name=function(e){if("string"==typeof e&&e.match(i.AX_ID_PATTERN)){var t=e.split(" ")[0].substr(1);return"1"===t&&(t=""),e.charAt(0)+"axis"+t}},n.name2id=function(e){if(e.match(i.AX_NAME_PATTERN)){var t=e.substr(5);return"1"===t&&(t=""),e.charAt(0)+t}},n.cleanId=function(e,t,n){var r=/( domain)$/.test(e);if("string"==typeof e&&e.match(i.AX_ID_PATTERN)&&(!t||e.charAt(0)===t)&&(!r||n)){var o=e.split(" ")[0].substr(1).replace(/^0+/,"");return"1"===o&&(o=""),e.charAt(0)+o+(r&&n?" domain":"")}},n.list=function(e,t,r){var i=e._fullLayout;if(!i)return[];var o,a=n.listIds(e,t),s=new Array(a.length);for(o=0;o<a.length;o++){var l=a[o];s[o]=i[l.charAt(0)+"axis"+l.substr(1)]}if(!r){var u=i._subplots.gl3d||[];for(o=0;o<u.length;o++){var c=i[u[o]];t?s.push(c[t+"axis"]):s.push(c.xaxis,c.yaxis,c.zaxis)}}return s},n.listIds=function(e,t){var n=e._fullLayout;if(!n)return[];var r=n._subplots;return t?r[t+"axis"]:r.xaxis.concat(r.yaxis)},n.getFromId=function(e,t,r){var i=e._fullLayout;return t=void 0===t||"string"!=typeof t?t:t.replace(" domain",""),"x"===r?t=t.replace(/y[0-9]*/,""):"y"===r&&(t=t.replace(/x[0-9]*/,"")),i[n.id2name(t)]},n.getFromTrace=function(e,t,i){var o=e._fullLayout,a=null;if(r.traceIs(t,"gl3d")){var s=t.scene;"scene"===s.substr(0,5)&&(a=o[s][i+"axis"])}else a=n.getFromId(e,t[i+"axis"]||i);return a},n.idSort=function(e,t){var n=e.charAt(0),r=t.charAt(0);return n!==r?n>r?1:-1:+(e.substr(1)||1)-+(t.substr(1)||1)},n.getAxisGroup=function(e,t){for(var n=e._axisMatchGroups,r=0;r<n.length;r++)if(n[r][t])return"g"+r;return t},n.ref2id=function(e){return!!/^[xyz]/.test(e)&&e.split(" ")[0]}},{"../../registry":295,"./constants":254}],252:[function(e,t,n){"use strict";t.exports=function(e,t,n,r){if("category"===t.type){var i,o=e.categoryarray,a=Array.isArray(o)&&o.length>0;a&&(i="array");var s,l=n("categoryorder",i);"array"===l&&(s=n("categoryarray")),a||"array"!==l||(l=t.categoryorder="trace"),"trace"===l?t._initialCategories=[]:"array"===l?t._initialCategories=s.slice():(s=function(e,t){var n,r,i,o=t.dataAttr||e._id.charAt(0),a={};if(t.axData)n=t.axData;else for(n=[],r=0;r<t.data.length;r++){var s=t.data[r];s[o+"axis"]===e._id&&n.push(s)}for(r=0;r<n.length;r++){var l=n[r][o];for(i=0;i<l.length;i++){var u=l[i];null!=u&&(a[u]=1)}}return Object.keys(a)}(t,r).sort(),"category ascending"===l?t._initialCategories=s:"category descending"===l&&(t._initialCategories=s.reverse()))}}},{}],253:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../../lib"),o=e("../../constants/numerical"),a=o.ONEDAY,s=o.ONEWEEK;n.dtick=function(e,t){var n="log"===t,i="date"===t,o="category"===t,s=i?a:1;if(!e)return s;if(r(e))return(e=Number(e))<=0?s:o?Math.max(1,Math.round(e)):i?Math.max(.1,e):e;if("string"!=typeof e||!i&&!n)return s;var l=e.charAt(0),u=e.substr(1);return(u=r(u)?Number(u):0)<=0||!(i&&"M"===l&&u===Math.round(u)||n&&"L"===l||n&&"D"===l&&(1===u||2===u))?s:e},n.tick0=function(e,t,n,o){return"date"===t?i.cleanDate(e,i.dateTick0(n,o%s==0?1:0)):"D1"!==o&&"D2"!==o?r(e)?Number(e):0:void 0}},{"../../constants/numerical":182,"../../lib":203,"fast-isnumeric":23}],254:[function(e,t,n){"use strict";var r=e("../../lib/regex").counter;t.exports={idRegex:{x:r("x","( domain)?"),y:r("y","( domain)?")},attrRegex:r("[xy]axis"),xAxisMatch:r("xaxis"),yAxisMatch:r("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINSELECT:12,MINZOOM:20,DRAGGERSIZE:20,BENDPX:1.5,REDRAWDELAY:50,SELECTDELAY:100,SELECTID:"-select",DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},{"../../lib/regex":218}],255:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("./axis_ids").id2name,o=e("./scale_zoom"),a=e("./autorange").makePadFn,s=e("./autorange").concatExtremes,l=e("../../constants/numerical").ALMOST_EQUAL,u=e("../../constants/alignment").FROM_BL;function c(e,t,n,r,o){var a,s,l,u,c="range"!==o,f=r[i(t)].type,d=[];for(s=0;s<n.length;s++)(l=n[s])!==t&&(u=r[i(l)]).type===f&&(u.fixedrange?c&&u.anchor&&r[i(u.anchor)].fixedrange&&d.push(l):d.push(l));for(a=0;a<e.length;a++)if(e[a][t]){var p=e[a],h=[];for(s=0;s<d.length;s++)p[l=d[s]]||h.push(l);return{linkableAxes:h,thisGroup:p}}return{linkableAxes:d,thisGroup:null}}function f(e,t,n,r,i){var o,a,s,l,u;null===t?((t={})[n]=1,u=e.length,e.push(t)):u=e.indexOf(t);var c=Object.keys(t);for(o=0;o<e.length;o++)if(s=e[o],o!==u&&s[r]){var f=s[r];for(a=0;a<c.length;a++)s[l=c[a]]=f*i*t[l];return void e.splice(u,1)}if(1!==i)for(a=0;a<c.length;a++)t[c[a]]*=i;t[r]=1}function d(e,t){var n=e._inputDomain,r=u[e.constraintoward],i=n[0]+(n[1]-n[0])*r;e.domain=e._input.domain=[i+(n[0]-i)/t,i+(n[1]-i)/t],e.setScale()}n.handleConstraintDefaults=function(e,t,n,i){var o,a,s,l,u=i.allAxisIds,d=i.layoutOut,p=i.scaleanchorDflt,h=i.constrainDflt,g=d._axisConstraintGroups,m=d._axisMatchGroups,y=t._id,v=y.charAt(0),b=((d._splomAxes||{})[v]||{})[y]||{},x=t._id,_=x.charAt(0),w=n("constrain",h);if(r.coerce(e,t,{constraintoward:{valType:"enumerated",values:"x"===_?["left","center","right"]:["bottom","middle","top"],dflt:"x"===_?"center":"middle"}},"constraintoward"),!e.matches&&!b.matches||t.fixedrange||(a=c(m,x,u,d),o=r.coerce(e,t,{matches:{valType:"enumerated",values:a.linkableAxes||[],dflt:b.matches}},"matches")),o||t.fixedrange&&"domain"!==w||!e.scaleanchor&&!p||(l=c(g,x,u,d,w),s=r.coerce(e,t,{scaleanchor:{valType:"enumerated",values:l.linkableAxes||[]}},"scaleanchor",p)),o?(delete t.constrain,f(m,a.thisGroup,x,o,1)):-1!==u.indexOf(e.matches)&&r.warn("ignored "+t._name+'.matches: "'+e.matches+'" to avoid either an infinite loop or because the target axis has fixed range.'),s){var k=n("scaleratio");k||(k=t.scaleratio=1),f(g,l.thisGroup,x,s,k)}else-1!==u.indexOf(e.scaleanchor)&&r.warn("ignored "+t._name+'.scaleanchor: "'+e.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because the target axis has fixed range or this axis declares a *matches* constraint.')},n.enforce=function(e){var t,n,r,u,c,f,p,h=e._fullLayout,g=h._axisConstraintGroups||[];for(t=0;t<g.length;t++){var m=g[t],y=Object.keys(m),v=1/0,b=0,x=1/0,_={},w={},k=!1;for(n=0;n<y.length;n++)w[r=y[n]]=u=h[i(r)],u._inputDomain?u.domain=u._inputDomain.slice():u._inputDomain=u.domain.slice(),u._inputRange||(u._inputRange=u.range.slice()),u.setScale(),_[r]=c=Math.abs(u._m)/m[r],v=Math.min(v,c),"domain"!==u.constrain&&u._constraintShrinkable||(x=Math.min(x,c)),delete u._constraintShrinkable,b=Math.max(b,c),"domain"===u.constrain&&(k=!0);if(!(v>l*b)||k)for(n=0;n<y.length;n++)if(c=_[r=y[n]],f=(u=w[r]).constrain,c!==x||"domain"===f)if(p=c/x,"range"===f)o(u,p);else{var T=u._inputDomain,C=(u.domain[1]-u.domain[0])/(T[1]-T[0]),O=(u.r2l(u.range[1])-u.r2l(u.range[0]))/(u.r2l(u._inputRange[1])-u.r2l(u._inputRange[0]));if((p/=C)*O<1){u.domain=u._input.domain=T.slice(),o(u,p);continue}if(O<1&&(u.range=u._input.range=u._inputRange.slice(),p*=O),u.autorange){var S=u.r2l(u.range[0]),A=u.r2l(u.range[1]),M=(S+A)/2,E=M,P=M,D=Math.abs(A-M),L=M-D*p*1.0001,R=M+D*p*1.0001,I=a(u);d(u,p);var N,j,z=Math.abs(u._m),q=s(e,u),F=q.min,B=q.max;for(j=0;j<F.length;j++)(N=F[j].val-I(F[j])/z)>L&&N<E&&(E=N);for(j=0;j<B.length;j++)(N=B[j].val+I(B[j])/z)<R&&N>P&&(P=N);p/=(P-E)/(2*D),E=u.l2r(E),P=u.l2r(P),u.range=u._input.range=S<A?[E,P]:[P,E]}d(u,p)}}},n.clean=function(e,t){if(t._inputDomain){for(var n=!1,r=t._id,i=e._fullLayout._axisConstraintGroups,o=0;o<i.length;o++)if(i[o][r]){n=!0;break}n&&"domain"===t.constrain||(t._input.domain=t.domain=t._inputDomain,delete t._inputDomain)}}},{"../../constants/alignment":177,"../../constants/numerical":182,"../../lib":203,"./autorange":247,"./axis_ids":251,"./scale_zoom":266}],256:[function(e,t,n){"use strict";var r=e("d3"),i=e("tinycolor2"),o=e("has-passive-events"),a=e("../../registry"),s=e("../../lib"),l=e("../../lib/svg_text_utils"),u=e("../../components/color"),c=e("../../components/drawing"),f=e("../../components/fx"),d=e("./axes"),p=e("../../lib/setcursor"),h=e("../../components/dragelement"),g=e("../../components/dragelement/helpers"),m=g.selectingOrDrawing,y=g.freeMode,v=e("../../constants/alignment").FROM_TL,b=e("../../lib/clear_gl_canvases"),x=e("../../plot_api/subroutines").redrawReglTraces,_=e("../plots"),w=e("./axis_ids").getFromId,k=e("./select").prepSelect,T=e("./select").clearSelect,C=e("./select").selectOnClick,O=e("./scale_zoom"),S=e("./constants"),A=S.MINDRAG,M=S.MINZOOM,E=!0;function P(e,t,n,r){var i=s.ensureSingle(e.draglayer,t,n,(function(t){t.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",e.id)}));return i.call(p,r),i.node()}function D(e,t,n,i,o,a,s){var l=P(e,"rect",t,n);return r.select(l).call(c.setRect,i,o,a,s),l}function L(e,t){for(var n=0;n<e.length;n++)if(!e[n].fixedrange)return t;return""}function R(e,t,n,r,i){for(var o=0;o<e.length;o++){var a=e[o];if(!a.fixedrange)if(a.rangebreaks){var s="y"===a._id.charAt(0),l=s?1-t:t,u=s?1-n:n;r[a._name+".range[0]"]=a.l2r(a.p2l(l*a._length)),r[a._name+".range[1]"]=a.l2r(a.p2l(u*a._length))}else{var c=a._rl[0],f=a._rl[1]-c;r[a._name+".range[0]"]=a.l2r(c+f*t),r[a._name+".range[1]"]=a.l2r(c+f*n)}}if(i&&i.length){var d=(t+(1-n))/2;R(i,d,1-d,r,[])}}function I(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(!r.fixedrange)if(r.rangebreaks){var i=r._length,o=(r.p2l(0+t)-r.p2l(0)+(r.p2l(i+t)-r.p2l(i)))/2;r.range=[r.l2r(r._rl[0]-o),r.l2r(r._rl[1]-o)]}else r.range=[r.l2r(r._rl[0]-t/r._m),r.l2r(r._rl[1]-t/r._m)]}}function N(e){return 1-(e>=0?Math.min(e,.9):1/(1/Math.max(e,-.3)+3.222))}function j(e,t,n,r,i){return e.append("path").attr("class","zoombox").style({fill:t>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform","translate("+n+", "+r+")").attr("d",i+"Z")}function z(e,t,n){return e.append("path").attr("class","zoombox-corners").style({fill:u.background,stroke:u.defaultLine,"stroke-width":1,opacity:0}).attr("transform","translate("+t+", "+n+")").attr("d","M0,0Z")}function q(e,t,n,r,i,o){e.attr("d",r+"M"+n.l+","+n.t+"v"+n.h+"h"+n.w+"v-"+n.h+"h-"+n.w+"Z"),F(e,t,i,o)}function F(e,t,n,r){n||(e.transition().style("fill",r>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),t.transition().style("opacity",1).duration(200))}function B(e){r.select(e).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function H(e){E&&e.data&&e._context.showTips&&(s.notifier(s._(e,"Double-click to zoom back out"),"long"),E=!1)}function U(e){var t=Math.floor(Math.min(e.b-e.t,e.r-e.l,M)/2);return"M"+(e.l-3.5)+","+(e.t-.5+t)+"h3v"+-t+"h"+t+"v-3h-"+(t+3)+"ZM"+(e.r+3.5)+","+(e.t-.5+t)+"h-3v"+-t+"h"+-t+"v-3h"+(t+3)+"ZM"+(e.r+3.5)+","+(e.b+.5-t)+"h-3v"+t+"h"+-t+"v3h"+(t+3)+"ZM"+(e.l-3.5)+","+(e.b+.5-t)+"h3v"+t+"h"+t+"v3h-"+(t+3)+"Z"}function V(e,t,n,r){for(var i,o,a,l,u=!1,c={},f={},d=0;d<t.length;d++){var p=t[d];for(i in n)if(p[i]){for(a in p)("x"===a.charAt(0)?n:r)[a]||(c[a]=i);for(o in r)p[o]&&(u=!0)}for(o in r)if(p[o])for(l in p)("x"===l.charAt(0)?n:r)[l]||(f[l]=o)}u&&(s.extendFlat(c,f),f={});var h={},g=[];for(a in c){var m=w(e,a);g.push(m),h[m._id]=m}var y={},v=[];for(l in f){var b=w(e,l);v.push(b),y[b._id]=b}return{xaHash:h,yaHash:y,xaxes:g,yaxes:v,xLinks:c,yLinks:f,isSubplotConstrained:u}}function W(e,t){if(o){var n=void 0!==e.onwheel?"wheel":"mousewheel";e._onwheel&&e.removeEventListener(n,e._onwheel),e._onwheel=t,e.addEventListener(n,t,{passive:!1})}else void 0!==e.onwheel?e.onwheel=t:void 0!==e.onmousewheel?e.onmousewheel=t:e.isAddedWheelEvent||(e.isAddedWheelEvent=!0,e.addEventListener("wheel",t,{passive:!1}))}function G(e){var t=[];for(var n in e)t.push(e[n]);return t}t.exports={makeDragBox:function(e,t,n,o,u,p,g,E){var P,F,K,Y,Z,X,$,J,Q,ee,te,ne,re,ie,oe,ae,se,le,ue,ce,fe,de=e._fullLayout._zoomlayer,pe=g+E==="nsew",he=1===(g+E).length;function ge(){if(P=t.xaxis,F=t.yaxis,Q=P._length,ee=F._length,$=P._offset,J=F._offset,(K={})[P._id]=P,(Y={})[F._id]=F,g&&E)for(var n=t.overlays,r=0;r<n.length;r++){var i=n[r].xaxis;K[i._id]=i;var o=n[r].yaxis;Y[o._id]=o}Z=G(K),X=G(Y),re=L(Z,E),ie=L(X,g),oe=!ie&&!re,te=V(e,e._fullLayout._axisConstraintGroups,K,Y),ne=V(e,e._fullLayout._axisMatchGroups,K,Y),ae=E||te.isSubplotConstrained||ne.isSubplotConstrained,se=g||te.isSubplotConstrained||ne.isSubplotConstrained;var a=e._fullLayout;le=a._has("scattergl"),ue=a._has("splom"),ce=a._has("svg")}ge();var me=function(e,t,n){return e?"nsew"===e?n?"":"pan"===t?"move":"crosshair":e.toLowerCase()+"-resize":"pointer"}(ie+re,e._fullLayout.dragmode,pe),ye=D(t,g+E+"drag",me,n,o,u,p);if(oe&&!pe)return ye.onmousedown=null,ye.style.pointerEvents="none",ye;var ve,be,xe,_e,we,ke,Te,Ce,Oe,Se,Ae={element:ye,gd:e,plotinfo:t};function Me(){Ae.plotinfo.selection=!1,T(e)}function Ee(e,n){var i=Ae.gd;if(i._fullLayout._activeShapeIndex>=0)i._fullLayout._deactivateShape(i);else{var o=i._fullLayout.clickmode;if(B(i),2!==e||he||Be(),pe)o.indexOf("select")>-1&&C(n,i,Z,X,t.id,Ae),o.indexOf("event")>-1&&f.click(i,n,t.id);else if(1===e&&he){var s=g?F:P,u="s"===g||"w"===E?0:1,c=s._name+".range["+u+"]",d=function(e,t){var n,i=e.range[t],o=Math.abs(i-e.range[1-t]);return"date"===e.type?i:"log"===e.type?(n=Math.ceil(Math.max(0,-Math.log(o)/Math.LN10))+3,r.format("."+n+"g")(Math.pow(10,i))):(n=Math.floor(Math.log(Math.abs(i))/Math.LN10)-Math.floor(Math.log(o)/Math.LN10)+4,r.format("."+String(n)+"g")(i))}(s,u),p="left",h="middle";if(s.fixedrange)return;g?(h="n"===g?"top":"bottom","right"===s.side&&(p="right")):"e"===E&&(p="right"),i._context.showAxisRangeEntryBoxes&&r.select(ye).call(l.makeEditable,{gd:i,immediate:!0,background:i._fullLayout.paper_bgcolor,text:String(d),fill:s.tickfont?s.tickfont.color:"#444",horizontalAlign:p,verticalAlign:h}).on("edit",(function(e){var t=s.d2r(e);void 0!==t&&a.call("_guiRelayout",i,c,t)}))}}}function Pe(t,n){if(e._transitioningWithDuration)return!1;var r=Math.max(0,Math.min(Q,t+ve)),i=Math.max(0,Math.min(ee,n+be)),o=Math.abs(r-ve),a=Math.abs(i-be);function s(){Te="",xe.r=xe.l,xe.t=xe.b,Oe.attr("d","M0,0Z")}if(xe.l=Math.min(ve,r),xe.r=Math.max(ve,r),xe.t=Math.min(be,i),xe.b=Math.max(be,i),te.isSubplotConstrained)o>M||a>M?(Te="xy",o/Q>a/ee?(a=o*ee/Q,be>i?xe.t=be-a:xe.b=be+a):(o=a*Q/ee,ve>r?xe.l=ve-o:xe.r=ve+o),Oe.attr("d",U(xe))):s();else if(ne.isSubplotConstrained)if(o>M||a>M){Te="xy";var l=Math.min(xe.l/Q,(ee-xe.b)/ee),u=Math.max(xe.r/Q,(ee-xe.t)/ee);xe.l=l*Q,xe.r=u*Q,xe.b=(1-l)*ee,xe.t=(1-u)*ee,Oe.attr("d",U(xe))}else s();else!ie||a<Math.min(Math.max(.6*o,A),M)?o<A||!re?s():(xe.t=0,xe.b=ee,Te="x",Oe.attr("d",function(e,t){return"M"+(e.l-.5)+","+(t-M-.5)+"h-3v"+(2*M+1)+"h3ZM"+(e.r+.5)+","+(t-M-.5)+"h3v"+(2*M+1)+"h-3Z"}(xe,be))):!re||o<Math.min(.6*a,M)?(xe.l=0,xe.r=Q,Te="y",Oe.attr("d",function(e,t){return"M"+(t-M-.5)+","+(e.t-.5)+"v-3h"+(2*M+1)+"v3ZM"+(t-M-.5)+","+(e.b+.5)+"v3h"+(2*M+1)+"v-3Z"}(xe,ve))):(Te="xy",Oe.attr("d",U(xe)));xe.w=xe.r-xe.l,xe.h=xe.b-xe.t,Te&&(Se=!0),e._dragged=Se,q(Ce,Oe,xe,we,ke,_e),De(),e.emit("plotly_relayouting",fe),ke=!0}function De(){fe={},"xy"!==Te&&"x"!==Te||(R(Z,xe.l/Q,xe.r/Q,fe,te.xaxes),qe("x",fe)),"xy"!==Te&&"y"!==Te||(R(X,(ee-xe.b)/ee,(ee-xe.t)/ee,fe,te.yaxes),qe("y",fe))}function Le(){De(),B(e),He(),H(e)}Ae.prepFn=function(t,n,r){var o=Ae.dragmode,a=e._fullLayout.dragmode;a!==o&&(Ae.dragmode=a),ge(),oe||(pe?t.shiftKey?"pan"===a?a="zoom":m(a)||(a="pan"):t.ctrlKey&&(a="pan"):a="pan"),y(a)?Ae.minDrag=1:Ae.minDrag=void 0,m(a)?(Ae.xaxes=Z,Ae.yaxes=X,k(t,n,r,Ae,a)):(Ae.clickFn=Ee,m(o)&&Me(),oe||("zoom"===a?(Ae.moveFn=Pe,Ae.doneFn=Le,Ae.minDrag=1,function(t,n,r){var o=ye.getBoundingClientRect();ve=n-o.left,be=r-o.top,xe={l:ve,r:ve,w:0,t:be,b:be,h:0},_e=e._hmpixcount?e._hmlumcount/e._hmpixcount:i(e._fullLayout.plot_bgcolor).getLuminance(),ke=!1,Te="xy",Se=!1,Ce=j(de,_e,$,J,we="M0,0H"+Q+"V"+ee+"H0V0"),Oe=z(de,$,J)}(0,n,r)):"pan"===a&&(Ae.moveFn=ze,Ae.doneFn=He))),e._fullLayout._redrag=function(){var t=e._dragdata;if(t&&t.element===ye){var n=e._fullLayout.dragmode;m(n)||(ge(),Ue([0,0,Q,ee]),Ae.moveFn(t.dx,t.dy))}}},h.init(Ae);var Re=[0,0,Q,ee],Ie=null,Ne=S.REDRAWDELAY,je=t.mainplot?e._fullLayout._plots[t.mainplot]:t;function ze(t,n){if(!e._transitioningWithDuration){if(e._fullLayout._replotting=!0,"ew"===re||"ns"===ie)return re&&(I(Z,t),qe("x")),ie&&(I(X,n),qe("y")),Ue([re?-t:0,ie?-n:0,Q,ee]),Fe(),void e.emit("plotly_relayouting",fe);if(te.isSubplotConstrained&&re&&ie){var r="w"===re==("n"===ie)?1:-1,i=(t/Q+r*n/ee)/2;t=i*Q,n=r*i*ee}"w"===re?t=l(Z,0,t):"e"===re?t=l(Z,1,-t):re||(t=0),"n"===ie?n=l(X,1,n):"s"===ie?n=l(X,0,-n):ie||(n=0);var o="w"===re?t:0,a="n"===ie?n:0;if(te.isSubplotConstrained){var s;if(!re&&1===ie.length){for(s=0;s<Z.length;s++)Z[s].range=Z[s]._r.slice(),O(Z[s],1-n/ee);o=(t=n*Q/ee)/2}if(!ie&&1===re.length){for(s=0;s<X.length;s++)X[s].range=X[s]._r.slice(),O(X[s],1-t/Q);a=(n=t*ee/Q)/2}}qe("x"),qe("y"),Ue([o,a,Q-t,ee-n]),Fe(),e.emit("plotly_relayouting",fe)}function l(e,t,n){for(var r,i,o=1-t,a=0;a<e.length;a++){var s=e[a];if(!s.fixedrange){r=s,i=s._rl[o]+(s._rl[t]-s._rl[o])/N(n/s._length);var l=s.l2r(i);!1!==l&&void 0!==l&&(s.range[t]=l)}}return r._length*(r._rl[t]-i)/(r._rl[t]-r._rl[o])}}function qe(e,t){for(var n=ne.isSubplotConstrained?{x:X,y:Z}[e]:ne[e+"axes"],r=ne.isSubplotConstrained?{x:Z,y:X}[e]:[],i=0;i<n.length;i++){var o=n[i],a=o._id,s=ne.xLinks[a]||ne.yLinks[a],l=r[0]||K[s]||Y[s];l&&(t?(t[o._name+".range[0]"]=t[l._name+".range[0]"],t[o._name+".range[1]"]=t[l._name+".range[1]"]):o.range=l.range.slice())}}function Fe(){var t,n=[];function r(e){for(t=0;t<e.length;t++)e[t].fixedrange||n.push(e[t]._id)}for(ae&&(r(Z),r(te.xaxes),r(ne.xaxes)),se&&(r(X),r(te.yaxes),r(ne.yaxes)),fe={},t=0;t<n.length;t++){var i=n[t],o=w(e,i);d.drawOne(e,o,{skipTitle:!0}),fe[o._name+".range[0]"]=o.range[0],fe[o._name+".range[1]"]=o.range[1]}d.redrawComponents(e,n)}function Be(){if(!e._transitioningWithDuration){var t=e._context.doubleClick,n=[];re&&(n=n.concat(Z)),ie&&(n=n.concat(X)),ne.xaxes&&(n=n.concat(ne.xaxes)),ne.yaxes&&(n=n.concat(ne.yaxes));var r,i,o,s={};if("reset+autosize"===t)for(t="autosize",i=0;i<n.length;i++)if((r=n[i])._rangeInitial&&(r.range[0]!==r._rangeInitial[0]||r.range[1]!==r._rangeInitial[1])||!r._rangeInitial&&!r.autorange){t="reset";break}if("autosize"===t)for(i=0;i<n.length;i++)(r=n[i]).fixedrange||(s[r._name+".autorange"]=!0);else if("reset"===t)for((re||te.isSubplotConstrained)&&(n=n.concat(te.xaxes)),ie&&!te.isSubplotConstrained&&(n=n.concat(te.yaxes)),te.isSubplotConstrained&&(re?ie||(n=n.concat(X)):n=n.concat(Z)),i=0;i<n.length;i++)(r=n[i]).fixedrange||(r._rangeInitial?(o=r._rangeInitial,s[r._name+".range[0]"]=o[0],s[r._name+".range[1]"]=o[1]):s[r._name+".autorange"]=!0);e.emit("plotly_doubleclick",null),a.call("_guiRelayout",e,s)}}function He(){Ue([0,0,Q,ee]),s.syncOrAsync([_.previousPromises,function(){e._fullLayout._replotting=!1,a.call("_guiRelayout",e,fe)}],e)}function Ue(t){var n,r,i,o,l=e._fullLayout,u=l._plots,f=l._subplots.cartesian;if(ue&&a.subplotsRegistry.splom.drag(e),le)for(n=0;n<f.length;n++)if(i=(r=u[f[n]]).xaxis,o=r.yaxis,r._scene){var d=s.simpleMap(i.range,i.r2l),p=s.simpleMap(o.range,o.r2l);r._scene.update({range:[d[0],p[0],d[1],p[1]]})}if((ue||le)&&(b(e),x(e)),ce){var h=t[2]/P._length,m=t[3]/F._length;for(n=0;n<f.length;n++){i=(r=u[f[n]]).xaxis,o=r.yaxis;var y,v,_,w,k=ae&&!i.fixedrange&&K[i._id],T=se&&!o.fixedrange&&Y[o._id];if(k?(y=h,_=E?t[0]:Ge(i,y)):ne.xaHash[i._id]?(y=h,_=t[0]*i._length/P._length):ne.yaHash[i._id]?(y=m,_="ns"===ie?-t[1]*i._length/F._length:Ge(i,y,{n:"top",s:"bottom"}[ie])):_=We(i,y=Ve(i,h,m)),T?(v=m,w=g?t[1]:Ge(o,v)):ne.yaHash[o._id]?(v=m,w=t[1]*o._length/F._length):ne.xaHash[o._id]?(v=h,w="ew"===re?-t[0]*o._length/P._length:Ge(o,v,{e:"right",w:"left"}[re])):w=We(o,v=Ve(o,h,m)),y||v){y||(y=1),v||(v=1);var C=i._offset-_/y,O=o._offset-w/v;r.clipRect.call(c.setTranslate,_,w).call(c.setScale,y,v),r.plot.call(c.setTranslate,C,O).call(c.setScale,1/y,1/v),y===r.xScaleFactor&&v===r.yScaleFactor||(c.setPointGroupScale(r.zoomScalePts,y,v),c.setTextPointsScale(r.zoomScaleTxt,y,v)),c.hideOutsideRangePoints(r.clipOnAxisFalseTraces,r),r.xScaleFactor=y,r.yScaleFactor=v}}}}function Ve(e,t,n){return e.fixedrange?0:ae&&te.xaHash[e._id]?t:se&&(te.isSubplotConstrained?te.xaHash:te.yaHash)[e._id]?n:0}function We(e,t){return t?(e.range=e._r.slice(),O(e,t),Ge(e,t)):0}function Ge(e,t,n){return e._length*(1-t)*v[n||e.constraintoward||"middle"]}return g.length*E.length!=1&&W(ye,(function(t){if(e._context._scrollZoom.cartesian||e._fullLayout._enablescrollzoom){if(Me(),e._transitioningWithDuration)return t.preventDefault(),void t.stopPropagation();ge(),clearTimeout(Ie);var n=-t.deltaY;if(isFinite(n)||(n=t.wheelDelta/10),isFinite(n)){var r,i=Math.exp(-Math.min(Math.max(n,-20),20)/200),o=je.draglayer.select(".nsewdrag").node().getBoundingClientRect(),a=(t.clientX-o.left)/o.width,l=(o.bottom-t.clientY)/o.height;if(ae){for(E||(a=.5),r=0;r<Z.length;r++)u(Z[r],a,i);qe("x"),Re[2]*=i,Re[0]+=Re[2]*a*(1/i-1)}if(se){for(g||(l=.5),r=0;r<X.length;r++)u(X[r],l,i);qe("y"),Re[3]*=i,Re[1]+=Re[3]*(1-l)*(1/i-1)}Ue(Re),Fe(),e.emit("plotly_relayouting",fe),Ie=setTimeout((function(){Re=[0,0,Q,ee],He()}),Ne),t.preventDefault()}else s.log("Did not find wheel motion attributes: ",t)}function u(e,t,n){if(!e.fixedrange){var r=s.simpleMap(e.range,e.r2l),i=r[0]+(r[1]-r[0])*t;e.range=r.map((function(t){return e.l2r(i+(t-i)*n)}))}}})),ye},makeDragger:P,makeRectDragger:D,makeZoombox:j,makeCorners:z,updateZoombox:q,xyCorners:U,transitionZoombox:F,removeZoombox:B,showDoubleClickNotifier:H,attachWheelEventHandler:W}},{"../../components/color":75,"../../components/dragelement":94,"../../components/dragelement/helpers":93,"../../components/drawing":97,"../../components/fx":115,"../../constants/alignment":177,"../../lib":203,"../../lib/clear_gl_canvases":191,"../../lib/setcursor":222,"../../lib/svg_text_utils":224,"../../plot_api/subroutines":238,"../../registry":295,"../plots":282,"./axes":248,"./axis_ids":251,"./constants":254,"./scale_zoom":266,"./select":267,d3:21,"has-passive-events":26,tinycolor2:58}],257:[function(e,t,n){"use strict";var r=e("d3"),i=e("../../components/fx"),o=e("../../components/dragelement"),a=e("../../lib/setcursor"),s=e("./dragbox").makeDragBox,l=e("./constants").DRAGGERSIZE;n.initInteractions=function(e){var t=e._fullLayout;if(e._context.staticPlot)r.select(e).selectAll(".drag").remove();else if(t._has("cartesian")||t._has("splom")){Object.keys(t._plots||{}).sort((function(e,n){if((t._plots[e].mainplot&&!0)===(t._plots[n].mainplot&&!0)){var r=e.split("y"),i=n.split("y");return r[0]===i[0]?Number(r[1]||1)-Number(i[1]||1):Number(r[0]||1)-Number(i[0]||1)}return t._plots[e].mainplot?1:-1})).forEach((function(n){var r=t._plots[n],a=r.xaxis,u=r.yaxis;if(!r.mainplot){var c=s(e,r,a._offset,u._offset,a._length,u._length,"ns","ew");c.onmousemove=function(t){e._fullLayout._rehover=function(){e._fullLayout._hoversubplot===n&&e._fullLayout._plots[n]&&i.hover(e,t,n)},i.hover(e,t,n),e._fullLayout._lasthover=c,e._fullLayout._hoversubplot=n},c.onmouseout=function(t){e._dragging||(e._fullLayout._hoversubplot=null,o.unhover(e,t))},e._context.showAxisDragHandles&&(s(e,r,a._offset-l,u._offset-l,l,l,"n","w"),s(e,r,a._offset+a._length,u._offset-l,l,l,"n","e"),s(e,r,a._offset-l,u._offset+u._length,l,l,"s","w"),s(e,r,a._offset+a._length,u._offset+u._length,l,l,"s","e"))}if(e._context.showAxisDragHandles){if(n===a._mainSubplot){var f=a._mainLinePosition;"top"===a.side&&(f-=l),s(e,r,a._offset+.1*a._length,f,.8*a._length,l,"","ew"),s(e,r,a._offset,f,.1*a._length,l,"","w"),s(e,r,a._offset+.9*a._length,f,.1*a._length,l,"","e")}if(n===u._mainSubplot){var d=u._mainLinePosition;"right"!==u.side&&(d-=l),s(e,r,d,u._offset+.1*u._length,l,.8*u._length,"ns",""),s(e,r,d,u._offset+.9*u._length,l,.1*u._length,"s",""),s(e,r,d,u._offset,l,.1*u._length,"n","")}}}));var a=t._hoverlayer.node();a.onmousemove=function(n){n.target=e._fullLayout._lasthover,i.hover(e,n,t._hoversubplot)},a.onclick=function(t){t.target=e._fullLayout._lasthover,i.click(e,t)},a.onmousedown=function(t){e._fullLayout._lasthover.onmousedown(t)},n.updateFx(e)}},n.updateFx=function(e){var t=e._fullLayout,n="pan"===t.dragmode?"move":"crosshair";a(t._draggers,n)}},{"../../components/dragelement":94,"../../components/fx":115,"../../lib/setcursor":222,"./constants":254,"./dragbox":256,d3:21}],258:[function(e,t,n){"use strict";t.exports={clearOutlineControllers:function(e){var t=e._fullLayout._zoomlayer;t&&t.selectAll(".outline-controllers").remove()},clearSelect:function(e){var t=e._fullLayout._zoomlayer;t&&t.selectAll(".select-outline").remove(),e._fullLayout._drawing=!1}}},{}],259:[function(e,t,n){"use strict";function r(e,t){switch(e.type){case"log":return e.p2d(t);case"date":return e.p2r(t,0,e.calendar);default:return e.p2r(t)}}t.exports={p2r:r,r2p:function(e,t){switch(e.type){case"log":return e.d2p(t);case"date":return e.r2p(t,0,e.calendar);default:return e.r2p(t)}},axValue:function(e){var t="y"===e._id.charAt(0)?1:0;return function(n){return r(e,n[t])}},getTransform:function(e){return"translate("+e.xaxis._offset+","+e.yaxis._offset+")"}}},{}],260:[function(e,t,n){"use strict";var r=e("../../registry"),i=e("../../lib"),o=e("./axis_ids");t.exports=function(e){return function(t,n){var a=t[e];if(Array.isArray(a))for(var s=r.subplotsRegistry.cartesian,l=s.idRegex,u=n._subplots,c=u.xaxis,f=u.yaxis,d=u.cartesian,p=n._has("cartesian")||n._has("gl2d"),h=0;h<a.length;h++){var g=a[h];if(i.isPlainObject(g)){var m=o.cleanId(g.xref,"x",!1),y=o.cleanId(g.yref,"y",!1),v=l.x.test(m),b=l.y.test(y);if(v||b){p||i.pushUnique(n._basePlotModules,s);var x=!1;v&&-1===c.indexOf(m)&&(c.push(m),x=!0),b&&-1===f.indexOf(y)&&(f.push(y),x=!0),x&&v&&b&&d.push(m+y)}}}}}},{"../../lib":203,"../../registry":295,"./axis_ids":251}],261:[function(e,t,n){"use strict";var r=e("d3"),i=e("../../registry"),o=e("../../lib"),a=e("../plots"),s=e("../../components/drawing"),l=e("../get_data").getModuleCalcData,u=e("./axis_ids"),c=e("./constants"),f=e("../../constants/xmlns_namespaces"),d=o.ensureSingle;function p(e,t,n){return o.ensureSingle(e,t,n,(function(e){e.datum(n)}))}function h(e,t,n,o,a){for(var u,f,d,p=c.traceLayerClasses,h=e._fullLayout,g=h._modules,m=[],y=[],v=0;v<g.length;v++){var b=(u=g[v]).name,x=i.modules[b].categories;if(x.svg){var _=u.layerName||b+"layer",w=u.plot;d=(f=l(n,w))[0],n=f[1],d.length&&m.push({i:p.indexOf(_),className:_,plotMethod:w,cdModule:d}),x.zoomScale&&y.push("."+_)}}m.sort((function(e,t){return e.i-t.i}));var k=t.plot.selectAll("g.mlayer").data(m,(function(e){return e.className}));if(k.enter().append("g").attr("class",(function(e){return e.className})).classed("mlayer",!0).classed("rangeplot",t.isRangePlot),k.exit().remove(),k.order(),k.each((function(n){var i=r.select(this),l=n.className;n.plotMethod(e,t,n.cdModule,i,o,a),-1===c.clipOnAxisFalseQuery.indexOf("."+l)&&s.setClipUrl(i,t.layerClipId,e)})),h._has("scattergl")&&(u=i.getModule("scattergl"),d=l(n,u)[0],u.plot(e,t,d)),!e._context.staticPlot&&(t._hasClipOnAxisFalse&&(t.clipOnAxisFalseTraces=t.plot.selectAll(c.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),y.length)){var T=t.plot.selectAll(y.join(",")).selectAll(".trace");t.zoomScalePts=T.selectAll("path.point"),t.zoomScaleTxt=T.selectAll(".textpoint")}}function g(e,t){var n=t.plotgroup,r=t.id,i=c.layerValue2layerClass[t.xaxis.layer],o=c.layerValue2layerClass[t.yaxis.layer],a=e._fullLayout._hasOnlyLargeSploms;if(t.mainplot){var s=t.mainplotinfo,l=s.plotgroup,f=r+"-x",h=r+"-y";t.gridlayer=s.gridlayer,t.zerolinelayer=s.zerolinelayer,d(s.overlinesBelow,"path",f),d(s.overlinesBelow,"path",h),d(s.overaxesBelow,"g",f),d(s.overaxesBelow,"g",h),t.plot=d(s.overplot,"g",r),d(s.overlinesAbove,"path",f),d(s.overlinesAbove,"path",h),d(s.overaxesAbove,"g",f),d(s.overaxesAbove,"g",h),t.xlines=l.select(".overlines-"+i).select("."+f),t.ylines=l.select(".overlines-"+o).select("."+h),t.xaxislayer=l.select(".overaxes-"+i).select("."+f),t.yaxislayer=l.select(".overaxes-"+o).select("."+h)}else if(a)t.xlines=d(n,"path","xlines-above"),t.ylines=d(n,"path","ylines-above"),t.xaxislayer=d(n,"g","xaxislayer-above"),t.yaxislayer=d(n,"g","yaxislayer-above");else{var g=d(n,"g","layer-subplot");t.shapelayer=d(g,"g","shapelayer"),t.imagelayer=d(g,"g","imagelayer"),t.gridlayer=d(n,"g","gridlayer"),t.zerolinelayer=d(n,"g","zerolinelayer"),d(n,"path","xlines-below"),d(n,"path","ylines-below"),t.overlinesBelow=d(n,"g","overlines-below"),d(n,"g","xaxislayer-below"),d(n,"g","yaxislayer-below"),t.overaxesBelow=d(n,"g","overaxes-below"),t.plot=d(n,"g","plot"),t.overplot=d(n,"g","overplot"),t.xlines=d(n,"path","xlines-above"),t.ylines=d(n,"path","ylines-above"),t.overlinesAbove=d(n,"g","overlines-above"),d(n,"g","xaxislayer-above"),d(n,"g","yaxislayer-above"),t.overaxesAbove=d(n,"g","overaxes-above"),t.xlines=n.select(".xlines-"+i),t.ylines=n.select(".ylines-"+o),t.xaxislayer=n.select(".xaxislayer-"+i),t.yaxislayer=n.select(".yaxislayer-"+o)}a||(p(t.gridlayer,"g",t.xaxis._id),p(t.gridlayer,"g",t.yaxis._id),t.gridlayer.selectAll("g").map((function(e){return e[0]})).sort(u.idSort)),t.xlines.style("fill","none").classed("crisp",!0),t.ylines.style("fill","none").classed("crisp",!0)}function m(e,t){if(e){var n={};for(var i in e.each((function(e){var i=e[0];r.select(this).remove(),y(i,t),n[i]=!0})),t._plots)for(var o=t._plots[i].overlays||[],a=0;a<o.length;a++){var s=o[a];n[s.id]&&s.plot.selectAll(".trace").remove()}}}function y(e,t){t._draggers.selectAll("g."+e).remove(),t._defs.select("#clip"+t._uid+e+"plot").remove()}n.name="cartesian",n.attr=["xaxis","yaxis"],n.idRoot=["x","y"],n.idRegex=c.idRegex,n.attrRegex=c.attrRegex,n.attributes=e("./attributes"),n.layoutAttributes=e("./layout_attributes"),n.supplyLayoutDefaults=e("./layout_defaults"),n.transitionAxes=e("./transition_axes"),n.finalizeSubplots=function(e,t){var n,r,i,a=t._subplots,s=a.xaxis,l=a.yaxis,f=a.cartesian,d=f.concat(a.gl2d||[]),p={},h={};for(n=0;n<d.length;n++){var g=d[n].split("y");p[g[0]]=1,h["y"+g[1]]=1}for(n=0;n<s.length;n++)p[r=s[n]]||(i=(e[u.id2name(r)]||{}).anchor,c.idRegex.y.test(i)||(i="y"),f.push(r+i),d.push(r+i),h[i]||(h[i]=1,o.pushUnique(l,i)));for(n=0;n<l.length;n++)h[i=l[n]]||(r=(e[u.id2name(i)]||{}).anchor,c.idRegex.x.test(r)||(r="x"),f.push(r+i),d.push(r+i),p[r]||(p[r]=1,o.pushUnique(s,r)));if(!d.length){for(var m in r="",i="",e)c.attrRegex.test(m)&&("x"===m.charAt(0)?(!r||+m.substr(5)<+r.substr(5))&&(r=m):(!i||+m.substr(5)<+i.substr(5))&&(i=m));r=r?u.name2id(r):"x",i=i?u.name2id(i):"y",s.push(r),l.push(i),f.push(r+i)}},n.plot=function(e,t,n,r){var i,o=e._fullLayout,a=o._subplots.cartesian,s=e.calcdata;if(!Array.isArray(t))for(t=[],i=0;i<s.length;i++)t.push(i);for(i=0;i<a.length;i++){for(var l,u=a[i],c=o._plots[u],f=[],d=0;d<s.length;d++){var p=s[d],g=p[0].trace;g.xaxis+g.yaxis===u&&((-1!==t.indexOf(g.index)||g.carpet)&&(l&&l[0].trace.xaxis+l[0].trace.yaxis===u&&-1!==["tonextx","tonexty","tonext"].indexOf(g.fill)&&-1===f.indexOf(l)&&f.push(l),f.push(p)),l=p)}h(e,c,f,n,r)}},n.clean=function(e,t,n,r){var i,o,a,s=r._plots||{},l=t._plots||{},c=r._subplots||{};if(r._hasOnlyLargeSploms&&!t._hasOnlyLargeSploms)for(a in s)(i=s[a]).plotgroup&&i.plotgroup.remove();var f=r._has&&r._has("gl"),d=t._has&&t._has("gl");if(f&&!d)for(a in s)(i=s[a])._scene&&i._scene.destroy();if(c.xaxis&&c.yaxis){var p=u.listIds({_fullLayout:r});for(o=0;o<p.length;o++){var h=p[o];t[u.id2name(h)]||r._infolayer.selectAll(".g-"+h+"title").remove()}}var g=r._has&&r._has("cartesian"),v=t._has&&t._has("cartesian");if(g&&!v)m(r._cartesianlayer.selectAll(".subplot"),r),r._defs.selectAll(".axesclip").remove(),delete r._axisConstraintGroups;else if(c.cartesian)for(o=0;o<c.cartesian.length;o++){var b=c.cartesian[o];if(!l[b]){var x="."+b+",."+b+"-x,."+b+"-y";r._cartesianlayer.selectAll(x).remove(),y(b,r)}}},n.drawFramework=function(e){var t=e._fullLayout,n=function(e){var t,n,r,i,o,a,s=e._fullLayout,l=s._subplots.cartesian,u=l.length,c=[],f=[];for(t=0;t<u;t++){r=l[t],o=(i=s._plots[r]).xaxis,a=i.yaxis;var d=o._mainAxis,p=a._mainAxis,h=d._id+p._id,g=s._plots[h];i.overlays=[],h!==r&&g?(i.mainplot=h,i.mainplotinfo=g,f.push(r)):(i.mainplot=void 0,i.mainplotinfo=void 0,c.push(r))}for(t=0;t<f.length;t++)r=f[t],(i=s._plots[r]).mainplotinfo.overlays.push(i);var m=c.concat(f),y=new Array(u);for(t=0;t<u;t++){r=m[t],o=(i=s._plots[r]).xaxis,a=i.yaxis;var v=[r,o.layer,a.layer,o.overlaying||"",a.overlaying||""];for(n=0;n<i.overlays.length;n++)v.push(i.overlays[n].id);y[t]=v}return y}(e),i=t._cartesianlayer.selectAll(".subplot").data(n,String);i.enter().append("g").attr("class",(function(e){return"subplot "+e[0]})),i.order(),i.exit().call(m,t),i.each((function(n){var i=n[0],o=t._plots[i];o.plotgroup=r.select(this),g(e,o),o.draglayer=d(t._draggers,"g",i)}))},n.rangePlot=function(e,t,n){g(e,t),h(e,t,n),a.style(e)},n.toSVG=function(e){var t=e._fullLayout._glimages,n=r.select(e).selectAll(".svg-container");n.filter((function(e,t){return t===n.size()-1})).selectAll(".gl-canvas-context, .gl-canvas-focus").each((function(){var e=this,n=e.toDataURL("image/png");t.append("svg:image").attr({xmlns:f.svg,"xlink:href":n,preserveAspectRatio:"none",x:0,y:0,width:e.width,height:e.height})}))},n.updateFx=e("./graph_interact").updateFx},{"../../components/drawing":97,"../../constants/xmlns_namespaces":183,"../../lib":203,"../../registry":295,"../get_data":278,"../plots":282,"./attributes":246,"./axis_ids":251,"./constants":254,"./graph_interact":257,"./layout_attributes":262,"./layout_defaults":263,"./transition_axes":272,d3:21}],262:[function(e,t,n){"use strict";var r=e("../font_attributes"),i=e("../../components/color/attributes"),o=e("../../components/drawing/attributes").dash,a=e("../../lib/extend").extendFlat,s=e("../../plot_api/plot_template").templatedArray,l=(e("../../constants/docs").FORMAT_LINK,e("../../constants/docs").DATE_FORMAT_LINK,e("../../constants/numerical").ONEDAY),u=e("./constants"),c=u.HOUR_PATTERN,f=u.WEEKDAY_PATTERN;t.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:i.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:r({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},scaleanchor:{valType:"enumerated",values:[u.idRegex.x.toString(),u.idRegex.y.toString()],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],dflt:"range",editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[u.idRegex.x.toString(),u.idRegex.y.toString()],editType:"calc"},rangebreaks:s("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[f,c,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:l},editType:"calc"}),tickmode:{valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},nticks:{valType:"integer",min:0,dflt:0,editType:"ticks"},tick0:{valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},dtick:{valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},tickvals:{valType:"data_array",editType:"ticks"},ticktext:{valType:"data_array",editType:"ticks"},ticks:{valType:"enumerated",values:["outside","inside",""],editType:"ticks"},tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:{valType:"number",min:0,dflt:5,editType:"ticks"},tickwidth:{valType:"number",min:0,dflt:1,editType:"ticks"},tickcolor:{valType:"color",dflt:i.defaultLine,editType:"ticks"},showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},automargin:{valType:"boolean",dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:a({},o,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"data",editType:"none"},tickfont:r({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks"},tickformatstops:s("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none"},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:i.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:{valType:"boolean",editType:"ticks"},gridcolor:{valType:"color",dflt:i.lightLine,editType:"ticks"},gridwidth:{valType:"number",min:0,dflt:1,editType:"ticks"},zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:i.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:i.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",u.idRegex.x.toString(),u.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",u.idRegex.x.toString(),u.idRegex.y.toString()],editType:"plot"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:r({editType:"ticks"})}}},{"../../components/color/attributes":74,"../../components/drawing/attributes":96,"../../constants/docs":179,"../../constants/numerical":182,"../../lib/extend":197,"../../plot_api/plot_template":237,"../font_attributes":276,"./constants":254}],263:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../components/color"),o=e("../../components/fx/helpers").isUnifiedHover,a=e("../../components/fx/hovermode_defaults"),s=e("../../plot_api/plot_template"),l=e("../layout_attributes"),u=e("./layout_attributes"),c=e("./type_defaults"),f=e("./axis_defaults"),d=e("./constraints").handleConstraintDefaults,p=e("./position_defaults"),h=e("./axis_ids"),g=h.id2name,m=h.name2id,y=e("./constants").AX_ID_PATTERN,v=e("../../registry"),b=v.traceIs,x=v.getComponentMethod;function _(e,t,n){Array.isArray(e[t])?e[t].push(n):e[t]=[n]}t.exports=function(e,t,n){var h,v,w={},k={},T={},C={},O={},S={},A={},M={},E={},P={};for(h=0;h<n.length;h++){var D=n[h];if(b(D,"cartesian")||b(D,"gl2d")){var L,R;if(D.xaxis)L=g(D.xaxis),_(w,L,D);else if(D.xaxes)for(v=0;v<D.xaxes.length;v++)_(w,g(D.xaxes[v]),D);if(D.yaxis)R=g(D.yaxis),_(w,R,D);else if(D.yaxes)for(v=0;v<D.yaxes.length;v++)_(w,g(D.yaxes[v]),D);"funnel"===D.type?"h"===D.orientation?(L&&(k[L]=!0),R&&(A[R]=!0)):R&&(T[R]=!0):"image"===D.type?(R&&(M[R]=!0),L&&(M[L]=!0)):(R&&(O[R]=!0,S[R]=!0),b(D,"carpet")&&("carpet"!==D.type||D._cheater)||L&&(C[L]=!0)),"carpet"===D.type&&D._cheater&&L&&(k[L]=!0),b(D,"2dMap")&&(E[L]=!0,E[R]=!0),b(D,"oriented")&&(P["h"===D.orientation?R:L]=!0)}}var I=t._subplots,N=I.xaxis,j=I.yaxis,z=r.simpleMap(N,g),q=r.simpleMap(j,g),F=z.concat(q),B=i.background;N.length&&j.length&&(B=r.coerce(e,t,l,"plot_bgcolor"));var H,U,V,W,G,K=i.combine(B,t.paper_bgcolor);function Y(){var e=w[H]||[];G._traceIndices=e.map((function(e){return e._expandedIndex})),G._annIndices=[],G._shapeIndices=[],G._imgIndices=[],G._subplotsWith=[],G._counterAxes=[],G._name=G._attr=H,G._id=U}function Z(e,t){return r.coerce(W,G,u,e,t)}function X(e,t){return r.coerce2(W,G,u,e,t)}function $(e){return"x"===e?j:N}function J(t,n){for(var r="x"===t?z:q,i=[],o=0;o<r.length;o++){var a=r[o];a===n||(e[a]||{}).overlaying||i.push(m(a))}return i}var Q={x:$("x"),y:$("y")},ee=Q.x.concat(Q.y),te={},ne=[];function re(){var e=W.matches;y.test(e)&&-1===ee.indexOf(e)&&(te[e]=W.type,ne=Object.keys(te))}var ie=a(e,t,n),oe=o(ie);for(h=0;h<F.length;h++){H=F[h],U=m(H),V=H.charAt(0),r.isPlainObject(e[H])||(e[H]={}),W=e[H],G=s.newContainer(t,H,V+"axis"),Y();var ae="x"===V&&!C[H]&&k[H]||"y"===V&&!O[H]&&T[H],se="y"===V&&(!S[H]&&A[H]||M[H]),le={letter:V,font:t.font,outerTicks:E[H],showGrid:!P[H],data:w[H]||[],bgColor:K,calendar:t.calendar,automargin:!0,visibleDflt:ae,reverseDflt:se,splomStash:((t._splomAxes||{})[V]||{})[U]};Z("uirevision",t.uirevision),c(W,G,Z,le),f(W,G,Z,le,t);var ue=oe&&V===ie.charAt(0),ce=X("spikecolor",oe?G.color:void 0),fe=X("spikethickness",oe?1.5:void 0),de=X("spikedash",oe?"dot":void 0),pe=X("spikemode",oe?"across":void 0),he=X("spikesnap",oe?"hovered data":void 0);Z("showspikes",!!(ue||ce||fe||de||pe||he))||(delete G.spikecolor,delete G.spikethickness,delete G.spikedash,delete G.spikemode,delete G.spikesnap),p(W,G,Z,{letter:V,counterAxes:Q[V],overlayableAxes:J(V,H),grid:t.grid}),Z("title.standoff"),re(),G._input=W}for(h=0;h<ne.length;){U=ne[h++],V=(H=g(U)).charAt(0),r.isPlainObject(e[H])||(e[H]={}),W=e[H],G=s.newContainer(t,H,V+"axis"),Y();var ge={letter:V,font:t.font,outerTicks:E[H],showGrid:!P[H],data:[],bgColor:K,calendar:t.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,splomStash:((t._splomAxes||{})[V]||{})[U]};Z("uirevision",t.uirevision),G.type=te[U]||"linear",f(W,G,Z,ge,t),p(W,G,Z,{letter:V,counterAxes:Q[V],overlayableAxes:J(V,H),grid:t.grid}),Z("fixedrange"),re(),G._input=W}var me=x("rangeslider","handleDefaults"),ye=x("rangeselector","handleDefaults");for(h=0;h<z.length;h++)H=z[h],W=e[H],G=t[H],me(e,t,H),"date"===G.type&&ye(W,G,t,q,G.calendar),Z("fixedrange");for(h=0;h<q.length;h++){H=q[h],W=e[H],G=t[H];var ve=t[g(G.anchor)];Z("fixedrange",x("rangeslider","isVisible")(ve))}var be=t._axisConstraintGroups=[],xe=t._axisMatchGroups=[],_e=ee.concat(ne),we=F.concat(r.simpleMap(ne,g));for(h=0;h<we.length;h++){var ke,Te;V=(H=we[h]).charAt(0),W=e[H],G=t[H],ke="y"===V&&!W.hasOwnProperty("scaleanchor")&&M[H]?G.anchor:void 0,Te=!W.hasOwnProperty("constrain")&&M[H]?"domain":void 0,d(W,G,Z,{allAxisIds:_e,layoutOut:t,scaleanchorDflt:ke,constrainDflt:Te})}for(h=0;h<xe.length;h++){var Ce=xe[h],Oe=null,Se=null;for(U in Ce)(G=t[g(U)]).matches||(Oe=G.range,Se=G.autorange);if(null===Oe||null===Se)for(U in Ce){Oe=(G=t[g(U)]).range,Se=G.autorange;break}for(U in Ce)(G=t[g(U)]).matches&&(G.range=Oe.slice(),G.autorange=Se),G._matchGroup=Ce;if(be.length)for(U in Ce)for(v=0;v<be.length;v++){var Ae=be[v];for(var Me in Ae)U===Me&&(r.warn("Axis "+Me+" is set with both a *scaleanchor* and *matches* constraint; ignoring the scale constraint."),delete Ae[Me],Object.keys(Ae).length<2&&be.splice(v,1))}}}},{"../../components/color":75,"../../components/fx/helpers":111,"../../components/fx/hovermode_defaults":114,"../../lib":203,"../../plot_api/plot_template":237,"../../registry":295,"../layout_attributes":280,"./axis_defaults":250,"./axis_ids":251,"./constants":254,"./constraints":255,"./layout_attributes":262,"./position_defaults":265,"./type_defaults":273}],264:[function(e,t,n){"use strict";var r=e("tinycolor2").mix,i=e("../../components/color/attributes").lightFraction,o=e("../../lib");t.exports=function(e,t,n,a){var s=(a=a||{}).dfltColor;function l(n,r){return o.coerce2(e,t,a.attributes,n,r)}var u=l("linecolor",s),c=l("linewidth");n("showline",a.showLine||!!u||!!c)||(delete t.linecolor,delete t.linewidth);var f=l("gridcolor",r(s,a.bgColor,a.blend||i).toRgbString()),d=l("gridwidth");if(n("showgrid",a.showGrid||!!f||!!d)||(delete t.gridcolor,delete t.gridwidth),!a.noZeroLine){var p=l("zerolinecolor",s),h=l("zerolinewidth");n("zeroline",a.showGrid||!!p||!!h)||(delete t.zerolinecolor,delete t.zerolinewidth)}}},{"../../components/color/attributes":74,"../../lib":203,tinycolor2:58}],265:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../../lib");t.exports=function(e,t,n,o){var a,s,l,u,c=o.counterAxes||[],f=o.overlayableAxes||[],d=o.letter,p=o.grid;p&&(s=p._domains[d][p._axisMap[t._id]],a=p._anchors[t._id],s&&(l=p[d+"side"].split(" ")[0],u=p.domain[d]["right"===l||"top"===l?1:0])),s=s||[0,1],a=a||(r(e.position)?"free":c[0]||"free"),l=l||("x"===d?"bottom":"left"),u=u||0,"free"===i.coerce(e,t,{anchor:{valType:"enumerated",values:["free"].concat(c),dflt:a}},"anchor")&&n("position",u),i.coerce(e,t,{side:{valType:"enumerated",values:"x"===d?["bottom","top"]:["left","right"],dflt:l}},"side");var h=!1;if(f.length&&(h=i.coerce(e,t,{overlaying:{valType:"enumerated",values:[!1].concat(f),dflt:!1}},"overlaying")),!h){var g=n("domain",s);g[0]>g[1]-1/4096&&(t.domain=s),i.noneOrAll(e.domain,t.domain,s)}return n("layer"),t}},{"../../lib":203,"fast-isnumeric":23}],266:[function(e,t,n){"use strict";var r=e("../../constants/alignment").FROM_BL;t.exports=function(e,t,n){void 0===n&&(n=r[e.constraintoward||"center"]);var i=[e.r2l(e.range[0]),e.r2l(e.range[1])],o=i[0]+(i[1]-i[0])*n;e.range=e._input.range=[e.l2r(o+(i[0]-o)*t),e.l2r(o+(i[1]-o)*t)]}},{"../../constants/alignment":177}],267:[function(e,t,n){"use strict";var r=e("polybooljs"),i=e("../../registry"),o=e("../../components/drawing").dashStyle,a=e("../../components/color"),s=e("../../components/fx"),l=e("../../components/fx/helpers").makeEventData,u=e("../../components/dragelement/helpers"),c=u.freeMode,f=u.rectMode,d=u.drawMode,p=u.openMode,h=u.selectMode,g=e("../../components/shapes/draw_newshape/display_outlines"),m=e("../../components/shapes/draw_newshape/helpers").handleEllipse,y=e("../../components/shapes/draw_newshape/newshapes"),v=e("../../lib"),b=e("../../lib/polygon"),x=e("../../lib/throttle"),_=e("./axis_ids").getFromId,w=e("../../lib/clear_gl_canvases"),k=e("../../plot_api/subroutines").redrawReglTraces,T=e("./constants"),C=T.MINSELECT,O=b.filter,S=b.tester,A=e("./handle_outline").clearSelect,M=e("./helpers"),E=M.p2r,P=M.axValue,D=M.getTransform;function L(e,t,n,r,i,o,a){var s,l,u,c,f,d,h,m,y,v=t._hoverdata,b=t._fullLayout.clickmode.indexOf("event")>-1,x=[];if(function(e){return e&&Array.isArray(e)&&!0!==e[0].hoverOnBox}(v)){j(e,t,o);var _=function(e,t){var n,r,i=e[0],o=-1,a=[];for(r=0;r<t.length;r++)if(n=t[r],i.fullData._expandedIndex===n.cd[0].trace._expandedIndex){if(!0===i.hoverOnBox)break;void 0!==i.pointNumber?o=i.pointNumber:void 0!==i.binNumber&&(o=i.binNumber,a=i.pointNumbers);break}return{pointNumber:o,pointNumbers:a,searchInfo:n}}(v,s=q(t,n,r,i));if(_.pointNumbers.length>0?function(e,t){var n,r,i,o=[];for(i=0;i<e.length;i++)(n=e[i]).cd[0].trace.selectedpoints&&n.cd[0].trace.selectedpoints.length>0&&o.push(n);if(1===o.length&&o[0]===t.searchInfo&&(r=t.searchInfo.cd[0].trace).selectedpoints.length===t.pointNumbers.length){for(i=0;i<t.pointNumbers.length;i++)if(r.selectedpoints.indexOf(t.pointNumbers[i])<0)return!1;return!0}return!1}(s,_):function(e){var t,n,r=0;for(n=0;n<e.length;n++)if((t=e[n].cd[0].trace).selectedpoints){if(t.selectedpoints.length>1)return!1;if((r+=t.selectedpoints.length)>1)return!1}return 1===r}(s)&&(d=F(_))){for(a&&a.remove(),y=0;y<s.length;y++)(l=s[y])._module.selectPoints(l,!1);B(t,s),z(o),b&&t.emit("plotly_deselect",null)}else{for(h=e.shiftKey&&(void 0!==d?d:F(_)),u=function(e,t,n){return{pointNumber:e,searchInfo:t,subtract:n}}(_.pointNumber,_.searchInfo,h),c=N(o.selectionDefs.concat([u])),y=0;y<s.length;y++)if(f=H(s[y]._module.selectPoints(s[y],c),s[y]),x.length)for(var w=0;w<f.length;w++)x.push(f[w]);else x=f;if(B(t,s,m={points:x}),u&&o&&o.selectionDefs.push(u),a){var k=o.mergedPolygons,T=p(o.dragmode);g(U(k,T),a,o)}b&&t.emit("plotly_selected",m)}}}function R(e){return"pointNumber"in e&&"searchInfo"in e}function I(e){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(t,n,r,i){var o=e.searchInfo.cd[0].trace._expandedIndex;return i.cd[0].trace._expandedIndex===o&&r===e.pointNumber},isRect:!1,degenerate:!1,subtract:e.subtract}}function N(e){for(var t=[],n=R(e[0])?0:e[0][0][0],r=n,i=R(e[0])?0:e[0][0][1],o=i,a=0;a<e.length;a++)if(R(e[a]))t.push(I(e[a]));else{var s=b.tester(e[a]);s.subtract=e[a].subtract,t.push(s),n=Math.min(n,s.xmin),r=Math.max(r,s.xmax),i=Math.min(i,s.ymin),o=Math.max(o,s.ymax)}return{xmin:n,xmax:r,ymin:i,ymax:o,pts:[],contains:function(e,n,r,i){for(var o=!1,a=0;a<t.length;a++)t[a].contains(e,n,r,i)&&(o=!1===t[a].subtract);return o},isRect:!1,degenerate:!1}}function j(e,t,n){t._fullLayout._drawing=!1;var r=t._fullLayout,i=n.plotinfo,o=n.dragmode,a=r._lastSelectedSubplot&&r._lastSelectedSubplot===i.id,s=(e.shiftKey||e.altKey)&&!(d(o)&&p(o));a&&s&&i.selection&&i.selection.selectionDefs&&!n.selectionDefs?(n.selectionDefs=i.selection.selectionDefs,n.mergedPolygons=i.selection.mergedPolygons):s&&i.selection||z(n),a||(A(t),r._lastSelectedSubplot=i.id)}function z(e){var t=e.dragmode,n=e.plotinfo,r=e.gd;if(r._fullLayout._activeShapeIndex>=0&&r._fullLayout._deactivateShape(r),d(t)){var o=r._fullLayout._zoomlayer.selectAll(".select-outline-"+n.id);if(o&&r._fullLayout._drawing){var a=y(o,e);a&&i.call("_guiRelayout",r,{shapes:a}),r._fullLayout._drawing=!1}}n.selection={},n.selection.selectionDefs=e.selectionDefs=[],n.selection.mergedPolygons=e.mergedPolygons=[]}function q(e,t,n,r){var i,o,a,s=[],l=t.map((function(e){return e._id})),u=n.map((function(e){return e._id}));for(a=0;a<e.calcdata.length;a++)if(!0===(o=(i=e.calcdata[a])[0].trace).visible&&o._module&&o._module.selectPoints)if(!r||o.subplot!==r&&o.geo!==r)if("splom"===o.type&&o._xaxes[l[0]]&&o._yaxes[u[0]]){var c=d(o._module,i,t[0],n[0]);c.scene=e._fullLayout._splomScenes[o.uid],s.push(c)}else if("sankey"===o.type){var f=d(o._module,i,t[0],n[0]);s.push(f)}else{if(-1===l.indexOf(o.xaxis))continue;if(-1===u.indexOf(o.yaxis))continue;s.push(d(o._module,i,_(e,o.xaxis),_(e,o.yaxis)))}else s.push(d(o._module,i,t[0],n[0]));return s;function d(e,t,n,r){return{_module:e,cd:t,xaxis:n,yaxis:r}}}function F(e){var t=e.searchInfo.cd[0].trace,n=e.pointNumber,r=e.pointNumbers,i=r.length>0?r[0]:n;return!!t.selectedpoints&&t.selectedpoints.indexOf(i)>-1}function B(e,t,n){var r,o,a,s;for(r=0;r<t.length;r++){var l=t[r].cd[0].trace._fullInput,u=e._fullLayout._tracePreGUI[l.uid]||{};void 0===u.selectedpoints&&(u.selectedpoints=l._input.selectedpoints||null)}if(n){var c=n.points||[];for(r=0;r<t.length;r++)(s=t[r].cd[0].trace)._input.selectedpoints=s._fullInput.selectedpoints=[],s._fullInput!==s&&(s.selectedpoints=[]);for(r=0;r<c.length;r++){var f=c[r],d=f.data,p=f.fullData;f.pointIndices?([].push.apply(d.selectedpoints,f.pointIndices),s._fullInput!==s&&[].push.apply(p.selectedpoints,f.pointIndices)):(d.selectedpoints.push(f.pointIndex),s._fullInput!==s&&p.selectedpoints.push(f.pointIndex))}}else for(r=0;r<t.length;r++)delete(s=t[r].cd[0].trace).selectedpoints,delete s._input.selectedpoints,s._fullInput!==s&&delete s._fullInput.selectedpoints;var h=!1;for(r=0;r<t.length;r++){s=(a=(o=t[r]).cd)[0].trace,i.traceIs(s,"regl")&&(h=!0);var g=o._module,m=g.styleOnSelect||g.style;m&&(m(e,a,a[0].node3),a[0].nodeRangePlot3&&m(e,a,a[0].nodeRangePlot3))}h&&(w(e),k(e))}function H(e,t){if(Array.isArray(e))for(var n=t.cd,r=t.cd[0].trace,i=0;i<e.length;i++)e[i]=l(e[i],r,n);return e}function U(e,t){for(var n=[],r=0;r<e.length;r++){n[r]=[];for(var i=0;i<e[r].length;i++){n[r][i]=[],n[r][i][0]=i?"L":"M";for(var o=0;o<e[r][i].length;o++)n[r][i].push(e[r][i][o])}t||n[r].push(["Z",n[r][0][1],n[r][0][2]])}return n}t.exports={prepSelect:function(e,t,n,i,l){var u,y,b,_,w,k,A,M=c(l),R=f(l),I=p(l),F=d(l),V=h(l),W="drawcircle"===l,G="drawline"===l||W,K=i.gd,Y=K._fullLayout,Z=Y._zoomlayer,X=i.element.getBoundingClientRect(),$=i.plotinfo,J=D($),Q=t-X.left,ee=n-X.top,te=Q,ne=ee,re="M"+Q+","+ee,ie=i.xaxes[0]._length,oe=i.yaxes[0]._length,ae=i.xaxes.concat(i.yaxes),se=e.altKey&&!(d(l)&&I);j(e,K,i),M&&(u=O([[Q,ee]],T.BENDPX));var le=Z.selectAll("path.select-outline-"+$.id).data(F?[0]:[1,2]),ue=Y.newshape;le.enter().append("path").attr("class",(function(e){return"select-outline select-outline-"+e+" select-outline-"+$.id})).style(F?{opacity:ue.opacity/2,fill:I?void 0:ue.fillcolor,stroke:ue.line.color,"stroke-dasharray":o(ue.line.dash,ue.line.width),"stroke-width":ue.line.width+"px"}:{}).attr("fill-rule",ue.fillrule).classed("cursor-move",!!F).attr("transform",J).attr("d",re+"Z");var ce,fe=Z.append("path").attr("class","zoombox-corners").style({fill:a.background,stroke:a.defaultLine,"stroke-width":1}).attr("transform",J).attr("d","M0,0Z"),de=Y._uid+T.SELECTID,pe=[],he=q(K,i.xaxes,i.yaxes,i.subplot);function ge(e,t){return e-t}ce=$.fillRangeItems?$.fillRangeItems:R?function(e,t){var n=e.range={};for(w=0;w<ae.length;w++){var r=ae[w],i=r._id.charAt(0);n[r._id]=[E(r,t[i+"min"]),E(r,t[i+"max"])].sort(ge)}}:function(e,t,n){var r=e.lassoPoints={};for(w=0;w<ae.length;w++){var i=ae[w];r[i._id]=n.filtered.map(P(i))}},i.moveFn=function(e,t){te=Math.max(0,Math.min(ie,e+Q)),ne=Math.max(0,Math.min(oe,t+ee));var n=Math.abs(te-Q),o=Math.abs(ne-ee);if(R){var a,s,l;if(V){var c=Y.selectdirection;switch(a="any"===c?o<Math.min(.6*n,C)?"h":n<Math.min(.6*o,C)?"v":"d":c){case"h":s=W?oe/2:0,l=oe;break;case"v":s=W?ie/2:0,l=ie}}if(F)switch(Y.newshape.drawdirection){case"vertical":a="h",s=W?oe/2:0,l=oe;break;case"horizontal":a="v",s=W?ie/2:0,l=ie;break;case"ortho":n<o?(a="h",s=ee,l=ne):(a="v",s=Q,l=te);break;default:a="d"}"h"===a?((_=G?m(W,[te,s],[te,l]):[[Q,s],[Q,l],[te,l],[te,s]]).xmin=G?te:Math.min(Q,te),_.xmax=G?te:Math.max(Q,te),_.ymin=Math.min(s,l),_.ymax=Math.max(s,l),fe.attr("d","M"+_.xmin+","+(ee-C)+"h-4v"+2*C+"h4ZM"+(_.xmax-1)+","+(ee-C)+"h4v"+2*C+"h-4Z")):"v"===a?((_=G?m(W,[s,ne],[l,ne]):[[s,ee],[s,ne],[l,ne],[l,ee]]).xmin=Math.min(s,l),_.xmax=Math.max(s,l),_.ymin=G?ne:Math.min(ee,ne),_.ymax=G?ne:Math.max(ee,ne),fe.attr("d","M"+(Q-C)+","+_.ymin+"v-4h"+2*C+"v4ZM"+(Q-C)+","+(_.ymax-1)+"v4h"+2*C+"v-4Z")):"d"===a&&((_=G?m(W,[Q,ee],[te,ne]):[[Q,ee],[Q,ne],[te,ne],[te,ee]]).xmin=Math.min(Q,te),_.xmax=Math.max(Q,te),_.ymin=Math.min(ee,ne),_.ymax=Math.max(ee,ne),fe.attr("d","M0,0Z"))}else M&&(u.addPt([te,ne]),_=u.filtered);i.selectionDefs&&i.selectionDefs.length?(b=function(e,t,n){return n?r.difference({regions:e,inverted:!1},{regions:[t],inverted:!1}).regions:r.union({regions:e,inverted:!1},{regions:[t],inverted:!1}).regions}(i.mergedPolygons,_,se),_.subtract=se,y=N(i.selectionDefs.concat([_]))):(b=[_],y=S(_)),g(U(b,I),le,i),V&&x.throttle(de,T.SELECTDELAY,(function(){var e;pe=[];var t,n=[];for(w=0;w<he.length;w++)if(t=(k=he[w])._module.selectPoints(k,y),n.push(t),e=H(t,k),pe.length)for(var r=0;r<e.length;r++)pe.push(e[r]);else pe=e;B(K,he,A={points:pe}),ce(A,_,u),i.gd.emit("plotly_selecting",A)}))},i.clickFn=function(e,t){if(fe.remove(),K._fullLayout._activeShapeIndex>=0)K._fullLayout._deactivateShape(K);else if(!F){var n=Y.clickmode;x.done(de).then((function(){if(x.clear(de),2===e){for(le.remove(),w=0;w<he.length;w++)(k=he[w])._module.selectPoints(k,!1);B(K,he),z(i),K.emit("plotly_deselect",null)}else n.indexOf("select")>-1&&L(t,K,i.xaxes,i.yaxes,i.subplot,i,le),"event"===n&&K.emit("plotly_selected",void 0);s.click(K,t)})).catch(v.error)}},i.doneFn=function(){fe.remove(),x.done(de).then((function(){x.clear(de),i.gd.emit("plotly_selected",A),_&&i.selectionDefs&&(_.subtract=se,i.selectionDefs.push(_),i.mergedPolygons.length=0,[].push.apply(i.mergedPolygons,b)),i.doneFnCompleted&&i.doneFnCompleted(pe)})).catch(v.error),F&&z(i)}},clearSelect:A,clearSelectionsCache:z,selectOnClick:L}},{"../../components/color":75,"../../components/dragelement/helpers":93,"../../components/drawing":97,"../../components/fx":115,"../../components/fx/helpers":111,"../../components/shapes/draw_newshape/display_outlines":160,"../../components/shapes/draw_newshape/helpers":161,"../../components/shapes/draw_newshape/newshapes":162,"../../lib":203,"../../lib/clear_gl_canvases":191,"../../lib/polygon":215,"../../lib/throttle":225,"../../plot_api/subroutines":238,"../../registry":295,"./axis_ids":251,"./constants":254,"./handle_outline":258,"./helpers":259,polybooljs:49}],268:[function(e,t,n){"use strict";var r=e("d3"),i=e("d3-time-format").utcFormat,o=e("fast-isnumeric"),a=e("../../lib"),s=a.cleanNumber,l=a.ms2DateTime,u=a.dateTime2ms,c=a.ensureNumber,f=a.isArrayOrTypedArray,d=e("../../constants/numerical"),p=d.FP_SAFE,h=d.BADNUM,g=d.LOG_CLIP,m=d.ONEWEEK,y=d.ONEDAY,v=d.ONEHOUR,b=d.ONEMIN,x=d.ONESEC,_=e("./axis_ids"),w=e("./constants"),k=w.HOUR_PATTERN,T=w.WEEKDAY_PATTERN;function C(e){return Math.pow(10,e)}function O(e){return null!=e}t.exports=function(e,t){t=t||{};var n=e._id||"x",d=n.charAt(0);function S(t,n){if(t>0)return Math.log(t)/Math.LN10;if(t<=0&&n&&e.range&&2===e.range.length){var r=e.range[0],i=e.range[1];return.5*(r+i-2*g*Math.abs(r-i))}return h}function A(t,n,r,i){if((i||{}).msUTC&&o(t))return+t;var s=u(t,r||e.calendar);if(s===h){if(!o(t))return h;t=+t;var l=Math.floor(10*a.mod(t+.05,1)),c=Math.round(t-l/10);s=u(new Date(c))+l/10}return s}function M(t,n,r){return l(t,n,r||e.calendar)}function E(t){return e._categories[Math.round(t)]}function P(t){if(O(t)){if(void 0===e._categoriesMap&&(e._categoriesMap={}),void 0!==e._categoriesMap[t])return e._categoriesMap[t];e._categories.push("number"==typeof t?String(t):t);var n=e._categories.length-1;return e._categoriesMap[t]=n,n}return h}function D(t){if(e._categoriesMap)return e._categoriesMap[t]}function L(e){var t=D(e);return void 0!==t?t:o(e)?+e:void 0}function R(e){return o(e)?+e:D(e)}function I(e,t,n){return r.round(n+t*e,2)}function N(e,t,n){return(e-n)/t}var j=function(t){return o(t)?I(t,e._m,e._b):h},z=function(t){return N(t,e._m,e._b)};if(e.rangebreaks){var q="y"===d;j=function(t){if(!o(t))return h;var n=e._rangebreaks.length;if(!n)return I(t,e._m,e._b);var r=q;e.range[0]>e.range[1]&&(r=!r);for(var i=r?-1:1,a=i*t,s=0,l=0;l<n;l++){var u=i*e._rangebreaks[l].min,c=i*e._rangebreaks[l].max;if(a<u)break;if(!(a>c)){s=a<(u+c)/2?l:l+1;break}s=l+1}var f=e._B[s]||0;return isFinite(f)?I(t,e._m2,f):0},z=function(t){var n=e._rangebreaks.length;if(!n)return N(t,e._m,e._b);for(var r=0,i=0;i<n&&!(t<e._rangebreaks[i].pmin);i++)t>e._rangebreaks[i].pmax&&(r=i+1);return N(t,e._m2,e._B[r])}}e.c2l="log"===e.type?S:c,e.l2c="log"===e.type?C:c,e.l2p=j,e.p2l=z,e.c2p="log"===e.type?function(e,t){return j(S(e,t))}:j,e.p2c="log"===e.type?function(e){return C(z(e))}:z,-1!==["linear","-"].indexOf(e.type)?(e.d2r=e.r2d=e.d2c=e.r2c=e.d2l=e.r2l=s,e.c2d=e.c2r=e.l2d=e.l2r=c,e.d2p=e.r2p=function(t){return e.l2p(s(t))},e.p2d=e.p2r=z,e.cleanPos=c):"log"===e.type?(e.d2r=e.d2l=function(e,t){return S(s(e),t)},e.r2d=e.r2c=function(e){return C(s(e))},e.d2c=e.r2l=s,e.c2d=e.l2r=c,e.c2r=S,e.l2d=C,e.d2p=function(t,n){return e.l2p(e.d2r(t,n))},e.p2d=function(e){return C(z(e))},e.r2p=function(t){return e.l2p(s(t))},e.p2r=z,e.cleanPos=c):"date"===e.type?(e.d2r=e.r2d=a.identity,e.d2c=e.r2c=e.d2l=e.r2l=A,e.c2d=e.c2r=e.l2d=e.l2r=M,e.d2p=e.r2p=function(t,n,r){return e.l2p(A(t,0,r))},e.p2d=e.p2r=function(e,t,n){return M(z(e),t,n)},e.cleanPos=function(t){return a.cleanDate(t,h,e.calendar)}):"category"===e.type?(e.d2c=e.d2l=P,e.r2d=e.c2d=e.l2d=E,e.d2r=e.d2l_noadd=L,e.r2c=function(t){var n=R(t);return void 0!==n?n:e.fraction2r(.5)},e.l2r=e.c2r=c,e.r2l=R,e.d2p=function(t){return e.l2p(e.r2c(t))},e.p2d=function(e){return E(z(e))},e.r2p=e.d2p,e.p2r=z,e.cleanPos=function(e){return"string"==typeof e&&""!==e?e:c(e)}):"multicategory"===e.type&&(e.r2d=e.c2d=e.l2d=E,e.d2r=e.d2l_noadd=L,e.r2c=function(t){var n=L(t);return void 0!==n?n:e.fraction2r(.5)},e.r2c_just_indices=D,e.l2r=e.c2r=c,e.r2l=L,e.d2p=function(t){return e.l2p(e.r2c(t))},e.p2d=function(e){return E(z(e))},e.r2p=e.d2p,e.p2r=z,e.cleanPos=function(e){return Array.isArray(e)||"string"==typeof e&&""!==e?e:c(e)},e.setupMultiCategory=function(r){var i,o,s=e._traceIndices,l=t._axisMatchGroups;if(l&&l.length&&0===e._categories.length)for(i=0;i<l.length;i++){var u=l[i];if(u[n])for(var c in u)if(c!==n){var p=t[_.id2name(c)];s=s.concat(p._traceIndices)}}var h=[[0,{}],[0,{}]],g=[];for(i=0;i<s.length;i++){var m=r[s[i]];if(d in m){var y=m[d],v=m._length||a.minRowLength(y);if(f(y[0])&&f(y[1]))for(o=0;o<v;o++){var b=y[0][o],x=y[1][o];O(b)&&O(x)&&(g.push([b,x]),b in h[0][1]||(h[0][1][b]=h[0][0]++),x in h[1][1]||(h[1][1][x]=h[1][0]++))}}}for(g.sort((function(e,t){var n=h[0][1],r=n[e[0]]-n[t[0]];if(r)return r;var i=h[1][1];return i[e[1]]-i[t[1]]})),i=0;i<g.length;i++)P(g[i])}),e.fraction2r=function(t){var n=e.r2l(e.range[0]),r=e.r2l(e.range[1]);return e.l2r(n+t*(r-n))},e.r2fraction=function(t){var n=e.r2l(e.range[0]),r=e.r2l(e.range[1]);return(e.r2l(t)-n)/(r-n)},e.cleanRange=function(t,n){n||(n={}),t||(t="range");var r,i,s=a.nestedProperty(e,t).get();if(i=(i="date"===e.type?a.dfltRange(e.calendar):"y"===d?w.DFLTRANGEY:n.dfltRange||w.DFLTRANGEX).slice(),"tozero"!==e.rangemode&&"nonnegative"!==e.rangemode||(i[0]=0),s&&2===s.length)for("date"!==e.type||e.autorange||(s[0]=a.cleanDate(s[0],h,e.calendar),s[1]=a.cleanDate(s[1],h,e.calendar)),r=0;r<2;r++)if("date"===e.type){if(!a.isDateTime(s[r],e.calendar)){e[t]=i;break}if(e.r2l(s[0])===e.r2l(s[1])){var l=a.constrain(e.r2l(s[0]),a.MIN_MS+1e3,a.MAX_MS-1e3);s[0]=e.l2r(l-1e3),s[1]=e.l2r(l+1e3);break}}else{if(!o(s[r])){if(!o(s[1-r])){e[t]=i;break}s[r]=s[1-r]*(r?10:.1)}if(s[r]<-p?s[r]=-p:s[r]>p&&(s[r]=p),s[0]===s[1]){var u=Math.max(1,Math.abs(1e-6*s[0]));s[0]-=u,s[1]+=u}}else a.nestedProperty(e,t).set(i)},e.setScale=function(n){var r=t._size;if(e.overlaying){var i=_.getFromId({_fullLayout:t},e.overlaying);e.domain=i.domain}var o=n&&e._r?"_r":"range",a=e.calendar;e.cleanRange(o);var s,l,u=e.r2l(e[o][0],a),c=e.r2l(e[o][1],a),f="y"===d;if(f?(e._offset=r.t+(1-e.domain[1])*r.h,e._length=r.h*(e.domain[1]-e.domain[0]),e._m=e._length/(u-c),e._b=-e._m*c):(e._offset=r.l+e.domain[0]*r.w,e._length=r.w*(e.domain[1]-e.domain[0]),e._m=e._length/(c-u),e._b=-e._m*u),e._rangebreaks=[],e._lBreaks=0,e._m2=0,e._B=[],e.rangebreaks&&(e._rangebreaks=e.locateBreaks(Math.min(u,c),Math.max(u,c)),e._rangebreaks.length)){for(s=0;s<e._rangebreaks.length;s++)l=e._rangebreaks[s],e._lBreaks+=Math.abs(l.max-l.min);var p=f;u>c&&(p=!p),p&&e._rangebreaks.reverse();var h=p?-1:1;for(e._m2=h*e._length/(Math.abs(c-u)-e._lBreaks),e._B.push(-e._m2*(f?c:u)),s=0;s<e._rangebreaks.length;s++)l=e._rangebreaks[s],e._B.push(e._B[e._B.length-1]-h*e._m2*(l.max-l.min));for(s=0;s<e._rangebreaks.length;s++)(l=e._rangebreaks[s]).pmin=j(l.min),l.pmax=j(l.max)}if(!isFinite(e._m)||!isFinite(e._b)||e._length<0)throw t._replotting=!1,new Error("Something went wrong with axis scaling")},e.maskBreaks=function(t){for(var n,r,i,o,l,u=e.rangebreaks||[],c=0;c<u.length;c++){var f=u[c];if(f.enabled)if(f.bounds){var d=f.pattern;switch(r=(n=a.simpleMap(f.bounds,d?s:e.d2c))[0],i=n[1],d){case T:o=(l=new Date(t)).getUTCDay(),r>i&&(i+=7,o<r&&(o+=7));break;case k:o=(l=new Date(t)).getUTCHours()+(l.getUTCMinutes()/60+l.getUTCSeconds()/3600+l.getUTCMilliseconds()/36e5),r>i&&(i+=24,o<r&&(o+=24));break;case"":o=t}if(o>=r&&o<i)return h}else for(var p=a.simpleMap(f.values,e.d2c).sort(a.sorterAsc),g=0;g<p.length;g++)if(i=(r=p[g])+f.dvalue,t>=r&&t<i)return h}return t},e.locateBreaks=function(t,n){var r,i,o,l,u=[];if(!e.rangebreaks)return u;var c=e.rangebreaks.slice().sort((function(e,t){return e.pattern===T&&t.pattern===k?-1:t.pattern===T&&e.pattern===k?1:0})),f=function(e,r){if((e=a.constrain(e,t,n))!==(r=a.constrain(r,t,n))){for(var i=!0,o=0;o<u.length;o++){var s=u[o];e<s.max&&r>=s.min&&(e<s.min&&(s.min=e),r>s.max&&(s.max=r),i=!1)}i&&u.push({min:e,max:r})}};for(r=0;r<c.length;r++){var d=c[r];if(d.enabled)if(d.bounds){var p=t,h=n;d.pattern&&(p=Math.floor(p)),o=(i=a.simpleMap(d.bounds,d.pattern?s:e.r2l))[0],l=i[1];var g,_,w=new Date(p);switch(d.pattern){case T:_=m,g=(l-o+(l<o?7:0))*y,p+=o*y-(w.getUTCDay()*y+w.getUTCHours()*v+w.getUTCMinutes()*b+w.getUTCSeconds()*x+w.getUTCMilliseconds());break;case k:_=y,g=(l-o+(l<o?24:0))*v,p+=o*v-(w.getUTCHours()*v+w.getUTCMinutes()*b+w.getUTCSeconds()*x+w.getUTCMilliseconds());break;default:p=Math.min(i[0],i[1]),g=_=(h=Math.max(i[0],i[1]))-p}for(var C=p;C<h;C+=_)f(C,C+g)}else for(var O=a.simpleMap(d.values,e.d2c),S=0;S<O.length;S++)f(o=O[S],l=o+d.dvalue)}return u.sort((function(e,t){return e.min-t.min})),u},e.makeCalcdata=function(t,n,r){var i,o,s,l,u=e.type,c="date"===u&&t[n+"calendar"];if(n in t){if(i=t[n],l=t._length||a.minRowLength(i),a.isTypedArray(i)&&("linear"===u||"log"===u)){if(l===i.length)return i;if(i.subarray)return i.subarray(0,l)}if("multicategory"===u)return function(e,t){for(var n=new Array(t),r=0;r<t;r++){var i=(e[0]||[])[r],o=(e[1]||[])[r];n[r]=D([i,o])}return n}(i,l);for(o=new Array(l),s=0;s<l;s++)o[s]=e.d2c(i[s],0,c,r)}else{var f=n+"0"in t?e.d2c(t[n+"0"],0,c):0,d=t["d"+n]?Number(t["d"+n]):1;for(i=t[{x:"y",y:"x"}[n]],l=t._length||i.length,o=new Array(l),s=0;s<l;s++)o[s]=f+s*d}if(e.rangebreaks)for(s=0;s<l;s++)o[s]=e.maskBreaks(o[s]);return o},e.isValidRange=function(t){return Array.isArray(t)&&2===t.length&&o(e.r2l(t[0]))&&o(e.r2l(t[1]))},e.isPtWithinRange=function(t,n){var r=e.c2l(t[d],null,n),i=e.r2l(e.range[0]),o=e.r2l(e.range[1]);return i<o?i<=r&&r<=o:o<=r&&r<=i},e._emptyCategories=function(){e._categories=[],e._categoriesMap={}},e.clearCalc=function(){var r=t._axisMatchGroups;if(r&&r.length){for(var i=!1,o=0;o<r.length;o++){var a=r[o];if(a[n]){i=!0;var s=null,l=null;for(var u in a){var c=t[_.id2name(u)];if(c._categories){s=c._categories,l=c._categoriesMap;break}}s&&l?(e._categories=s,e._categoriesMap=l):e._emptyCategories();break}}i||e._emptyCategories()}else e._emptyCategories();if(e._initialCategories)for(var f=0;f<e._initialCategories.length;f++)P(e._initialCategories[f])},e.sortByInitialCategories=function(){var r=[];if(e._emptyCategories(),e._initialCategories)for(var i=0;i<e._initialCategories.length;i++)P(e._initialCategories[i]);r=r.concat(e._traceIndices);var o=e._matchGroup;for(var a in o)if(n!==a){var s=t[_.id2name(a)];s._categories=e._categories,s._categoriesMap=e._categoriesMap,r=r.concat(s._traceIndices)}return r};var F=t._d3locale;"date"===e.type&&(e._dateFormat=F?F.timeFormat:i,e._extraFormat=t._extraFormat),e._separators=t.separators,e._numFormat=F?F.numberFormat:r.format,delete e._minDtick,delete e._forceTick0}},{"../../constants/numerical":182,"../../lib":203,"./axis_ids":251,"./constants":254,d3:21,"d3-time-format":19,"fast-isnumeric":23}],269:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("./layout_attributes"),o=e("../array_container_defaults");function a(e){var t=["showexponent","showtickprefix","showticksuffix"].filter((function(t){return void 0!==e[t]}));if(t.every((function(n){return e[n]===e[t[0]]}))||1===t.length)return e[t[0]]}function s(e,t){function n(n,o){return r.coerce(e,t,i.tickformatstops,n,o)}n("enabled")&&(n("dtickrange"),n("value"))}t.exports=function(e,t,n,l,u,c){c&&1!==c.pass||function(e,t,n,r,i){var o=a(e);n("tickprefix")&&n("showtickprefix",o),n("ticksuffix",i.tickSuffixDflt)&&n("showticksuffix",o)}(e,0,n,0,u),c&&2!==c.pass||function(e,t,n,l,u){var c=a(e);if(n("tickprefix")&&n("showtickprefix",c),n("ticksuffix",u.tickSuffixDflt)&&n("showticksuffix",c),n("showticklabels")){var f=u.font||{},d=t.color,p=d&&d!==i.color.dflt?d:f.color;if(r.coerceFont(n,"tickfont",{family:f.family,size:f.size,color:p}),n("tickangle"),"category"!==l){var h=n("tickformat");o(e,t,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:s}),t.tickformatstops.length||delete t.tickformatstops,h||"date"===l||(n("showexponent",c),n("exponentformat"),n("minexponent"),n("separatethousands"))}}}(e,t,n,l,u)}},{"../../lib":203,"../array_container_defaults":243,"./layout_attributes":262}],270:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("./layout_attributes");t.exports=function(e,t,n,o){var a=r.coerce2(e,t,i,"ticklen"),s=r.coerce2(e,t,i,"tickwidth"),l=r.coerce2(e,t,i,"tickcolor",t.color);n("ticks",o.outerTicks||a||s||l?"outside":"")||(delete t.ticklen,delete t.tickwidth,delete t.tickcolor)}},{"../../lib":203,"./layout_attributes":262}],271:[function(e,t,n){"use strict";var r=e("./clean_ticks"),i=e("../../lib").isArrayOrTypedArray;t.exports=function(e,t,n,o){function a(n){var r=e[n];return void 0!==r?r:(t._template||{})[n]}var s=a("tick0"),l=a("dtick"),u=a("tickvals"),c=n("tickmode",i(u)?"array":l?"linear":"auto");if("auto"===c)n("nticks");else if("linear"===c){var f=t.dtick=r.dtick(l,o);t.tick0=r.tick0(s,o,t.calendar,f)}else"multicategory"!==o&&(void 0===n("tickvals")?t.tickmode="auto":n("ticktext"))}},{"../../lib":203,"./clean_ticks":253}],272:[function(e,t,n){"use strict";var r=e("d3"),i=e("../../registry"),o=e("../../lib"),a=e("../../components/drawing"),s=e("./axes");t.exports=function(e,t,n,l){var u=e._fullLayout;if(0!==t.length){var c,f,d,p;l&&(c=l());var h=r.ease(n.easing);return e._transitionData._interruptCallbacks.push((function(){return window.cancelAnimationFrame(p),p=null,function(){for(var n={},r=0;r<t.length;r++){var o=t[r],a=o.plotinfo.xaxis,s=o.plotinfo.yaxis;o.xr0&&(n[a._name+".range"]=o.xr0.slice()),o.yr0&&(n[s._name+".range"]=o.yr0.slice())}return i.call("relayout",e,n).then((function(){for(var e=0;e<t.length;e++)g(t[e].plotinfo)}))}()})),f=Date.now(),p=window.requestAnimationFrame((function r(){d=Date.now();for(var o=Math.min(1,(d-f)/n.duration),a=h(o),s=0;s<t.length;s++)m(t[s],a);d-f>n.duration?(function(){for(var n={},r=0;r<t.length;r++){var o=t[r],a=o.plotinfo.xaxis,s=o.plotinfo.yaxis;o.xr1&&(n[a._name+".range"]=o.xr1.slice()),o.yr1&&(n[s._name+".range"]=o.yr1.slice())}c&&c(),i.call("relayout",e,n).then((function(){for(var e=0;e<t.length;e++)g(t[e].plotinfo)}))}(),p=window.cancelAnimationFrame(r)):p=window.requestAnimationFrame(r)})),Promise.resolve()}function g(e){var t=e.xaxis,n=e.yaxis;u._defs.select("#"+e.clipId+"> rect").call(a.setTranslate,0,0).call(a.setScale,1,1),e.plot.call(a.setTranslate,t._offset,n._offset).call(a.setScale,1,1);var r=e.plot.selectAll(".scatterlayer .trace");r.selectAll(".point").call(a.setPointGroupScale,1,1),r.selectAll(".textpoint").call(a.setTextPointsScale,1,1),r.call(a.hideOutsideRangePoints,e)}function m(t,n){var r=t.plotinfo,i=r.xaxis,l=r.yaxis,u=i._length,c=l._length,f=!!t.xr1,d=!!t.yr1,p=[];if(f){var h=o.simpleMap(t.xr0,i.r2l),g=o.simpleMap(t.xr1,i.r2l),m=h[1]-h[0],y=g[1]-g[0];p[0]=(h[0]*(1-n)+n*g[0]-h[0])/(h[1]-h[0])*u,p[2]=u*(1-n+n*y/m),i.range[0]=i.l2r(h[0]*(1-n)+n*g[0]),i.range[1]=i.l2r(h[1]*(1-n)+n*g[1])}else p[0]=0,p[2]=u;if(d){var v=o.simpleMap(t.yr0,l.r2l),b=o.simpleMap(t.yr1,l.r2l),x=v[1]-v[0],_=b[1]-b[0];p[1]=(v[1]*(1-n)+n*b[1]-v[1])/(v[0]-v[1])*c,p[3]=c*(1-n+n*_/x),l.range[0]=i.l2r(v[0]*(1-n)+n*b[0]),l.range[1]=l.l2r(v[1]*(1-n)+n*b[1])}else p[1]=0,p[3]=c;s.drawOne(e,i,{skipTitle:!0}),s.drawOne(e,l,{skipTitle:!0}),s.redrawComponents(e,[i._id,l._id]);var w=f?u/p[2]:1,k=d?c/p[3]:1,T=f?p[0]:0,C=d?p[1]:0,O=f?p[0]/p[2]*u:0,S=d?p[1]/p[3]*c:0,A=i._offset-O,M=l._offset-S;r.clipRect.call(a.setTranslate,T,C).call(a.setScale,1/w,1/k),r.plot.call(a.setTranslate,A,M).call(a.setScale,w,k),a.setPointGroupScale(r.zoomScalePts,1/w,1/k),a.setTextPointsScale(r.zoomScaleTxt,1/w,1/k)}s.redrawComponents(e)}},{"../../components/drawing":97,"../../lib":203,"../../registry":295,"./axes":248,d3:21}],273:[function(e,t,n){"use strict";var r=e("../../registry").traceIs,i=e("./axis_autotype");function o(e,t){if("-"===e.type){var n,o=e._id,l=o.charAt(0);-1!==o.indexOf("scene")&&(o=l);var u=function(e,t,n){for(var r=0;r<e.length;r++){var i=e[r];if("splom"===i.type&&i._length>0&&(i["_"+n+"axes"]||{})[t])return i;if((i[n+"axis"]||n)===t){if(s(i,n))return i;if((i[n]||[]).length||i[n+"0"])return i}}}(t,o,l);if(u)if("histogram"!==u.type||l!=={v:"y",h:"x"}[u.orientation||"v"]){var c=l+"calendar",f=u[c],d={noMultiCategory:!r(u,"cartesian")||r(u,"noMultiCategory")};if("box"===u.type&&u._hasPreCompStats&&l==={h:"x",v:"y"}[u.orientation||"v"]&&(d.noMultiCategory=!0),s(u,l)){var p=a(u),h=[];for(n=0;n<t.length;n++){var g=t[n];r(g,"box-violin")&&(g[l+"axis"]||l)===o&&(void 0!==g[p]?h.push(g[p][0]):void 0!==g.name?h.push(g.name):h.push("text"),g[c]!==f&&(f=void 0))}e.type=i(h,f,d)}else if("splom"===u.type){var m=u.dimensions[u._axesDim[o]];m.visible&&(e.type=i(m.values,f,d))}else e.type=i(u[l]||[u[l+"0"]],f,d)}else e.type="linear"}}function a(e){return{v:"x",h:"y"}[e.orientation||"v"]}function s(e,t){var n=a(e),i=r(e,"box-violin"),o=r(e._fullInput||{},"candlestick");return i&&!o&&t===n&&void 0===e[n]&&void 0===e[n+"0"]}t.exports=function(e,t,n,r){"-"===n("type",(r.splomStash||{}).type)&&(o(t,r.data),"-"===t.type?t.type="linear":e.type=t.type)}},{"../../registry":295,"./axis_autotype":249}],274:[function(e,t,n){"use strict";var r=e("../registry"),i=e("../lib");function o(e,t,n){var r,o,a,s=!1;if("data"===t.type)r=e._fullData[null!==t.traces?t.traces[0]:0];else{if("layout"!==t.type)return!1;r=e._fullLayout}return o=i.nestedProperty(r,t.prop).get(),(a=n[t.type]=n[t.type]||{}).hasOwnProperty(t.prop)&&a[t.prop]!==o&&(s=!0),a[t.prop]=o,{changed:s,value:o}}function a(e,t){var n=[],r=t[0],o={};if("string"==typeof r)o[r]=t[1];else{if(!i.isPlainObject(r))return n;o=r}return l(o,(function(e,t,r){n.push({type:"layout",prop:e,value:r})}),"",0),n}function s(e,t){var n,r,o,a,s=[];if(r=t[0],o=t[1],n=t[2],a={},"string"==typeof r)a[r]=o;else{if(!i.isPlainObject(r))return s;a=r,void 0===n&&(n=o)}return void 0===n&&(n=null),l(a,(function(t,r,i){var o,a;if(Array.isArray(i)){a=i.slice();var l=Math.min(a.length,e.data.length);n&&(l=Math.min(l,n.length)),o=[];for(var u=0;u<l;u++)o[u]=n?n[u]:u}else a=i,o=n?n.slice():null;if(null===o)Array.isArray(a)&&(a=a[0]);else if(Array.isArray(o)){if(!Array.isArray(a)){var c=a;a=[];for(var f=0;f<o.length;f++)a[f]=c}a.length=Math.min(o.length,a.length)}s.push({type:"data",prop:t,traces:o,value:a})}),"",0),s}function l(e,t,n,r){Object.keys(e).forEach((function(o){var a=e[o];if("_"!==o[0]){var s=n+(r>0?".":"")+o;i.isPlainObject(a)?l(a,t,s,r+1):t(s,o,a)}}))}n.manageCommandObserver=function(e,t,r,a){var s={},l=!0;t&&t._commandObserver&&(s=t._commandObserver),s.cache||(s.cache={}),s.lookupTable={};var u=n.hasSimpleAPICommandBindings(e,r,s.lookupTable);if(t&&t._commandObserver){if(u)return s;if(t._commandObserver.remove)return t._commandObserver.remove(),t._commandObserver=null,s}if(u){o(e,u,s.cache),s.check=function(){if(l){var t=o(e,u,s.cache);return t.changed&&a&&void 0!==s.lookupTable[t.value]&&(s.disable(),Promise.resolve(a({value:t.value,type:u.type,prop:u.prop,traces:u.traces,index:s.lookupTable[t.value]})).then(s.enable,s.enable)),t.changed}};for(var c=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],f=0;f<c.length;f++)e._internalOn(c[f],s.check);s.remove=function(){for(var t=0;t<c.length;t++)e._removeInternalListener(c[t],s.check)}}else i.log("Unable to automatically bind plot updates to API command"),s.lookupTable={},s.remove=function(){};return s.disable=function(){l=!1},s.enable=function(){l=!0},t&&(t._commandObserver=s),s},n.hasSimpleAPICommandBindings=function(e,t,r){var i,o,a=t.length;for(i=0;i<a;i++){var s,l=t[i],u=l.method,c=l.args;if(Array.isArray(c)||(c=[]),!u)return!1;var f=n.computeAPICommandBindings(e,u,c);if(1!==f.length)return!1;if(o){if((s=f[0]).type!==o.type)return!1;if(s.prop!==o.prop)return!1;if(Array.isArray(o.traces)){if(!Array.isArray(s.traces))return!1;s.traces.sort();for(var d=0;d<o.traces.length;d++)if(o.traces[d]!==s.traces[d])return!1}else if(s.prop!==o.prop)return!1}else o=f[0],Array.isArray(o.traces)&&o.traces.sort();var p=(s=f[0]).value;if(Array.isArray(p)){if(1!==p.length)return!1;p=p[0]}r&&(r[p]=i)}return o},n.executeAPICommand=function(e,t,n){if("skip"===t)return Promise.resolve();var o=r.apiMethodRegistry[t],a=[e];Array.isArray(n)||(n=[]);for(var s=0;s<n.length;s++)a.push(n[s]);return o.apply(null,a).catch((function(e){return i.warn("API call to Plotly."+t+" rejected.",e),Promise.reject(e)}))},n.computeAPICommandBindings=function(e,t,n){var r;switch(Array.isArray(n)||(n=[]),t){case"restyle":r=s(e,n);break;case"relayout":r=a(0,n);break;case"update":r=s(e,[n[0],n[2]]).concat(a(0,[n[1]]));break;case"animate":r=function(e,t){return Array.isArray(t[0])&&1===t[0].length&&-1!==["string","number"].indexOf(typeof t[0][0])?[{type:"layout",prop:"_currentFrame",value:t[0][0].toString()}]:[]}(0,n);break;default:r=[]}return r}},{"../lib":203,"../registry":295}],275:[function(e,t,n){"use strict";var r=e("../lib/extend").extendFlat;n.attributes=function(e,t){t=t||{};var n={valType:"info_array",editType:(e=e||{}).editType,items:[{valType:"number",min:0,max:1,editType:e.editType},{valType:"number",min:0,max:1,editType:e.editType}],dflt:[0,1]},i=(e.name&&e.name,e.trace,t.description&&t.description,{x:r({},n,{}),y:r({},n,{}),editType:e.editType});return e.noGridCell||(i.row={valType:"integer",min:0,dflt:0,editType:e.editType},i.column={valType:"integer",min:0,dflt:0,editType:e.editType}),i},n.defaults=function(e,t,n,r){var i=r&&r.x||[0,1],o=r&&r.y||[0,1],a=t.grid;if(a){var s=n("domain.column");void 0!==s&&(s<a.columns?i=a._domains.x[s]:delete e.domain.column);var l=n("domain.row");void 0!==l&&(l<a.rows?o=a._domains.y[l]:delete e.domain.row)}var u=n("domain.x",i),c=n("domain.y",o);u[0]<u[1]||(e.domain.x=i.slice()),c[0]<c[1]||(e.domain.y=o.slice())}},{"../lib/extend":197}],276:[function(e,t,n){"use strict";t.exports=function(e){var t=e.editType,n=e.colorEditType;void 0===n&&(n=t);var r={family:{valType:"string",noBlank:!0,strict:!0,editType:t},size:{valType:"number",min:1,editType:t},color:{valType:"color",editType:n},editType:t};return e.arrayOk&&(r.family.arrayOk=!0,r.size.arrayOk=!0,r.color.arrayOk=!0),r}},{}],277:[function(e,t,n){"use strict";t.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},{}],278:[function(e,t,n){"use strict";var r=e("../registry"),i=e("./cartesian/constants").SUBPLOT_PATTERN;n.getSubplotCalcData=function(e,t,n){var i=r.subplotsRegistry[t];if(!i)return[];for(var o=i.attr,a=[],s=0;s<e.length;s++){var l=e[s];l[0].trace[o]===n&&a.push(l)}return a},n.getModuleCalcData=function(e,t){var n,i=[],o=[];if(!(n="string"==typeof t?r.getModule(t).plot:"function"==typeof t?t:t.plot))return[i,e];for(var a=0;a<e.length;a++){var s=e[a],l=s[0].trace;!0===l.visible&&0!==l._length&&(l._module.plot===n?i.push(s):o.push(s))}return[i,o]},n.getSubplotData=function(e,t,n){if(!r.subplotsRegistry[t])return[];var o,a,s,l=r.subplotsRegistry[t].attr,u=[];if("gl2d"===t){var c=n.match(i);a="x"+c[1],s="y"+c[2]}for(var f=0;f<e.length;f++)o=e[f],"gl2d"===t&&r.traceIs(o,"gl2d")?o[l[0]]===a&&o[l[1]]===s&&u.push(o):o[l]===n&&u.push(o);return u}},{"../registry":295,"./cartesian/constants":254}],279:[function(e,t,n){"use strict";function r(e,t){var n,r,i=[0,0,0,0];for(n=0;n<4;++n)for(r=0;r<4;++r)i[r]+=e[4*n+r]*t[n];return i}t.exports=function(e,t){return r(e.projection,r(e.view,r(e.model,[t[0],t[1],t[2],1])))}},{}],280:[function(e,t,n){"use strict";var r=e("./font_attributes"),i=e("./animation_attributes"),o=e("../components/color/attributes"),a=e("../components/shapes/draw_newshape/attributes"),s=e("./pad_attributes"),l=e("../lib/extend").extendFlat,u=r({editType:"calc"});u.family.dflt='"Open Sans", verdana, arial, sans-serif',u.size.dflt=12,u.color.dflt=o.defaultLine,t.exports={font:u,title:{text:{valType:"string",editType:"layoutstyle"},font:r({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:l(s({editType:"layoutstyle"}),{}),editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:o.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:o.background,editType:"layoutstyle"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:o.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},modebar:{orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"modebar"},newshape:a.newshape,activeshape:a.activeshape,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:l({},i.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:r({editType:"layoutstyle"})}}},{"../components/color/attributes":74,"../components/shapes/draw_newshape/attributes":157,"../lib/extend":197,"./animation_attributes":242,"./font_attributes":276,"./pad_attributes":281}],281:[function(e,t,n){"use strict";t.exports=function(e){var t=e.editType;return{t:{valType:"number",dflt:0,editType:t},r:{valType:"number",dflt:0,editType:t},b:{valType:"number",dflt:0,editType:t},l:{valType:"number",dflt:0,editType:t},editType:t}}},{}],282:[function(e,t,n){"use strict";var r=e("d3"),i=e("d3-time-format").timeFormatLocale,o=e("fast-isnumeric"),a=e("../registry"),s=e("../plot_api/plot_schema"),l=e("../plot_api/plot_template"),u=e("../lib"),c=e("../components/color"),f=e("../constants/numerical").BADNUM,d=e("./cartesian/axis_ids"),p=e("./cartesian/handle_outline").clearSelect,h=e("./animation_attributes"),g=e("./frame_attributes"),m=e("../plots/get_data").getModuleCalcData,y=u.relinkPrivateKeys,v=u._,b=t.exports={};u.extendFlat(b,a),b.attributes=e("./attributes"),b.attributes.type.values=b.allTypes,b.fontAttrs=e("./font_attributes"),b.layoutAttributes=e("./layout_attributes"),b.fontWeight="normal";var x=b.transformsRegistry,_=e("./command");b.executeAPICommand=_.executeAPICommand,b.computeAPICommandBindings=_.computeAPICommandBindings,b.manageCommandObserver=_.manageCommandObserver,b.hasSimpleAPICommandBindings=_.hasSimpleAPICommandBindings,b.redrawText=function(e){var t=(e=u.getGraphDiv(e))._fullLayout||{};if(t._has&&t._has("polar")||!e.data||!e.data[0]||!e.data[0].r)return new Promise((function(t){setTimeout((function(){a.getComponentMethod("annotations","draw")(e),a.getComponentMethod("legend","draw")(e),a.getComponentMethod("colorbar","draw")(e),t(b.previousPromises(e))}),300)}))},b.resize=function(e){var t;e=u.getGraphDiv(e);var n=new Promise((function(n,r){e&&!u.isHidden(e)||r(new Error("Resize must be passed a displayed plot div element.")),e._redrawTimer&&clearTimeout(e._redrawTimer),e._resolveResize&&(t=e._resolveResize),e._resolveResize=n,e._redrawTimer=setTimeout((function(){if(!e.layout||e.layout.width&&e.layout.height||u.isHidden(e))n(e);else{delete e.layout.width,delete e.layout.height;var t=e.changed;e.autoplay=!0,a.call("relayout",e,{autosize:!0}).then((function(){e.changed=t,e._resolveResize===n&&(delete e._resolveResize,n(e))}))}}),100)}));return t&&t(n),n},b.previousPromises=function(e){if((e._promises||[]).length)return Promise.all(e._promises).then((function(){e._promises=[]}))},b.addLinks=function(e){if(e._context.showLink||e._context.showSources){var t=e._fullLayout,n=u.ensureSingle(t._paper,"text","js-plot-link-container",(function(e){e.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:c.defaultLine,"pointer-events":"all"}).each((function(){var e=r.select(this);e.append("tspan").classed("js-link-to-tool",!0),e.append("tspan").classed("js-link-spacer",!0),e.append("tspan").classed("js-sourcelinks",!0)}))})),i=n.node(),o={y:t._paper.attr("height")-9};document.body.contains(i)&&i.getComputedTextLength()>=t.width-20?(o["text-anchor"]="start",o.x=5):(o["text-anchor"]="end",o.x=t._paper.attr("width")-7),n.attr(o);var a=n.select(".js-link-to-tool"),s=n.select(".js-link-spacer"),l=n.select(".js-sourcelinks");e._context.showSources&&e._context.showSources(e),e._context.showLink&&function(e,t){t.text("");var n=t.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(e._context.linkText+" "+String.fromCharCode(187));if(e._context.sendData)n.on("click",(function(){b.sendDataToCloud(e)}));else{var r=window.location.pathname.split("/"),i=window.location.search;n.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+r[2].split(".")[0]+"/"+r[1]+i})}}(e,a),s.text(a.text()&&l.text()?" - ":"")}},b.sendDataToCloud=function(e){var t=(window.PLOTLYENV||{}).BASE_URL||e._context.plotlyServerURL;if(t){e.emit("plotly_beforeexport");var n=r.select(e).append("div").attr("id","hiddenform").style("display","none"),i=n.append("form").attr({action:t+"/external",method:"post",target:"_blank"});return i.append("input").attr({type:"text",name:"data"}).node().value=b.graphJson(e,!1,"keepdata"),i.node().submit(),n.remove(),e.emit("plotly_afterexport"),!1}};var w=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],k=["year","month","dayMonth","dayMonthYear"];function T(e,t){var n=e._context.locale,r=!1,i={};function o(e){for(var n=!0,o=0;o<t.length;o++){var a=t[o];i[a]||(e[a]?i[a]=e[a]:n=!1)}n&&(r=!0)}for(var s=0;s<2;s++){for(var l=e._context.locales,u=0;u<2;u++){var c=(l[n]||{}).format;if(c&&(o(c),r))break;l=a.localeRegistry}var f=n.split("-")[0];if(r||f===n)break;n=f}return r||o(a.localeRegistry.en.format),i}function C(e,t){var n={_fullLayout:t},r="x"===e._id.charAt(0),i=e._mainAxis._anchorAxis,o="",a="",s="";if(i&&(s=i._mainAxis._id,o=r?e._id+s:s+e._id),!o||!t._plots[o]){o="";for(var l=e._counterAxes,u=0;u<l.length;u++){var c=l[u],f=r?e._id+c:c+e._id;a||(a=f);var p=d.getFromId(n,c);if(s&&p.overlaying===s){o=f;break}}}return o||a}function O(e){var t=e.transforms;if(Array.isArray(t)&&t.length)for(var n=0;n<t.length;n++){var r=t[n],i=r._module||x[r.type];if(i&&i.makesData)return!0}return!1}function S(e,t,n,r){for(var i=e.transforms,o=[e],a=0;a<i.length;a++){var s=i[a],l=x[s.type];l&&l.transform&&(o=l.transform(o,{transform:s,fullTrace:e,fullData:t,layout:n,fullLayout:r,transformIndex:a}))}return o}function A(e){return"string"==typeof e&&"px"===e.substr(e.length-2)&&parseFloat(e)}function M(e){var t=e.margin;if(!e._size){var n=e._size={l:Math.round(t.l),r:Math.round(t.r),t:Math.round(t.t),b:Math.round(t.b),p:Math.round(t.pad)};n.w=Math.round(e.width)-n.l-n.r,n.h=Math.round(e.height)-n.t-n.b}e._pushmargin||(e._pushmargin={}),e._pushmarginIds||(e._pushmarginIds={})}b.supplyDefaults=function(e,t){var n=t&&t.skipUpdateCalc,o=e._fullLayout||{};if(o._skipDefaults)delete o._skipDefaults;else{var s,l=e._fullLayout={},c=e.layout||{},f=e._fullData||[],d=e._fullData=[],h=e.data||[],g=e.calcdata||[],m=e._context||{};e._transitionData||b.createTransitionData(e),l._dfltTitle={plot:v(e,"Click to enter Plot title"),x:v(e,"Click to enter X axis title"),y:v(e,"Click to enter Y axis title"),colorbar:v(e,"Click to enter Colorscale title"),annotation:v(e,"new text")},l._traceWord=v(e,"trace");var x=T(e,w);if(l._mapboxAccessToken=m.mapboxAccessToken,o._initialAutoSizeIsDone){var _=o.width,C=o.height;b.supplyLayoutGlobalDefaults(c,l,x),c.width||(l.width=_),c.height||(l.height=C),b.sanitizeMargins(l)}else{b.supplyLayoutGlobalDefaults(c,l,x);var O=!c.width||!c.height,S=l.autosize,A=m.autosizable;O&&(S||A)?b.plotAutoSize(e,c,l):O&&b.sanitizeMargins(l),!S&&O&&(c.width=l.width,c.height=l.height)}l._d3locale=function(e,t){return e.decimal=t.charAt(0),e.thousands=t.charAt(1),{numberFormat:r.locale(e).numberFormat,timeFormat:i(e).utcFormat}}(x,l.separators),l._extraFormat=T(e,k),l._initialAutoSizeIsDone=!0,l._dataLength=h.length,l._modules=[],l._visibleModules=[],l._basePlotModules=[];var E=l._subplots=function(){var e,t,n=a.collectableSubplotTypes,r={};if(!n){n=[];var i=a.subplotsRegistry;for(var o in i){var s=i[o].attr;if(s&&(n.push(o),Array.isArray(s)))for(t=0;t<s.length;t++)u.pushUnique(n,s[t])}}for(e=0;e<n.length;e++)r[n[e]]=[];return r}(),P=l._splomAxes={x:{},y:{}},D=l._splomSubplots={};l._splomGridDflt={},l._scatterStackOpts={},l._firstScatter={},l._alignmentOpts={},l._colorAxes={},l._requestRangeslider={},l._traceUids=function(e,t){var n,r,i=t.length,o=[];for(n=0;n<e.length;n++){var a=e[n]._fullInput;a!==r&&o.push(a),r=a}var s=o.length,l=new Array(i),c={};function f(e,t){l[t]=e,c[e]=1}function d(e,t){if(e&&"string"==typeof e&&!c[e])return f(e,t),!0}for(n=0;n<i;n++){var p=t[n].uid;"number"==typeof p&&(p=String(p)),d(p,n)||n<s&&d(o[n].uid,n)||f(u.randstr(c),n)}return l}(f,h),l._globalTransforms=(e._context||{}).globalTransforms,b.supplyDataDefaults(h,d,c,l);var L=Object.keys(P.x),R=Object.keys(P.y);if(L.length>1&&R.length>1){for(a.getComponentMethod("grid","sizeDefaults")(c,l),s=0;s<L.length;s++)u.pushUnique(E.xaxis,L[s]);for(s=0;s<R.length;s++)u.pushUnique(E.yaxis,R[s]);for(var I in D)u.pushUnique(E.cartesian,I)}if(l._has=b._hasPlotType.bind(l),f.length===d.length)for(s=0;s<d.length;s++)y(d[s],f[s]);b.supplyLayoutModuleDefaults(c,l,d,e._transitionData);var N=l._visibleModules,j=[];for(s=0;s<N.length;s++){var z=N[s].crossTraceDefaults;z&&u.pushUnique(j,z)}for(s=0;s<j.length;s++)j[s](d,l);l._hasOnlyLargeSploms=1===l._basePlotModules.length&&"splom"===l._basePlotModules[0].name&&L.length>15&&R.length>15&&0===l.shapes.length&&0===l.images.length,l._hasCartesian=l._has("cartesian"),l._hasGeo=l._has("geo"),l._hasGL3D=l._has("gl3d"),l._hasGL2D=l._has("gl2d"),l._hasTernary=l._has("ternary"),l._hasPie=l._has("pie"),b.linkSubplots(d,l,f,o),b.cleanPlot(d,l,f,o);var q=!(!o._has||!o._has("gl2d")),F=!(!l._has||!l._has("gl2d")),B=!(!o._has||!o._has("cartesian"))||q,H=!(!l._has||!l._has("cartesian"))||F;B&&!H?o._bgLayer.remove():H&&!B&&(l._shouldCreateBgLayer=!0),o._zoomlayer&&!e._dragging&&p({_fullLayout:o}),function(e,t){var n,r=[];t.meta&&(n=t._meta={meta:t.meta,layout:{meta:t.meta}});for(var i=0;i<e.length;i++){var o=e[i];o.meta?r[o.index]=o._meta={meta:o.meta}:t.meta&&(o._meta={meta:t.meta}),t.meta&&(o._meta.layout={meta:t.meta})}r.length&&(n||(n=t._meta={}),n.data=r)}(d,l),y(l,o),a.getComponentMethod("colorscale","crossTraceDefaults")(d,l),l._preGUI||(l._preGUI={}),l._tracePreGUI||(l._tracePreGUI={});var U,V=l._tracePreGUI,W={};for(U in V)W[U]="old";for(s=0;s<d.length;s++)W[U=d[s]._fullInput.uid]||(V[U]={}),W[U]="new";for(U in W)"old"===W[U]&&delete V[U];M(l),a.getComponentMethod("rangeslider","makeData")(l),n||g.length!==d.length||b.supplyDefaultsUpdateCalc(g,d)}},b.supplyDefaultsUpdateCalc=function(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=(e[n]||[])[0];if(i&&i.trace){var o=i.trace;if(o._hasCalcTransform){var a,s,l,c=o._arrayAttrs;for(a=0;a<c.length;a++)s=c[a],l=u.nestedProperty(o,s).get().slice(),u.nestedProperty(r,s).set(l)}i.trace=r}}},b.createTransitionData=function(e){e._transitionData||(e._transitionData={}),e._transitionData._frames||(e._transitionData._frames=[]),e._transitionData._frameHash||(e._transitionData._frameHash={}),e._transitionData._counter||(e._transitionData._counter=0),e._transitionData._interruptCallbacks||(e._transitionData._interruptCallbacks=[])},b._hasPlotType=function(e){var t,n=this._basePlotModules||[];for(t=0;t<n.length;t++)if(n[t].name===e)return!0;var r=this._modules||[];for(t=0;t<r.length;t++){var i=r[t].name;if(i===e)return!0;var o=a.modules[i];if(o&&o.categories[e])return!0}return!1},b.cleanPlot=function(e,t,n,r){var i,o,a=r._basePlotModules||[];for(i=0;i<a.length;i++){var s=a[i];s.clean&&s.clean(e,t,n,r)}var l=r._has&&r._has("gl"),u=t._has&&t._has("gl");l&&!u&&void 0!==r._glcontainer&&(r._glcontainer.selectAll(".gl-canvas").remove(),r._glcontainer.selectAll(".no-webgl").remove(),r._glcanvas=null);var c=!!r._infolayer;e:for(i=0;i<n.length;i++){var f=n[i].uid;for(o=0;o<e.length;o++)if(f===e[o].uid)continue e;c&&r._infolayer.select(".cb"+f).remove()}},b.linkSubplots=function(e,t,n,r){var i,o,s=r._plots||{},l=t._plots={},c=t._subplots,f={_fullData:e,_fullLayout:t},p=c.cartesian.concat(c.gl2d||[]);for(i=0;i<p.length;i++){var h,g=p[i],m=s[g],y=d.getFromId(f,g,"x"),v=d.getFromId(f,g,"y");for(m?h=l[g]=m:(h=l[g]={}).id=g,y._counterAxes.push(v._id),v._counterAxes.push(y._id),y._subplotsWith.push(g),v._subplotsWith.push(g),h.xaxis=y,h.yaxis=v,h._hasClipOnAxisFalse=!1,o=0;o<e.length;o++){var b=e[o];if(b.xaxis===h.xaxis._id&&b.yaxis===h.yaxis._id&&!1===b.cliponaxis){h._hasClipOnAxisFalse=!0;break}}}var x,_=d.list(f,null,!0);for(i=0;i<_.length;i++){var w=null;(x=_[i]).overlaying&&(w=d.getFromId(f,x.overlaying))&&w.overlaying&&(x.overlaying=!1,w=null),x._mainAxis=w||x,w&&(x.domain=w.domain.slice()),x._anchorAxis="free"===x.anchor?null:d.getFromId(f,x.anchor)}for(i=0;i<_.length;i++)if((x=_[i])._counterAxes.sort(d.idSort),x._subplotsWith.sort(u.subplotSort),x._mainSubplot=C(x,t),x._counterAxes.length&&(x.spikemode&&-1!==x.spikemode.indexOf("across")||x.automargin&&x.mirror&&"free"!==x.anchor||a.getComponentMethod("rangeslider","isVisible")(x))){var k=1,T=0;for(o=0;o<x._counterAxes.length;o++){var O=d.getFromId(f,x._counterAxes[o]);k=Math.min(k,O.domain[0]),T=Math.max(T,O.domain[1])}k<T&&(x._counterDomainMin=k,x._counterDomainMax=T)}},b.clearExpandedTraceDefaultColors=function(e){var t,n,r;for(n=[],(t=e._module._colorAttrs)||(e._module._colorAttrs=t=[],s.crawl(e._module.attributes,(function(e,r,i,o){n[o]=r,n.length=o+1,"color"===e.valType&&void 0===e.dflt&&t.push(n.join("."))}))),r=0;r<t.length;r++)u.nestedProperty(e,"_input."+t[r]).get()||u.nestedProperty(e,t[r]).set(null)},b.supplyDataDefaults=function(e,t,n,r){var i,o,s,c=r._modules,f=r._visibleModules,d=r._basePlotModules,p=0,h=0;function g(e){t.push(e);var n=e._module;n&&(u.pushUnique(c,n),!0===e.visible&&u.pushUnique(f,n),u.pushUnique(d,e._module.basePlotModule),p++,!1!==e._input.visible&&h++)}r._transformModules=[];var m={},v=[],x=(n.template||{}).data||{},_=l.traceTemplater(x);for(i=0;i<e.length;i++){if(s=e[i],(o=_.newTrace(s)).uid=r._traceUids[i],b.supplyTraceDefaults(s,o,h,r,i),o.index=i,o._input=s,o._expandedIndex=p,o.transforms&&o.transforms.length)for(var w=!1!==s.visible&&!1===o.visible,k=S(o,t,n,r),T=0;T<k.length;T++){var C=k[T],O={_template:o._template,type:o.type,uid:o.uid+T};w&&!1===C.visible&&delete C.visible,b.supplyTraceDefaults(C,O,p,r,i),y(O,C),O.index=i,O._input=s,O._fullInput=o,O._expandedIndex=p,O._expandedInput=C,g(O)}else o._fullInput=o,o._expandedInput=o,g(o);a.traceIs(o,"carpetAxis")&&(m[o.carpet]=o),a.traceIs(o,"carpetDependent")&&v.push(i)}for(i=0;i<v.length;i++)if((o=t[v[i]]).visible){var A=m[o.carpet];o._carpet=A,A&&A.visible?(o.xaxis=A.xaxis,o.yaxis=A.yaxis):o.visible=!1}},b.supplyAnimationDefaults=function(e){var t;e=e||{};var n={};function r(t,r){return u.coerce(e||{},n,h,t,r)}if(r("mode"),r("direction"),r("fromcurrent"),Array.isArray(e.frame))for(n.frame=[],t=0;t<e.frame.length;t++)n.frame[t]=b.supplyAnimationFrameDefaults(e.frame[t]||{});else n.frame=b.supplyAnimationFrameDefaults(e.frame||{});if(Array.isArray(e.transition))for(n.transition=[],t=0;t<e.transition.length;t++)n.transition[t]=b.supplyAnimationTransitionDefaults(e.transition[t]||{});else n.transition=b.supplyAnimationTransitionDefaults(e.transition||{});return n},b.supplyAnimationFrameDefaults=function(e){var t={};function n(n,r){return u.coerce(e||{},t,h.frame,n,r)}return n("duration"),n("redraw"),t},b.supplyAnimationTransitionDefaults=function(e){var t={};function n(n,r){return u.coerce(e||{},t,h.transition,n,r)}return n("duration"),n("easing"),t},b.supplyFrameDefaults=function(e){var t={};function n(n,r){return u.coerce(e,t,g,n,r)}return n("group"),n("name"),n("traces"),n("baseframe"),n("data"),n("layout"),t},b.supplyTraceDefaults=function(e,t,n,r,i){var o,s=r.colorway||c.defaults,l=s[n%s.length];function f(n,r){return u.coerce(e,t,b.attributes,n,r)}var d=f("visible");f("type"),f("name",r._traceWord+" "+i),f("uirevision",r.uirevision);var p=b.getModule(t);if(t._module=p,p){var h=p.basePlotModule,g=h.attr,m=h.attributes;if(g&&m){var y=r._subplots,v="";if(d||"gl2d"!==h.name){if(Array.isArray(g))for(o=0;o<g.length;o++){var x=g[o],_=u.coerce(e,t,m,x);y[x]&&u.pushUnique(y[x],_),v+=_}else v=u.coerce(e,t,m,g);y[h.name]&&u.pushUnique(y[h.name],v)}}}return d&&(f("customdata"),f("ids"),f("meta"),a.traceIs(t,"showLegend")?(u.coerce(e,t,p.attributes.showlegend?p.attributes:b.attributes,"showlegend"),f("legendgroup"),t._dfltShowLegend=!0):t._dfltShowLegend=!1,p&&p.supplyDefaults(e,t,l,r),a.traceIs(t,"noOpacity")||f("opacity"),a.traceIs(t,"notLegendIsolatable")&&(t.visible=!!t.visible),a.traceIs(t,"noHover")||(t.hovertemplate||u.coerceHoverinfo(e,t,r),"parcats"!==t.type&&a.getComponentMethod("fx","supplyDefaults")(e,t,l,r)),p&&p.selectPoints&&f("selectedpoints"),b.supplyTransformDefaults(e,t,r)),t},b.hasMakesDataTransform=O,b.supplyTransformDefaults=function(e,t,n){if(t._length||O(e)){var r=n._globalTransforms||[],i=n._transformModules||[];if(Array.isArray(e.transforms)||0!==r.length)for(var o=e.transforms||[],a=r.concat(o),s=t.transforms=[],l=0;l<a.length;l++){var c,f=a[l],d=f.type,p=x[d],h=!(f._module&&f._module===p),g=p&&"function"==typeof p.transform;p||u.warn("Unrecognized transform type "+d+"."),p&&p.supplyDefaults&&(h||g)?((c=p.supplyDefaults(f,t,n,e)).type=d,c._module=p,u.pushUnique(i,p)):c=u.extendFlat({},f),s.push(c)}}},b.supplyLayoutGlobalDefaults=function(e,t,n){function r(n,r){return u.coerce(e,t,b.layoutAttributes,n,r)}var i=e.template;u.isPlainObject(i)&&(t.template=i,t._template=i.layout,t._dataTemplate=i.data);var o=u.coerceFont(r,"font");r("title.text",t._dfltTitle.plot),u.coerceFont(r,"title.font",{family:o.family,size:Math.round(1.4*o.size),color:o.color}),r("title.xref"),r("title.yref"),r("title.x"),r("title.y"),r("title.xanchor"),r("title.yanchor"),r("title.pad.t"),r("title.pad.r"),r("title.pad.b"),r("title.pad.l"),r("uniformtext.mode")&&r("uniformtext.minsize"),r("autosize",!(e.width&&e.height)),r("width"),r("height"),r("margin.l"),r("margin.r"),r("margin.t"),r("margin.b"),r("margin.pad"),r("margin.autoexpand"),e.width&&e.height&&b.sanitizeMargins(t),a.getComponentMethod("grid","sizeDefaults")(e,t),r("paper_bgcolor"),r("separators",n.decimal+n.thousands),r("hidesources"),r("colorway"),r("datarevision");var s=r("uirevision");r("editrevision",s),r("selectionrevision",s),r("modebar.orientation"),r("modebar.bgcolor",c.addOpacity(t.paper_bgcolor,.5));var l=c.contrast(c.rgb(t.modebar.bgcolor));r("modebar.color",c.addOpacity(l,.3)),r("modebar.activecolor",c.addOpacity(l,.7)),r("modebar.uirevision",s),a.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(e,t,r),r("meta"),u.isPlainObject(e.transition)&&(r("transition.duration"),r("transition.easing"),r("transition.ordering")),a.getComponentMethod("calendars","handleDefaults")(e,t,"calendar"),a.getComponentMethod("fx","supplyLayoutGlobalDefaults")(e,t,r)},b.plotAutoSize=function(e,t,n){var r,i,a=e._context||{},s=a.frameMargins,l=u.isPlotDiv(e);if(l&&e.emit("plotly_autosize"),a.fillFrame)r=window.innerWidth,i=window.innerHeight,document.body.style.overflow="hidden";else{var c=l?window.getComputedStyle(e):{};if(r=A(c.width)||A(c.maxWidth)||n.width,i=A(c.height)||A(c.maxHeight)||n.height,o(s)&&s>0){var f=1-2*s;r=Math.round(f*r),i=Math.round(f*i)}}var d=b.layoutAttributes.width.min,p=b.layoutAttributes.height.min;r<d&&(r=d),i<p&&(i=p);var h=!t.width&&Math.abs(n.width-r)>1,g=!t.height&&Math.abs(n.height-i)>1;(g||h)&&(h&&(n.width=r),g&&(n.height=i)),e._initialAutoSize||(e._initialAutoSize={width:r,height:i}),b.sanitizeMargins(n)},b.supplyLayoutModuleDefaults=function(e,t,n,r){var i,o,s,l=a.componentsRegistry,c=t._basePlotModules,f=a.subplotsRegistry.cartesian;for(i in l)(s=l[i]).includeBasePlot&&s.includeBasePlot(e,t);for(var d in c.length||c.push(f),t._has("cartesian")&&(a.getComponentMethod("grid","contentDefaults")(e,t),f.finalizeSubplots(e,t)),t._subplots)t._subplots[d].sort(u.subplotSort);for(o=0;o<c.length;o++)(s=c[o]).supplyLayoutDefaults&&s.supplyLayoutDefaults(e,t,n);var p=t._modules;for(o=0;o<p.length;o++)(s=p[o]).supplyLayoutDefaults&&s.supplyLayoutDefaults(e,t,n);var h=t._transformModules;for(o=0;o<h.length;o++)(s=h[o]).supplyLayoutDefaults&&s.supplyLayoutDefaults(e,t,n,r);for(i in l)(s=l[i]).supplyLayoutDefaults&&s.supplyLayoutDefaults(e,t,n)},b.purge=function(e){var t=e._fullLayout||{};void 0!==t._glcontainer&&(t._glcontainer.selectAll(".gl-canvas").remove(),t._glcontainer.remove(),t._glcanvas=null),t._modeBar&&t._modeBar.destroy(),e._transitionData&&(e._transitionData._interruptCallbacks&&(e._transitionData._interruptCallbacks.length=0),e._transitionData._animationRaf&&window.cancelAnimationFrame(e._transitionData._animationRaf)),u.clearThrottle(),u.clearResponsive(e),delete e.data,delete e.layout,delete e._fullData,delete e._fullLayout,delete e.calcdata,delete e.framework,delete e.empty,delete e.fid,delete e.undoqueue,delete e.undonum,delete e.autoplay,delete e.changed,delete e._promises,delete e._redrawTimer,delete e._hmlumcount,delete e._hmpixcount,delete e._transitionData,delete e._transitioning,delete e._initialAutoSize,delete e._transitioningWithDuration,delete e._dragging,delete e._dragged,delete e._dragdata,delete e._hoverdata,delete e._snapshotInProgress,delete e._editing,delete e._mouseDownTime,delete e._legendMouseDownTime,e.removeAllListeners&&e.removeAllListeners()},b.style=function(e){var t,n=e._fullLayout._visibleModules,r=[];for(t=0;t<n.length;t++){var i=n[t];i.style&&u.pushUnique(r,i.style)}for(t=0;t<r.length;t++)r[t](e)},b.sanitizeMargins=function(e){if(e&&e.margin){var t,n=e.width,r=e.height,i=e.margin,o=n-(i.l+i.r),a=r-(i.t+i.b);o<0&&(t=(n-1)/(i.l+i.r),i.l=Math.floor(t*i.l),i.r=Math.floor(t*i.r)),a<0&&(t=(r-1)/(i.t+i.b),i.t=Math.floor(t*i.t),i.b=Math.floor(t*i.b))}},b.clearAutoMarginIds=function(e){e._fullLayout._pushmarginIds={}},b.allowAutoMargin=function(e,t){e._fullLayout._pushmarginIds[t]=1},b.autoMargin=function(e,t,n){var r=e._fullLayout,i=r._pushmargin,o=r._pushmarginIds;if(!1!==r.margin.autoexpand){if(n){var a=n.pad;if(void 0===a){var s=r.margin;a=Math.min(12,s.l,s.r,s.t,s.b)}n.l+n.r>.5*r.width&&(u.log("Margin push",t,"is too big in x, dropping"),n.l=n.r=0),n.b+n.t>.5*r.height&&(u.log("Margin push",t,"is too big in y, dropping"),n.b=n.t=0);var l=void 0!==n.xl?n.xl:n.x,c=void 0!==n.xr?n.xr:n.x,f=void 0!==n.yt?n.yt:n.y,d=void 0!==n.yb?n.yb:n.y;i[t]={l:{val:l,size:n.l+a},r:{val:c,size:n.r+a},b:{val:d,size:n.b+a},t:{val:f,size:n.t+a}},o[t]=1}else delete i[t],delete o[t];if(!r._replotting)return b.doAutoMargin(e)}},b.doAutoMargin=function(e){var t=e._fullLayout;t._size||(t._size={}),M(t);var n=t._size,r=t.margin,i=u.extendFlat({},n),s=r.l,l=r.r,c=r.t,f=r.b,d=t.width,p=t.height,h=t._pushmargin,g=t._pushmarginIds;if(!1!==t.margin.autoexpand){for(var m in h)g[m]||delete h[m];for(var y in h.base={l:{val:0,size:s},r:{val:1,size:l},t:{val:1,size:c},b:{val:0,size:f}},h){var v=h[y].l||{},x=h[y].b||{},_=v.val,w=v.size,k=x.val,T=x.size;for(var C in h){if(o(w)&&h[C].r){var O=h[C].r.val,S=h[C].r.size;if(O>_){var A=(w*O+(S-d)*_)/(O-_),E=(S*(1-_)+(w-d)*(1-O))/(O-_);A>=0&&E>=0&&d-(A+E)>0&&A+E>s+l&&(s=A,l=E)}}if(o(T)&&h[C].t){var P=h[C].t.val,D=h[C].t.size;if(P>k){var L=(T*P+(D-p)*k)/(P-k),R=(D*(1-k)+(T-p)*(1-P))/(P-k);L>=0&&R>=0&&p-(R+L)>0&&L+R>f+c&&(f=L,c=R)}}}}}if(n.l=Math.round(s),n.r=Math.round(l),n.t=Math.round(c),n.b=Math.round(f),n.p=Math.round(r.pad),n.w=Math.round(d)-n.l-n.r,n.h=Math.round(p)-n.t-n.b,!t._replotting&&b.didMarginChange(i,n)){"_redrawFromAutoMarginCount"in t?t._redrawFromAutoMarginCount++:t._redrawFromAutoMarginCount=1;var I=3*(1+Object.keys(g).length);if(t._redrawFromAutoMarginCount<I)return a.call("plot",e);t._size=i,u.warn("Too many auto-margin redraws.")}};var E=["l","r","t","b","p","w","h"];function P(e,t,n){var r=!1;var i=[b.previousPromises,function(){if(e._transitionData)return e._transitioning=!1,function(e){var t=Promise.resolve();if(!e)return t;for(;e.length;)t=t.then(e.shift());return t}(e._transitionData._interruptCallbacks)},n.prepareFn,b.rehover,function(){return e.emit("plotly_transitioning",[]),new Promise((function(i){e._transitioning=!0,t.duration>0&&(e._transitioningWithDuration=!0),e._transitionData._interruptCallbacks.push((function(){r=!0})),n.redraw&&e._transitionData._interruptCallbacks.push((function(){return a.call("redraw",e)})),e._transitionData._interruptCallbacks.push((function(){e.emit("plotly_transitioninterrupted",[])}));var o=0,s=0;function l(){return o++,function(){s++,r||s!==o||function(t){if(e._transitionData)(function(e){if(e)for(;e.length;)e.shift()})(e._transitionData._interruptCallbacks),Promise.resolve().then((function(){if(n.redraw)return a.call("redraw",e)})).then((function(){e._transitioning=!1,e._transitioningWithDuration=!1,e.emit("plotly_transitioned",[])})).then(t)}(i)}}n.runFn(l),setTimeout(l())}))}],o=u.syncOrAsync(i,e);return o&&o.then||(o=Promise.resolve()),o.then((function(){return e}))}b.didMarginChange=function(e,t){for(var n=0;n<E.length;n++){var r=E[n],i=e[r],a=t[r];if(!o(i)||Math.abs(a-i)>1)return!0}return!1},b.graphJson=function(e,t,n,r,i,o){(i&&t&&!e._fullData||i&&!t&&!e._fullLayout)&&b.supplyDefaults(e);var a=i?e._fullData:e.data,s=i?e._fullLayout:e.layout,l=(e._transitionData||{})._frames;function c(e,t){if("function"==typeof e)return t?"_function_":null;if(u.isPlainObject(e)){var r,i={};return Object.keys(e).sort().forEach((function(o){if(-1===["_","["].indexOf(o.charAt(0)))if("function"!=typeof e[o]){if("keepdata"===n){if("src"===o.substr(o.length-3))return}else if("keepstream"===n){if("string"==typeof(r=e[o+"src"])&&r.indexOf(":")>0&&!u.isPlainObject(e.stream))return}else if("keepall"!==n&&"string"==typeof(r=e[o+"src"])&&r.indexOf(":")>0)return;i[o]=c(e[o],t)}else t&&(i[o]="_function")})),i}return Array.isArray(e)?e.map((function(e){return c(e,t)})):u.isTypedArray(e)?u.simpleMap(e,u.identity):u.isJSDate(e)?u.ms2DateTimeLocal(+e):e}var f={data:(a||[]).map((function(e){var n=c(e);return t&&delete n.fit,n}))};if(!t&&(f.layout=c(s),i)){var d=s._size;f.layout.computed={margin:{b:d.b,l:d.l,r:d.r,t:d.t}}}return e.framework&&e.framework.isPolar&&(f=e.framework.getConfig()),l&&(f.frames=c(l)),o&&(f.config=c(e._context,!0)),"object"===r?f:JSON.stringify(f)},b.modifyFrames=function(e,t){var n,r,i,o=e._transitionData._frames,a=e._transitionData._frameHash;for(n=0;n<t.length;n++)switch((r=t[n]).type){case"replace":i=r.value;var s=(o[r.index]||{}).name,l=i.name;o[r.index]=a[l]=i,l!==s&&(delete a[s],a[l]=i);break;case"insert":a[(i=r.value).name]=i,o.splice(r.index,0,i);break;case"delete":delete a[(i=o[r.index]).name],o.splice(r.index,1)}return Promise.resolve()},b.computeFrame=function(e,t){var n,r,i,o,a=e._transitionData._frameHash;if(!t)throw new Error("computeFrame must be given a string frame name");var s=a[t.toString()];if(!s)return!1;for(var l=[s],u=[s.name];s.baseframe&&(s=a[s.baseframe.toString()])&&-1===u.indexOf(s.name);)l.push(s),u.push(s.name);for(var c={};s=l.pop();)if(s.layout&&(c.layout=b.extendLayout(c.layout,s.layout)),s.data){if(c.data||(c.data=[]),!(r=s.traces))for(r=[],n=0;n<s.data.length;n++)r[n]=n;for(c.traces||(c.traces=[]),n=0;n<s.data.length;n++)null!=(i=r[n])&&(-1===(o=c.traces.indexOf(i))&&(o=c.data.length,c.traces[o]=i),c.data[o]=b.extendTrace(c.data[o],s.data[n]))}return c},b.recomputeFrameHash=function(e){for(var t=e._transitionData._frameHash={},n=e._transitionData._frames,r=0;r<n.length;r++){var i=n[r];i&&i.name&&(t[i.name]=i)}},b.extendObjectWithContainers=function(e,t,n){var r,i,o,a,s,l,c,f=u.extendDeepNoArrays({},t||{}),d=u.expandObjectPaths(f),p={};if(n&&n.length)for(o=0;o<n.length;o++)void 0===(i=(r=u.nestedProperty(d,n[o])).get())?u.nestedProperty(p,n[o]).set(null):(r.set(null),u.nestedProperty(p,n[o]).set(i));if(e=u.extendDeepNoArrays(e||{},d),n&&n.length)for(o=0;o<n.length;o++)if(l=u.nestedProperty(p,n[o]).get()){for(c=(s=u.nestedProperty(e,n[o])).get(),Array.isArray(c)||(c=[],s.set(c)),a=0;a<l.length;a++){var h=l[a];c[a]=null===h?null:b.extendObjectWithContainers(c[a],h)}s.set(c)}return e},b.dataArrayContainers=["transforms","dimensions"],b.layoutArrayContainers=a.layoutArrayContainers,b.extendTrace=function(e,t){return b.extendObjectWithContainers(e,t,b.dataArrayContainers)},b.extendLayout=function(e,t){return b.extendObjectWithContainers(e,t,b.layoutArrayContainers)},b.transition=function(e,t,n,r,i,o){var a={redraw:i.redraw},s={},l=[];return a.prepareFn=function(){for(var i=Array.isArray(t)?t.length:0,o=r.slice(0,i),a=0;a<o.length;a++){var c=o[a],f=e._fullData[c]._module;if(f){if(f.animatable){var d=f.basePlotModule.name;s[d]||(s[d]=[]),s[d].push(c)}e.data[o[a]]=b.extendTrace(e.data[o[a]],t[a])}}var p=u.expandObjectPaths(u.extendDeepNoArrays({},n)),h=/^[xy]axis[0-9]*$/;for(var g in p)h.test(g)&&delete p[g].range;b.extendLayout(e.layout,p),delete e.calcdata,b.supplyDefaults(e),b.doCalcdata(e);var m=u.expandObjectPaths(n);if(m){var y=e._fullLayout._plots;for(var v in y){var x=y[v],_=x.xaxis,w=x.yaxis,k=_.range.slice(),T=w.range.slice(),C=null,O=null,S=null,A=null;Array.isArray(m[_._name+".range"])?C=m[_._name+".range"].slice():Array.isArray((m[_._name]||{}).range)&&(C=m[_._name].range.slice()),Array.isArray(m[w._name+".range"])?O=m[w._name+".range"].slice():Array.isArray((m[w._name]||{}).range)&&(O=m[w._name].range.slice()),k&&C&&(_.r2l(k[0])!==_.r2l(C[0])||_.r2l(k[1])!==_.r2l(C[1]))&&(S={xr0:k,xr1:C}),T&&O&&(w.r2l(T[0])!==w.r2l(O[0])||w.r2l(T[1])!==w.r2l(O[1]))&&(A={yr0:T,yr1:O}),(S||A)&&l.push(u.extendFlat({plotinfo:x},S,A))}}return Promise.resolve()},a.runFn=function(t){var r,i,a=e._fullLayout._basePlotModules,c=l.length;if(n)for(i=0;i<a.length;i++)a[i].transitionAxes&&a[i].transitionAxes(e,l,o,t);for(var f in c?((r=u.extendFlat({},o)).duration=0,delete s.cartesian):r=o,s){var d=s[f];e._fullData[d[0]]._module.basePlotModule.plot(e,d,r,t)}},P(e,o,a)},b.transitionFromReact=function(e,t,n,r){var i=e._fullLayout,o=i.transition,a={},s=[];return a.prepareFn=function(){var e=i._plots;for(var o in a.redraw=!1,"some"===t.anim&&(a.redraw=!0),"some"===n.anim&&(a.redraw=!0),e){var l=e[o],c=l.xaxis,f=l.yaxis,d=r[c._name].range.slice(),p=r[f._name].range.slice(),h=c.range.slice(),g=f.range.slice();c.setScale(),f.setScale();var m=null,y=null;c.r2l(d[0])===c.r2l(h[0])&&c.r2l(d[1])===c.r2l(h[1])||(m={xr0:d,xr1:h}),f.r2l(p[0])===f.r2l(g[0])&&f.r2l(p[1])===f.r2l(g[1])||(y={yr0:p,yr1:g}),(m||y)&&s.push(u.extendFlat({plotinfo:l},m,y))}return Promise.resolve()},a.runFn=function(n){for(var r,i,a,l=e._fullData,c=e._fullLayout._basePlotModules,f=[],d=0;d<l.length;d++)f.push(d);function p(){for(var t=0;t<c.length;t++)c[t].transitionAxes&&c[t].transitionAxes(e,s,r,n)}function h(){for(var t=0;t<c.length;t++)c[t].plot(e,a,i,n)}s.length&&t.anim?"traces first"===o.ordering?(r=u.extendFlat({},o,{duration:0}),a=f,i=o,setTimeout(p,o.duration),h()):(r=o,a=null,i=u.extendFlat({},o,{duration:0}),setTimeout(h,r.duration),p()):s.length?(r=o,p()):t.anim&&(a=f,i=o,h())},P(e,o,a)},b.doCalcdata=function(e,t){var n,r,i,o,l=d.list(e),c=e._fullData,p=e._fullLayout,h=new Array(c.length),g=(e.calcdata||[]).slice();for(e.calcdata=h,p._numBoxes=0,p._numViolins=0,p._violinScaleGroupStats={},e._hmpixcount=0,e._hmlumcount=0,p._piecolormap={},p._sunburstcolormap={},p._treemapcolormap={},p._funnelareacolormap={},i=0;i<c.length;i++)Array.isArray(t)&&-1===t.indexOf(i)&&(h[i]=g[i]);for(i=0;i<c.length;i++)(n=c[i])._arrayAttrs=s.findArrayAttributes(n),n._extremes={};var m=p._subplots.polar||[];for(i=0;i<m.length;i++)l.push(p[m[i]].radialaxis,p[m[i]].angularaxis);for(var y in p._colorAxes){var v=p[y];!1!==v.cauto&&(delete v.cmin,delete v.cmax)}var b=!1;function _(t){if(n=c[t],r=n._module,!0===n.visible&&n.transforms){if(r&&r.calc){var i=r.calc(e,n);i[0]&&i[0].t&&i[0].t._scene&&delete i[0].t._scene.dirty}for(o=0;o<n.transforms.length;o++){var a=n.transforms[o];(r=x[a.type])&&r.calcTransform&&(n._hasCalcTransform=!0,b=!0,r.calcTransform(e,n,a))}}}function w(t,i){if(n=c[t],!!(r=n._module).isContainer===i){var a=[];if(!0===n.visible&&0!==n._length){delete n._indexToPoints;var s=n.transforms||[];for(o=s.length-1;o>=0;o--)if(s[o].enabled){n._indexToPoints=s[o]._indexToPoints;break}r&&r.calc&&(a=r.calc(e,n))}Array.isArray(a)&&a[0]||(a=[{x:f,y:f}]),a[0].t||(a[0].t={}),a[0].trace=n,h[t]=a}}for(L(l,c,p),i=0;i<c.length;i++)w(i,!0);for(i=0;i<c.length;i++)_(i);for(b&&L(l,c,p),i=0;i<c.length;i++)w(i,!0);for(i=0;i<c.length;i++)w(i,!1);R(e);var k=function(e,t){var n,r,i,o,s,l=[];function c(e,n,r){var i=n._id.charAt(0);if("histogram2dcontour"===e){var o=n._counterAxes[0],a=d.getFromId(t,o),s="x"===i||"x"===o&&"category"===a.type,l="y"===i||"y"===o&&"category"===a.type;return function(e,t){return 0===e||0===t||s&&e===r[t].length-1||l&&t===r.length-1?-1:("y"===i?t:e)-1}}return function(e,t){return"y"===i?t:e}}var f={min:function(e){return u.aggNums(Math.min,null,e)},max:function(e){return u.aggNums(Math.max,null,e)},sum:function(e){return u.aggNums((function(e,t){return e+t}),null,e)},total:function(e){return u.aggNums((function(e,t){return e+t}),null,e)},mean:function(e){return u.mean(e)},median:function(e){return u.median(e)}};for(n=0;n<e.length;n++){var p=e[n];if("category"===p.type){var h=p.categoryorder.match(D);if(h){var g=h[1],m=h[2],y=[];for(r=0;r<p._categories.length;r++)y.push([p._categories[r],[]]);for(r=0;r<p._traceIndices.length;r++){var v=p._traceIndices[r],b=t._fullData[v],x=p._id.charAt(0);if(!0===b.visible){var _=b.type;a.traceIs(b,"histogram")&&(delete b._xautoBinFinished,delete b._yautoBinFinished);var w=t.calcdata[v];for(i=0;i<w.length;i++){var k,T,C,O=w[i];if("splom"===_){var S=b._axesDim[p._id];if("y"===x){var A=b._diag[S][0];A&&(p=t._fullLayout[d.id2name(A)])}var M=O.trace.dimensions[S].values;for(o=0;o<M.length;o++)for(k=M[o],T=p._categoriesMap[k],s=0;s<O.trace.dimensions.length;s++)if(s!==S){var E=O.trace.dimensions[s];y[T][1].push(E.values[o])}}else if("scattergl"===_){for(o=0;o<O.t.x.length;o++)"x"===x&&(T=k=O.t.x[o],C=O.t.y[o]),"y"===x&&(T=k=O.t.y[o],C=O.t.x[o]),y[T][1].push(C);O.t&&O.t._scene&&delete O.t._scene.dirty}else if(O.hasOwnProperty("z")){C=O.z;var P=c(b.type,p,C);for(o=0;o<C.length;o++)for(s=0;s<C[o].length;s++)(T=P(s,o))+1&&y[T][1].push(C[o][s])}else for("x"===x?(k=O.p+1?O.p:O.x,C=O.s||O.v||O.y):"y"===x&&(k=O.p+1?O.p:O.y,C=O.s||O.v||O.x),Array.isArray(C)||(C=[C]),o=0;o<C.length;o++)y[k][1].push(C[o])}}}p._categoriesValue=y;var L=[];for(r=0;r<y.length;r++)L.push([y[r][0],f[g](y[r][1])]);L.sort((function(e,t){return e[1]-t[1]})),p._categoriesAggregatedValue=L,p._initialCategories=L.map((function(e){return e[0]})),"descending"===m&&p._initialCategories.reverse(),l=l.concat(p.sortByInitialCategories())}}}return l}(l,e);if(k.length){for(p._numBoxes=0,p._numViolins=0,i=0;i<k.length;i++)w(k[i],!0);for(i=0;i<k.length;i++)w(k[i],!1);R(e)}a.getComponentMethod("fx","calc")(e),a.getComponentMethod("errorbars","calc")(e)};var D=/(total|sum|min|max|mean|median) (ascending|descending)/;function L(e,t,n){var r,i,o,a={};for(r=0;r<e.length;r++)o=(i=e[r])._id,i.clearCalc(),"multicategory"===i.type&&i.setupMultiCategory(t),a[i._id]=1;var s=n._axisMatchGroups||[];for(r=0;r<s.length;r++)for(o in s[r])a[o]||(i=n[d.id2name(o)]).clearCalc()}function R(e){var t,n,r,i=e._fullLayout,o=i._visibleModules,a={};for(n=0;n<o.length;n++){var s=o[n],l=s.crossTraceCalc;if(l){var c=s.basePlotModule.name;a[c]?u.pushUnique(a[c],l):a[c]=[l]}}for(r in a){var f=a[r],d=i._subplots[r];if(Array.isArray(d))for(t=0;t<d.length;t++){var p=d[t],h="cartesian"===r?i._plots[p]:i[p];for(n=0;n<f.length;n++)f[n](e,h,p)}else for(n=0;n<f.length;n++)f[n](e)}}b.rehover=function(e){e._fullLayout._rehover&&e._fullLayout._rehover()},b.redrag=function(e){e._fullLayout._redrag&&e._fullLayout._redrag()},b.generalUpdatePerTraceModule=function(e,t,n,r){var i,o=t.traceHash,a={};for(i=0;i<n.length;i++){var s=n[i],l=s[0].trace;l.visible&&(a[l.type]=a[l.type]||[],a[l.type].push(s))}for(var c in o)if(!a[c]){var f=o[c][0];f[0].trace.visible=!1,a[c]=[f]}for(var d in a){var p=a[d];p[0][0].trace._module.plot(e,t,u.filterVisible(p),r)}t.traceHash=a},b.plotBasePlot=function(e,t,n,r,i){var o=a.getModule(e),s=m(t.calcdata,o)[0];o.plot(t,s,r,i)},b.cleanBasePlot=function(e,t,n,r,i){var o=i._has&&i._has(e),a=n._has&&n._has(e);o&&!a&&i["_"+e+"layer"].selectAll("g.trace").remove()}},{"../components/color":75,"../constants/numerical":182,"../lib":203,"../plot_api/plot_schema":236,"../plot_api/plot_template":237,"../plots/get_data":278,"../registry":295,"./animation_attributes":242,"./attributes":244,"./cartesian/axis_ids":251,"./cartesian/handle_outline":258,"./command":274,"./font_attributes":276,"./frame_attributes":277,"./layout_attributes":280,d3:21,"d3-time-format":19,"fast-isnumeric":23}],283:[function(e,t,n){"use strict";var r=e("../../../traces/scatter/attributes"),i=r.marker,o=e("../../../lib/extend").extendFlat;["Area traces are deprecated!","Please switch to the *barpolar* trace type."].join(" "),t.exports={r:o({},r.r,{}),t:o({},r.t,{}),marker:{color:o({},i.color,{}),size:o({},i.size,{}),symbol:o({},i.symbol,{}),opacity:o({},i.opacity,{}),editType:"calc"}}},{"../../../lib/extend":197,"../../../traces/scatter/attributes":416}],284:[function(e,t,n){"use strict";var r=e("../../cartesian/layout_attributes"),i=e("../../../lib/extend").extendFlat,o=e("../../../plot_api/edit_types").overrideAll,a=["Legacy polar charts are deprecated!","Please switch to *polar* subplots."].join(" "),s=i({},r.domain,{});function l(e,t){return i({},t,{showline:{valType:"boolean"},showticklabels:{valType:"boolean"},tickorientation:{valType:"enumerated",values:["horizontal","vertical"]},ticklen:{valType:"number",min:0},tickcolor:{valType:"color"},ticksuffix:{valType:"string"},endpadding:{valType:"number",description:a},visible:{valType:"boolean"}})}t.exports=o({radialaxis:l(0,{range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},domain:s,orientation:{valType:"number"}}),angularaxis:l(0,{range:{valType:"info_array",items:[{valType:"number",dflt:0},{valType:"number",dflt:360}]},domain:s}),layout:{direction:{valType:"enumerated",values:["clockwise","counterclockwise"]},orientation:{valType:"angle"}}},"plot","nested")},{"../../../lib/extend":197,"../../../plot_api/edit_types":230,"../../cartesian/layout_attributes":262}],285:[function(e,t,n){"use strict";(t.exports=e("./micropolar")).manager=e("./micropolar_manager")},{"./micropolar":286,"./micropolar_manager":287}],286:[function(e,t,n){var r=e("d3"),i=e("../../../lib").extendDeepAll,o=e("../../../constants/alignment").MID_SHIFT,a=t.exports={version:"0.2.2"};a.Axis=function(){var e,t,n,s,l={data:[],layout:{}},u={},c={},f=r.dispatch("hover"),d={};return d.render=function(u){return function(u){t=u||t;var f=l.data,d=l.layout;("string"==typeof t||t.nodeName)&&(t=r.select(t)),t.datum(f).each((function(t,l){var u=t.slice();c={data:a.util.cloneJson(u),layout:a.util.cloneJson(d)};var f=0;u.forEach((function(e,t){e.color||(e.color=d.defaultColorRange[f],f=(f+1)%d.defaultColorRange.length),e.strokeColor||(e.strokeColor="LinePlot"===e.geometry?e.color:r.rgb(e.color).darker().toString()),c.data[t].color=e.color,c.data[t].strokeColor=e.strokeColor,c.data[t].strokeDash=e.strokeDash,c.data[t].strokeSize=e.strokeSize}));var p=u.filter((function(e,t){var n=e.visible;return void 0===n||!0===n})),h=!1,g=p.map((function(e,t){return h=h||void 0!==e.groupId,e}));if(h){var m=r.nest().key((function(e,t){return void 0!==e.groupId?e.groupId:"unstacked"})).entries(g),y=[],v=m.map((function(e,t){if("unstacked"===e.key)return e.values;var n=e.values[0].r.map((function(e,t){return 0}));return e.values.forEach((function(e,t,r){e.yStack=[n],y.push(n),n=a.util.sumArrays(e.r,n)})),e.values}));p=r.merge(v)}p.forEach((function(e,t){e.t=Array.isArray(e.t[0])?e.t:[e.t],e.r=Array.isArray(e.r[0])?e.r:[e.r]}));var b=Math.min(d.width-d.margin.left-d.margin.right,d.height-d.margin.top-d.margin.bottom)/2;b=Math.max(10,b);var x,_=[d.margin.left+b,d.margin.top+b];x=h?[0,r.max(a.util.sumArrays(a.util.arrayLast(p).r[0],a.util.arrayLast(y)))]:r.extent(a.util.flattenArray(p.map((function(e,t){return e.r})))),d.radialAxis.domain!=a.DATAEXTENT&&(x[0]=0),n=r.scale.linear().domain(d.radialAxis.domain!=a.DATAEXTENT&&d.radialAxis.domain?d.radialAxis.domain:x).range([0,b]),c.layout.radialAxis.domain=n.domain();var w,k=a.util.flattenArray(p.map((function(e,t){return e.t}))),T="string"==typeof k[0];T&&(k=a.util.deduplicate(k),w=k.slice(),k=r.range(k.length),p=p.map((function(e,t){var n=e;return e.t=[k],h&&(n.yStack=e.yStack),n})));var C=p.filter((function(e,t){return"LinePlot"===e.geometry||"DotPlot"===e.geometry})).length===p.length,O=null===d.needsEndSpacing?T||!C:d.needsEndSpacing,S=d.angularAxis.domain&&d.angularAxis.domain!=a.DATAEXTENT&&!T&&d.angularAxis.domain[0]>=0?d.angularAxis.domain:r.extent(k),A=Math.abs(k[1]-k[0]);C&&!T&&(A=0);var M=S.slice();O&&T&&(M[1]+=A);var E=d.angularAxis.ticksCount||4;E>8&&(E=E/(E/8)+E%8),d.angularAxis.ticksStep&&(E=(M[1]-M[0])/E);var P=d.angularAxis.ticksStep||(M[1]-M[0])/(E*(d.minorTicks+1));w&&(P=Math.max(Math.round(P),1)),M[2]||(M[2]=P);var D=r.range.apply(this,M);if(D=D.map((function(e,t){return parseFloat(e.toPrecision(12))})),s=r.scale.linear().domain(M.slice(0,2)).range("clockwise"===d.direction?[0,360]:[360,0]),c.layout.angularAxis.domain=s.domain(),c.layout.angularAxis.endPadding=O?A:0,void 0===(e=r.select(this).select("svg.chart-root"))||e.empty()){var L=(new DOMParser).parseFromString("<svg xmlns='http://www.w3.org/2000/svg' class='chart-root'>' + '<g class='outer-group'>' + '<g class='chart-group'>' + '<circle class='background-circle'></circle>' + '<g class='geometry-group'></g>' + '<g class='radial axis-group'>' + '<circle class='outside-circle'></circle>' + '</g>' + '<g class='angular axis-group'></g>' + '<g class='guides-group'><line></line><circle r='0'></circle></g>' + '</g>' + '<g class='legend-group'></g>' + '<g class='tooltips-group'></g>' + '<g class='title-group'><text></text></g>' + '</g>' + '</svg>","application/xml"),R=this.appendChild(this.ownerDocument.importNode(L.documentElement,!0));e=r.select(R)}e.select(".guides-group").style({"pointer-events":"none"}),e.select(".angular.axis-group").style({"pointer-events":"none"}),e.select(".radial.axis-group").style({"pointer-events":"none"});var I,N=e.select(".chart-group"),j={fill:"none",stroke:d.tickColor},z={"font-size":d.font.size,"font-family":d.font.family,fill:d.font.color,"text-shadow":["-1px 0px","1px -1px","-1px 1px","1px 1px"].map((function(e,t){return" "+e+" 0 "+d.font.outlineColor})).join(",")};if(d.showLegend){I=e.select(".legend-group").attr({transform:"translate("+[b,d.margin.top]+")"}).style({display:"block"});var q=p.map((function(e,t){var n=a.util.cloneJson(e);return n.symbol="DotPlot"===e.geometry?e.dotType||"circle":"LinePlot"!=e.geometry?"square":"line",n.visibleInLegend=void 0===e.visibleInLegend||e.visibleInLegend,n.color="LinePlot"===e.geometry?e.strokeColor:e.color,n}));a.Legend().config({data:p.map((function(e,t){return e.name||"Element"+t})),legendConfig:i({},a.Legend.defaultConfig().legendConfig,{container:I,elements:q,reverseOrder:d.legend.reverseOrder})})();var F=I.node().getBBox();b=Math.min(d.width-F.width-d.margin.left-d.margin.right,d.height-d.margin.top-d.margin.bottom)/2,b=Math.max(10,b),_=[d.margin.left+b,d.margin.top+b],n.range([0,b]),c.layout.radialAxis.domain=n.domain(),I.attr("transform","translate("+[_[0]+b,_[1]-b]+")")}else I=e.select(".legend-group").style({display:"none"});e.attr({width:d.width,height:d.height}).style({opacity:d.opacity}),N.attr("transform","translate("+_+")").style({cursor:"crosshair"});var B=[(d.width-(d.margin.left+d.margin.right+2*b+(F?F.width:0)))/2,(d.height-(d.margin.top+d.margin.bottom+2*b))/2];if(B[0]=Math.max(0,B[0]),B[1]=Math.max(0,B[1]),e.select(".outer-group").attr("transform","translate("+B+")"),d.title&&d.title.text){var H=e.select("g.title-group text").style(z).text(d.title.text),U=H.node().getBBox();H.attr({x:_[0]-U.width/2,y:_[1]-b-20})}var V=e.select(".radial.axis-group");if(d.radialAxis.gridLinesVisible){var W=V.selectAll("circle.grid-circle").data(n.ticks(5));W.enter().append("circle").attr({class:"grid-circle"}).style(j),W.attr("r",n),W.exit().remove()}V.select("circle.outside-circle").attr({r:b}).style(j);var G=e.select("circle.background-circle").attr({r:b}).style({fill:d.backgroundColor,stroke:d.stroke});function K(e,t){return s(e)%360+d.orientation}if(d.radialAxis.visible){var Y=r.svg.axis().scale(n).ticks(5).tickSize(5);V.call(Y).attr({transform:"rotate("+d.radialAxis.orientation+")"}),V.selectAll(".domain").style(j),V.selectAll("g>text").text((function(e,t){return this.textContent+d.radialAxis.ticksSuffix})).style(z).style({"text-anchor":"start"}).attr({x:0,y:0,dx:0,dy:0,transform:function(e,t){return"horizontal"===d.radialAxis.tickOrientation?"rotate("+-d.radialAxis.orientation+") translate("+[0,z["font-size"]]+")":"translate("+[0,z["font-size"]]+")"}}),V.selectAll("g>line").style({stroke:"black"})}var Z=e.select(".angular.axis-group").selectAll("g.angular-tick").data(D),X=Z.enter().append("g").classed("angular-tick",!0);Z.attr({transform:function(e,t){return"rotate("+K(e)+")"}}).style({display:d.angularAxis.visible?"block":"none"}),Z.exit().remove(),X.append("line").classed("grid-line",!0).classed("major",(function(e,t){return t%(d.minorTicks+1)==0})).classed("minor",(function(e,t){return!(t%(d.minorTicks+1)==0)})).style(j),X.selectAll(".minor").style({stroke:d.minorTickColor}),Z.select("line.grid-line").attr({x1:d.tickLength?b-d.tickLength:0,x2:b}).style({display:d.angularAxis.gridLinesVisible?"block":"none"}),X.append("text").classed("axis-text",!0).style(z);var $=Z.select("text.axis-text").attr({x:b+d.labelOffset,dy:o+"em",transform:function(e,t){var n=K(e),r=b+d.labelOffset,i=d.angularAxis.tickOrientation;return"horizontal"==i?"rotate("+-n+" "+r+" 0)":"radial"==i?n<270&&n>90?"rotate(180 "+r+" 0)":null:"rotate("+(n<=180&&n>0?-90:90)+" "+r+" 0)"}}).style({"text-anchor":"middle",display:d.angularAxis.labelsVisible?"block":"none"}).text((function(e,t){return t%(d.minorTicks+1)!=0?"":w?w[e]+d.angularAxis.ticksSuffix:e+d.angularAxis.ticksSuffix})).style(z);d.angularAxis.rewriteTicks&&$.text((function(e,t){return t%(d.minorTicks+1)!=0?"":d.angularAxis.rewriteTicks(this.textContent,t)}));var J=r.max(N.selectAll(".angular-tick text")[0].map((function(e,t){return e.getCTM().e+e.getBBox().width})));I.attr({transform:"translate("+[b+J,d.margin.top]+")"});var Q=e.select("g.geometry-group").selectAll("g").size()>0,ee=e.select("g.geometry-group").selectAll("g.geometry").data(p);if(ee.enter().append("g").attr({class:function(e,t){return"geometry geometry"+t}}),ee.exit().remove(),p[0]||Q){var te=[];p.forEach((function(e,t){var r={};r.radialScale=n,r.angularScale=s,r.container=ee.filter((function(e,n){return n==t})),r.geometry=e.geometry,r.orientation=d.orientation,r.direction=d.direction,r.index=t,te.push({data:e,geometryConfig:r})}));var ne=r.nest().key((function(e,t){return void 0!==e.data.groupId||"unstacked"})).entries(te),re=[];ne.forEach((function(e,t){"unstacked"===e.key?re=re.concat(e.values.map((function(e,t){return[e]}))):re.push(e.values)})),re.forEach((function(e,t){var n;n=Array.isArray(e)?e[0].geometryConfig.geometry:e.geometryConfig.geometry;var r=e.map((function(e,t){return i(a[n].defaultConfig(),e)}));a[n]().config(r)()}))}var ie,oe,ae=e.select(".guides-group"),se=e.select(".tooltips-group"),le=a.tooltipPanel().config({container:se,fontSize:8})(),ue=a.tooltipPanel().config({container:se,fontSize:8})(),ce=a.tooltipPanel().config({container:se,hasTick:!0})();if(!T){var fe=ae.select("line").attr({x1:0,y1:0,y2:0}).style({stroke:"grey","pointer-events":"none"});N.on("mousemove.angular-guide",(function(e,t){var n=a.util.getMousePos(G).angle;fe.attr({x2:-b,transform:"rotate("+n+")"}).style({opacity:.5});var r=(n+180+360-d.orientation)%360;ie=s.invert(r);var i=a.util.convertToCartesian(b+12,n+180);le.text(a.util.round(ie)).move([i[0]+_[0],i[1]+_[1]])})).on("mouseout.angular-guide",(function(e,t){ae.select("line").style({opacity:0})}))}var de=ae.select("circle").style({stroke:"grey",fill:"none"});N.on("mousemove.radial-guide",(function(e,t){var r=a.util.getMousePos(G).radius;de.attr({r}).style({opacity:.5}),oe=n.invert(a.util.getMousePos(G).radius);var i=a.util.convertToCartesian(r,d.radialAxis.orientation);ue.text(a.util.round(oe)).move([i[0]+_[0],i[1]+_[1]])})).on("mouseout.radial-guide",(function(e,t){de.style({opacity:0}),ce.hide(),le.hide(),ue.hide()})),e.selectAll(".geometry-group .mark").on("mouseover.tooltip",(function(t,n){var i=r.select(this),o=this.style.fill,s="black",l=this.style.opacity||1;if(i.attr({"data-opacity":l}),o&&"none"!==o){i.attr({"data-fill":o}),s=r.hsl(o).darker().toString(),i.style({fill:s,opacity:1});var u={t:a.util.round(t[0]),r:a.util.round(t[1])};T&&(u.t=w[t[0]]);var c="t: "+u.t+", r: "+u.r,f=this.getBoundingClientRect(),d=e.node().getBoundingClientRect(),p=[f.left+f.width/2-B[0]-d.left,f.top+f.height/2-B[1]-d.top];ce.config({color:s}).text(c),ce.move(p)}else o=this.style.stroke||"black",i.attr({"data-stroke":o}),s=r.hsl(o).darker().toString(),i.style({stroke:s,opacity:1})})).on("mousemove.tooltip",(function(e,t){if(0!=r.event.which)return!1;r.select(this).attr("data-fill")&&ce.show()})).on("mouseout.tooltip",(function(e,t){ce.hide();var n=r.select(this),i=n.attr("data-fill");i?n.style({fill:i,opacity:n.attr("data-opacity")}):n.style({stroke:n.attr("data-stroke"),opacity:n.attr("data-opacity")})}))}))}(u),this},d.config=function(e){if(!arguments.length)return l;var t=a.util.cloneJson(e);return t.data.forEach((function(e,t){l.data[t]||(l.data[t]={}),i(l.data[t],a.Axis.defaultConfig().data[0]),i(l.data[t],e)})),i(l.layout,a.Axis.defaultConfig().layout),i(l.layout,t.layout),this},d.getLiveConfig=function(){return c},d.getinputConfig=function(){return u},d.radialScale=function(e){return n},d.angularScale=function(e){return s},d.svg=function(){return e},r.rebind(d,f,"on"),d},a.Axis.defaultConfig=function(e,t){return{data:[{t:[1,2,3,4],r:[10,11,12,13],name:"Line1",geometry:"LinePlot",color:null,strokeDash:"solid",strokeColor:null,strokeSize:"1",visibleInLegend:!0,opacity:1}],layout:{defaultColorRange:r.scale.category10().range(),title:null,height:450,width:500,margin:{top:40,right:40,bottom:40,left:40},font:{size:12,color:"gray",outlineColor:"white",family:"Tahoma, sans-serif"},direction:"clockwise",orientation:0,labelOffset:10,radialAxis:{domain:null,orientation:-45,ticksSuffix:"",visible:!0,gridLinesVisible:!0,tickOrientation:"horizontal",rewriteTicks:null},angularAxis:{domain:[0,360],ticksSuffix:"",visible:!0,gridLinesVisible:!0,labelsVisible:!0,tickOrientation:"horizontal",rewriteTicks:null,ticksCount:null,ticksStep:null},minorTicks:0,tickLength:null,tickColor:"silver",minorTickColor:"#eee",backgroundColor:"none",needsEndSpacing:null,showLegend:!0,legend:{reverseOrder:!1},opacity:1}}},a.util={},a.DATAEXTENT="dataExtent",a.AREA="AreaChart",a.LINE="LinePlot",a.DOT="DotPlot",a.BAR="BarChart",a.util._override=function(e,t){for(var n in e)n in t&&(t[n]=e[n])},a.util._extend=function(e,t){for(var n in e)t[n]=e[n]},a.util._rndSnd=function(){return 2*Math.random()-1+(2*Math.random()-1)+(2*Math.random()-1)},a.util.dataFromEquation2=function(e,t){var n=t||6;return r.range(0,360+n,n).map((function(t,n){var r=t*Math.PI/180;return[t,e(r)]}))},a.util.dataFromEquation=function(e,t,n){var i=t||6,o=[],a=[];r.range(0,360+i,i).forEach((function(t,n){var r=t*Math.PI/180,i=e(r);o.push(t),a.push(i)}));var s={t:o,r:a};return n&&(s.name=n),s},a.util.ensureArray=function(e,t){if(void 0===e)return null;var n=[].concat(e);return r.range(t).map((function(e,t){return n[t]||n[0]}))},a.util.fillArrays=function(e,t,n){return t.forEach((function(t,r){e[t]=a.util.ensureArray(e[t],n)})),e},a.util.cloneJson=function(e){return JSON.parse(JSON.stringify(e))},a.util.validateKeys=function(e,t){"string"==typeof t&&(t=t.split("."));var n=t.shift();return e[n]&&(!t.length||objHasKeys(e[n],t))},a.util.sumArrays=function(e,t){return r.zip(e,t).map((function(e,t){return r.sum(e)}))},a.util.arrayLast=function(e){return e[e.length-1]},a.util.arrayEqual=function(e,t){for(var n=Math.max(e.length,t.length,1);n-- >=0&&e[n]===t[n];);return-2===n},a.util.flattenArray=function(e){for(var t=[];!a.util.arrayEqual(t,e);)t=e,e=[].concat.apply([],e);return e},a.util.deduplicate=function(e){return e.filter((function(e,t,n){return n.indexOf(e)==t}))},a.util.convertToCartesian=function(e,t){var n=t*Math.PI/180;return[e*Math.cos(n),e*Math.sin(n)]},a.util.round=function(e,t){var n=t||2,r=Math.pow(10,n);return Math.round(e*r)/r},a.util.getMousePos=function(e){var t=r.mouse(e.node()),n=t[0],i=t[1],o={};return o.x=n,o.y=i,o.pos=t,o.angle=180*(Math.atan2(i,n)+Math.PI)/Math.PI,o.radius=Math.sqrt(n*n+i*i),o},a.util.duplicatesCount=function(e){for(var t,n={},r={},i=0,o=e.length;i<o;i++)(t=e[i])in n?(n[t]++,r[t]=n[t]):n[t]=1;return r},a.util.duplicates=function(e){return Object.keys(a.util.duplicatesCount(e))},a.util.translator=function(e,t,n,r){if(r){var i=n.slice();n=t,t=i}var o=t.reduce((function(e,t){if(void 0!==e)return e[t]}),e);void 0!==o&&(t.reduce((function(e,n,r){if(void 0!==e)return r===t.length-1&&delete e[n],e[n]}),e),n.reduce((function(e,t,r){return void 0===e[t]&&(e[t]={}),r===n.length-1&&(e[t]=o),e[t]}),e))},a.PolyChart=function(){var e=[a.PolyChart.defaultConfig()],t=r.dispatch("hover"),n={solid:"none",dash:[5,2],dot:[2,5]};function o(){var t=e[0].geometryConfig,i=t.container;"string"==typeof i&&(i=r.select(i)),i.datum(e).each((function(e,i){var o=!!e[0].data.yStack,a=e.map((function(e,t){return o?r.zip(e.data.t[0],e.data.r[0],e.data.yStack[0]):r.zip(e.data.t[0],e.data.r[0])})),s=t.angularScale,l=t.radialScale.domain()[0],u={bar:function(n,i,o){var a=e[o].data,l=t.radialScale(n[1])-t.radialScale(0),u=t.radialScale(n[2]||0),c=a.barWidth;r.select(this).attr({class:"mark bar",d:"M"+[[l+u,-c/2],[l+u,c/2],[u,c/2],[u,-c/2]].join("L")+"Z",transform:function(e,n){return"rotate("+(t.orientation+s(e[0]))+")"}})},dot:function(n,i,o){var a=n[2]?[n[0],n[1]+n[2]]:n,s=r.svg.symbol().size(e[o].data.dotSize).type(e[o].data.dotType)(n,i);r.select(this).attr({class:"mark dot",d:s,transform:function(e,n){var r,i={x:(r=function(e,n){return{r:t.radialScale(e[1]),t:(t.angularScale(e[0])+t.orientation)*Math.PI/180}}(a)).r*Math.cos(r.t),y:r.r*Math.sin(r.t)};return"translate("+[i.x,i.y]+")"}})}},c=r.svg.line.radial().interpolate(e[0].data.lineInterpolation).radius((function(e){return t.radialScale(e[1])})).angle((function(e){return t.angularScale(e[0])*Math.PI/180}));u.line=function(n,i,o){var s=n[2]?a[o].map((function(e,t){return[e[0],e[1]+e[2]]})):a[o];if(r.select(this).each(u.dot).style({opacity:function(t,n){return+e[o].data.dotVisible},fill:h.stroke(n,i,o)}).attr({class:"mark dot"}),!(i>0)){var l=r.select(this.parentNode).selectAll("path.line").data([0]);l.enter().insert("path"),l.attr({class:"line",d:c(s),transform:function(e,n){return"rotate("+(t.orientation+90)+")"},"pointer-events":"none"}).style({fill:function(e,t){return h.fill(n,i,o)},"fill-opacity":0,stroke:function(e,t){return h.stroke(n,i,o)},"stroke-width":function(e,t){return h["stroke-width"](n,i,o)},"stroke-dasharray":function(e,t){return h["stroke-dasharray"](n,i,o)},opacity:function(e,t){return h.opacity(n,i,o)},display:function(e,t){return h.display(n,i,o)}})}};var f=t.angularScale.range(),d=Math.abs(f[1]-f[0])/a[0].length*Math.PI/180,p=r.svg.arc().startAngle((function(e){return-d/2})).endAngle((function(e){return d/2})).innerRadius((function(e){return t.radialScale(l+(e[2]||0))})).outerRadius((function(e){return t.radialScale(l+(e[2]||0))+t.radialScale(e[1])}));u.arc=function(e,n,i){r.select(this).attr({class:"mark arc",d:p,transform:function(e,n){return"rotate("+(t.orientation+s(e[0])+90)+")"}})};var h={fill:function(t,n,r){return e[r].data.color},stroke:function(t,n,r){return e[r].data.strokeColor},"stroke-width":function(t,n,r){return e[r].data.strokeSize+"px"},"stroke-dasharray":function(t,r,i){return n[e[i].data.strokeDash]},opacity:function(t,n,r){return e[r].data.opacity},display:function(t,n,r){return void 0===e[r].data.visible||e[r].data.visible?"block":"none"}},g=r.select(this).selectAll("g.layer").data(a);g.enter().append("g").attr({class:"layer"});var m=g.selectAll("path.mark").data((function(e,t){return e}));m.enter().append("path").attr({class:"mark"}),m.style(h).each(u[t.geometryType]),m.exit().remove(),g.exit().remove()}))}return o.config=function(t){return arguments.length?(t.forEach((function(t,n){e[n]||(e[n]={}),i(e[n],a.PolyChart.defaultConfig()),i(e[n],t)})),this):e},o.getColorScale=function(){},r.rebind(o,t,"on"),o},a.PolyChart.defaultConfig=function(){return{data:{name:"geom1",t:[[1,2,3,4]],r:[[1,2,3,4]],dotType:"circle",dotSize:64,dotVisible:!1,barWidth:20,color:"#ffa500",strokeSize:1,strokeColor:"silver",strokeDash:"solid",opacity:1,index:0,visible:!0,visibleInLegend:!0},geometryConfig:{geometry:"LinePlot",geometryType:"arc",direction:"clockwise",orientation:0,container:"body",radialScale:null,angularScale:null,colorScale:r.scale.category20()}}},a.BarChart=function(){return a.PolyChart()},a.BarChart.defaultConfig=function(){return{geometryConfig:{geometryType:"bar"}}},a.AreaChart=function(){return a.PolyChart()},a.AreaChart.defaultConfig=function(){return{geometryConfig:{geometryType:"arc"}}},a.DotPlot=function(){return a.PolyChart()},a.DotPlot.defaultConfig=function(){return{geometryConfig:{geometryType:"dot",dotType:"circle"}}},a.LinePlot=function(){return a.PolyChart()},a.LinePlot.defaultConfig=function(){return{geometryConfig:{geometryType:"line"}}},a.Legend=function(){var e=a.Legend.defaultConfig(),t=r.dispatch("hover");function n(){var t=e.legendConfig,o=e.data.map((function(e,n){return[].concat(e).map((function(e,r){var o=i({},t.elements[n]);return o.name=e,o.color=[].concat(t.elements[n].color)[r],o}))})),a=r.merge(o);a=a.filter((function(e,n){return t.elements[n]&&(t.elements[n].visibleInLegend||void 0===t.elements[n].visibleInLegend)})),t.reverseOrder&&(a=a.reverse());var s=t.container;("string"==typeof s||s.nodeName)&&(s=r.select(s));var l=a.map((function(e,t){return e.color})),u=t.fontSize,c=null==t.isContinuous?"number"==typeof a[0]:t.isContinuous,f=c?t.height:u*a.length,d=s.classed("legend-group",!0).selectAll("svg").data([0]),p=d.enter().append("svg").attr({width:300,height:f+u,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"});p.append("g").classed("legend-axis",!0),p.append("g").classed("legend-marks",!0);var h=r.range(a.length),g=r.scale[c?"linear":"ordinal"]().domain(h).range(l),m=r.scale[c?"linear":"ordinal"]().domain(h)[c?"range":"rangePoints"]([0,f]);if(c){var y=d.select(".legend-marks").append("defs").append("linearGradient").attr({id:"grad1",x1:"0%",y1:"0%",x2:"0%",y2:"100%"}).selectAll("stop").data(l);y.enter().append("stop"),y.attr({offset:function(e,t){return t/(l.length-1)*100+"%"}}).style({"stop-color":function(e,t){return e}}),d.append("rect").classed("legend-mark",!0).attr({height:t.height,width:t.colorBandWidth,fill:"url(#grad1)"})}else{var v=d.select(".legend-marks").selectAll("path.legend-mark").data(a);v.enter().append("path").classed("legend-mark",!0),v.attr({transform:function(e,t){return"translate("+[u/2,m(t)+u/2]+")"},d:function(e,t){var n,i,o,a=e.symbol;return o=3*(i=u),"line"===(n=a)?"M"+[[-i/2,-i/12],[i/2,-i/12],[i/2,i/12],[-i/2,i/12]]+"Z":-1!=r.svg.symbolTypes.indexOf(n)?r.svg.symbol().type(n).size(o)():r.svg.symbol().type("square").size(o)()},fill:function(e,t){return g(t)}}),v.exit().remove()}var b=r.svg.axis().scale(m).orient("right"),x=d.select("g.legend-axis").attr({transform:"translate("+[c?t.colorBandWidth:u,u/2]+")"}).call(b);return x.selectAll(".domain").style({fill:"none",stroke:"none"}),x.selectAll("line").style({fill:"none",stroke:c?t.textColor:"none"}),x.selectAll("text").style({fill:t.textColor,"font-size":t.fontSize}).text((function(e,t){return a[t].name})),n}return n.config=function(t){return arguments.length?(i(e,t),this):e},r.rebind(n,t,"on"),n},a.Legend.defaultConfig=function(e,t){return{data:["a","b","c"],legendConfig:{elements:[{symbol:"line",color:"red"},{symbol:"square",color:"yellow"},{symbol:"diamond",color:"limegreen"}],height:150,colorBandWidth:30,fontSize:12,container:"body",isContinuous:null,textColor:"grey",reverseOrder:!1}}},a.tooltipPanel=function(){var e,t,n,o={container:null,hasTick:!1,fontSize:12,color:"white",padding:5},s="tooltip-"+a.tooltipPanel.uid++,l=10,u=function(){var r=(e=o.container.selectAll("g."+s).data([0])).enter().append("g").classed(s,!0).style({"pointer-events":"none",display:"none"});return n=r.append("path").style({fill:"white","fill-opacity":.9}).attr({d:"M0 0"}),t=r.append("text").attr({dx:o.padding+l,dy:.3*+o.fontSize}),u};return u.text=function(i){var a=r.hsl(o.color).l,s=a>=.5?"#aaa":"white",c=a>=.5?"black":"white",f=i||"";t.style({fill:c,"font-size":o.fontSize+"px"}).text(f);var d=o.padding,p=t.node().getBBox(),h={fill:o.color,stroke:s,"stroke-width":"2px"},g=p.width+2*d+l,m=p.height+2*d;return n.attr({d:"M"+[[l,-m/2],[l,-m/4],[o.hasTick?0:l,0],[l,m/4],[l,m/2],[g,m/2],[g,-m/2]].join("L")+"Z"}).style(h),e.attr({transform:"translate("+[l,-m/2+2*d]+")"}),e.style({display:"block"}),u},u.move=function(t){if(e)return e.attr({transform:"translate("+[t[0],t[1]]+")"}).style({display:"block"}),u},u.hide=function(){if(e)return e.style({display:"none"}),u},u.show=function(){if(e)return e.style({display:"block"}),u},u.config=function(e){return i(o,e),u},u},a.tooltipPanel.uid=1,a.adapter={},a.adapter.plotly=function(){return{convert:function(e,t){var n={};if(e.data&&(n.data=e.data.map((function(e,n){var r=i({},e);return[[r,["marker","color"],["color"]],[r,["marker","opacity"],["opacity"]],[r,["marker","line","color"],["strokeColor"]],[r,["marker","line","dash"],["strokeDash"]],[r,["marker","line","width"],["strokeSize"]],[r,["marker","symbol"],["dotType"]],[r,["marker","size"],["dotSize"]],[r,["marker","barWidth"],["barWidth"]],[r,["line","interpolation"],["lineInterpolation"]],[r,["showlegend"],["visibleInLegend"]]].forEach((function(e,n){a.util.translator.apply(null,e.concat(t))})),t||delete r.marker,t&&delete r.groupId,t?("LinePlot"===r.geometry?(r.type="scatter",!0===r.dotVisible?(delete r.dotVisible,r.mode="lines+markers"):r.mode="lines"):"DotPlot"===r.geometry?(r.type="scatter",r.mode="markers"):"AreaChart"===r.geometry?r.type="area":"BarChart"===r.geometry&&(r.type="bar"),delete r.geometry):("scatter"===r.type?"lines"===r.mode?r.geometry="LinePlot":"markers"===r.mode?r.geometry="DotPlot":"lines+markers"===r.mode&&(r.geometry="LinePlot",r.dotVisible=!0):"area"===r.type?r.geometry="AreaChart":"bar"===r.type&&(r.geometry="BarChart"),delete r.mode,delete r.type),r})),!t&&e.layout&&"stack"===e.layout.barmode)){var o=a.util.duplicates(n.data.map((function(e,t){return e.geometry})));n.data.forEach((function(e,t){var r=o.indexOf(e.geometry);-1!=r&&(n.data[t].groupId=r)}))}if(e.layout){var s=i({},e.layout);if([[s,["plot_bgcolor"],["backgroundColor"]],[s,["showlegend"],["showLegend"]],[s,["radialaxis"],["radialAxis"]],[s,["angularaxis"],["angularAxis"]],[s.angularaxis,["showline"],["gridLinesVisible"]],[s.angularaxis,["showticklabels"],["labelsVisible"]],[s.angularaxis,["nticks"],["ticksCount"]],[s.angularaxis,["tickorientation"],["tickOrientation"]],[s.angularaxis,["ticksuffix"],["ticksSuffix"]],[s.angularaxis,["range"],["domain"]],[s.angularaxis,["endpadding"],["endPadding"]],[s.radialaxis,["showline"],["gridLinesVisible"]],[s.radialaxis,["tickorientation"],["tickOrientation"]],[s.radialaxis,["ticksuffix"],["ticksSuffix"]],[s.radialaxis,["range"],["domain"]],[s.angularAxis,["showline"],["gridLinesVisible"]],[s.angularAxis,["showticklabels"],["labelsVisible"]],[s.angularAxis,["nticks"],["ticksCount"]],[s.angularAxis,["tickorientation"],["tickOrientation"]],[s.angularAxis,["ticksuffix"],["ticksSuffix"]],[s.angularAxis,["range"],["domain"]],[s.angularAxis,["endpadding"],["endPadding"]],[s.radialAxis,["showline"],["gridLinesVisible"]],[s.radialAxis,["tickorientation"],["tickOrientation"]],[s.radialAxis,["ticksuffix"],["ticksSuffix"]],[s.radialAxis,["range"],["domain"]],[s.font,["outlinecolor"],["outlineColor"]],[s.legend,["traceorder"],["reverseOrder"]],[s,["labeloffset"],["labelOffset"]],[s,["defaultcolorrange"],["defaultColorRange"]]].forEach((function(e,n){a.util.translator.apply(null,e.concat(t))})),t?(void 0!==s.tickLength&&(s.angularaxis.ticklen=s.tickLength,delete s.tickLength),s.tickColor&&(s.angularaxis.tickcolor=s.tickColor,delete s.tickColor)):(s.angularAxis&&void 0!==s.angularAxis.ticklen&&(s.tickLength=s.angularAxis.ticklen),s.angularAxis&&void 0!==s.angularAxis.tickcolor&&(s.tickColor=s.angularAxis.tickcolor)),s.legend&&"boolean"!=typeof s.legend.reverseOrder&&(s.legend.reverseOrder="normal"!=s.legend.reverseOrder),s.legend&&"boolean"==typeof s.legend.traceorder&&(s.legend.traceorder=s.legend.traceorder?"reversed":"normal",delete s.legend.reverseOrder),s.margin&&void 0!==s.margin.t){var l=["t","r","b","l","pad"],u=["top","right","bottom","left","pad"],c={};r.entries(s.margin).forEach((function(e,t){c[u[l.indexOf(e.key)]]=e.value})),s.margin=c}t&&(delete s.needsEndSpacing,delete s.minorTickColor,delete s.minorTicks,delete s.angularaxis.ticksCount,delete s.angularaxis.ticksCount,delete s.angularaxis.ticksStep,delete s.angularaxis.rewriteTicks,delete s.angularaxis.nticks,delete s.radialaxis.ticksCount,delete s.radialaxis.ticksCount,delete s.radialaxis.ticksStep,delete s.radialaxis.rewriteTicks,delete s.radialaxis.nticks),n.layout=s}return n}}}},{"../../../constants/alignment":177,"../../../lib":203,d3:21}],287:[function(e,t,n){"use strict";var r=e("d3"),i=e("../../../lib"),o=e("../../../components/color"),a=e("./micropolar"),s=e("./undo_manager"),l=i.extendDeepAll,u=t.exports={};u.framework=function(e){var t,n,i,o,c,f=new s;function d(n,s){return s&&(c=s),r.select(r.select(c).node().parentNode).selectAll(".svg-container>*:not(.chart-root)").remove(),t=t?l(t,n):n,i||(i=a.Axis()),o=a.adapter.plotly().convert(t),i.config(o).render(c),e.data=t.data,e.layout=t.layout,u.fillLayout(e),t}return d.isPolar=!0,d.svg=function(){return i.svg()},d.getConfig=function(){return t},d.getLiveConfig=function(){return a.adapter.plotly().convert(i.getLiveConfig(),!0)},d.getLiveScales=function(){return{t:i.angularScale(),r:i.radialScale()}},d.setUndoPoint=function(){var e,r,i=this,o=a.util.cloneJson(t);e=o,r=n,f.add({undo:function(){r&&i(r)},redo:function(){i(e)}}),n=a.util.cloneJson(o)},d.undo=function(){f.undo()},d.redo=function(){f.redo()},d},u.fillLayout=function(e){var t=r.select(e).selectAll(".plot-container"),n=t.selectAll(".svg-container"),i=e.framework&&e.framework.svg&&e.framework.svg(),a={width:800,height:600,paper_bgcolor:o.background,_container:t,_paperdiv:n,_paper:i};e._fullLayout=l(a,e.layout)}},{"../../../components/color":75,"../../../lib":203,"./micropolar":286,"./undo_manager":288,d3:21}],288:[function(e,t,n){"use strict";t.exports=function(){var e,t=[],n=-1,r=!1;function i(e,t){return e?(r=!0,e[t](),r=!1,this):this}return{add:function(e){return r||(t.splice(n+1,t.length-n),t.push(e),n=t.length-1),this},setCallback:function(t){e=t},undo:function(){var r=t[n];return r?(i(r,"undo"),n-=1,e&&e(r.undo),this):this},redo:function(){var r=t[n+1];return r?(i(r,"redo"),n+=1,e&&e(r.redo),this):this},clear:function(){t=[],n=-1},hasUndo:function(){return-1!==n},hasRedo:function(){return n<t.length-1},getCommands:function(){return t},getPreviousCommand:function(){return t[n-1]},getIndex:function(){return n}}}},{}],289:[function(e,t,n){"use strict";var r=e("../lib"),i=e("../plot_api/plot_template"),o=e("./domain").defaults;t.exports=function(e,t,n,a){var s,l,u=a.type,c=a.attributes,f=a.handleDefaults,d=a.partition||"x",p=t._subplots[u],h=p.length,g=h&&p[0].replace(/\d+$/,"");function m(e,t){return r.coerce(s,l,c,e,t)}for(var y=0;y<h;y++){var v=p[y];s=e[v]?e[v]:e[v]={},l=i.newContainer(t,v,g),m("uirevision",t.uirevision);var b={};b[d]=[y/h,(y+1)/h],o(l,t,m,b),a.id=v,f(s,l,m,a)}}},{"../lib":203,"../plot_api/plot_template":237,"./domain":275}],290:[function(e,t,n){"use strict";function r(e){var t=e.description?" "+e.description:"",n=e.keys||[];if(n.length>0){for(var r=[],i=0;i<n.length;i++)r[i]="`"+n[i]+"`";t+="Finally, the template string has access to ",t=1===n.length?"variable "+r[0]:"variables "+r.slice(0,-1).join(", ")+" and "+r.slice(-1)+"."}return t}['Variables are inserted using %{variable}, for example "y: %{y}".','Numbers are formatted using d3-format\'s syntax %{variable:d3-format}, for example "Price: %{y:$.2f}".',e("../constants/docs").FORMAT_LINK,"for details on the formatting syntax.",'Dates are formatted using d3-time-format\'s syntax %{variable|d3-time-format}, for example "Day: %{2019-01-01|%A}".',e("../constants/docs").DATE_FORMAT_LINK,"for details on the date formatting syntax."].join(" "),n.hovertemplateAttrs=function(e,t){e=e||{},r(t=t||{});var n={valType:"string",dflt:"",editType:e.editType||"none"};return!1!==e.arrayOk&&(n.arrayOk=!0),n},n.texttemplateAttrs=function(e,t){e=e||{},r(t=t||{});var n={valType:"string",dflt:"",editType:e.editType||"calc"};return!1!==e.arrayOk&&(n.arrayOk=!0),n}},{"../constants/docs":179}],291:[function(e,t,n){"use strict";var r=e("./ternary"),i=e("../../plots/get_data").getSubplotCalcData,o=e("../../lib").counterRegex,a="ternary";n.name=a;var s=n.attr="subplot";n.idRoot=a,n.idRegex=n.attrRegex=o(a),(n.attributes={})[s]={valType:"subplotid",dflt:"ternary",editType:"calc"},n.layoutAttributes=e("./layout_attributes"),n.supplyLayoutDefaults=e("./layout_defaults"),n.plot=function(e){for(var t=e._fullLayout,n=e.calcdata,o=t._subplots.ternary,s=0;s<o.length;s++){var l=o[s],u=i(n,a,l),c=t[l]._subplot;c||(c=new r({id:l,graphDiv:e,container:t._ternarylayer.node()},t),t[l]._subplot=c),c.plot(u,t,e._promises)}},n.clean=function(e,t,n,r){for(var i=r._subplots.ternary||[],o=0;o<i.length;o++){var a=i[o],s=r[a]._subplot;!t[a]&&s&&(s.plotContainer.remove(),s.clipDef.remove(),s.clipDefRelative.remove(),s.layers["a-title"].remove(),s.layers["b-title"].remove(),s.layers["c-title"].remove())}}},{"../../lib":203,"../../plots/get_data":278,"./layout_attributes":292,"./layout_defaults":293,"./ternary":294}],292:[function(e,t,n){"use strict";var r=e("../../components/color/attributes"),i=e("../domain").attributes,o=e("../cartesian/layout_attributes"),a=e("../../plot_api/edit_types").overrideAll,s=e("../../lib/extend").extendFlat,l={title:{text:o.title.text,font:o.title.font},color:o.color,tickmode:o.tickmode,nticks:s({},o.nticks,{dflt:6,min:1}),tick0:o.tick0,dtick:o.dtick,tickvals:o.tickvals,ticktext:o.ticktext,ticks:o.ticks,ticklen:o.ticklen,tickwidth:o.tickwidth,tickcolor:o.tickcolor,showticklabels:o.showticklabels,showtickprefix:o.showtickprefix,tickprefix:o.tickprefix,showticksuffix:o.showticksuffix,ticksuffix:o.ticksuffix,showexponent:o.showexponent,exponentformat:o.exponentformat,minexponent:o.minexponent,separatethousands:o.separatethousands,tickfont:o.tickfont,tickangle:o.tickangle,tickformat:o.tickformat,tickformatstops:o.tickformatstops,hoverformat:o.hoverformat,showline:s({},o.showline,{dflt:!0}),linecolor:o.linecolor,linewidth:o.linewidth,showgrid:s({},o.showgrid,{dflt:!0}),gridcolor:o.gridcolor,gridwidth:o.gridwidth,layer:o.layer,min:{valType:"number",dflt:0,min:0},_deprecated:{title:o._deprecated.title,titlefont:o._deprecated.titlefont}},u=t.exports=a({domain:i({name:"ternary"}),bgcolor:{valType:"color",dflt:r.background},sum:{valType:"number",dflt:1,min:0},aaxis:l,baxis:l,caxis:l},"plot","from-root");u.uirevision={valType:"any",editType:"none"},u.aaxis.uirevision=u.baxis.uirevision=u.caxis.uirevision={valType:"any",editType:"none"}},{"../../components/color/attributes":74,"../../lib/extend":197,"../../plot_api/edit_types":230,"../cartesian/layout_attributes":262,"../domain":275}],293:[function(e,t,n){"use strict";var r=e("../../components/color"),i=e("../../plot_api/plot_template"),o=e("../../lib"),a=e("../subplot_defaults"),s=e("../cartesian/tick_label_defaults"),l=e("../cartesian/tick_mark_defaults"),u=e("../cartesian/tick_value_defaults"),c=e("../cartesian/line_grid_defaults"),f=e("./layout_attributes"),d=["aaxis","baxis","caxis"];function p(e,t,n,o){var a,s,l,u=n("bgcolor"),c=n("sum");o.bgColor=r.combine(u,o.paper_bgcolor);for(var f=0;f<d.length;f++)s=e[a=d[f]]||{},(l=i.newContainer(t,a))._name=a,h(s,l,o,t);var p=t.aaxis,g=t.baxis,m=t.caxis;p.min+g.min+m.min>=c&&(p.min=0,g.min=0,m.min=0,e.aaxis&&delete e.aaxis.min,e.baxis&&delete e.baxis.min,e.caxis&&delete e.caxis.min)}function h(e,t,n,r){var i=f[t._name];function a(n,r){return o.coerce(e,t,i,n,r)}a("uirevision",r.uirevision),t.type="linear";var d=a("color"),p=d!==i.color.dflt?d:n.font.color,h=t._name.charAt(0).toUpperCase(),g="Component "+h,m=a("title.text",g);t._hovertitle=m===g?m:h,o.coerceFont(a,"title.font",{family:n.font.family,size:Math.round(1.2*n.font.size),color:p}),a("min"),u(e,t,a,"linear"),s(e,t,a,"linear",{}),l(e,t,a,{outerTicks:!0}),a("showticklabels")&&(o.coerceFont(a,"tickfont",{family:n.font.family,size:n.font.size,color:p}),a("tickangle"),a("tickformat")),c(e,t,a,{dfltColor:d,bgColor:n.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:i}),a("hoverformat"),a("layer")}t.exports=function(e,t,n){a(e,t,n,{type:"ternary",attributes:f,handleDefaults:p,font:t.font,paper_bgcolor:t.paper_bgcolor})}},{"../../components/color":75,"../../lib":203,"../../plot_api/plot_template":237,"../cartesian/line_grid_defaults":264,"../cartesian/tick_label_defaults":269,"../cartesian/tick_mark_defaults":270,"../cartesian/tick_value_defaults":271,"../subplot_defaults":289,"./layout_attributes":292}],294:[function(e,t,n){"use strict";var r=e("d3"),i=e("tinycolor2"),o=e("../../registry"),a=e("../../lib"),s=a._,l=e("../../components/color"),u=e("../../components/drawing"),c=e("../cartesian/set_convert"),f=e("../../lib/extend").extendFlat,d=e("../plots"),p=e("../cartesian/axes"),h=e("../../components/dragelement"),g=e("../../components/fx"),m=e("../../components/dragelement/helpers"),y=m.freeMode,v=m.rectMode,b=e("../../components/titles"),x=e("../cartesian/select").prepSelect,_=e("../cartesian/select").selectOnClick,w=e("../cartesian/select").clearSelect,k=e("../cartesian/select").clearSelectionsCache,T=e("../cartesian/constants");function C(e,t){this.id=e.id,this.graphDiv=e.graphDiv,this.init(t),this.makeFramework(t),this.aTickLayout=null,this.bTickLayout=null,this.cTickLayout=null}t.exports=C;var O=C.prototype;O.init=function(e){this.container=e._ternarylayer,this.defs=e._defs,this.layoutId=e._uid,this.traceHash={},this.layers={}},O.plot=function(e,t){var n=this,r=t[n.id],i=t._size;n._hasClipOnAxisFalse=!1;for(var o=0;o<e.length;o++)if(!1===e[o][0].trace.cliponaxis){n._hasClipOnAxisFalse=!0;break}n.updateLayers(r),n.adjustLayout(r,i),d.generalUpdatePerTraceModule(n.graphDiv,n,e,r),n.layers.plotbg.select("path").call(l.fill,r.bgcolor)},O.makeFramework=function(e){var t=this,n=t.graphDiv,r=e[t.id],i=t.clipId="clip"+t.layoutId+t.id,o=t.clipIdRelative="clip-relative"+t.layoutId+t.id;t.clipDef=a.ensureSingleById(e._clips,"clipPath",i,(function(e){e.append("path").attr("d","M0,0Z")})),t.clipDefRelative=a.ensureSingleById(e._clips,"clipPath",o,(function(e){e.append("path").attr("d","M0,0Z")})),t.plotContainer=a.ensureSingle(t.container,"g",t.id),t.updateLayers(r),u.setClipUrl(t.layers.backplot,i,n),u.setClipUrl(t.layers.grids,i,n)},O.updateLayers=function(e){var t=this.layers,n=["draglayer","plotbg","backplot","grids"];"below traces"===e.aaxis.layer&&n.push("aaxis","aline"),"below traces"===e.baxis.layer&&n.push("baxis","bline"),"below traces"===e.caxis.layer&&n.push("caxis","cline"),n.push("frontplot"),"above traces"===e.aaxis.layer&&n.push("aaxis","aline"),"above traces"===e.baxis.layer&&n.push("baxis","bline"),"above traces"===e.caxis.layer&&n.push("caxis","cline");var i=this.plotContainer.selectAll("g.toplevel").data(n,String),o=["agrid","bgrid","cgrid"];i.enter().append("g").attr("class",(function(e){return"toplevel "+e})).each((function(e){var n=r.select(this);t[e]=n,"frontplot"===e?n.append("g").classed("scatterlayer",!0):"backplot"===e?n.append("g").classed("maplayer",!0):"plotbg"===e?n.append("path").attr("d","M0,0Z"):"aline"===e||"bline"===e||"cline"===e?n.append("path"):"grids"===e&&o.forEach((function(e){t[e]=n.append("g").classed("grid "+e,!0)}))})),i.order()};var S=Math.sqrt(4/3);O.adjustLayout=function(e,t){var n,r,i,o,a,s,d=this,p=e.domain,h=(p.x[0]+p.x[1])/2,g=(p.y[0]+p.y[1])/2,m=p.x[1]-p.x[0],y=p.y[1]-p.y[0],v=m*t.w,b=y*t.h,x=e.sum,_=e.aaxis.min,w=e.baxis.min,k=e.caxis.min;v>S*b?i=(o=b)*S:o=(i=v)/S,a=m*i/v,s=y*o/b,n=t.l+t.w*h-i/2,r=t.t+t.h*(1-g)-o/2,d.x0=n,d.y0=r,d.w=i,d.h=o,d.sum=x,d.xaxis={type:"linear",range:[_+2*k-x,x-_-2*w],domain:[h-a/2,h+a/2],_id:"x"},c(d.xaxis,d.graphDiv._fullLayout),d.xaxis.setScale(),d.xaxis.isPtWithinRange=function(e){return e.a>=d.aaxis.range[0]&&e.a<=d.aaxis.range[1]&&e.b>=d.baxis.range[1]&&e.b<=d.baxis.range[0]&&e.c>=d.caxis.range[1]&&e.c<=d.caxis.range[0]},d.yaxis={type:"linear",range:[_,x-w-k],domain:[g-s/2,g+s/2],_id:"y"},c(d.yaxis,d.graphDiv._fullLayout),d.yaxis.setScale(),d.yaxis.isPtWithinRange=function(){return!0};var T=d.yaxis.domain[0],C=d.aaxis=f({},e.aaxis,{range:[_,x-w-k],side:"left",tickangle:(+e.aaxis.tickangle||0)-30,domain:[T,T+s*S],anchor:"free",position:0,_id:"y",_length:i});c(C,d.graphDiv._fullLayout),C.setScale();var O=d.baxis=f({},e.baxis,{range:[x-_-k,w],side:"bottom",domain:d.xaxis.domain,anchor:"free",position:0,_id:"x",_length:i});c(O,d.graphDiv._fullLayout),O.setScale();var A=d.caxis=f({},e.caxis,{range:[x-_-w,k],side:"right",tickangle:(+e.caxis.tickangle||0)+30,domain:[T,T+s*S],anchor:"free",position:0,_id:"y",_length:i});c(A,d.graphDiv._fullLayout),A.setScale();var M="M"+n+","+(r+o)+"h"+i+"l-"+i/2+",-"+o+"Z";d.clipDef.select("path").attr("d",M),d.layers.plotbg.select("path").attr("d",M);var E="M0,"+o+"h"+i+"l-"+i/2+",-"+o+"Z";d.clipDefRelative.select("path").attr("d",E);var P="translate("+n+","+r+")";d.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",P),d.clipDefRelative.select("path").attr("transform",null);var D="translate("+(n-O._offset)+","+(r+o)+")";d.layers.baxis.attr("transform",D),d.layers.bgrid.attr("transform",D);var L="translate("+(n+i/2)+","+r+")rotate(30)translate(0,"+-C._offset+")";d.layers.aaxis.attr("transform",L),d.layers.agrid.attr("transform",L);var R="translate("+(n+i/2)+","+r+")rotate(-30)translate(0,"+-A._offset+")";d.layers.caxis.attr("transform",R),d.layers.cgrid.attr("transform",R),d.drawAxes(!0),d.layers.aline.select("path").attr("d",C.showline?"M"+n+","+(r+o)+"l"+i/2+",-"+o:"M0,0").call(l.stroke,C.linecolor||"#000").style("stroke-width",(C.linewidth||0)+"px"),d.layers.bline.select("path").attr("d",O.showline?"M"+n+","+(r+o)+"h"+i:"M0,0").call(l.stroke,O.linecolor||"#000").style("stroke-width",(O.linewidth||0)+"px"),d.layers.cline.select("path").attr("d",A.showline?"M"+(n+i/2)+","+r+"l"+i/2+","+o:"M0,0").call(l.stroke,A.linecolor||"#000").style("stroke-width",(A.linewidth||0)+"px"),d.graphDiv._context.staticPlot||d.initInteractions(),u.setClipUrl(d.layers.frontplot,d._hasClipOnAxisFalse?null:d.clipId,d.graphDiv)},O.drawAxes=function(e){var t=this,n=t.graphDiv,r=t.id.substr(7)+"title",i=t.layers,o=t.aaxis,a=t.baxis,l=t.caxis;if(t.drawAx(o),t.drawAx(a),t.drawAx(l),e){var u=Math.max(o.showticklabels?o.tickfont.size/2:0,(l.showticklabels?.75*l.tickfont.size:0)+("outside"===l.ticks?.87*l.ticklen:0)),c=(a.showticklabels?a.tickfont.size:0)+("outside"===a.ticks?a.ticklen:0)+3;i["a-title"]=b.draw(n,"a"+r,{propContainer:o,propName:t.id+".aaxis.title",placeholder:s(n,"Click to enter Component A title"),attributes:{x:t.x0+t.w/2,y:t.y0-o.title.font.size/3-u,"text-anchor":"middle"}}),i["b-title"]=b.draw(n,"b"+r,{propContainer:a,propName:t.id+".baxis.title",placeholder:s(n,"Click to enter Component B title"),attributes:{x:t.x0-c,y:t.y0+t.h+.83*a.title.font.size+c,"text-anchor":"middle"}}),i["c-title"]=b.draw(n,"c"+r,{propContainer:l,propName:t.id+".caxis.title",placeholder:s(n,"Click to enter Component C title"),attributes:{x:t.x0+t.w+c,y:t.y0+t.h+.83*l.title.font.size+c,"text-anchor":"middle"}})}},O.drawAx=function(e){var t,n=this,r=n.graphDiv,i=e._name,o=i.charAt(0),s=e._id,l=n.layers[i],u=o+"tickLayout",c=(t=e).ticks+String(t.ticklen)+String(t.showticklabels);n[u]!==c&&(l.selectAll("."+s+"tick").remove(),n[u]=c),e.setScale();var f=p.calcTicks(e),d=p.clipEnds(e,f),h=p.makeTransFn(e),g=p.getTickSigns(e)[2],m=a.deg2rad(30),y=g*(e.linewidth||1)/2,v=g*e.ticklen,b=n.w,x=n.h,_="b"===o?"M0,"+y+"l"+Math.sin(m)*v+","+Math.cos(m)*v:"M"+y+",0l"+Math.cos(m)*v+","+-Math.sin(m)*v,w={a:"M0,0l"+x+",-"+b/2,b:"M0,0l-"+b/2+",-"+x,c:"M0,0l-"+x+","+b/2}[o];p.drawTicks(r,e,{vals:"inside"===e.ticks?d:f,layer:l,path:_,transFn:h,crisp:!1}),p.drawGrid(r,e,{vals:d,layer:n.layers[o+"grid"],path:w,transFn:h,crisp:!1}),p.drawLabels(r,e,{vals:f,layer:l,transFn:h,labelFns:p.makeLabelFns(e,0,30)})};var A=T.MINZOOM/2+.87,M="m-0.87,.5h"+A+"v3h-"+(A+5.2)+"l"+(A/2+2.6)+",-"+(.87*A+4.5)+"l2.6,1.5l-"+A/2+","+.87*A+"Z",E="m0.87,.5h-"+A+"v3h"+(A+5.2)+"l-"+(A/2+2.6)+",-"+(.87*A+4.5)+"l-2.6,1.5l"+A/2+","+.87*A+"Z",P="m0,1l"+A/2+","+.87*A+"l2.6,-1.5l-"+(A/2+2.6)+",-"+(.87*A+4.5)+"l-"+(A/2+2.6)+","+(.87*A+4.5)+"l2.6,1.5l"+A/2+",-"+.87*A+"Z",D=!0;function L(e){r.select(e).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}O.clearSelect=function(){k(this.dragOptions),w(this.dragOptions.gd)},O.initInteractions=function(){var e,t,n,r,c,f,d,p,m,b,w=this,k=w.layers.plotbg.select("path").node(),C=w.graphDiv,O=C._fullLayout._zoomlayer;function A(e){var t={};return t[w.id+".aaxis.min"]=e.a,t[w.id+".baxis.min"]=e.b,t[w.id+".caxis.min"]=e.c,t}function R(e,t){var n=C._fullLayout.clickmode;L(C),2===e&&(C.emit("plotly_doubleclick",null),o.call("_guiRelayout",C,A({a:0,b:0,c:0}))),n.indexOf("select")>-1&&1===e&&_(t,C,[w.xaxis],[w.yaxis],w.id,w.dragOptions),n.indexOf("event")>-1&&g.click(C,t,w.id)}function I(e,t){return 1-t/w.h}function N(e,t){return 1-(e+(w.h-t)/Math.sqrt(3))/w.w}function j(e,t){return(e-(w.h-t)/Math.sqrt(3))/w.w}function z(i,o){var a=e+i,s=t+o,l=Math.max(0,Math.min(1,I(0,t),I(0,s))),u=Math.max(0,Math.min(1,N(e,t),N(a,s))),h=Math.max(0,Math.min(1,j(e,t),j(a,s))),g=(l/2+h)*w.w,y=(1-l/2-u)*w.w,v=(g+y)/2,x=y-g,_=(1-l)*w.h,k=_-x/S;x<T.MINZOOM?(c=n,m.attr("d",d),b.attr("d","M0,0Z")):(c={a:n.a+l*r,b:n.b+u*r,c:n.c+h*r},m.attr("d",d+"M"+g+","+_+"H"+y+"L"+v+","+k+"L"+g+","+_+"Z"),b.attr("d","M"+e+","+t+"m0.5,0.5h5v-2h-5v-5h-2v5h-5v2h5v5h2ZM"+g+","+_+M+"M"+y+","+_+E+"M"+v+","+k+P)),p||(m.transition().style("fill",f>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),b.transition().style("opacity",1).duration(200),p=!0),C.emit("plotly_relayouting",A(c))}function q(){L(C),c!==n&&(o.call("_guiRelayout",C,A(c)),D&&C.data&&C._context.showTips&&(a.notifier(s(C,"Double-click to zoom back out"),"long"),D=!1))}function F(e,t){var r=e/w.xaxis._m,i=t/w.yaxis._m,o=[(c={a:n.a-i,b:n.b+(r+i)/2,c:n.c-(r-i)/2}).a,c.b,c.c].sort(a.sorterAsc),s=o.indexOf(c.a),l=o.indexOf(c.b),f=o.indexOf(c.c);o[0]<0&&(o[1]+o[0]/2<0?(o[2]+=o[0]+o[1],o[0]=o[1]=0):(o[2]+=o[0]/2,o[1]+=o[0]/2,o[0]=0),c={a:o[s],b:o[l],c:o[f]},t=(n.a-c.a)*w.yaxis._m,e=(n.c-c.c-n.b+c.b)*w.xaxis._m);var d="translate("+(w.x0+e)+","+(w.y0+t)+")";w.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",d);var p="translate("+-e+","+-t+")";w.clipDefRelative.select("path").attr("transform",p),w.aaxis.range=[c.a,w.sum-c.b-c.c],w.baxis.range=[w.sum-c.a-c.c,c.b],w.caxis.range=[w.sum-c.a-c.b,c.c],w.drawAxes(!1),w._hasClipOnAxisFalse&&w.plotContainer.select(".scatterlayer").selectAll(".trace").call(u.hideOutsideRangePoints,w),C.emit("plotly_relayouting",A(c))}function B(){o.call("_guiRelayout",C,A(c))}this.dragOptions={element:k,gd:C,plotinfo:{id:w.id,domain:C._fullLayout[w.id].domain,xaxis:w.xaxis,yaxis:w.yaxis},subplot:w.id,prepFn:function(o,a,s){w.dragOptions.xaxes=[w.xaxis],w.dragOptions.yaxes=[w.yaxis];var u=w.dragOptions.dragmode=C._fullLayout.dragmode;y(u)?w.dragOptions.minDrag=1:w.dragOptions.minDrag=void 0,"zoom"===u?(w.dragOptions.moveFn=z,w.dragOptions.clickFn=R,w.dragOptions.doneFn=q,function(o,a,s){var u=k.getBoundingClientRect();e=a-u.left,t=s-u.top,n={a:w.aaxis.range[0],b:w.baxis.range[1],c:w.caxis.range[1]},c=n,r=w.aaxis.range[1]-n.a,f=i(w.graphDiv._fullLayout[w.id].bgcolor).getLuminance(),d="M0,"+w.h+"L"+w.w/2+", 0L"+w.w+","+w.h+"Z",p=!1,m=O.append("path").attr("class","zoombox").attr("transform","translate("+w.x0+", "+w.y0+")").style({fill:f>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("d",d),b=O.append("path").attr("class","zoombox-corners").attr("transform","translate("+w.x0+", "+w.y0+")").style({fill:l.background,stroke:l.defaultLine,"stroke-width":1,opacity:0}).attr("d","M0,0Z"),w.clearSelect(C)}(0,a,s)):"pan"===u?(w.dragOptions.moveFn=F,w.dragOptions.clickFn=R,w.dragOptions.doneFn=B,n={a:w.aaxis.range[0],b:w.baxis.range[1],c:w.caxis.range[1]},c=n,w.clearSelect(C)):(v(u)||y(u))&&x(o,a,s,w.dragOptions,u)}},k.onmousemove=function(e){g.hover(C,e,w.id),C._fullLayout._lasthover=k,C._fullLayout._hoversubplot=w.id},k.onmouseout=function(e){C._dragging||h.unhover(C,e)},h.init(this.dragOptions)}},{"../../components/color":75,"../../components/dragelement":94,"../../components/dragelement/helpers":93,"../../components/drawing":97,"../../components/fx":115,"../../components/titles":170,"../../lib":203,"../../lib/extend":197,"../../registry":295,"../cartesian/axes":248,"../cartesian/constants":254,"../cartesian/select":267,"../cartesian/set_convert":268,"../plots":282,d3:21,tinycolor2:58}],295:[function(e,t,n){"use strict";var r=e("./lib/loggers"),i=e("./lib/noop"),o=e("./lib/push_unique"),a=e("./lib/is_plain_object"),s=e("./lib/dom").addStyleRule,l=e("./lib/extend"),u=e("./plots/attributes"),c=e("./plots/layout_attributes"),f=l.extendFlat,d=l.extendDeepAll;function p(e){var t=e.name,i=e.categories,o=e.meta;if(n.modules[t])r.log("Type "+t+" already registered");else{n.subplotsRegistry[e.basePlotModule.name]||function(e){var t=e.name;if(n.subplotsRegistry[t])r.log("Plot type "+t+" already registered.");else for(var i in y(e),n.subplotsRegistry[t]=e,n.componentsRegistry)x(i,e.name)}(e.basePlotModule);for(var a={},l=0;l<i.length;l++)a[i[l]]=!0,n.allCategories[i[l]]=!0;for(var u in n.modules[t]={_module:e,categories:a},o&&Object.keys(o).length&&(n.modules[t].meta=o),n.allTypes.push(t),n.componentsRegistry)v(u,t);e.layoutAttributes&&f(n.traceLayoutAttributes,e.layoutAttributes);var c=e.basePlotModule,d=c.name;if("mapbox"===d){var p=c.constants.styleRules;for(var h in p)s(".js-plotly-plot .plotly .mapboxgl-"+h,p[h])}"geo"!==d&&"mapbox"!==d||void 0===typeof window||void 0!==window.PlotlyGeoAssets||(window.PlotlyGeoAssets={topojson:{}})}}function h(e){if("string"!=typeof e.name)throw new Error("Component module *name* must be a string.");var t=e.name;for(var r in n.componentsRegistry[t]=e,e.layoutAttributes&&(e.layoutAttributes._isLinkedToArray&&o(n.layoutArrayContainers,t),y(e)),n.modules)v(t,r);for(var i in n.subplotsRegistry)x(t,i);for(var a in n.transformsRegistry)b(t,a);e.schema&&e.schema.layout&&d(c,e.schema.layout)}function g(e){if("string"!=typeof e.name)throw new Error("Transform module *name* must be a string.");var t="Transform module "+e.name,i="function"==typeof e.transform,o="function"==typeof e.calcTransform;if(!i&&!o)throw new Error(t+" is missing a *transform* or *calcTransform* method.");for(var s in i&&o&&r.log([t+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),a(e.attributes)||r.log(t+" registered without an *attributes* object."),"function"!=typeof e.supplyDefaults&&r.log(t+" registered without a *supplyDefaults* method."),n.transformsRegistry[e.name]=e,n.componentsRegistry)b(s,e.name)}function m(e){var t=e.name,r=t.split("-")[0],i=e.dictionary,o=e.format,a=i&&Object.keys(i).length,s=o&&Object.keys(o).length,l=n.localeRegistry,u=l[t];if(u||(l[t]=u={}),r!==t){var c=l[r];c||(l[r]=c={}),a&&c.dictionary===u.dictionary&&(c.dictionary=i),s&&c.format===u.format&&(c.format=o)}a&&(u.dictionary=i),s&&(u.format=o)}function y(e){if(e.layoutAttributes){var t=e.layoutAttributes._arrayAttrRegexps;if(t)for(var r=0;r<t.length;r++)o(n.layoutArrayRegexes,t[r])}}function v(e,t){var r=n.componentsRegistry[e].schema;if(r&&r.traces){var i=r.traces[t];i&&d(n.modules[t]._module.attributes,i)}}function b(e,t){var r=n.componentsRegistry[e].schema;if(r&&r.transforms){var i=r.transforms[t];i&&d(n.transformsRegistry[t].attributes,i)}}function x(e,t){var r=n.componentsRegistry[e].schema;if(r&&r.subplots){var i=n.subplotsRegistry[t],o=i.layoutAttributes,a="subplot"===i.attr?i.name:i.attr;Array.isArray(a)&&(a=a[0]);var s=r.subplots[a];o&&s&&d(o,s)}}function _(e){return"object"==typeof e&&(e=e.type),e}n.modules={},n.allCategories={},n.allTypes=[],n.subplotsRegistry={},n.transformsRegistry={},n.componentsRegistry={},n.layoutArrayContainers=[],n.layoutArrayRegexes=[],n.traceLayoutAttributes={},n.localeRegistry={},n.apiMethodRegistry={},n.collectableSubplotTypes=null,n.register=function(e){if(n.collectableSubplotTypes=null,!e)throw new Error("No argument passed to Plotly.register.");e&&!Array.isArray(e)&&(e=[e]);for(var t=0;t<e.length;t++){var r=e[t];if(!r)throw new Error("Invalid module was attempted to be registered!");switch(r.moduleType){case"trace":p(r);break;case"transform":g(r);break;case"component":h(r);break;case"locale":m(r);break;case"apiMethod":var i=r.name;n.apiMethodRegistry[i]=r.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},n.getModule=function(e){var t=n.modules[_(e)];return!!t&&t._module},n.traceIs=function(e,t){if("various"===(e=_(e)))return!1;var i=n.modules[e];return i||(e&&"area"!==e&&r.log("Unrecognized trace type "+e+"."),i=n.modules[u.type.dflt]),!!i.categories[t]},n.getTransformIndices=function(e,t){for(var n=[],r=e.transforms||[],i=0;i<r.length;i++)r[i].type===t&&n.push(i);return n},n.hasTransform=function(e,t){for(var n=e.transforms||[],r=0;r<n.length;r++)if(n[r].type===t)return!0;return!1},n.getComponentMethod=function(e,t){var r=n.componentsRegistry[e];return r&&r[t]||i},n.call=function(){var e=arguments[0],t=[].slice.call(arguments,1);return n.apiMethodRegistry[e].apply(null,t)}},{"./lib/dom":195,"./lib/extend":197,"./lib/is_plain_object":204,"./lib/loggers":207,"./lib/noop":212,"./lib/push_unique":216,"./plots/attributes":244,"./plots/layout_attributes":280}],296:[function(e,t,n){"use strict";var r=e("../registry"),i=e("../lib"),o=i.extendFlat,a=i.extendDeep;function s(e){var t;switch(e){case"themes__thumb":t={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":t={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:t={}}return t}t.exports=function(e,t){var n;e.framework&&e.framework.isPolar&&(e=e.framework.getConfig());var i,l=e.data,u=e.layout,c=a([],l),f=a({},u,s(t.tileClass)),d=e._context||{};if(t.width&&(f.width=t.width),t.height&&(f.height=t.height),"thumbnail"===t.tileClass||"themes__thumb"===t.tileClass){f.annotations=[];var p=Object.keys(f);for(n=0;n<p.length;n++)i=p[n],["xaxis","yaxis","zaxis"].indexOf(i.slice(0,5))>-1&&(f[p[n]].title={text:""});for(n=0;n<c.length;n++){var h=c[n];h.showscale=!1,h.marker&&(h.marker.showscale=!1),r.traceIs(h,"pie-like")&&(h.textposition="none")}}if(Array.isArray(t.annotations))for(n=0;n<t.annotations.length;n++)f.annotations.push(t.annotations[n]);var g=Object.keys(f).filter((function(e){return e.match(/^scene\d*$/)}));if(g.length){var m={};for("thumbnail"===t.tileClass&&(m={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),n=0;n<g.length;n++){var y=f[g[n]];y.xaxis||(y.xaxis={}),y.yaxis||(y.yaxis={}),y.zaxis||(y.zaxis={}),o(y.xaxis,m),o(y.yaxis,m),o(y.zaxis,m),y._scene=null}}var v=document.createElement("div");t.tileClass&&(v.className=t.tileClass);var b={gd:v,td:v,layout:f,data:c,config:{staticPlot:void 0===t.staticPlot||t.staticPlot,plotGlPixelRatio:void 0===t.plotGlPixelRatio?2:t.plotGlPixelRatio,displaylogo:t.displaylogo||!1,showLink:t.showLink||!1,showTips:t.showTips||!1,mapboxAccessToken:d.mapboxAccessToken}};return"transparent"!==t.setBackground&&(b.config.setBackground=t.setBackground||"opaque"),b.gd.defaultLayout=s(t.tileClass),b}},{"../lib":203,"../registry":295}],297:[function(e,t,n){"use strict";var r=e("../lib"),i=e("../plot_api/to_image"),o=e("./filesaver"),a=e("./helpers");t.exports=function(e,t){var n;return r.isPlainObject(e)||(n=r.getGraphDiv(e)),(t=t||{}).format=t.format||"png",t.width=t.width||null,t.height=t.height||null,t.imageDataOnly=!0,new Promise((function(s,l){n&&n._snapshotInProgress&&l(new Error("Snapshotting already in progress.")),r.isIE()&&"svg"!==t.format&&l(new Error(a.MSG_IE_BAD_FORMAT)),n&&(n._snapshotInProgress=!0);var u=i(e,t),c=t.filename||e.fn||"newplot";c+="."+t.format.replace("-","."),u.then((function(e){return n&&(n._snapshotInProgress=!1),o(e,c,t.format)})).then((function(e){s(e)})).catch((function(e){n&&(n._snapshotInProgress=!1),l(e)}))}))}},{"../lib":203,"../plot_api/to_image":240,"./filesaver":298,"./helpers":299}],298:[function(e,t,n){"use strict";var r=e("../lib"),i=e("./helpers");t.exports=function(e,t,n){var o=document.createElement("a"),a="download"in o;return new Promise((function(s,l){var u,c;if(r.isIE9orBelow()&&l(new Error("IE < 10 unsupported")),r.isSafari()){var f="svg"===n?",":";base64,";return i.octetStream(f+encodeURIComponent(e)),s(t)}return r.isIE()?(u=i.createBlob(e,"svg"),window.navigator.msSaveBlob(u,t),u=null,s(t)):a?(u=i.createBlob(e,n),c=i.createObjectURL(u),o.href=c,o.download=t,document.body.appendChild(o),o.click(),document.body.removeChild(o),i.revokeObjectURL(c),u=null,s(t)):void l(new Error("download error"))}))}},{"../lib":203,"./helpers":299}],299:[function(e,t,n){"use strict";var r=e("../registry");n.getDelay=function(e){return e._has&&(e._has("gl3d")||e._has("gl2d")||e._has("mapbox"))?500:0},n.getRedrawFunc=function(e){return function(){var t=e._fullLayout||{};(!t._has||!t._has("polar"))&&e.data&&e.data[0]&&e.data[0].r||r.getComponentMethod("colorbar","draw")(e)}},n.encodeSVG=function(e){return"data:image/svg+xml,"+encodeURIComponent(e)},n.encodeJSON=function(e){return"data:application/json,"+encodeURIComponent(e)};var i=window.URL||window.webkitURL;n.createObjectURL=function(e){return i.createObjectURL(e)},n.revokeObjectURL=function(e){return i.revokeObjectURL(e)},n.createBlob=function(e,t){if("svg"===t)return new window.Blob([e],{type:"image/svg+xml;charset=utf-8"});if("full-json"===t)return new window.Blob([e],{type:"application/json;charset=utf-8"});var n=function(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),i=0;i<t;i++)r[i]=e.charCodeAt(i);return n}(window.atob(e));return new window.Blob([n],{type:"image/"+t})},n.octetStream=function(e){document.location.href="data:application/octet-stream"+e},n.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,n.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},{"../registry":295}],300:[function(e,t,n){"use strict";var r=e("./helpers"),i={getDelay:r.getDelay,getRedrawFunc:r.getRedrawFunc,clone:e("./cloneplot"),toSVG:e("./tosvg"),svgToImg:e("./svgtoimg"),toImage:e("./toimage"),downloadImage:e("./download")};t.exports=i},{"./cloneplot":296,"./download":297,"./helpers":299,"./svgtoimg":301,"./toimage":302,"./tosvg":303}],301:[function(e,t,n){"use strict";var r=e("../lib"),i=e("events").EventEmitter,o=e("./helpers");t.exports=function(e){var t=e.emitter||new i,n=new Promise((function(i,a){var s=window.Image,l=e.svg,u=e.format||"png";if(r.isIE()&&"svg"!==u){var c=new Error(o.MSG_IE_BAD_FORMAT);return a(c),e.promise?n:t.emit("error",c)}var f,d,p=e.canvas,h=e.scale||1,g=e.width||300,m=e.height||150,y=h*g,v=h*m,b=p.getContext("2d"),x=new s;"svg"===u||r.isIE9orBelow()||r.isSafari()?d=o.encodeSVG(l):(f=o.createBlob(l,"svg"),d=o.createObjectURL(f)),p.width=y,p.height=v,x.onload=function(){var n;switch(f=null,o.revokeObjectURL(d),"svg"!==u&&b.drawImage(x,0,0,y,v),u){case"jpeg":n=p.toDataURL("image/jpeg");break;case"png":n=p.toDataURL("image/png");break;case"webp":n=p.toDataURL("image/webp");break;case"svg":n=d;break;default:var r="Image format is not jpeg, png, svg or webp.";if(a(new Error(r)),!e.promise)return t.emit("error",r)}i(n),e.promise||t.emit("success",n)},x.onerror=function(n){if(f=null,o.revokeObjectURL(d),a(n),!e.promise)return t.emit("error",n)},x.src=d}));return e.promise?n:t}},{"../lib":203,"./helpers":299,events:17}],302:[function(e,t,n){"use strict";var r=e("events").EventEmitter,i=e("../registry"),o=e("../lib"),a=e("./helpers"),s=e("./cloneplot"),l=e("./tosvg"),u=e("./svgtoimg");t.exports=function(e,t){var n=new r,c=s(e,{format:"png"}),f=c.gd;f.style.position="absolute",f.style.left="-5000px",document.body.appendChild(f);var d=a.getRedrawFunc(f);return i.call("plot",f,c.data,c.layout,c.config).then(d).then((function(){var e=a.getDelay(f._fullLayout);setTimeout((function(){var e=l(f),r=document.createElement("canvas");r.id=o.randstr(),(n=u({format:t.format,width:f._fullLayout.width,height:f._fullLayout.height,canvas:r,emitter:n,svg:e})).clean=function(){f&&document.body.removeChild(f)}}),e)})).catch((function(e){n.emit("error",e)})),n}},{"../lib":203,"../registry":295,"./cloneplot":296,"./helpers":299,"./svgtoimg":301,"./tosvg":303,events:17}],303:[function(e,t,n){"use strict";var r=e("d3"),i=e("../lib"),o=e("../components/drawing"),a=e("../components/color"),s=e("../constants/xmlns_namespaces"),l=/"/g,u="TOBESTRIPPED",c=new RegExp('("TOBESTRIPPED)|(TOBESTRIPPED")',"g");t.exports=function(e,t,n){var f,d=e._fullLayout,p=d._paper,h=d._toppaper,g=d.width,m=d.height;p.insert("rect",":first-child").call(o.setRect,0,0,g,m).call(a.fill,d.paper_bgcolor);var y=d._basePlotModules||[];for(f=0;f<y.length;f++){var v=y[f];v.toSVG&&v.toSVG(e)}if(h){var b=h.node().childNodes,x=Array.prototype.slice.call(b);for(f=0;f<x.length;f++){var _=x[f];_.childNodes.length&&p.node().appendChild(_)}}if(d._draggers&&d._draggers.remove(),p.node().style.background="",p.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each((function(){var e=r.select(this);if("hidden"!==this.style.visibility&&"none"!==this.style.display){e.style({visibility:null,display:null});var t=this.style.fontFamily;t&&-1!==t.indexOf('"')&&e.style("font-family",t.replace(l,u))}else e.remove()})),d._gradientUrlQueryParts){var w=[];for(var k in d._gradientUrlQueryParts)w.push(k);w.length&&p.selectAll(w.join(",")).each((function(){var e=r.select(this),t=this.style.fill;t&&-1!==t.indexOf("url(")&&e.style("fill",t.replace(l,u));var n=this.style.stroke;n&&-1!==n.indexOf("url(")&&e.style("stroke",n.replace(l,u))}))}"pdf"!==t&&"eps"!==t||p.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),p.node().setAttributeNS(s.xmlns,"xmlns",s.svg),p.node().setAttributeNS(s.xmlns,"xmlns:xlink",s.xlink),"svg"===t&&n&&(p.attr("width",n*g),p.attr("height",n*m),p.attr("viewBox","0 0 "+g+" "+m));var T,C=(new window.XMLSerializer).serializeToString(p.node());return C=(T=C=function(e){var t=r.select("body").append("div").style({display:"none"}).html(""),n=e.replace(/(&[^;]*;)/gi,(function(e){return"&lt;"===e?"&#60;":"&rt;"===e?"&#62;":-1!==e.indexOf("<")||-1!==e.indexOf(">")?"":t.html(e).text()}));return t.remove(),n}(C),C=T.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")).replace(c,"'"),i.isIE()&&(C=(C=(C=C.replace(/"/gi,"'")).replace(/(\('#)([^']*)('\))/gi,'("#$2")')).replace(/(\\')/gi,'"')),C}},{"../components/color":75,"../components/drawing":97,"../constants/xmlns_namespaces":183,"../lib":203,d3:21}],304:[function(e,t,n){"use strict";var r=e("../../lib");t.exports=function(e,t){for(var n=0;n<e.length;n++)e[n].i=n;r.mergeArray(t.text,e,"tx"),r.mergeArray(t.hovertext,e,"htx");var i=t.marker;if(i){r.mergeArray(i.opacity,e,"mo",!0),r.mergeArray(i.color,e,"mc");var o=i.line;o&&(r.mergeArray(o.color,e,"mlc"),r.mergeArrayCastPositive(o.width,e,"mlw"))}}},{"../../lib":203}],305:[function(e,t,n){"use strict";var r=e("../scatter/attributes"),i=e("../../plots/template_attributes").hovertemplateAttrs,o=e("../../plots/template_attributes").texttemplateAttrs,a=e("../../components/colorscale/attributes"),s=e("../../plots/font_attributes"),l=e("./constants"),u=e("../../lib/extend").extendFlat,c=s({editType:"calc",arrayOk:!0,colorEditType:"style"}),f=u({},r.marker.line.width,{dflt:0}),d=u({width:f,editType:"calc"},a("marker.line")),p=u({line:d,editType:"calc"},a("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"}});t.exports={x:r.x,x0:r.x0,dx:r.dx,y:r.y,y0:r.y0,dy:r.dy,xperiod:r.xperiod,yperiod:r.yperiod,xperiod0:r.xperiod0,yperiod0:r.yperiod0,xperiodalignment:r.xperiodalignment,yperiodalignment:r.yperiodalignment,text:r.text,texttemplate:o({editType:"plot"},{keys:l.eventDataKeys}),hovertext:r.hovertext,hovertemplate:i({},{keys:l.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"none",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:u({},c,{}),insidetextfont:u({},c,{}),outsidetextfont:u({},c,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:u({},r.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:p,offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},selected:{marker:{opacity:r.selected.marker.opacity,color:r.selected.marker.color,editType:"style"},textfont:r.selected.textfont,editType:"style"},unselected:{marker:{opacity:r.unselected.marker.opacity,color:r.unselected.marker.color,editType:"style"},textfont:r.unselected.textfont,editType:"style"},r:r.r,t:r.t,_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},{"../../components/colorscale/attributes":82,"../../lib/extend":197,"../../plots/font_attributes":276,"../../plots/template_attributes":290,"../scatter/attributes":416,"./constants":307}],306:[function(e,t,n){"use strict";var r=e("../../plots/cartesian/axes"),i=e("../../plots/cartesian/align_period"),o=e("../../components/colorscale/helpers").hasColorscale,a=e("../../components/colorscale/calc"),s=e("./arrays_to_calcdata"),l=e("../scatter/calc_selection");t.exports=function(e,t){var n,u,c,f,d=r.getFromId(e,t.xaxis||"x"),p=r.getFromId(e,t.yaxis||"y"),h={msUTC:!(!t.base&&0!==t.base)};"h"===t.orientation?(n=d.makeCalcdata(t,"x",h),c=p.makeCalcdata(t,"y"),u=i(t,p,"y",c),f=!!t.yperiodalignment):(n=p.makeCalcdata(t,"y",h),c=d.makeCalcdata(t,"x"),u=i(t,d,"x",c),f=!!t.xperiodalignment);for(var g=Math.min(u.length,n.length),m=new Array(g),y=0;y<g;y++)m[y]={p:u[y],s:n[y]},f&&(m[y].orig_p=c[y]),t.ids&&(m[y].id=String(t.ids[y]));return o(t,"marker")&&a(e,t,{vals:t.marker.color,containerStr:"marker",cLetter:"c"}),o(t,"marker.line")&&a(e,t,{vals:t.marker.line.color,containerStr:"marker.line",cLetter:"c"}),s(m,t),l(m,t),m}},{"../../components/colorscale/calc":83,"../../components/colorscale/helpers":86,"../../plots/cartesian/align_period":245,"../../plots/cartesian/axes":248,"../scatter/calc_selection":418,"./arrays_to_calcdata":304}],307:[function(e,t,n){"use strict";t.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},{}],308:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../../lib").isArrayOrTypedArray,o=e("../../constants/numerical").BADNUM,a=e("../../registry"),s=e("../../plots/cartesian/axes"),l=e("../../plots/cartesian/axis_ids").getAxisGroup,u=e("./sieve.js");function c(e,t,n,a,c){if(a.length){var x,_,w,k;switch(function(e,t){var n,o;for(n=0;n<t.length;n++){var a,s=t[n],l=s[0].trace,u="funnel"===l.type?l._base:l.base,c="h"===l.orientation?l.xcalendar:l.ycalendar,f="category"===e.type||"multicategory"===e.type?function(){return null}:e.d2c;if(i(u)){for(o=0;o<Math.min(u.length,s.length);o++)a=f(u[o],0,c),r(a)?(s[o].b=+a,s[o].hasB=1):s[o].b=0;for(;o<s.length;o++)s[o].b=0}else{a=f(u,0,c);var d=r(a);for(a=d?a:0,o=0;o<s.length;o++)s[o].b=a,d&&(s[o].hasB=1)}}}(n,a),c.mode){case"overlay":f(t,n,a,c);break;case"group":for(x=[],_=[],w=0;w<a.length;w++)void 0===(k=a[w])[0].trace.offset?_.push(k):x.push(k);_.length&&function(e,t,n,r,i){var a=new u(r,{sepNegVal:!1,overlapNoMerge:!i.norm});(function(e,t,n,r){for(var i=e._fullLayout,o=n.positions,a=n.distinctPositions,s=n.minDiff,u=n.traces,c=u.length,f=o.length!==a.length,d=s*(1-r.gap),m=l(i,t._id)+u[0][0].trace.orientation,y=i._alignmentOpts[m]||{},v=0;v<c;v++){var b,x,_=u[v],w=_[0].trace,k=y[w.alignmentgroup]||{},T=Object.keys(k.offsetGroups||{}).length,C=(b=T?d/T:f?d/c:d)*(1-(r.groupgap||0));x=T?((2*w._offsetIndex+1-T)*b-C)/2:f?((2*v+1-c)*b-C)/2:-C/2;var O=_[0].t;O.barwidth=C,O.poffset=x,O.bargroupwidth=d,O.bardelta=s}n.binWidth=u[0][0].t.barwidth/100,p(n),h(t,n),g(t,n,f)})(e,t,a,i),function(e){for(var t=e.traces,n=0;n<t.length;n++){var r=t[n];if(void 0===r[0].trace.base)for(var i=new u([r],{sepNegVal:!0,overlapNoMerge:!0}),a=0;a<r.length;a++){var s=r[a];if(s.p!==o){var l=i.put(s.p,s.b+s.s);l&&(s.b=l)}}}}(a),i.norm?(y(a),v(n,a,i)):m(n,a)}(e,t,n,_,c),x.length&&f(t,n,x,c);break;case"stack":case"relative":for(x=[],_=[],w=0;w<a.length;w++)void 0===(k=a[w])[0].trace.base?_.push(k):x.push(k);_.length&&function(e,t,n,r,i){var a=new u(r,{sepNegVal:"relative"===i.mode,overlapNoMerge:!(i.norm||"stack"===i.mode||"relative"===i.mode)});d(t,a,i),function(e,t,n){var r,i,a,l,u,c,f=b(e),d=t.traces;for(l=0;l<d.length;l++)if("funnel"===(i=(r=d[l])[0].trace).type)for(u=0;u<r.length;u++)(c=r[u]).s!==o&&t.put(c.p,-.5*c.s);for(l=0;l<d.length;l++){a="funnel"===(i=(r=d[l])[0].trace).type;var p=[];for(u=0;u<r.length;u++)if((c=r[u]).s!==o){var h;h=a?c.s:c.s+c.b;var g=t.put(c.p,h),m=g+h;c.b=g,c[f]=m,n.norm||(p.push(m),c.hasB&&p.push(g))}n.norm||(i._extremes[e._id]=s.findExtremes(e,p,{tozero:!0,padded:!0}))}}(n,a,i);for(var l=0;l<r.length;l++)for(var c=r[l],f=0;f<c.length;f++){var p=c[f];p.s!==o&&p.b+p.s===a.get(p.p,p.s)&&(p._outmost=!0)}i.norm&&v(n,a,i)}(0,t,n,_,c),x.length&&f(t,n,x,c)}!function(e,t){var n,i,o,a=b(t),s={},l=1/0,u=-1/0;for(n=0;n<e.length;n++)for(o=e[n],i=0;i<o.length;i++){var c=o[i].p;r(c)&&(l=Math.min(l,c),u=Math.max(u,c))}var f=1e4/(u-l),d=s.round=function(e){return String(Math.round(f*(e-l)))};for(n=0;n<e.length;n++){(o=e[n])[0].t.extents=s;var p=o[0].t.poffset,h=Array.isArray(p);for(i=0;i<o.length;i++){var g=o[i],m=g[a]-g.w/2;if(r(m)){var y=g[a]+g.w/2,v=d(g.p);s[v]?s[v]=[Math.min(m,s[v][0]),Math.max(y,s[v][1])]:s[v]=[m,y]}g.p0=g.p+(h?p[i]:p),g.p1=g.p0+g.w,g.s0=g.b,g.s1=g.s0+g.s}}}(a,t)}}function f(e,t,n,r){for(var i=0;i<n.length;i++){var o=n[i],a=new u([o],{unitMinDiff:r.xCat||r.yCat,sepNegVal:!1,overlapNoMerge:!r.norm});d(e,a,r),r.norm?(y(a),v(t,a,r)):m(t,a)}}function d(e,t,n){for(var r=t.minDiff,i=t.traces,o=r*(1-n.gap),a=o*(1-(n.groupgap||0)),s=-a/2,l=0;l<i.length;l++){var u=i[l][0].t;u.barwidth=a,u.poffset=s,u.bargroupwidth=o,u.bardelta=r}t.binWidth=i[0][0].t.barwidth/100,p(t),h(e,t),g(e,t)}function p(e){var t,n,o=e.traces;for(t=0;t<o.length;t++){var a,s=o[t],l=s[0],u=l.trace,c=l.t,f=u._offset||u.offset,d=c.poffset;if(i(f)){for(a=Array.prototype.slice.call(f,0,s.length),n=0;n<a.length;n++)r(a[n])||(a[n]=d);for(n=a.length;n<s.length;n++)a.push(d);c.poffset=a}else void 0!==f&&(c.poffset=f);var p=u._width||u.width,h=c.barwidth;if(i(p)){var g=Array.prototype.slice.call(p,0,s.length);for(n=0;n<g.length;n++)r(g[n])||(g[n]=h);for(n=g.length;n<s.length;n++)g.push(h);if(c.barwidth=g,void 0===f){for(a=[],n=0;n<s.length;n++)a.push(d+(h-g[n])/2);c.poffset=a}}else void 0!==p&&(c.barwidth=p,void 0===f&&(c.poffset=d+(h-p)/2))}}function h(e,t){for(var n=t.traces,r=b(e),i=0;i<n.length;i++)for(var o=n[i],a=o[0].t,s=a.poffset,l=Array.isArray(s),u=a.barwidth,c=Array.isArray(u),f=0;f<o.length;f++){var d=o[f],p=d.w=c?u[f]:u;d[r]=d.p+(l?s[f]:s)+p/2}}function g(e,t,n){var r=t.traces,i=t.minDiff/2;s.minDtick(e,t.minDiff,t.distinctPositions[0],n);for(var o=0;o<r.length;o++){var a,l,u,c,f=r[o],d=f[0],p=d.trace,h=[];for(c=0;c<f.length;c++)l=(a=f[c]).p-i,u=a.p+i,h.push(l,u);if(p.width||p.offset){var g=d.t,m=g.poffset,y=g.barwidth,v=Array.isArray(m),b=Array.isArray(y);for(c=0;c<f.length;c++){a=f[c];var x=v?m[c]:m,_=b?y[c]:y;u=(l=a.p+x)+_,h.push(l,u)}}p._extremes[e._id]=s.findExtremes(e,h,{padded:!1})}}function m(e,t){for(var n=t.traces,r=b(e),i=0;i<n.length;i++){for(var o=n[i],a=o[0].trace,l=[],u=!1,c=0;c<o.length;c++){var f=o[c],d=f.b,p=d+f.s;f[r]=p,l.push(p),f.hasB&&l.push(d),f.hasB&&f.b||(u=!0)}a._extremes[e._id]=s.findExtremes(e,l,{tozero:u,padded:!0})}}function y(e){for(var t=e.traces,n=0;n<t.length;n++)for(var r=t[n],i=0;i<r.length;i++){var a=r[i];a.s!==o&&e.put(a.p,a.b+a.s)}}function v(e,t,n){var i=t.traces,a=b(e),l="fraction"===n.norm?1:100,u=l/1e9,c=e.l2c(e.c2l(0)),f="stack"===n.mode?l:c;function d(t){return r(e.c2l(t))&&(t<c-u||t>f+u||!r(c))}for(var p=0;p<i.length;p++){for(var h=i[p],g=h[0].trace,m=[],y=!1,v=!1,x=0;x<h.length;x++){var _=h[x];if(_.s!==o){var w=Math.abs(l/t.get(_.p,_.s));_.b*=w,_.s*=w;var k=_.b,T=k+_.s;_[a]=T,m.push(T),v=v||d(T),_.hasB&&(m.push(k),v=v||d(k)),_.hasB&&_.b||(y=!0)}}g._extremes[e._id]=s.findExtremes(e,m,{tozero:y,padded:v})}}function b(e){return e._id.charAt(0)}t.exports={crossTraceCalc:function(e,t){for(var n=t.xaxis,r=t.yaxis,i=e._fullLayout,o=e._fullData,s=e.calcdata,l=[],u=[],f=0;f<o.length;f++){var d=o[f];if(!0===d.visible&&a.traceIs(d,"bar")&&d.xaxis===n._id&&d.yaxis===r._id&&("h"===d.orientation?l.push(s[f]):u.push(s[f]),d._computePh))for(var p=e.calcdata[f],h=0;h<p.length;h++)"function"==typeof p[h].ph0&&(p[h].ph0=p[h].ph0()),"function"==typeof p[h].ph1&&(p[h].ph1=p[h].ph1())}var g={xCat:"category"===n.type||"multicategory"===n.type,yCat:"category"===r.type||"multicategory"===r.type,mode:i.barmode,norm:i.barnorm,gap:i.bargap,groupgap:i.bargroupgap};c(e,n,r,u,g),c(e,r,n,l,g)},setGroupPositions:c}},{"../../constants/numerical":182,"../../lib":203,"../../plots/cartesian/axes":248,"../../plots/cartesian/axis_ids":251,"../../registry":295,"./sieve.js":318,"fast-isnumeric":23}],309:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../components/color"),o=e("../../registry"),a=e("../scatter/xy_defaults"),s=e("../scatter/period_defaults"),l=e("./style_defaults"),u=e("../../plots/cartesian/axis_ids").getAxisGroup,c=e("./attributes"),f=r.coerceFont;function d(e,t,n,r){var i=t.orientation,o=t[{v:"x",h:"y"}[i]+"axis"],a=u(n,o)+i,s=n._alignmentOpts||{},l=r("alignmentgroup"),c=s[a];c||(c=s[a]={});var f=c[l];f?f.traces.push(t):f=c[l]={traces:[t],alignmentIndex:Object.keys(c).length,offsetGroups:{}};var d=r("offsetgroup"),p=f.offsetGroups,h=p[d];d&&(h||(h=p[d]={offsetIndex:Object.keys(p).length}),t._offsetIndex=h.offsetIndex)}function p(e,t,n,i,o,a){var s=!(!1===(a=a||{}).moduleHasSelected),l=!(!1===a.moduleHasUnselected),u=!(!1===a.moduleHasConstrain),c=!(!1===a.moduleHasCliponaxis),d=!(!1===a.moduleHasTextangle),p=!(!1===a.moduleHasInsideanchor),h=!!a.hasPathbar,g=Array.isArray(o)||"auto"===o,m=g||"inside"===o,y=g||"outside"===o;if(m||y){var v=f(i,"textfont",n.font),b=r.extendFlat({},v),x=!(e.textfont&&e.textfont.color);if(x&&delete b.color,f(i,"insidetextfont",b),h){var _=r.extendFlat({},v);x&&delete _.color,f(i,"pathbar.textfont",_)}y&&f(i,"outsidetextfont",v),s&&i("selected.textfont.color"),l&&i("unselected.textfont.color"),u&&i("constraintext"),c&&i("cliponaxis"),d&&i("textangle"),i("texttemplate")}m&&p&&i("insidetextanchor")}t.exports={supplyDefaults:function(e,t,n,u){function f(n,i){return r.coerce(e,t,c,n,i)}if(a(e,t,u,f)){s(e,t,u,f),f("orientation",t.x&&!t.y?"h":"v"),f("base"),f("offset"),f("width"),f("text"),f("hovertext"),f("hovertemplate");var d=f("textposition");p(e,0,u,f,d,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),l(e,t,f,n,u);var h=(t.marker.line||{}).color,g=o.getComponentMethod("errorbars","supplyDefaults");g(e,t,h||i.defaultLine,{axis:"y"}),g(e,t,h||i.defaultLine,{axis:"x",inherit:"y"}),r.coerceSelectionMarkerOpacity(t,f)}else t.visible=!1},crossTraceDefaults:function(e,t){var n;function i(e){return r.coerce(n._input,n,c,e)}if("group"===t.barmode)for(var o=0;o<e.length;o++)"bar"===(n=e[o]).type&&d(n._input,n,t,i)},handleGroupingDefaults:d,handleText:p}},{"../../components/color":75,"../../lib":203,"../../plots/cartesian/axis_ids":251,"../../registry":295,"../scatter/period_defaults":436,"../scatter/xy_defaults":443,"./attributes":305,"./style_defaults":320}],310:[function(e,t,n){"use strict";t.exports=function(e,t,n){return e.x="xVal"in t?t.xVal:t.x,e.y="yVal"in t?t.yVal:t.y,t.xa&&(e.xaxis=t.xa),t.ya&&(e.yaxis=t.ya),"h"===n.orientation?(e.label=e.y,e.value=e.x):(e.label=e.x,e.value=e.y),e}},{}],311:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("tinycolor2"),o=e("../../lib").isArrayOrTypedArray;n.coerceString=function(e,t,n){if("string"==typeof t){if(t||!e.noBlank)return t}else if(("number"==typeof t||!0===t)&&!e.strict)return String(t);return void 0!==n?n:e.dflt},n.coerceNumber=function(e,t,n){if(r(t)){t=+t;var i=e.min,o=e.max;if(!(void 0!==i&&t<i||void 0!==o&&t>o))return t}return void 0!==n?n:e.dflt},n.coerceColor=function(e,t,n){return i(t).isValid()?t:void 0!==n?n:e.dflt},n.coerceEnumerated=function(e,t,n){return e.coerceNumber&&(t=+t),-1!==e.values.indexOf(t)?t:void 0!==n?n:e.dflt},n.getValue=function(e,t){var n;return Array.isArray(e)?t<e.length&&(n=e[t]):n=e,n},n.getLineWidth=function(e,t){return 0<t.mlw?t.mlw:o(e.marker.line.width)?0:e.marker.line.width}},{"../../lib":203,"fast-isnumeric":23,tinycolor2:58}],312:[function(e,t,n){"use strict";var r=e("../../components/fx"),i=e("../../registry"),o=e("../../components/color"),a=e("../../lib").fillText,s=e("./helpers").getLineWidth,l=e("../../plots/cartesian/axes").hoverLabelText,u=e("../../constants/numerical").BADNUM;function c(e,t,n,i){var o,s,c,f,d,p,h,g=e.cd,m=g[0].trace,y=g[0].t,v="closest"===i,b="waterfall"===m.type,x=e.maxHoverDistance;function _(e){return e[c]-e.w/2}function w(e){return e[c]+e.w/2}var k=v?_:function(e){return Math.min(_(e),e.p-y.bardelta/2)},T=v?w:function(e){return Math.max(w(e),e.p+y.bardelta/2)};function C(e,t){return r.inbox(e-o,t-o,x+Math.min(1,Math.abs(t-e)/h)-1)}function O(e){return C(k(e),T(e))}function S(e){var t=s,n=e.b,i=e[f];if(b){var o=Math.abs(e.rawS)||0;t>0?i+=o:t<0&&(i-=o)}return r.inbox(n-t,i-t,x+(i-t)/(i-n)-1)}"h"===m.orientation?(o=n,s=t,c="y",f="x",d=S,p=O):(o=t,s=n,c="x",f="y",p=S,d=O);var A=e[c+"a"],M=e[f+"a"];h=Math.abs(A.r2c(A.range[1])-A.r2c(A.range[0]));var E=r.getDistanceFunction(i,d,p,(function(e){return(d(e)+p(e))/2}));if(r.getClosest(g,E,e),!1!==e.index&&g[e.index].p!==u){v||(k=function(e){return Math.min(_(e),e.p-y.bargroupwidth/2)},T=function(e){return Math.max(w(e),e.p+y.bargroupwidth/2)});var P=g[e.index],D=m.base?P.b+P.s:P.s;e[f+"0"]=e[f+"1"]=M.c2p(P[f],!0),e[f+"LabelVal"]=D;var L=y.extents[y.extents.round(P.p)];e[c+"0"]=A.c2p(v?k(P):L[0],!0),e[c+"1"]=A.c2p(v?T(P):L[1],!0);var R=void 0!==P.orig_p;return e[c+"LabelVal"]=R?P.orig_p:P.p,e.labelLabel=l(A,e[c+"LabelVal"]),e.valueLabel=l(M,e[f+"LabelVal"]),e.baseLabel=l(M,P.b),e.spikeDistance=(S(P)+function(e){return C(_(e),w(e))}(P))/2-x,e[c+"Spike"]=A.c2p(P.p,!0),a(P,m,e),e.hovertemplate=m.hovertemplate,e}}function f(e,t){var n=t.mcc||e.marker.color,r=t.mlcc||e.marker.line.color,i=s(e,t);return o.opacity(n)?n:o.opacity(r)&&i?r:void 0}t.exports={hoverPoints:function(e,t,n,r){var o=c(e,t,n,r);if(o){var a=o.cd,s=a[0].trace,l=a[o.index];return o.color=f(s,l),i.getComponentMethod("errorbars","hoverInfo")(l,s,o),[o]}},hoverOnBars:c,getTraceColor:f}},{"../../components/color":75,"../../components/fx":115,"../../constants/numerical":182,"../../lib":203,"../../plots/cartesian/axes":248,"../../registry":295,"./helpers":311}],313:[function(e,t,n){"use strict";t.exports={attributes:e("./attributes"),layoutAttributes:e("./layout_attributes"),supplyDefaults:e("./defaults").supplyDefaults,crossTraceDefaults:e("./defaults").crossTraceDefaults,supplyLayoutDefaults:e("./layout_defaults"),calc:e("./calc"),crossTraceCalc:e("./cross_trace_calc").crossTraceCalc,colorbar:e("../scatter/marker_colorbar"),arraysToCalcdata:e("./arrays_to_calcdata"),plot:e("./plot").plot,style:e("./style").style,styleOnSelect:e("./style").styleOnSelect,hoverPoints:e("./hover").hoverPoints,eventData:e("./event_data"),selectPoints:e("./select"),moduleType:"trace",name:"bar",basePlotModule:e("../../plots/cartesian"),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},{"../../plots/cartesian":261,"../scatter/marker_colorbar":434,"./arrays_to_calcdata":304,"./attributes":305,"./calc":306,"./cross_trace_calc":308,"./defaults":309,"./event_data":310,"./hover":312,"./layout_attributes":314,"./layout_defaults":315,"./plot":316,"./select":317,"./style":319}],314:[function(e,t,n){"use strict";t.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},{}],315:[function(e,t,n){"use strict";var r=e("../../registry"),i=e("../../plots/cartesian/axes"),o=e("../../lib"),a=e("./layout_attributes");t.exports=function(e,t,n){function s(n,r){return o.coerce(e,t,a,n,r)}for(var l=!1,u=!1,c=!1,f={},d=s("barmode"),p=0;p<n.length;p++){var h=n[p];if(r.traceIs(h,"bar")&&h.visible){if(l=!0,"group"===d){var g=h.xaxis+h.yaxis;f[g]&&(c=!0),f[g]=!0}h.visible&&"histogram"===h.type&&"category"!==i.getFromId({_fullLayout:t},h["v"===h.orientation?"xaxis":"yaxis"]).type&&(u=!0)}}l?("overlay"!==d&&s("barnorm"),s("bargap",u&&!c?0:.2),s("bargroupgap")):delete t.barmode}},{"../../lib":203,"../../plots/cartesian/axes":248,"../../registry":295,"./layout_attributes":314}],316:[function(e,t,n){"use strict";var r=e("d3"),i=e("fast-isnumeric"),o=e("../../lib"),a=e("../../lib/svg_text_utils"),s=e("../../components/color"),l=e("../../components/drawing"),u=e("../../registry"),c=e("../../plots/cartesian/axes").tickText,f=e("./uniform_text"),d=f.recordMinTextSize,p=f.clearMinTextSize,h=e("./style"),g=e("./helpers"),m=e("./constants"),y=e("./attributes"),v=y.text,b=y.textposition,x=e("../../components/fx/helpers").appendArrayPointValue,_=m.TEXTPAD;function w(e){return e.id}function k(e){if(e.ids)return w}function T(e,t){return e<t?1:-1}function C(e,t,n,r){var i;return!t.uniformtext.mode&&O(n)?(r&&(i=r()),e.transition().duration(n.duration).ease(n.easing).each("end",(function(){i&&i()})).each("interrupt",(function(){i&&i()}))):e}function O(e){return e&&e.duration>0}function S(e){return"auto"===e?0:e}function A(e,t){var n=Math.PI/180*t,r=Math.abs(Math.sin(n)),i=Math.abs(Math.cos(n));return{x:e.width*i+e.height*r,y:e.width*r+e.height*i}}function M(e,t,n,r,i,o){var a=!!o.isHorizontal,s=!!o.constrained,l=o.angle||0,u=o.anchor||"end",c="end"===u,f="start"===u,d=((o.leftToRight||0)+1)/2,p=1-d,h=i.width,g=i.height,m=Math.abs(t-e),y=Math.abs(r-n),v=m>2*_&&y>2*_?_:0;m-=2*v,y-=2*v;var b=S(l);"auto"!==l||h<=m&&g<=y||!(h>m||g>y)||(h>y||g>m)&&h<g==m<y||(b+=90);var x=A(i,b),w=1;s&&(w=Math.min(1,m/x.x,y/x.y));var k=i.left*p+i.right*d,C=(i.top+i.bottom)/2,O=(e+_)*p+(t-_)*d,M=(n+r)/2,E=0,P=0;if(f||c){var D=(a?x.x:x.y)/2,L=a?T(e,t):T(n,r);a?f?(O=e+L*v,E=-L*D):(O=t-L*v,E=L*D):f?(M=n+L*v,P=-L*D):(M=r-L*v,P=L*D)}return{textX:k,textY:C,targetX:O,targetY:M,anchorX:E,anchorY:P,scale:w,rotate:b}}t.exports={plot:function(e,t,n,f,m,y){var w=t.xaxis,E=t.yaxis,P=e._fullLayout;m||(m={mode:P.barmode,norm:P.barmode,gap:P.bargap,groupgap:P.bargroupgap},p("bar",P));var D=o.makeTraceGroups(f,n,"trace bars").each((function(n){var u=r.select(this),f=n[0].trace,p="waterfall"===f.type,D="funnel"===f.type,L="bar"===f.type||D,R=0;p&&f.connector.visible&&"between"===f.connector.mode&&(R=f.connector.line.width/2);var I="h"===f.orientation,N=O(m),j=o.ensureSingle(u,"g","points"),z=k(f),q=j.selectAll("g.point").data(o.identity,z);q.enter().append("g").classed("point",!0),q.exit().remove(),q.each((function(u,p){var k,O,D=r.select(this),j=function(e,t,n,r){var i=[],o=[],a=r?t:n,s=r?n:t;return i[0]=a.c2p(e.s0,!0),o[0]=s.c2p(e.p0,!0),i[1]=a.c2p(e.s1,!0),o[1]=s.c2p(e.p1,!0),r?[i,o]:[o,i]}(u,w,E,I),z=j[0][0],q=j[0][1],F=j[1][0],B=j[1][1],H=0==(I?q-z:B-F);if(H&&L&&g.getLineWidth(f,u)&&(H=!1),H||(H=!(i(z)&&i(q)&&i(F)&&i(B))),u.isBlank=H,H&&(I?q=z:B=F),R&&!H&&(I?(z-=T(z,q)*R,q+=T(z,q)*R):(F-=T(F,B)*R,B+=T(F,B)*R)),"waterfall"===f.type){if(!H){var U=f[u.dir].marker;k=U.line.width,O=U.color}}else k=g.getLineWidth(f,u),O=u.mc||f.marker.color;function V(e){var t=r.round(k/2%1,2);return 0===m.gap&&0===m.groupgap?r.round(Math.round(e)-t,2):e}if(!e._context.staticPlot){var W=s.opacity(O)<1||k>.01?V:function(e,t,n){return n&&e===t?e:Math.abs(e-t)>=2?V(e):e>t?Math.ceil(e):Math.floor(e)};z=W(z,q,I),q=W(q,z,I),F=W(F,B,!I),B=W(B,F,!I)}var G=C(o.ensureSingle(D,"path"),P,m,y);if(G.style("vector-effect","non-scaling-stroke").attr("d",isNaN((q-z)*(B-F))?"M0,0Z":"M"+z+","+F+"V"+B+"H"+q+"V"+F+"Z").call(l.setClipUrl,t.layerClipId,e),!P.uniformtext.mode&&N){var K=l.makePointStyleFns(f);l.singlePointStyle(u,G,f,K,e)}(function(e,t,n,r,i,s,u,f,p,m,y){var w,k=t.xaxis,O=t.yaxis,E=e._fullLayout;function P(t,n,r){return o.ensureSingle(t,"text").text(n).attr({class:"bartext bartext-"+w,"text-anchor":"middle","data-notex":1}).call(l.font,r).call(a.convertToTspans,e)}var D=r[0].trace,L="h"===D.orientation,R=function(e,t,n,r,i){var a,s=t[0].trace;return a=s.texttemplate?function(e,t,n,r,i){var a=t[0].trace,s=o.castOption(a,n,"texttemplate");if(!s)return"";var l,u,f,d,p="waterfall"===a.type,h="funnel"===a.type;function g(e){return c(u,e,!0).text}function m(e){return c(d,+e,!0).text}"h"===a.orientation?(l="y",u=i,f="x",d=r):(l="x",u=r,f="y",d=i);var y=t[n],v={};v.label=y.p,v.labelLabel=v[l+"Label"]=g(y.p);var b=o.castOption(a,y.i,"text");(0===b||b)&&(v.text=b),v.value=y.s,v.valueLabel=v[f+"Label"]=m(y.s);var _={};x(_,a,y.i),p&&(v.delta=+y.rawS||y.s,v.deltaLabel=m(v.delta),v.final=y.v,v.finalLabel=m(v.final),v.initial=v.final-v.delta,v.initialLabel=m(v.initial)),h&&(v.value=y.s,v.valueLabel=m(v.value),v.percentInitial=y.begR,v.percentInitialLabel=o.formatPercent(y.begR),v.percentPrevious=y.difR,v.percentPreviousLabel=o.formatPercent(y.difR),v.percentTotal=y.sumR,v.percenTotalLabel=o.formatPercent(y.sumR));var w=o.castOption(a,y.i,"customdata");return w&&(v.customdata=w),o.texttemplateString(s,v,e._d3locale,_,v,a._meta||{})}(e,t,n,r,i):s.textinfo?function(e,t,n,r){var i=e[0].trace,a="h"===i.orientation,s="waterfall"===i.type,l="funnel"===i.type;function u(e){return c(a?r:n,e,!0).text}function f(e){return c(a?n:r,+e,!0).text}var d,p=i.textinfo,h=e[t],g=p.split("+"),m=[],y=function(e){return-1!==g.indexOf(e)};if(y("label")&&m.push(u(e[t].p)),y("text")&&(0===(d=o.castOption(i,h.i,"text"))||d)&&m.push(d),s){var v=+h.rawS||h.s,b=h.v,x=b-v;y("initial")&&m.push(f(x)),y("delta")&&m.push(f(v)),y("final")&&m.push(f(b))}if(l){y("value")&&m.push(f(h.s));var _=0;y("percent initial")&&_++,y("percent previous")&&_++,y("percent total")&&_++;var w=_>1;y("percent initial")&&(d=o.formatPercent(h.begR),w&&(d+=" of initial"),m.push(d)),y("percent previous")&&(d=o.formatPercent(h.difR),w&&(d+=" of previous"),m.push(d)),y("percent total")&&(d=o.formatPercent(h.sumR),w&&(d+=" of total"),m.push(d))}return m.join("<br>")}(t,n,r,i):g.getValue(s.text,n),g.coerceString(v,a)}(E,r,i,k,O);w=function(e,t){var n=g.getValue(e.textposition,t);return g.coerceEnumerated(b,n)}(D,i);var I="stack"===m.mode||"relative"===m.mode,N=r[i],j=!I||N._outmost;if(R&&"none"!==w&&(!N.isBlank&&s!==u&&f!==p||"auto"!==w&&"inside"!==w)){var z=E.font,q=h.getBarColor(r[i],D),F=h.getInsideTextFont(D,i,z,q),B=h.getOutsideTextFont(D,i,z),H=n.datum();L?"log"===k.type&&H.s0<=0&&(s=k.range[0]<k.range[1]?0:k._length):"log"===O.type&&H.s0<=0&&(f=O.range[0]<O.range[1]?O._length:0);var U,V,W,G,K,Y=Math.abs(u-s)-2*_,Z=Math.abs(p-f)-2*_;if("outside"===w&&(j||N.hasB||(w="inside")),"auto"===w&&(j?(w="inside",U=P(n,R,K=o.ensureUniformFontSize(e,F)),W=(V=l.bBox(U.node())).width,G=V.height,W>0&&G>0&&(W<=Y&&G<=Z||W<=Z&&G<=Y||(L?Y>=W*(Z/G):Z>=G*(Y/W)))?w="inside":(w="outside",U.remove(),U=null)):w="inside"),!U){var X=(U=P(n,R,K=o.ensureUniformFontSize(e,"outside"===w?B:F))).attr("transform");if(U.attr("transform",""),W=(V=l.bBox(U.node())).width,G=V.height,U.attr("transform",X),W<=0||G<=0)return void U.remove()}var $,J=D.textangle;($="outside"===w?function(e,t,n,r,i,o){var a,s=!!o.isHorizontal,l=!!o.constrained,u=o.angle||0,c=i.width,f=i.height,d=Math.abs(t-e),p=Math.abs(r-n);a=s?p>2*_?_:0:d>2*_?_:0;var h=1;l&&(h=s?Math.min(1,p/f):Math.min(1,d/c));var g=S(u),m=A(i,g),y=(s?m.x:m.y)/2,v=(i.left+i.right)/2,b=(i.top+i.bottom)/2,x=(e+t)/2,w=(n+r)/2,k=0,C=0,O=s?T(t,e):T(n,r);return s?(x=t-O*a,k=O*y):(w=r+O*a,C=-O*y),{textX:v,textY:b,targetX:x,targetY:w,anchorX:k,anchorY:C,scale:h,rotate:g}}(s,u,f,p,V,{isHorizontal:L,constrained:"both"===D.constraintext||"outside"===D.constraintext,angle:J}):M(s,u,f,p,V,{isHorizontal:L,constrained:"both"===D.constraintext||"inside"===D.constraintext,angle:J,anchor:D.insidetextanchor})).fontSize=K.size,d(D.type,$,E),N.transform=$,C(U,E,m,y).attr("transform",o.getTextTransform($))}else n.select("text").remove()})(e,t,D,n,p,z,q,F,B,m,y),t.layerClipId&&l.hideOutsideRangePoint(u,D.select("text"),w,E,f.xcalendar,f.ycalendar)}));var F=!1===f.cliponaxis;l.setClipUrl(u,F?null:t.layerClipId,e)}));u.getComponentMethod("errorbars","plot")(e,D,t,m)},toMoveInsideBar:M}},{"../../components/color":75,"../../components/drawing":97,"../../components/fx/helpers":111,"../../lib":203,"../../lib/svg_text_utils":224,"../../plots/cartesian/axes":248,"../../registry":295,"./attributes":305,"./constants":307,"./helpers":311,"./style":319,"./uniform_text":321,d3:21,"fast-isnumeric":23}],317:[function(e,t,n){"use strict";function r(e,t,n,r,i){var o=t.c2p(r?e.s0:e.p0,!0),a=t.c2p(r?e.s1:e.p1,!0),s=n.c2p(r?e.p0:e.s0,!0),l=n.c2p(r?e.p1:e.s1,!0);return i?[(o+a)/2,(s+l)/2]:r?[a,(s+l)/2]:[(o+a)/2,l]}t.exports=function(e,t){var n,i=e.cd,o=e.xaxis,a=e.yaxis,s=i[0].trace,l="funnel"===s.type,u="h"===s.orientation,c=[];if(!1===t)for(n=0;n<i.length;n++)i[n].selected=0;else for(n=0;n<i.length;n++){var f=i[n],d="ct"in f?f.ct:r(f,o,a,u,l);t.contains(d,!1,n,e)?(c.push({pointNumber:n,x:o.c2d(f.x),y:a.c2d(f.y)}),f.selected=1):f.selected=0}return c}},{}],318:[function(e,t,n){"use strict";t.exports=o;var r=e("../../lib").distinctVals,i=e("../../constants/numerical").BADNUM;function o(e,t){this.traces=e,this.sepNegVal=t.sepNegVal,this.overlapNoMerge=t.overlapNoMerge;for(var n=1/0,o=[],a=0;a<e.length;a++){for(var s=e[a],l=0;l<s.length;l++){var u=s[l];u.p!==i&&o.push(u.p)}s[0]&&s[0].width1&&(n=Math.min(s[0].width1,n))}this.positions=o;var c=r(o,{unitMinDiff:t.unitMinDiff});this.distinctPositions=c.vals,1===c.vals.length&&n!==1/0?this.minDiff=n:this.minDiff=Math.min(c.minDiff,n),this.binWidth=this.minDiff,this.bins={}}o.prototype.put=function(e,t){var n=this.getLabel(e,t),r=this.bins[n]||0;return this.bins[n]=r+t,r},o.prototype.get=function(e,t){var n=this.getLabel(e,t);return this.bins[n]||0},o.prototype.getLabel=function(e,t){return(t<0&&this.sepNegVal?"v":"^")+(this.overlapNoMerge?e:Math.round(e/this.binWidth))}},{"../../constants/numerical":182,"../../lib":203}],319:[function(e,t,n){"use strict";var r=e("d3"),i=e("../../components/color"),o=e("../../components/drawing"),a=e("../../lib"),s=e("../../registry"),l=e("./uniform_text").resizeText,u=e("./attributes"),c=u.textfont,f=u.insidetextfont,d=u.outsidetextfont,p=e("./helpers");function h(e,t,n){o.pointStyle(e.selectAll("path"),t,n),g(e,t,n)}function g(e,t,n){e.selectAll("text").each((function(e){var i=r.select(this),s=a.ensureUniformFontSize(n,m(i,e,t,n));o.font(i,s)}))}function m(e,t,n,r){var i=r._fullLayout.font,o=n.textfont;if(e.classed("bartext-inside")){var a=_(t,n);o=v(n,t.i,i,a)}else e.classed("bartext-outside")&&(o=b(n,t.i,i));return o}function y(e,t,n){return x(c,e.textfont,t,n)}function v(e,t,n,r){var o=y(e,t,n);return(void 0===e._input.textfont||void 0===e._input.textfont.color||Array.isArray(e.textfont.color)&&void 0===e.textfont.color[t])&&(o={color:i.contrast(r),family:o.family,size:o.size}),x(f,e.insidetextfont,t,o)}function b(e,t,n){var r=y(e,t,n);return x(d,e.outsidetextfont,t,r)}function x(e,t,n,r){t=t||{};var i=p.getValue(t.family,n),o=p.getValue(t.size,n),a=p.getValue(t.color,n);return{family:p.coerceString(e.family,i,r.family),size:p.coerceNumber(e.size,o,r.size),color:p.coerceColor(e.color,a,r.color)}}function _(e,t){return"waterfall"===t.type?t[e.dir].marker.color:e.mc||t.marker.color}t.exports={style:function(e){var t=r.select(e).selectAll("g.barlayer").selectAll("g.trace");l(e,t,"bar");var n=t.size(),i=e._fullLayout;t.style("opacity",(function(e){return e[0].trace.opacity})).each((function(e){("stack"===i.barmode&&n>1||0===i.bargap&&0===i.bargroupgap&&!e[0].trace.marker.line.width)&&r.select(this).attr("shape-rendering","crispEdges")})),t.selectAll("g.points").each((function(t){h(r.select(this),t[0].trace,e)})),s.getComponentMethod("errorbars","style")(t)},styleTextPoints:g,styleOnSelect:function(e,t,n){var i=t[0].trace;i.selectedpoints?function(e,t,n){o.selectedPointStyle(e.selectAll("path"),t),function(e,t,n){e.each((function(e){var i,s=r.select(this);if(e.selected){i=a.ensureUniformFontSize(n,m(s,e,t,n));var l=t.selected.textfont&&t.selected.textfont.color;l&&(i.color=l),o.font(s,i)}else o.selectedTextStyle(s,t)}))}(e.selectAll("text"),t,n)}(n,i,e):(h(n,i,e),s.getComponentMethod("errorbars","style")(n))},getInsideTextFont:v,getOutsideTextFont:b,getBarColor:_,resizeText:l}},{"../../components/color":75,"../../components/drawing":97,"../../lib":203,"../../registry":295,"./attributes":305,"./helpers":311,"./uniform_text":321,d3:21}],320:[function(e,t,n){"use strict";var r=e("../../components/color"),i=e("../../components/colorscale/helpers").hasColorscale,o=e("../../components/colorscale/defaults");t.exports=function(e,t,n,a,s){n("marker.color",a),i(e,"marker")&&o(e,t,s,n,{prefix:"marker.",cLetter:"c"}),n("marker.line.color",r.defaultLine),i(e,"marker.line")&&o(e,t,s,n,{prefix:"marker.line.",cLetter:"c"}),n("marker.line.width"),n("marker.opacity"),n("selected.marker.color"),n("unselected.marker.color")}},{"../../components/color":75,"../../components/colorscale/defaults":85,"../../components/colorscale/helpers":86}],321:[function(e,t,n){"use strict";var r=e("d3"),i=e("../../lib");function o(e){return"_"+e+"Text_minsize"}t.exports={recordMinTextSize:function(e,t,n){if(n.uniformtext.mode){var r=o(e),i=n.uniformtext.minsize,a=t.scale*t.fontSize;t.hide=a<i,n[r]=n[r]||1/0,t.hide||(n[r]=Math.min(n[r],Math.max(a,i)))}},clearMinTextSize:function(e,t){t[o(e)]=void 0},resizeText:function(e,t,n){var o=e._fullLayout,a=o["_"+n+"Text_minsize"];if(a){var s,l="hide"===o.uniformtext.mode;switch(n){case"funnelarea":case"pie":case"sunburst":s="g.slice";break;case"treemap":s="g.slice, g.pathbar";break;default:s="g.points > g.point"}t.selectAll(s).each((function(e){var t=e.transform;t&&(t.scale=l&&t.hide?0:a/t.fontSize,r.select(this).select("text").attr("transform",i.getTextTransform(t)))}))}}}},{"../../lib":203,d3:21}],322:[function(e,t,n){"use strict";var r=e("../scatter/attributes"),i=e("../bar/attributes"),o=e("../../components/color/attributes"),a=e("../../plots/template_attributes").hovertemplateAttrs,s=e("../../lib/extend").extendFlat,l=r.marker,u=l.line;t.exports={y:{valType:"data_array",editType:"calc+clearAxisTypes"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},x0:{valType:"any",editType:"calc+clearAxisTypes"},y0:{valType:"any",editType:"calc+clearAxisTypes"},dx:{valType:"number",editType:"calc"},dy:{valType:"number",editType:"calc"},xperiod:r.xperiod,yperiod:r.yperiod,xperiod0:r.xperiod0,yperiod0:r.yperiod0,xperiodalignment:r.xperiodalignment,yperiodalignment:r.yperiodalignment,name:{valType:"string",editType:"calc+clearAxisTypes"},q1:{valType:"data_array",editType:"calc+clearAxisTypes"},median:{valType:"data_array",editType:"calc+clearAxisTypes"},q3:{valType:"data_array",editType:"calc+clearAxisTypes"},lowerfence:{valType:"data_array",editType:"calc"},upperfence:{valType:"data_array",editType:"calc"},notched:{valType:"boolean",editType:"calc"},notchwidth:{valType:"number",min:0,max:.5,dflt:.25,editType:"calc"},notchspan:{valType:"data_array",editType:"calc"},boxpoints:{valType:"enumerated",values:["all","outliers","suspectedoutliers",!1],editType:"calc"},jitter:{valType:"number",min:0,max:1,editType:"calc"},pointpos:{valType:"number",min:-2,max:2,editType:"calc"},boxmean:{valType:"enumerated",values:[!0,"sd",!1],editType:"calc"},mean:{valType:"data_array",editType:"calc"},sd:{valType:"data_array",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},quartilemethod:{valType:"enumerated",values:["linear","exclusive","inclusive"],dflt:"linear",editType:"calc"},width:{valType:"number",min:0,dflt:0,editType:"calc"},marker:{outliercolor:{valType:"color",dflt:"rgba(0, 0, 0, 0)",editType:"style"},symbol:s({},l.symbol,{arrayOk:!1,editType:"plot"}),opacity:s({},l.opacity,{arrayOk:!1,dflt:1,editType:"style"}),size:s({},l.size,{arrayOk:!1,editType:"calc"}),color:s({},l.color,{arrayOk:!1,editType:"style"}),line:{color:s({},u.color,{arrayOk:!1,dflt:o.defaultLine,editType:"style"}),width:s({},u.width,{arrayOk:!1,dflt:0,editType:"style"}),outliercolor:{valType:"color",editType:"style"},outlierwidth:{valType:"number",min:0,dflt:1,editType:"style"},editType:"style"},editType:"plot"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:r.fillcolor,whiskerwidth:{valType:"number",min:0,max:1,dflt:.5,editType:"calc"},offsetgroup:i.offsetgroup,alignmentgroup:i.alignmentgroup,selected:{marker:r.selected.marker,editType:"style"},unselected:{marker:r.unselected.marker,editType:"style"},text:s({},r.text,{}),hovertext:s({},r.hovertext,{}),hovertemplate:a({}),hoveron:{valType:"flaglist",flags:["boxes","points"],dflt:"boxes+points",editType:"style"}}},{"../../components/color/attributes":74,"../../lib/extend":197,"../../plots/template_attributes":290,"../bar/attributes":305,"../scatter/attributes":416}],323:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../../plots/cartesian/axes"),o=e("../../plots/cartesian/align_period"),a=e("../../lib"),s=e("../../constants/numerical").BADNUM,l=a._;t.exports=function(e,t){var n,u,v,b,x,_,w,k=e._fullLayout,T=i.getFromId(e,t.xaxis||"x"),C=i.getFromId(e,t.yaxis||"y"),O=[],S="violin"===t.type?"_numViolins":"_numBoxes";"h"===t.orientation?(v=T,b="x",x=C,_="y",w=!!t.yperiodalignment):(v=C,b="y",x=T,_="x",w=!!t.xperiodalignment);var A,M,E,P,D,L,R=function(e,t,n,i){var s,l=t+"0"in e;if(t in e||l&&"d"+t in e){var u=n.makeCalcdata(e,t);return[o(e,n,t,u),u]}s=l?e[t+"0"]:"name"in e&&("category"===n.type||r(e.name)&&-1!==["linear","log"].indexOf(n.type)||a.isDateTime(e.name)&&"date"===n.type)?e.name:i;for(var c="multicategory"===n.type?n.r2c_just_indices(s):n.d2c(s,0,e[t+"calendar"]),f=e._length,d=new Array(f),p=0;p<f;p++)d[p]=c;return[d]}(t,_,x,k[S]),I=R[0],N=R[1],j=a.distinctVals(I),z=j.vals,q=j.minDiff/2,F="all"===(t.boxpoints||t.points)?a.identity:function(e){return e.v<A.lf||e.v>A.uf};if(t._hasPreCompStats){var B=t[b],H=function(e){return v.d2c((t[e]||[])[n])},U=1/0,V=-1/0;for(n=0;n<t._length;n++){var W=I[n];if(r(W)){if((A={}).pos=A[_]=W,w&&N&&(A.orig_p=N[n]),A.q1=H("q1"),A.med=H("median"),A.q3=H("q3"),M=[],B&&a.isArrayOrTypedArray(B[n]))for(u=0;u<B[n].length;u++)(L=v.d2c(B[n][u]))!==s&&(c(D={v:L,i:[n,u]},t,[n,u]),M.push(D));if(A.pts=M.sort(f),P=(E=A[b]=M.map(d)).length,A.med!==s&&A.q1!==s&&A.q3!==s&&A.med>=A.q1&&A.q3>=A.med){var G=H("lowerfence");A.lf=G!==s&&G<=A.q1?G:p(A,E,P);var K=H("upperfence");A.uf=K!==s&&K>=A.q3?K:h(A,E,P);var Y=H("mean");A.mean=Y!==s?Y:P?a.mean(E,P):(A.q1+A.q3)/2;var Z=H("sd");A.sd=Y!==s&&Z>=0?Z:P?a.stdev(E,P,A.mean):A.q3-A.q1,A.lo=g(A),A.uo=m(A);var X=H("notchspan");X=X!==s&&X>0?X:y(A,P),A.ln=A.med-X,A.un=A.med+X;var $=A.lf,J=A.uf;t.boxpoints&&E.length&&($=Math.min($,E[0]),J=Math.max(J,E[P-1])),t.notched&&($=Math.min($,A.ln),J=Math.max(J,A.un)),A.min=$,A.max=J}else{var Q;a.warn(["Invalid input - make sure that q1 <= median <= q3","q1 = "+A.q1,"median = "+A.med,"q3 = "+A.q3].join("\n")),Q=A.med!==s?A.med:A.q1!==s?A.q3!==s?(A.q1+A.q3)/2:A.q1:A.q3!==s?A.q3:0,A.med=Q,A.q1=A.q3=Q,A.lf=A.uf=Q,A.mean=A.sd=Q,A.ln=A.un=Q,A.min=A.max=Q}U=Math.min(U,A.min),V=Math.max(V,A.max),A.pts2=M.filter(F),O.push(A)}}t._extremes[v._id]=i.findExtremes(v,[U,V],{padded:!0})}else{var ee=v.makeCalcdata(t,b),te=function(e,t){for(var n=e.length,r=new Array(n+1),i=0;i<n;i++)r[i]=e[i]-t;return r[n]=e[n-1]+t,r}(z,q),ne=z.length,re=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=[];return t}(ne);for(n=0;n<t._length;n++)if(L=ee[n],r(L)){var ie=a.findBin(I[n],te);ie>=0&&ie<ne&&(c(D={v:L,i:n},t,n),re[ie].push(D))}var oe=1/0,ae=-1/0,se=t.quartilemethod,le="exclusive"===se,ue="inclusive"===se;for(n=0;n<ne;n++)if(re[n].length>0){var ce,fe;(A={}).pos=A[_]=z[n],M=A.pts=re[n].sort(f),P=(E=A[b]=M.map(d)).length,A.min=E[0],A.max=E[P-1],A.mean=a.mean(E,P),A.sd=a.stdev(E,P,A.mean),A.med=a.interp(E,.5),P%2&&(le||ue)?(le?(ce=E.slice(0,P/2),fe=E.slice(P/2+1)):ue&&(ce=E.slice(0,P/2+1),fe=E.slice(P/2)),A.q1=a.interp(ce,.5),A.q3=a.interp(fe,.5)):(A.q1=a.interp(E,.25),A.q3=a.interp(E,.75)),A.lf=p(A,E,P),A.uf=h(A,E,P),A.lo=g(A),A.uo=m(A);var de=y(A,P);A.ln=A.med-de,A.un=A.med+de,oe=Math.min(oe,A.ln),ae=Math.max(ae,A.un),A.pts2=M.filter(F),O.push(A)}t._extremes[v._id]=i.findExtremes(v,t.notched?ee.concat([oe,ae]):ee,{padded:!0})}return function(e,t){if(a.isArrayOrTypedArray(t.selectedpoints))for(var n=0;n<e.length;n++){for(var r=e[n].pts||[],i={},o=0;o<r.length;o++)i[r[o].i]=o;a.tagSelected(r,t,i)}}(O,t),O.length>0?(O[0].t={num:k[S],dPos:q,posLetter:_,valLetter:b,labels:{med:l(e,"median:"),min:l(e,"min:"),q1:l(e,"q1:"),q3:l(e,"q3:"),max:l(e,"max:"),mean:"sd"===t.boxmean?l(e,"mean ± σ:"):l(e,"mean:"),lf:l(e,"lower fence:"),uf:l(e,"upper fence:")}},k[S]++,O):[{t:{empty:!0}}]};var u={text:"tx",hovertext:"htx"};function c(e,t,n){for(var r in u)a.isArrayOrTypedArray(t[r])&&(Array.isArray(n)?a.isArrayOrTypedArray(t[r][n[0]])&&(e[u[r]]=t[r][n[0]][n[1]]):e[u[r]]=t[r][n])}function f(e,t){return e.v-t.v}function d(e){return e.v}function p(e,t,n){return 0===n?e.q1:Math.min(e.q1,t[Math.min(a.findBin(2.5*e.q1-1.5*e.q3,t,!0)+1,n-1)])}function h(e,t,n){return 0===n?e.q3:Math.max(e.q3,t[Math.max(a.findBin(2.5*e.q3-1.5*e.q1,t),0)])}function g(e){return 4*e.q1-3*e.q3}function m(e){return 4*e.q3-3*e.q1}function y(e,t){return 0===t?0:1.57*(e.q3-e.q1)/Math.sqrt(t)}},{"../../constants/numerical":182,"../../lib":203,"../../plots/cartesian/align_period":245,"../../plots/cartesian/axes":248,"fast-isnumeric":23}],324:[function(e,t,n){"use strict";var r=e("../../plots/cartesian/axes"),i=e("../../lib"),o=e("../../plots/cartesian/axis_ids").getAxisGroup,a=["v","h"];function s(e,t,n,a){var s,l,u,c=t.calcdata,f=t._fullLayout,d=a._id,p=d.charAt(0),h=[],g=0;for(s=0;s<n.length;s++)for(u=c[n[s]],l=0;l<u.length;l++)h.push(a.c2l(u[l].pos,!0)),g+=(u[l].pts2||[]).length;if(h.length){var m=i.distinctVals(h,{unitMinDiff:"category"===a.type||"multicategory"===a.type}),y=m.minDiff/2;r.minDtick(a,m.minDiff,m.vals[0],!0);var v=f["violin"===e?"_numViolins":"_numBoxes"],b="group"===f[e+"mode"]&&v>1,x=1-f[e+"gap"],_=1-f[e+"groupgap"];for(s=0;s<n.length;s++){var w,k,T,C,O,S,A=(u=c[n[s]])[0].trace,M=u[0].t,E=A.width,P=A.side;if(E)w=k=C=E/2,T=0;else if(w=y,b){var D=o(f,a._id)+A.orientation,L=(f._alignmentOpts[D]||{})[A.alignmentgroup]||{},R=Object.keys(L.offsetGroups||{}).length,I=R||v;k=w*x*_/I,T=2*w*(((R?A._offsetIndex:M.num)+.5)/I-.5)*x,C=w*x/I}else k=w*x*_,T=0,C=w;M.dPos=w,M.bPos=T,M.bdPos=k,M.wHover=C;var N,j,z,q,F,B,H=T+k,U=Boolean(E);if("positive"===P?(O=w*(E?1:.5),N=H,S=N=T):"negative"===P?(O=N=T,S=w*(E?1:.5),j=H):(O=S=w,N=j=H),(A.boxpoints||A.points)&&g>0){var V=A.pointpos,W=A.jitter,G=A.marker.size/2,K=0;V+W>=0&&((K=H*(V+W))>O?(U=!0,F=G,z=K):K>N&&(F=G,z=O)),K<=O&&(z=O);var Y=0;V-W<=0&&((Y=-H*(V-W))>S?(U=!0,B=G,q=Y):Y>j&&(B=G,q=S)),Y<=S&&(q=S)}else z=O,q=S;var Z=new Array(u.length);for(l=0;l<u.length;l++)Z[l]=u[l].pos;A._extremes[d]=r.findExtremes(a,Z,{padded:U,vpadminus:q,vpadplus:z,vpadLinearized:!0,ppadminus:{x:B,y:F}[p],ppadplus:{x:F,y:B}[p]})}}}t.exports={crossTraceCalc:function(e,t){for(var n=e.calcdata,r=t.xaxis,i=t.yaxis,o=0;o<a.length;o++){for(var l=a[o],u="h"===l?i:r,c=[],f=0;f<n.length;f++){var d=n[f],p=d[0].t,h=d[0].trace;!0!==h.visible||"box"!==h.type&&"candlestick"!==h.type||p.empty||(h.orientation||"v")!==l||h.xaxis!==r._id||h.yaxis!==i._id||c.push(f)}s("box",e,c,u)}},setPositionOffset:s}},{"../../lib":203,"../../plots/cartesian/axes":248,"../../plots/cartesian/axis_ids":251}],325:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../registry"),o=e("../../components/color"),a=e("../scatter/period_defaults"),s=e("../bar/defaults").handleGroupingDefaults,l=e("../../plots/cartesian/axis_autotype"),u=e("./attributes");function c(e,t,n,o){function a(e){var t=0;return e&&e.length&&(t+=1,r.isArrayOrTypedArray(e[0])&&e[0].length&&(t+=1)),t}function s(t){return r.validate(e[t],u[t])}var c,f=n("y"),d=n("x");if("box"===t.type){var p=n("q1"),h=n("median"),g=n("q3");t._hasPreCompStats=p&&p.length&&h&&h.length&&g&&g.length,c=Math.min(r.minRowLength(p),r.minRowLength(h),r.minRowLength(g))}var m,y,v=a(f),b=a(d),x=v&&r.minRowLength(f),_=b&&r.minRowLength(d);if(t._hasPreCompStats)switch(String(b)+String(v)){case"00":var w=s("x0")||s("dx");m=!s("y0")&&!s("dy")||w?"v":"h",y=c;break;case"10":m="v",y=Math.min(c,_);break;case"20":m="h",y=Math.min(c,d.length);break;case"01":m="h",y=Math.min(c,x);break;case"02":m="v",y=Math.min(c,f.length);break;case"12":m="v",y=Math.min(c,_,f.length);break;case"21":m="h",y=Math.min(c,d.length,x);break;case"11":y=0;break;case"22":var k,T=!1;for(k=0;k<d.length;k++)if("category"===l(d[k])){T=!0;break}if(T)m="v",y=Math.min(c,_,f.length);else{for(k=0;k<f.length;k++)if("category"===l(f[k])){T=!0;break}T?(m="h",y=Math.min(c,d.length,x)):(m="v",y=Math.min(c,_,f.length))}}else v>0?(m="v",y=b>0?Math.min(_,x):Math.min(x)):b>0?(m="h",y=Math.min(_)):y=0;if(y){t._length=y;var C=n("orientation",m);t._hasPreCompStats?"v"===C&&0===b?(n("x0",0),n("dx",1)):"h"===C&&0===v&&(n("y0",0),n("dy",1)):"v"===C&&0===b?n("x0"):"h"===C&&0===v&&n("y0"),i.getComponentMethod("calendars","handleTraceDefaults")(e,t,["x","y"],o)}else t.visible=!1}function f(e,t,n,i){var o=i.prefix,a=r.coerce2(e,t,u,"marker.outliercolor"),s=n("marker.line.outliercolor"),l="outliers";t._hasPreCompStats?l="all":(a||s)&&(l="suspectedoutliers");var c=n(o+"points",l);c?(n("jitter","all"===c?.3:0),n("pointpos","all"===c?-1.5:0),n("marker.symbol"),n("marker.opacity"),n("marker.size"),n("marker.color",t.line.color),n("marker.line.color"),n("marker.line.width"),"suspectedoutliers"===c&&(n("marker.line.outliercolor",t.marker.color),n("marker.line.outlierwidth")),n("selected.marker.color"),n("unselected.marker.color"),n("selected.marker.size"),n("unselected.marker.size"),n("text"),n("hovertext")):delete t.marker;var f=n("hoveron");"all"!==f&&-1===f.indexOf("points")||n("hovertemplate"),r.coerceSelectionMarkerOpacity(t,n)}t.exports={supplyDefaults:function(e,t,n,i){function s(n,i){return r.coerce(e,t,u,n,i)}if(c(e,t,s,i),!1!==t.visible){a(e,t,i,s);var l=t._hasPreCompStats;l&&(s("lowerfence"),s("upperfence")),s("line.color",(e.marker||{}).color||n),s("line.width"),s("fillcolor",o.addOpacity(t.line.color,.5));var d=!1;if(l){var p=s("mean"),h=s("sd");p&&p.length&&(d=!0,h&&h.length&&(d="sd"))}s("boxmean",d),s("whiskerwidth"),s("width"),s("quartilemethod");var g=!1;if(l){var m=s("notchspan");m&&m.length&&(g=!0)}else r.validate(e.notchwidth,u.notchwidth)&&(g=!0);s("notched",g)&&s("notchwidth"),f(e,t,s,{prefix:"box"})}},crossTraceDefaults:function(e,t){var n,i;function o(e){return r.coerce(i._input,i,u,e)}for(var a=0;a<e.length;a++){var l=(i=e[a]).type;"box"!==l&&"violin"!==l||(n=i._input,"group"===t[l+"mode"]&&s(n,i,t,o))}},handleSampleDefaults:c,handlePointsDefaults:f}},{"../../components/color":75,"../../lib":203,"../../plots/cartesian/axis_autotype":249,"../../registry":295,"../bar/defaults":309,"../scatter/period_defaults":436,"./attributes":322}],326:[function(e,t,n){"use strict";t.exports=function(e,t){return t.hoverOnBox&&(e.hoverOnBox=t.hoverOnBox),"xVal"in t&&(e.x=t.xVal),"yVal"in t&&(e.y=t.yVal),t.xa&&(e.xaxis=t.xa),t.ya&&(e.yaxis=t.ya),e}},{}],327:[function(e,t,n){"use strict";var r=e("../../plots/cartesian/axes"),i=e("../../lib"),o=e("../../components/fx"),a=e("../../components/color"),s=i.fillText;function l(e,t,n,s){var l,u,c,f,d,p,h,g,m,y,v,b,x,_,w=e.cd,k=e.xa,T=e.ya,C=w[0].trace,O=w[0].t,S="violin"===C.type,A=[],M=O.bdPos,E=O.wHover,P=function(e){return c.c2l(e.pos)+O.bPos-c.c2l(p)};S&&"both"!==C.side?("positive"===C.side&&(m=function(e){var t=P(e);return o.inbox(t,t+E,y)},b=M,x=0),"negative"===C.side&&(m=function(e){var t=P(e);return o.inbox(t-E,t,y)},b=0,x=M)):(m=function(e){var t=P(e);return o.inbox(t-E,t+E,y)},b=x=M),_=S?function(e){return o.inbox(e.span[0]-d,e.span[1]-d,y)}:function(e){return o.inbox(e.min-d,e.max-d,y)},"h"===C.orientation?(d=t,p=n,h=_,g=m,l="y",c=T,u="x",f=k):(d=n,p=t,h=m,g=_,l="x",c=k,u="y",f=T);var D=Math.min(1,M/Math.abs(c.r2c(c.range[1])-c.r2c(c.range[0])));function L(e){return(h(e)+g(e))/2}y=e.maxHoverDistance-D,v=e.maxSpikeDistance-D;var R=o.getDistanceFunction(s,h,g,L);if(o.getClosest(w,R,e),!1===e.index)return[];var I=w[e.index],N=C.line.color,j=(C.marker||{}).color;a.opacity(N)&&C.line.width?e.color=N:a.opacity(j)&&C.boxpoints?e.color=j:e.color=C.fillcolor,e[l+"0"]=c.c2p(I.pos+O.bPos-x,!0),e[l+"1"]=c.c2p(I.pos+O.bPos+b,!0),e[l+"LabelVal"]=void 0!==I.orig_p?I.orig_p:I.pos;var z=l+"Spike";e.spikeDistance=L(I)*v/y,e[z]=c.c2p(I.pos,!0);var q={},F=["med","q1","q3","min","max"];(C.boxmean||(C.meanline||{}).visible)&&F.push("mean"),(C.boxpoints||C.points)&&F.push("lf","uf");for(var B=0;B<F.length;B++){var H=F[B];if(H in I&&!(I[H]in q)){q[I[H]]=!0;var U=I[H],V=f.c2p(U,!0),W=i.extendFlat({},e);W.attr=H,W[u+"0"]=W[u+"1"]=V,W[u+"LabelVal"]=U,W[u+"Label"]=(O.labels?O.labels[H]+" ":"")+r.hoverLabelText(f,U),W.hoverOnBox=!0,"mean"===H&&"sd"in I&&"sd"===C.boxmean&&(W[u+"err"]=I.sd),e.name="",e.spikeDistance=void 0,e[z]=void 0,W.hovertemplate=!1,A.push(W)}}return A}function u(e,t,n){for(var r,a,l,u=e.cd,c=e.xa,f=e.ya,d=u[0].trace,p=c.c2p(t),h=f.c2p(n),g=o.quadrature((function(e){var t=Math.max(3,e.mrc||0);return Math.max(Math.abs(c.c2p(e.x)-p)-t,1-3/t)}),(function(e){var t=Math.max(3,e.mrc||0);return Math.max(Math.abs(f.c2p(e.y)-h)-t,1-3/t)})),m=!1,y=0;y<u.length;y++){a=u[y];for(var v=0;v<(a.pts||[]).length;v++){var b=g(l=a.pts[v]);b<=e.distance&&(e.distance=b,m=[y,v])}}if(!m)return!1;l=(a=u[m[0]]).pts[m[1]];var x=c.c2p(l.x,!0),_=f.c2p(l.y,!0),w=l.mrc||1;r=i.extendFlat({},e,{index:l.i,color:(d.marker||{}).color,name:d.name,x0:x-w,x1:x+w,y0:_-w,y1:_+w,spikeDistance:e.distance,hovertemplate:d.hovertemplate});var k,T=a.orig_p,C=void 0!==T?T:a.pos;return"h"===d.orientation?(k=f,r.xLabelVal=l.x,r.yLabelVal=C):(k=c,r.xLabelVal=C,r.yLabelVal=l.y),r[k._id.charAt(0)+"Spike"]=k.c2p(a.pos,!0),s(l,d,r),r}t.exports={hoverPoints:function(e,t,n,r){var i,o=e.cd[0].trace.hoveron,a=[];return-1!==o.indexOf("boxes")&&(a=a.concat(l(e,t,n,r))),-1!==o.indexOf("points")&&(i=u(e,t,n)),"closest"===r?i?[i]:a:i?(a.push(i),a):a},hoverOnBoxes:l,hoverOnPoints:u}},{"../../components/color":75,"../../components/fx":115,"../../lib":203,"../../plots/cartesian/axes":248}],328:[function(e,t,n){"use strict";t.exports={attributes:e("./attributes"),layoutAttributes:e("./layout_attributes"),supplyDefaults:e("./defaults").supplyDefaults,crossTraceDefaults:e("./defaults").crossTraceDefaults,supplyLayoutDefaults:e("./layout_defaults").supplyLayoutDefaults,calc:e("./calc"),crossTraceCalc:e("./cross_trace_calc").crossTraceCalc,plot:e("./plot").plot,style:e("./style").style,styleOnSelect:e("./style").styleOnSelect,hoverPoints:e("./hover").hoverPoints,eventData:e("./event_data"),selectPoints:e("./select"),moduleType:"trace",name:"box",basePlotModule:e("../../plots/cartesian"),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","boxLayout","zoomScale"],meta:{}}},{"../../plots/cartesian":261,"./attributes":322,"./calc":323,"./cross_trace_calc":324,"./defaults":325,"./event_data":326,"./hover":327,"./layout_attributes":329,"./layout_defaults":330,"./plot":331,"./select":332,"./style":333}],329:[function(e,t,n){"use strict";t.exports={boxmode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},boxgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"},boxgroupgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"}}},{}],330:[function(e,t,n){"use strict";var r=e("../../registry"),i=e("../../lib"),o=e("./layout_attributes");function a(e,t,n,i,o){for(var a=o+"Layout",s=!1,l=0;l<n.length;l++){var u=n[l];if(r.traceIs(u,a)){s=!0;break}}s&&(i(o+"mode"),i(o+"gap"),i(o+"groupgap"))}t.exports={supplyLayoutDefaults:function(e,t,n){a(0,0,n,(function(n,r){return i.coerce(e,t,o,n,r)}),"box")},_supply:a}},{"../../lib":203,"../../registry":295,"./layout_attributes":329}],331:[function(e,t,n){"use strict";var r=e("d3"),i=e("../../lib"),o=e("../../components/drawing");function a(e,t,n,o){var a,s,l="h"===n.orientation,u=t.val,c=t.pos,f=!!c.rangebreaks,d=o.bPos,p=o.wdPos||0,h=o.bPosPxOffset||0,g=n.whiskerwidth||0,m=n.notched||!1,y=m?1-2*n.notchwidth:1;Array.isArray(o.bdPos)?(a=o.bdPos[0],s=o.bdPos[1]):(a=o.bdPos,s=o.bdPos);var v=e.selectAll("path.box").data("violin"!==n.type||n.box.visible?i.identity:[]);v.enter().append("path").style("vector-effect","non-scaling-stroke").attr("class","box"),v.exit().remove(),v.each((function(e){if(e.empty)return"M0,0Z";var t=c.c2l(e.pos+d,!0),o=c.l2p(t-a)+h,v=c.l2p(t+s)+h,b=f?(o+v)/2:c.l2p(t)+h,x=n.whiskerwidth,_=f?o*x+(1-x)*b:c.l2p(t-p)+h,w=f?v*x+(1-x)*b:c.l2p(t+p)+h,k=c.l2p(t-a*y)+h,T=c.l2p(t+s*y)+h,C=u.c2p(e.q1,!0),O=u.c2p(e.q3,!0),S=i.constrain(u.c2p(e.med,!0),Math.min(C,O)+1,Math.max(C,O)-1),A=void 0===e.lf||!1===n.boxpoints,M=u.c2p(A?e.min:e.lf,!0),E=u.c2p(A?e.max:e.uf,!0),P=u.c2p(e.ln,!0),D=u.c2p(e.un,!0);l?r.select(this).attr("d","M"+S+","+k+"V"+T+"M"+C+","+o+"V"+v+(m?"H"+P+"L"+S+","+T+"L"+D+","+v:"")+"H"+O+"V"+o+(m?"H"+D+"L"+S+","+k+"L"+P+","+o:"")+"ZM"+C+","+b+"H"+M+"M"+O+","+b+"H"+E+(0===g?"":"M"+M+","+_+"V"+w+"M"+E+","+_+"V"+w)):r.select(this).attr("d","M"+k+","+S+"H"+T+"M"+o+","+C+"H"+v+(m?"V"+P+"L"+T+","+S+"L"+v+","+D:"")+"V"+O+"H"+o+(m?"V"+D+"L"+k+","+S+"L"+o+","+P:"")+"ZM"+b+","+C+"V"+M+"M"+b+","+O+"V"+E+(0===g?"":"M"+_+","+M+"H"+w+"M"+_+","+E+"H"+w))}))}function s(e,t,n,r){var a=t.x,s=t.y,l=r.bdPos,u=r.bPos,c=n.boxpoints||n.points;i.seedPseudoRandom();var f=e.selectAll("g.points").data(c?function(e){return e.forEach((function(e){e.t=r,e.trace=n})),e}:[]);f.enter().append("g").attr("class","points"),f.exit().remove();var d=f.selectAll("path").data((function(e){var t,r,o=e.pts2,a=Math.max((e.max-e.min)/10,e.q3-e.q1),s=1e-9*a,f=.01*a,d=[],p=0;if(n.jitter){if(0===a)for(p=1,d=new Array(o.length),t=0;t<o.length;t++)d[t]=1;else for(t=0;t<o.length;t++){var h=Math.max(0,t-5),g=o[h].v,m=Math.min(o.length-1,t+5),y=o[m].v;"all"!==c&&(o[t].v<e.lf?y=Math.min(y,e.lf):g=Math.max(g,e.uf));var v=Math.sqrt(f*(m-h)/(y-g+s))||0;v=i.constrain(Math.abs(v),0,1),d.push(v),p=Math.max(v,p)}r=2*n.jitter/(p||1)}for(t=0;t<o.length;t++){var b=o[t],x=b.v,_=n.jitter?r*d[t]*(i.pseudoRandom()-.5):0,w=e.pos+u+l*(n.pointpos+_);"h"===n.orientation?(b.y=w,b.x=x):(b.x=w,b.y=x),"suspectedoutliers"===c&&x<e.uo&&x>e.lo&&(b.so=!0)}return o}));d.enter().append("path").classed("point",!0),d.exit().remove(),d.call(o.translatePoints,a,s)}function l(e,t,n,o){var a,s,l=t.val,u=t.pos,c=!!u.rangebreaks,f=o.bPos,d=o.bPosPxOffset||0,p=n.boxmean||(n.meanline||{}).visible;Array.isArray(o.bdPos)?(a=o.bdPos[0],s=o.bdPos[1]):(a=o.bdPos,s=o.bdPos);var h=e.selectAll("path.mean").data("box"===n.type&&n.boxmean||"violin"===n.type&&n.box.visible&&n.meanline.visible?i.identity:[]);h.enter().append("path").attr("class","mean").style({fill:"none","vector-effect":"non-scaling-stroke"}),h.exit().remove(),h.each((function(e){var t=u.c2l(e.pos+f,!0),i=u.l2p(t-a)+d,o=u.l2p(t+s)+d,h=c?(i+o)/2:u.l2p(t)+d,g=l.c2p(e.mean,!0),m=l.c2p(e.mean-e.sd,!0),y=l.c2p(e.mean+e.sd,!0);"h"===n.orientation?r.select(this).attr("d","M"+g+","+i+"V"+o+("sd"===p?"m0,0L"+m+","+h+"L"+g+","+i+"L"+y+","+h+"Z":"")):r.select(this).attr("d","M"+i+","+g+"H"+o+("sd"===p?"m0,0L"+h+","+m+"L"+i+","+g+"L"+h+","+y+"Z":""))}))}t.exports={plot:function(e,t,n,o){var u=t.xaxis,c=t.yaxis;i.makeTraceGroups(o,n,"trace boxes").each((function(e){var t,n,i=r.select(this),o=e[0],f=o.t,d=o.trace;f.wdPos=f.bdPos*d.whiskerwidth,!0!==d.visible||f.empty?i.remove():("h"===d.orientation?(t=c,n=u):(t=u,n=c),a(i,{pos:t,val:n},d,f),s(i,{x:u,y:c},d,f),l(i,{pos:t,val:n},d,f))}))},plotBoxAndWhiskers:a,plotPoints:s,plotBoxMean:l}},{"../../components/drawing":97,"../../lib":203,d3:21}],332:[function(e,t,n){"use strict";t.exports=function(e,t){var n,r,i=e.cd,o=e.xaxis,a=e.yaxis,s=[];if(!1===t)for(n=0;n<i.length;n++)for(r=0;r<(i[n].pts||[]).length;r++)i[n].pts[r].selected=0;else for(n=0;n<i.length;n++)for(r=0;r<(i[n].pts||[]).length;r++){var l=i[n].pts[r],u=o.c2p(l.x),c=a.c2p(l.y);t.contains([u,c],null,l.i,e)?(s.push({pointNumber:l.i,x:o.c2d(l.x),y:a.c2d(l.y)}),l.selected=1):l.selected=0}return s}},{}],333:[function(e,t,n){"use strict";var r=e("d3"),i=e("../../components/color"),o=e("../../components/drawing");t.exports={style:function(e,t,n){var a=n||r.select(e).selectAll("g.trace.boxes");a.style("opacity",(function(e){return e[0].trace.opacity})),a.each((function(t){var n=r.select(this),a=t[0].trace,s=a.line.width;function l(e,t,n,r){e.style("stroke-width",t+"px").call(i.stroke,n).call(i.fill,r)}var u=n.selectAll("path.box");if("candlestick"===a.type)u.each((function(e){if(!e.empty){var t=r.select(this),n=a[e.dir];l(t,n.line.width,n.line.color,n.fillcolor),t.style("opacity",a.selectedpoints&&!e.selected?.3:1)}}));else{l(u,s,a.line.color,a.fillcolor),n.selectAll("path.mean").style({"stroke-width":s,"stroke-dasharray":2*s+"px,"+s+"px"}).call(i.stroke,a.line.color);var c=n.selectAll("path.point");o.pointStyle(c,a,e)}}))},styleOnSelect:function(e,t,n){var r=t[0].trace,i=n.selectAll("path.point");r.selectedpoints?o.selectedPointStyle(i,r):o.pointStyle(i,r,e)}}},{"../../components/color":75,"../../components/drawing":97,d3:21}],334:[function(e,t,n){"use strict";var r=e("../heatmap/attributes"),i=e("../scatter/attributes"),o=e("../../components/colorscale/attributes"),a=e("../../components/drawing/attributes").dash,s=e("../../plots/font_attributes"),l=e("../../lib/extend").extendFlat,u=e("../../constants/filter_ops"),c=u.COMPARISON_OPS2,f=u.INTERVAL_OPS,d=(e("../../constants/docs").FORMAT_LINK,i.line);t.exports=l({z:r.z,x:r.x,x0:r.x0,dx:r.dx,y:r.y,y0:r.y0,dy:r.dy,xperiod:r.xperiod,yperiod:r.yperiod,xperiod0:i.xperiod0,yperiod0:i.yperiod0,xperiodalignment:r.xperiodalignment,yperiodalignment:r.yperiodalignment,text:r.text,hovertext:r.hovertext,transpose:r.transpose,xtype:r.xtype,ytype:r.ytype,zhoverformat:r.zhoverformat,hovertemplate:r.hovertemplate,hoverongaps:r.hoverongaps,connectgaps:l({},r.connectgaps,{}),fillcolor:{valType:"color",editType:"calc"},autocontour:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"contours.start":void 0,"contours.end":void 0,"contours.size":void 0}},ncontours:{valType:"integer",dflt:15,min:1,editType:"calc"},contours:{type:{valType:"enumerated",values:["levels","constraint"],dflt:"levels",editType:"calc"},start:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},end:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},size:{valType:"number",dflt:null,min:0,editType:"plot",impliedEdits:{"^autocontour":!1}},coloring:{valType:"enumerated",values:["fill","heatmap","lines","none"],dflt:"fill",editType:"calc"},showlines:{valType:"boolean",dflt:!0,editType:"plot"},showlabels:{valType:"boolean",dflt:!1,editType:"plot"},labelfont:s({editType:"plot",colorEditType:"style"}),labelformat:{valType:"string",dflt:"",editType:"plot"},operation:{valType:"enumerated",values:[].concat(c).concat(f),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},editType:"calc",impliedEdits:{autocontour:!1}},line:{color:l({},d.color,{editType:"style+colorbars"}),width:{valType:"number",min:0,editType:"style+colorbars"},dash:a,smoothing:l({},d.smoothing,{}),editType:"plot"}},o("",{cLetter:"z",autoColorDflt:!1,editTypeOverride:"calc"}))},{"../../components/colorscale/attributes":82,"../../components/drawing/attributes":96,"../../constants/docs":179,"../../constants/filter_ops":180,"../../lib/extend":197,"../../plots/font_attributes":276,"../heatmap/attributes":356,"../scatter/attributes":416}],335:[function(e,t,n){"use strict";var r=e("../../components/colorscale"),i=e("../heatmap/calc"),o=e("./set_contours"),a=e("./end_plus");t.exports=function(e,t){var n=i(e,t),s=n[0].z;o(t,s);var l,u=t.contours,c=r.extractOpts(t);if("heatmap"===u.coloring&&c.auto&&!1===t.autocontour){var f=u.start,d=a(u),p=u.size||1,h=Math.floor((d-f)/p)+1;isFinite(p)||(p=1,h=1);var g=f-p/2;l=[g,g+h*p]}else l=s;return r.calc(e,t,{vals:l,cLetter:"z"}),n}},{"../../components/colorscale":87,"../heatmap/calc":357,"./end_plus":345,"./set_contours":353}],336:[function(e,t,n){"use strict";t.exports=function(e,t){var n,r=e[0],i=r.z;switch(t.type){case"levels":var o=Math.min(i[0][0],i[0][1]);for(n=0;n<e.length;n++){var a=e[n];a.prefixBoundary=!a.edgepaths.length&&(o>a.level||a.starts.length&&o===a.level)}break;case"constraint":if(r.prefixBoundary=!1,r.edgepaths.length)return;var s=r.x.length,l=r.y.length,u=-1/0,c=1/0;for(n=0;n<l;n++)c=Math.min(c,i[n][0]),c=Math.min(c,i[n][s-1]),u=Math.max(u,i[n][0]),u=Math.max(u,i[n][s-1]);for(n=1;n<s-1;n++)c=Math.min(c,i[0][n]),c=Math.min(c,i[l-1][n]),u=Math.max(u,i[0][n]),u=Math.max(u,i[l-1][n]);var f,d,p=t.value;switch(t._operation){case">":p>u&&(r.prefixBoundary=!0);break;case"<":(p<c||r.starts.length&&p===c)&&(r.prefixBoundary=!0);break;case"[]":f=Math.min(p[0],p[1]),((d=Math.max(p[0],p[1]))<c||f>u||r.starts.length&&d===c)&&(r.prefixBoundary=!0);break;case"][":f=Math.min(p[0],p[1]),d=Math.max(p[0],p[1]),f<c&&d>u&&(r.prefixBoundary=!0)}}}},{}],337:[function(e,t,n){"use strict";var r=e("../../components/colorscale"),i=e("./make_color_map"),o=e("./end_plus");t.exports={min:"zmin",max:"zmax",calc:function(e,t,n){var a=t.contours,s=t.line,l=a.size||1,u=a.coloring,c=i(t,{isColorbar:!0});if("heatmap"===u){var f=r.extractOpts(t);n._fillgradient=f.reversescale?r.flipScale(f.colorscale):f.colorscale,n._zrange=[f.min,f.max]}else"fill"===u&&(n._fillcolor=c);n._line={color:"lines"===u?c:s.color,width:!1!==a.showlines?s.width:0,dash:s.dash},n._levels={start:a.start,end:o(a),size:l}}}},{"../../components/colorscale":87,"./end_plus":345,"./make_color_map":350}],338:[function(e,t,n){"use strict";t.exports={BOTTOMSTART:[1,9,13,104,713],TOPSTART:[4,6,7,104,713],LEFTSTART:[8,12,14,208,1114],RIGHTSTART:[2,3,11,208,1114],NEWDELTA:[null,[-1,0],[0,-1],[-1,0],[1,0],null,[0,-1],[-1,0],[0,1],[0,1],null,[0,1],[1,0],[1,0],[0,-1]],CHOOSESADDLE:{104:[4,1],208:[2,8],713:[7,13],1114:[11,14]},SADDLEREMAINDER:{1:4,2:8,4:1,7:13,8:2,11:14,13:7,14:11},LABELDISTANCE:2,LABELINCREASE:10,LABELMIN:3,LABELMAX:10,LABELOPTIMIZER:{EDGECOST:1,ANGLECOST:1,NEIGHBORCOST:5,SAMELEVELFACTOR:10,SAMELEVELDISTANCE:5,MAXCOST:100,INITIALSEARCHPOINTS:10,ITERATIONS:5}}},{}],339:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("./label_defaults"),o=e("../../components/color"),a=o.addOpacity,s=o.opacity,l=e("../../constants/filter_ops"),u=l.CONSTRAINT_REDUCTION,c=l.COMPARISON_OPS2;t.exports=function(e,t,n,o,l,f){var d,p,h,g=t.contours,m=n("contours.operation");g._operation=u[m],function(e,t){var n;-1===c.indexOf(t.operation)?(e("contours.value",[0,1]),Array.isArray(t.value)?t.value.length>2?t.value=t.value.slice(2):0===t.length?t.value=[0,1]:t.length<2?(n=parseFloat(t.value[0]),t.value=[n,n+1]):t.value=[parseFloat(t.value[0]),parseFloat(t.value[1])]:r(t.value)&&(n=parseFloat(t.value),t.value=[n,n+1])):(e("contours.value",0),r(t.value)||(Array.isArray(t.value)?t.value=parseFloat(t.value[0]):t.value=0))}(n,g),"="===m?d=g.showlines=!0:(d=n("contours.showlines"),h=n("fillcolor",a((e.line||{}).color||l,.5))),d&&(p=n("line.color",h&&s(h)?a(t.fillcolor,1):l),n("line.width",2),n("line.dash")),n("line.smoothing"),i(n,o,p,f)}},{"../../components/color":75,"../../constants/filter_ops":180,"./label_defaults":349,"fast-isnumeric":23}],340:[function(e,t,n){"use strict";var r=e("../../constants/filter_ops"),i=e("fast-isnumeric");function o(e,t){var n,o=Array.isArray(t);function a(e){return i(e)?+e:null}return-1!==r.COMPARISON_OPS2.indexOf(e)?n=a(o?t[0]:t):-1!==r.INTERVAL_OPS.indexOf(e)?n=o?[a(t[0]),a(t[1])]:[a(t),a(t)]:-1!==r.SET_OPS.indexOf(e)&&(n=o?t.map(a):[a(t)]),n}function a(e){return function(t){t=o(e,t);var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]);return{start:n,end:r,size:r-n}}}function s(e){return function(t){return{start:t=o(e,t),end:1/0,size:1/0}}}t.exports={"[]":a("[]"),"][":a("]["),">":s(">"),"<":s("<"),"=":s("=")}},{"../../constants/filter_ops":180,"fast-isnumeric":23}],341:[function(e,t,n){"use strict";t.exports=function(e,t,n,r){var i=r("contours.start"),o=r("contours.end"),a=!1===i||!1===o,s=n("contours.size");!(a?t.autocontour=!0:n("autocontour",!1))&&s||n("ncontours")}},{}],342:[function(e,t,n){"use strict";var r=e("../../lib");function i(e){return r.extendFlat({},e,{edgepaths:r.extendDeep([],e.edgepaths),paths:r.extendDeep([],e.paths),starts:r.extendDeep([],e.starts)})}t.exports=function(e,t){var n,o,a,s=function(e){return e.reverse()},l=function(e){return e};switch(t){case"=":case"<":return e;case">":for(1!==e.length&&r.warn("Contour data invalid for the specified inequality operation."),o=e[0],n=0;n<o.edgepaths.length;n++)o.edgepaths[n]=s(o.edgepaths[n]);for(n=0;n<o.paths.length;n++)o.paths[n]=s(o.paths[n]);for(n=0;n<o.starts.length;n++)o.starts[n]=s(o.starts[n]);return e;case"][":var u=s;s=l,l=u;case"[]":for(2!==e.length&&r.warn("Contour data invalid for the specified inequality range operation."),o=i(e[0]),a=i(e[1]),n=0;n<o.edgepaths.length;n++)o.edgepaths[n]=s(o.edgepaths[n]);for(n=0;n<o.paths.length;n++)o.paths[n]=s(o.paths[n]);for(n=0;n<o.starts.length;n++)o.starts[n]=s(o.starts[n]);for(;a.edgepaths.length;)o.edgepaths.push(l(a.edgepaths.shift()));for(;a.paths.length;)o.paths.push(l(a.paths.shift()));for(;a.starts.length;)o.starts.push(l(a.starts.shift()));return[o]}}},{"../../lib":203}],343:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../heatmap/xyz_defaults"),o=e("../scatter/period_defaults"),a=e("./constraint_defaults"),s=e("./contours_defaults"),l=e("./style_defaults"),u=e("./attributes");t.exports=function(e,t,n,c){function f(n,i){return r.coerce(e,t,u,n,i)}if(i(e,t,f,c)){o(e,t,c,f),f("text"),f("hovertext"),f("hovertemplate"),f("hoverongaps");var d="constraint"===f("contours.type");f("connectgaps",r.isArray1D(t.z)),d?a(e,t,f,c,n):(s(e,t,f,(function(n){return r.coerce2(e,t,u,n)})),l(e,t,f,c))}else t.visible=!1}},{"../../lib":203,"../heatmap/xyz_defaults":370,"../scatter/period_defaults":436,"./attributes":334,"./constraint_defaults":339,"./contours_defaults":341,"./style_defaults":355}],344:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("./constraint_mapping"),o=e("./end_plus");t.exports=function(e,t,n){for(var a="constraint"===e.type?i[e._operation](e.value):e,s=a.size,l=[],u=o(a),c=n.trace._carpetTrace,f=c?{xaxis:c.aaxis,yaxis:c.baxis,x:n.a,y:n.b}:{xaxis:t.xaxis,yaxis:t.yaxis,x:n.x,y:n.y},d=a.start;d<u;d+=s)if(l.push(r.extendFlat({level:d,crossings:{},starts:[],edgepaths:[],paths:[],z:n.z,smoothing:n.trace.line.smoothing},f)),l.length>1e3){r.warn("Too many contours, clipping at 1000",e);break}return l}},{"../../lib":203,"./constraint_mapping":340,"./end_plus":345}],345:[function(e,t,n){"use strict";t.exports=function(e){return e.end+e.size/1e6}},{}],346:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("./constants");function o(e,t,n,r){return Math.abs(e[0]-t[0])<n&&Math.abs(e[1]-t[1])<r}function a(e,t,n,a,l){var u,c=t.join(","),f=e.crossings[c],d=function(e,t,n){var r=0,o=0;return e>20&&t?208===e||1114===e?r=0===n[0]?1:-1:o=0===n[1]?1:-1:-1!==i.BOTTOMSTART.indexOf(e)?o=1:-1!==i.LEFTSTART.indexOf(e)?r=1:-1!==i.TOPSTART.indexOf(e)?o=-1:r=-1,[r,o]}(f,n,t),p=[s(e,t,[-d[0],-d[1]])],h=e.z.length,g=e.z[0].length,m=t.slice(),y=d.slice();for(u=0;u<1e4;u++){if(f>20?(f=i.CHOOSESADDLE[f][(d[0]||d[1])<0?0:1],e.crossings[c]=i.SADDLEREMAINDER[f]):delete e.crossings[c],!(d=i.NEWDELTA[f])){r.log("Found bad marching index:",f,t,e.level);break}p.push(s(e,t,d)),t[0]+=d[0],t[1]+=d[1],c=t.join(","),o(p[p.length-1],p[p.length-2],a,l)&&p.pop();var v=d[0]&&(t[0]<0||t[0]>g-2)||d[1]&&(t[1]<0||t[1]>h-2);if(t[0]===m[0]&&t[1]===m[1]&&d[0]===y[0]&&d[1]===y[1]||n&&v)break;f=e.crossings[c]}1e4===u&&r.log("Infinite loop in contour?");var b,x,_,w,k,T,C,O,S,A,M,E,P,D,L,R=o(p[0],p[p.length-1],a,l),I=0,N=.2*e.smoothing,j=[],z=0;for(u=1;u<p.length;u++)I+=(E=p[u],P=p[u-1],D=void 0,L=void 0,D=E[2]-P[2],L=E[3]-P[3],C=Math.sqrt(D*D+L*L)),j.push(C);var q=I/j.length*N;function F(e){return p[e%p.length]}for(u=p.length-2;u>=z;u--)if((b=j[u])<q){for(_=0,x=u-1;x>=z&&b+j[x]<q;x--)b+=j[x];if(R&&u===p.length-2)for(_=0;_<x&&b+j[_]<q;_++)b+=j[_];k=u-x+_+1,T=Math.floor((u+x+_+2)/2),w=R||u!==p.length-2?R||-1!==x?k%2?F(T):[(F(T)[0]+F(T+1)[0])/2,(F(T)[1]+F(T+1)[1])/2]:p[0]:p[p.length-1],p.splice(x+1,u-x+1,w),u=x+1,_&&(z=_),R&&(u===p.length-2?p[_]=p[p.length-1]:0===u&&(p[p.length-1]=p[0]))}for(p.splice(0,z),u=0;u<p.length;u++)p[u].length=2;if(!(p.length<2))if(R)p.pop(),e.paths.push(p);else{n||r.log("Unclosed interior contour?",e.level,m.join(","),p.join("L"));var B=!1;for(O=0;O<e.edgepaths.length;O++)if(A=e.edgepaths[O],!B&&o(A[0],p[p.length-1],a,l)){p.pop(),B=!0;var H=!1;for(S=0;S<e.edgepaths.length;S++)if(o((M=e.edgepaths[S])[M.length-1],p[0],a,l)){H=!0,p.shift(),e.edgepaths.splice(O,1),S===O?e.paths.push(p.concat(M)):(S>O&&S--,e.edgepaths[S]=M.concat(p,A));break}H||(e.edgepaths[O]=p.concat(A))}for(O=0;O<e.edgepaths.length&&!B;O++)o((A=e.edgepaths[O])[A.length-1],p[0],a,l)&&(p.shift(),e.edgepaths[O]=A.concat(p),B=!0);B||e.edgepaths.push(p)}}function s(e,t,n){var r=t[0]+Math.max(n[0],0),i=t[1]+Math.max(n[1],0),o=e.z[i][r],a=e.xaxis,s=e.yaxis;if(n[1]){var l=(e.level-o)/(e.z[i][r+1]-o);return[a.c2p((1-l)*e.x[r]+l*e.x[r+1],!0),s.c2p(e.y[i],!0),r+l,i]}var u=(e.level-o)/(e.z[i+1][r]-o);return[a.c2p(e.x[r],!0),s.c2p((1-u)*e.y[i]+u*e.y[i+1],!0),r,i+u]}t.exports=function(e,t,n){var i,o,s,l;for(t=t||.01,n=n||.01,o=0;o<e.length;o++){for(s=e[o],l=0;l<s.starts.length;l++)a(s,s.starts[l],"edge",t,n);for(i=0;Object.keys(s.crossings).length&&i<1e4;)i++,a(s,Object.keys(s.crossings)[0].split(",").map(Number),void 0,t,n);1e4===i&&r.log("Infinite loop in contour?")}}},{"../../lib":203,"./constants":338}],347:[function(e,t,n){"use strict";var r=e("../../components/color"),i=e("../heatmap/hover");t.exports=function(e,t,n,o,a){var s=i(e,t,n,o,a,!0);return s&&s.forEach((function(e){var t=e.trace;"constraint"===t.contours.type&&(t.fillcolor&&r.opacity(t.fillcolor)?e.color=r.addOpacity(t.fillcolor,1):t.contours.showlines&&r.opacity(t.line.color)&&(e.color=r.addOpacity(t.line.color,1)))})),s}},{"../../components/color":75,"../heatmap/hover":363}],348:[function(e,t,n){"use strict";t.exports={attributes:e("./attributes"),supplyDefaults:e("./defaults"),calc:e("./calc"),plot:e("./plot").plot,style:e("./style"),colorbar:e("./colorbar"),hoverPoints:e("./hover"),moduleType:"trace",name:"contour",basePlotModule:e("../../plots/cartesian"),categories:["cartesian","svg","2dMap","contour","showLegend"],meta:{}}},{"../../plots/cartesian":261,"./attributes":334,"./calc":335,"./colorbar":337,"./defaults":343,"./hover":347,"./plot":352,"./style":354}],349:[function(e,t,n){"use strict";var r=e("../../lib");t.exports=function(e,t,n,i){if(i||(i={}),e("contours.showlabels")){var o=t.font;r.coerceFont(e,"contours.labelfont",{family:o.family,size:o.size,color:n}),e("contours.labelformat")}!1!==i.hasHover&&e("zhoverformat")}},{"../../lib":203}],350:[function(e,t,n){"use strict";var r=e("d3"),i=e("../../components/colorscale"),o=e("./end_plus");t.exports=function(e){var t=e.contours,n=t.start,a=o(t),s=t.size||1,l=Math.floor((a-n)/s)+1,u="lines"===t.coloring?0:1,c=i.extractOpts(e);isFinite(s)||(s=1,l=1);var f,d,p=c.reversescale?i.flipScale(c.colorscale):c.colorscale,h=p.length,g=new Array(h),m=new Array(h);if("heatmap"===t.coloring){var y=c.min,v=c.max;for(d=0;d<h;d++)f=p[d],g[d]=f[0]*(v-y)+y,m[d]=f[1];var b=r.extent([y,v,t.start,t.start+s*(l-1)]),x=b[y<v?0:1],_=b[y<v?1:0];x!==y&&(g.splice(0,0,x),m.splice(0,0,m[0])),_!==v&&(g.push(_),m.push(m[m.length-1]))}else for(d=0;d<h;d++)f=p[d],g[d]=(f[0]*(l+u-1)-u/2)*s+n,m[d]=f[1];return i.makeColorScaleFunc({domain:g,range:m},{noNumericCheck:!0})}},{"../../components/colorscale":87,"./end_plus":345,d3:21}],351:[function(e,t,n){"use strict";var r=e("./constants");function i(e,t){var n=(t[0][0]>e?0:1)+(t[0][1]>e?0:2)+(t[1][1]>e?0:4)+(t[1][0]>e?0:8);return 5===n||10===n?e>(t[0][0]+t[0][1]+t[1][0]+t[1][1])/4?5===n?713:1114:5===n?104:208:15===n?0:n}t.exports=function(e){var t,n,o,a,s,l,u,c,f,d=e[0].z,p=d.length,h=d[0].length,g=2===p||2===h;for(n=0;n<p-1;n++)for(a=[],0===n&&(a=a.concat(r.BOTTOMSTART)),n===p-2&&(a=a.concat(r.TOPSTART)),t=0;t<h-1;t++)for(o=a.slice(),0===t&&(o=o.concat(r.LEFTSTART)),t===h-2&&(o=o.concat(r.RIGHTSTART)),s=t+","+n,l=[[d[n][t],d[n][t+1]],[d[n+1][t],d[n+1][t+1]]],f=0;f<e.length;f++)(u=i((c=e[f]).level,l))&&(c.crossings[s]=u,-1!==o.indexOf(u)&&(c.starts.push([t,n]),g&&-1!==o.indexOf(u,o.indexOf(u)+1)&&c.starts.push([t,n])))}},{"./constants":338}],352:[function(e,t,n){"use strict";var r=e("d3"),i=e("../../lib"),o=e("../../components/drawing"),a=e("../../components/colorscale"),s=e("../../lib/svg_text_utils"),l=e("../../plots/cartesian/axes"),u=e("../../plots/cartesian/set_convert"),c=e("../heatmap/plot"),f=e("./make_crossings"),d=e("./find_all_paths"),p=e("./empty_pathinfo"),h=e("./convert_to_constraints"),g=e("./close_boundaries"),m=e("./constants"),y=m.LABELOPTIMIZER;function v(e,t){var n,r,a,s,l,u,c,f="",d=0,p=e.edgepaths.map((function(e,t){return t})),h=!0;function g(e){return Math.abs(e[1]-t[2][1])<.01}function m(e){return Math.abs(e[0]-t[0][0])<.01}function y(e){return Math.abs(e[0]-t[2][0])<.01}for(;p.length;){for(u=o.smoothopen(e.edgepaths[d],e.smoothing),f+=h?u:u.replace(/^M/,"L"),p.splice(p.indexOf(d),1),n=e.edgepaths[d][e.edgepaths[d].length-1],s=-1,a=0;a<4;a++){if(!n){i.log("Missing end?",d,e);break}for(c=n,Math.abs(c[1]-t[0][1])<.01&&!y(n)?r=t[1]:m(n)?r=t[0]:g(n)?r=t[3]:y(n)&&(r=t[2]),l=0;l<e.edgepaths.length;l++){var v=e.edgepaths[l][0];Math.abs(n[0]-r[0])<.01?Math.abs(n[0]-v[0])<.01&&(v[1]-n[1])*(r[1]-v[1])>=0&&(r=v,s=l):Math.abs(n[1]-r[1])<.01?Math.abs(n[1]-v[1])<.01&&(v[0]-n[0])*(r[0]-v[0])>=0&&(r=v,s=l):i.log("endpt to newendpt is not vert. or horz.",n,r,v)}if(n=r,s>=0)break;f+="L"+r}if(s===e.edgepaths.length){i.log("unclosed perimeter path");break}d=s,(h=-1===p.indexOf(d))&&(d=p[0],f+="Z")}for(d=0;d<e.paths.length;d++)f+=o.smoothclosed(e.paths[d],e.smoothing);return f}function b(e,t,n,r){var o=t.width/2,a=t.height/2,s=e.x,l=e.y,u=e.theta,c=Math.cos(u)*o,f=Math.sin(u)*o,d=(s>r.center?r.right-s:s-r.left)/(c+Math.abs(Math.sin(u)*a)),p=(l>r.middle?r.bottom-l:l-r.top)/(Math.abs(f)+Math.cos(u)*a);if(d<1||p<1)return 1/0;var h=y.EDGECOST*(1/(d-1)+1/(p-1));h+=y.ANGLECOST*u*u;for(var g=s-c,m=l-f,v=s+c,b=l+f,x=0;x<n.length;x++){var _=n[x],w=Math.cos(_.theta)*_.width/2,k=Math.sin(_.theta)*_.width/2,T=2*i.segmentDistance(g,m,v,b,_.x-w,_.y-k,_.x+w,_.y+k)/(t.height+_.height),C=_.level===t.level,O=C?y.SAMELEVELDISTANCE:1;if(T<=O)return 1/0;h+=y.NEIGHBORCOST*(C?y.SAMELEVELFACTOR:1)/(T-O)}return h}function x(e){var t,n,r=e.trace._emptypoints,i=[],o=e.z.length,a=e.z[0].length,s=[];for(t=0;t<a;t++)s.push(1);for(t=0;t<o;t++)i.push(s.slice());for(t=0;t<r.length;t++)i[(n=r[t])[0]][n[1]]=0;return e.zmask=i,i}n.plot=function(e,t,a,s){var l=t.xaxis,u=t.yaxis;i.makeTraceGroups(s,a,"contour").each((function(a){var s=r.select(this),y=a[0],b=y.trace,_=y.x,w=y.y,k=b.contours,T=p(k,t,y),C=i.ensureSingle(s,"g","heatmapcoloring"),O=[];"heatmap"===k.coloring&&(O=[a]),c(e,t,O,C),f(T),d(T);var S=l.c2p(_[0],!0),A=l.c2p(_[_.length-1],!0),M=u.c2p(w[0],!0),E=u.c2p(w[w.length-1],!0),P=[[S,E],[A,E],[A,M],[S,M]],D=T;"constraint"===k.type&&(D=h(T,k._operation)),function(e,t,n){var r=i.ensureSingle(e,"g","contourbg").selectAll("path").data("fill"===n.coloring?[0]:[]);r.enter().append("path"),r.exit().remove(),r.attr("d","M"+t.join("L")+"Z").style("stroke","none")}(s,P,k),function(e,t,n,o){var a="fill"===o.coloring||"constraint"===o.type&&"="!==o._operation,s="M"+n.join("L")+"Z";a&&g(t,o);var l=i.ensureSingle(e,"g","contourfill").selectAll("path").data(a?t:[]);l.enter().append("path"),l.exit().remove(),l.each((function(e){var t=(e.prefixBoundary?s:"")+v(e,n);t?r.select(this).attr("d",t).style("stroke","none"):r.select(this).remove()}))}(s,D,P,k),function(e,t,a,s,l){var u=i.ensureSingle(e,"g","contourlines"),c=!1!==l.showlines,f=l.showlabels,d=c&&f,p=n.createLines(u,c||f,t),h=n.createLineClip(u,d,a,s.trace.uid),g=e.selectAll("g.contourlabels").data(f?[0]:[]);if(g.exit().remove(),g.enter().append("g").classed("contourlabels",!0),f){var y=[],v=[];i.clearLocationCache();var b=n.labelFormatter(a,s),x=o.tester.append("text").attr("data-notex",1).call(o.font,l.labelfont),_=t[0].xaxis,w=t[0].yaxis,k=_._length,T=w._length,C=_.range,O=w.range,S=i.aggNums(Math.min,null,s.x),A=i.aggNums(Math.max,null,s.x),M=i.aggNums(Math.min,null,s.y),E=i.aggNums(Math.max,null,s.y),P=Math.max(_.c2p(S,!0),0),D=Math.min(_.c2p(A,!0),k),L=Math.max(w.c2p(E,!0),0),R=Math.min(w.c2p(M,!0),T),I={};C[0]<C[1]?(I.left=P,I.right=D):(I.left=D,I.right=P),O[0]<O[1]?(I.top=L,I.bottom=R):(I.top=R,I.bottom=L),I.middle=(I.top+I.bottom)/2,I.center=(I.left+I.right)/2,y.push([[I.left,I.top],[I.right,I.top],[I.right,I.bottom],[I.left,I.bottom]]);var N=Math.sqrt(k*k+T*T),j=m.LABELDISTANCE*N/Math.max(1,t.length/m.LABELINCREASE);p.each((function(e){var t=n.calcTextOpts(e.level,b,x,a);r.select(this).selectAll("path").each((function(){var e=i.getVisibleSegment(this,I,t.height/2);if(e&&!(e.len<(t.width+t.height)*m.LABELMIN))for(var r=Math.min(Math.ceil(e.len/j),m.LABELMAX),o=0;o<r;o++){var a=n.findBestTextLocation(this,e,t,v,I);if(!a)break;n.addLabelData(a,t,v,y)}}))})),x.remove(),n.drawLabels(g,v,a,h,d?y:null)}f&&!c&&p.remove()}(s,T,e,y,k),function(e,t,n,r,a){var s=r.trace,l=n._fullLayout._clips,u="clip"+s.uid,c=l.selectAll("#"+u).data(s.connectgaps?[]:[0]);if(c.enter().append("clipPath").classed("contourclip",!0).attr("id",u),c.exit().remove(),!1===s.connectgaps){var p={level:.9,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:t.xaxis,yaxis:t.yaxis,x:r.x,y:r.y,z:x(r),smoothing:0};f([p]),d([p]),g([p],{type:"levels"}),i.ensureSingle(c,"path","").attr("d",(p.prefixBoundary?"M"+a.join("L")+"Z":"")+v(p,a))}else u=null;o.setClipUrl(e,u,n)}(s,t,e,y,P)}))},n.createLines=function(e,t,n){var r=n[0].smoothing,i=e.selectAll("g.contourlevel").data(t?n:[]);if(i.exit().remove(),i.enter().append("g").classed("contourlevel",!0),t){var a=i.selectAll("path.openline").data((function(e){return e.pedgepaths||e.edgepaths}));a.exit().remove(),a.enter().append("path").classed("openline",!0),a.attr("d",(function(e){return o.smoothopen(e,r)})).style("stroke-miterlimit",1).style("vector-effect","non-scaling-stroke");var s=i.selectAll("path.closedline").data((function(e){return e.ppaths||e.paths}));s.exit().remove(),s.enter().append("path").classed("closedline",!0),s.attr("d",(function(e){return o.smoothclosed(e,r)})).style("stroke-miterlimit",1).style("vector-effect","non-scaling-stroke")}return i},n.createLineClip=function(e,t,n,r){var i=t?"clipline"+r:null,a=n._fullLayout._clips.selectAll("#"+i).data(t?[0]:[]);return a.exit().remove(),a.enter().append("clipPath").classed("contourlineclip",!0).attr("id",i),o.setClipUrl(e,i,n),a},n.labelFormatter=function(e,t){var n=e._fullLayout,r=t.trace,i=r.contours,o={type:"linear",_id:"ycontour",showexponent:"all",exponentformat:"B"};if(i.labelformat)o.tickformat=i.labelformat,u(o,n);else{var s=a.extractOpts(r);if(s&&s.colorbar&&s.colorbar._axis)o=s.colorbar._axis;else{if("constraint"===i.type){var c=i.value;Array.isArray(c)?o.range=[c[0],c[c.length-1]]:o.range=[c,c]}else o.range=[i.start,i.end],o.nticks=(i.end-i.start)/i.size;o.range[0]===o.range[1]&&(o.range[1]+=o.range[0]||1),o.nticks||(o.nticks=1e3),u(o,n),l.prepTicks(o),o._tmin=null,o._tmax=null}}return function(e){return l.tickText(o,e).text}},n.calcTextOpts=function(e,t,n,r){var i=t(e);n.text(i).call(s.convertToTspans,r);var a=n.node(),l=o.bBox(a,!0);return{text:i,width:l.width,height:l.height,fontSize:+a.style["font-size"].replace("px",""),level:e,dy:(l.top+l.bottom)/2}},n.findBestTextLocation=function(e,t,n,r,o){var a,s,l,u,c,f=n.width;t.isClosed?(s=t.len/y.INITIALSEARCHPOINTS,a=t.min+s/2,l=t.max):(s=(t.len-f)/(y.INITIALSEARCHPOINTS+1),a=t.min+s+f/2,l=t.max-(s+f)/2);for(var d=1/0,p=0;p<y.ITERATIONS;p++){for(var h=a;h<l;h+=s){var g=i.getTextLocation(e,t.total,h,f),m=b(g,n,r,o);m<d&&(d=m,c=g,u=h)}if(d>2*y.MAXCOST)break;p&&(s/=2),l=(a=u-s/2)+1.5*s}if(d<=y.MAXCOST)return c},n.addLabelData=function(e,t,n,r){var i=t.fontSize,o=t.width+i/3,a=Math.max(0,t.height-i/3),s=e.x,l=e.y,u=e.theta,c=Math.sin(u),f=Math.cos(u),d=function(e,t){return[s+e*f-t*c,l+e*c+t*f]},p=[d(-o/2,-a/2),d(-o/2,a/2),d(o/2,a/2),d(o/2,-a/2)];n.push({text:t.text,x:s,y:l,dy:t.dy,theta:u,level:t.level,width:o,height:a}),r.push(p)},n.drawLabels=function(e,t,n,o,a){var l=e.selectAll("text").data(t,(function(e){return e.text+","+e.x+","+e.y+","+e.theta}));if(l.exit().remove(),l.enter().append("text").attr({"data-notex":1,"text-anchor":"middle"}).each((function(e){var t=e.x+Math.sin(e.theta)*e.dy,i=e.y-Math.cos(e.theta)*e.dy;r.select(this).text(e.text).attr({x:t,y:i,transform:"rotate("+180*e.theta/Math.PI+" "+t+" "+i+")"}).call(s.convertToTspans,n)})),a){for(var u="",c=0;c<a.length;c++)u+="M"+a[c].join("L")+"Z";i.ensureSingle(o,"path","").attr("d",u)}}},{"../../components/colorscale":87,"../../components/drawing":97,"../../lib":203,"../../lib/svg_text_utils":224,"../../plots/cartesian/axes":248,"../../plots/cartesian/set_convert":268,"../heatmap/plot":367,"./close_boundaries":336,"./constants":338,"./convert_to_constraints":342,"./empty_pathinfo":344,"./find_all_paths":346,"./make_crossings":351,d3:21}],353:[function(e,t,n){"use strict";var r=e("../../plots/cartesian/axes"),i=e("../../lib");function o(e,t,n){var i={type:"linear",range:[e,t]};return r.autoTicks(i,(t-e)/(n||15)),i}t.exports=function(e,t){var n=e.contours;if(e.autocontour){var a=e.zmin,s=e.zmax;(e.zauto||void 0===a)&&(a=i.aggNums(Math.min,null,t)),(e.zauto||void 0===s)&&(s=i.aggNums(Math.max,null,t));var l=o(a,s,e.ncontours);n.size=l.dtick,n.start=r.tickFirst(l),l.range.reverse(),n.end=r.tickFirst(l),n.start===a&&(n.start+=n.size),n.end===s&&(n.end-=n.size),n.start>n.end&&(n.start=n.end=(n.start+n.end)/2),e._input.contours||(e._input.contours={}),i.extendFlat(e._input.contours,{start:n.start,end:n.end,size:n.size}),e._input.autocontour=!0}else if("constraint"!==n.type){var u,c=n.start,f=n.end,d=e._input.contours;c>f&&(n.start=d.start=f,f=n.end=d.end=c,c=n.start),n.size>0||(u=c===f?1:o(c,f,e.ncontours).dtick,d.size=n.size=u)}}},{"../../lib":203,"../../plots/cartesian/axes":248}],354:[function(e,t,n){"use strict";var r=e("d3"),i=e("../../components/drawing"),o=e("../heatmap/style"),a=e("./make_color_map");t.exports=function(e){var t=r.select(e).selectAll("g.contour");t.style("opacity",(function(e){return e[0].trace.opacity})),t.each((function(e){var t=r.select(this),n=e[0].trace,o=n.contours,s=n.line,l=o.size||1,u=o.start,c="constraint"===o.type,f=!c&&"lines"===o.coloring,d=!c&&"fill"===o.coloring,p=f||d?a(n):null;t.selectAll("g.contourlevel").each((function(e){r.select(this).selectAll("path").call(i.lineGroupStyle,s.width,f?p(e.level):s.color,s.dash)}));var h=o.labelfont;if(t.selectAll("g.contourlabels text").each((function(e){i.font(r.select(this),{family:h.family,size:h.size,color:h.color||(f?p(e.level):s.color)})})),c)t.selectAll("g.contourfill path").style("fill",n.fillcolor);else if(d){var g;t.selectAll("g.contourfill path").style("fill",(function(e){return void 0===g&&(g=e.level),p(e.level+.5*l)})),void 0===g&&(g=u),t.selectAll("g.contourbg path").style("fill",p(g-.5*l))}})),o(e)}},{"../../components/drawing":97,"../heatmap/style":368,"./make_color_map":350,d3:21}],355:[function(e,t,n){"use strict";var r=e("../../components/colorscale/defaults"),i=e("./label_defaults");t.exports=function(e,t,n,o,a){var s,l=n("contours.coloring"),u="";"fill"===l&&(s=n("contours.showlines")),!1!==s&&("lines"!==l&&(u=n("line.color","#000")),n("line.width",.5),n("line.dash")),"none"!==l&&(!0!==e.showlegend&&(t.showlegend=!1),t._dfltShowLegend=!1,r(e,t,o,n,{prefix:"",cLetter:"z"})),n("line.smoothing"),i(n,o,u,a)}},{"../../components/colorscale/defaults":85,"./label_defaults":349}],356:[function(e,t,n){"use strict";var r=e("../scatter/attributes"),i=e("../../plots/attributes"),o=e("../../plots/template_attributes").hovertemplateAttrs,a=e("../../components/colorscale/attributes"),s=(e("../../constants/docs").FORMAT_LINK,e("../../lib/extend").extendFlat);t.exports=s({z:{valType:"data_array",editType:"calc"},x:s({},r.x,{impliedEdits:{xtype:"array"}}),x0:s({},r.x0,{impliedEdits:{xtype:"scaled"}}),dx:s({},r.dx,{impliedEdits:{xtype:"scaled"}}),y:s({},r.y,{impliedEdits:{ytype:"array"}}),y0:s({},r.y0,{impliedEdits:{ytype:"scaled"}}),dy:s({},r.dy,{impliedEdits:{ytype:"scaled"}}),xperiod:s({},r.xperiod,{impliedEdits:{xtype:"scaled"}}),yperiod:s({},r.yperiod,{impliedEdits:{ytype:"scaled"}}),xperiod0:s({},r.xperiod0,{impliedEdits:{xtype:"scaled"}}),yperiod0:s({},r.yperiod0,{impliedEdits:{ytype:"scaled"}}),xperiodalignment:s({},r.xperiodalignment,{impliedEdits:{xtype:"scaled"}}),yperiodalignment:s({},r.yperiodalignment,{impliedEdits:{ytype:"scaled"}}),text:{valType:"data_array",editType:"calc"},hovertext:{valType:"data_array",editType:"calc"},transpose:{valType:"boolean",dflt:!1,editType:"calc"},xtype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},ytype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1,editType:"calc"},hoverongaps:{valType:"boolean",dflt:!0,editType:"none"},connectgaps:{valType:"boolean",editType:"calc"},xgap:{valType:"number",dflt:0,min:0,editType:"plot"},ygap:{valType:"number",dflt:0,min:0,editType:"plot"},zhoverformat:{valType:"string",dflt:"",editType:"none"},hovertemplate:o(),showlegend:s({},i.showlegend,{dflt:!1})},{transforms:void 0},a("",{cLetter:"z",autoColorDflt:!1}))},{"../../components/colorscale/attributes":82,"../../constants/docs":179,"../../lib/extend":197,"../../plots/attributes":244,"../../plots/template_attributes":290,"../scatter/attributes":416}],357:[function(e,t,n){"use strict";var r=e("../../registry"),i=e("../../lib"),o=e("../../plots/cartesian/axes"),a=e("../../plots/cartesian/align_period"),s=e("../histogram2d/calc"),l=e("../../components/colorscale/calc"),u=e("./convert_column_xyz"),c=e("./clean_2d_array"),f=e("./interp2d"),d=e("./find_empties"),p=e("./make_bound_array"),h=e("../../constants/numerical").BADNUM;function g(e){for(var t=[],n=e.length,r=0;r<n;r++){var i=e[r];i!==h&&t.push(i)}return t}t.exports=function(e,t){var n,m,y,v,b,x,_,w,k,T,C,O=o.getFromId(e,t.xaxis||"x"),S=o.getFromId(e,t.yaxis||"y"),A=r.traceIs(t,"contour"),M=r.traceIs(t,"histogram"),E=r.traceIs(t,"gl2d"),P=A?"best":t.zsmooth;if(O._minDtick=0,S._minDtick=0,M)v=(C=s(e,t)).orig_x,n=C.x,m=C.x0,y=C.dx,w=C.orig_y,b=C.y,x=C.y0,_=C.dy,k=C.z;else{var D=t.z;i.isArray1D(D)?(u(t,O,S,"x","y",["z"]),n=t._x,b=t._y,D=t._z):(v=t.x?O.makeCalcdata(t,"x"):[],w=t.y?S.makeCalcdata(t,"y"):[],n=a(t,O,"x",v),b=a(t,S,"y",w),t._x=n,t._y=b),m=t.x0,y=t.dx,x=t.y0,_=t.dy,k=c(D,t,O,S)}function L(e){P=t._input.zsmooth=t.zsmooth=!1,i.warn('cannot use zsmooth: "fast": '+e)}if((O.rangebreaks||S.rangebreaks)&&(k=function(e,t,n){for(var r=[],i=-1,o=0;o<n.length;o++)if(t[o]!==h){r[++i]=[];for(var a=0;a<n[o].length;a++)e[a]!==h&&r[i].push(n[o][a])}return r}(n,b,k),M||(n=g(n),b=g(b),t._x=n,t._y=b)),M||!A&&!t.connectgaps||(t._emptypoints=d(k),f(k,t._emptypoints)),"fast"===P)if("log"===O.type||"log"===S.type)L("log axis found");else if(!M){if(n.length){var R=(n[n.length-1]-n[0])/(n.length-1),I=Math.abs(R/100);for(T=0;T<n.length-1;T++)if(Math.abs(n[T+1]-n[T]-R)>I){L("x scale is not linear");break}}if(b.length&&"fast"===P){var N=(b[b.length-1]-b[0])/(b.length-1),j=Math.abs(N/100);for(T=0;T<b.length-1;T++)if(Math.abs(b[T+1]-b[T]-N)>j){L("y scale is not linear");break}}}var z=i.maxRowLength(k),q="scaled"===t.xtype?"":n,F=p(t,q,m,y,z,O),B="scaled"===t.ytype?"":b,H=p(t,B,x,_,k.length,S);E||(t._extremes[O._id]=o.findExtremes(O,F),t._extremes[S._id]=o.findExtremes(S,H));var U={x:F,y:H,z:k,text:t._text||t.text,hovertext:t._hovertext||t.hovertext};if(t.xperiodalignment&&v&&(U.orig_x=v),t.yperiodalignment&&w&&(U.orig_y=w),q&&q.length===F.length-1&&(U.xCenter=q),B&&B.length===H.length-1&&(U.yCenter=B),M&&(U.xRanges=C.xRanges,U.yRanges=C.yRanges,U.pts=C.pts),A||l(e,t,{vals:k,cLetter:"z"}),A&&t.contours&&"heatmap"===t.contours.coloring){var V={type:"contour"===t.type?"heatmap":"histogram2d",xcalendar:t.xcalendar,ycalendar:t.ycalendar};U.xfill=p(V,q,m,y,z,O),U.yfill=p(V,B,x,_,k.length,S)}return[U]}},{"../../components/colorscale/calc":83,"../../constants/numerical":182,"../../lib":203,"../../plots/cartesian/align_period":245,"../../plots/cartesian/axes":248,"../../registry":295,"../histogram2d/calc":385,"./clean_2d_array":358,"./convert_column_xyz":360,"./find_empties":362,"./interp2d":365,"./make_bound_array":366}],358:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../../lib"),o=e("../../constants/numerical").BADNUM;t.exports=function(e,t,n,a){var s,l,u,c,f,d;function p(e){if(r(e))return+e}if(t&&t.transpose){for(s=0,f=0;f<e.length;f++)s=Math.max(s,e[f].length);if(0===s)return!1;u=function(e){return e.length},c=function(e,t,n){return(e[n]||[])[t]}}else s=e.length,u=function(e,t){return e[t].length},c=function(e,t,n){return(e[t]||[])[n]};var h=function(e,t,n){return t===o||n===o?o:c(e,t,n)};function g(e){if(t&&"carpet"!==t.type&&"contourcarpet"!==t.type&&e&&"category"===e.type&&t["_"+e._id.charAt(0)].length){var n=e._id.charAt(0),r={},a=t["_"+n+"CategoryMap"]||t[n];for(f=0;f<a.length;f++)r[a[f]]=f;return function(t){var n=r[e._categories[t]];return n+1?n:o}}return i.identity}var m=g(n),y=g(a);a&&"category"===a.type&&(s=a._categories.length);var v=new Array(s);for(f=0;f<s;f++)for(l=n&&"category"===n.type?n._categories.length:u(e,f),v[f]=new Array(l),d=0;d<l;d++)v[f][d]=p(h(e,y(f),m(d)));return v}},{"../../constants/numerical":182,"../../lib":203,"fast-isnumeric":23}],359:[function(e,t,n){"use strict";t.exports={min:"zmin",max:"zmax"}},{}],360:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../constants/numerical").BADNUM,o=e("../../plots/cartesian/align_period");t.exports=function(e,t,n,a,s,l){var u=e._length,c=t.makeCalcdata(e,a),f=n.makeCalcdata(e,s);c=o(e,t,a,c),f=o(e,n,s,f);var d,p,h,g,m=e.text,y=void 0!==m&&r.isArray1D(m),v=e.hovertext,b=void 0!==v&&r.isArray1D(v),x=r.distinctVals(c),_=x.vals,w=r.distinctVals(f),k=w.vals,T=[],C=k.length,O=_.length;for(d=0;d<l.length;d++)T[d]=r.init2dArray(C,O);y&&(h=r.init2dArray(C,O)),b&&(g=r.init2dArray(C,O));var S=r.init2dArray(C,O);for(d=0;d<u;d++)if(c[d]!==i&&f[d]!==i){var A=r.findBin(c[d]+x.minDiff/2,_),M=r.findBin(f[d]+w.minDiff/2,k);for(p=0;p<l.length;p++){var E=e[l[p]];T[p][M][A]=E[d],S[M][A]=d}y&&(h[M][A]=m[d]),b&&(g[M][A]=v[d])}for(e["_"+a]=_,e["_"+s]=k,p=0;p<l.length;p++)e["_"+l[p]]=T[p];y&&(e._text=h),b&&(e._hovertext=g),t&&"category"===t.type&&(e["_"+a+"CategoryMap"]=_.map((function(e){return t._categories[e]}))),n&&"category"===n.type&&(e["_"+s+"CategoryMap"]=k.map((function(e){return n._categories[e]}))),e._after2before=S}},{"../../constants/numerical":182,"../../lib":203,"../../plots/cartesian/align_period":245}],361:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("./xyz_defaults"),o=e("../scatter/period_defaults"),a=e("./style_defaults"),s=e("../../components/colorscale/defaults"),l=e("./attributes");t.exports=function(e,t,n,u){function c(n,i){return r.coerce(e,t,l,n,i)}i(e,t,c,u)?(o(e,t,u,c),c("text"),c("hovertext"),c("hovertemplate"),a(e,t,c,u),c("hoverongaps"),c("connectgaps",r.isArray1D(t.z)&&!1!==t.zsmooth),s(e,t,u,c,{prefix:"",cLetter:"z"})):t.visible=!1}},{"../../components/colorscale/defaults":85,"../../lib":203,"../scatter/period_defaults":436,"./attributes":356,"./style_defaults":369,"./xyz_defaults":370}],362:[function(e,t,n){"use strict";var r=e("../../lib").maxRowLength;t.exports=function(e){var t,n,i,o,a,s,l,u,c=[],f={},d=[],p=e[0],h=[],g=[0,0,0],m=r(e);for(n=0;n<e.length;n++)for(t=h,h=p,p=e[n+1]||[],i=0;i<m;i++)void 0===h[i]&&((s=(void 0!==h[i-1]?1:0)+(void 0!==h[i+1]?1:0)+(void 0!==t[i]?1:0)+(void 0!==p[i]?1:0))?(0===n&&s++,0===i&&s++,n===e.length-1&&s++,i===h.length-1&&s++,s<4&&(f[[n,i]]=[n,i,s]),c.push([n,i,s])):d.push([n,i]));for(;d.length;){for(l={},u=!1,a=d.length-1;a>=0;a--)(s=((f[[(n=(o=d[a])[0])-1,i=o[1]]]||g)[2]+(f[[n+1,i]]||g)[2]+(f[[n,i-1]]||g)[2]+(f[[n,i+1]]||g)[2])/20)&&(l[o]=[n,i,s],d.splice(a,1),u=!0);if(!u)throw"findEmpties iterated with no new neighbors";for(o in l)f[o]=l[o],c.push(l[o])}return c.sort((function(e,t){return t[2]-e[2]}))}},{"../../lib":203}],363:[function(e,t,n){"use strict";var r=e("../../components/fx"),i=e("../../lib"),o=e("../../plots/cartesian/axes"),a=e("../../components/colorscale").extractOpts;t.exports=function(e,t,n,s,l,u){var c,f,d,p,h=e.cd[0],g=h.trace,m=e.xa,y=e.ya,v=h.x,b=h.y,x=h.z,_=h.xCenter,w=h.yCenter,k=h.zmask,T=g.zhoverformat,C=v,O=b;if(!1!==e.index){try{d=Math.round(e.index[1]),p=Math.round(e.index[0])}catch(t){return void i.error("Error hovering on heatmap, pointNumber must be [row,col], found:",e.index)}if(d<0||d>=x[0].length||p<0||p>x.length)return}else{if(r.inbox(t-v[0],t-v[v.length-1],0)>0||r.inbox(n-b[0],n-b[b.length-1],0)>0)return;if(u){var S;for(C=[2*v[0]-v[1]],S=1;S<v.length;S++)C.push((v[S]+v[S-1])/2);for(C.push([2*v[v.length-1]-v[v.length-2]]),O=[2*b[0]-b[1]],S=1;S<b.length;S++)O.push((b[S]+b[S-1])/2);O.push([2*b[b.length-1]-b[b.length-2]])}d=Math.max(0,Math.min(C.length-2,i.findBin(t,C))),p=Math.max(0,Math.min(O.length-2,i.findBin(n,O)))}var A,M,E=m.c2p(v[d]),P=m.c2p(v[d+1]),D=y.c2p(b[p]),L=y.c2p(b[p+1]);u?(A=h.orig_x||v,M=h.orig_y||b,P=E,c=A[d],L=D,f=M[p]):(A=h.orig_x||_||v,M=h.orig_y||w||b,c=_?A[d]:(A[d]+A[d+1])/2,f=w?M[p]:(M[p]+M[p+1])/2,m&&"category"===m.type&&(c=v[d]),y&&"category"===y.type&&(f=b[p]),g.zsmooth&&(E=P=m.c2p(c),D=L=y.c2p(f)));var R=x[p][d];if(k&&!k[p][d]&&(R=void 0),void 0!==R||g.hoverongaps){var I;Array.isArray(h.hovertext)&&Array.isArray(h.hovertext[p])?I=h.hovertext[p][d]:Array.isArray(h.text)&&Array.isArray(h.text[p])&&(I=h.text[p][d]);var N=a(g),j={type:"linear",range:[N.min,N.max],hoverformat:T,_separators:m._separators,_numFormat:m._numFormat},z=o.tickText(j,R,"hover").text;return[i.extendFlat(e,{index:g._after2before?g._after2before[p][d]:[p,d],distance:e.maxHoverDistance,spikeDistance:e.maxSpikeDistance,x0:E,x1:P,y0:D,y1:L,xLabelVal:c,yLabelVal:f,zLabelVal:R,zLabel:z,text:I})]}}},{"../../components/colorscale":87,"../../components/fx":115,"../../lib":203,"../../plots/cartesian/axes":248}],364:[function(e,t,n){"use strict";t.exports={attributes:e("./attributes"),supplyDefaults:e("./defaults"),calc:e("./calc"),plot:e("./plot"),colorbar:e("./colorbar"),style:e("./style"),hoverPoints:e("./hover"),moduleType:"trace",name:"heatmap",basePlotModule:e("../../plots/cartesian"),categories:["cartesian","svg","2dMap","showLegend"],meta:{}}},{"../../plots/cartesian":261,"./attributes":356,"./calc":357,"./colorbar":359,"./defaults":361,"./hover":363,"./plot":367,"./style":368}],365:[function(e,t,n){"use strict";var r=e("../../lib"),i=[[-1,0],[1,0],[0,-1],[0,1]];function o(e){return.5-.25*Math.min(1,.5*e)}function a(e,t,n){var r,o,a,s,l,u,c,f,d,p,h,g,m,y=0;for(s=0;s<t.length;s++){for(o=(r=t[s])[0],a=r[1],h=e[o][a],p=0,d=0,l=0;l<4;l++)(c=e[o+(u=i[l])[0]])&&void 0!==(f=c[a+u[1]])&&(0===p?g=m=f:(g=Math.min(g,f),m=Math.max(m,f)),d++,p+=f);if(0===d)throw"iterateInterp2d order is wrong: no defined neighbors";e[o][a]=p/d,void 0===h?d<4&&(y=1):(e[o][a]=(1+n)*e[o][a]-n*h,m>g&&(y=Math.max(y,Math.abs(e[o][a]-h)/(m-g))))}return y}t.exports=function(e,t){var n,i=1;for(a(e,t),n=0;n<t.length&&!(t[n][2]<4);n++);for(t=t.slice(n),n=0;n<100&&i>.01;n++)i=a(e,t,o(i));return i>.01&&r.log("interp2d didn't converge quickly",i),e}},{"../../lib":203}],366:[function(e,t,n){"use strict";var r=e("../../registry"),i=e("../../lib").isArrayOrTypedArray;t.exports=function(e,t,n,o,a,s){var l,u,c,f=[],d=r.traceIs(e,"contour"),p=r.traceIs(e,"histogram"),h=r.traceIs(e,"gl2d");if(i(t)&&t.length>1&&!p&&"category"!==s.type){var g=t.length;if(!(g<=a))return d?t.slice(0,a):t.slice(0,a+1);if(d||h)f=t.slice(0,a);else if(1===a)f=[t[0]-.5,t[0]+.5];else{for(f=[1.5*t[0]-.5*t[1]],c=1;c<g;c++)f.push(.5*(t[c-1]+t[c]));f.push(1.5*t[g-1]-.5*t[g-2])}if(g<a){var m=f[f.length-1],y=m-f[f.length-2];for(c=g;c<a;c++)m+=y,f.push(m)}}else{var v=e[s._id.charAt(0)+"calendar"];for(l=p?s.r2c(n,0,v):i(t)&&1===t.length?t[0]:void 0===n?0:("log"===s.type?s.d2c:s.r2c)(n,0,v),u=o||1,c=d||h?0:-.5;c<a;c++)f.push(l+u*c)}return f}},{"../../lib":203,"../../registry":295}],367:[function(e,t,n){"use strict";var r=e("d3"),i=e("tinycolor2"),o=e("../../registry"),a=e("../../lib"),s=e("../../components/colorscale").makeColorScaleFuncFromTrace,l=e("../../constants/xmlns_namespaces");function u(e,t){var n=t.length-2,r=a.constrain(a.findBin(e,t),0,n),i=t[r],o=t[r+1],s=a.constrain(r+(e-i)/(o-i)-.5,0,n),l=Math.round(s),u=Math.abs(s-l);return s&&s!==n&&u?{bin0:l,frac:u,bin1:Math.round(l+u/(s-l))}:{bin0:l,bin1:l,frac:0}}function c(e,t){var n=t.length-1,r=a.constrain(a.findBin(e,t),0,n),i=t[r],o=(e-i)/(t[r+1]-i)||0;return o<=0?{bin0:r,bin1:r,frac:0}:o<.5?{bin0:r,bin1:r+1,frac:o}:{bin0:r+1,bin1:r,frac:1-o}}function f(e,t,n){e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=Math.round(255*n[3])}t.exports=function(e,t,n,d){var p=t.xaxis,h=t.yaxis;a.makeTraceGroups(d,n,"hm").each((function(t){var n,d,g,m,y,v,b=r.select(this),x=t[0],_=x.trace,w=x.z,k=x.x,T=x.y,C=x.xCenter,O=x.yCenter,S=o.traceIs(_,"contour"),A=S?"best":_.zsmooth,M=w.length,E=a.maxRowLength(w),P=!1,D=!1;for(v=0;void 0===n&&v<k.length-1;)n=p.c2p(k[v]),v++;for(v=k.length-1;void 0===d&&v>0;)d=p.c2p(k[v]),v--;for(d<n&&(g=d,d=n,n=g,P=!0),v=0;void 0===m&&v<T.length-1;)m=h.c2p(T[v]),v++;for(v=T.length-1;void 0===y&&v>0;)y=h.c2p(T[v]),v--;if(y<m&&(g=m,m=y,y=g,D=!0),S&&(C=k,O=T,k=x.xfill,T=x.yfill),"fast"!==A){var L="best"===A?0:.5;n=Math.max(-L*p._length,n),d=Math.min((1+L)*p._length,d),m=Math.max(-L*h._length,m),y=Math.min((1+L)*h._length,y)}var R=Math.round(d-n),I=Math.round(y-m);if(R<=0||I<=0)b.selectAll("image").data([]).exit().remove();else{var N,j;"fast"===A?(N=E,j=M):(N=R,j=I);var z=document.createElement("canvas");z.width=N,z.height=j;var q,F,B=z.getContext("2d"),H=s(_,{noNumericCheck:!0,returnArray:!0});"fast"===A?(q=P?function(e){return E-1-e}:a.identity,F=D?function(e){return M-1-e}:a.identity):(q=function(e){return a.constrain(Math.round(p.c2p(k[e])-n),0,R)},F=function(e){return a.constrain(Math.round(h.c2p(T[e])-m),0,I)});var U,V,W,G,K,Y=F(0),Z=[Y,Y],X=P?0:1,$=D?0:1,J=0,Q=0,ee=0,te=0;if(A){var ne,re=0;try{ne=new Uint8Array(R*I*4)}catch(e){ne=new Array(R*I*4)}if("best"===A){var ie,oe,ae,se=C||k,le=O||T,ue=new Array(se.length),ce=new Array(le.length),fe=new Array(R),de=C?c:u,pe=O?c:u;for(v=0;v<se.length;v++)ue[v]=Math.round(p.c2p(se[v])-n);for(v=0;v<le.length;v++)ce[v]=Math.round(h.c2p(le[v])-m);for(v=0;v<R;v++)fe[v]=de(v,ue);for(V=0;V<I;V++)for(oe=w[(ie=pe(V,ce)).bin0],ae=w[ie.bin1],v=0;v<R;v++,re+=4)f(ne,re,K=Te(oe,ae,fe[v],ie))}else for(V=0;V<M;V++)for(G=w[V],Z=F(V),v=0;v<R;v++)K=ke(G[v],1),f(ne,re=4*(Z*R+q(v)),K);var he=B.createImageData(R,I);try{he.data.set(ne)}catch(e){var ge=he.data,me=ge.length;for(V=0;V<me;V++)ge[V]=ne[V]}B.putImageData(he,0,0)}else{var ye=_.xgap,ve=_.ygap,be=Math.floor(ye/2),xe=Math.floor(ve/2);for(V=0;V<M;V++)if(G=w[V],Z.reverse(),Z[$]=F(V+1),Z[0]!==Z[1]&&void 0!==Z[0]&&void 0!==Z[1])for(U=[W=q(0),W],v=0;v<E;v++)U.reverse(),U[X]=q(v+1),U[0]!==U[1]&&void 0!==U[0]&&void 0!==U[1]&&(K=ke(G[v],(U[1]-U[0])*(Z[1]-Z[0])),B.fillStyle="rgba("+K.join(",")+")",B.fillRect(U[0]+be,Z[0]+xe,U[1]-U[0]-ye,Z[1]-Z[0]-ve))}Q=Math.round(Q/J),ee=Math.round(ee/J),te=Math.round(te/J);var _e=i("rgb("+Q+","+ee+","+te+")");e._hmpixcount=(e._hmpixcount||0)+J,e._hmlumcount=(e._hmlumcount||0)+J*_e.getLuminance();var we=b.selectAll("image").data(t);we.enter().append("svg:image").attr({xmlns:l.svg,preserveAspectRatio:"none"}),we.attr({height:I,width:R,x:n,y:m,"xlink:href":z.toDataURL("image/png")})}function ke(e,t){if(void 0!==e){var n=H(e);return n[0]=Math.round(n[0]),n[1]=Math.round(n[1]),n[2]=Math.round(n[2]),J+=t,Q+=n[0]*t,ee+=n[1]*t,te+=n[2]*t,n}return[0,0,0,0]}function Te(e,t,n,r){var i=e[n.bin0];if(void 0===i)return ke(void 0,1);var o,a=e[n.bin1],s=t[n.bin0],l=t[n.bin1],u=a-i||0,c=s-i||0;return o=void 0===a?void 0===l?0:void 0===s?2*(l-i):2*(2*l-s-i)/3:void 0===l?void 0===s?0:2*(2*i-a-s)/3:void 0===s?2*(2*l-a-i)/3:l+i-a-s,ke(i+n.frac*u+r.frac*(c+n.frac*o))}}))}},{"../../components/colorscale":87,"../../constants/xmlns_namespaces":183,"../../lib":203,"../../registry":295,d3:21,tinycolor2:58}],368:[function(e,t,n){"use strict";var r=e("d3");t.exports=function(e){r.select(e).selectAll(".hm image").style("opacity",(function(e){return e.trace.opacity}))}},{d3:21}],369:[function(e,t,n){"use strict";t.exports=function(e,t,n){!1===n("zsmooth")&&(n("xgap"),n("ygap")),n("zhoverformat")}},{}],370:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../../lib"),o=e("../../registry");function a(e,t){var n=t(e);return"scaled"===(n?t(e+"type","array"):"scaled")&&(t(e+"0"),t("d"+e)),n}t.exports=function(e,t,n,s,l,u){var c,f,d=n("z");if(l=l||"x",u=u||"y",void 0===d||!d.length)return 0;if(i.isArray1D(e.z)){c=n(l),f=n(u);var p=i.minRowLength(c),h=i.minRowLength(f);if(0===p||0===h)return 0;t._length=Math.min(p,h,d.length)}else{if(c=a(l,n),f=a(u,n),!function(e){for(var t,n=!0,o=!1,a=!1,s=0;s<e.length;s++){if(t=e[s],!i.isArrayOrTypedArray(t)){n=!1;break}t.length>0&&(o=!0);for(var l=0;l<t.length;l++)if(r(t[l])){a=!0;break}}return n&&o&&a}(d))return 0;n("transpose"),t._length=null}return"heatmapgl"===e.type||"contourgl"===e.type||o.getComponentMethod("calendars","handleTraceDefaults")(e,t,[l,u],s),!0}},{"../../lib":203,"../../registry":295,"fast-isnumeric":23}],371:[function(e,t,n){"use strict";var r=e("../bar/attributes"),i=e("../../plots/template_attributes").hovertemplateAttrs,o=e("./bin_attributes"),a=e("./constants"),s=e("../../lib/extend").extendFlat;t.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},text:s({},r.text,{}),hovertext:s({},r.hovertext,{}),orientation:r.orientation,histfunc:{valType:"enumerated",values:["count","sum","avg","min","max"],dflt:"count",editType:"calc"},histnorm:{valType:"enumerated",values:["","percent","probability","density","probability density"],dflt:"",editType:"calc"},cumulative:{enabled:{valType:"boolean",dflt:!1,editType:"calc"},direction:{valType:"enumerated",values:["increasing","decreasing"],dflt:"increasing",editType:"calc"},currentbin:{valType:"enumerated",values:["include","exclude","half"],dflt:"include",editType:"calc"},editType:"calc"},nbinsx:{valType:"integer",min:0,dflt:0,editType:"calc"},xbins:o("x",!0),nbinsy:{valType:"integer",min:0,dflt:0,editType:"calc"},ybins:o("y",!0),autobinx:{valType:"boolean",dflt:null,editType:"calc"},autobiny:{valType:"boolean",dflt:null,editType:"calc"},bingroup:{valType:"string",dflt:"",editType:"calc"},hovertemplate:i({},{keys:a.eventDataKeys}),marker:r.marker,offsetgroup:r.offsetgroup,alignmentgroup:r.alignmentgroup,selected:r.selected,unselected:r.unselected,_deprecated:{bardir:r._deprecated.bardir}}},{"../../lib/extend":197,"../../plots/template_attributes":290,"../bar/attributes":305,"./bin_attributes":373,"./constants":377}],372:[function(e,t,n){"use strict";t.exports=function(e,t){for(var n=e.length,r=0,i=0;i<n;i++)t[i]?(e[i]/=t[i],r+=e[i]):e[i]=null;return r}},{}],373:[function(e,t,n){"use strict";t.exports=function(e,t){return{start:{valType:"any",editType:"calc"},end:{valType:"any",editType:"calc"},size:{valType:"any",editType:"calc"},editType:"calc"}}},{}],374:[function(e,t,n){"use strict";var r=e("fast-isnumeric");t.exports={count:function(e,t,n){return n[e]++,1},sum:function(e,t,n,i){var o=i[t];return r(o)?(o=Number(o),n[e]+=o,o):0},avg:function(e,t,n,i,o){var a=i[t];return r(a)&&(a=Number(a),n[e]+=a,o[e]++),0},min:function(e,t,n,i){var o=i[t];if(r(o)){if(o=Number(o),!r(n[e]))return n[e]=o,o;if(n[e]>o){var a=o-n[e];return n[e]=o,a}}return 0},max:function(e,t,n,i){var o=i[t];if(r(o)){if(o=Number(o),!r(n[e]))return n[e]=o,o;if(n[e]<o){var a=o-n[e];return n[e]=o,a}}return 0}}},{"fast-isnumeric":23}],375:[function(e,t,n){"use strict";var r=e("../../constants/numerical"),i=r.ONEAVGYEAR,o=r.ONEAVGMONTH,a=r.ONEDAY,s=r.ONEHOUR,l=r.ONEMIN,u=r.ONESEC,c=e("../../plots/cartesian/axes").tickIncrement;function f(e,t,n,r){if(e*t<=0)return 1/0;for(var i=Math.abs(t-e),o="date"===n.type,a=d(i,o),s=0;s<10;s++){var l=d(80*a,o);if(a===l)break;if(!p(l,e,t,o,n,r))break;a=l}return a}function d(e,t){return t&&e>u?e>a?e>1.1*i?i:e>1.1*o?o:a:e>s?s:e>l?l:u:Math.pow(10,Math.floor(Math.log(e)/Math.LN10))}function p(e,t,n,r,o,s){if(r&&e>a){var l=h(t,o,s),u=h(n,o,s),c=e===i?0:1;return l[c]!==u[c]}return Math.floor(n/e)-Math.floor(t/e)>.1}function h(e,t,n){var r=t.c2d(e,i,n).split("-");return""===r[0]&&(r.unshift(),r[0]="-"+r[0]),r}t.exports=function(e,t,n,r,o){var s,l,u=-1.1*t,d=-.1*t,p=e-d,h=n[0],g=n[1],m=Math.min(f(h+d,h+p,r,o),f(g+d,g+p,r,o)),y=Math.min(f(h+u,h+d,r,o),f(g+u,g+d,r,o));if(m>y&&y<Math.abs(g-h)/4e3?(s=m,l=!1):(s=Math.min(m,y),l=!0),"date"===r.type&&s>a){var v=s===i?1:6,b=s===i?"M12":"M1";return function(t,n){var a=r.c2d(t,i,o),s=a.indexOf("-",v);s>0&&(a=a.substr(0,s));var u=r.d2c(a,0,o);if(u<t){var f=c(u,b,!1,o);(u+f)/2<t+e&&(u=f)}return n&&l?c(u,b,!0,o):u}}return function(t,n){var r=s*Math.round(t/s);return r+s/10<t&&r+.9*s<t+e&&(r+=s),n&&l&&(r-=s),r}}},{"../../constants/numerical":182,"../../plots/cartesian/axes":248}],376:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../../lib"),o=e("../../registry"),a=e("../../plots/cartesian/axes"),s=e("../bar/arrays_to_calcdata"),l=e("./bin_functions"),u=e("./norm_functions"),c=e("./average"),f=e("./bin_label_vals");function d(e,t,n,s,l){var u,c,f,p,h,g,m,y=s+"bins",v=e._fullLayout,b=t["_"+s+"bingroup"],x=v._histogramBinOpts[b],_="overlay"===v.barmode,w=function(e){return n.r2c(e,0,p)},k=function(e){return n.c2r(e,0,p)},T="date"===n.type?function(e){return e||0===e?i.cleanDate(e,null,p):null}:function(e){return r(e)?Number(e):null};function C(e,t,n){t[e+"Found"]?(t[e]=T(t[e]),null===t[e]&&(t[e]=n[e])):(g[e]=t[e]=n[e],i.nestedProperty(c[0],y+"."+e).set(n[e]))}if(t["_"+s+"autoBinFinished"])delete t["_"+s+"autoBinFinished"];else{c=x.traces;var O=[],S=!0,A=!1,M=!1;for(u=0;u<c.length;u++)if((f=c[u]).visible){var E=x.dirs[u];h=f["_"+E+"pos0"]=n.makeCalcdata(f,E),O=i.concat(O,h),delete f["_"+s+"autoBinFinished"],!0===t.visible&&(S?S=!1:(delete f._autoBin,f["_"+s+"autoBinFinished"]=1),o.traceIs(f,"2dMap")&&(A=!0),"histogram2dcontour"===f.type&&(M=!0))}p=c[0][s+"calendar"];var P=a.autoBin(O,n,x.nbins,A,p,x.sizeFound&&x.size),D=c[0]._autoBin={};if(g=D[x.dirs[0]]={},M&&(x.size||(P.start=k(a.tickIncrement(w(P.start),P.size,!0,p))),void 0===x.end&&(P.end=k(a.tickIncrement(w(P.end),P.size,!1,p)))),_&&!o.traceIs(t,"2dMap")&&0===P._dataSpan&&"category"!==n.type&&"multicategory"!==n.type){if(l)return[P,h,!0];P=function(e,t,n,r,o){var a,s,l,u=e._fullLayout,c=function(e,t){for(var n=t.xaxis,r=t.yaxis,i=t.orientation,o=[],a=e._fullData,s=0;s<a.length;s++){var l=a[s];"histogram"===l.type&&!0===l.visible&&l.orientation===i&&l.xaxis===n&&l.yaxis===r&&o.push(l)}return o}(e,t),f=!1,p=1/0,h=[t];for(a=0;a<c.length;a++)if((s=c[a])===t)f=!0;else if(f){var g=d(e,s,n,r,!0),m=g[0],y=g[2];s["_"+r+"autoBinFinished"]=1,s["_"+r+"pos0"]=g[1],y?h.push(s):p=Math.min(p,m.size)}else l=u._histogramBinOpts[s["_"+r+"bingroup"]],p=Math.min(p,l.size||s[o].size);var v=new Array(h.length);for(a=0;a<h.length;a++)for(var b=h[a]["_"+r+"pos0"],x=0;x<b.length;x++)if(void 0!==b[x]){v[a]=b[x];break}for(isFinite(p)||(p=i.distinctVals(v).minDiff),a=0;a<h.length;a++){var _=(s=h[a])[r+"calendar"],w={start:n.c2r(v[a]-p/2,0,_),end:n.c2r(v[a]+p/2,0,_),size:p};s._input[o]=s[o]=w,(l=u._histogramBinOpts[s["_"+r+"bingroup"]])&&i.extendFlat(l,w)}return t[o]}(e,t,n,s,y)}(m=f.cumulative||{}).enabled&&"include"!==m.currentbin&&("decreasing"===m.direction?P.start=k(a.tickIncrement(w(P.start),P.size,!0,p)):P.end=k(a.tickIncrement(w(P.end),P.size,!1,p))),x.size=P.size,x.sizeFound||(g.size=P.size,i.nestedProperty(c[0],y+".size").set(P.size)),C("start",x,P),C("end",x,P)}h=t["_"+s+"pos0"],delete t["_"+s+"pos0"];var L=t._input[y]||{},R=i.extendFlat({},x),I=x.start,N=n.r2l(L.start),j=void 0!==N;if((x.startFound||j)&&N!==n.r2l(I)){var z=j?N:i.aggNums(Math.min,null,h),q={type:"category"===n.type||"multicategory"===n.type?"linear":n.type,r2l:n.r2l,dtick:x.size,tick0:I,calendar:p,range:[z,a.tickIncrement(z,x.size,!1,p)].map(n.l2r)},F=a.tickFirst(q);F>n.r2l(z)&&(F=a.tickIncrement(F,x.size,!0,p)),R.start=n.l2r(F),j||i.nestedProperty(t,y+".start").set(R.start)}var B=x.end,H=n.r2l(L.end),U=void 0!==H;if((x.endFound||U)&&H!==n.r2l(B)){var V=U?H:i.aggNums(Math.max,null,h);R.end=n.l2r(V),U||i.nestedProperty(t,y+".start").set(R.end)}var W="autobin"+s;return!1===t._input[W]&&(t._input[y]=i.extendFlat({},t[y]||{}),delete t._input[W],delete t[W]),[R,h]}t.exports={calc:function(e,t){var n,o,p,h,g=[],m=[],y=a.getFromId(e,"h"===t.orientation?t.yaxis:t.xaxis),v="h"===t.orientation?"y":"x",b={x:"y",y:"x"}[v],x=t[v+"calendar"],_=t.cumulative,w=d(e,t,y,v),k=w[0],T=w[1],C="string"==typeof k.size,O=[],S=C?O:k,A=[],M=[],E=[],P=0,D=t.histnorm,L=t.histfunc,R=-1!==D.indexOf("density");_.enabled&&R&&(D=D.replace(/ ?density$/,""),R=!1);var I,N="max"===L||"min"===L?null:0,j=l.count,z=u[D],q=!1,F=function(e){return y.r2c(e,0,x)};for(i.isArrayOrTypedArray(t[b])&&"count"!==L&&(I=t[b],q="avg"===L,j=l[L]),n=F(k.start),p=F(k.end)+(n-a.tickIncrement(n,k.size,!1,x))/1e6;n<p&&g.length<1e6&&(o=a.tickIncrement(n,k.size,!1,x),g.push((n+o)/2),m.push(N),E.push([]),O.push(n),R&&A.push(1/(o-n)),q&&M.push(0),!(o<=n));)n=o;O.push(n),C||"date"!==y.type||(S={start:F(S.start),end:F(S.end),size:S.size}),e._fullLayout._roundFnOpts||(e._fullLayout._roundFnOpts={});var B=t["_"+v+"bingroup"],H={leftGap:1/0,rightGap:1/0};B&&(e._fullLayout._roundFnOpts[B]||(e._fullLayout._roundFnOpts[B]=H),H=e._fullLayout._roundFnOpts[B]);var U,V=m.length,W=!0,G=H.leftGap,K=H.rightGap,Y={};for(n=0;n<T.length;n++){var Z=T[n];(h=i.findBin(Z,S))>=0&&h<V&&(P+=j(h,n,m,I,M),W&&E[h].length&&Z!==T[E[h][0]]&&(W=!1),E[h].push(n),Y[n]=h,G=Math.min(G,Z-O[h]),K=Math.min(K,O[h+1]-Z))}H.leftGap=G,H.rightGap=K,W||(U=function(t,n){return function(){var r=e._fullLayout._roundFnOpts[B];return f(r.leftGap,r.rightGap,O,y,x)(t,n)}}),q&&(P=c(m,M)),z&&z(m,P,A),_.enabled&&function(e,t,n){var r,i,o;function a(t){o=e[t],e[t]/=2}function s(t){i=e[t],e[t]=o+i/2,o+=i}if("half"===n)if("increasing"===t)for(a(0),r=1;r<e.length;r++)s(r);else for(a(e.length-1),r=e.length-2;r>=0;r--)s(r);else if("increasing"===t){for(r=1;r<e.length;r++)e[r]+=e[r-1];"exclude"===n&&(e.unshift(0),e.pop())}else{for(r=e.length-2;r>=0;r--)e[r]+=e[r+1];"exclude"===n&&(e.push(0),e.shift())}}(m,_.direction,_.currentbin);var X=Math.min(g.length,m.length),$=[],J=0,Q=X-1;for(n=0;n<X;n++)if(m[n]){J=n;break}for(n=X-1;n>=J;n--)if(m[n]){Q=n;break}for(n=J;n<=Q;n++)if(r(g[n])&&r(m[n])){var ee={p:g[n],s:m[n],b:0};_.enabled||(ee.pts=E[n],W?ee.ph0=ee.ph1=E[n].length?T[E[n][0]]:g[n]:(t._computePh=!0,ee.ph0=U(O[n]),ee.ph1=U(O[n+1],!0))),$.push(ee)}return 1===$.length&&($[0].width1=a.tickIncrement($[0].p,k.size,!1,x)-$[0].p),s($,t),i.isArrayOrTypedArray(t.selectedpoints)&&i.tagSelected($,t,Y),$},calcAllAutoBins:d}},{"../../lib":203,"../../plots/cartesian/axes":248,"../../registry":295,"../bar/arrays_to_calcdata":304,"./average":372,"./bin_functions":374,"./bin_label_vals":375,"./norm_functions":383,"fast-isnumeric":23}],377:[function(e,t,n){"use strict";t.exports={eventDataKeys:["binNumber"]}},{}],378:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../plots/cartesian/axis_ids"),o=e("../../registry").traceIs,a=e("../bar/defaults").handleGroupingDefaults,s=r.nestedProperty,l=i.getAxisGroup,u=[{aStr:{x:"xbins.start",y:"ybins.start"},name:"start"},{aStr:{x:"xbins.end",y:"ybins.end"},name:"end"},{aStr:{x:"xbins.size",y:"ybins.size"},name:"size"},{aStr:{x:"nbinsx",y:"nbinsy"},name:"nbins"}],c=["x","y"];t.exports=function(e,t){var n,f,d,p,h,g,m,y=t._histogramBinOpts={},v=[],b={},x=[];function _(e,t){return r.coerce(n._input,n,n._module.attributes,e,t)}function w(e){return"v"===e.orientation?"x":"y"}function k(e,n,o){var a=e.uid+"__"+o;n||(n=a);var s=function(e,n){return i.getFromTrace({_fullLayout:t},e,n).type}(e,o),l=e[o+"calendar"]||"",u=y[n],c=!0;u&&(s===u.axType&&l===u.calendar?(c=!1,u.traces.push(e),u.dirs.push(o)):(n=a,s!==u.axType&&r.warn(["Attempted to group the bins of trace",e.index,"set on a","type:"+s,"axis","with bins on","type:"+u.axType,"axis."].join(" ")),l!==u.calendar&&r.warn(["Attempted to group the bins of trace",e.index,"set with a",l,"calendar","with bins",u.calendar?"on a "+u.calendar+" calendar":"w/o a set calendar"].join(" ")))),c&&(y[n]={traces:[e],dirs:[o],axType:s,calendar:e[o+"calendar"]||""}),e["_"+o+"bingroup"]=n}for(h=0;h<e.length;h++)n=e[h],o(n,"histogram")&&(v.push(n),delete n._xautoBinFinished,delete n._yautoBinFinished,o(n,"2dMap")||a(n._input,n,t,_));var T=t._alignmentOpts||{};for(h=0;h<v.length;h++){if(n=v[h],d="",!o(n,"2dMap")){if(p=w(n),"group"===t.barmode&&n.alignmentgroup){var C=n[p+"axis"],O=l(t,C)+n.orientation;(T[O]||{})[n.alignmentgroup]&&(d=O)}d||"overlay"===t.barmode||(d=l(t,n.xaxis)+l(t,n.yaxis)+w(n))}d?(b[d]||(b[d]=[]),b[d].push(n)):x.push(n)}for(d in b)if(1!==(f=b[d]).length){var S=!1;for(h=0;h<f.length;h++){n=f[h],S=_("bingroup");break}for(d=S||d,h=0;h<f.length;h++){var A=(n=f[h])._input.bingroup;A&&A!==d&&r.warn(["Trace",n.index,"must match","within bingroup",d+".","Ignoring its bingroup:",A,"setting."].join(" ")),n.bingroup=d,k(n,d,w(n))}}else x.push(f[0]);for(h=0;h<x.length;h++){n=x[h];var M=_("bingroup");if(o(n,"2dMap"))for(m=0;m<2;m++){var E=_((p=c[m])+"bingroup",M?M+"__"+p:null);k(n,E,p)}else k(n,M,w(n))}for(d in y){var P=y[d];for(f=P.traces,g=0;g<u.length;g++){var D,L,R=u[g],I=R.name;if("nbins"!==I||!P.sizeFound){for(h=0;h<f.length;h++){if(n=f[h],p=P.dirs[h],D=R.aStr[p],void 0!==s(n._input,D).get()){P[I]=_(D),P[I+"Found"]=!0;break}(L=(n._autoBin||{})[p]||{})[I]&&s(n,D).set(L[I])}if("start"===I||"end"===I)for(;h<f.length;h++)(n=f[h])["_"+p+"bingroup"]&&_(D,(L=(n._autoBin||{})[p]||{})[I]);"nbins"!==I||P.sizeFound||P.nbinsFound||(n=f[0],P[I]=_(D))}}}}},{"../../lib":203,"../../plots/cartesian/axis_ids":251,"../../registry":295,"../bar/defaults":309}],379:[function(e,t,n){"use strict";var r=e("../../registry"),i=e("../../lib"),o=e("../../components/color"),a=e("../bar/style_defaults"),s=e("./attributes");t.exports=function(e,t,n,l){function u(n,r){return i.coerce(e,t,s,n,r)}var c=u("x"),f=u("y");u("cumulative.enabled")&&(u("cumulative.direction"),u("cumulative.currentbin")),u("text"),u("hovertext"),u("hovertemplate");var d=u("orientation",f&&!c?"h":"v"),p="v"===d?"x":"y",h="v"===d?"y":"x",g=c&&f?Math.min(i.minRowLength(c)&&i.minRowLength(f)):i.minRowLength(t[p]||[]);if(g){t._length=g,r.getComponentMethod("calendars","handleTraceDefaults")(e,t,["x","y"],l),t[h]&&u("histfunc"),u("histnorm"),u("autobin"+p),a(e,t,u,n,l),i.coerceSelectionMarkerOpacity(t,u);var m=(t.marker.line||{}).color,y=r.getComponentMethod("errorbars","supplyDefaults");y(e,t,m||o.defaultLine,{axis:"y"}),y(e,t,m||o.defaultLine,{axis:"x",inherit:"y"})}else t.visible=!1}},{"../../components/color":75,"../../lib":203,"../../registry":295,"../bar/style_defaults":320,"./attributes":371}],380:[function(e,t,n){"use strict";t.exports=function(e,t,n,r,i){if(e.x="xVal"in t?t.xVal:t.x,e.y="yVal"in t?t.yVal:t.y,"zLabelVal"in t&&(e.z=t.zLabelVal),t.xa&&(e.xaxis=t.xa),t.ya&&(e.yaxis=t.ya),!(n.cumulative||{}).enabled){var o,a=Array.isArray(i)?r[0].pts[i[0]][i[1]]:r[i].pts;if(e.pointNumbers=a,e.binNumber=e.pointNumber,delete e.pointNumber,delete e.pointIndex,n._indexToPoints){o=[];for(var s=0;s<a.length;s++)o=o.concat(n._indexToPoints[a[s]])}else o=a;e.pointIndices=o}return e}},{}],381:[function(e,t,n){"use strict";var r=e("../bar/hover").hoverPoints,i=e("../../plots/cartesian/axes").hoverLabelText;t.exports=function(e,t,n,o){var a=r(e,t,n,o);if(a){var s=(e=a[0]).cd[e.index],l=e.cd[0].trace;if(!l.cumulative.enabled){var u="h"===l.orientation?"y":"x";e[u+"Label"]=i(e[u+"a"],s.ph0,s.ph1)}return a}}},{"../../plots/cartesian/axes":248,"../bar/hover":312}],382:[function(e,t,n){"use strict";t.exports={attributes:e("./attributes"),layoutAttributes:e("../bar/layout_attributes"),supplyDefaults:e("./defaults"),crossTraceDefaults:e("./cross_trace_defaults"),supplyLayoutDefaults:e("../bar/layout_defaults"),calc:e("./calc").calc,crossTraceCalc:e("../bar/cross_trace_calc").crossTraceCalc,plot:e("../bar/plot").plot,layerName:"barlayer",style:e("../bar/style").style,styleOnSelect:e("../bar/style").styleOnSelect,colorbar:e("../scatter/marker_colorbar"),hoverPoints:e("./hover"),selectPoints:e("../bar/select"),eventData:e("./event_data"),moduleType:"trace",name:"histogram",basePlotModule:e("../../plots/cartesian"),categories:["bar-like","cartesian","svg","bar","histogram","oriented","errorBarsOK","showLegend"],meta:{}}},{"../../plots/cartesian":261,"../bar/cross_trace_calc":308,"../bar/layout_attributes":314,"../bar/layout_defaults":315,"../bar/plot":316,"../bar/select":317,"../bar/style":319,"../scatter/marker_colorbar":434,"./attributes":371,"./calc":376,"./cross_trace_defaults":378,"./defaults":379,"./event_data":380,"./hover":381}],383:[function(e,t,n){"use strict";t.exports={percent:function(e,t){for(var n=e.length,r=100/t,i=0;i<n;i++)e[i]*=r},probability:function(e,t){for(var n=e.length,r=0;r<n;r++)e[r]/=t},density:function(e,t,n,r){var i=e.length;r=r||1;for(var o=0;o<i;o++)e[o]*=n[o]*r},"probability density":function(e,t,n,r){var i=e.length;r&&(t/=r);for(var o=0;o<i;o++)e[o]*=n[o]/t}}},{}],384:[function(e,t,n){"use strict";var r=e("../histogram/attributes"),i=e("../histogram/bin_attributes"),o=e("../heatmap/attributes"),a=e("../../plots/attributes"),s=e("../../plots/template_attributes").hovertemplateAttrs,l=e("../../components/colorscale/attributes"),u=e("../../lib/extend").extendFlat;t.exports=u({x:r.x,y:r.y,z:{valType:"data_array",editType:"calc"},marker:{color:{valType:"data_array",editType:"calc"},editType:"calc"},histnorm:r.histnorm,histfunc:r.histfunc,nbinsx:r.nbinsx,xbins:i("x"),nbinsy:r.nbinsy,ybins:i("y"),autobinx:r.autobinx,autobiny:r.autobiny,bingroup:u({},r.bingroup,{}),xbingroup:u({},r.bingroup,{}),ybingroup:u({},r.bingroup,{}),xgap:o.xgap,ygap:o.ygap,zsmooth:o.zsmooth,zhoverformat:o.zhoverformat,hovertemplate:s({},{keys:"z"}),showlegend:u({},a.showlegend,{dflt:!1})},l("",{cLetter:"z",autoColorDflt:!1}))},{"../../components/colorscale/attributes":82,"../../lib/extend":197,"../../plots/attributes":244,"../../plots/template_attributes":290,"../heatmap/attributes":356,"../histogram/attributes":371,"../histogram/bin_attributes":373}],385:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../plots/cartesian/axes"),o=e("../histogram/bin_functions"),a=e("../histogram/norm_functions"),s=e("../histogram/average"),l=e("../histogram/bin_label_vals"),u=e("../histogram/calc").calcAllAutoBins;function c(e,t,n,r){var i,o=new Array(e);if(r)for(i=0;i<e;i++)o[i]=1/(t[i+1]-t[i]);else{var a=1/n;for(i=0;i<e;i++)o[i]=a}return o}function f(e,t){return{start:e(t.start),end:e(t.end),size:t.size}}function d(e,t,n,r,i,o){var a,s=e.length-1,u=new Array(s),c=l(n,r,e,i,o);for(a=0;a<s;a++){var f=(t||[])[a];u[a]=void 0===f?[c(e[a]),c(e[a+1],!0)]:[f,f]}return u}t.exports=function(e,t){var n,l,p,h,g=i.getFromId(e,t.xaxis),m=i.getFromId(e,t.yaxis),y=t.xcalendar,v=t.ycalendar,b=function(e){return g.r2c(e,0,y)},x=function(e){return m.r2c(e,0,v)},_=u(e,t,g,"x"),w=_[0],k=_[1],T=u(e,t,m,"y"),C=T[0],O=T[1],S=t._length;k.length>S&&k.splice(S,k.length-S),O.length>S&&O.splice(S,O.length-S);var A=[],M=[],E=[],P="string"==typeof w.size,D="string"==typeof C.size,L=[],R=[],I=P?L:w,N=D?R:C,j=0,z=[],q=[],F=t.histnorm,B=t.histfunc,H=-1!==F.indexOf("density"),U="max"===B||"min"===B?null:0,V=o.count,W=a[F],G=!1,K=[],Y=[],Z="z"in t?t.z:"marker"in t&&Array.isArray(t.marker.color)?t.marker.color:"";Z&&"count"!==B&&(G="avg"===B,V=o[B]);var X=w.size,$=b(w.start),J=b(w.end)+($-i.tickIncrement($,X,!1,y))/1e6;for(n=$;n<J;n=i.tickIncrement(n,X,!1,y))M.push(U),L.push(n),G&&E.push(0);L.push(n);var Q,ee=M.length,te=(n-$)/ee,ne=(Q=$+te/2,g.c2r(Q,0,y)),re=C.size,ie=x(C.start),oe=x(C.end)+(ie-i.tickIncrement(ie,re,!1,v))/1e6;for(n=ie;n<oe;n=i.tickIncrement(n,re,!1,v)){A.push(M.slice()),R.push(n);var ae=new Array(ee);for(l=0;l<ee;l++)ae[l]=[];q.push(ae),G&&z.push(E.slice())}R.push(n);var se=A.length,le=(n-ie)/se,ue=function(e){return m.c2r(e,0,v)}(ie+le/2);H&&(K=c(M.length,I,te,P),Y=c(A.length,N,le,D)),P||"date"!==g.type||(I=f(b,I)),D||"date"!==m.type||(N=f(x,N));var ce=!0,fe=!0,de=new Array(ee),pe=new Array(se),he=1/0,ge=1/0,me=1/0,ye=1/0;for(n=0;n<S;n++){var ve=k[n],be=O[n];p=r.findBin(ve,I),h=r.findBin(be,N),p>=0&&p<ee&&h>=0&&h<se&&(j+=V(p,n,A[h],Z,z[h]),q[h][p].push(n),ce&&(void 0===de[p]?de[p]=ve:de[p]!==ve&&(ce=!1)),fe&&(void 0===pe[h]?pe[h]=be:pe[h]!==be&&(fe=!1)),he=Math.min(he,ve-L[p]),ge=Math.min(ge,L[p+1]-ve),me=Math.min(me,be-R[h]),ye=Math.min(ye,R[h+1]-be))}if(G)for(h=0;h<se;h++)j+=s(A[h],z[h]);if(W)for(h=0;h<se;h++)W(A[h],j,K,Y[h]);return{x:k,xRanges:d(L,ce&&de,he,ge,g,y),x0:ne,dx:te,y:O,yRanges:d(R,fe&&pe,me,ye,m,v),y0:ue,dy:le,z:A,pts:q}}},{"../../lib":203,"../../plots/cartesian/axes":248,"../histogram/average":372,"../histogram/bin_functions":374,"../histogram/bin_label_vals":375,"../histogram/calc":376,"../histogram/norm_functions":383}],386:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("./sample_defaults"),o=e("../heatmap/style_defaults"),a=e("../../components/colorscale/defaults"),s=e("./attributes");t.exports=function(e,t,n,l){function u(n,i){return r.coerce(e,t,s,n,i)}i(e,t,u,l),!1!==t.visible&&(o(e,t,u,l),a(e,t,l,u,{prefix:"",cLetter:"z"}),u("hovertemplate"))}},{"../../components/colorscale/defaults":85,"../../lib":203,"../heatmap/style_defaults":369,"./attributes":384,"./sample_defaults":389}],387:[function(e,t,n){"use strict";var r=e("../heatmap/hover"),i=e("../../plots/cartesian/axes").hoverLabelText;t.exports=function(e,t,n,o,a,s){var l=r(e,t,n,o,a,s);if(l){var u=(e=l[0]).index,c=u[0],f=u[1],d=e.cd[0],p=d.xRanges[f],h=d.yRanges[c];return e.xLabel=i(e.xa,p[0],p[1]),e.yLabel=i(e.ya,h[0],h[1]),l}}},{"../../plots/cartesian/axes":248,"../heatmap/hover":363}],388:[function(e,t,n){"use strict";t.exports={attributes:e("./attributes"),supplyDefaults:e("./defaults"),crossTraceDefaults:e("../histogram/cross_trace_defaults"),calc:e("../heatmap/calc"),plot:e("../heatmap/plot"),layerName:"heatmaplayer",colorbar:e("../heatmap/colorbar"),style:e("../heatmap/style"),hoverPoints:e("./hover"),eventData:e("../histogram/event_data"),moduleType:"trace",name:"histogram2d",basePlotModule:e("../../plots/cartesian"),categories:["cartesian","svg","2dMap","histogram","showLegend"],meta:{}}},{"../../plots/cartesian":261,"../heatmap/calc":357,"../heatmap/colorbar":359,"../heatmap/plot":367,"../heatmap/style":368,"../histogram/cross_trace_defaults":378,"../histogram/event_data":380,"./attributes":384,"./defaults":386,"./hover":387}],389:[function(e,t,n){"use strict";var r=e("../../registry"),i=e("../../lib");t.exports=function(e,t,n,o){var a=n("x"),s=n("y"),l=i.minRowLength(a),u=i.minRowLength(s);l&&u?(t._length=Math.min(l,u),r.getComponentMethod("calendars","handleTraceDefaults")(e,t,["x","y"],o),(n("z")||n("marker.color"))&&n("histfunc"),n("histnorm"),n("autobinx"),n("autobiny")):t.visible=!1}},{"../../lib":203,"../../registry":295}],390:[function(e,t,n){"use strict";var r=e("../histogram2d/attributes"),i=e("../contour/attributes"),o=e("../../components/colorscale/attributes"),a=e("../../lib/extend").extendFlat;t.exports=a({x:r.x,y:r.y,z:r.z,marker:r.marker,histnorm:r.histnorm,histfunc:r.histfunc,nbinsx:r.nbinsx,xbins:r.xbins,nbinsy:r.nbinsy,ybins:r.ybins,autobinx:r.autobinx,autobiny:r.autobiny,bingroup:r.bingroup,xbingroup:r.xbingroup,ybingroup:r.ybingroup,autocontour:i.autocontour,ncontours:i.ncontours,contours:i.contours,line:{color:i.line.color,width:a({},i.line.width,{dflt:.5}),dash:i.line.dash,smoothing:i.line.smoothing,editType:"plot"},zhoverformat:r.zhoverformat,hovertemplate:r.hovertemplate},o("",{cLetter:"z",editTypeOverride:"calc"}))},{"../../components/colorscale/attributes":82,"../../lib/extend":197,"../contour/attributes":334,"../histogram2d/attributes":384}],391:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../histogram2d/sample_defaults"),o=e("../contour/contours_defaults"),a=e("../contour/style_defaults"),s=e("./attributes");t.exports=function(e,t,n,l){function u(n,i){return r.coerce(e,t,s,n,i)}i(e,t,u,l),!1!==t.visible&&(o(e,t,u,(function(n){return r.coerce2(e,t,s,n)})),a(e,t,u,l),u("hovertemplate"))}},{"../../lib":203,"../contour/contours_defaults":341,"../contour/style_defaults":355,"../histogram2d/sample_defaults":389,"./attributes":390}],392:[function(e,t,n){"use strict";t.exports={attributes:e("./attributes"),supplyDefaults:e("./defaults"),crossTraceDefaults:e("../histogram/cross_trace_defaults"),calc:e("../contour/calc"),plot:e("../contour/plot").plot,layerName:"contourlayer",style:e("../contour/style"),colorbar:e("../contour/colorbar"),hoverPoints:e("../contour/hover"),moduleType:"trace",name:"histogram2dcontour",basePlotModule:e("../../plots/cartesian"),categories:["cartesian","svg","2dMap","contour","histogram","showLegend"],meta:{}}},{"../../plots/cartesian":261,"../contour/calc":335,"../contour/colorbar":337,"../contour/hover":347,"../contour/plot":352,"../contour/style":354,"../histogram/cross_trace_defaults":378,"./attributes":390,"./defaults":391}],393:[function(e,t,n){"use strict";for(var r=e("../../plots/attributes"),i=e("../../plots/template_attributes").hovertemplateAttrs,o=e("../../lib/extend").extendFlat,a=e("./constants").colormodel,s=["rgb","rgba","rgba256","hsl","hsla"],l=[],u=[],c=0;c<s.length;c++){var f=a[s[c]];l.push("For the `"+s[c]+"` colormodel, it is ["+(f.zminDflt||f.min).join(", ")+"]."),u.push("For the `"+s[c]+"` colormodel, it is ["+(f.zmaxDflt||f.max).join(", ")+"].")}t.exports=o({source:{valType:"string",editType:"calc"},z:{valType:"data_array",editType:"calc"},colormodel:{valType:"enumerated",values:s,editType:"calc"},zmin:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},zmax:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dx:{valType:"number",dflt:1,editType:"calc"},dy:{valType:"number",dflt:1,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"data_array",editType:"plot"},hoverinfo:o({},r.hoverinfo,{flags:["x","y","z","color","name","text"],dflt:"x+y+z+text+name"}),hovertemplate:i({},{keys:["z","color","colormodel"]}),transforms:void 0})},{"../../lib/extend":197,"../../plots/attributes":244,"../../plots/template_attributes":290,"./constants":395}],394:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("./constants"),o=e("fast-isnumeric"),a=e("../../plots/cartesian/axes"),s=e("../../lib").maxRowLength,l=e("./helpers").getImageSize;function u(e,t,n,i){return function(o){return r.constrain((o-e)*t,n,i)}}function c(e,t){return function(n){return r.constrain(n,e,t)}}t.exports=function(e,t){var n,r;if(t._hasZ)n=t.z.length,r=s(t.z);else if(t._hasSource){var f=l(t.source);n=f.height,r=f.width}var d,p=a.getFromId(e,t.xaxis||"x"),h=a.getFromId(e,t.yaxis||"y"),g=p.d2c(t.x0)-t.dx/2,m=h.d2c(t.y0)-t.dy/2,y=[g,g+r*t.dx],v=[m,m+n*t.dy];if(p&&"log"===p.type)for(d=0;d<r;d++)y.push(g+d*t.dx);if(h&&"log"===h.type)for(d=0;d<n;d++)v.push(m+d*t.dy);return t._extremes[p._id]=a.findExtremes(p,y),t._extremes[h._id]=a.findExtremes(h,v),t._scaler=function(e){var t=i.colormodel[e.colormodel],n=(t.colormodel||e.colormodel).length;e._sArray=[];for(var r=0;r<n;r++)t.min[r]!==e.zmin[r]||t.max[r]!==e.zmax[r]?e._sArray.push(u(e.zmin[r],(t.max[r]-t.min[r])/(e.zmax[r]-e.zmin[r]),t.min[r],t.max[r])):e._sArray.push(c(t.min[r],t.max[r]));return function(t){for(var r=t.slice(0,n),i=0;i<n;i++){var a=r[i];if(!o(a))return!1;r[i]=e._sArray[i](a)}return r}}(t),[{x0:g,y0:m,z:t.z,w:r,h:n}]}},{"../../lib":203,"../../plots/cartesian/axes":248,"./constants":395,"./helpers":398,"fast-isnumeric":23}],395:[function(e,t,n){"use strict";t.exports={colormodel:{rgb:{min:[0,0,0],max:[255,255,255],fmt:function(e){return e.slice(0,3)},suffix:["","",""]},rgba:{min:[0,0,0,0],max:[255,255,255,1],fmt:function(e){return e.slice(0,4)},suffix:["","","",""]},rgba256:{colormodel:"rgba",zminDflt:[0,0,0,0],zmaxDflt:[255,255,255,255],min:[0,0,0,0],max:[255,255,255,1],fmt:function(e){return e.slice(0,4)},suffix:["","","",""]},hsl:{min:[0,0,0],max:[360,100,100],fmt:function(e){var t=e.slice(0,3);return t[1]=t[1]+"%",t[2]=t[2]+"%",t},suffix:["°","%","%"]},hsla:{min:[0,0,0,0],max:[360,100,100,1],fmt:function(e){var t=e.slice(0,4);return t[1]=t[1]+"%",t[2]=t[2]+"%",t},suffix:["°","%","%",""]}}}},{}],396:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("./attributes"),o=e("./constants"),a=e("../../snapshot/helpers").IMAGE_URL_PREFIX;t.exports=function(e,t){function n(n,o){return r.coerce(e,t,i,n,o)}n("source"),t.source&&!t.source.match(a)&&delete t.source,t._hasSource=!!t.source;var s,l=n("z");t._hasZ=!(void 0===l||!l.length||!l[0]||!l[0].length),t._hasZ||t._hasSource?(n("x0"),n("y0"),n("dx"),n("dy"),t._hasZ?(n("colormodel","rgb"),n("zmin",(s=o.colormodel[t.colormodel]).zminDflt||s.min),n("zmax",s.zmaxDflt||s.max)):t._hasSource&&(t.colormodel="rgba256",s=o.colormodel[t.colormodel],t.zmin=s.zminDflt,t.zmax=s.zmaxDflt),n("text"),n("hovertext"),n("hovertemplate"),t._length=null):t.visible=!1}},{"../../lib":203,"../../snapshot/helpers":299,"./attributes":393,"./constants":395}],397:[function(e,t,n){"use strict";t.exports=function(e,t){return"xVal"in t&&(e.x=t.xVal),"yVal"in t&&(e.y=t.yVal),t.xa&&(e.xaxis=t.xa),t.ya&&(e.yaxis=t.ya),e.color=t.color,e.colormodel=t.trace.colormodel,e.z||(e.z=t.color),e}},{}],398:[function(e,t,n){"use strict";var r=e("image-size"),i=e("../../snapshot/helpers").IMAGE_URL_PREFIX,o=e("buffer/").Buffer;n.getImageSize=function(e){var t=e.replace(i,""),n=new o(t,"base64");return r(n)}},{"../../snapshot/helpers":299,"buffer/":18,"image-size":29}],399:[function(e,t,n){"use strict";var r=e("../../components/fx"),i=e("../../lib"),o=e("./constants");t.exports=function(e,t,n){var a=e.cd[0],s=a.trace,l=e.xa,u=e.ya;if(!(r.inbox(t-a.x0,t-(a.x0+a.w*s.dx),0)>0||r.inbox(n-a.y0,n-(a.y0+a.h*s.dy),0)>0)){var c,f=Math.floor((t-a.x0)/s.dx),d=Math.floor(Math.abs(n-a.y0)/s.dy);if(s._hasZ?c=a.z[d][f]:s._hasSource&&(c=s._canvas.el.getContext("2d").getImageData(f,d,1,1).data),c){var p,h=a.hi||s.hoverinfo;if(h){var g=h.split("+");-1!==g.indexOf("all")&&(g=["color"]),-1!==g.indexOf("color")&&(p=!0)}var m,y=o.colormodel[s.colormodel],v=y.colormodel||s.colormodel,b=v.length,x=s._scaler(c),_=y.suffix,w=[];(s.hovertemplate||p)&&(w.push("["+[x[0]+_[0],x[1]+_[1],x[2]+_[2]].join(", ")),4===b&&w.push(", "+x[3]+_[3]),w.push("]"),w=w.join(""),e.extraText=v.toUpperCase()+": "+w),Array.isArray(s.hovertext)&&Array.isArray(s.hovertext[d])?m=s.hovertext[d][f]:Array.isArray(s.text)&&Array.isArray(s.text[d])&&(m=s.text[d][f]);var k=u.c2p(a.y0+(d+.5)*s.dy),T=a.x0+(f+.5)*s.dx,C=a.y0+(d+.5)*s.dy,O="["+c.slice(0,s.colormodel.length).join(", ")+"]";return[i.extendFlat(e,{index:[d,f],x0:l.c2p(a.x0+f*s.dx),x1:l.c2p(a.x0+(f+1)*s.dx),y0:k,y1:k,color:x,xVal:T,xLabelVal:T,yVal:C,yLabelVal:C,zLabelVal:O,text:m,hovertemplateLabels:{zLabel:O,colorLabel:w,"color[0]Label":x[0]+_[0],"color[1]Label":x[1]+_[1],"color[2]Label":x[2]+_[2],"color[3]Label":x[3]+_[3]}})]}}}},{"../../components/fx":115,"../../lib":203,"./constants":395}],400:[function(e,t,n){"use strict";t.exports={attributes:e("./attributes"),supplyDefaults:e("./defaults"),calc:e("./calc"),plot:e("./plot"),style:e("./style"),hoverPoints:e("./hover"),eventData:e("./event_data"),moduleType:"trace",name:"image",basePlotModule:e("../../plots/cartesian"),categories:["cartesian","svg","2dMap","noSortingByValue"],animatable:!1,meta:{}}},{"../../plots/cartesian":261,"./attributes":393,"./calc":394,"./defaults":396,"./event_data":397,"./hover":399,"./plot":401,"./style":402}],401:[function(e,t,n){"use strict";var r=e("d3"),i=e("../../lib"),o=e("../../constants/xmlns_namespaces"),a=e("./constants"),s=i.isIOS()||i.isSafari()||i.isIE();function l(e){return"linear"===e.type&&e.range[1]>e.range[0]==("x"===e._id.charAt(0))}t.exports=function(e,t,n,u){var c=t.xaxis,f=t.yaxis,d=!(s||e._context._exportedPlot);i.makeTraceGroups(u,n,"im").each((function(t){var n=r.select(this),s=t[0],u=s.trace,p=d&&!u._hasZ&&u._hasSource&&l(c)&&l(f);u._fastImage=p;var h,g,m,y,v,b,x=s.z,_=s.x0,w=s.y0,k=s.w,T=s.h,C=u.dx,O=u.dy;for(b=0;void 0===h&&b<k;)h=c.c2p(_+b*C),b++;for(b=k;void 0===g&&b>0;)g=c.c2p(_+b*C),b--;for(b=0;void 0===y&&b<T;)y=f.c2p(w+b*O),b++;for(b=T;void 0===v&&b>0;)v=f.c2p(w+b*O),b--;if(g<h&&(m=g,g=h,h=m),v<y&&(m=y,y=v,v=m),!p){h=Math.max(-.5*c._length,h),g=Math.min(1.5*c._length,g),y=Math.max(-.5*f._length,y),v=Math.min(1.5*f._length,v)}var S=Math.round(g-h),A=Math.round(v-y);if(S<=0||A<=0)n.selectAll("image").data([]).exit().remove();else{var M=n.selectAll("image").data([t]);M.enter().append("svg:image").attr({xmlns:o.svg,preserveAspectRatio:"none"}),M.exit().remove(),M.attr("style","image-rendering: optimizeSpeed; image-rendering: -moz-crisp-edges; image-rendering: -o-crisp-edges; image-rendering: -webkit-optimize-contrast; image-rendering: optimize-contrast; image-rendering: crisp-edges; image-rendering: pixelated;");var E=new Promise((function(e){if(u._hasZ)e();else if(u._hasSource)if(u._canvas&&u._canvas.el.width===k&&u._canvas.el.height===T&&u._canvas.source===u.source)e();else{var t=document.createElement("canvas");t.width=k,t.height=T;var n=t.getContext("2d");u._image=u._image||new Image;var r=u._image;r.onload=function(){n.drawImage(r,0,0),u._canvas={el:t,source:u.source},e()},r.setAttribute("src",u.source)}})).then((function(){var e;if(u._hasZ)e=P((function(e,t){return x[t][e]})).toDataURL("image/png");else if(u._hasSource)if(p)e=u.source;else{var t=u._canvas.el.getContext("2d").getImageData(0,0,k,T).data;e=P((function(e,n){var r=4*(n*k+e);return[t[r],t[r+1],t[r+2],t[r+3]]})).toDataURL("image/png")}M.attr({"xlink:href":e,height:A,width:S,x:h,y})}));e._promises.push(E)}function P(e){var t=document.createElement("canvas");t.width=S,t.height=A;var n,r=t.getContext("2d"),o=function(e){return i.constrain(Math.round(c.c2p(_+e*C)-h),0,S)},l=function(e){return i.constrain(Math.round(f.c2p(w+e*O)-y),0,A)},d=a.colormodel[u.colormodel],p=d.colormodel||u.colormodel,g=d.fmt;for(b=0;b<s.w;b++){var m=o(b),v=o(b+1);if(v!==m&&!isNaN(v)&&!isNaN(m))for(var x=0;x<s.h;x++){var k=l(x),T=l(x+1);T===k||isNaN(T)||isNaN(k)||!e(b,x)||(n=u._scaler(e(b,x)),r.fillStyle=n?p+"("+g(n).join(",")+")":"rgba(0,0,0,0)",r.fillRect(m,k,v-m,T-k))}}return t}}))}},{"../../constants/xmlns_namespaces":183,"../../lib":203,"./constants":395,d3:21}],402:[function(e,t,n){"use strict";var r=e("d3");t.exports=function(e){r.select(e).selectAll(".im image").style("opacity",(function(e){return e[0].trace.opacity}))}},{d3:21}],403:[function(e,t,n){"use strict";var r=e("../../plots/attributes"),i=e("../../plots/domain").attributes,o=e("../../plots/font_attributes"),a=e("../../components/color/attributes"),s=e("../../plots/template_attributes").hovertemplateAttrs,l=e("../../plots/template_attributes").texttemplateAttrs,u=e("../../lib/extend").extendFlat,c=o({editType:"plot",arrayOk:!0,colorEditType:"plot"});t.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:a.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:u({},r.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:s({},{keys:["label","color","value","percent","text"]}),texttemplate:l({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:u({},c,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:u({},c,{}),outsidetextfont:u({},c,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:u({},c,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:i({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"number",min:-360,max:360,dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:u({},c,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},{"../../components/color/attributes":74,"../../lib/extend":197,"../../plots/attributes":244,"../../plots/domain":275,"../../plots/font_attributes":276,"../../plots/template_attributes":290}],404:[function(e,t,n){"use strict";var r=e("../../plots/plots");n.name="pie",n.plot=function(e,t,i,o){r.plotBasePlot(n.name,e,t,i,o)},n.clean=function(e,t,i,o){r.cleanBasePlot(n.name,e,t,i,o)}},{"../../plots/plots":282}],405:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("tinycolor2"),o=e("../../components/color"),a={};function s(e){return function(t,n){return!!t&&!!(t=i(t)).isValid()&&(t=o.addOpacity(t,t.getAlpha()),e[n]||(e[n]=t),t)}}function l(e,t){var n,r=JSON.stringify(e),o=t[r];if(!o){for(o=e.slice(),n=0;n<e.length;n++)o.push(i(e[n]).lighten(20).toHexString());for(n=0;n<e.length;n++)o.push(i(e[n]).darken(20).toHexString());t[r]=o}return o}t.exports={calc:function(e,t){var n,i,o=[],a=e._fullLayout,l=a.hiddenlabels||[],u=t.labels,c=t.marker.colors||[],f=t.values,d=t._length,p=t._hasValues&&d;if(t.dlabel)for(u=new Array(d),n=0;n<d;n++)u[n]=String(t.label0+n*t.dlabel);var h={},g=s(a["_"+t.type+"colormap"]),m=0,y=!1;for(n=0;n<d;n++){var v,b,x;if(p){if(v=f[n],!r(v))continue;if((v=+v)<0)continue}else v=1;void 0!==(b=u[n])&&""!==b||(b=n);var _=h[b=String(b)];void 0===_?(h[b]=o.length,(x=-1!==l.indexOf(b))||(m+=v),o.push({v,label:b,color:g(c[n],b),i:n,pts:[n],hidden:x})):(y=!0,(i=o[_]).v+=v,i.pts.push(n),i.hidden||(m+=v),!1===i.color&&c[n]&&(i.color=g(c[n],b)))}return("funnelarea"===t.type?y:t.sort)&&o.sort((function(e,t){return t.v-e.v})),o[0]&&(o[0].vTotal=m),o},crossTraceCalc:function(e,t){var n=(t||{}).type;n||(n="pie");var r=e._fullLayout,i=e.calcdata,o=r[n+"colorway"],s=r["_"+n+"colormap"];r["extend"+n+"colors"]&&(o=l(o,a));for(var u=0,c=0;c<i.length;c++){var f=i[c];if(f[0].trace.type===n)for(var d=0;d<f.length;d++){var p=f[d];!1===p.color&&(s[p.label]?p.color=s[p.label]:(s[p.label]=p.color=o[u%o.length],u++))}}},makePullColorFn:s,generateExtendedColors:l}},{"../../components/color":75,"fast-isnumeric":23,tinycolor2:58}],406:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../../lib"),o=e("./attributes"),a=e("../../plots/domain").defaults,s=e("../bar/defaults").handleText;function l(e,t){var n=Array.isArray(e),o=i.isArrayOrTypedArray(t),a=Math.min(n?e.length:1/0,o?t.length:1/0);if(isFinite(a)||(a=0),a&&o){for(var s,l=0;l<a;l++){var u=t[l];if(r(u)&&u>0){s=!0;break}}s||(a=0)}return{hasLabels:n,hasValues:o,len:a}}t.exports={handleLabelsAndValues:l,supplyDefaults:function(e,t,n,r){function u(n,r){return i.coerce(e,t,o,n,r)}var c=l(u("labels"),u("values")),f=c.len;if(t._hasLabels=c.hasLabels,t._hasValues=c.hasValues,!t._hasLabels&&t._hasValues&&(u("label0"),u("dlabel")),f){t._length=f,u("marker.line.width")&&u("marker.line.color"),u("marker.colors"),u("scalegroup");var d,p=u("text"),h=u("texttemplate");if(h||(d=u("textinfo",Array.isArray(p)?"text+percent":"percent")),u("hovertext"),u("hovertemplate"),h||d&&"none"!==d){var g=u("textposition");s(e,t,r,u,g,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),(Array.isArray(g)||"auto"===g||"outside"===g)&&u("automargin"),("inside"===g||"auto"===g||Array.isArray(g))&&u("insidetextorientation")}a(t,r,u);var m=u("hole");if(u("title.text")){var y=u("title.position",m?"middle center":"top center");m||"middle center"!==y||(t.title.position="top center"),i.coerceFont(u,"title.font",r.font)}u("sort"),u("direction"),u("rotation"),u("pull")}else t.visible=!1}}},{"../../lib":203,"../../plots/domain":275,"../bar/defaults":309,"./attributes":403,"fast-isnumeric":23}],407:[function(e,t,n){"use strict";var r=e("../../components/fx/helpers").appendArrayMultiPointValues;t.exports=function(e,t){var n={curveNumber:t.index,pointNumbers:e.pts,data:t._input,fullData:t,label:e.label,color:e.color,value:e.v,percent:e.percent,text:e.text,v:e.v};return 1===e.pts.length&&(n.pointNumber=n.i=e.pts[0]),r(n,t,e.pts),"funnelarea"===t.type&&(delete n.v,delete n.i),n}},{"../../components/fx/helpers":111}],408:[function(e,t,n){"use strict";var r=e("../../lib");function i(e){return-1!==e.indexOf("e")?e.replace(/[.]?0+e/,"e"):-1!==e.indexOf(".")?e.replace(/[.]?0+$/,""):e}n.formatPiePercent=function(e,t){var n=i((100*e).toPrecision(3));return r.numSeparate(n,t)+"%"},n.formatPieValue=function(e,t){var n=i(e.toPrecision(10));return r.numSeparate(n,t)},n.getFirstFilled=function(e,t){if(Array.isArray(e))for(var n=0;n<t.length;n++){var r=e[t[n]];if(r||0===r||""===r)return r}},n.castOption=function(e,t){return Array.isArray(e)?n.getFirstFilled(e,t):e||void 0},n.getRotationAngle=function(e){return("auto"===e?0:e)*Math.PI/180}},{"../../lib":203}],409:[function(e,t,n){"use strict";t.exports={attributes:e("./attributes"),supplyDefaults:e("./defaults").supplyDefaults,supplyLayoutDefaults:e("./layout_defaults"),layoutAttributes:e("./layout_attributes"),calc:e("./calc").calc,crossTraceCalc:e("./calc").crossTraceCalc,plot:e("./plot").plot,style:e("./style"),styleOne:e("./style_one"),moduleType:"trace",name:"pie",basePlotModule:e("./base_plot"),categories:["pie-like","pie","showLegend"],meta:{}}},{"./attributes":403,"./base_plot":404,"./calc":405,"./defaults":406,"./layout_attributes":410,"./layout_defaults":411,"./plot":412,"./style":413,"./style_one":414}],410:[function(e,t,n){"use strict";t.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},{}],411:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("./layout_attributes");t.exports=function(e,t){function n(n,o){return r.coerce(e,t,i,n,o)}n("hiddenlabels"),n("piecolorway",t.colorway),n("extendpiecolors")}},{"../../lib":203,"./layout_attributes":410}],412:[function(e,t,n){"use strict";var r=e("d3"),i=e("../../plots/plots"),o=e("../../components/fx"),a=e("../../components/color"),s=e("../../components/drawing"),l=e("../../lib"),u=e("../../lib/svg_text_utils"),c=e("../bar/uniform_text"),f=c.recordMinTextSize,d=c.clearMinTextSize,p=e("../bar/constants").TEXTPAD,h=e("./helpers"),g=e("./event_data"),m=e("../../lib").isValidTextValue;function y(e,t,n){var i=n[0],a=i.trace,s=i.cx,u=i.cy;"_hasHoverLabel"in a||(a._hasHoverLabel=!1),"_hasHoverEvent"in a||(a._hasHoverEvent=!1),e.on("mouseover",(function(e){var n=t._fullLayout,c=t._fullData[a.index];if(!t._dragging&&!1!==n.hovermode){var f=c.hoverinfo;if(Array.isArray(f)&&(f=o.castHoverinfo({hoverinfo:[h.castOption(f,e.pts)],_module:a._module},n,0)),"all"===f&&(f="label+text+value+percent+name"),c.hovertemplate||"none"!==f&&"skip"!==f&&f){var d=e.rInscribed||0,p=s+e.pxmid[0]*(1-d),m=u+e.pxmid[1]*(1-d),y=n.separators,v=[];if(f&&-1!==f.indexOf("label")&&v.push(e.label),e.text=h.castOption(c.hovertext||c.text,e.pts),f&&-1!==f.indexOf("text")){var b=e.text;l.isValidTextValue(b)&&v.push(b)}e.value=e.v,e.valueLabel=h.formatPieValue(e.v,y),f&&-1!==f.indexOf("value")&&v.push(e.valueLabel),e.percent=e.v/i.vTotal,e.percentLabel=h.formatPiePercent(e.percent,y),f&&-1!==f.indexOf("percent")&&v.push(e.percentLabel);var x=c.hoverlabel,_=x.font;o.loneHover({trace:a,x0:p-d*i.r,x1:p+d*i.r,y:m,text:v.join("<br>"),name:c.hovertemplate||-1!==f.indexOf("name")?c.name:void 0,idealAlign:e.pxmid[0]<0?"left":"right",color:h.castOption(x.bgcolor,e.pts)||e.color,borderColor:h.castOption(x.bordercolor,e.pts),fontFamily:h.castOption(_.family,e.pts),fontSize:h.castOption(_.size,e.pts),fontColor:h.castOption(_.color,e.pts),nameLength:h.castOption(x.namelength,e.pts),textAlign:h.castOption(x.align,e.pts),hovertemplate:h.castOption(c.hovertemplate,e.pts),hovertemplateLabels:e,eventData:[g(e,c)]},{container:n._hoverlayer.node(),outerContainer:n._paper.node(),gd:t}),a._hasHoverLabel=!0}a._hasHoverEvent=!0,t.emit("plotly_hover",{points:[g(e,c)],event:r.event})}})),e.on("mouseout",(function(e){var n=t._fullLayout,i=t._fullData[a.index],s=r.select(this).datum();a._hasHoverEvent&&(e.originalEvent=r.event,t.emit("plotly_unhover",{points:[g(s,i)],event:r.event}),a._hasHoverEvent=!1),a._hasHoverLabel&&(o.loneUnhover(n._hoverlayer.node()),a._hasHoverLabel=!1)})),e.on("click",(function(e){var n=t._fullLayout,i=t._fullData[a.index];t._dragging||!1===n.hovermode||(t._hoverdata=[g(e,i)],o.click(t,r.event))}))}function v(e,t,n){var r=h.castOption(e.insidetextfont.color,t.pts);!r&&e._input.textfont&&(r=h.castOption(e._input.textfont.color,t.pts));var i=h.castOption(e.insidetextfont.family,t.pts)||h.castOption(e.textfont.family,t.pts)||n.family,o=h.castOption(e.insidetextfont.size,t.pts)||h.castOption(e.textfont.size,t.pts)||n.size;return{color:r||a.contrast(t.color),family:i,size:o}}function b(e,t){for(var n,r,i=0;i<e.length;i++)if((r=(n=e[i][0]).trace).title.text){var o=r.title.text;r._meta&&(o=l.templateString(o,r._meta));var a=s.tester.append("text").attr("data-notex",1).text(o).call(s.font,r.title.font).call(u.convertToTspans,t),c=s.bBox(a.node(),!0);n.titleBox={width:c.width,height:c.height},a.remove()}}function x(e,t,n){var r=n.r||t.rpx1,i=t.rInscribed;if(t.startangle===t.stopangle)return{rCenter:1-i,scale:0,rotate:0,textPosAngle:0};var o,a=t.ring,s=1===a&&Math.abs(t.startangle-t.stopangle)===2*Math.PI,l=t.halfangle,u=t.midangle,c=n.trace.insidetextorientation,f="horizontal"===c,d="tangential"===c,p="radial"===c,h="auto"===c,g=[];if(!h){var m,y=function(n,i){if(function(e,t){var n=e.startangle,r=e.stopangle;return n>t&&t>r||n<t&&t<r}(t,n)){var s=Math.abs(n-t.startangle),l=Math.abs(n-t.stopangle),u=s<l?s:l;(o="tan"===i?w(e,r,a,u,0):_(e,r,a,u,Math.PI/2)).textPosAngle=n,g.push(o)}};if(f||d){for(m=4;m>=-4;m-=2)y(Math.PI*m,"tan");for(m=4;m>=-4;m-=2)y(Math.PI*(m+1),"tan")}if(f||p){for(m=4;m>=-4;m-=2)y(Math.PI*(m+1.5),"rad");for(m=4;m>=-4;m-=2)y(Math.PI*(m+.5),"rad")}}if(s||h||f){var v=Math.sqrt(e.width*e.width+e.height*e.height);if((o={scale:i*r*2/v,rCenter:1-i,rotate:0}).textPosAngle=(t.startangle+t.stopangle)/2,o.scale>=1)return o;g.push(o)}(h||p)&&((o=_(e,r,a,l,u)).textPosAngle=(t.startangle+t.stopangle)/2,g.push(o)),(h||d)&&((o=w(e,r,a,l,u)).textPosAngle=(t.startangle+t.stopangle)/2,g.push(o));for(var b=0,x=0,k=0;k<g.length;k++){var T=g[k].scale;if(x<T&&(x=T,b=k),!h&&x>=1)break}return g[b]}function _(e,t,n,r,i){t=Math.max(0,t-2*p);var o=e.width/e.height,a=C(o,r,t,n);return{scale:2*a/e.height,rCenter:k(o,a/t),rotate:T(i)}}function w(e,t,n,r,i){t=Math.max(0,t-2*p);var o=e.height/e.width,a=C(o,r,t,n);return{scale:2*a/e.width,rCenter:k(o,a/t),rotate:T(i+Math.PI/2)}}function k(e,t){return Math.cos(t)-e*t}function T(e){return(180/Math.PI*e+720)%180-90}function C(e,t,n,r){var i=e+1/(2*Math.tan(t));return n*Math.min(1/(Math.sqrt(i*i+.5)+i),r/(Math.sqrt(e*e+r/2)+e))}function O(e,t){return e.v!==t.vTotal||t.trace.hole?Math.min(1/(1+1/Math.sin(e.halfangle)),e.ring/2):1}function S(e,t){var n=t.pxmid[0],r=t.pxmid[1],i=e.width/2,o=e.height/2;return n<0&&(i*=-1),r<0&&(o*=-1),{scale:1,rCenter:1,rotate:0,x:i+Math.abs(o)*(i>0?1:-1)/2,y:o/(1+n*n/(r*r)),outside:!0}}function A(e,t){var n,r,i,o=e.trace,a={x:e.cx,y:e.cy},s={tx:0,ty:0};s.ty+=o.title.font.size,n=E(o),-1!==o.title.position.indexOf("top")?(a.y-=(1+n)*e.r,s.ty-=e.titleBox.height):-1!==o.title.position.indexOf("bottom")&&(a.y+=(1+n)*e.r);var l,u,c=(l=e.r,u=e.trace.aspectratio,l/(void 0===u?1:u)),f=t.w*(o.domain.x[1]-o.domain.x[0])/2;return-1!==o.title.position.indexOf("left")?(f+=c,a.x-=(1+n)*c,s.tx+=e.titleBox.width/2):-1!==o.title.position.indexOf("center")?f*=2:-1!==o.title.position.indexOf("right")&&(f+=c,a.x+=(1+n)*c,s.tx-=e.titleBox.width/2),r=f/e.titleBox.width,i=M(e,t)/e.titleBox.height,{x:a.x,y:a.y,scale:Math.min(r,i),tx:s.tx,ty:s.ty}}function M(e,t){var n=e.trace,r=t.h*(n.domain.y[1]-n.domain.y[0]);return Math.min(e.titleBox.height,r/2)}function E(e){var t,n=e.pull;if(!n)return 0;if(Array.isArray(n))for(n=0,t=0;t<e.pull.length;t++)e.pull[t]>n&&(n=e.pull[t]);return n}function P(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r][0],o=i.trace,a=o.domain,s=t.w*(a.x[1]-a.x[0]),l=t.h*(a.y[1]-a.y[0]);o.title.text&&"middle center"!==o.title.position&&(l-=M(i,t));var u=s/2,c=l/2;"funnelarea"!==o.type||o.scalegroup||(c/=o.aspectratio),i.r=Math.min(u,c)/(1+E(o)),i.cx=t.l+t.w*(o.domain.x[1]+o.domain.x[0])/2,i.cy=t.t+t.h*(1-o.domain.y[0])-l/2,o.title.text&&-1!==o.title.position.indexOf("bottom")&&(i.cy-=M(i,t)),o.scalegroup&&-1===n.indexOf(o.scalegroup)&&n.push(o.scalegroup)}!function(e,t){for(var n,r,i,o=0;o<t.length;o++){var a=1/0,s=t[o];for(r=0;r<e.length;r++)if((i=(n=e[r][0]).trace).scalegroup===s){var l;if("pie"===i.type)l=n.r*n.r;else if("funnelarea"===i.type){var u,c;i.aspectratio>1?c=(u=n.r)/i.aspectratio:u=(c=n.r)*i.aspectratio,l=(u*=(1+i.baseratio)/2)*c}a=Math.min(a,l/n.vTotal)}for(r=0;r<e.length;r++)if((i=(n=e[r][0]).trace).scalegroup===s){var f=a*n.vTotal;"funnelarea"===i.type&&(f/=(1+i.baseratio)/2,f/=i.aspectratio),n.r=Math.sqrt(f)}}}(e,n)}function D(e,t){return[e*Math.sin(t),-e*Math.cos(t)]}function L(e,t,n){var r=e._fullLayout,i=n.trace,o=i.texttemplate,a=i.textinfo;if(!o&&a&&"none"!==a){var s,u=a.split("+"),c=function(e){return-1!==u.indexOf(e)},f=c("label"),d=c("text"),p=c("value"),g=c("percent"),y=r.separators;if(s=f?[t.label]:[],d){var v=h.getFirstFilled(i.text,t.pts);m(v)&&s.push(v)}p&&s.push(h.formatPieValue(t.v,y)),g&&s.push(h.formatPiePercent(t.v/n.vTotal,y)),t.text=s.join("<br>")}if(o){var b=l.castOption(i,t.i,"texttemplate");if(b){var x=function(e){return{label:e.label,value:e.v,valueLabel:h.formatPieValue(e.v,r.separators),percent:e.v/n.vTotal,percentLabel:h.formatPiePercent(e.v/n.vTotal,r.separators),color:e.color,text:e.text,customdata:l.castOption(i,e.i,"customdata")}}(t),_=h.getFirstFilled(i.text,t.pts);(m(_)||""===_)&&(x.text=_),t.text=l.texttemplateString(b,x,e._fullLayout._d3locale,x,i._meta||{})}else t.text=""}}function R(e,t){var n=e.rotate*Math.PI/180,r=Math.cos(n),i=Math.sin(n),o=(t.left+t.right)/2,a=(t.top+t.bottom)/2;e.textX=o*r-a*i,e.textY=o*i+a*r,e.noCenter=!0}t.exports={plot:function(e,t){var n=e._fullLayout,o=n._size;d("pie",n),b(t,e),P(t,o);var c=l.makeTraceGroups(n._pielayer,t,"trace").each((function(t){var c=r.select(this),d=t[0],p=d.trace;(function(e){var t,n,r,i=e[0],o=i.r,a=i.trace,s=h.getRotationAngle(a.rotation),l=2*Math.PI/i.vTotal,u="px0",c="px1";if("counterclockwise"===a.direction){for(t=0;t<e.length&&e[t].hidden;t++);if(t===e.length)return;s+=l*e[t].v,l*=-1,u="px1",c="px0"}for(r=D(o,s),t=0;t<e.length;t++)(n=e[t]).hidden||(n[u]=r,n.startangle=s,s+=l*n.v/2,n.pxmid=D(o,s),n.midangle=s,r=D(o,s+=l*n.v/2),n.stopangle=s,n[c]=r,n.largeArc=n.v>i.vTotal/2?1:0,n.halfangle=Math.PI*Math.min(n.v/i.vTotal,.5),n.ring=1-a.hole,n.rInscribed=O(n,i))})(t),c.attr("stroke-linejoin","round"),c.each((function(){var g=r.select(this).selectAll("g.slice").data(t);g.enter().append("g").classed("slice",!0),g.exit().remove();var m=[[[],[]],[[],[]]],b=!1;g.each((function(i,o){if(i.hidden)r.select(this).selectAll("path,g").remove();else{i.pointNumber=i.i,i.curveNumber=p.index,m[i.pxmid[1]<0?0:1][i.pxmid[0]<0?0:1].push(i);var a=d.cx,c=d.cy,g=r.select(this),_=g.selectAll("path.surface").data([i]);if(_.enter().append("path").classed("surface",!0).style({"pointer-events":"all"}),g.call(y,e,t),p.pull){var w=+h.castOption(p.pull,i.pts)||0;w>0&&(a+=w*i.pxmid[0],c+=w*i.pxmid[1])}i.cxFinal=a,i.cyFinal=c;var k=p.hole;if(i.v===d.vTotal){var T="M"+(a+i.px0[0])+","+(c+i.px0[1])+E(i.px0,i.pxmid,!0,1)+E(i.pxmid,i.px0,!0,1)+"Z";k?_.attr("d","M"+(a+k*i.px0[0])+","+(c+k*i.px0[1])+E(i.px0,i.pxmid,!1,k)+E(i.pxmid,i.px0,!1,k)+"Z"+T):_.attr("d",T)}else{var C=E(i.px0,i.px1,!0,1);if(k){var O=1-k;_.attr("d","M"+(a+k*i.px1[0])+","+(c+k*i.px1[1])+E(i.px1,i.px0,!1,k)+"l"+O*i.px0[0]+","+O*i.px0[1]+C+"Z")}else _.attr("d","M"+a+","+c+"l"+i.px0[0]+","+i.px0[1]+C+"Z")}L(e,i,d);var A=h.castOption(p.textposition,i.pts),M=g.selectAll("g.slicetext").data(i.text&&"none"!==A?[0]:[]);M.enter().append("g").classed("slicetext",!0),M.exit().remove(),M.each((function(){var g=l.ensureSingle(r.select(this),"text","",(function(e){e.attr("data-notex",1)})),m=l.ensureUniformFontSize(e,"outside"===A?function(e,t,n){return{color:h.castOption(e.outsidetextfont.color,t.pts)||h.castOption(e.textfont.color,t.pts)||n.color,family:h.castOption(e.outsidetextfont.family,t.pts)||h.castOption(e.textfont.family,t.pts)||n.family,size:h.castOption(e.outsidetextfont.size,t.pts)||h.castOption(e.textfont.size,t.pts)||n.size}}(p,i,n.font):v(p,i,n.font));g.text(i.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(s.font,m).call(u.convertToTspans,e);var y,_=s.bBox(g.node());if("outside"===A)y=S(_,i);else if(y=x(_,i,d),"auto"===A&&y.scale<1){var w=l.ensureUniformFontSize(e,p.outsidetextfont);g.call(s.font,w),y=S(_=s.bBox(g.node()),i)}var k=y.textPosAngle,T=void 0===k?i.pxmid:D(d.r,k);if(y.targetX=a+T[0]*y.rCenter+(y.x||0),y.targetY=c+T[1]*y.rCenter+(y.y||0),R(y,_),y.outside){var C=y.targetY;i.yLabelMin=C-_.height/2,i.yLabelMid=C,i.yLabelMax=C+_.height/2,i.labelExtraX=0,i.labelExtraY=0,b=!0}y.fontSize=m.size,f(p.type,y,n),t[o].transform=y,g.attr("transform",l.getTextTransform(y))}))}function E(e,t,n,r){var o=r*(t[0]-e[0]),a=r*(t[1]-e[1]);return"a"+r*d.r+","+r*d.r+" 0 "+i.largeArc+(n?" 1 ":" 0 ")+o+","+a}}));var _=r.select(this).selectAll("g.titletext").data(p.title.text?[0]:[]);if(_.enter().append("g").classed("titletext",!0),_.exit().remove(),_.each((function(){var t,n=l.ensureSingle(r.select(this),"text","",(function(e){e.attr("data-notex",1)})),i=p.title.text;p._meta&&(i=l.templateString(i,p._meta)),n.text(i).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(s.font,p.title.font).call(u.convertToTspans,e),t="middle center"===p.title.position?function(e){var t=Math.sqrt(e.titleBox.width*e.titleBox.width+e.titleBox.height*e.titleBox.height);return{x:e.cx,y:e.cy,scale:e.trace.hole*e.r*2/t,tx:0,ty:-e.titleBox.height/2+e.trace.title.font.size}}(d):A(d,o),n.attr("transform","translate("+t.x+","+t.y+")"+(t.scale<1?"scale("+t.scale+")":"")+"translate("+t.tx+","+t.ty+")")})),b&&function(e,t){var n,r,i,o,a,s,l,u,c,f,d,p,g;function m(e,t){return e.pxmid[1]-t.pxmid[1]}function y(e,t){return t.pxmid[1]-e.pxmid[1]}function v(e,n){n||(n={});var i,u,c,d,p=n.labelExtraY+(r?n.yLabelMax:n.yLabelMin),g=r?e.yLabelMin:e.yLabelMax,m=r?e.yLabelMax:e.yLabelMin,y=e.cyFinal+a(e.px0[1],e.px1[1]),v=p-g;if(v*l>0&&(e.labelExtraY=v),Array.isArray(t.pull))for(u=0;u<f.length;u++)(c=f[u])===e||(h.castOption(t.pull,e.pts)||0)>=(h.castOption(t.pull,c.pts)||0)||((e.pxmid[1]-c.pxmid[1])*l>0?(v=c.cyFinal+a(c.px0[1],c.px1[1])-g-e.labelExtraY)*l>0&&(e.labelExtraY+=v):(m+e.labelExtraY-y)*l>0&&(i=3*s*Math.abs(u-f.indexOf(e)),(d=c.cxFinal+o(c.px0[0],c.px1[0])+i-(e.cxFinal+e.pxmid[0])-e.labelExtraX)*s>0&&(e.labelExtraX+=d)))}for(r=0;r<2;r++)for(i=r?m:y,a=r?Math.max:Math.min,l=r?1:-1,n=0;n<2;n++){for(o=n?Math.max:Math.min,s=n?1:-1,(u=e[r][n]).sort(i),c=e[1-r][n],f=c.concat(u),p=[],d=0;d<u.length;d++)void 0!==u[d].yLabelMid&&p.push(u[d]);for(g=!1,d=0;r&&d<c.length;d++)if(void 0!==c[d].yLabelMid){g=c[d];break}for(d=0;d<p.length;d++){var b=d&&p[d-1];g&&!d&&(b=g),v(p[d],b)}}}(m,p),function(e,t){e.each((function(e){var n=r.select(this);if(e.labelExtraX||e.labelExtraY){var i=n.select("g.slicetext text");e.transform.targetX+=e.labelExtraX,e.transform.targetY+=e.labelExtraY,i.attr("transform",l.getTextTransform(e.transform));var o=e.cxFinal+e.pxmid[0],s="M"+o+","+(e.cyFinal+e.pxmid[1]),u=(e.yLabelMax-e.yLabelMin)*(e.pxmid[0]<0?-1:1)/4;if(e.labelExtraX){var c=e.labelExtraX*e.pxmid[1]/e.pxmid[0],f=e.yLabelMid+e.labelExtraY-(e.cyFinal+e.pxmid[1]);Math.abs(c)>Math.abs(f)?s+="l"+f*e.pxmid[0]/e.pxmid[1]+","+f+"H"+(o+e.labelExtraX+u):s+="l"+e.labelExtraX+","+c+"v"+(f-c)+"h"+u}else s+="V"+(e.yLabelMid+e.labelExtraY)+"h"+u;l.ensureSingle(n,"path","textline").call(a.stroke,t.outsidetextfont.color).attr({"stroke-width":Math.min(2,t.outsidetextfont.size/8),d:s,fill:"none"})}else n.select("path.textline").remove()}))}(g,p),b&&p.automargin){var w=s.bBox(c.node()),k=p.domain,T=o.w*(k.x[1]-k.x[0]),C=o.h*(k.y[1]-k.y[0]),O=(.5*T-d.r)/o.w,M=(.5*C-d.r)/o.h;i.autoMargin(e,"pie."+p.uid+".automargin",{xl:k.x[0]-O,xr:k.x[1]+O,yb:k.y[0]-M,yt:k.y[1]+M,l:Math.max(d.cx-d.r-w.left,0),r:Math.max(w.right-(d.cx+d.r),0),b:Math.max(w.bottom-(d.cy+d.r),0),t:Math.max(d.cy-d.r-w.top,0),pad:5})}}))}));setTimeout((function(){c.selectAll("tspan").each((function(){var e=r.select(this);e.attr("dy")&&e.attr("dy",e.attr("dy"))}))}),0)},formatSliceLabel:L,transformInsideText:x,determineInsideTextFont:v,positionTitleOutside:A,prerenderTitles:b,layoutAreas:P,attachFxHandlers:y,computeTransform:R}},{"../../components/color":75,"../../components/drawing":97,"../../components/fx":115,"../../lib":203,"../../lib/svg_text_utils":224,"../../plots/plots":282,"../bar/constants":307,"../bar/uniform_text":321,"./event_data":407,"./helpers":408,d3:21}],413:[function(e,t,n){"use strict";var r=e("d3"),i=e("./style_one"),o=e("../bar/uniform_text").resizeText;t.exports=function(e){var t=e._fullLayout._pielayer.selectAll(".trace");o(e,t,"pie"),t.each((function(e){var t=e[0].trace,n=r.select(this);n.style({opacity:t.opacity}),n.selectAll("path.surface").each((function(e){r.select(this).call(i,e,t)}))}))}},{"../bar/uniform_text":321,"./style_one":414,d3:21}],414:[function(e,t,n){"use strict";var r=e("../../components/color"),i=e("./helpers").castOption;t.exports=function(e,t,n){var o=n.marker.line,a=i(o.color,t.pts)||r.defaultLine,s=i(o.width,t.pts)||0;e.style("stroke-width",s).call(r.fill,t.color).call(r.stroke,a)}},{"../../components/color":75,"./helpers":408}],415:[function(e,t,n){"use strict";var r=e("../../lib");t.exports=function(e,t){for(var n=0;n<e.length;n++)e[n].i=n;r.mergeArray(t.text,e,"tx"),r.mergeArray(t.texttemplate,e,"txt"),r.mergeArray(t.hovertext,e,"htx"),r.mergeArray(t.customdata,e,"data"),r.mergeArray(t.textposition,e,"tp"),t.textfont&&(r.mergeArrayCastPositive(t.textfont.size,e,"ts"),r.mergeArray(t.textfont.color,e,"tc"),r.mergeArray(t.textfont.family,e,"tf"));var i=t.marker;if(i){r.mergeArrayCastPositive(i.size,e,"ms"),r.mergeArrayCastPositive(i.opacity,e,"mo"),r.mergeArray(i.symbol,e,"mx"),r.mergeArray(i.color,e,"mc");var o=i.line;i.line&&(r.mergeArray(o.color,e,"mlc"),r.mergeArrayCastPositive(o.width,e,"mlw"));var a=i.gradient;a&&"none"!==a.type&&(r.mergeArray(a.type,e,"mgt"),r.mergeArray(a.color,e,"mgc"))}}},{"../../lib":203}],416:[function(e,t,n){"use strict";var r=e("../../plots/template_attributes").texttemplateAttrs,i=e("../../plots/template_attributes").hovertemplateAttrs,o=e("../../components/colorscale/attributes"),a=e("../../plots/font_attributes"),s=e("../../components/drawing/attributes").dash,l=e("../../components/drawing"),u=e("./constants"),c=e("../../lib/extend").extendFlat;t.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:{valType:"any",dflt:0,editType:"calc"},yperiod:{valType:"any",dflt:0,editType:"calc"},xperiod0:{valType:"any",editType:"calc"},yperiod0:{valType:"any",editType:"calc"},xperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},yperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:r({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:i({},{keys:u.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:c({},s,{editType:"style"}),simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:{valType:"color",editType:"style",anim:!0},marker:c({symbol:{valType:"enumerated",values:l.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:c({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},o("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},o("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:a({editType:"calc",colorEditType:"style",arrayOk:!0}),r:{valType:"data_array",editType:"calc"},t:{valType:"data_array",editType:"calc"}}},{"../../components/colorscale/attributes":82,"../../components/drawing":97,"../../components/drawing/attributes":96,"../../lib/extend":197,"../../plots/font_attributes":276,"../../plots/template_attributes":290,"./constants":420}],417:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../../lib"),o=e("../../plots/cartesian/axes"),a=e("../../plots/cartesian/align_period"),s=e("../../constants/numerical").BADNUM,l=e("./subtypes"),u=e("./colorscale_calc"),c=e("./arrays_to_calcdata"),f=e("./calc_selection");function d(e,t,n,r,i,a,s){var u=t._length,c=e._fullLayout,f=n._id,d=r._id,p=c._firstScatter[g(t)]===t.uid,h=(m(t,c,n,r)||{}).orientation,y=t.fill;n._minDtick=0,r._minDtick=0;var v={padded:!0},b={padded:!0};s&&(v.ppad=b.ppad=s);var x=u<2||i[0]!==i[u-1]||a[0]!==a[u-1];x&&("tozerox"===y||"tonextx"===y&&(p||"h"===h))?v.tozero=!0:(t.error_y||{}).visible||"tonexty"!==y&&"tozeroy"!==y&&(l.hasMarkers(t)||l.hasText(t))||(v.padded=!1,v.ppad=0),x&&("tozeroy"===y||"tonexty"===y&&(p||"v"===h))?b.tozero=!0:"tonextx"!==y&&"tozerox"!==y||(b.padded=!1),f&&(t._extremes[f]=o.findExtremes(n,i,v)),d&&(t._extremes[d]=o.findExtremes(r,a,b))}function p(e,t){if(l.hasMarkers(e)){var n,r=e.marker,a=1.6*(e.marker.sizeref||1);if(n="area"===e.marker.sizemode?function(e){return Math.max(Math.sqrt((e||0)/a),3)}:function(e){return Math.max((e||0)/a,3)},i.isArrayOrTypedArray(r.size)){var s={type:"linear"};o.setConvert(s);for(var u=s.makeCalcdata(e.marker,"size"),c=new Array(t),f=0;f<t;f++)c[f]=n(u[f]);return c}return n(r.size)}}function h(e,t){var n=g(t),r=e._firstScatter;r[n]||(r[n]=t.uid)}function g(e){var t=e.stackgroup;return e.xaxis+e.yaxis+e.type+(t?"-"+t:"")}function m(e,t,n,r){var i=e.stackgroup;if(i){var o=t._scatterStackOpts[n._id+r._id][i],a="v"===o.orientation?r:n;return"linear"===a.type||"log"===a.type?o:void 0}}t.exports={calc:function(e,t){var n,l,g,y,v,b,x=e._fullLayout,_=o.getFromId(e,t.xaxis||"x"),w=o.getFromId(e,t.yaxis||"y"),k=_.makeCalcdata(t,"x"),T=w.makeCalcdata(t,"y"),C=a(t,_,"x",k),O=a(t,w,"y",T),S=t._length,A=new Array(S),M=t.ids,E=m(t,x,_,w),P=!1;h(x,t);var D,L="x",R="y";E?(i.pushUnique(E.traceIndices,t._expandedIndex),(n="v"===E.orientation)?(R="s",D="x"):(L="s",D="y"),v="interpolate"===E.stackgaps):d(e,t,_,w,C,O,p(t,S));var I=!!t.xperiodalignment,N=!!t.yperiodalignment;for(l=0;l<S;l++){var j=A[l]={},z=r(C[l]),q=r(O[l]);z&&q?(j[L]=C[l],j[R]=O[l],I&&(j.orig_x=k[l]),N&&(j.orig_y=T[l])):E&&(n?z:q)?(j[D]=n?C[l]:O[l],j.gap=!0,v?(j.s=s,P=!0):j.s=0):j[L]=j[R]=s,M&&(j.id=String(M[l]))}if(c(A,t),u(e,t),f(A,t),E){for(l=0;l<A.length;)A[l][D]===s?A.splice(l,1):l++;if(i.sort(A,(function(e,t){return e[D]-t[D]||e.i-t.i})),P){for(l=0;l<A.length-1&&A[l].gap;)l++;for((b=A[l].s)||(b=A[l].s=0),g=0;g<l;g++)A[g].s=b;for(y=A.length-1;y>l&&A[y].gap;)y--;for(b=A[y].s,g=A.length-1;g>y;g--)A[g].s=b;for(;l<y;)if(A[++l].gap){for(g=l+1;A[g].gap;)g++;for(var F=A[l-1][D],B=A[l-1].s,H=(A[g].s-B)/(A[g][D]-F);l<g;)A[l].s=B+(A[l][D]-F)*H,l++}}}return A},calcMarkerSize:p,calcAxisExpansion:d,setFirstScatter:h,getStackOpts:m}},{"../../constants/numerical":182,"../../lib":203,"../../plots/cartesian/align_period":245,"../../plots/cartesian/axes":248,"./arrays_to_calcdata":415,"./calc_selection":418,"./colorscale_calc":419,"./subtypes":441,"fast-isnumeric":23}],418:[function(e,t,n){"use strict";var r=e("../../lib");t.exports=function(e,t){r.isArrayOrTypedArray(t.selectedpoints)&&r.tagSelected(e,t)}},{"../../lib":203}],419:[function(e,t,n){"use strict";var r=e("../../components/colorscale/helpers").hasColorscale,i=e("../../components/colorscale/calc"),o=e("./subtypes");t.exports=function(e,t){o.hasLines(t)&&r(t,"line")&&i(e,t,{vals:t.line.color,containerStr:"line",cLetter:"c"}),o.hasMarkers(t)&&(r(t,"marker")&&i(e,t,{vals:t.marker.color,containerStr:"marker",cLetter:"c"}),r(t,"marker.line")&&i(e,t,{vals:t.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},{"../../components/colorscale/calc":83,"../../components/colorscale/helpers":86,"./subtypes":441}],420:[function(e,t,n){"use strict";t.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},{}],421:[function(e,t,n){"use strict";var r=e("./calc");function i(e,t,n,r,i,o,a){i[r]=!0;var s={i:null,gap:!0,s:0};if(s[a]=n,e.splice(t,0,s),t&&n===e[t-1][a]){var l=e[t-1];s.s=l.s,s.i=l.i,s.gap=l.gap}else o&&(s.s=function(e,t,n,r){var i=e[t-1],o=e[t+1];return o?i?i.s+(o.s-i.s)*(n-i[r])/(o[r]-i[r]):o.s:i.s}(e,t,n,a));t||(e[0].t=e[1].t,e[0].trace=e[1].trace,delete e[1].t,delete e[1].trace)}t.exports=function(e,t){var n=t.xaxis,o=t.yaxis,a=n._id+o._id,s=e._fullLayout._scatterStackOpts[a];if(s){var l,u,c,f,d,p,h,g,m,y,v,b,x,_,w,k=e.calcdata;for(var T in s){var C=(y=s[T]).traceIndices;if(C.length){for(v="interpolate"===y.stackgaps,b=y.groupnorm,"v"===y.orientation?(x="x",_="y"):(x="y",_="x"),w=new Array(C.length),l=0;l<w.length;l++)w[l]=!1;p=k[C[0]];var O=new Array(p.length);for(l=0;l<p.length;l++)O[l]=p[l][x];for(l=1;l<C.length;l++){for(d=k[C[l]],u=c=0;u<d.length;u++){for(h=d[u][x];h>O[c]&&c<O.length;c++)i(d,u,O[c],l,w,v,x),u++;if(h!==O[c]){for(f=0;f<l;f++)i(k[C[f]],c,h,f,w,v,x);O.splice(c,0,h)}c++}for(;c<O.length;c++)i(d,u,O[c],l,w,v,x),u++}var S=O.length;for(u=0;u<p.length;u++){for(g=p[u][_]=p[u].s,l=1;l<C.length;l++)(d=k[C[l]])[0].trace._rawLength=d[0].trace._length,d[0].trace._length=S,g+=d[u].s,d[u][_]=g;if(b)for(m=("fraction"===b?g:g/100)||1,l=0;l<C.length;l++){var A=k[C[l]][u];A[_]/=m,A.sNorm=A.s/m}}for(l=0;l<C.length;l++){var M=(d=k[C[l]])[0].trace,E=r.calcMarkerSize(M,M._rawLength),P=Array.isArray(E);if(E&&w[l]||P){var D=E;for(E=new Array(S),u=0;u<S;u++)E[u]=d[u].gap?0:P?D[d[u].i]:D}var L=new Array(S),R=new Array(S);for(u=0;u<S;u++)L[u]=d[u].x,R[u]=d[u].y;r.calcAxisExpansion(e,M,n,o,L,R,E),d[0].t.orientation=y.orientation}}}}}},{"./calc":417}],422:[function(e,t,n){"use strict";t.exports=function(e){for(var t=0;t<e.length;t++){var n=e[t];if("scatter"===n.type){var r=n.fill;if("none"!==r&&"toself"!==r&&(n.opacity=void 0,"tonexty"===r||"tonextx"===r))for(var i=t-1;i>=0;i--){var o=e[i];if("scatter"===o.type&&o.xaxis===n.xaxis&&o.yaxis===n.yaxis){o.opacity=void 0;break}}}}}},{}],423:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../registry"),o=e("./attributes"),a=e("./constants"),s=e("./subtypes"),l=e("./xy_defaults"),u=e("./period_defaults"),c=e("./stack_defaults"),f=e("./marker_defaults"),d=e("./line_defaults"),p=e("./line_shape_defaults"),h=e("./text_defaults"),g=e("./fillcolor_defaults");t.exports=function(e,t,n,m){function y(n,i){return r.coerce(e,t,o,n,i)}var v=l(e,t,m,y);if(v||(t.visible=!1),t.visible){u(e,t,m,y);var b=c(e,t,m,y),x=!b&&v<a.PTS_LINESONLY?"lines+markers":"lines";y("text"),y("hovertext"),y("mode",x),s.hasLines(t)&&(d(e,t,n,m,y),p(e,t,y),y("connectgaps"),y("line.simplify")),s.hasMarkers(t)&&f(e,t,n,m,y,{gradient:!0}),s.hasText(t)&&(y("texttemplate"),h(e,t,m,y));var _=[];(s.hasMarkers(t)||s.hasText(t))&&(y("cliponaxis"),y("marker.maxdisplayed"),_.push("points")),y("fill",b?b.fillDflt:"none"),"none"!==t.fill&&(g(e,t,n,y),s.hasLines(t)||p(e,t,y));var w=(t.line||{}).color,k=(t.marker||{}).color;"tonext"!==t.fill&&"toself"!==t.fill||_.push("fills"),y("hoveron",_.join("+")||"points"),"fills"!==t.hoveron&&y("hovertemplate");var T=i.getComponentMethod("errorbars","supplyDefaults");T(e,t,w||k||n,{axis:"y"}),T(e,t,w||k||n,{axis:"x",inherit:"y"}),r.coerceSelectionMarkerOpacity(t,y)}}},{"../../lib":203,"../../registry":295,"./attributes":416,"./constants":420,"./fillcolor_defaults":424,"./line_defaults":429,"./line_shape_defaults":431,"./marker_defaults":435,"./period_defaults":436,"./stack_defaults":439,"./subtypes":441,"./text_defaults":442,"./xy_defaults":443}],424:[function(e,t,n){"use strict";var r=e("../../components/color"),i=e("../../lib").isArrayOrTypedArray;t.exports=function(e,t,n,o){var a=!1;if(t.marker){var s=t.marker.color,l=(t.marker.line||{}).color;s&&!i(s)?a=s:l&&!i(l)&&(a=l)}o("fillcolor",r.addOpacity((t.line||{}).color||a||n,.5))}},{"../../components/color":75,"../../lib":203}],425:[function(e,t,n){"use strict";var r=e("../../plots/cartesian/axes");t.exports=function(e,t,n){var i={},o={_fullLayout:n},a=r.getFromTrace(o,t,"x"),s=r.getFromTrace(o,t,"y");return i.xLabel=r.tickText(a,e.x,!0).text,i.yLabel=r.tickText(s,e.y,!0).text,i}},{"../../plots/cartesian/axes":248}],426:[function(e,t,n){"use strict";var r=e("../../components/color"),i=e("./subtypes");t.exports=function(e,t){var n,o;if("lines"===e.mode)return(n=e.line.color)&&r.opacity(n)?n:e.fillcolor;if("none"===e.mode)return e.fill?e.fillcolor:"";var a=t.mcc||(e.marker||{}).color,s=t.mlcc||((e.marker||{}).line||{}).color;return(o=a&&r.opacity(a)?a:s&&r.opacity(s)&&(t.mlw||((e.marker||{}).line||{}).width)?s:"")?r.opacity(o)<.3?r.addOpacity(o,.3):o:(n=(e.line||{}).color)&&r.opacity(n)&&i.hasLines(e)&&e.line.width?n:e.fillcolor}},{"../../components/color":75,"./subtypes":441}],427:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../components/fx"),o=e("../../registry"),a=e("./get_trace_color"),s=e("../../components/color"),l=r.fillText;t.exports=function(e,t,n,u){var c=e.cd,f=c[0].trace,d=e.xa,p=e.ya,h=d.c2p(t),g=p.c2p(n),m=[h,g],y=f.hoveron||"",v=-1!==f.mode.indexOf("markers")?3:.5;if(-1!==y.indexOf("points")){var b=function(e){var t=Math.max(v,e.mrc||0),n=d.c2p(e.x)-h,r=p.c2p(e.y)-g;return Math.max(Math.sqrt(n*n+r*r)-t,1-v/t)},x=i.getDistanceFunction(u,(function(e){var t=Math.max(3,e.mrc||0),n=1-1/t,r=Math.abs(d.c2p(e.x)-h);return r<t?n*r/t:r-t+n}),(function(e){var t=Math.max(3,e.mrc||0),n=1-1/t,r=Math.abs(p.c2p(e.y)-g);return r<t?n*r/t:r-t+n}),b);if(i.getClosest(c,x,e),!1!==e.index){var _=c[e.index],w=d.c2p(_.x,!0),k=p.c2p(_.y,!0),T=_.mrc||1;e.index=_.i;var C=c[0].t.orientation,O=C&&(_.sNorm||_.s),S="h"===C?O:void 0!==_.orig_x?_.orig_x:_.x,A="v"===C?O:void 0!==_.orig_y?_.orig_y:_.y;return r.extendFlat(e,{color:a(f,_),x0:w-T,x1:w+T,xLabelVal:S,y0:k-T,y1:k+T,yLabelVal:A,spikeDistance:b(_),hovertemplate:f.hovertemplate}),l(_,f,e),o.getComponentMethod("errorbars","hoverInfo")(_,f,e),[e]}}if(-1!==y.indexOf("fills")&&f._polygons){var M,E,P,D,L,R,I,N,j,z=f._polygons,q=[],F=!1,B=1/0,H=-1/0,U=1/0,V=-1/0;for(M=0;M<z.length;M++)(P=z[M]).contains(m)&&(F=!F,q.push(P),U=Math.min(U,P.ymin),V=Math.max(V,P.ymax));if(F){var W=((U=Math.max(U,0))+(V=Math.min(V,p._length)))/2;for(M=0;M<q.length;M++)for(D=q[M].pts,E=1;E<D.length;E++)(N=D[E-1][1])>W!=(j=D[E][1])>=W&&(R=D[E-1][0],I=D[E][0],j-N&&(L=R+(I-R)*(W-N)/(j-N),B=Math.min(B,L),H=Math.max(H,L)));B=Math.max(B,0),H=Math.min(H,d._length);var G=s.defaultLine;return s.opacity(f.fillcolor)?G=f.fillcolor:s.opacity((f.line||{}).color)&&(G=f.line.color),r.extendFlat(e,{distance:e.maxHoverDistance,x0:B,x1:H,y0:W,y1:W,color:G,hovertemplate:!1}),delete e.index,f.text&&!Array.isArray(f.text)?e.text=String(f.text):e.text=f.name,[e]}}}},{"../../components/color":75,"../../components/fx":115,"../../lib":203,"../../registry":295,"./get_trace_color":426}],428:[function(e,t,n){"use strict";var r=e("./subtypes");t.exports={hasLines:r.hasLines,hasMarkers:r.hasMarkers,hasText:r.hasText,isBubble:r.isBubble,attributes:e("./attributes"),supplyDefaults:e("./defaults"),crossTraceDefaults:e("./cross_trace_defaults"),calc:e("./calc").calc,crossTraceCalc:e("./cross_trace_calc"),arraysToCalcdata:e("./arrays_to_calcdata"),plot:e("./plot"),colorbar:e("./marker_colorbar"),formatLabels:e("./format_labels"),style:e("./style").style,styleOnSelect:e("./style").styleOnSelect,hoverPoints:e("./hover"),selectPoints:e("./select"),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:e("../../plots/cartesian"),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},{"../../plots/cartesian":261,"./arrays_to_calcdata":415,"./attributes":416,"./calc":417,"./cross_trace_calc":421,"./cross_trace_defaults":422,"./defaults":423,"./format_labels":425,"./hover":427,"./marker_colorbar":434,"./plot":437,"./select":438,"./style":440,"./subtypes":441}],429:[function(e,t,n){"use strict";var r=e("../../lib").isArrayOrTypedArray,i=e("../../components/colorscale/helpers").hasColorscale,o=e("../../components/colorscale/defaults");t.exports=function(e,t,n,a,s,l){var u=(e.marker||{}).color;s("line.color",n),i(e,"line")?o(e,t,a,s,{prefix:"line.",cLetter:"c"}):s("line.color",!r(u)&&u||n),s("line.width"),(l||{}).noDash||s("line.dash")}},{"../../components/colorscale/defaults":85,"../../components/colorscale/helpers":86,"../../lib":203}],430:[function(e,t,n){"use strict";var r=e("../../constants/numerical"),i=r.BADNUM,o=r.LOG_CLIP,a=o+.5,s=o-.5,l=e("../../lib"),u=l.segmentsIntersect,c=l.constrain,f=e("./constants");t.exports=function(e,t){var n,r,o,d,p,h,g,m,y,v,b,x,_,w,k,T,C,O,S=t.xaxis,A=t.yaxis,M="log"===S.type,E="log"===A.type,P=S._length,D=A._length,L=t.connectGaps,R=t.baseTolerance,I=t.shape,N="linear"===I,j=t.fill&&"none"!==t.fill,z=[],q=f.minTolerance,F=e.length,B=new Array(F),H=0;function U(n){var r=e[n];if(!r)return!1;var o=t.linearized?S.l2p(r.x):S.c2p(r.x),l=t.linearized?A.l2p(r.y):A.c2p(r.y);if(o===i){if(M&&(o=S.c2p(r.x,!0)),o===i)return!1;E&&l===i&&(o*=Math.abs(S._m*D*(S._m>0?a:s)/(A._m*P*(A._m>0?a:s)))),o*=1e3}if(l===i){if(E&&(l=A.c2p(r.y,!0)),l===i)return!1;l*=1e3}return[o,l]}function V(e,t,n,r){var i=n-e,o=r-t,a=.5-e,s=.5-t,l=i*i+o*o,u=i*a+o*s;if(u>0&&u<l){var c=a*o-s*i;if(c*c<l)return!0}}function W(e,t){var n=e[0]/P,r=e[1]/D,i=Math.max(0,-n,n-1,-r,r-1);return i&&void 0!==C&&V(n,r,C,O)&&(i=0),i&&t&&V(n,r,t[0]/P,t[1]/D)&&(i=0),(1+f.toleranceGrowth*i)*R}function G(e,t){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)}var K,Y,Z,X,$,J,Q,ee=f.maxScreensAway,te=-P*ee,ne=P*(1+ee),re=-D*ee,ie=D*(1+ee),oe=[[te,re,ne,re],[ne,re,ne,ie],[ne,ie,te,ie],[te,ie,te,re]];function ae(e){if(e[0]<te||e[0]>ne||e[1]<re||e[1]>ie)return[c(e[0],te,ne),c(e[1],re,ie)]}function se(e,t){return e[0]===t[0]&&(e[0]===te||e[0]===ne)||e[1]===t[1]&&(e[1]===re||e[1]===ie)||void 0}function le(e,t,n){return function(r,i){var o=ae(r),a=ae(i),s=[];if(o&&a&&se(o,a))return s;o&&s.push(o),a&&s.push(a);var u=2*l.constrain((r[e]+i[e])/2,t,n)-((o||r)[e]+(a||i)[e]);return u&&((o&&a?u>0==o[e]>a[e]?o:a:o||a)[e]+=u),s}}function ue(e){var t=e[0],n=e[1],r=t===B[H-1][0],i=n===B[H-1][1];if(!r||!i)if(H>1){var o=t===B[H-2][0],a=n===B[H-2][1];r&&(t===te||t===ne)&&o?a?H--:B[H-1]=e:i&&(n===re||n===ie)&&a?o?H--:B[H-1]=e:B[H++]=e}else B[H++]=e}function ce(e){B[H-1][0]!==e[0]&&B[H-1][1]!==e[1]&&ue([Z,X]),ue(e),$=null,Z=X=0}function fe(e){if(C=e[0]/P,O=e[1]/D,K=e[0]<te?te:e[0]>ne?ne:0,Y=e[1]<re?re:e[1]>ie?ie:0,K||Y){if(H)if($){var t=Q($,e);t.length>1&&(ce(t[0]),B[H++]=t[1])}else J=Q(B[H-1],e)[0],B[H++]=J;else B[H++]=[K||e[0],Y||e[1]];var n=B[H-1];K&&Y&&(n[0]!==K||n[1]!==Y)?($&&(Z!==K&&X!==Y?ue(Z&&X?(r=$,o=(i=e)[0]-r[0],a=(i[1]-r[1])/o,(r[1]*i[0]-i[1]*r[0])/o>0?[a>0?te:ne,ie]:[a>0?ne:te,re]):[Z||K,X||Y]):Z&&X&&ue([Z,X])),ue([K,Y])):Z-K&&X-Y&&ue([K||Z,Y||X]),$=e,Z=K,X=Y}else $&&ce(Q($,e)[0]),B[H++]=e;var r,i,o,a}for("linear"===I||"spline"===I?Q=function(e,t){for(var n=[],r=0,i=0;i<4;i++){var o=oe[i],a=u(e[0],e[1],t[0],t[1],o[0],o[1],o[2],o[3]);a&&(!r||Math.abs(a.x-n[0][0])>1||Math.abs(a.y-n[0][1])>1)&&(a=[a.x,a.y],r&&G(a,e)<G(n[0],e)?n.unshift(a):n.push(a),r++)}return n}:"hv"===I||"vh"===I?Q=function(e,t){var n=[],r=ae(e),i=ae(t);return r&&i&&se(r,i)||(r&&n.push(r),i&&n.push(i)),n}:"hvh"===I?Q=le(0,te,ne):"vhv"===I&&(Q=le(1,re,ie)),n=0;n<F;n++)if(r=U(n)){for(H=0,$=null,fe(r),n++;n<F;n++){if(!(d=U(n))){if(L)continue;break}if(N&&t.simplify){var de=U(n+1);if(v=G(d,r),j&&(0===H||H===F-1)||!(v<W(d,de)*q)){for(m=[(d[0]-r[0])/v,(d[1]-r[1])/v],p=r,b=v,x=w=k=0,g=!1,o=d,n++;n<e.length;n++){if(h=de,de=U(n+1),!h){if(L)continue;break}if(T=(y=[h[0]-r[0],h[1]-r[1]])[0]*m[1]-y[1]*m[0],w=Math.min(w,T),(k=Math.max(k,T))-w>W(h,de))break;o=h,(_=y[0]*m[0]+y[1]*m[1])>b?(b=_,d=h,g=!1):_<x&&(x=_,p=h,g=!0)}if(g?(fe(d),o!==p&&fe(p)):(p!==r&&fe(p),o!==d&&fe(d)),fe(o),n>=e.length||!h)break;fe(h),r=h}}else fe(d)}$&&ue([Z||$[0],X||$[1]]),z.push(B.slice(0,H))}return z}},{"../../constants/numerical":182,"../../lib":203,"./constants":420}],431:[function(e,t,n){"use strict";t.exports=function(e,t,n){"spline"===n("line.shape")&&n("line.smoothing")}},{}],432:[function(e,t,n){"use strict";var r={tonextx:1,tonexty:1,tonext:1};t.exports=function(e,t,n){var i,o,a,s,l,u={},c=!1,f=-1,d=0,p=-1;for(o=0;o<n.length;o++)(a=(i=n[o][0].trace).stackgroup||"")?a in u?l=u[a]:(l=u[a]=d,d++):i.fill in r&&p>=0?l=p:(l=p=d,d++),l<f&&(c=!0),i._groupIndex=f=l;var h=n.slice();c&&h.sort((function(e,t){var n=e[0].trace,r=t[0].trace;return n._groupIndex-r._groupIndex||n.index-r.index}));var g={};for(o=0;o<h.length;o++)a=(i=h[o][0].trace).stackgroup||"",!0===i.visible?(i._nexttrace=null,i.fill in r&&(s=g[a],i._prevtrace=s||null,s&&(s._nexttrace=i)),i._ownfill=i.fill&&("tozero"===i.fill.substr(0,6)||"toself"===i.fill||"to"===i.fill.substr(0,2)&&!i._prevtrace),g[a]=i):i._prevtrace=i._nexttrace=i._ownfill=null;return h}},{}],433:[function(e,t,n){"use strict";var r=e("fast-isnumeric");t.exports=function(e){var t=e.marker,n=t.sizeref||1,i=t.sizemin||0,o="area"===t.sizemode?function(e){return Math.sqrt(e/n)}:function(e){return e/n};return function(e){var t=o(e/2);return r(t)&&t>0?Math.max(t,i):0}}},{"fast-isnumeric":23}],434:[function(e,t,n){"use strict";t.exports={container:"marker",min:"cmin",max:"cmax"}},{}],435:[function(e,t,n){"use strict";var r=e("../../components/color"),i=e("../../components/colorscale/helpers").hasColorscale,o=e("../../components/colorscale/defaults"),a=e("./subtypes");t.exports=function(e,t,n,s,l,u){var c=a.isBubble(e),f=(e.line||{}).color;u=u||{},f&&(n=f),l("marker.symbol"),l("marker.opacity",c?.7:1),l("marker.size"),l("marker.color",n),i(e,"marker")&&o(e,t,s,l,{prefix:"marker.",cLetter:"c"}),u.noSelect||(l("selected.marker.color"),l("unselected.marker.color"),l("selected.marker.size"),l("unselected.marker.size")),u.noLine||(l("marker.line.color",f&&!Array.isArray(f)&&t.marker.color!==f?f:c?r.background:r.defaultLine),i(e,"marker.line")&&o(e,t,s,l,{prefix:"marker.line.",cLetter:"c"}),l("marker.line.width",c?1:0)),c&&(l("marker.sizeref"),l("marker.sizemin"),l("marker.sizemode")),u.gradient&&"none"!==l("marker.gradient.type")&&l("marker.gradient.color")}},{"../../components/color":75,"../../components/colorscale/defaults":85,"../../components/colorscale/helpers":86,"./subtypes":441}],436:[function(e,t,n){"use strict";var r=e("../../lib").dateTick0,i=e("../../constants/numerical").ONEWEEK;function o(e,t){return r(t,e%i==0?1:0)}t.exports=function(e,t,n,r,i){if(i||(i={x:!0,y:!0}),i.x){var a=r("xperiod");a&&(r("xperiod0",o(a,t.xcalendar)),r("xperiodalignment"))}if(i.y){var s=r("yperiod");s&&(r("yperiod0",o(s,t.ycalendar)),r("yperiodalignment"))}}},{"../../constants/numerical":182,"../../lib":203}],437:[function(e,t,n){"use strict";var r=e("d3"),i=e("../../registry"),o=e("../../lib"),a=o.ensureSingle,s=o.identity,l=e("../../components/drawing"),u=e("./subtypes"),c=e("./line_points"),f=e("./link_traces"),d=e("../../lib/polygon").tester;function p(e,t,n,f,p,h,g){var m;!function(e,t,n,i,a){var s=n.xaxis,l=n.yaxis,c=r.extent(o.simpleMap(s.range,s.r2c)),f=r.extent(o.simpleMap(l.range,l.r2c)),d=i[0].trace;if(u.hasMarkers(d)){var p=d.marker.maxdisplayed;if(0!==p){var h=i.filter((function(e){return e.x>=c[0]&&e.x<=c[1]&&e.y>=f[0]&&e.y<=f[1]})),g=Math.ceil(h.length/p),m=0;a.forEach((function(e,n){var r=e[0].trace;u.hasMarkers(r)&&r.marker.maxdisplayed>0&&n<t&&m++}));var y=Math.round(m*g/3+Math.floor(m/3)*g/7.1);i.forEach((function(e){delete e.vis})),h.forEach((function(e,t){0===Math.round((t+y)%g)&&(e.vis=!0)}))}}}(0,t,n,f,p);var y=!!g&&g.duration>0;function v(e){return y?e.transition():e}var b=n.xaxis,x=n.yaxis,_=f[0].trace,w=_.line,k=r.select(h),T=a(k,"g","errorbars"),C=a(k,"g","lines"),O=a(k,"g","points"),S=a(k,"g","text");if(i.getComponentMethod("errorbars","plot")(e,T,n,g),!0===_.visible){var A,M;v(k).style("opacity",_.opacity);var E=_.fill.charAt(_.fill.length-1);"x"!==E&&"y"!==E&&(E=""),f[0][n.isRangePlot?"nodeRangePlot3":"node3"]=k;var P,D,L="",R=[],I=_._prevtrace;I&&(L=I._prevRevpath||"",M=I._nextFill,R=I._polygons);var N,j,z,q,F,B,H,U="",V="",W=[],G=o.noop;if(A=_._ownFill,u.hasLines(_)||"none"!==_.fill){for(M&&M.datum(f),-1!==["hv","vh","hvh","vhv"].indexOf(w.shape)?(N=l.steps(w.shape),j=l.steps(w.shape.split("").reverse().join(""))):N=j="spline"===w.shape?function(e){var t=e[e.length-1];return e.length>1&&e[0][0]===t[0]&&e[0][1]===t[1]?l.smoothclosed(e.slice(1),w.smoothing):l.smoothopen(e,w.smoothing)}:function(e){return"M"+e.join("L")},z=function(e){return j(e.reverse())},W=c(f,{xaxis:b,yaxis:x,connectGaps:_.connectgaps,baseTolerance:Math.max(w.width||1,3)/4,shape:w.shape,simplify:w.simplify,fill:_.fill}),H=_._polygons=new Array(W.length),m=0;m<W.length;m++)_._polygons[m]=d(W[m]);W.length&&(q=W[0][0],B=(F=W[W.length-1])[F.length-1]),G=function(e){return function(t){if(P=N(t),D=z(t),U?E?(U+="L"+P.substr(1),V=D+"L"+V.substr(1)):(U+="Z"+P,V=D+"Z"+V):(U=P,V=D),u.hasLines(_)&&t.length>1){var n=r.select(this);if(n.datum(f),e)v(n.style("opacity",0).attr("d",P).call(l.lineGroupStyle)).style("opacity",1);else{var i=v(n);i.attr("d",P),l.singleLineStyle(f,i)}}}}}var K=C.selectAll(".js-line").data(W);v(K.exit()).style("opacity",0).remove(),K.each(G(!1)),K.enter().append("path").classed("js-line",!0).style("vector-effect","non-scaling-stroke").call(l.lineGroupStyle).each(G(!0)),l.setClipUrl(K,n.layerClipId,e),W.length?(A?(A.datum(f),q&&B&&(E?("y"===E?q[1]=B[1]=x.c2p(0,!0):"x"===E&&(q[0]=B[0]=b.c2p(0,!0)),v(A).attr("d","M"+B+"L"+q+"L"+U.substr(1)).call(l.singleFillStyle)):v(A).attr("d",U+"Z").call(l.singleFillStyle))):M&&("tonext"===_.fill.substr(0,6)&&U&&L?("tonext"===_.fill?v(M).attr("d",U+"Z"+L+"Z").call(l.singleFillStyle):v(M).attr("d",U+"L"+L.substr(1)+"Z").call(l.singleFillStyle),_._polygons=_._polygons.concat(R)):(Z(M),_._polygons=null)),_._prevRevpath=V,_._prevPolygons=H):(A?Z(A):M&&Z(M),_._polygons=_._prevRevpath=_._prevPolygons=null),O.datum(f),S.datum(f),function(t,i,o){var a,c=o[0].trace,f=u.hasMarkers(c),d=u.hasText(c),p=ee(c),h=te,g=te;if(f||d){var m=s,_=c.stackgroup,w=_&&"infer zero"===e._fullLayout._scatterStackOpts[b._id+x._id][_].stackgaps;c.marker.maxdisplayed||c._needsCull?m=w?$:X:_&&!w&&(m=J),f&&(h=m),d&&(g=m)}var k,T=(a=t.selectAll("path.point").data(h,p)).enter().append("path").classed("point",!0);y&&T.call(l.pointStyle,c,e).call(l.translatePoints,b,x).style("opacity",0).transition().style("opacity",1),a.order(),f&&(k=l.makePointStyleFns(c)),a.each((function(t){var i=r.select(this),o=v(i);l.translatePoint(t,o,b,x)?(l.singlePointStyle(t,o,c,k,e),n.layerClipId&&l.hideOutsideRangePoint(t,o,b,x,c.xcalendar,c.ycalendar),c.customdata&&i.classed("plotly-customdata",null!==t.data&&void 0!==t.data)):o.remove()})),y?a.exit().transition().style("opacity",0).remove():a.exit().remove(),(a=i.selectAll("g").data(g,p)).enter().append("g").classed("textpoint",!0).append("text"),a.order(),a.each((function(e){var t=r.select(this),i=v(t.select("text"));l.translatePoint(e,i,b,x)?n.layerClipId&&l.hideOutsideRangePoint(e,t,b,x,c.xcalendar,c.ycalendar):t.remove()})),a.selectAll("text").call(l.textPointStyle,c,e).each((function(e){var t=b.c2p(e.x),n=x.c2p(e.y);r.select(this).selectAll("tspan.line").each((function(){v(r.select(this)).attr({x:t,y:n})}))})),a.exit().remove()}(O,S,f);var Y=!1===_.cliponaxis?null:n.layerClipId;l.setClipUrl(O,Y,e),l.setClipUrl(S,Y,e)}function Z(e){v(e).attr("d","M0,0Z")}function X(e){return e.filter((function(e){return!e.gap&&e.vis}))}function $(e){return e.filter((function(e){return e.vis}))}function J(e){return e.filter((function(e){return!e.gap}))}function Q(e){return e.id}function ee(e){if(e.ids)return Q}function te(){return!1}}t.exports=function(e,t,n,i,o,u){var c,d,h=!o,g=!!o&&o.duration>0,m=f(e,t,n);(c=i.selectAll("g.trace").data(m,(function(e){return e[0].trace.uid}))).enter().append("g").attr("class",(function(e){return"trace scatter trace"+e[0].trace.uid})).style("stroke-miterlimit",2),c.order(),function(e,t,n){t.each((function(t){var i=a(r.select(this),"g","fills");l.setClipUrl(i,n.layerClipId,e);var o=t[0].trace,u=[];o._ownfill&&u.push("_ownFill"),o._nexttrace&&u.push("_nextFill");var c=i.selectAll("g").data(u,s);c.enter().append("g"),c.exit().each((function(e){o[e]=null})).remove(),c.order().each((function(e){o[e]=a(r.select(this),"path","js-fill")}))}))}(e,c,t),g?(u&&(d=u()),r.transition().duration(o.duration).ease(o.easing).each("end",(function(){d&&d()})).each("interrupt",(function(){d&&d()})).each((function(){i.selectAll("g.trace").each((function(n,r){p(e,r,t,n,m,this,o)}))}))):c.each((function(n,r){p(e,r,t,n,m,this,o)})),h&&c.exit().remove(),i.selectAll("path:not([d])").remove()}},{"../../components/drawing":97,"../../lib":203,"../../lib/polygon":215,"../../registry":295,"./line_points":430,"./link_traces":432,"./subtypes":441,d3:21}],438:[function(e,t,n){"use strict";var r=e("./subtypes");t.exports=function(e,t){var n,i,o,a,s=e.cd,l=e.xaxis,u=e.yaxis,c=[],f=s[0].trace;if(!r.hasMarkers(f)&&!r.hasText(f))return[];if(!1===t)for(n=0;n<s.length;n++)s[n].selected=0;else for(n=0;n<s.length;n++)i=s[n],o=l.c2p(i.x),a=u.c2p(i.y),null!==i.i&&t.contains([o,a],!1,n,e)?(c.push({pointNumber:i.i,x:l.c2d(i.x),y:u.c2d(i.y)}),i.selected=1):i.selected=0;return c}},{"./subtypes":441}],439:[function(e,t,n){"use strict";var r=["orientation","groupnorm","stackgaps"];t.exports=function(e,t,n,i){var o=n._scatterStackOpts,a=i("stackgroup");if(a){var s=t.xaxis+t.yaxis,l=o[s];l||(l=o[s]={});var u=l[a],c=!1;u?u.traces.push(t):(u=l[a]={traceIndices:[],traces:[t]},c=!0);for(var f={orientation:t.x&&!t.y?"h":"v"},d=0;d<r.length;d++){var p=r[d],h=p+"Found";if(!u[h]){var g=void 0!==e[p],m="orientation"===p;if((g||c)&&(u[p]=i(p,f[p]),m&&(u.fillDflt="h"===u[p]?"tonextx":"tonexty"),g&&(u[h]=!0,!c&&(delete u.traces[0][p],m))))for(var y=0;y<u.traces.length-1;y++){var v=u.traces[y];v._input.fill!==v.fill&&(v.fill=u.fillDflt)}}}return u}}},{}],440:[function(e,t,n){"use strict";var r=e("d3"),i=e("../../components/drawing"),o=e("../../registry");function a(e,t,n){i.pointStyle(e.selectAll("path.point"),t,n)}function s(e,t,n){i.textPointStyle(e.selectAll("text"),t,n)}t.exports={style:function(e){var t=r.select(e).selectAll("g.trace.scatter");t.style("opacity",(function(e){return e[0].trace.opacity})),t.selectAll("g.points").each((function(t){a(r.select(this),t.trace||t[0].trace,e)})),t.selectAll("g.text").each((function(t){s(r.select(this),t.trace||t[0].trace,e)})),t.selectAll("g.trace path.js-line").call(i.lineGroupStyle),t.selectAll("g.trace path.js-fill").call(i.fillGroupStyle),o.getComponentMethod("errorbars","style")(t)},stylePoints:a,styleText:s,styleOnSelect:function(e,t,n){var r=t[0].trace;r.selectedpoints?(i.selectedPointStyle(n.selectAll("path.point"),r),i.selectedTextStyle(n.selectAll("text"),r)):(a(n,r,e),s(n,r,e))}}},{"../../components/drawing":97,"../../registry":295,d3:21}],441:[function(e,t,n){"use strict";var r=e("../../lib");t.exports={hasLines:function(e){return e.visible&&e.mode&&-1!==e.mode.indexOf("lines")},hasMarkers:function(e){return e.visible&&(e.mode&&-1!==e.mode.indexOf("markers")||"splom"===e.type)},hasText:function(e){return e.visible&&e.mode&&-1!==e.mode.indexOf("text")},isBubble:function(e){return r.isPlainObject(e.marker)&&r.isArrayOrTypedArray(e.marker.size)}}},{"../../lib":203}],442:[function(e,t,n){"use strict";var r=e("../../lib");t.exports=function(e,t,n,i,o){o=o||{},i("textposition"),r.coerceFont(i,"textfont",n.font),o.noSelect||(i("selected.textfont.color"),i("unselected.textfont.color"))}},{"../../lib":203}],443:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../registry");t.exports=function(e,t,n,o){var a,s=o("x"),l=o("y");if(i.getComponentMethod("calendars","handleTraceDefaults")(e,t,["x","y"],n),s){var u=r.minRowLength(s);l?a=Math.min(u,r.minRowLength(l)):(a=u,o("y0"),o("dy"))}else{if(!l)return 0;a=r.minRowLength(l),o("x0"),o("dx")}return t._length=a,a}},{"../../lib":203,"../../registry":295}],444:[function(e,t,n){"use strict";var r=e("../../plots/template_attributes").hovertemplateAttrs,i=e("../../plots/template_attributes").texttemplateAttrs,o=e("../scatter/attributes"),a=e("../../plots/attributes"),s=e("../../components/colorscale/attributes"),l=e("../../components/drawing/attributes").dash,u=e("../../lib/extend").extendFlat,c=o.marker,f=o.line,d=c.line;t.exports={a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},c:{valType:"data_array",editType:"calc"},sum:{valType:"number",dflt:0,min:0,editType:"calc"},mode:u({},o.mode,{dflt:"markers"}),text:u({},o.text,{}),texttemplate:i({editType:"plot"},{keys:["a","b","c","text"]}),hovertext:u({},o.hovertext,{}),line:{color:f.color,width:f.width,dash:l,shape:u({},f.shape,{values:["linear","spline"]}),smoothing:f.smoothing,editType:"calc"},connectgaps:o.connectgaps,cliponaxis:o.cliponaxis,fill:u({},o.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:o.fillcolor,marker:u({symbol:c.symbol,opacity:c.opacity,maxdisplayed:c.maxdisplayed,size:c.size,sizeref:c.sizeref,sizemin:c.sizemin,sizemode:c.sizemode,line:u({width:d.width,editType:"calc"},s("marker.line")),gradient:c.gradient,editType:"calc"},s("marker")),textfont:o.textfont,textposition:o.textposition,selected:o.selected,unselected:o.unselected,hoverinfo:u({},a.hoverinfo,{flags:["a","b","c","text","name"]}),hoveron:o.hoveron,hovertemplate:r()}},{"../../components/colorscale/attributes":82,"../../components/drawing/attributes":96,"../../lib/extend":197,"../../plots/attributes":244,"../../plots/template_attributes":290,"../scatter/attributes":416}],445:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../scatter/colorscale_calc"),o=e("../scatter/arrays_to_calcdata"),a=e("../scatter/calc_selection"),s=e("../scatter/calc").calcMarkerSize,l=["a","b","c"],u={a:["b","c"],b:["a","c"],c:["a","b"]};t.exports=function(e,t){var n,c,f,d,p,h,g=e._fullLayout[t.subplot].sum,m=t.sum||g,y={a:t.a,b:t.b,c:t.c};for(n=0;n<l.length;n++)if(!y[f=l[n]]){for(p=y[u[f][0]],h=y[u[f][1]],d=new Array(p.length),c=0;c<p.length;c++)d[c]=m-p[c]-h[c];y[f]=d}var v,b,x,_,w,k,T=t._length,C=new Array(T);for(n=0;n<T;n++)v=y.a[n],b=y.b[n],x=y.c[n],r(v)&&r(b)&&r(x)?(1!=(_=g/((v=+v)+(b=+b)+(x=+x)))&&(v*=_,b*=_,x*=_),k=v,w=x-b,C[n]={x:w,y:k,a:v,b,c:x}):C[n]={x:!1,y:!1};return s(t,T),i(e,t),o(C,t),a(C,t),C}},{"../scatter/arrays_to_calcdata":415,"../scatter/calc":417,"../scatter/calc_selection":418,"../scatter/colorscale_calc":419,"fast-isnumeric":23}],446:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../scatter/constants"),o=e("../scatter/subtypes"),a=e("../scatter/marker_defaults"),s=e("../scatter/line_defaults"),l=e("../scatter/line_shape_defaults"),u=e("../scatter/text_defaults"),c=e("../scatter/fillcolor_defaults"),f=e("./attributes");t.exports=function(e,t,n,d){function p(n,i){return r.coerce(e,t,f,n,i)}var h,g=p("a"),m=p("b"),y=p("c");if(g?(h=g.length,m?(h=Math.min(h,m.length),y&&(h=Math.min(h,y.length))):h=y?Math.min(h,y.length):0):m&&y&&(h=Math.min(m.length,y.length)),h){t._length=h,p("sum"),p("text"),p("hovertext"),"fills"!==t.hoveron&&p("hovertemplate"),p("mode",h<i.PTS_LINESONLY?"lines+markers":"lines"),o.hasLines(t)&&(s(e,t,n,d,p),l(e,t,p),p("connectgaps")),o.hasMarkers(t)&&a(e,t,n,d,p,{gradient:!0}),o.hasText(t)&&(p("texttemplate"),u(e,t,d,p));var v=[];(o.hasMarkers(t)||o.hasText(t))&&(p("cliponaxis"),p("marker.maxdisplayed"),v.push("points")),p("fill"),"none"!==t.fill&&(c(e,t,n,p),o.hasLines(t)||l(e,t,p)),"tonext"!==t.fill&&"toself"!==t.fill||v.push("fills"),p("hoveron",v.join("+")||"points"),r.coerceSelectionMarkerOpacity(t,p)}else t.visible=!1}},{"../../lib":203,"../scatter/constants":420,"../scatter/fillcolor_defaults":424,"../scatter/line_defaults":429,"../scatter/line_shape_defaults":431,"../scatter/marker_defaults":435,"../scatter/subtypes":441,"../scatter/text_defaults":442,"./attributes":444}],447:[function(e,t,n){"use strict";t.exports=function(e,t,n,r,i){if(t.xa&&(e.xaxis=t.xa),t.ya&&(e.yaxis=t.ya),r[i]){var o=r[i];e.a=o.a,e.b=o.b,e.c=o.c}else e.a=t.a,e.b=t.b,e.c=t.c;return e}},{}],448:[function(e,t,n){"use strict";var r=e("../../plots/cartesian/axes");t.exports=function(e,t,n){var i={},o=n[t.subplot]._subplot;return i.aLabel=r.tickText(o.aaxis,e.a,!0).text,i.bLabel=r.tickText(o.baxis,e.b,!0).text,i.cLabel=r.tickText(o.caxis,e.c,!0).text,i}},{"../../plots/cartesian/axes":248}],449:[function(e,t,n){"use strict";var r=e("../scatter/hover");t.exports=function(e,t,n,i){var o=r(e,t,n,i);if(o&&!1!==o[0].index){var a=o[0];if(void 0===a.index){var s=1-a.y0/e.ya._length,l=e.xa._length,u=l*s/2,c=l-u;return a.x0=Math.max(Math.min(a.x0,c),u),a.x1=Math.max(Math.min(a.x1,c),u),o}var f=a.cd[a.index],d=a.trace,p=a.subplot;a.a=f.a,a.b=f.b,a.c=f.c,a.xLabelVal=void 0,a.yLabelVal=void 0;var h={};h[d.subplot]={_subplot:p};var g=d._module.formatLabels(f,d,h);a.aLabel=g.aLabel,a.bLabel=g.bLabel,a.cLabel=g.cLabel;var m=f.hi||d.hoverinfo,y=[];if(!d.hovertemplate){var v=m.split("+");-1!==v.indexOf("all")&&(v=["a","b","c"]),-1!==v.indexOf("a")&&b(p.aaxis,a.aLabel),-1!==v.indexOf("b")&&b(p.baxis,a.bLabel),-1!==v.indexOf("c")&&b(p.caxis,a.cLabel)}return a.extraText=y.join("<br>"),a.hovertemplate=d.hovertemplate,o}function b(e,t){y.push(e._hovertitle+": "+t)}}},{"../scatter/hover":427}],450:[function(e,t,n){"use strict";t.exports={attributes:e("./attributes"),supplyDefaults:e("./defaults"),colorbar:e("../scatter/marker_colorbar"),formatLabels:e("./format_labels"),calc:e("./calc"),plot:e("./plot"),style:e("../scatter/style").style,styleOnSelect:e("../scatter/style").styleOnSelect,hoverPoints:e("./hover"),selectPoints:e("../scatter/select"),eventData:e("./event_data"),moduleType:"trace",name:"scatterternary",basePlotModule:e("../../plots/ternary"),categories:["ternary","symbols","showLegend","scatter-like"],meta:{}}},{"../../plots/ternary":291,"../scatter/marker_colorbar":434,"../scatter/select":438,"../scatter/style":440,"./attributes":444,"./calc":445,"./defaults":446,"./event_data":447,"./format_labels":448,"./hover":449,"./plot":451}],451:[function(e,t,n){"use strict";var r=e("../scatter/plot");t.exports=function(e,t,n){var i=t.plotContainer;i.select(".scatterlayer").selectAll("*").remove();var o={xaxis:t.xaxis,yaxis:t.yaxis,plot:i,layerClipId:t._hasClipOnAxisFalse?t.clipIdRelative:null},a=t.layers.frontplot.select("g.scatterlayer");r(e,o,n,a)}},{"../scatter/plot":437}],452:[function(e,t,n){"use strict";var r=e("../box/attributes"),i=e("../../lib/extend").extendFlat;t.exports={y:r.y,x:r.x,x0:r.x0,y0:r.y0,name:i({},r.name,{}),orientation:i({},r.orientation,{}),bandwidth:{valType:"number",min:0,editType:"calc"},scalegroup:{valType:"string",dflt:"",editType:"calc"},scalemode:{valType:"enumerated",values:["width","count"],dflt:"width",editType:"calc"},spanmode:{valType:"enumerated",values:["soft","hard","manual"],dflt:"soft",editType:"calc"},span:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:r.fillcolor,points:i({},r.boxpoints,{}),jitter:i({},r.jitter,{}),pointpos:i({},r.pointpos,{}),width:i({},r.width,{}),marker:r.marker,text:r.text,hovertext:r.hovertext,hovertemplate:r.hovertemplate,box:{visible:{valType:"boolean",dflt:!1,editType:"plot"},width:{valType:"number",min:0,max:1,dflt:.25,editType:"plot"},fillcolor:{valType:"color",editType:"style"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"style"},editType:"plot"},meanline:{visible:{valType:"boolean",dflt:!1,editType:"plot"},color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"plot"},side:{valType:"enumerated",values:["both","positive","negative"],dflt:"both",editType:"calc"},offsetgroup:r.offsetgroup,alignmentgroup:r.alignmentgroup,selected:r.selected,unselected:r.unselected,hoveron:{valType:"flaglist",flags:["violins","points","kde"],dflt:"violins+points+kde",extras:["all"],editType:"style"}}},{"../../lib/extend":197,"../box/attributes":322}],453:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../plots/cartesian/axes"),o=e("../box/calc"),a=e("./helpers"),s=e("../../constants/numerical").BADNUM;function l(e,t,n){var i=t.max-t.min;if(!i)return e.bandwidth?e.bandwidth:0;if(e.bandwidth)return Math.max(e.bandwidth,i/1e4);var o=n.length,a=r.stdev(n,o-1,t.mean);return Math.max(function(e,t,n){return 1.059*Math.min(t,n/1.349)*Math.pow(e,-.2)}(o,a,t.q3-t.q1),i/100)}function u(e,t,n,r){var o,a=e.spanmode,l=e.span||[],u=[t.min,t.max],c=[t.min-2*r,t.max+2*r];function f(r){var i=l[r],o="multicategory"===n.type?n.r2c(i):n.d2c(i,0,e[t.valLetter+"calendar"]);return o===s?c[r]:o}var d={type:"linear",range:o="soft"===a?c:"hard"===a?u:[f(0),f(1)]};return i.setConvert(d),d.cleanRange(),o}t.exports=function(e,t){var n=o(e,t);if(n[0].t.empty)return n;for(var s=e._fullLayout,c=i.getFromId(e,t["h"===t.orientation?"xaxis":"yaxis"]),f=1/0,d=-1/0,p=0,h=0,g=0;g<n.length;g++){var m=n[g],y=m.pts.map(a.extractVal),v=m.bandwidth=l(t,m,y),b=m.span=u(t,m,c,v);if(m.min===m.max&&0===v)b=m.span=[m.min,m.max],m.density=[{v:1,t:b[0]}],m.bandwidth=v,p=Math.max(p,1);else{var x=b[1]-b[0],_=Math.ceil(x/(v/3)),w=x/_;if(!isFinite(w)||!isFinite(_))return r.error("Something went wrong with computing the violin span"),n[0].t.empty=!0,n;var k=a.makeKDE(m,t,y);m.density=new Array(_);for(var T=0,C=b[0];C<b[1]+w/2;T++,C+=w){var O=k(C);m.density[T]={v:O,t:C},p=Math.max(p,O)}}h=Math.max(h,y.length),f=Math.min(f,b[0]),d=Math.max(d,b[1])}var S=i.findExtremes(c,[f,d],{padded:!0});if(t._extremes[c._id]=S,t.width)n[0].t.maxKDE=p;else{var A=s._violinScaleGroupStats,M=t.scalegroup,E=A[M];E?(E.maxKDE=Math.max(E.maxKDE,p),E.maxCount=Math.max(E.maxCount,h)):A[M]={maxKDE:p,maxCount:h}}return n[0].t.labels.kde=r._(e,"kde:"),n}},{"../../constants/numerical":182,"../../lib":203,"../../plots/cartesian/axes":248,"../box/calc":323,"./helpers":456}],454:[function(e,t,n){"use strict";var r=e("../box/cross_trace_calc").setPositionOffset,i=["v","h"];t.exports=function(e,t){for(var n=e.calcdata,o=t.xaxis,a=t.yaxis,s=0;s<i.length;s++){for(var l=i[s],u="h"===l?a:o,c=[],f=0;f<n.length;f++){var d=n[f],p=d[0].t,h=d[0].trace;!0!==h.visible||"violin"!==h.type||p.empty||h.orientation!==l||h.xaxis!==o._id||h.yaxis!==a._id||c.push(f)}r("violin",e,c,u)}}},{"../box/cross_trace_calc":324}],455:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../components/color"),o=e("../box/defaults"),a=e("./attributes");t.exports=function(e,t,n,s){function l(n,i){return r.coerce(e,t,a,n,i)}function u(n,i){return r.coerce2(e,t,a,n,i)}if(o.handleSampleDefaults(e,t,l,s),!1!==t.visible){l("bandwidth"),l("side"),l("width")||(l("scalegroup",t.name),l("scalemode"));var c,f=l("span");Array.isArray(f)&&(c="manual"),l("spanmode",c);var d=l("line.color",(e.marker||{}).color||n),p=l("line.width"),h=l("fillcolor",i.addOpacity(t.line.color,.5));o.handlePointsDefaults(e,t,l,{prefix:""});var g=u("box.width"),m=u("box.fillcolor",h),y=u("box.line.color",d),v=u("box.line.width",p);l("box.visible",Boolean(g||m||y||v))||(t.box={visible:!1});var b=u("meanline.color",d),x=u("meanline.width",p);l("meanline.visible",Boolean(b||x))||(t.meanline={visible:!1})}}},{"../../components/color":75,"../../lib":203,"../box/defaults":325,"./attributes":452}],456:[function(e,t,n){"use strict";var r=e("../../lib"),i=function(e){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*e*e)};n.makeKDE=function(e,t,n){var r=n.length,o=i,a=e.bandwidth,s=1/(r*a);return function(e){for(var t=0,i=0;i<r;i++)t+=o((e-n[i])/a);return s*t}},n.getPositionOnKdePath=function(e,t,n){var i,o;"h"===t.orientation?(i="y",o="x"):(i="x",o="y");var a=r.findPointOnPath(e.path,n,o,{pathLength:e.pathLength}),s=e.posCenterPx,l=a[i];return[l,"both"===t.side?2*s-l:s]},n.getKdeValue=function(e,t,r){var i=e.pts.map(n.extractVal);return n.makeKDE(e,t,i)(r)/e.posDensityScale},n.extractVal=function(e){return e.v}},{"../../lib":203}],457:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../plots/cartesian/axes"),o=e("../box/hover"),a=e("./helpers");t.exports=function(e,t,n,s,l){var u,c,f=e.cd,d=f[0].trace,p=d.hoveron,h=-1!==p.indexOf("violins"),g=-1!==p.indexOf("kde"),m=[];if(h||g){var y=o.hoverOnBoxes(e,t,n,s);if(g&&y.length>0){var v,b,x,_,w,k=e.xa,T=e.ya;"h"===d.orientation?(w=t,v="y",x=T,b="x",_=k):(w=n,v="x",x=k,b="y",_=T);var C=f[e.index];if(w>=C.span[0]&&w<=C.span[1]){var O=r.extendFlat({},e),S=_.c2p(w,!0),A=a.getKdeValue(C,d,w),M=a.getPositionOnKdePath(C,d,S),E=x._offset,P=x._length;O[v+"0"]=M[0],O[v+"1"]=M[1],O[b+"0"]=O[b+"1"]=S,O[b+"Label"]=b+": "+i.hoverLabelText(_,w)+", "+f[0].t.labels.kde+" "+A.toFixed(3),O.spikeDistance=y[0].spikeDistance;var D=v+"Spike";O[D]=y[0][D],y[0].spikeDistance=void 0,y[0][D]=void 0,O.hovertemplate=!1,m.push(O),(c={stroke:e.color})[v+"1"]=r.constrain(E+M[0],E,E+P),c[v+"2"]=r.constrain(E+M[1],E,E+P),c[b+"1"]=c[b+"2"]=_._offset+S}}h&&(m=m.concat(y))}-1!==p.indexOf("points")&&(u=o.hoverOnPoints(e,t,n));var L=l.selectAll(".violinline-"+d.uid).data(c?[0]:[]);return L.enter().append("line").classed("violinline-"+d.uid,!0).attr("stroke-width",1.5),L.exit().remove(),L.attr(c),"closest"===s?u?[u]:m:u?(m.push(u),m):m}},{"../../lib":203,"../../plots/cartesian/axes":248,"../box/hover":327,"./helpers":456}],458:[function(e,t,n){"use strict";t.exports={attributes:e("./attributes"),layoutAttributes:e("./layout_attributes"),supplyDefaults:e("./defaults"),crossTraceDefaults:e("../box/defaults").crossTraceDefaults,supplyLayoutDefaults:e("./layout_defaults"),calc:e("./calc"),crossTraceCalc:e("./cross_trace_calc"),plot:e("./plot"),style:e("./style"),styleOnSelect:e("../scatter/style").styleOnSelect,hoverPoints:e("./hover"),selectPoints:e("../box/select"),moduleType:"trace",name:"violin",basePlotModule:e("../../plots/cartesian"),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","violinLayout","zoomScale"],meta:{}}},{"../../plots/cartesian":261,"../box/defaults":325,"../box/select":332,"../scatter/style":440,"./attributes":452,"./calc":453,"./cross_trace_calc":454,"./defaults":455,"./hover":457,"./layout_attributes":459,"./layout_defaults":460,"./plot":461,"./style":462}],459:[function(e,t,n){"use strict";var r=e("../box/layout_attributes"),i=e("../../lib").extendFlat;t.exports={violinmode:i({},r.boxmode,{}),violingap:i({},r.boxgap,{}),violingroupgap:i({},r.boxgroupgap,{})}},{"../../lib":203,"../box/layout_attributes":329}],460:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("./layout_attributes"),o=e("../box/layout_defaults");t.exports=function(e,t,n){o._supply(e,t,n,(function(n,o){return r.coerce(e,t,i,n,o)}),"violin")}},{"../../lib":203,"../box/layout_defaults":330,"./layout_attributes":459}],461:[function(e,t,n){"use strict";var r=e("d3"),i=e("../../lib"),o=e("../../components/drawing"),a=e("../box/plot"),s=e("../scatter/line_points"),l=e("./helpers");t.exports=function(e,t,n,u){var c=e._fullLayout,f=t.xaxis,d=t.yaxis;function p(e){var t=s(e,{xaxis:f,yaxis:d,connectGaps:!0,baseTolerance:.75,shape:"spline",simplify:!0,linearized:!0});return o.smoothopen(t[0],1)}i.makeTraceGroups(u,n,"trace violins").each((function(e){var n=r.select(this),o=e[0],s=o.t,u=o.trace;if(!0!==u.visible||s.empty)n.remove();else{var h=s.bPos,g=s.bdPos,m=t[s.valLetter+"axis"],y=t[s.posLetter+"axis"],v="both"===u.side,b=v||"positive"===u.side,x=v||"negative"===u.side,_=n.selectAll("path.violin").data(i.identity);_.enter().append("path").style("vector-effect","non-scaling-stroke").attr("class","violin"),_.exit().remove(),_.each((function(e){var t,n,i,o,a,l,f,d,_=r.select(this),w=e.density,k=w.length,T=y.c2l(e.pos+h,!0),C=y.l2p(T);if(u.width)t=s.maxKDE/g;else{var O=c._violinScaleGroupStats[u.scalegroup];t="count"===u.scalemode?O.maxKDE/g*(O.maxCount/e.pts.length):O.maxKDE/g}if(b){for(f=new Array(k),a=0;a<k;a++)(d=f[a]={})[s.posLetter]=T+w[a].v/t,d[s.valLetter]=m.c2l(w[a].t,!0);n=p(f)}if(x){for(f=new Array(k),l=0,a=k-1;l<k;l++,a--)(d=f[l]={})[s.posLetter]=T-w[a].v/t,d[s.valLetter]=m.c2l(w[a].t,!0);i=p(f)}if(v)o=n+"L"+i.substr(1)+"Z";else{var S=[C,m.c2p(w[0].t)],A=[C,m.c2p(w[k-1].t)];"h"===u.orientation&&(S.reverse(),A.reverse()),o=b?"M"+S+"L"+n.substr(1)+"L"+A:"M"+A+"L"+i.substr(1)+"L"+S}_.attr("d",o),e.posCenterPx=C,e.posDensityScale=t*g,e.path=_.node(),e.pathLength=e.path.getTotalLength()/(v?2:1)}));var w,k,T,C=u.box,O=C.width,S=(C.line||{}).width;v?(w=g*O,k=0):b?(w=[0,g*O/2],k=S*{x:1,y:-1}[s.posLetter]):(w=[g*O/2,0],k=S*{x:-1,y:1}[s.posLetter]),a.plotBoxAndWhiskers(n,{pos:y,val:m},u,{bPos:h,bdPos:w,bPosPxOffset:k}),a.plotBoxMean(n,{pos:y,val:m},u,{bPos:h,bdPos:w,bPosPxOffset:k}),!u.box.visible&&u.meanline.visible&&(T=i.identity);var A=n.selectAll("path.meanline").data(T||[]);A.enter().append("path").attr("class","meanline").style("fill","none").style("vector-effect","non-scaling-stroke"),A.exit().remove(),A.each((function(e){var t=m.c2p(e.mean,!0),n=l.getPositionOnKdePath(e,u,t);r.select(this).attr("d","h"===u.orientation?"M"+t+","+n[0]+"V"+n[1]:"M"+n[0]+","+t+"H"+n[1])})),a.plotPoints(n,{x:f,y:d},u,s)}}))}},{"../../components/drawing":97,"../../lib":203,"../box/plot":331,"../scatter/line_points":430,"./helpers":456,d3:21}],462:[function(e,t,n){"use strict";var r=e("d3"),i=e("../../components/color"),o=e("../scatter/style").stylePoints;t.exports=function(e){var t=r.select(e).selectAll("g.trace.violins");t.style("opacity",(function(e){return e[0].trace.opacity})),t.each((function(t){var n=t[0].trace,a=r.select(this),s=n.box||{},l=s.line||{},u=n.meanline||{},c=u.width;a.selectAll("path.violin").style("stroke-width",n.line.width+"px").call(i.stroke,n.line.color).call(i.fill,n.fillcolor),a.selectAll("path.box").style("stroke-width",l.width+"px").call(i.stroke,l.color).call(i.fill,s.fillcolor);var f={"stroke-width":c+"px","stroke-dasharray":2*c+"px,"+c+"px"};a.selectAll("path.mean").style(f).call(i.stroke,u.color),a.selectAll("path.meanline").style(f).call(i.stroke,u.color),o(a,n,e)}))}},{"../../components/color":75,"../scatter/style":440,d3:21}],463:[function(e,t,n){"use strict";n.version="1.57.1"},{}]},{},[11])(11)},76095:function(e,t,n){var r,i=n(48764).Buffer;"undefined"!=typeof self&&self,r=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=109)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17),i=n(18),o=n(19),a=n(45),s=n(46),l=n(47),u=n(48),c=n(49),f=n(12),d=n(32),p=n(33),h=n(31),g=n(1),m={Scope:g.Scope,create:g.create,find:g.find,query:g.query,register:g.register,Container:r.default,Format:i.default,Leaf:o.default,Embed:u.default,Scroll:a.default,Block:l.default,Inline:s.default,Text:c.default,Attributor:{Attribute:f.default,Class:d.default,Style:p.default,Store:h.default}};t.default=m},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){var n=this;return t="[Parchment] "+t,(n=e.call(this,t)||this).message=t,n.name=n.constructor.name,n}return i(t,e),t}(Error);t.ParchmentError=o;var a,s={},l={},u={},c={};function f(e,t){var n;if(void 0===t&&(t=a.ANY),"string"==typeof e)n=c[e]||s[e];else if(e instanceof Text||e.nodeType===Node.TEXT_NODE)n=c.text;else if("number"==typeof e)e&a.LEVEL&a.BLOCK?n=c.block:e&a.LEVEL&a.INLINE&&(n=c.inline);else if(e instanceof HTMLElement){var r=(e.getAttribute("class")||"").split(/\s+/);for(var i in r)if(n=l[r[i]])break;n=n||u[e.tagName]}return null==n?null:t&a.LEVEL&n.scope&&t&a.TYPE&n.scope?n:null}t.DATA_KEY="__blot",function(e){e[e.TYPE=3]="TYPE",e[e.LEVEL=12]="LEVEL",e[e.ATTRIBUTE=13]="ATTRIBUTE",e[e.BLOT=14]="BLOT",e[e.INLINE=7]="INLINE",e[e.BLOCK=11]="BLOCK",e[e.BLOCK_BLOT=10]="BLOCK_BLOT",e[e.INLINE_BLOT=6]="INLINE_BLOT",e[e.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",e[e.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",e[e.ANY=15]="ANY"}(a=t.Scope||(t.Scope={})),t.create=function(e,t){var n=f(e);if(null==n)throw new o("Unable to create "+e+" blot");var r=n,i=e instanceof Node||e.nodeType===Node.TEXT_NODE?e:r.create(t);return new r(i,t)},t.find=function e(n,r){return void 0===r&&(r=!1),null==n?null:null!=n[t.DATA_KEY]?n[t.DATA_KEY].blot:r?e(n.parentNode,r):null},t.query=f,t.register=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(t.length>1)return t.map((function(t){return e(t)}));var r=t[0];if("string"!=typeof r.blotName&&"string"!=typeof r.attrName)throw new o("Invalid definition");if("abstract"===r.blotName)throw new o("Cannot register abstract class");if(c[r.blotName||r.attrName]=r,"string"==typeof r.keyName)s[r.keyName]=r;else if(null!=r.className&&(l[r.className]=r),null!=r.tagName){Array.isArray(r.tagName)?r.tagName=r.tagName.map((function(e){return e.toUpperCase()})):r.tagName=r.tagName.toUpperCase();var i=Array.isArray(r.tagName)?r.tagName:[r.tagName];i.forEach((function(e){null!=u[e]&&null!=r.className||(u[e]=r)}))}return r}},function(e,t,n){var r=n(51),i=n(11),o=n(3),a=n(20),s=String.fromCharCode(0),l=function(e){Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]};l.prototype.insert=function(e,t){var n={};return 0===e.length?this:(n.insert=e,null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n))},l.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},l.prototype.retain=function(e,t){if(e<=0)return this;var n={retain:e};return null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n)},l.prototype.push=function(e){var t=this.ops.length,n=this.ops[t-1];if(e=o(!0,{},e),"object"==typeof n){if("number"==typeof e.delete&&"number"==typeof n.delete)return this.ops[t-1]={delete:n.delete+e.delete},this;if("number"==typeof n.delete&&null!=e.insert&&(t-=1,"object"!=typeof(n=this.ops[t-1])))return this.ops.unshift(e),this;if(i(e.attributes,n.attributes)){if("string"==typeof e.insert&&"string"==typeof n.insert)return this.ops[t-1]={insert:n.insert+e.insert},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this;if("number"==typeof e.retain&&"number"==typeof n.retain)return this.ops[t-1]={retain:n.retain+e.retain},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this},l.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},l.prototype.filter=function(e){return this.ops.filter(e)},l.prototype.forEach=function(e){this.ops.forEach(e)},l.prototype.map=function(e){return this.ops.map(e)},l.prototype.partition=function(e){var t=[],n=[];return this.forEach((function(r){(e(r)?t:n).push(r)})),[t,n]},l.prototype.reduce=function(e,t){return this.ops.reduce(e,t)},l.prototype.changeLength=function(){return this.reduce((function(e,t){return t.insert?e+a.length(t):t.delete?e-t.delete:e}),0)},l.prototype.length=function(){return this.reduce((function(e,t){return e+a.length(t)}),0)},l.prototype.slice=function(e,t){e=e||0,"number"!=typeof t&&(t=1/0);for(var n=[],r=a.iterator(this.ops),i=0;i<t&&r.hasNext();){var o;i<e?o=r.next(e-i):(o=r.next(t-i),n.push(o)),i+=a.length(o)}return new l(n)},l.prototype.compose=function(e){var t=a.iterator(this.ops),n=a.iterator(e.ops),r=[],o=n.peek();if(null!=o&&"number"==typeof o.retain&&null==o.attributes){for(var s=o.retain;"insert"===t.peekType()&&t.peekLength()<=s;)s-=t.peekLength(),r.push(t.next());o.retain-s>0&&n.next(o.retain-s)}for(var u=new l(r);t.hasNext()||n.hasNext();)if("insert"===n.peekType())u.push(n.next());else if("delete"===t.peekType())u.push(t.next());else{var c=Math.min(t.peekLength(),n.peekLength()),f=t.next(c),d=n.next(c);if("number"==typeof d.retain){var p={};"number"==typeof f.retain?p.retain=c:p.insert=f.insert;var h=a.attributes.compose(f.attributes,d.attributes,"number"==typeof f.retain);if(h&&(p.attributes=h),u.push(p),!n.hasNext()&&i(u.ops[u.ops.length-1],p)){var g=new l(t.rest());return u.concat(g).chop()}}else"number"==typeof d.delete&&"number"==typeof f.retain&&u.push(d)}return u.chop()},l.prototype.concat=function(e){var t=new l(this.ops.slice());return e.ops.length>0&&(t.push(e.ops[0]),t.ops=t.ops.concat(e.ops.slice(1))),t},l.prototype.diff=function(e,t){if(this.ops===e.ops)return new l;var n=[this,e].map((function(t){return t.map((function(n){if(null!=n.insert)return"string"==typeof n.insert?n.insert:s;throw new Error("diff() called "+(t===e?"on":"with")+" non-document")})).join("")})),o=new l,u=r(n[0],n[1],t),c=a.iterator(this.ops),f=a.iterator(e.ops);return u.forEach((function(e){for(var t=e[1].length;t>0;){var n=0;switch(e[0]){case r.INSERT:n=Math.min(f.peekLength(),t),o.push(f.next(n));break;case r.DELETE:n=Math.min(t,c.peekLength()),c.next(n),o.delete(n);break;case r.EQUAL:n=Math.min(c.peekLength(),f.peekLength(),t);var s=c.next(n),l=f.next(n);i(s.insert,l.insert)?o.retain(n,a.attributes.diff(s.attributes,l.attributes)):o.push(l).delete(n)}t-=n}})),o.chop()},l.prototype.eachLine=function(e,t){t=t||"\n";for(var n=a.iterator(this.ops),r=new l,i=0;n.hasNext();){if("insert"!==n.peekType())return;var o=n.peek(),s=a.length(o)-n.peekLength(),u="string"==typeof o.insert?o.insert.indexOf(t,s)-s:-1;if(u<0)r.push(n.next());else if(u>0)r.push(n.next(u));else{if(!1===e(r,n.next(1).attributes||{},i))return;i+=1,r=new l}}r.length()>0&&e(r,{},i)},l.prototype.transform=function(e,t){if(t=!!t,"number"==typeof e)return this.transformPosition(e,t);for(var n=a.iterator(this.ops),r=a.iterator(e.ops),i=new l;n.hasNext()||r.hasNext();)if("insert"!==n.peekType()||!t&&"insert"===r.peekType())if("insert"===r.peekType())i.push(r.next());else{var o=Math.min(n.peekLength(),r.peekLength()),s=n.next(o),u=r.next(o);if(s.delete)continue;u.delete?i.push(u):i.retain(o,a.attributes.transform(s.attributes,u.attributes,t))}else i.retain(a.length(n.next()));return i.chop()},l.prototype.transformPosition=function(e,t){t=!!t;for(var n=a.iterator(this.ops),r=0;n.hasNext()&&r<=e;){var i=n.peekLength(),o=n.peekType();n.next(),"delete"!==o?("insert"===o&&(r<e||!t)&&(e+=i),r+=i):e-=Math.min(i,e-r)}return e},e.exports=l},function(e,t){"use strict";var n=Object.prototype.hasOwnProperty,r=Object.prototype.toString,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===r.call(e)},s=function(e){if(!e||"[object Object]"!==r.call(e))return!1;var t,i=n.call(e,"constructor"),o=e.constructor&&e.constructor.prototype&&n.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!i&&!o)return!1;for(t in e);return void 0===t||n.call(e,t)},l=function(e,t){i&&"__proto__"===t.name?i(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},u=function(e,t){if("__proto__"===t){if(!n.call(e,t))return;if(o)return o(e,t).value}return e[t]};e.exports=function e(){var t,n,r,i,o,c,f=arguments[0],d=1,p=arguments.length,h=!1;for("boolean"==typeof f&&(h=f,f=arguments[1]||{},d=2),(null==f||"object"!=typeof f&&"function"!=typeof f)&&(f={});d<p;++d)if(null!=(t=arguments[d]))for(n in t)r=u(f,n),f!==(i=u(t,n))&&(h&&i&&(s(i)||(o=a(i)))?(o?(o=!1,c=r&&a(r)?r:[]):c=r&&s(r)?r:{},l(f,{name:n,newValue:e(h,c,i)})):void 0!==i&&l(f,{name:n,newValue:i}));return f}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BlockEmbed=t.bubbleFormats=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},o=f(n(3)),a=f(n(2)),s=f(n(0)),l=f(n(16)),u=f(n(6)),c=f(n(7));function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=function(e){function t(){return d(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,e),r(t,[{key:"attach",value:function(){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attach",this).call(this),this.attributes=new s.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new a.default).insert(this.value(),(0,o.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(e,t){var n=s.default.query(e,s.default.Scope.BLOCK_ATTRIBUTE);null!=n&&this.attributes.attribute(n,t)}},{key:"formatAt",value:function(e,t,n,r){this.format(n,r)}},{key:"insertAt",value:function(e,n,r){if("string"==typeof n&&n.endsWith("\n")){var o=s.default.create(m.blotName);this.parent.insertBefore(o,0===e?this:this.next),o.insertAt(0,n.slice(0,-1))}else i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,n,r)}}]),t}(s.default.Embed);g.scope=s.default.Scope.BLOCK_BLOT;var m=function(e){function t(e){d(this,t);var n=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.cache={},n}return h(t,e),r(t,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(s.default.Leaf).reduce((function(e,t){return 0===t.length()?e:e.insert(t.value(),y(t))}),new a.default).insert("\n",y(this))),this.cache.delta}},{key:"deleteAt",value:function(e,n){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,n),this.cache={}}},{key:"formatAt",value:function(e,n,r,o){n<=0||(s.default.query(r,s.default.Scope.BLOCK)?e+n===this.length()&&this.format(r,o):i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,Math.min(n,this.length()-e-1),r,o),this.cache={})}},{key:"insertAt",value:function(e,n,r){if(null!=r)return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,n,r);if(0!==n.length){var o=n.split("\n"),a=o.shift();a.length>0&&(e<this.length()-1||null==this.children.tail?i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,Math.min(e,this.length()-1),a):this.children.tail.insertAt(this.children.tail.length(),a),this.cache={});var s=this;o.reduce((function(e,t){return(s=s.split(e,!0)).insertAt(0,t),t.length}),e+a.length)}}},{key:"insertBefore",value:function(e,n){var r=this.children.head;i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,n),r instanceof l.default&&r.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(e,n){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"moveChildren",this).call(this,e,n),this.cache={}}},{key:"optimize",value:function(e){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.cache={}}},{key:"path",value:function(e){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e,!0)}},{key:"removeChild",value:function(e){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"removeChild",this).call(this,e),this.cache={}}},{key:"split",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n&&(0===e||e>=this.length()-1)){var r=this.clone();return 0===e?(this.parent.insertBefore(r,this),this):(this.parent.insertBefore(r,this.next),r)}var o=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"split",this).call(this,e,n);return this.cache={},o}}]),t}(s.default.Block);function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==e?t:("function"==typeof e.formats&&(t=(0,o.default)(t,e.formats())),null==e.parent||"scroll"==e.parent.blotName||e.parent.statics.scope!==e.statics.scope?t:y(e.parent,t))}m.blotName="block",m.tagName="P",m.defaultChild="break",m.allowedChildren=[u.default,s.default.Embed,c.default],t.bubbleFormats=y,t.BlockEmbed=g,t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.overload=t.expandConfig=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(50);var a=m(n(2)),s=m(n(14)),l=m(n(8)),u=m(n(9)),c=m(n(0)),f=n(15),d=m(f),p=m(n(3)),h=m(n(10)),g=m(n(34));function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var b=(0,h.default)("quill"),x=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(v(this,e),this.options=_(t,r),this.container=this.options.container,null==this.container)return b.error("Invalid Quill container",t);this.options.debug&&e.debug(this.options.debug);var i=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new l.default,this.scroll=c.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new s.default(this.scroll),this.selection=new d.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(l.default.events.EDITOR_CHANGE,(function(e){e===l.default.events.TEXT_CHANGE&&n.root.classList.toggle("ql-blank",n.editor.isBlank())})),this.emitter.on(l.default.events.SCROLL_UPDATE,(function(e,t){var r=n.selection.lastRange,i=r&&0===r.length?r.index:void 0;w.call(n,(function(){return n.editor.update(null,t,i)}),e)}));var o=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+i+"<p><br></p></div>");this.setContents(o),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return o(e,null,[{key:"debug",value:function(e){!0===e&&(e="log"),h.default.level(e)}},{key:"find",value:function(e){return e.__quill||c.default.find(e)}},{key:"import",value:function(e){return null==this.imports[e]&&b.error("Cannot import "+e+". Are you sure it was registered?"),this.imports[e]}},{key:"register",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof e){var i=e.attrName||e.blotName;"string"==typeof i?this.register("formats/"+i,e,t):Object.keys(e).forEach((function(r){n.register(r,e[r],t)}))}else null==this.imports[e]||r||b.warn("Overwriting "+e+" with",t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&"abstract"!==t.blotName?c.default.register(t):e.startsWith("modules")&&"function"==typeof t.register&&t.register()}}]),o(e,[{key:"addContainer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof e){var n=e;(e=document.createElement("div")).classList.add(n)}return this.container.insertBefore(e,t),e}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(e,t,n){var r=this,o=k(e,t,n),a=i(o,4);return e=a[0],t=a[1],n=a[3],w.call(this,(function(){return r.editor.deleteText(e,t)}),n,e,-1*t)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}},{key:"focus",value:function(){var e=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=e,this.scrollIntoView()}},{key:"format",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default.sources.API;return w.call(this,(function(){var r=n.getSelection(!0),i=new a.default;if(null==r)return i;if(c.default.query(e,c.default.Scope.BLOCK))i=n.editor.formatLine(r.index,r.length,y({},e,t));else{if(0===r.length)return n.selection.format(e,t),i;i=n.editor.formatText(r.index,r.length,y({},e,t))}return n.setSelection(r,l.default.sources.SILENT),i}),r)}},{key:"formatLine",value:function(e,t,n,r,o){var a,s=this,l=k(e,t,n,r,o),u=i(l,4);return e=u[0],t=u[1],a=u[2],o=u[3],w.call(this,(function(){return s.editor.formatLine(e,t,a)}),o,e,0)}},{key:"formatText",value:function(e,t,n,r,o){var a,s=this,l=k(e,t,n,r,o),u=i(l,4);return e=u[0],t=u[1],a=u[2],o=u[3],w.call(this,(function(){return s.editor.formatText(e,t,a)}),o,e,0)}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=void 0;n="number"==typeof e?this.selection.getBounds(e,t):this.selection.getBounds(e.index,e.length);var r=this.container.getBoundingClientRect();return{bottom:n.bottom-r.top,height:n.height,left:n.left-r.left,right:n.right-r.left,top:n.top-r.top,width:n.width}}},{key:"getContents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,n=k(e,t),r=i(n,2);return e=r[0],t=r[1],this.editor.getContents(e,t)}},{key:"getFormat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"==typeof e?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}},{key:"getIndex",value:function(e){return e.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(e){return this.scroll.leaf(e)}},{key:"getLine",value:function(e){return this.scroll.line(e)}},{key:"getLines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof e?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}},{key:"getModule",value:function(e){return this.theme.modules[e]}},{key:"getSelection",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,n=k(e,t),r=i(n,2);return e=r[0],t=r[1],this.editor.getText(e,t)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(t,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.sources.API;return w.call(this,(function(){return i.editor.insertEmbed(t,n,r)}),o,t)}},{key:"insertText",value:function(e,t,n,r,o){var a,s=this,l=k(e,0,n,r,o),u=i(l,4);return e=u[0],a=u[2],o=u[3],w.call(this,(function(){return s.editor.insertText(e,t,a)}),o,e,t.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(e,t,n){this.clipboard.dangerouslyPasteHTML(e,t,n)}},{key:"removeFormat",value:function(e,t,n){var r=this,o=k(e,t,n),a=i(o,4);return e=a[0],t=a[1],n=a[3],w.call(this,(function(){return r.editor.removeFormat(e,t)}),n,e)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API;return w.call(this,(function(){e=new a.default(e);var n=t.getLength(),r=t.editor.deleteText(0,n),i=t.editor.applyDelta(e),o=i.ops[i.ops.length-1];return null!=o&&"string"==typeof o.insert&&"\n"===o.insert[o.insert.length-1]&&(t.editor.deleteText(t.getLength()-1,1),i.delete(1)),r.compose(i)}),n)}},{key:"setSelection",value:function(t,n,r){if(null==t)this.selection.setRange(null,n||e.sources.API);else{var o=k(t,n,r),a=i(o,4);t=a[0],n=a[1],r=a[3],this.selection.setRange(new f.Range(t,n),r),r!==l.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API,n=(new a.default).insert(e);return this.setContents(n,t)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.default.sources.USER,t=this.scroll.update(e);return this.selection.update(e),t}},{key:"updateContents",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API;return w.call(this,(function(){return e=new a.default(e),t.editor.applyDelta(e,n)}),n,!0)}}]),e}();function _(e,t){if((t=(0,p.default)(!0,{container:e,modules:{clipboard:!0,keyboard:!0,history:!0}},t)).theme&&t.theme!==x.DEFAULTS.theme){if(t.theme=x.import("themes/"+t.theme),null==t.theme)throw new Error("Invalid theme "+t.theme+". Did you register it?")}else t.theme=g.default;var n=(0,p.default)(!0,{},t.theme.DEFAULTS);[n,t].forEach((function(e){e.modules=e.modules||{},Object.keys(e.modules).forEach((function(t){!0===e.modules[t]&&(e.modules[t]={})}))}));var r=Object.keys(n.modules).concat(Object.keys(t.modules)).reduce((function(e,t){var n=x.import("modules/"+t);return null==n?b.error("Cannot load "+t+" module. Are you sure you registered it?"):e[t]=n.DEFAULTS||{},e}),{});return null!=t.modules&&t.modules.toolbar&&t.modules.toolbar.constructor!==Object&&(t.modules.toolbar={container:t.modules.toolbar}),t=(0,p.default)(!0,{},x.DEFAULTS,{modules:r},n,t),["bounds","container","scrollingContainer"].forEach((function(e){"string"==typeof t[e]&&(t[e]=document.querySelector(t[e]))})),t.modules=Object.keys(t.modules).reduce((function(e,n){return t.modules[n]&&(e[n]=t.modules[n]),e}),{}),t}function w(e,t,n,r){if(this.options.strict&&!this.isEnabled()&&t===l.default.sources.USER)return new a.default;var i=null==n?null:this.getSelection(),o=this.editor.delta,s=e();if(null!=i&&(!0===n&&(n=i.index),null==r?i=T(i,s,t):0!==r&&(i=T(i,n,r,t)),this.setSelection(i,l.default.sources.SILENT)),s.length()>0){var u,c,f=[l.default.events.TEXT_CHANGE,s,o,t];(u=this.emitter).emit.apply(u,[l.default.events.EDITOR_CHANGE].concat(f)),t!==l.default.sources.SILENT&&(c=this.emitter).emit.apply(c,f)}return s}function k(e,t,n,i,o){var a={};return"number"==typeof e.index&&"number"==typeof e.length?"number"!=typeof t?(o=i,i=n,n=t,t=e.length,e=e.index):(t=e.length,e=e.index):"number"!=typeof t&&(o=i,i=n,n=t,t=0),"object"===(void 0===n?"undefined":r(n))?(a=n,o=i):"string"==typeof n&&(null!=i?a[n]=i:o=n),[e,t,a,o=o||l.default.sources.API]}function T(e,t,n,r){if(null==e)return null;var o=void 0,s=void 0;if(t instanceof a.default){var u=[e.index,e.index+e.length].map((function(e){return t.transformPosition(e,r!==l.default.sources.USER)})),c=i(u,2);o=c[0],s=c[1]}else{var d=[e.index,e.index+e.length].map((function(e){return e<t||e===t&&r===l.default.sources.USER?e:n>=0?e+n:Math.max(t,e+n)})),p=i(d,2);o=p[0],s=p[1]}return new f.Range(o,s-o)}x.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},x.events=l.default.events,x.sources=l.default.sources,x.version="1.3.7",x.imports={delta:a.default,parchment:c.default,"core/module":u.default,"core/theme":g.default},t.expandConfig=_,t.overload=k,t.default=x},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},o=s(n(7)),a=s(n(0));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){return l(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"formatAt",value:function(e,n,r,o){if(t.compare(this.statics.blotName,r)<0&&a.default.query(r,a.default.Scope.BLOT)){var s=this.isolate(e,n);o&&s.wrap(r,o)}else i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,n,r,o)}},{key:"optimize",value:function(e){if(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.parent instanceof t&&t.compare(this.statics.blotName,this.parent.statics.blotName)>0){var n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this)}}}],[{key:"compare",value:function(e,n){var r=t.order.indexOf(e),i=t.order.indexOf(n);return r>=0||i>=0?r-i:e===n?0:e<n?-1:1}}]),t}(a.default.Inline);c.allowedChildren=[c,a.default.Embed,o.default],c.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],t.default=c},function(e,t,n){"use strict";var r;function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((r=n(0))&&r.__esModule?r:{default:r}).default.Text);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},o=a(n(54));function a(e){return e&&e.__esModule?e:{default:e}}var s=(0,a(n(10)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach((function(e){document.addEventListener(e,(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];[].slice.call(document.querySelectorAll(".ql-container")).forEach((function(e){var n;e.__quill&&e.__quill.emitter&&(n=e.__quill.emitter).handleDOM.apply(n,t)}))}))}));var l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.listeners={},e.on("error",s.error),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"emit",value:function(){s.log.apply(s,arguments),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(this.listeners[e.type]||[]).forEach((function(t){var r=t.node,i=t.handler;(e.target===r||r.contains(e.target))&&i.apply(void 0,[e].concat(n))}))}},{key:"listenDOM",value:function(e,t,n){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push({node:t,handler:n})}}]),t}(o.default);l.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},l.sources={API:"api",SILENT:"silent",USER:"user"},t.default=l},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e),this.quill=t,this.options=n};i.DEFAULTS={},t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["error","warn","log","info"],i="warn";function o(e){if(r.indexOf(e)<=r.indexOf(i)){for(var t,n=arguments.length,o=Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];(t=console)[e].apply(t,o)}}function a(e){return r.reduce((function(t,n){return t[n]=o.bind(console,n,e),t}),{})}o.level=a.level=function(e){i=e},t.default=a},function(e,t,n){var r=Array.prototype.slice,i=n(52),o=n(53),a=e.exports=function(e,t,n){return n||(n={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?n.strict?e===t:e==t:function(e,t,n){var u,c;if(s(e)||s(t))return!1;if(e.prototype!==t.prototype)return!1;if(o(e))return!!o(t)&&(e=r.call(e),t=r.call(t),a(e,t,n));if(l(e)){if(!l(t))return!1;if(e.length!==t.length)return!1;for(u=0;u<e.length;u++)if(e[u]!==t[u])return!1;return!0}try{var f=i(e),d=i(t)}catch(e){return!1}if(f.length!=d.length)return!1;for(f.sort(),d.sort(),u=f.length-1;u>=0;u--)if(f[u]!=d[u])return!1;for(u=f.length-1;u>=0;u--)if(c=f[u],!a(e[c],t[c],n))return!1;return typeof e==typeof t}(e,t,n))};function s(e){return null==e}function l(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length||"function"!=typeof e.copy||"function"!=typeof e.slice||e.length>0&&"number"!=typeof e[0])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=function(){function e(e,t,n){void 0===n&&(n={}),this.attrName=e,this.keyName=t;var i=r.Scope.TYPE&r.Scope.ATTRIBUTE;null!=n.scope?this.scope=n.scope&r.Scope.LEVEL|i:this.scope=r.Scope.ATTRIBUTE,null!=n.whitelist&&(this.whitelist=n.whitelist)}return e.keys=function(e){return[].map.call(e.attributes,(function(e){return e.name}))},e.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.setAttribute(this.keyName,t),!0)},e.prototype.canAdd=function(e,t){return null!=r.query(e,r.Scope.BLOT&(this.scope|r.Scope.TYPE))&&(null==this.whitelist||("string"==typeof t?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1))},e.prototype.remove=function(e){e.removeAttribute(this.keyName)},e.prototype.value=function(e){var t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""},e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Code=void 0;var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},a=f(n(2)),s=f(n(0)),l=f(n(4)),u=f(n(6)),c=f(n(7));function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=function(e){function t(){return d(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,e),t}(u.default);g.blotName="code",g.tagName="CODE";var m=function(e){function t(){return d(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,e),i(t,[{key:"delta",value:function(){var e=this,t=this.domNode.textContent;return t.endsWith("\n")&&(t=t.slice(0,-1)),t.split("\n").reduce((function(t,n){return t.insert(n).insert("\n",e.formats())}),new a.default)}},{key:"format",value:function(e,n){if(e!==this.statics.blotName||!n){var i=this.descendant(c.default,this.length()-1),a=r(i,1)[0];null!=a&&a.deleteAt(a.length()-1,1),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n)}}},{key:"formatAt",value:function(e,n,r,i){if(0!==n&&null!=s.default.query(r,s.default.Scope.BLOCK)&&(r!==this.statics.blotName||i!==this.statics.formats(this.domNode))){var o=this.newlineIndex(e);if(!(o<0||o>=e+n)){var a=this.newlineIndex(e,!0)+1,l=o-a+1,u=this.isolate(a,l),c=u.next;u.format(r,i),c instanceof t&&c.formatAt(0,e-a+n-l,r,i)}}}},{key:"insertAt",value:function(e,t,n){if(null==n){var i=this.descendant(c.default,e),o=r(i,2),a=o[0],s=o[1];a.insertAt(s,t)}}},{key:"length",value:function(){var e=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?e:e+1}},{key:"newlineIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t)return this.domNode.textContent.slice(0,e).lastIndexOf("\n");var n=this.domNode.textContent.slice(e).indexOf("\n");return n>-1?e+n:-1}},{key:"optimize",value:function(e){this.domNode.textContent.endsWith("\n")||this.appendChild(s.default.create("text","\n")),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===n.statics.formats(n.domNode)&&(n.optimize(e),n.moveChildren(this),n.remove())}},{key:"replace",value:function(e){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e),[].slice.call(this.domNode.querySelectorAll("*")).forEach((function(e){var t=s.default.find(e);null==t?e.parentNode.removeChild(e):t instanceof s.default.Embed?t.remove():t.unwrap()}))}}],[{key:"create",value:function(e){var n=o(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return n.setAttribute("spellcheck",!1),n}},{key:"formats",value:function(){return!0}}]),t}(l.default);m.blotName="code-block",m.tagName="PRE",m.TAB="  ",t.Code=g,t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=y(n(2)),s=y(n(20)),l=y(n(0)),u=y(n(13)),c=y(n(24)),f=n(4),d=y(f),p=y(n(16)),h=y(n(21)),g=y(n(11)),m=y(n(3));function y(e){return e&&e.__esModule?e:{default:e}}var v=/^[ -~]*$/,b=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scroll=t,this.delta=this.getDelta()}return o(e,[{key:"applyDelta",value:function(e){var t=this,n=!1;this.scroll.update();var o=this.scroll.length();return this.scroll.batchStart(),(e=function(e){return e.reduce((function(e,t){if(1===t.insert){var n=(0,h.default)(t.attributes);return delete n.image,e.insert({image:t.attributes.image},n)}if(null==t.attributes||!0!==t.attributes.list&&!0!==t.attributes.bullet||((t=(0,h.default)(t)).attributes.list?t.attributes.list="ordered":(t.attributes.list="bullet",delete t.attributes.bullet)),"string"==typeof t.insert){var r=t.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return e.insert(r,t.attributes)}return e.push(t)}),new a.default)}(e)).reduce((function(e,a){var u=a.retain||a.delete||a.insert.length||1,c=a.attributes||{};if(null!=a.insert){if("string"==typeof a.insert){var p=a.insert;p.endsWith("\n")&&n&&(n=!1,p=p.slice(0,-1)),e>=o&&!p.endsWith("\n")&&(n=!0),t.scroll.insertAt(e,p);var h=t.scroll.line(e),g=i(h,2),y=g[0],v=g[1],b=(0,m.default)({},(0,f.bubbleFormats)(y));if(y instanceof d.default){var x=y.descendant(l.default.Leaf,v),_=i(x,1)[0];b=(0,m.default)(b,(0,f.bubbleFormats)(_))}c=s.default.attributes.diff(b,c)||{}}else if("object"===r(a.insert)){var w=Object.keys(a.insert)[0];if(null==w)return e;t.scroll.insertAt(e,w,a.insert[w])}o+=u}return Object.keys(c).forEach((function(n){t.scroll.formatAt(e,u,n,c[n])})),e+u}),0),e.reduce((function(e,n){return"number"==typeof n.delete?(t.scroll.deleteAt(e,n.delete),e):e+(n.retain||n.insert.length||1)}),0),this.scroll.batchEnd(),this.update(e)}},{key:"deleteText",value:function(e,t){return this.scroll.deleteAt(e,t),this.update((new a.default).retain(e).delete(t))}},{key:"formatLine",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(r).forEach((function(i){if(null==n.scroll.whitelist||n.scroll.whitelist[i]){var o=n.scroll.lines(e,Math.max(t,1)),a=t;o.forEach((function(t){var o=t.length();if(t instanceof u.default){var s=e-t.offset(n.scroll),l=t.newlineIndex(s+a)-s+1;t.formatAt(s,l,i,r[i])}else t.format(i,r[i]);a-=o}))}})),this.scroll.optimize(),this.update((new a.default).retain(e).retain(t,(0,h.default)(r)))}},{key:"formatText",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(r).forEach((function(i){n.scroll.formatAt(e,t,i,r[i])})),this.update((new a.default).retain(e).retain(t,(0,h.default)(r)))}},{key:"getContents",value:function(e,t){return this.delta.slice(e,e+t)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce((function(e,t){return e.concat(t.delta())}),new a.default)}},{key:"getFormat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],r=[];0===t?this.scroll.path(e).forEach((function(e){var t=i(e,1)[0];t instanceof d.default?n.push(t):t instanceof l.default.Leaf&&r.push(t)})):(n=this.scroll.lines(e,t),r=this.scroll.descendants(l.default.Leaf,e,t));var o=[n,r].map((function(e){if(0===e.length)return{};for(var t=(0,f.bubbleFormats)(e.shift());Object.keys(t).length>0;){var n=e.shift();if(null==n)return t;t=x((0,f.bubbleFormats)(n),t)}return t}));return m.default.apply(m.default,o)}},{key:"getText",value:function(e,t){return this.getContents(e,t).filter((function(e){return"string"==typeof e.insert})).map((function(e){return e.insert})).join("")}},{key:"insertEmbed",value:function(e,t,n){return this.scroll.insertAt(e,t,n),this.update((new a.default).retain(e).insert(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,n)))}},{key:"insertText",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(e,t),Object.keys(r).forEach((function(i){n.scroll.formatAt(e,t.length,i,r[i])})),this.update((new a.default).retain(e).insert(t,(0,h.default)(r)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var e=this.scroll.children.head;return e.statics.blotName===d.default.blotName&&!(e.children.length>1)&&e.children.head instanceof p.default}},{key:"removeFormat",value:function(e,t){var n=this.getText(e,t),r=this.scroll.line(e+t),o=i(r,2),s=o[0],l=o[1],c=0,f=new a.default;null!=s&&(c=s instanceof u.default?s.newlineIndex(l)-l+1:s.length()-l,f=s.delta().slice(l,l+c-1).insert("\n"));var d=this.getContents(e,t+c).diff((new a.default).insert(n).concat(f)),p=(new a.default).retain(e).concat(d);return this.applyDelta(p)}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=this.delta;if(1===t.length&&"characterData"===t[0].type&&t[0].target.data.match(v)&&l.default.find(t[0].target)){var i=l.default.find(t[0].target),o=(0,f.bubbleFormats)(i),s=i.offset(this.scroll),u=t[0].oldValue.replace(c.default.CONTENTS,""),d=(new a.default).insert(u),p=(new a.default).insert(i.value()),h=(new a.default).retain(s).concat(d.diff(p,n));e=h.reduce((function(e,t){return t.insert?e.insert(t.insert,o):e.push(t)}),new a.default),this.delta=r.compose(e)}else this.delta=this.getDelta(),e&&(0,g.default)(r.compose(e),this.delta)||(e=r.diff(this.delta,n));return e}}]),e}();function x(e,t){return Object.keys(t).reduce((function(n,r){return null==e[r]||(t[r]===e[r]?n[r]=t[r]:Array.isArray(t[r])?t[r].indexOf(e[r])<0&&(n[r]=t[r].concat([e[r]])):n[r]=[t[r],e[r]]),n}),{})}t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Range=void 0;var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=u(n(0)),a=u(n(21)),s=u(n(11)),l=u(n(8));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var d=(0,u(n(10)).default)("quill:selection"),p=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;f(this,e),this.index=t,this.length=n},h=function(){function e(t,n){var r=this;f(this,e),this.emitter=n,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=o.default.create("cursor",this),this.lastRange=this.savedRange=new p(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,(function(){r.mouseDown||setTimeout(r.update.bind(r,l.default.sources.USER),1)})),this.emitter.on(l.default.events.EDITOR_CHANGE,(function(e,t){e===l.default.events.TEXT_CHANGE&&t.length()>0&&r.update(l.default.sources.SILENT)})),this.emitter.on(l.default.events.SCROLL_BEFORE_UPDATE,(function(){if(r.hasFocus()){var e=r.getNativeRange();null!=e&&e.start.node!==r.cursor.textNode&&r.emitter.once(l.default.events.SCROLL_UPDATE,(function(){try{r.setNativeRange(e.start.node,e.start.offset,e.end.node,e.end.offset)}catch(e){}}))}})),this.emitter.on(l.default.events.SCROLL_OPTIMIZE,(function(e,t){if(t.range){var n=t.range,i=n.startNode,o=n.startOffset,a=n.endNode,s=n.endOffset;r.setNativeRange(i,o,a,s)}})),this.update(l.default.sources.SILENT)}return i(e,[{key:"handleComposition",value:function(){var e=this;this.root.addEventListener("compositionstart",(function(){e.composing=!0})),this.root.addEventListener("compositionend",(function(){if(e.composing=!1,e.cursor.parent){var t=e.cursor.restore();if(!t)return;setTimeout((function(){e.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)}),1)}}))}},{key:"handleDragging",value:function(){var e=this;this.emitter.listenDOM("mousedown",document.body,(function(){e.mouseDown=!0})),this.emitter.listenDOM("mouseup",document.body,(function(){e.mouseDown=!1,e.update(l.default.sources.USER)}))}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(e,t){if(null==this.scroll.whitelist||this.scroll.whitelist[e]){this.scroll.update();var n=this.getNativeRange();if(null!=n&&n.native.collapsed&&!o.default.query(e,o.default.Scope.BLOCK)){if(n.start.node!==this.cursor.textNode){var r=o.default.find(n.start.node,!1);if(null==r)return;if(r instanceof o.default.Leaf){var i=r.split(n.start.offset);r.parent.insertBefore(this.cursor,i)}else r.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.scroll.length();e=Math.min(e,n-1),t=Math.min(e+t,n-1)-e;var i=void 0,o=this.scroll.leaf(e),a=r(o,2),s=a[0],l=a[1];if(null==s)return null;var u=s.position(l,!0),c=r(u,2);i=c[0],l=c[1];var f=document.createRange();if(t>0){f.setStart(i,l);var d=this.scroll.leaf(e+t),p=r(d,2);if(s=p[0],l=p[1],null==s)return null;var h=s.position(l,!0),g=r(h,2);return i=g[0],l=g[1],f.setEnd(i,l),f.getBoundingClientRect()}var m="left",y=void 0;return i instanceof Text?(l<i.data.length?(f.setStart(i,l),f.setEnd(i,l+1)):(f.setStart(i,l-1),f.setEnd(i,l),m="right"),y=f.getBoundingClientRect()):(y=s.domNode.getBoundingClientRect(),l>0&&(m="right")),{bottom:y.top+y.height,height:y.height,left:y[m],right:y[m],top:y.top,width:0}}},{key:"getNativeRange",value:function(){var e=document.getSelection();if(null==e||e.rangeCount<=0)return null;var t=e.getRangeAt(0);if(null==t)return null;var n=this.normalizeNative(t);return d.info("getNativeRange",n),n}},{key:"getRange",value:function(){var e=this.getNativeRange();return null==e?[null,null]:[this.normalizedToRange(e),e]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(e){var t=this,n=[[e.start.node,e.start.offset]];e.native.collapsed||n.push([e.end.node,e.end.offset]);var i=n.map((function(e){var n=r(e,2),i=n[0],a=n[1],s=o.default.find(i,!0),l=s.offset(t.scroll);return 0===a?l:s instanceof o.default.Container?l+s.length():l+s.index(i,a)})),a=Math.min(Math.max.apply(Math,c(i)),this.scroll.length()-1),s=Math.min.apply(Math,[a].concat(c(i)));return new p(s,a-s)}},{key:"normalizeNative",value:function(e){if(!g(this.root,e.startContainer)||!e.collapsed&&!g(this.root,e.endContainer))return null;var t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach((function(e){for(var t=e.node,n=e.offset;!(t instanceof Text)&&t.childNodes.length>0;)if(t.childNodes.length>n)t=t.childNodes[n],n=0;else{if(t.childNodes.length!==n)break;n=(t=t.lastChild)instanceof Text?t.data.length:t.childNodes.length+1}e.node=t,e.offset=n})),t}},{key:"rangeToNative",value:function(e){var t=this,n=e.collapsed?[e.index]:[e.index,e.index+e.length],i=[],o=this.scroll.length();return n.forEach((function(e,n){e=Math.min(o-1,e);var a,s=t.scroll.leaf(e),l=r(s,2),u=l[0],c=l[1],f=u.position(c,0!==n),d=r(f,2);a=d[0],c=d[1],i.push(a,c)})),i.length<2&&(i=i.concat(i)),i}},{key:"scrollIntoView",value:function(e){var t=this.lastRange;if(null!=t){var n=this.getBounds(t.index,t.length);if(null!=n){var i=this.scroll.length()-1,o=this.scroll.line(Math.min(t.index,i)),a=r(o,1)[0],s=a;if(t.length>0){var l=this.scroll.line(Math.min(t.index+t.length,i));s=r(l,1)[0]}if(null!=a&&null!=s){var u=e.getBoundingClientRect();n.top<u.top?e.scrollTop-=u.top-n.top:n.bottom>u.bottom&&(e.scrollTop+=n.bottom-u.bottom)}}}}},{key:"setNativeRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(d.info("setNativeRange",e,t,n,r),null==e||null!=this.root.parentNode&&null!=e.parentNode&&null!=n.parentNode){var o=document.getSelection();if(null!=o)if(null!=e){this.hasFocus()||this.root.focus();var a=(this.getNativeRange()||{}).native;if(null==a||i||e!==a.startContainer||t!==a.startOffset||n!==a.endContainer||r!==a.endOffset){"BR"==e.tagName&&(t=[].indexOf.call(e.parentNode.childNodes,e),e=e.parentNode),"BR"==n.tagName&&(r=[].indexOf.call(n.parentNode.childNodes,n),n=n.parentNode);var s=document.createRange();s.setStart(e,t),s.setEnd(n,r),o.removeAllRanges(),o.addRange(s)}}else o.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default.sources.API;if("string"==typeof t&&(n=t,t=!1),d.info("setRange",e),null!=e){var r=this.rangeToNative(e);this.setNativeRange.apply(this,c(r).concat([t]))}else this.setNativeRange(null);this.update(n)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.default.sources.USER,t=this.lastRange,n=this.getRange(),i=r(n,2),o=i[0],u=i[1];if(this.lastRange=o,null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,s.default)(t,this.lastRange)){var c;!this.composing&&null!=u&&u.native.collapsed&&u.start.node!==this.cursor.textNode&&this.cursor.restore();var f,d=[l.default.events.SELECTION_CHANGE,(0,a.default)(this.lastRange),(0,a.default)(t),e];(c=this.emitter).emit.apply(c,[l.default.events.EDITOR_CHANGE].concat(d)),e!==l.default.sources.SILENT&&(f=this.emitter).emit.apply(f,d)}}}]),e}();function g(e,t){try{t.parentNode}catch(e){return!1}return t instanceof Text&&(t=t.parentNode),e.contains(t)}t.Range=p,t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0};function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){function t(){return a(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"insertInto",value:function(e,n){0===e.children.length?o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertInto",this).call(this,e,n):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),t}(((r=n(0))&&r.__esModule?r:{default:r}).default.Embed);l.blotName="break",l.tagName="BR",t.default=l},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(44),a=n(30),s=n(1),l=function(e){function t(t){var n=e.call(this,t)||this;return n.build(),n}return i(t,e),t.prototype.appendChild=function(e){this.insertBefore(e)},t.prototype.attach=function(){e.prototype.attach.call(this),this.children.forEach((function(e){e.attach()}))},t.prototype.build=function(){var e=this;this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach((function(t){try{var n=u(t);e.insertBefore(n,e.children.head||void 0)}catch(e){if(e instanceof s.ParchmentError)return;throw e}}))},t.prototype.deleteAt=function(e,t){if(0===e&&t===this.length())return this.remove();this.children.forEachAt(e,t,(function(e,t,n){e.deleteAt(t,n)}))},t.prototype.descendant=function(e,n){var r=this.children.find(n),i=r[0],o=r[1];return null==e.blotName&&e(i)||null!=e.blotName&&i instanceof e?[i,o]:i instanceof t?i.descendant(e,o):[null,-1]},t.prototype.descendants=function(e,n,r){void 0===n&&(n=0),void 0===r&&(r=Number.MAX_VALUE);var i=[],o=r;return this.children.forEachAt(n,r,(function(n,r,a){(null==e.blotName&&e(n)||null!=e.blotName&&n instanceof e)&&i.push(n),n instanceof t&&(i=i.concat(n.descendants(e,r,o))),o-=a})),i},t.prototype.detach=function(){this.children.forEach((function(e){e.detach()})),e.prototype.detach.call(this)},t.prototype.formatAt=function(e,t,n,r){this.children.forEachAt(e,t,(function(e,t,i){e.formatAt(t,i,n,r)}))},t.prototype.insertAt=function(e,t,n){var r=this.children.find(e),i=r[0],o=r[1];if(i)i.insertAt(o,t,n);else{var a=null==n?s.create("text",t):s.create(t,n);this.appendChild(a)}},t.prototype.insertBefore=function(e,t){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some((function(t){return e instanceof t})))throw new s.ParchmentError("Cannot insert "+e.statics.blotName+" into "+this.statics.blotName);e.insertInto(this,t)},t.prototype.length=function(){return this.children.reduce((function(e,t){return e+t.length()}),0)},t.prototype.moveChildren=function(e,t){this.children.forEach((function(n){e.insertBefore(n,t)}))},t.prototype.optimize=function(t){if(e.prototype.optimize.call(this,t),0===this.children.length)if(null!=this.statics.defaultChild){var n=s.create(this.statics.defaultChild);this.appendChild(n),n.optimize(t)}else this.remove()},t.prototype.path=function(e,n){void 0===n&&(n=!1);var r=this.children.find(e,n),i=r[0],o=r[1],a=[[this,e]];return i instanceof t?a.concat(i.path(o,n)):(null!=i&&a.push([i,o]),a)},t.prototype.removeChild=function(e){this.children.remove(e)},t.prototype.replace=function(n){n instanceof t&&n.moveChildren(this),e.prototype.replace.call(this,n)},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var n=this.clone();return this.parent.insertBefore(n,this.next),this.children.forEachAt(e,this.length(),(function(e,r,i){e=e.split(r,t),n.appendChild(e)})),n},t.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},t.prototype.update=function(e,t){var n=this,r=[],i=[];e.forEach((function(e){e.target===n.domNode&&"childList"===e.type&&(r.push.apply(r,e.addedNodes),i.push.apply(i,e.removedNodes))})),i.forEach((function(e){if(!(null!=e.parentNode&&"IFRAME"!==e.tagName&&document.body.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var t=s.find(e);null!=t&&(null!=t.domNode.parentNode&&t.domNode.parentNode!==n.domNode||t.detach())}})),r.filter((function(e){return e.parentNode==n.domNode})).sort((function(e,t){return e===t?0:e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1})).forEach((function(e){var t=null;null!=e.nextSibling&&(t=s.find(e.nextSibling));var r=u(e);r.next==t&&null!=r.next||(null!=r.parent&&r.parent.removeChild(n),n.insertBefore(r,t||void 0))}))},t}(a.default);function u(e){var t=s.find(e);if(null==t)try{t=s.create(e)}catch(n){t=s.create(s.Scope.INLINE),[].slice.call(e.childNodes).forEach((function(e){t.domNode.appendChild(e)})),e.parentNode&&e.parentNode.replaceChild(t.domNode,e),t.attach()}return t}t.default=l},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(12),a=n(31),s=n(17),l=n(1),u=function(e){function t(t){var n=e.call(this,t)||this;return n.attributes=new a.default(n.domNode),n}return i(t,e),t.formats=function(e){return"string"==typeof this.tagName||(Array.isArray(this.tagName)?e.tagName.toLowerCase():void 0)},t.prototype.format=function(e,t){var n=l.query(e);n instanceof o.default?this.attributes.attribute(n,t):t&&(null==n||e===this.statics.blotName&&this.formats()[e]===t||this.replaceWith(e,t))},t.prototype.formats=function(){var e=this.attributes.values(),t=this.statics.formats(this.domNode);return null!=t&&(e[this.statics.blotName]=t),e},t.prototype.replaceWith=function(t,n){var r=e.prototype.replaceWith.call(this,t,n);return this.attributes.copy(r),r},t.prototype.update=function(t,n){var r=this;e.prototype.update.call(this,t,n),t.some((function(e){return e.target===r.domNode&&"attributes"===e.type}))&&this.attributes.build()},t.prototype.wrap=function(n,r){var i=e.prototype.wrap.call(this,n,r);return i instanceof t&&i.statics.scope===this.statics.scope&&this.attributes.move(i),i},t}(s.default);t.default=u},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(30),a=n(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.value=function(e){return!0},t.prototype.index=function(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1},t.prototype.position=function(e,t){var n=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return e>0&&(n+=1),[this.parent.domNode,n]},t.prototype.value=function(){var e;return(e={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,e},t.scope=a.Scope.INLINE_BLOT,t}(o.default);t.default=s},function(e,t,n){var r=n(11),i=n(3),o={attributes:{compose:function(e,t,n){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var r=i(!0,{},t);for(var o in n||(r=Object.keys(r).reduce((function(e,t){return null!=r[t]&&(e[t]=r[t]),e}),{})),e)void 0!==e[o]&&void 0===t[o]&&(r[o]=e[o]);return Object.keys(r).length>0?r:void 0},diff:function(e,t){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var n=Object.keys(e).concat(Object.keys(t)).reduce((function(n,i){return r(e[i],t[i])||(n[i]=void 0===t[i]?null:t[i]),n}),{});return Object.keys(n).length>0?n:void 0},transform:function(e,t,n){if("object"!=typeof e)return t;if("object"==typeof t){if(!n)return t;var r=Object.keys(t).reduce((function(n,r){return void 0===e[r]&&(n[r]=t[r]),n}),{});return Object.keys(r).length>0?r:void 0}}},iterator:function(e){return new a(e)},length:function(e){return"number"==typeof e.delete?e.delete:"number"==typeof e.retain?e.retain:"string"==typeof e.insert?e.insert.length:1}};function a(e){this.ops=e,this.index=0,this.offset=0}a.prototype.hasNext=function(){return this.peekLength()<1/0},a.prototype.next=function(e){e||(e=1/0);var t=this.ops[this.index];if(t){var n=this.offset,r=o.length(t);if(e>=r-n?(e=r-n,this.index+=1,this.offset=0):this.offset+=e,"number"==typeof t.delete)return{delete:e};var i={};return t.attributes&&(i.attributes=t.attributes),"number"==typeof t.retain?i.retain=e:"string"==typeof t.insert?i.insert=t.insert.substr(n,e):i.insert=t.insert,i}return{retain:1/0}},a.prototype.peek=function(){return this.ops[this.index]},a.prototype.peekLength=function(){return this.ops[this.index]?o.length(this.ops[this.index])-this.offset:1/0},a.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},a.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var e=this.offset,t=this.index,n=this.next(),r=this.ops.slice(this.index);return this.offset=e,this.index=t,[n].concat(r)}return[]},e.exports=o},function(e,t){var n=function(){"use strict";function e(e,t){return null!=t&&e instanceof t}var t,n,r;try{t=Map}catch(e){t=function(){}}try{n=Set}catch(e){n=function(){}}try{r=Promise}catch(e){r=function(){}}function o(a,l,u,c,f){"object"==typeof l&&(u=l.depth,c=l.prototype,f=l.includeNonEnumerable,l=l.circular);var d=[],p=[],h=void 0!==i;return void 0===l&&(l=!0),void 0===u&&(u=1/0),function a(u,g){if(null===u)return null;if(0===g)return u;var m,y;if("object"!=typeof u)return u;if(e(u,t))m=new t;else if(e(u,n))m=new n;else if(e(u,r))m=new r((function(e,t){u.then((function(t){e(a(t,g-1))}),(function(e){t(a(e,g-1))}))}));else if(o.__isArray(u))m=[];else if(o.__isRegExp(u))m=new RegExp(u.source,s(u)),u.lastIndex&&(m.lastIndex=u.lastIndex);else if(o.__isDate(u))m=new Date(u.getTime());else{if(h&&i.isBuffer(u))return m=i.allocUnsafe?i.allocUnsafe(u.length):new i(u.length),u.copy(m),m;e(u,Error)?m=Object.create(u):void 0===c?(y=Object.getPrototypeOf(u),m=Object.create(y)):(m=Object.create(c),y=c)}if(l){var v=d.indexOf(u);if(-1!=v)return p[v];d.push(u),p.push(m)}for(var b in e(u,t)&&u.forEach((function(e,t){var n=a(t,g-1),r=a(e,g-1);m.set(n,r)})),e(u,n)&&u.forEach((function(e){var t=a(e,g-1);m.add(t)})),u){var x;y&&(x=Object.getOwnPropertyDescriptor(y,b)),x&&null==x.set||(m[b]=a(u[b],g-1))}if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(u);for(b=0;b<_.length;b++){var w=_[b];(!(T=Object.getOwnPropertyDescriptor(u,w))||T.enumerable||f)&&(m[w]=a(u[w],g-1),T.enumerable||Object.defineProperty(m,w,{enumerable:!1}))}}if(f){var k=Object.getOwnPropertyNames(u);for(b=0;b<k.length;b++){var T,C=k[b];(T=Object.getOwnPropertyDescriptor(u,C))&&T.enumerable||(m[C]=a(u[C],g-1),Object.defineProperty(m,C,{enumerable:!1}))}}return m}(a,u)}function a(e){return Object.prototype.toString.call(e)}function s(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return o.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},o.__objToStr=a,o.__isDate=function(e){return"object"==typeof e&&"[object Date]"===a(e)},o.__isArray=function(e){return"object"==typeof e&&"[object Array]"===a(e)},o.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===a(e)},o.__getRegExpFlags=s,o}();"object"==typeof e&&e.exports&&(e.exports=n)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},a=p(n(0)),s=p(n(8)),l=n(4),u=p(l),c=p(n(16)),f=p(n(13)),d=p(n(25));function p(e){return e&&e.__esModule?e:{default:e}}function h(e){return e instanceof u.default||e instanceof l.BlockEmbed}var g=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.emitter=n.emitter,Array.isArray(n.whitelist)&&(r.whitelist=n.whitelist.reduce((function(e,t){return e[t]=!0,e}),{})),r.domNode.addEventListener("DOMNodeInserted",(function(){})),r.optimize(),r.enable(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(e,n){var i=this.line(e),a=r(i,2),s=a[0],u=a[1],d=this.line(e+n),p=r(d,1)[0];if(o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,n),null!=p&&s!==p&&u>0){if(s instanceof l.BlockEmbed||p instanceof l.BlockEmbed)return void this.optimize();if(s instanceof f.default){var h=s.newlineIndex(s.length(),!0);if(h>-1&&(s=s.split(h+1))===p)return void this.optimize()}else if(p instanceof f.default){var g=p.newlineIndex(0);g>-1&&p.split(g+1)}var m=p.children.head instanceof c.default?null:p.children.head;s.moveChildren(p,m),s.remove()}this.optimize()}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",e)}},{key:"formatAt",value:function(e,n,r,i){(null==this.whitelist||this.whitelist[r])&&(o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,n,r,i),this.optimize())}},{key:"insertAt",value:function(e,n,r){if(null==r||null==this.whitelist||this.whitelist[n]){if(e>=this.length())if(null==r||null==a.default.query(n,a.default.Scope.BLOCK)){var i=a.default.create(this.statics.defaultChild);this.appendChild(i),null==r&&n.endsWith("\n")&&(n=n.slice(0,-1)),i.insertAt(0,n,r)}else{var s=a.default.create(n,r);this.appendChild(s)}else o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,n,r);this.optimize()}}},{key:"insertBefore",value:function(e,n){if(e.statics.scope===a.default.Scope.INLINE_BLOT){var r=a.default.create(this.statics.defaultChild);r.appendChild(e),e=r}o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,n)}},{key:"leaf",value:function(e){return this.path(e).pop()||[null,-1]}},{key:"line",value:function(e){return e===this.length()?this.line(e-1):this.descendant(h,e)}},{key:"lines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,n=function e(t,n,r){var i=[],o=r;return t.children.forEachAt(n,r,(function(t,n,r){h(t)?i.push(t):t instanceof a.default.Container&&(i=i.concat(e(t,n,o))),o-=r})),i};return n(this,e,t)}},{key:"optimize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e,n),e.length>0&&this.emitter.emit(s.default.events.SCROLL_OPTIMIZE,e,n))}},{key:"path",value:function(e){return o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e).slice(1)}},{key:"update",value:function(e){if(!0!==this.batch){var n=s.default.sources.USER;"string"==typeof e&&(n=e),Array.isArray(e)||(e=this.observer.takeRecords()),e.length>0&&this.emitter.emit(s.default.events.SCROLL_BEFORE_UPDATE,n,e),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"update",this).call(this,e.concat([])),e.length>0&&this.emitter.emit(s.default.events.SCROLL_UPDATE,n,e)}}}]),t}(a.default.Scroll);g.blotName="scroll",g.className="ql-editor",g.tagName="DIV",g.defaultChild="block",g.allowedChildren=[u.default,l.BlockEmbed,d.default],t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHORTKEY=t.default=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=g(n(21)),s=g(n(11)),l=g(n(3)),u=g(n(2)),c=g(n(20)),f=g(n(0)),d=g(n(5)),p=g(n(10)),h=g(n(9));function g(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=(0,p.default)("quill:keyboard"),v=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",b=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.bindings={},Object.keys(r.options.bindings).forEach((function(t){("list autofill"!==t||null==e.scroll.whitelist||e.scroll.whitelist.list)&&r.options.bindings[t]&&r.addBinding(r.options.bindings[t])})),r.addBinding({key:t.keys.ENTER,shiftKey:null},T),r.addBinding({key:t.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},(function(){})),/Firefox/i.test(navigator.userAgent)?(r.addBinding({key:t.keys.BACKSPACE},{collapsed:!0},_),r.addBinding({key:t.keys.DELETE},{collapsed:!0},w)):(r.addBinding({key:t.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},_),r.addBinding({key:t.keys.DELETE},{collapsed:!0,suffix:/^.?$/},w)),r.addBinding({key:t.keys.BACKSPACE},{collapsed:!1},k),r.addBinding({key:t.keys.DELETE},{collapsed:!1},k),r.addBinding({key:t.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},_),r.listen(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,null,[{key:"match",value:function(e,t){return t=S(t),!["altKey","ctrlKey","metaKey","shiftKey"].some((function(n){return!!t[n]!==e[n]&&null!==t[n]}))&&t.key===(e.which||e.keyCode)}}]),o(t,[{key:"addBinding",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=S(e);if(null==r||null==r.key)return y.warn("Attempted to add invalid keyboard binding",r);"function"==typeof t&&(t={handler:t}),"function"==typeof n&&(n={handler:n}),r=(0,l.default)(r,t,n),this.bindings[r.key]=this.bindings[r.key]||[],this.bindings[r.key].push(r)}},{key:"listen",value:function(){var e=this;this.quill.root.addEventListener("keydown",(function(n){if(!n.defaultPrevented){var o=n.which||n.keyCode,a=(e.bindings[o]||[]).filter((function(e){return t.match(n,e)}));if(0!==a.length){var l=e.quill.getSelection();if(null!=l&&e.quill.hasFocus()){var u=e.quill.getLine(l.index),c=i(u,2),d=c[0],p=c[1],h=e.quill.getLeaf(l.index),g=i(h,2),m=g[0],y=g[1],v=0===l.length?[m,y]:e.quill.getLeaf(l.index+l.length),b=i(v,2),x=b[0],_=b[1],w=m instanceof f.default.Text?m.value().slice(0,y):"",k=x instanceof f.default.Text?x.value().slice(_):"",T={collapsed:0===l.length,empty:0===l.length&&d.length()<=1,format:e.quill.getFormat(l),offset:p,prefix:w,suffix:k};a.some((function(t){if(null!=t.collapsed&&t.collapsed!==T.collapsed)return!1;if(null!=t.empty&&t.empty!==T.empty)return!1;if(null!=t.offset&&t.offset!==T.offset)return!1;if(Array.isArray(t.format)){if(t.format.every((function(e){return null==T.format[e]})))return!1}else if("object"===r(t.format)&&!Object.keys(t.format).every((function(e){return!0===t.format[e]?null!=T.format[e]:!1===t.format[e]?null==T.format[e]:(0,s.default)(t.format[e],T.format[e])})))return!1;return!(null!=t.prefix&&!t.prefix.test(T.prefix)||null!=t.suffix&&!t.suffix.test(T.suffix)||!0===t.handler.call(e,l,T))}))&&n.preventDefault()}}}}))}}]),t}(h.default);function x(e,t){var n,r=e===b.keys.LEFT?"prefix":"suffix";return m(n={key:e,shiftKey:t,altKey:null},r,/^$/),m(n,"handler",(function(n){var r=n.index;e===b.keys.RIGHT&&(r+=n.length+1);var o=this.quill.getLeaf(r);return!(i(o,1)[0]instanceof f.default.Embed&&(e===b.keys.LEFT?t?this.quill.setSelection(n.index-1,n.length+1,d.default.sources.USER):this.quill.setSelection(n.index-1,d.default.sources.USER):t?this.quill.setSelection(n.index,n.length+1,d.default.sources.USER):this.quill.setSelection(n.index+n.length+1,d.default.sources.USER),1))})),n}function _(e,t){if(!(0===e.index||this.quill.getLength()<=1)){var n=this.quill.getLine(e.index),r=i(n,1)[0],o={};if(0===t.offset){var a=this.quill.getLine(e.index-1),s=i(a,1)[0];if(null!=s&&s.length()>1){var l=r.formats(),u=this.quill.getFormat(e.index-1,1);o=c.default.attributes.diff(l,u)||{}}}var f=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;this.quill.deleteText(e.index-f,f,d.default.sources.USER),Object.keys(o).length>0&&this.quill.formatLine(e.index-f,f,o,d.default.sources.USER),this.quill.focus()}}function w(e,t){var n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(!(e.index>=this.quill.getLength()-n)){var r={},o=0,a=this.quill.getLine(e.index),s=i(a,1)[0];if(t.offset>=s.length()-1){var l=this.quill.getLine(e.index+1),u=i(l,1)[0];if(u){var f=s.formats(),p=this.quill.getFormat(e.index,1);r=c.default.attributes.diff(f,p)||{},o=u.length()}}this.quill.deleteText(e.index,n,d.default.sources.USER),Object.keys(r).length>0&&this.quill.formatLine(e.index+o-1,n,r,d.default.sources.USER)}}function k(e){var t=this.quill.getLines(e),n={};if(t.length>1){var r=t[0].formats(),i=t[t.length-1].formats();n=c.default.attributes.diff(i,r)||{}}this.quill.deleteText(e,d.default.sources.USER),Object.keys(n).length>0&&this.quill.formatLine(e.index,1,n,d.default.sources.USER),this.quill.setSelection(e.index,d.default.sources.SILENT),this.quill.focus()}function T(e,t){var n=this;e.length>0&&this.quill.scroll.deleteAt(e.index,e.length);var r=Object.keys(t.format).reduce((function(e,n){return f.default.query(n,f.default.Scope.BLOCK)&&!Array.isArray(t.format[n])&&(e[n]=t.format[n]),e}),{});this.quill.insertText(e.index,"\n",r,d.default.sources.USER),this.quill.setSelection(e.index+1,d.default.sources.SILENT),this.quill.focus(),Object.keys(t.format).forEach((function(e){null==r[e]&&(Array.isArray(t.format[e])||"link"!==e&&n.quill.format(e,t.format[e],d.default.sources.USER))}))}function C(e){return{key:b.keys.TAB,shiftKey:!e,format:{"code-block":!0},handler:function(t){var n=f.default.query("code-block"),r=t.index,o=t.length,a=this.quill.scroll.descendant(n,r),s=i(a,2),l=s[0],u=s[1];if(null!=l){var c=this.quill.getIndex(l),p=l.newlineIndex(u,!0)+1,h=l.newlineIndex(c+u+o),g=l.domNode.textContent.slice(p,h).split("\n");u=0,g.forEach((function(t,i){e?(l.insertAt(p+u,n.TAB),u+=n.TAB.length,0===i?r+=n.TAB.length:o+=n.TAB.length):t.startsWith(n.TAB)&&(l.deleteAt(p+u,n.TAB.length),u-=n.TAB.length,0===i?r-=n.TAB.length:o-=n.TAB.length),u+=t.length+1})),this.quill.update(d.default.sources.USER),this.quill.setSelection(r,o,d.default.sources.SILENT)}}}}function O(e){return{key:e[0].toUpperCase(),shortKey:!0,handler:function(t,n){this.quill.format(e,!n.format[e],d.default.sources.USER)}}}function S(e){if("string"==typeof e||"number"==typeof e)return S({key:e});if("object"===(void 0===e?"undefined":r(e))&&(e=(0,a.default)(e,!1)),"string"==typeof e.key)if(null!=b.keys[e.key.toUpperCase()])e.key=b.keys[e.key.toUpperCase()];else{if(1!==e.key.length)return null;e.key=e.key.toUpperCase().charCodeAt(0)}return e.shortKey&&(e[v]=e.shortKey,delete e.shortKey),e}b.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},b.DEFAULTS={bindings:{bold:O("bold"),italic:O("italic"),underline:O("underline"),indent:{key:b.keys.TAB,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","+1",d.default.sources.USER)}},outdent:{key:b.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","-1",d.default.sources.USER)}},"outdent backspace":{key:b.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(e,t){null!=t.format.indent?this.quill.format("indent","-1",d.default.sources.USER):null!=t.format.list&&this.quill.format("list",!1,d.default.sources.USER)}},"indent code-block":C(!0),"outdent code-block":C(!1),"remove tab":{key:b.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(e){this.quill.deleteText(e.index-1,1,d.default.sources.USER)}},tab:{key:b.keys.TAB,handler:function(e){this.quill.history.cutoff();var t=(new u.default).retain(e.index).delete(e.length).insert("\t");this.quill.updateContents(t,d.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index+1,d.default.sources.SILENT)}},"list empty enter":{key:b.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(e,t){this.quill.format("list",!1,d.default.sources.USER),t.format.indent&&this.quill.format("indent",!1,d.default.sources.USER)}},"checklist enter":{key:b.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(e){var t=this.quill.getLine(e.index),n=i(t,2),r=n[0],o=n[1],a=(0,l.default)({},r.formats(),{list:"checked"}),s=(new u.default).retain(e.index).insert("\n",a).retain(r.length()-o-1).retain(1,{list:"unchecked"});this.quill.updateContents(s,d.default.sources.USER),this.quill.setSelection(e.index+1,d.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:b.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(e,t){var n=this.quill.getLine(e.index),r=i(n,2),o=r[0],a=r[1],s=(new u.default).retain(e.index).insert("\n",t.format).retain(o.length()-a-1).retain(1,{header:null});this.quill.updateContents(s,d.default.sources.USER),this.quill.setSelection(e.index+1,d.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(e,t){var n=t.prefix.length,r=this.quill.getLine(e.index),o=i(r,2),a=o[0],s=o[1];if(s>n)return!0;var l=void 0;switch(t.prefix.trim()){case"[]":case"[ ]":l="unchecked";break;case"[x]":l="checked";break;case"-":case"*":l="bullet";break;default:l="ordered"}this.quill.insertText(e.index," ",d.default.sources.USER),this.quill.history.cutoff();var c=(new u.default).retain(e.index-s).delete(n+1).retain(a.length()-2-s).retain(1,{list:l});this.quill.updateContents(c,d.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-n,d.default.sources.SILENT)}},"code exit":{key:b.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(e){var t=this.quill.getLine(e.index),n=i(t,2),r=n[0],o=n[1],a=(new u.default).retain(e.index+r.length()-o-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(a,d.default.sources.USER)}},"embed left":x(b.keys.LEFT,!1),"embed left shift":x(b.keys.LEFT,!0),"embed right":x(b.keys.RIGHT,!1),"embed right shift":x(b.keys.RIGHT,!0)}},t.default=b,t.SHORTKEY=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=s(n(0)),a=s(n(7));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.selection=n,r.textNode=document.createTextNode(t.CONTENTS),r.domNode.appendChild(r.textNode),r._length=0,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,null,[{key:"value",value:function(){}}]),i(t,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(e,n){if(0!==this._length)return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n);for(var i=this,a=0;null!=i&&i.statics.scope!==o.default.Scope.BLOCK_BLOT;)a+=i.offset(i.parent),i=i.parent;null!=i&&(this._length=t.CONTENTS.length,i.optimize(),i.formatAt(a,t.CONTENTS.length,e,n),this._length=0)}},{key:"index",value:function(e,n){return e===this.textNode?0:r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,n)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var e=this.textNode,n=this.selection.getNativeRange(),r=void 0,i=void 0,s=void 0;if(null!=n&&n.start.node===e&&n.end.node===e){var l=[e,n.start.offset,n.end.offset];r=l[0],i=l[1],s=l[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==t.CONTENTS){var u=this.textNode.data.split(t.CONTENTS).join("");this.next instanceof a.default?(r=this.next.domNode,this.next.insertAt(0,u),this.textNode.data=t.CONTENTS):(this.textNode.data=u,this.parent.insertBefore(o.default.create(this.textNode),this),this.textNode=document.createTextNode(t.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=i){var c=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}([i,s].map((function(e){return Math.max(0,Math.min(r.data.length,e-1))})),2);return i=c[0],s=c[1],{startNode:r,startOffset:i,endNode:r,endOffset:s}}}}},{key:"update",value:function(e,t){var n=this;if(e.some((function(e){return"characterData"===e.type&&e.target===n.textNode}))){var r=this.restore();r&&(t.range=r)}}},{key:"value",value:function(){return""}}]),t}(o.default.Embed);l.blotName="cursor",l.className="ql-cursor",l.tagName="span",l.CONTENTS="\ufeff",t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(0)),i=n(4),o=a(i);function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=function(e){function t(){return s(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(r.default.Container);u.allowedChildren=[o.default,i.BlockEmbed,u],t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorStyle=t.ColorClass=t.ColorAttributor=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},a=(r=n(0))&&r.__esModule?r:{default:r};function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=function(e){function t(){return s(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"value",value:function(e){var n=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e);return n.startsWith("rgb(")?"#"+(n=n.replace(/^[^\d]+/,"").replace(/[^\d]+$/,"")).split(",").map((function(e){return("00"+parseInt(e).toString(16)).slice(-2)})).join(""):n}}]),t}(a.default.Attributor.Style),c=new a.default.Attributor.Class("color","ql-color",{scope:a.default.Scope.INLINE}),f=new u("color","color",{scope:a.default.Scope.INLINE});t.ColorAttributor=u,t.ColorClass=c,t.ColorStyle=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sanitize=t.default=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0};function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){function t(){return a(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"format",value:function(e,n){if(e!==this.statics.blotName||!n)return o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n);n=this.constructor.sanitize(n),this.domNode.setAttribute("href",n)}}],[{key:"create",value:function(e){var n=o(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return e=this.sanitize(e),n.setAttribute("href",e),n.setAttribute("rel","noopener noreferrer"),n.setAttribute("target","_blank"),n}},{key:"formats",value:function(e){return e.getAttribute("href")}},{key:"sanitize",value:function(e){return u(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}}]),t}(((r=n(6))&&r.__esModule?r:{default:r}).default);function u(e,t){var n=document.createElement("a");n.href=e;var r=n.href.slice(0,n.href.indexOf(":"));return t.indexOf(r)>-1}l.blotName="link",l.tagName="A",l.SANITIZED_URL="about:blank",l.PROTOCOL_WHITELIST=["http","https","mailto","tel"],t.default=l,t.sanitize=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=s(n(23)),a=s(n(107));function s(e){return e&&e.__esModule?e:{default:e}}var l=0;function u(e,t){e.setAttribute(t,!("true"===e.getAttribute(t)))}var c=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",(function(){n.togglePicker()})),this.label.addEventListener("keydown",(function(e){switch(e.keyCode){case o.default.keys.ENTER:n.togglePicker();break;case o.default.keys.ESCAPE:n.escape(),e.preventDefault()}})),this.select.addEventListener("change",this.update.bind(this))}return i(e,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),u(this.label,"aria-expanded"),u(this.options,"aria-hidden")}},{key:"buildItem",value:function(e){var t=this,n=document.createElement("span");return n.tabIndex="0",n.setAttribute("role","button"),n.classList.add("ql-picker-item"),e.hasAttribute("value")&&n.setAttribute("data-value",e.getAttribute("value")),e.textContent&&n.setAttribute("data-label",e.textContent),n.addEventListener("click",(function(){t.selectItem(n,!0)})),n.addEventListener("keydown",(function(e){switch(e.keyCode){case o.default.keys.ENTER:t.selectItem(n,!0),e.preventDefault();break;case o.default.keys.ESCAPE:t.escape(),e.preventDefault()}})),n}},{key:"buildLabel",value:function(){var e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=a.default,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}},{key:"buildOptions",value:function(){var e=this,t=document.createElement("span");t.classList.add("ql-picker-options"),t.setAttribute("aria-hidden","true"),t.tabIndex="-1",t.id="ql-picker-options-"+l,l+=1,this.label.setAttribute("aria-controls",t.id),this.options=t,[].slice.call(this.select.options).forEach((function(n){var r=e.buildItem(n);t.appendChild(r),!0===n.selected&&e.selectItem(r)})),this.container.appendChild(t)}},{key:"buildPicker",value:function(){var e=this;[].slice.call(this.select.attributes).forEach((function(t){e.container.setAttribute(t.name,t.value)})),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var e=this;this.close(),setTimeout((function(){return e.label.focus()}),1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.container.querySelector(".ql-selected");if(e!==n&&(null!=n&&n.classList.remove("ql-selected"),null!=e&&(e.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(e.parentNode.children,e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),t))){if("function"==typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===("undefined"==typeof Event?"undefined":r(Event))){var i=document.createEvent("Event");i.initEvent("change",!0,!0),this.select.dispatchEvent(i)}this.close()}}},{key:"update",value:function(){var e=void 0;if(this.select.selectedIndex>-1){var t=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(t)}else this.selectItem(null);var n=null!=e&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}}]),e}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=y(n(0)),i=y(n(5)),o=n(4),a=y(o),s=y(n(16)),l=y(n(25)),u=y(n(24)),c=y(n(35)),f=y(n(6)),d=y(n(22)),p=y(n(7)),h=y(n(55)),g=y(n(42)),m=y(n(23));function y(e){return e&&e.__esModule?e:{default:e}}i.default.register({"blots/block":a.default,"blots/block/embed":o.BlockEmbed,"blots/break":s.default,"blots/container":l.default,"blots/cursor":u.default,"blots/embed":c.default,"blots/inline":f.default,"blots/scroll":d.default,"blots/text":p.default,"modules/clipboard":h.default,"modules/history":g.default,"modules/keyboard":m.default}),r.default.register(a.default,s.default,u.default,f.default,d.default,p.default),t.default=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=function(){function e(e){this.domNode=e,this.domNode[r.DATA_KEY]={blot:this}}return Object.defineProperty(e.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),e.create=function(e){if(null==this.tagName)throw new r.ParchmentError("Blot definition missing tagName");var t;return Array.isArray(this.tagName)?("string"==typeof e&&(e=e.toUpperCase(),parseInt(e).toString()===e&&(e=parseInt(e))),t="number"==typeof e?document.createElement(this.tagName[e-1]):this.tagName.indexOf(e)>-1?document.createElement(e):document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t},e.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},e.prototype.clone=function(){var e=this.domNode.cloneNode(!1);return r.create(e)},e.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[r.DATA_KEY]},e.prototype.deleteAt=function(e,t){this.isolate(e,t).remove()},e.prototype.formatAt=function(e,t,n,i){var o=this.isolate(e,t);if(null!=r.query(n,r.Scope.BLOT)&&i)o.wrap(n,i);else if(null!=r.query(n,r.Scope.ATTRIBUTE)){var a=r.create(this.statics.scope);o.wrap(a),a.format(n,i)}},e.prototype.insertAt=function(e,t,n){var i=null==n?r.create("text",t):r.create(t,n),o=this.split(e);this.parent.insertBefore(i,o)},e.prototype.insertInto=function(e,t){void 0===t&&(t=null),null!=this.parent&&this.parent.children.remove(this);var n=null;e.children.insertBefore(this,t),null!=t&&(n=t.domNode),this.domNode.parentNode==e.domNode&&this.domNode.nextSibling==n||e.domNode.insertBefore(this.domNode,n),this.parent=e,this.attach()},e.prototype.isolate=function(e,t){var n=this.split(e);return n.split(t),n},e.prototype.length=function(){return 1},e.prototype.offset=function(e){return void 0===e&&(e=this.parent),null==this.parent||this==e?0:this.parent.children.offset(this)+this.parent.offset(e)},e.prototype.optimize=function(e){null!=this.domNode[r.DATA_KEY]&&delete this.domNode[r.DATA_KEY].mutations},e.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},e.prototype.replace=function(e){null!=e.parent&&(e.parent.insertBefore(this,e.next),e.remove())},e.prototype.replaceWith=function(e,t){var n="string"==typeof e?r.create(e,t):e;return n.replace(this),n},e.prototype.split=function(e,t){return 0===e?this:this.next},e.prototype.update=function(e,t){},e.prototype.wrap=function(e,t){var n="string"==typeof e?r.create(e,t):e;return null!=this.parent&&this.parent.insertBefore(n,this.next),n.appendChild(this),n},e.blotName="abstract",e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),i=n(32),o=n(33),a=n(1),s=function(){function e(e){this.attributes={},this.domNode=e,this.build()}return e.prototype.attribute=function(e,t){t?e.add(this.domNode,t)&&(null!=e.value(this.domNode)?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])},e.prototype.build=function(){var e=this;this.attributes={};var t=r.default.keys(this.domNode),n=i.default.keys(this.domNode),s=o.default.keys(this.domNode);t.concat(n).concat(s).forEach((function(t){var n=a.query(t,a.Scope.ATTRIBUTE);n instanceof r.default&&(e.attributes[n.attrName]=n)}))},e.prototype.copy=function(e){var t=this;Object.keys(this.attributes).forEach((function(n){var r=t.attributes[n].value(t.domNode);e.format(n,r)}))},e.prototype.move=function(e){var t=this;this.copy(e),Object.keys(this.attributes).forEach((function(e){t.attributes[e].remove(t.domNode)})),this.attributes={}},e.prototype.values=function(){var e=this;return Object.keys(this.attributes).reduce((function(t,n){return t[n]=e.attributes[n].value(e.domNode),t}),{})},e}();t.default=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});function o(e,t){return(e.getAttribute("class")||"").split(/\s+/).filter((function(e){return 0===e.indexOf(t+"-")}))}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.keys=function(e){return(e.getAttribute("class")||"").split(/\s+/).map((function(e){return e.split("-").slice(0,-1).join("-")}))},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(this.remove(e),e.classList.add(this.keyName+"-"+t),!0)},t.prototype.remove=function(e){o(e,this.keyName).forEach((function(t){e.classList.remove(t)})),0===e.classList.length&&e.removeAttribute("class")},t.prototype.value=function(e){var t=(o(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""},t}(n(12).default);t.default=a},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});function o(e){var t=e.split("-"),n=t.slice(1).map((function(e){return e[0].toUpperCase()+e.slice(1)})).join("");return t[0]+n}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.keys=function(e){return(e.getAttribute("style")||"").split(";").map((function(e){return e.split(":")[0].trim()}))},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.style[o(this.keyName)]=t,!0)},t.prototype.remove=function(e){e.style[o(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")},t.prototype.value=function(e){var t=e.style[o(this.keyName)];return this.canAdd(e,t)?t:""},t}(n(12).default);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.options=n,this.modules={}}return r(e,[{key:"init",value:function(){var e=this;Object.keys(this.options.modules).forEach((function(t){null==e.modules[t]&&e.addModule(t)}))}},{key:"addModule",value:function(e){var t=this.quill.constructor.import("modules/"+e);return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}}]),e}();i.DEFAULTS={modules:{}},i.themes={default:i},t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},o=s(n(0)),a=s(n(7));function s(e){return e&&e.__esModule?e:{default:e}}var l="\ufeff",u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.contentNode=document.createElement("span"),n.contentNode.setAttribute("contenteditable",!1),[].slice.call(n.domNode.childNodes).forEach((function(e){n.contentNode.appendChild(e)})),n.leftGuard=document.createTextNode(l),n.rightGuard=document.createTextNode(l),n.domNode.appendChild(n.leftGuard),n.domNode.appendChild(n.contentNode),n.domNode.appendChild(n.rightGuard),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"index",value:function(e,n){return e===this.leftGuard?0:e===this.rightGuard?1:i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,n)}},{key:"restore",value:function(e){var t=void 0,n=void 0,r=e.data.split(l).join("");if(e===this.leftGuard)if(this.prev instanceof a.default){var i=this.prev.length();this.prev.insertAt(i,r),t={startNode:this.prev.domNode,startOffset:i+r.length}}else n=document.createTextNode(r),this.parent.insertBefore(o.default.create(n),this),t={startNode:n,startOffset:r.length};else e===this.rightGuard&&(this.next instanceof a.default?(this.next.insertAt(0,r),t={startNode:this.next.domNode,startOffset:r.length}):(n=document.createTextNode(r),this.parent.insertBefore(o.default.create(n),this.next),t={startNode:n,startOffset:r.length}));return e.data=l,t}},{key:"update",value:function(e,t){var n=this;e.forEach((function(e){if("characterData"===e.type&&(e.target===n.leftGuard||e.target===n.rightGuard)){var r=n.restore(e.target);r&&(t.range=r)}}))}}]),t}(o.default.Embed);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlignStyle=t.AlignClass=t.AlignAttribute=void 0;var r,i=(r=n(0))&&r.__esModule?r:{default:r},o={scope:i.default.Scope.BLOCK,whitelist:["right","center","justify"]},a=new i.default.Attributor.Attribute("align","align",o),s=new i.default.Attributor.Class("align","ql-align",o),l=new i.default.Attributor.Style("align","text-align",o);t.AlignAttribute=a,t.AlignClass=s,t.AlignStyle=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundStyle=t.BackgroundClass=void 0;var r,i=(r=n(0))&&r.__esModule?r:{default:r},o=n(26),a=new i.default.Attributor.Class("background","ql-bg",{scope:i.default.Scope.INLINE}),s=new o.ColorAttributor("background","background-color",{scope:i.default.Scope.INLINE});t.BackgroundClass=a,t.BackgroundStyle=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DirectionStyle=t.DirectionClass=t.DirectionAttribute=void 0;var r,i=(r=n(0))&&r.__esModule?r:{default:r},o={scope:i.default.Scope.BLOCK,whitelist:["rtl"]},a=new i.default.Attributor.Attribute("direction","dir",o),s=new i.default.Attributor.Class("direction","ql-direction",o),l=new i.default.Attributor.Style("direction","direction",o);t.DirectionAttribute=a,t.DirectionClass=s,t.DirectionStyle=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FontClass=t.FontStyle=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},a=(r=n(0))&&r.__esModule?r:{default:r};function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u={scope:a.default.Scope.INLINE,whitelist:["serif","monospace"]},c=new a.default.Attributor.Class("font","ql-font",u),f=new(function(e){function t(){return s(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"value",value:function(e){return o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e).replace(/["']/g,"")}}]),t}(a.default.Attributor.Style))("font","font-family",u);t.FontStyle=f,t.FontClass=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SizeStyle=t.SizeClass=void 0;var r,i=(r=n(0))&&r.__esModule?r:{default:r},o=new i.default.Attributor.Class("size","ql-size",{scope:i.default.Scope.INLINE,whitelist:["small","large","huge"]}),a=new i.default.Attributor.Style("size","font-size",{scope:i.default.Scope.INLINE,whitelist:["10px","18px","32px"]});t.SizeClass=o,t.SizeStyle=a},function(e,t,n){"use strict";e.exports={align:{"":n(76),center:n(77),right:n(78),justify:n(79)},background:n(80),blockquote:n(81),bold:n(82),clean:n(83),code:n(58),"code-block":n(58),color:n(84),direction:{"":n(85),rtl:n(86)},float:{center:n(87),full:n(88),left:n(89),right:n(90)},formula:n(91),header:{1:n(92),2:n(93)},italic:n(94),image:n(95),indent:{"+1":n(96),"-1":n(97)},link:n(98),list:{ordered:n(99),bullet:n(100),check:n(101)},script:{sub:n(102),super:n(103)},strike:n(104),underline:n(105),video:n(106)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLastChangeIndex=t.default=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=a(n(0)),o=a(n(5));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.lastRecorded=0,r.ignoreChange=!1,r.clear(),r.quill.on(o.default.events.EDITOR_CHANGE,(function(e,t,n,i){e!==o.default.events.TEXT_CHANGE||r.ignoreChange||(r.options.userOnly&&i!==o.default.sources.USER?r.transform(t):r.record(t,n))})),r.quill.keyboard.addBinding({key:"Z",shortKey:!0},r.undo.bind(r)),r.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},r.redo.bind(r)),/Win/i.test(navigator.platform)&&r.quill.keyboard.addBinding({key:"Y",shortKey:!0},r.redo.bind(r)),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"change",value:function(e,t){if(0!==this.stack[e].length){var n=this.stack[e].pop();this.stack[t].push(n),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(n[e],o.default.sources.USER),this.ignoreChange=!1;var r=l(n[e]);this.quill.setSelection(r)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(e,t){if(0!==e.ops.length){this.stack.redo=[];var n=this.quill.getContents().diff(t),r=Date.now();if(this.lastRecorded+this.options.delay>r&&this.stack.undo.length>0){var i=this.stack.undo.pop();n=n.compose(i.undo),e=i.redo.compose(e)}else this.lastRecorded=r;this.stack.undo.push({redo:e,undo:n}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(e){this.stack.undo.forEach((function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)})),this.stack.redo.forEach((function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)}))}},{key:"undo",value:function(){this.change("undo","redo")}}]),t}(a(n(9)).default);function l(e){var t=e.reduce((function(e,t){return e+(t.delete||0)}),0),n=e.length()-t;return function(e){var t=e.ops[e.ops.length-1];return null!=t&&(null!=t.insert?"string"==typeof t.insert&&t.insert.endsWith("\n"):null!=t.attributes&&Object.keys(t.attributes).some((function(e){return null!=i.default.query(e,i.default.Scope.BLOCK)})))}(e)&&(n-=1),n}s.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},t.default=s,t.getLastChangeIndex=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BaseTooltip=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},o=h(n(3)),a=h(n(2)),s=h(n(8)),l=h(n(23)),u=h(n(34)),c=h(n(59)),f=h(n(60)),d=h(n(28)),p=h(n(61));function h(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=[!1,"center","right","justify"],b=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],x=[!1,"serif","monospace"],_=["1","2","3",!1],w=["small",!1,"large","huge"],k=function(e){function t(e,n){g(this,t);var r=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return e.emitter.listenDOM("click",document.body,(function t(n){if(!document.body.contains(e.root))return document.body.removeEventListener("click",t);null==r.tooltip||r.tooltip.root.contains(n.target)||document.activeElement===r.tooltip.textbox||r.quill.hasFocus()||r.tooltip.hide(),null!=r.pickers&&r.pickers.forEach((function(e){e.container.contains(n.target)||e.close()}))})),r}return y(t,e),r(t,[{key:"addModule",value:function(e){var n=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addModule",this).call(this,e);return"toolbar"===e&&this.extendToolbar(n),n}},{key:"buildButtons",value:function(e,t){e.forEach((function(e){(e.getAttribute("class")||"").split(/\s+/).forEach((function(n){if(n.startsWith("ql-")&&(n=n.slice("ql-".length),null!=t[n]))if("direction"===n)e.innerHTML=t[n][""]+t[n].rtl;else if("string"==typeof t[n])e.innerHTML=t[n];else{var r=e.value||"";null!=r&&t[n][r]&&(e.innerHTML=t[n][r])}}))}))}},{key:"buildPickers",value:function(e,t){var n=this;this.pickers=e.map((function(e){if(e.classList.contains("ql-align"))return null==e.querySelector("option")&&C(e,v),new f.default(e,t.align);if(e.classList.contains("ql-background")||e.classList.contains("ql-color")){var n=e.classList.contains("ql-background")?"background":"color";return null==e.querySelector("option")&&C(e,b,"background"===n?"#ffffff":"#000000"),new c.default(e,t[n])}return null==e.querySelector("option")&&(e.classList.contains("ql-font")?C(e,x):e.classList.contains("ql-header")?C(e,_):e.classList.contains("ql-size")&&C(e,w)),new d.default(e)})),this.quill.on(s.default.events.EDITOR_CHANGE,(function(){n.pickers.forEach((function(e){e.update()}))}))}}]),t}(u.default);k.DEFAULTS=(0,o.default)(!0,{},u.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var e=this,t=this.container.querySelector("input.ql-image[type=file]");null==t&&((t=document.createElement("input")).setAttribute("type","file"),t.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),t.classList.add("ql-image"),t.addEventListener("change",(function(){if(null!=t.files&&null!=t.files[0]){var n=new FileReader;n.onload=function(n){var r=e.quill.getSelection(!0);e.quill.updateContents((new a.default).retain(r.index).delete(r.length).insert({image:n.target.result}),s.default.sources.USER),e.quill.setSelection(r.index+1,s.default.sources.SILENT),t.value=""},n.readAsDataURL(t.files[0])}})),this.container.appendChild(t)),t.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var T=function(e){function t(e,n){g(this,t);var r=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.textbox=r.root.querySelector('input[type="text"]'),r.listen(),r}return y(t,e),r(t,[{key:"listen",value:function(){var e=this;this.textbox.addEventListener("keydown",(function(t){l.default.match(t,"enter")?(e.save(),t.preventDefault()):l.default.match(t,"escape")&&(e.cancel(),t.preventDefault())}))}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=t?this.textbox.value=t:e!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+e)||""),this.root.setAttribute("data-mode",e)}},{key:"restoreFocus",value:function(){var e=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=e}},{key:"save",value:function(){var e,t,n=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var r=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",n,s.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",n,s.default.sources.USER)),this.quill.root.scrollTop=r;break;case"video":n=(t=(e=n).match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/))?(t[1]||"https")+"://www.youtube.com/embed/"+t[2]+"?showinfo=0":(t=e.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(t[1]||"https")+"://player.vimeo.com/video/"+t[2]+"/":e;case"formula":if(!n)break;var i=this.quill.getSelection(!0);if(null!=i){var o=i.index+i.length;this.quill.insertEmbed(o,this.root.getAttribute("data-mode"),n,s.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(o+1," ",s.default.sources.USER),this.quill.setSelection(o+2,s.default.sources.USER)}}this.textbox.value="",this.hide()}}]),t}(p.default);function C(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.forEach((function(t){var r=document.createElement("option");t===n?r.setAttribute("selected","selected"):r.setAttribute("value",t),e.appendChild(r)}))}t.BaseTooltip=T,t.default=k},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.head=this.tail=null,this.length=0}return e.prototype.append=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.insertBefore(e[0],null),e.length>1&&this.append.apply(this,e.slice(1))},e.prototype.contains=function(e){for(var t,n=this.iterator();t=n();)if(t===e)return!0;return!1},e.prototype.insertBefore=function(e,t){e&&(e.next=t,null!=t?(e.prev=t.prev,null!=t.prev&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):null!=this.tail?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)},e.prototype.offset=function(e){for(var t=0,n=this.head;null!=n;){if(n===e)return t;t+=n.length(),n=n.next}return-1},e.prototype.remove=function(e){this.contains(e)&&(null!=e.prev&&(e.prev.next=e.next),null!=e.next&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)},e.prototype.iterator=function(e){return void 0===e&&(e=this.head),function(){var t=e;return null!=e&&(e=e.next),t}},e.prototype.find=function(e,t){void 0===t&&(t=!1);for(var n,r=this.iterator();n=r();){var i=n.length();if(e<i||t&&e===i&&(null==n.next||0!==n.next.length()))return[n,e];e-=i}return[null,0]},e.prototype.forEach=function(e){for(var t,n=this.iterator();t=n();)e(t)},e.prototype.forEachAt=function(e,t,n){if(!(t<=0))for(var r,i=this.find(e),o=i[0],a=e-i[1],s=this.iterator(o);(r=s())&&a<e+t;){var l=r.length();e>a?n(r,e-a,Math.min(t,a+l-e)):n(r,0,Math.min(l,e+t-a)),a+=l}},e.prototype.map=function(e){return this.reduce((function(t,n){return t.push(e(n)),t}),[])},e.prototype.reduce=function(e,t){for(var n,r=this.iterator();n=r();)t=e(t,n);return t},e}();t.default=r},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(17),a=n(1),s={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},l=function(e){function t(t){var n=e.call(this,t)||this;return n.scroll=n,n.observer=new MutationObserver((function(e){n.update(e)})),n.observer.observe(n.domNode,s),n.attach(),n}return i(t,e),t.prototype.detach=function(){e.prototype.detach.call(this),this.observer.disconnect()},t.prototype.deleteAt=function(t,n){this.update(),0===t&&n===this.length()?this.children.forEach((function(e){e.remove()})):e.prototype.deleteAt.call(this,t,n)},t.prototype.formatAt=function(t,n,r,i){this.update(),e.prototype.formatAt.call(this,t,n,r,i)},t.prototype.insertAt=function(t,n,r){this.update(),e.prototype.insertAt.call(this,t,n,r)},t.prototype.optimize=function(t,n){var r=this;void 0===t&&(t=[]),void 0===n&&(n={}),e.prototype.optimize.call(this,n);for(var i=[].slice.call(this.observer.takeRecords());i.length>0;)t.push(i.pop());for(var s=function(e,t){void 0===t&&(t=!0),null!=e&&e!==r&&null!=e.domNode.parentNode&&(null==e.domNode[a.DATA_KEY].mutations&&(e.domNode[a.DATA_KEY].mutations=[]),t&&s(e.parent))},l=function(e){null!=e.domNode[a.DATA_KEY]&&null!=e.domNode[a.DATA_KEY].mutations&&(e instanceof o.default&&e.children.forEach(l),e.optimize(n))},u=t,c=0;u.length>0;c+=1){if(c>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(u.forEach((function(e){var t=a.find(e.target,!0);null!=t&&(t.domNode===e.target&&("childList"===e.type?(s(a.find(e.previousSibling,!1)),[].forEach.call(e.addedNodes,(function(e){var t=a.find(e,!1);s(t,!1),t instanceof o.default&&t.children.forEach((function(e){s(e,!1)}))}))):"attributes"===e.type&&s(t.prev)),s(t))})),this.children.forEach(l),i=(u=[].slice.call(this.observer.takeRecords())).slice();i.length>0;)t.push(i.pop())}},t.prototype.update=function(t,n){var r=this;void 0===n&&(n={}),(t=t||this.observer.takeRecords()).map((function(e){var t=a.find(e.target,!0);return null==t?null:null==t.domNode[a.DATA_KEY].mutations?(t.domNode[a.DATA_KEY].mutations=[e],t):(t.domNode[a.DATA_KEY].mutations.push(e),null)})).forEach((function(e){null!=e&&e!==r&&null!=e.domNode[a.DATA_KEY]&&e.update(e.domNode[a.DATA_KEY].mutations||[],n)})),null!=this.domNode[a.DATA_KEY].mutations&&e.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,n),this.optimize(t,n)},t.blotName="scroll",t.defaultChild="block",t.scope=a.Scope.BLOCK_BLOT,t.tagName="DIV",t}(o.default);t.default=l},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(18),a=n(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.formats=function(n){if(n.tagName!==t.tagName)return e.formats.call(this,n)},t.prototype.format=function(n,r){var i=this;n!==this.statics.blotName||r?e.prototype.format.call(this,n,r):(this.children.forEach((function(e){e instanceof o.default||(e=e.wrap(t.blotName,!0)),i.attributes.copy(e)})),this.unwrap())},t.prototype.formatAt=function(t,n,r,i){null!=this.formats()[r]||a.query(r,a.Scope.ATTRIBUTE)?this.isolate(t,n).format(r,i):e.prototype.formatAt.call(this,t,n,r,i)},t.prototype.optimize=function(n){e.prototype.optimize.call(this,n);var r=this.formats();if(0===Object.keys(r).length)return this.unwrap();var i=this.next;i instanceof t&&i.prev===this&&function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(e[n]!==t[n])return!1;return!0}(r,i.formats())&&(i.moveChildren(this),i.remove())},t.blotName="inline",t.scope=a.Scope.INLINE_BLOT,t.tagName="SPAN",t}(o.default);t.default=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(18),a=n(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.formats=function(n){var r=a.query(t.blotName).tagName;if(n.tagName!==r)return e.formats.call(this,n)},t.prototype.format=function(n,r){null!=a.query(n,a.Scope.BLOCK)&&(n!==this.statics.blotName||r?e.prototype.format.call(this,n,r):this.replaceWith(t.blotName))},t.prototype.formatAt=function(t,n,r,i){null!=a.query(r,a.Scope.BLOCK)?this.format(r,i):e.prototype.formatAt.call(this,t,n,r,i)},t.prototype.insertAt=function(t,n,r){if(null==r||null!=a.query(n,a.Scope.INLINE))e.prototype.insertAt.call(this,t,n,r);else{var i=this.split(t),o=a.create(n,r);i.parent.insertBefore(o,i)}},t.prototype.update=function(t,n){navigator.userAgent.match(/Trident/)?this.build():e.prototype.update.call(this,t,n)},t.blotName="block",t.scope=a.Scope.BLOCK_BLOT,t.tagName="P",t}(o.default);t.default=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.formats=function(e){},t.prototype.format=function(t,n){e.prototype.formatAt.call(this,0,this.length(),t,n)},t.prototype.formatAt=function(t,n,r,i){0===t&&n===this.length()?this.format(r,i):e.prototype.formatAt.call(this,t,n,r,i)},t.prototype.formats=function(){return this.statics.formats(this.domNode)},t}(n(19).default);t.default=o},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(19),a=n(1),s=function(e){function t(t){var n=e.call(this,t)||this;return n.text=n.statics.value(n.domNode),n}return i(t,e),t.create=function(e){return document.createTextNode(e)},t.value=function(e){var t=e.data;return t.normalize&&(t=t.normalize()),t},t.prototype.deleteAt=function(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)},t.prototype.index=function(e,t){return this.domNode===e?t:-1},t.prototype.insertAt=function(t,n,r){null==r?(this.text=this.text.slice(0,t)+n+this.text.slice(t),this.domNode.data=this.text):e.prototype.insertAt.call(this,t,n,r)},t.prototype.length=function(){return this.text.length},t.prototype.optimize=function(n){e.prototype.optimize.call(this,n),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof t&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},t.prototype.position=function(e,t){return void 0===t&&(t=!1),[this.domNode,e]},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var n=a.create(this.domNode.splitText(e));return this.parent.insertBefore(n,this.next),this.text=this.statics.value(this.domNode),n},t.prototype.update=function(e,t){var n=this;e.some((function(e){return"characterData"===e.type&&e.target===n.domNode}))&&(this.text=this.statics.value(this.domNode))},t.prototype.value=function(){return this.text},t.blotName="text",t.scope=a.Scope.INLINE_BLOT,t}(o.default);t.default=s},function(e,t,n){"use strict";var r=document.createElement("div");if(r.classList.toggle("test-class",!1),r.classList.contains("test-class")){var i=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return arguments.length>1&&!this.contains(e)==!t?t:i.call(this,e)}}String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var n=this.toString();("number"!=typeof t||!isFinite(t)||Math.floor(t)!==t||t>n.length)&&(t=n.length),t-=e.length;var r=n.indexOf(e,t);return-1!==r&&r===t}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,n=Object(this),r=n.length>>>0,i=arguments[1],o=0;o<r;o++)if(t=n[o],e.call(i,t,o,n))return t}}),document.addEventListener("DOMContentLoaded",(function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)}))},function(e,t){var n=-1;function r(e,t,l){if(e==t)return e?[[0,e]]:[];(l<0||e.length<l)&&(l=null);var c=o(e,t),f=e.substring(0,c);c=a(e=e.substring(c),t=t.substring(c));var d=e.substring(e.length-c),p=function(e,t){var s;if(!e)return[[1,t]];if(!t)return[[n,e]];var l=e.length>t.length?e:t,u=e.length>t.length?t:e,c=l.indexOf(u);if(-1!=c)return s=[[1,l.substring(0,c)],[0,u],[1,l.substring(c+u.length)]],e.length>t.length&&(s[0][0]=s[2][0]=n),s;if(1==u.length)return[[n,e],[1,t]];var f=function(e,t){var n=e.length>t.length?e:t,r=e.length>t.length?t:e;if(n.length<4||2*r.length<n.length)return null;function i(e,t,n){for(var r,i,s,l,u=e.substring(n,n+Math.floor(e.length/4)),c=-1,f="";-1!=(c=t.indexOf(u,c+1));){var d=o(e.substring(n),t.substring(c)),p=a(e.substring(0,n),t.substring(0,c));f.length<p+d&&(f=t.substring(c-p,c)+t.substring(c,c+d),r=e.substring(0,n-p),i=e.substring(n+d),s=t.substring(0,c-p),l=t.substring(c+d))}return 2*f.length>=e.length?[r,i,s,l,f]:null}var s,l,u,c,f,d=i(n,r,Math.ceil(n.length/4)),p=i(n,r,Math.ceil(n.length/2));return d||p?(s=p?d&&d[4].length>p[4].length?d:p:d,e.length>t.length?(l=s[0],u=s[1],c=s[2],f=s[3]):(c=s[0],f=s[1],l=s[2],u=s[3]),[l,u,c,f,s[4]]):null}(e,t);if(f){var d=f[0],p=f[1],h=f[2],g=f[3],m=f[4],y=r(d,h),v=r(p,g);return y.concat([[0,m]],v)}return function(e,t){for(var r=e.length,o=t.length,a=Math.ceil((r+o)/2),s=a,l=2*a,u=new Array(l),c=new Array(l),f=0;f<l;f++)u[f]=-1,c[f]=-1;u[s+1]=0,c[s+1]=0;for(var d=r-o,p=d%2!=0,h=0,g=0,m=0,y=0,v=0;v<a;v++){for(var b=-v+h;b<=v-g;b+=2){for(var x=s+b,_=(O=b==-v||b!=v&&u[x-1]<u[x+1]?u[x+1]:u[x-1]+1)-b;O<r&&_<o&&e.charAt(O)==t.charAt(_);)O++,_++;if(u[x]=O,O>r)g+=2;else if(_>o)h+=2;else if(p&&(T=s+d-b)>=0&&T<l&&-1!=c[T]&&O>=(k=r-c[T]))return i(e,t,O,_)}for(var w=-v+m;w<=v-y;w+=2){for(var k,T=s+w,C=(k=w==-v||w!=v&&c[T-1]<c[T+1]?c[T+1]:c[T-1]+1)-w;k<r&&C<o&&e.charAt(r-k-1)==t.charAt(o-C-1);)k++,C++;if(c[T]=k,k>r)y+=2;else if(C>o)m+=2;else if(!p){var O;if((x=s+d-w)>=0&&x<l&&-1!=u[x]&&(_=s+(O=u[x])-x,O>=(k=r-k)))return i(e,t,O,_)}}}return[[n,e],[1,t]]}(e,t)}(e=e.substring(0,e.length-c),t=t.substring(0,t.length-c));return f&&p.unshift([0,f]),d&&p.push([0,d]),s(p),null!=l&&(p=function(e,t){var r=function(e,t){if(0===t)return[0,e];for(var r=0,i=0;i<e.length;i++){var o=e[i];if(o[0]===n||0===o[0]){var a=r+o[1].length;if(t===a)return[i+1,e];if(t<a){e=e.slice();var s=t-r,l=[o[0],o[1].slice(0,s)],u=[o[0],o[1].slice(s)];return e.splice(i,1,l,u),[i+1,e]}r=a}}throw new Error("cursor_pos is out of bounds!")}(e,t),i=r[1],o=r[0],a=i[o],s=i[o+1];if(null==a)return e;if(0!==a[0])return e;if(null!=s&&a[1]+s[1]===s[1]+a[1])return i.splice(o,2,s,a),u(i,o,2);if(null!=s&&0===s[1].indexOf(a[1])){i.splice(o,2,[s[0],a[1]],[0,a[1]]);var l=s[1].slice(a[1].length);return l.length>0&&i.splice(o+2,0,[s[0],l]),u(i,o,3)}return e}(p,l)),function(e){for(var t=!1,r=function(e){return e.charCodeAt(0)>=56320&&e.charCodeAt(0)<=57343},i=2;i<e.length;i+=1)0===e[i-2][0]&&((o=e[i-2][1]).charCodeAt(o.length-1)>=55296&&o.charCodeAt(o.length-1)<=56319)&&e[i-1][0]===n&&r(e[i-1][1])&&1===e[i][0]&&r(e[i][1])&&(t=!0,e[i-1][1]=e[i-2][1].slice(-1)+e[i-1][1],e[i][1]=e[i-2][1].slice(-1)+e[i][1],e[i-2][1]=e[i-2][1].slice(0,-1));var o;if(!t)return e;var a=[];for(i=0;i<e.length;i+=1)e[i][1].length>0&&a.push(e[i]);return a}(p)}function i(e,t,n,i){var o=e.substring(0,n),a=t.substring(0,i),s=e.substring(n),l=t.substring(i),u=r(o,a),c=r(s,l);return u.concat(c)}function o(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var n=0,r=Math.min(e.length,t.length),i=r,o=0;n<i;)e.substring(o,i)==t.substring(o,i)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return i}function a(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var n=0,r=Math.min(e.length,t.length),i=r,o=0;n<i;)e.substring(e.length-i,e.length-o)==t.substring(t.length-i,t.length-o)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return i}function s(e){e.push([0,""]);for(var t,r=0,i=0,l=0,u="",c="";r<e.length;)switch(e[r][0]){case 1:l++,c+=e[r][1],r++;break;case n:i++,u+=e[r][1],r++;break;case 0:i+l>1?(0!==i&&0!==l&&(0!==(t=o(c,u))&&(r-i-l>0&&0==e[r-i-l-1][0]?e[r-i-l-1][1]+=c.substring(0,t):(e.splice(0,0,[0,c.substring(0,t)]),r++),c=c.substring(t),u=u.substring(t)),0!==(t=a(c,u))&&(e[r][1]=c.substring(c.length-t)+e[r][1],c=c.substring(0,c.length-t),u=u.substring(0,u.length-t))),0===i?e.splice(r-l,i+l,[1,c]):0===l?e.splice(r-i,i+l,[n,u]):e.splice(r-i-l,i+l,[n,u],[1,c]),r=r-i-l+(i?1:0)+(l?1:0)+1):0!==r&&0==e[r-1][0]?(e[r-1][1]+=e[r][1],e.splice(r,1)):r++,l=0,i=0,u="",c=""}""===e[e.length-1][1]&&e.pop();var f=!1;for(r=1;r<e.length-1;)0==e[r-1][0]&&0==e[r+1][0]&&(e[r][1].substring(e[r][1].length-e[r-1][1].length)==e[r-1][1]?(e[r][1]=e[r-1][1]+e[r][1].substring(0,e[r][1].length-e[r-1][1].length),e[r+1][1]=e[r-1][1]+e[r+1][1],e.splice(r-1,1),f=!0):e[r][1].substring(0,e[r+1][1].length)==e[r+1][1]&&(e[r-1][1]+=e[r+1][1],e[r][1]=e[r][1].substring(e[r+1][1].length)+e[r+1][1],e.splice(r+1,1),f=!0)),r++;f&&s(e)}var l=r;function u(e,t,n){for(var r=t+n-1;r>=0&&r>=t-1;r--)if(r+1<e.length){var i=e[r],o=e[r+1];i[0]===o[1]&&e.splice(r,2,[i[0],i[1]+o[1]])}return e}l.INSERT=1,l.DELETE=n,l.EQUAL=0,e.exports=l},function(e,t){function n(e){var t=[];for(var n in e)t.push(n);return t}(e.exports="function"==typeof Object.keys?Object.keys:n).shim=n},function(e,t){var n="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function r(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function i(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}(t=e.exports=n?r:i).supported=r,t.unsupported=i},function(e,t){"use strict";var n=Object.prototype.hasOwnProperty,r="~";function i(){}function o(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(r=!1)),a.prototype.eventNames=function(){var e,t,i=[];if(0===this._eventsCount)return i;for(t in e=this._events)n.call(e,t)&&i.push(r?t.slice(1):t);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},a.prototype.listeners=function(e,t){var n=r?r+e:e,i=this._events[n];if(t)return!!i;if(!i)return[];if(i.fn)return[i.fn];for(var o=0,a=i.length,s=new Array(a);o<a;o++)s[o]=i[o].fn;return s},a.prototype.emit=function(e,t,n,i,o,a){var s=r?r+e:e;if(!this._events[s])return!1;var l,u,c=this._events[s],f=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),f){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,n),!0;case 4:return c.fn.call(c.context,t,n,i),!0;case 5:return c.fn.call(c.context,t,n,i,o),!0;case 6:return c.fn.call(c.context,t,n,i,o,a),!0}for(u=1,l=new Array(f-1);u<f;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var d,p=c.length;for(u=0;u<p;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),f){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,n);break;case 4:c[u].fn.call(c[u].context,t,n,i);break;default:if(!l)for(d=1,l=new Array(f-1);d<f;d++)l[d-1]=arguments[d];c[u].fn.apply(c[u].context,l)}}return!0},a.prototype.on=function(e,t,n){var i=new o(t,n||this),a=r?r+e:e;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],i]:this._events[a].push(i):(this._events[a]=i,this._eventsCount++),this},a.prototype.once=function(e,t,n){var i=new o(t,n||this,!0),a=r?r+e:e;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],i]:this._events[a].push(i):(this._events[a]=i,this._eventsCount++),this},a.prototype.removeListener=function(e,t,n,o){var a=r?r+e:e;if(!this._events[a])return this;if(!t)return 0==--this._eventsCount?this._events=new i:delete this._events[a],this;var s=this._events[a];if(s.fn)s.fn!==t||o&&!s.once||n&&s.context!==n||(0==--this._eventsCount?this._events=new i:delete this._events[a]);else{for(var l=0,u=[],c=s.length;l<c;l++)(s[l].fn!==t||o&&!s[l].once||n&&s[l].context!==n)&&u.push(s[l]);u.length?this._events[a]=1===u.length?u[0]:u:0==--this._eventsCount?this._events=new i:delete this._events[a]}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&(0==--this._eventsCount?this._events=new i:delete this._events[t])):(this._events=new i,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prototype.setMaxListeners=function(){return this},a.prefixed=r,a.EventEmitter=a,void 0!==e&&(e.exports=a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.matchText=t.matchSpacing=t.matchNewline=t.matchBlot=t.matchAttributor=t.default=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=b(n(3)),s=b(n(2)),l=b(n(0)),u=b(n(5)),c=b(n(10)),f=b(n(9)),d=n(36),p=n(37),h=b(n(13)),g=n(26),m=n(38),y=n(39),v=n(40);function b(e){return e&&e.__esModule?e:{default:e}}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=(0,c.default)("quill:clipboard"),w="__ql-matcher",k=[[Node.TEXT_NODE,j],[Node.TEXT_NODE,I],["br",function(e,t){return M(t,"\n")||t.insert("\n"),t}],[Node.ELEMENT_NODE,I],[Node.ELEMENT_NODE,R],[Node.ELEMENT_NODE,N],[Node.ELEMENT_NODE,L],[Node.ELEMENT_NODE,function(e,t){var n={},r=e.style||{};return r.fontStyle&&"italic"===A(e).fontStyle&&(n.italic=!0),r.fontWeight&&(A(e).fontWeight.startsWith("bold")||parseInt(A(e).fontWeight)>=700)&&(n.bold=!0),Object.keys(n).length>0&&(t=S(t,n)),parseFloat(r.textIndent||0)>0&&(t=(new s.default).insert("\t").concat(t)),t}],["li",function(e,t){var n=l.default.query(e);if(null==n||"list-item"!==n.blotName||!M(t,"\n"))return t;for(var r=-1,i=e.parentNode;!i.classList.contains("ql-clipboard");)"list"===(l.default.query(i)||{}).blotName&&(r+=1),i=i.parentNode;return r<=0?t:t.compose((new s.default).retain(t.length()-1).retain(1,{indent:r}))}],["b",D.bind(D,"bold")],["i",D.bind(D,"italic")],["style",function(){return new s.default}]],T=[d.AlignAttribute,m.DirectionAttribute].reduce((function(e,t){return e[t.keyName]=t,e}),{}),C=[d.AlignStyle,p.BackgroundStyle,g.ColorStyle,m.DirectionStyle,y.FontStyle,v.SizeStyle].reduce((function(e,t){return e[t.keyName]=t,e}),{}),O=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.quill.root.addEventListener("paste",r.onPaste.bind(r)),r.container=r.quill.addContainer("ql-clipboard"),r.container.setAttribute("contenteditable",!0),r.container.setAttribute("tabindex",-1),r.matchers=[],k.concat(r.options.matchers).forEach((function(e){var t=i(e,2),o=t[0],a=t[1];(n.matchVisual||a!==N)&&r.addMatcher(o,a)})),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"addMatcher",value:function(e,t){this.matchers.push([e,t])}},{key:"convert",value:function(e){if("string"==typeof e)return this.container.innerHTML=e.replace(/\>\r?\n +\</g,"><"),this.convert();var t=this.quill.getFormat(this.quill.selection.savedRange.index);if(t[h.default.blotName]){var n=this.container.innerText;return this.container.innerHTML="",(new s.default).insert(n,x({},h.default.blotName,t[h.default.blotName]))}var r=this.prepareMatching(),o=i(r,2),a=o[0],l=o[1],u=P(this.container,a,l);return M(u,"\n")&&null==u.ops[u.ops.length-1].attributes&&(u=u.compose((new s.default).retain(u.length()-1).delete(1))),_.log("convert",this.container.innerHTML,u),this.container.innerHTML="",u}},{key:"dangerouslyPasteHTML",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.default.sources.API;if("string"==typeof e)this.quill.setContents(this.convert(e),t),this.quill.setSelection(0,u.default.sources.SILENT);else{var r=this.convert(t);this.quill.updateContents((new s.default).retain(e).concat(r),n),this.quill.setSelection(e+r.length(),u.default.sources.SILENT)}}},{key:"onPaste",value:function(e){var t=this;if(!e.defaultPrevented&&this.quill.isEnabled()){var n=this.quill.getSelection(),r=(new s.default).retain(n.index),i=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(u.default.sources.SILENT),setTimeout((function(){r=r.concat(t.convert()).delete(n.length),t.quill.updateContents(r,u.default.sources.USER),t.quill.setSelection(r.length()-n.length,u.default.sources.SILENT),t.quill.scrollingContainer.scrollTop=i,t.quill.focus()}),1)}}},{key:"prepareMatching",value:function(){var e=this,t=[],n=[];return this.matchers.forEach((function(r){var o=i(r,2),a=o[0],s=o[1];switch(a){case Node.TEXT_NODE:n.push(s);break;case Node.ELEMENT_NODE:t.push(s);break;default:[].forEach.call(e.container.querySelectorAll(a),(function(e){e[w]=e[w]||[],e[w].push(s)}))}})),[t,n]}}]),t}(f.default);function S(e,t,n){return"object"===(void 0===t?"undefined":r(t))?Object.keys(t).reduce((function(e,n){return S(e,n,t[n])}),e):e.reduce((function(e,r){return r.attributes&&r.attributes[t]?e.push(r):e.insert(r.insert,(0,a.default)({},x({},t,n),r.attributes))}),new s.default)}function A(e){if(e.nodeType!==Node.ELEMENT_NODE)return{};var t="__ql-computed-style";return e[t]||(e[t]=window.getComputedStyle(e))}function M(e,t){for(var n="",r=e.ops.length-1;r>=0&&n.length<t.length;--r){var i=e.ops[r];if("string"!=typeof i.insert)break;n=i.insert+n}return n.slice(-1*t.length)===t}function E(e){if(0===e.childNodes.length)return!1;var t=A(e);return["block","list-item"].indexOf(t.display)>-1}function P(e,t,n){return e.nodeType===e.TEXT_NODE?n.reduce((function(t,n){return n(e,t)}),new s.default):e.nodeType===e.ELEMENT_NODE?[].reduce.call(e.childNodes||[],(function(r,i){var o=P(i,t,n);return i.nodeType===e.ELEMENT_NODE&&(o=t.reduce((function(e,t){return t(i,e)}),o),o=(i[w]||[]).reduce((function(e,t){return t(i,e)}),o)),r.concat(o)}),new s.default):new s.default}function D(e,t,n){return S(n,e,!0)}function L(e,t){var n=l.default.Attributor.Attribute.keys(e),r=l.default.Attributor.Class.keys(e),i=l.default.Attributor.Style.keys(e),o={};return n.concat(r).concat(i).forEach((function(t){var n=l.default.query(t,l.default.Scope.ATTRIBUTE);null!=n&&(o[n.attrName]=n.value(e),o[n.attrName])||(null==(n=T[t])||n.attrName!==t&&n.keyName!==t||(o[n.attrName]=n.value(e)||void 0),null==(n=C[t])||n.attrName!==t&&n.keyName!==t||(n=C[t],o[n.attrName]=n.value(e)||void 0))})),Object.keys(o).length>0&&(t=S(t,o)),t}function R(e,t){var n=l.default.query(e);if(null==n)return t;if(n.prototype instanceof l.default.Embed){var r={},i=n.value(e);null!=i&&(r[n.blotName]=i,t=(new s.default).insert(r,n.formats(e)))}else"function"==typeof n.formats&&(t=S(t,n.blotName,n.formats(e)));return t}function I(e,t){return M(t,"\n")||(E(e)||t.length()>0&&e.nextSibling&&E(e.nextSibling))&&t.insert("\n"),t}function N(e,t){if(E(e)&&null!=e.nextElementSibling&&!M(t,"\n\n")){var n=e.offsetHeight+parseFloat(A(e).marginTop)+parseFloat(A(e).marginBottom);e.nextElementSibling.offsetTop>e.offsetTop+1.5*n&&t.insert("\n")}return t}function j(e,t){var n=e.data;if("O:P"===e.parentNode.tagName)return t.insert(n.trim());if(0===n.trim().length&&e.parentNode.classList.contains("ql-clipboard"))return t;if(!A(e.parentNode).whiteSpace.startsWith("pre")){var r=function(e,t){return(t=t.replace(/[^\u00a0]/g,"")).length<1&&e?" ":t};n=(n=n.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,r.bind(r,!0)),(null==e.previousSibling&&E(e.parentNode)||null!=e.previousSibling&&E(e.previousSibling))&&(n=n.replace(/^\s+/,r.bind(r,!1))),(null==e.nextSibling&&E(e.parentNode)||null!=e.nextSibling&&E(e.nextSibling))&&(n=n.replace(/\s+$/,r.bind(r,!1)))}return t.insert(n)}O.DEFAULTS={matchers:[],matchVisual:!0},t.default=O,t.matchAttributor=L,t.matchBlot=R,t.matchNewline=I,t.matchSpacing=N,t.matchText=j},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0};function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){function t(){return a(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"optimize",value:function(e){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return o(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),t}(((r=n(6))&&r.__esModule?r:{default:r}).default);l.blotName="bold",l.tagName=["STRONG","B"],t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addControls=t.default=void 0;var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=c(n(2)),a=c(n(0)),s=c(n(5)),l=c(n(10)),u=c(n(9));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=(0,l.default)("quill:toolbar"),p=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i,o=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));if(Array.isArray(o.options.container)){var a=document.createElement("div");g(a,o.options.container),e.container.parentNode.insertBefore(a,e.container),o.container=a}else"string"==typeof o.options.container?o.container=document.querySelector(o.options.container):o.container=o.options.container;return o.container instanceof HTMLElement?(o.container.classList.add("ql-toolbar"),o.controls=[],o.handlers={},Object.keys(o.options.handlers).forEach((function(e){o.addHandler(e,o.options.handlers[e])})),[].forEach.call(o.container.querySelectorAll("button, select"),(function(e){o.attach(e)})),o.quill.on(s.default.events.EDITOR_CHANGE,(function(e,t){e===s.default.events.SELECTION_CHANGE&&o.update(t)})),o.quill.on(s.default.events.SCROLL_OPTIMIZE,(function(){var e=o.quill.selection.getRange(),t=r(e,1)[0];o.update(t)})),o):(i=d.error("Container required for toolbar",o.options),f(o,i))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"addHandler",value:function(e,t){this.handlers[e]=t}},{key:"attach",value:function(e){var t=this,n=[].find.call(e.classList,(function(e){return 0===e.indexOf("ql-")}));if(n){if(n=n.slice("ql-".length),"BUTTON"===e.tagName&&e.setAttribute("type","button"),null==this.handlers[n]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[n])return void d.warn("ignoring attaching to disabled format",n,e);if(null==a.default.query(n))return void d.warn("ignoring attaching to nonexistent format",n,e)}var i="SELECT"===e.tagName?"change":"click";e.addEventListener(i,(function(i){var l=void 0;if("SELECT"===e.tagName){if(e.selectedIndex<0)return;var u=e.options[e.selectedIndex];l=!u.hasAttribute("selected")&&(u.value||!1)}else l=!e.classList.contains("ql-active")&&(e.value||!e.hasAttribute("value")),i.preventDefault();t.quill.focus();var c=t.quill.selection.getRange(),f=r(c,1)[0];if(null!=t.handlers[n])t.handlers[n].call(t,l);else if(a.default.query(n).prototype instanceof a.default.Embed){if(!(l=prompt("Enter "+n)))return;t.quill.updateContents((new o.default).retain(f.index).delete(f.length).insert(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},n,l)),s.default.sources.USER)}else t.quill.format(n,l,s.default.sources.USER);t.update(f)})),this.controls.push([n,e])}}},{key:"update",value:function(e){var t=null==e?{}:this.quill.getFormat(e);this.controls.forEach((function(n){var i=r(n,2),o=i[0],a=i[1];if("SELECT"===a.tagName){var s=void 0;if(null==e)s=null;else if(null==t[o])s=a.querySelector("option[selected]");else if(!Array.isArray(t[o])){var l=t[o];"string"==typeof l&&(l=l.replace(/\"/g,'\\"')),s=a.querySelector('option[value="'+l+'"]')}null==s?(a.value="",a.selectedIndex=-1):s.selected=!0}else if(null==e)a.classList.remove("ql-active");else if(a.hasAttribute("value")){var u=t[o]===a.getAttribute("value")||null!=t[o]&&t[o].toString()===a.getAttribute("value")||null==t[o]&&!a.getAttribute("value");a.classList.toggle("ql-active",u)}else a.classList.toggle("ql-active",null!=t[o])}))}}]),t}(u.default);function h(e,t,n){var r=document.createElement("button");r.setAttribute("type","button"),r.classList.add("ql-"+t),null!=n&&(r.value=n),e.appendChild(r)}function g(e,t){Array.isArray(t[0])||(t=[t]),t.forEach((function(t){var n=document.createElement("span");n.classList.add("ql-formats"),t.forEach((function(e){if("string"==typeof e)h(n,e);else{var t=Object.keys(e)[0],r=e[t];Array.isArray(r)?function(e,t,n){var r=document.createElement("select");r.classList.add("ql-"+t),n.forEach((function(e){var t=document.createElement("option");!1!==e?t.setAttribute("value",e):t.setAttribute("selected","selected"),r.appendChild(t)})),e.appendChild(r)}(n,t,r):h(n,t,r)}})),e.appendChild(n)}))}p.DEFAULTS={},p.DEFAULTS={container:null,handlers:{clean:function(){var e=this,t=this.quill.getSelection();if(null!=t)if(0==t.length){var n=this.quill.getFormat();Object.keys(n).forEach((function(t){null!=a.default.query(t,a.default.Scope.INLINE)&&e.quill.format(t,!1)}))}else this.quill.removeFormat(t,s.default.sources.USER)},direction:function(e){var t=this.quill.getFormat().align;"rtl"===e&&null==t?this.quill.format("align","right",s.default.sources.USER):e||"right"!==t||this.quill.format("align",!1,s.default.sources.USER),this.quill.format("direction",e,s.default.sources.USER)},indent:function(e){var t=this.quill.getSelection(),n=this.quill.getFormat(t),r=parseInt(n.indent||0);if("+1"===e||"-1"===e){var i="+1"===e?1:-1;"rtl"===n.direction&&(i*=-1),this.quill.format("indent",r+i,s.default.sources.USER)}},link:function(e){!0===e&&(e=prompt("Enter link URL:")),this.quill.format("link",e,s.default.sources.USER)},list:function(e){var t=this.quill.getSelection(),n=this.quill.getFormat(t);"check"===e?"checked"===n.list||"unchecked"===n.list?this.quill.format("list",!1,s.default.sources.USER):this.quill.format("list","unchecked",s.default.sources.USER):this.quill.format("list",e,s.default.sources.USER)}}},t.default=p,t.addControls=g},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},a=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.label.innerHTML=n,r.container.classList.add("ql-color-picker"),[].slice.call(r.container.querySelectorAll(".ql-picker-item"),0,7).forEach((function(e){e.classList.add("ql-primary")})),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"buildItem",value:function(e){var n=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"buildItem",this).call(this,e);return n.style.backgroundColor=e.getAttribute("value")||"",n}},{key:"selectItem",value:function(e,n){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,n);var r=this.label.querySelector(".ql-color-label"),i=e&&e.getAttribute("data-value")||"";r&&("line"===r.tagName?r.style.stroke=i:r.style.fill=i)}}]),t}(((r=n(28))&&r.__esModule?r:{default:r}).default);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},a=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.container.classList.add("ql-icon-picker"),[].forEach.call(r.container.querySelectorAll(".ql-picker-item"),(function(e){e.innerHTML=n[e.getAttribute("data-value")||""]})),r.defaultItem=r.container.querySelector(".ql-selected"),r.selectItem(r.defaultItem),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"selectItem",value:function(e,n){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,n),e=e||this.defaultItem,this.label.innerHTML=e.innerHTML}}]),t}(((r=n(28))&&r.__esModule?r:{default:r}).default);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.boundsContainer=n||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",(function(){r.root.style.marginTop=-1*r.quill.root.scrollTop+"px"})),this.hide()}return r(e,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(e){var t=e.left+e.width/2-this.root.offsetWidth/2,n=e.bottom+this.quill.root.scrollTop;this.root.style.left=t+"px",this.root.style.top=n+"px",this.root.classList.remove("ql-flip");var r=this.boundsContainer.getBoundingClientRect(),i=this.root.getBoundingClientRect(),o=0;if(i.right>r.right&&(o=r.right-i.right,this.root.style.left=t+o+"px"),i.left<r.left&&(o=r.left-i.left,this.root.style.left=t+o+"px"),i.bottom>r.bottom){var a=i.bottom-i.top,s=e.bottom-e.top+a;this.root.style.top=n-s+"px",this.root.classList.add("ql-flip")}return o}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=d(n(3)),a=d(n(8)),s=n(43),l=d(s),u=d(n(27)),c=n(15),f=d(n(41));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],y=function(e){function t(e,n){p(this,t),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=m);var r=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.quill.container.classList.add("ql-snow"),r}return g(t,e),i(t,[{key:"extendToolbar",value:function(e){e.container.classList.add("ql-snow"),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),f.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),f.default),this.tooltip=new v(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},(function(t,n){e.handlers.link.call(e,!n.format.link)}))}}]),t}(l.default);y.DEFAULTS=(0,o.default)(!0,{},l.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){if(e){var t=this.quill.getSelection();if(null==t||0==t.length)return;var n=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(n)&&0!==n.indexOf("mailto:")&&(n="mailto:"+n),this.quill.theme.tooltip.edit("link",n)}else this.quill.format("link",!1)}}}}});var v=function(e){function t(e,n){p(this,t);var r=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.preview=r.root.querySelector("a.ql-preview"),r}return g(t,e),i(t,[{key:"listen",value:function(){var e=this;r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",(function(t){e.root.classList.contains("ql-editing")?e.save():e.edit("link",e.preview.textContent),t.preventDefault()})),this.root.querySelector("a.ql-remove").addEventListener("click",(function(t){if(null!=e.linkRange){var n=e.linkRange;e.restoreFocus(),e.quill.formatText(n,"link",!1,a.default.sources.USER),delete e.linkRange}t.preventDefault(),e.hide()})),this.quill.on(a.default.events.SELECTION_CHANGE,(function(t,n,r){if(null!=t){if(0===t.length&&r===a.default.sources.USER){var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(e.quill.scroll.descendant(u.default,t.index),2),o=i[0],s=i[1];if(null!=o){e.linkRange=new c.Range(t.index-s,o.length());var l=u.default.formats(o.domNode);return e.preview.textContent=l,e.preview.setAttribute("href",l),e.show(),void e.position(e.quill.getBounds(e.linkRange))}}else delete e.linkRange;e.hide()}}))}},{key:"show",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),t}(s.BaseTooltip);v.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=I(n(29)),i=n(36),o=n(38),a=n(64),s=I(n(65)),l=I(n(66)),u=n(67),c=I(u),f=n(37),d=n(26),p=n(39),h=n(40),g=I(n(56)),m=I(n(68)),y=I(n(27)),v=I(n(69)),b=I(n(70)),x=I(n(71)),_=I(n(72)),w=I(n(73)),k=n(13),T=I(k),C=I(n(74)),O=I(n(75)),S=I(n(57)),A=I(n(41)),M=I(n(28)),E=I(n(59)),P=I(n(60)),D=I(n(61)),L=I(n(108)),R=I(n(62));function I(e){return e&&e.__esModule?e:{default:e}}r.default.register({"attributors/attribute/direction":o.DirectionAttribute,"attributors/class/align":i.AlignClass,"attributors/class/background":f.BackgroundClass,"attributors/class/color":d.ColorClass,"attributors/class/direction":o.DirectionClass,"attributors/class/font":p.FontClass,"attributors/class/size":h.SizeClass,"attributors/style/align":i.AlignStyle,"attributors/style/background":f.BackgroundStyle,"attributors/style/color":d.ColorStyle,"attributors/style/direction":o.DirectionStyle,"attributors/style/font":p.FontStyle,"attributors/style/size":h.SizeStyle},!0),r.default.register({"formats/align":i.AlignClass,"formats/direction":o.DirectionClass,"formats/indent":a.IndentClass,"formats/background":f.BackgroundStyle,"formats/color":d.ColorStyle,"formats/font":p.FontClass,"formats/size":h.SizeClass,"formats/blockquote":s.default,"formats/code-block":T.default,"formats/header":l.default,"formats/list":c.default,"formats/bold":g.default,"formats/code":k.Code,"formats/italic":m.default,"formats/link":y.default,"formats/script":v.default,"formats/strike":b.default,"formats/underline":x.default,"formats/image":_.default,"formats/video":w.default,"formats/list/item":u.ListItem,"modules/formula":C.default,"modules/syntax":O.default,"modules/toolbar":S.default,"themes/bubble":L.default,"themes/snow":R.default,"ui/icons":A.default,"ui/picker":M.default,"ui/icon-picker":P.default,"ui/color-picker":E.default,"ui/tooltip":D.default},!0),t.default=r.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IndentClass=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},a=(r=n(0))&&r.__esModule?r:{default:r};function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=new(function(e){function t(){return s(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"add",value:function(e,n){if("+1"===n||"-1"===n){var r=this.value(e)||0;n="+1"===n?r+1:r-1}return 0===n?(this.remove(e),!0):o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",this).call(this,e,n)}},{key:"canAdd",value:function(e,n){return o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,n)||o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,parseInt(n))}},{key:"value",value:function(e){return parseInt(o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e))||void 0}}]),t}(a.default.Attributor.Class))("indent","ql-indent",{scope:a.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});t.IndentClass=u},function(e,t,n){"use strict";var r;function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((r=n(4))&&r.__esModule?r:{default:r}).default);a.blotName="blockquote",a.tagName="blockquote",t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,null,[{key:"formats",value:function(e){return this.tagName.indexOf(e.tagName)+1}}]),t}(((r=n(4))&&r.__esModule?r:{default:r}).default);s.blotName="header",s.tagName=["H1","H2","H3","H4","H5","H6"],t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ListItem=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},o=l(n(0)),a=l(n(4)),s=l(n(25));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=function(e){function t(){return u(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,e),r(t,[{key:"format",value:function(e,n){e!==p.blotName||n?i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n):this.replaceWith(o.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(e,n){return this.parent.isolate(this.offset(this.parent),this.length()),e===this.parent.statics.blotName?(this.parent.replaceWith(e,n),this):(this.parent.unwrap(),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e,n))}}],[{key:"formats",value:function(e){return e.tagName===this.tagName?void 0:i(t.__proto__||Object.getPrototypeOf(t),"formats",this).call(this,e)}}]),t}(a.default);d.blotName="list-item",d.tagName="LI";var p=function(e){function t(e){u(this,t);var n=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=function(t){if(t.target.parentNode===e){var r=n.statics.formats(e),i=o.default.find(t.target);"checked"===r?i.format("list","unchecked"):"unchecked"===r&&i.format("list","checked")}};return e.addEventListener("touchstart",r),e.addEventListener("mousedown",r),n}return f(t,e),r(t,null,[{key:"create",value:function(e){var n="ordered"===e?"OL":"UL",r=i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,n);return"checked"!==e&&"unchecked"!==e||r.setAttribute("data-checked","checked"===e),r}},{key:"formats",value:function(e){return"OL"===e.tagName?"ordered":"UL"===e.tagName?e.hasAttribute("data-checked")?"true"===e.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),r(t,[{key:"format",value:function(e,t){this.children.length>0&&this.children.tail.format(e,t)}},{key:"formats",value:function(){return e={},t=this.statics.blotName,n=this.statics.formats(this.domNode),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e;var e,t,n}},{key:"insertBefore",value:function(e,n){if(e instanceof d)i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,n);else{var r=null==n?this.length():n.offset(this),o=this.split(r);o.parent.insertBefore(e,o)}}},{key:"optimize",value:function(e){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&n.domNode.tagName===this.domNode.tagName&&n.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(n.moveChildren(this),n.remove())}},{key:"replace",value:function(e){if(e.statics.blotName!==this.statics.blotName){var n=o.default.create(this.statics.defaultChild);e.moveChildren(n),this.appendChild(n)}i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e)}}]),t}(s.default);p.blotName="list",p.scope=o.default.Scope.BLOCK_BLOT,p.tagName=["OL","UL"],p.defaultChild="list-item",p.allowedChildren=[d],t.ListItem=d,t.default=p},function(e,t,n){"use strict";var r;function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((r=n(56))&&r.__esModule?r:{default:r}).default);a.blotName="italic",a.tagName=["EM","I"],t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0};function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){function t(){return a(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,null,[{key:"create",value:function(e){return"super"===e?document.createElement("sup"):"sub"===e?document.createElement("sub"):o(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e)}},{key:"formats",value:function(e){return"SUB"===e.tagName?"sub":"SUP"===e.tagName?"super":void 0}}]),t}(((r=n(6))&&r.__esModule?r:{default:r}).default);l.blotName="script",l.tagName=["SUB","SUP"],t.default=l},function(e,t,n){"use strict";var r;function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((r=n(6))&&r.__esModule?r:{default:r}).default);a.blotName="strike",a.tagName="S",t.default=a},function(e,t,n){"use strict";var r;function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((r=n(6))&&r.__esModule?r:{default:r}).default);a.blotName="underline",a.tagName="U",t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},a=(r=n(0))&&r.__esModule?r:{default:r},s=n(27);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=["alt","height","width"],f=function(e){function t(){return l(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"format",value:function(e,n){c.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n)}}],[{key:"create",value:function(e){var n=o(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"==typeof e&&n.setAttribute("src",this.sanitize(e)),n}},{key:"formats",value:function(e){return c.reduce((function(t,n){return e.hasAttribute(n)&&(t[n]=e.getAttribute(n)),t}),{})}},{key:"match",value:function(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}},{key:"sanitize",value:function(e){return(0,s.sanitize)(e,["http","https","data"])?e:"//:0"}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(a.default.Embed);f.blotName="image",f.tagName="IMG",t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},a=n(4),s=(r=n(27))&&r.__esModule?r:{default:r};function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=["height","width"],f=function(e){function t(){return l(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"format",value:function(e,n){c.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n)}}],[{key:"create",value:function(e){var n=o(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen",!0),n.setAttribute("src",this.sanitize(e)),n}},{key:"formats",value:function(e){return c.reduce((function(t,n){return e.hasAttribute(n)&&(t[n]=e.getAttribute(n)),t}),{})}},{key:"sanitize",value:function(e){return s.default.sanitize(e)}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(a.BlockEmbed);f.blotName="video",f.className="ql-video",f.tagName="IFRAME",t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FormulaBlot=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},o=l(n(35)),a=l(n(5)),s=l(n(9));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=function(e){function t(){return u(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,e),r(t,null,[{key:"create",value:function(e){var n=i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"==typeof e&&(window.katex.render(e,n,{throwOnError:!1,errorColor:"#f00"}),n.setAttribute("data-value",e)),n}},{key:"value",value:function(e){return e.getAttribute("data-value")}}]),t}(o.default);d.blotName="formula",d.className="ql-formula",d.tagName="SPAN";var p=function(e){function t(){u(this,t);var e=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(null==window.katex)throw new Error("Formula module requires KaTeX.");return e}return f(t,e),r(t,null,[{key:"register",value:function(){a.default.register(d,!0)}}]),t}(s.default);t.FormulaBlot=d,t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CodeToken=t.CodeBlock=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},o=l(n(0)),a=l(n(5)),s=l(n(9));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=function(e){function t(){return u(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,e),r(t,[{key:"replaceWith",value:function(e){this.domNode.textContent=this.domNode.textContent,this.attach(),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e)}},{key:"highlight",value:function(e){var t=this.domNode.textContent;this.cachedText!==t&&((t.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=e(t),this.domNode.normalize(),this.attach()),this.cachedText=t)}}]),t}(l(n(13)).default);d.className="ql-syntax";var p=new o.default.Attributor.Class("token","hljs",{scope:o.default.Scope.INLINE}),h=function(e){function t(e,n){u(this,t);var r=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));if("function"!=typeof r.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var i=null;return r.quill.on(a.default.events.SCROLL_OPTIMIZE,(function(){clearTimeout(i),i=setTimeout((function(){r.highlight(),i=null}),r.options.interval)})),r.highlight(),r}return f(t,e),r(t,null,[{key:"register",value:function(){a.default.register(p,!0),a.default.register(d,!0)}}]),r(t,[{key:"highlight",value:function(){var e=this;if(!this.quill.selection.composing){this.quill.update(a.default.sources.USER);var t=this.quill.getSelection();this.quill.scroll.descendants(d).forEach((function(t){t.highlight(e.options.highlight)})),this.quill.update(a.default.sources.SILENT),null!=t&&this.quill.setSelection(t,a.default.sources.SILENT)}}}]),t}(s.default);h.DEFAULTS={highlight:null==window.hljs?null:function(e){return window.hljs.highlightAuto(e).value},interval:1e3},t.CodeBlock=d,t.CodeToken=p,t.default=h},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BubbleTooltip=void 0;var r=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=f(n(3)),a=f(n(8)),s=n(43),l=f(s),u=n(15),c=f(n(41));function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],m=function(e){function t(e,n){d(this,t),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=g);var r=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.quill.container.classList.add("ql-bubble"),r}return h(t,e),i(t,[{key:"extendToolbar",value:function(e){this.tooltip=new y(this.quill,this.options.bounds),this.tooltip.root.appendChild(e.container),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),c.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),c.default)}}]),t}(l.default);m.DEFAULTS=(0,o.default)(!0,{},l.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){e?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var y=function(e){function t(e,n){d(this,t);var r=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.quill.on(a.default.events.EDITOR_CHANGE,(function(e,t,n,i){if(e===a.default.events.SELECTION_CHANGE)if(null!=t&&t.length>0&&i===a.default.sources.USER){r.show(),r.root.style.left="0px",r.root.style.width="",r.root.style.width=r.root.offsetWidth+"px";var o=r.quill.getLines(t.index,t.length);if(1===o.length)r.position(r.quill.getBounds(t));else{var s=o[o.length-1],l=r.quill.getIndex(s),c=Math.min(s.length()-1,t.index+t.length-l),f=r.quill.getBounds(new u.Range(l,c));r.position(f)}}else document.activeElement!==r.textbox&&r.quill.hasFocus()&&r.hide()})),r}return h(t,e),i(t,[{key:"listen",value:function(){var e=this;r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",(function(){e.root.classList.remove("ql-editing")})),this.quill.on(a.default.events.SCROLL_OPTIMIZE,(function(){setTimeout((function(){if(!e.root.classList.contains("ql-hidden")){var t=e.quill.getSelection();null!=t&&e.position(e.quill.getBounds(t))}}),1)}))}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(e){var n=r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"position",this).call(this,e),i=this.root.querySelector(".ql-tooltip-arrow");if(i.style.marginLeft="",0===n)return n;i.style.marginLeft=-1*n-i.offsetWidth/2+"px"}}]),t}(s.BaseTooltip);y.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),t.BubbleTooltip=y,t.default=m},function(e,t,n){e.exports=n(63)}]).default},e.exports=r()},54087:(e,t,n)=>{for(var r=n(75),i="undefined"==typeof window?n.g:window,o=["moz","webkit"],a="AnimationFrame",s=i["request"+a],l=i["cancel"+a]||i["cancelRequest"+a],u=0;!s&&u<o.length;u++)s=i[o[u]+"Request"+a],l=i[o[u]+"Cancel"+a]||i[o[u]+"CancelRequest"+a];if(!s||!l){var c=0,f=0,d=[];s=function(e){if(0===d.length){var t=r(),n=Math.max(0,16.666666666666668-(t-c));c=n+t,setTimeout((function(){var e=d.slice(0);d.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(c)}catch(e){setTimeout((function(){throw e}),0)}}),Math.round(n))}return d.push({handle:++f,callback:e,cancelled:!1}),f},l=function(e){for(var t=0;t<d.length;t++)d[t].handle===e&&(d[t].cancelled=!0)}}e.exports=function(e){return s.call(i,e)},e.exports.cancel=function(){l.apply(i,arguments)},e.exports.polyfill=function(e){e||(e=i),e.requestAnimationFrame=s,e.cancelAnimationFrame=l}},29656:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(67294),s="undefined"==typeof navigator||!0===n.g.PREVENT_CODEMIRROR_RENDER;s||(o=n(4631));var l=function(){function e(){}return e.equals=function(e,t){var n=this,r=Object.keys,i=typeof e;return e&&t&&"object"===i&&i===typeof t?r(e).length===r(t).length&&r(e).every((function(r){return n.equals(e[r],t[r])})):e===t},e}(),u=function(){function e(e,t){this.editor=e,this.props=t}return e.prototype.delegateCursor=function(e,t,n){var r=this.editor.getDoc();n&&this.editor.focus(),t?r.setCursor(e):r.setCursor(e,null,{scroll:!1})},e.prototype.delegateScroll=function(e){this.editor.scrollTo(e.x,e.y)},e.prototype.delegateSelection=function(e,t){this.editor.setSelections(e),t&&this.editor.focus()},e.prototype.apply=function(e,t,n){t?(t.selection&&t.selection.ranges&&(e.selection&&l.equals(e.selection.ranges,t.selection.ranges)||this.delegateSelection(t.selection.ranges,t.selection.focus||!1)),t.cursor&&(e.cursor&&l.equals(e.cursor,t.cursor)||this.delegateCursor(n.cursor||t.cursor,t.autoScroll||!1,t.autoCursor||!1)),t.scroll&&this.delegateScroll(t.scroll)):(e.selection&&e.selection.ranges&&this.delegateSelection(e.selection.ranges,e.selection.focus||!1),e.cursor&&this.delegateCursor(e.cursor,e.autoScroll||!1,e.autoFocus||!1),e.scroll&&this.delegateScroll(e.scroll))},e.prototype.wire=function(e){var t=this;switch(e){case"onBlur":this.editor.on("blur",(function(e,n){t.props.onBlur(t.editor,n)}));break;case"onCursor":this.editor.on("cursorActivity",(function(e){t.props.onCursor(t.editor,t.editor.getCursor())}));break;case"onCursorActivity":this.editor.on("cursorActivity",(function(e){t.props.onCursorActivity(t.editor)}));break;case"onDragEnter":this.editor.on("dragenter",(function(e,n){t.props.onDragEnter(t.editor,n)}));break;case"onDragOver":this.editor.on("dragover",(function(e,n){t.props.onDragOver(t.editor,n)}));break;case"onDrop":this.editor.on("drop",(function(e,n){t.props.onDrop(t.editor,n)}));break;case"onFocus":this.editor.on("focus",(function(e,n){t.props.onFocus(t.editor,n)}));break;case"onGutterClick":this.editor.on("gutterClick",(function(e,n,r,i){t.props.onGutterClick(t.editor,n,r,i)}));break;case"onKeyDown":this.editor.on("keydown",(function(e,n){t.props.onKeyDown(t.editor,n)}));break;case"onKeyPress":this.editor.on("keypress",(function(e,n){t.props.onKeyPress(t.editor,n)}));break;case"onKeyUp":this.editor.on("keyup",(function(e,n){t.props.onKeyUp(t.editor,n)}));break;case"onScroll":this.editor.on("scroll",(function(e){t.props.onScroll(t.editor,t.editor.getScrollInfo())}));break;case"onSelection":this.editor.on("beforeSelectionChange",(function(e,n){t.props.onSelection(t.editor,n)}));break;case"onUpdate":this.editor.on("update",(function(e){t.props.onUpdate(t.editor)}));break;case"onViewportChange":this.editor.on("viewportChange",(function(e,n,r){t.props.onViewportChange(t.editor,n,r)}))}},e}(),c=function(e){function t(t){var n=e.call(this,t)||this;return s||(n.deferred=null,n.emulating=!1,n.hydrated=!1,n.initCb=function(){n.props.editorDidConfigure&&n.props.editorDidConfigure(n.editor)},n.mounted=!1),n}return i(t,e),t.prototype.hydrate=function(e){var t=this,n=Object.assign({},o.defaults,this.editor.options,e.options||{});Object.keys(n).some((function(e){return t.editor.getOption(e)!==n[e]}))&&Object.keys(n).forEach((function(r){e.options.hasOwnProperty(r)&&t.editor.getOption(r)!==n[r]&&(t.editor.setOption(r,n[r]),t.mirror.setOption(r,n[r]))})),this.hydrated||(this.mounted&&this.deferred?this.resolveChange():this.initChange(e.value||"")),this.hydrated=!0},t.prototype.initChange=function(e){this.emulating=!0;var t=this.editor.lastLine(),n=this.editor.getLine(this.editor.lastLine()).length;this.editor.replaceRange(e||"",{line:0,ch:0},{line:t,ch:n}),this.mirror.setValue(e),this.editor.clearHistory(),this.mirror.clearHistory(),this.emulating=!1},t.prototype.resolveChange=function(){this.emulating=!0,"undo"===this.deferred.origin?this.editor.undo():"redo"===this.deferred.origin?this.editor.redo():this.editor.replaceRange(this.deferred.text,this.deferred.from,this.deferred.to,this.deferred.origin),this.emulating=!1,this.deferred=null},t.prototype.mirrorChange=function(e){return"undo"===e.origin?(this.editor.setHistory(this.mirror.getHistory()),this.mirror.undo()):"redo"===e.origin?(this.editor.setHistory(this.mirror.getHistory()),this.mirror.redo()):this.mirror.replaceRange(e.text,e.from,e.to,e.origin),this.mirror.getValue()},t.prototype.componentWillMount=function(){s||this.props.editorWillMount&&this.props.editorWillMount()},t.prototype.componentDidMount=function(){var e=this;s||(this.props.defineMode&&this.props.defineMode.name&&this.props.defineMode.fn&&o.defineMode(this.props.defineMode.name,this.props.defineMode.fn),this.editor=o(this.ref),this.shared=new u(this.editor,this.props),this.mirror=o((function(){})),this.editor.on("electricInput",(function(){e.mirror.setHistory(e.editor.getHistory())})),this.editor.on("cursorActivity",(function(){e.mirror.setCursor(e.editor.getCursor())})),this.editor.on("beforeChange",(function(t,n){if(!e.emulating){n.cancel(),e.deferred=n;var r=e.mirrorChange(e.deferred);e.props.onBeforeChange&&e.props.onBeforeChange(e.editor,e.deferred,r)}})),this.editor.on("change",(function(t,n){e.mounted&&e.props.onChange&&e.props.onChange(e.editor,n,e.editor.getValue())})),this.hydrate(this.props),this.shared.apply(this.props),this.mounted=!0,this.props.onBlur&&this.shared.wire("onBlur"),this.props.onCursor&&this.shared.wire("onCursor"),this.props.onCursorActivity&&this.shared.wire("onCursorActivity"),this.props.onDragEnter&&this.shared.wire("onDragEnter"),this.props.onDragOver&&this.shared.wire("onDragOver"),this.props.onDrop&&this.shared.wire("onDrop"),this.props.onFocus&&this.shared.wire("onFocus"),this.props.onGutterClick&&this.shared.wire("onGutterClick"),this.props.onKeyDown&&this.shared.wire("onKeyDown"),this.props.onKeyPress&&this.shared.wire("onKeyPress"),this.props.onKeyUp&&this.shared.wire("onKeyUp"),this.props.onScroll&&this.shared.wire("onScroll"),this.props.onSelection&&this.shared.wire("onSelection"),this.props.onUpdate&&this.shared.wire("onUpdate"),this.props.onViewportChange&&this.shared.wire("onViewportChange"),this.props.editorDidMount&&this.props.editorDidMount(this.editor,this.editor.getValue(),this.initCb))},t.prototype.componentWillReceiveProps=function(e){if(!s){var t={cursor:null};e.value!==this.props.value&&(this.hydrated=!1),this.props.autoCursor||void 0===this.props.autoCursor||(t.cursor=this.editor.getCursor()),this.hydrate(e),this.shared.apply(this.props,e,t)}},t.prototype.componentWillUnmount=function(){s||this.props.editorWillUnmount&&this.props.editorWillUnmount(o)},t.prototype.shouldComponentUpdate=function(e,t){return!s},t.prototype.render=function(){var e=this;if(s)return null;var t=this.props.className?"react-codemirror2 "+this.props.className:"react-codemirror2";return a.createElement("div",{className:t,ref:function(t){return e.ref=t}})},t}(a.Component);t.Controlled=c;var f=function(e){function t(t){var n=e.call(this,t)||this;return s||(n.continueChange=!1,n.hydrated=!1,n.initCb=function(){n.props.editorDidConfigure&&n.props.editorDidConfigure(n.editor)},n.mounted=!1,n.onBeforeChangeCb=function(){n.continueChange=!0}),n}return i(t,e),t.prototype.hydrate=function(e){var t=this,n=Object.assign({},o.defaults,this.editor.options,e.options||{});if(Object.keys(n).some((function(e){return t.editor.getOption(e)!==n[e]}))&&Object.keys(n).forEach((function(r){e.options.hasOwnProperty(r)&&t.editor.getOption(r)!==n[r]&&t.editor.setOption(r,n[r])})),!this.hydrated){var r=this.editor.lastLine(),i=this.editor.getLine(this.editor.lastLine()).length;this.editor.replaceRange(e.value||"",{line:0,ch:0},{line:r,ch:i})}this.hydrated=!0},t.prototype.componentWillMount=function(){s||this.props.editorWillMount&&this.props.editorWillMount()},t.prototype.componentDidMount=function(){var e=this;s||(this.props.defineMode&&this.props.defineMode.name&&this.props.defineMode.fn&&o.defineMode(this.props.defineMode.name,this.props.defineMode.fn),this.editor=o(this.ref),this.shared=new u(this.editor,this.props),this.editor.on("beforeChange",(function(t,n){e.props.onBeforeChange&&e.props.onBeforeChange(e.editor,n,null,e.onBeforeChangeCb)})),this.editor.on("change",(function(t,n){e.mounted&&(e.props.onBeforeChange?e.continueChange&&e.props.onChange(e.editor,n,e.editor.getValue()):e.props.onChange(e.editor,n,e.editor.getValue()))})),this.hydrate(this.props),this.shared.apply(this.props),this.mounted=!0,this.props.onBlur&&this.shared.wire("onBlur"),this.props.onCursor&&this.shared.wire("onCursor"),this.props.onCursorActivity&&this.shared.wire("onCursorActivity"),this.props.onDragEnter&&this.shared.wire("onDragEnter"),this.props.onDragOver&&this.shared.wire("onDragOver"),this.props.onDrop&&this.shared.wire("onDrop"),this.props.onFocus&&this.shared.wire("onFocus"),this.props.onGutterClick&&this.shared.wire("onGutterClick"),this.props.onKeyDown&&this.shared.wire("onKeyDown"),this.props.onKeyPress&&this.shared.wire("onKeyPress"),this.props.onKeyUp&&this.shared.wire("onKeyUp"),this.props.onScroll&&this.shared.wire("onScroll"),this.props.onSelection&&this.shared.wire("onSelection"),this.props.onUpdate&&this.shared.wire("onUpdate"),this.props.onViewportChange&&this.shared.wire("onViewportChange"),this.editor.clearHistory(),this.props.editorDidMount&&this.props.editorDidMount(this.editor,this.editor.getValue(),this.initCb))},t.prototype.componentWillReceiveProps=function(e){if(!s){var t={cursor:null};e.value!==this.props.value&&(this.hydrated=!1),this.props.autoCursor||void 0===this.props.autoCursor||(t.cursor=this.editor.getCursor()),this.hydrate(e),this.shared.apply(this.props,e,t)}},t.prototype.componentWillUnmount=function(){s||this.props.editorWillUnmount&&this.props.editorWillUnmount(o)},t.prototype.shouldComponentUpdate=function(e,t){return!s},t.prototype.render=function(){var e=this;if(s)return null;var t=this.props.className?"react-codemirror2 "+this.props.className:"react-codemirror2";return a.createElement("div",{className:t,ref:function(t){return e.ref=t}})},t}(a.Component);t.UnControlled=f},74300:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CopyToClipboard=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=s(n(67294)),a=s(n(20640));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.CopyToClipboard=function(e){function t(){var e,n,r;l(this,t);for(var i=arguments.length,s=Array(i),c=0;c<i;c++)s[c]=arguments[c];return n=r=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.onClick=function(e){var t=r.props,n=t.text,i=t.onCopy,s=t.children,l=t.options,u=o.default.Children.only(s),c=(0,a.default)(n,l);i&&i(n,c),u&&u.props&&"function"==typeof u.props.onClick&&u.props.onClick(e)},u(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"render",value:function(){var e=this.props,t=(e.text,e.onCopy,e.options,e.children),n=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["text","onCopy","options","children"]),i=o.default.Children.only(t);return o.default.cloneElement(i,r({},n,{onClick:this.onClick}))}}]),t}(o.default.PureComponent)},74855:(e,t,n)=>{"use strict";var r=n(74300).CopyToClipboard;e.exports=r},40464:function(e,t,n){var r;r=function(e,t){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){e.exports=n(271)},,function(t,n){t.exports=e},function(e,t,n){e.exports=n(119)()},function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)&&r.length){var a=i.apply(null,r);a&&e.push(a)}else if("object"===o)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}void 0!==e&&e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){return"undefined"!=typeof Immutable};t.isColumnsImmutable=function(e){return r()&&e instanceof Immutable.List},t.isEmptyArray=function(e){return Array.isArray(e)&&0===e.length},t.isFunction=function(e){return e&&"[object Function]"==={}.toString.call(e)},t.isEmptyObject=function(e){return 0===Object.keys(e).length&&e.constructor===Object},t.isImmutableCollection=function(e){return r()&&Immutable.Iterable.isIterable(e)},t.getMixedTypeValueRetriever=function(e){var t={};return t.getValue=e?function(e,t){return e.get(t)}:function(e,t){return e[t]},t},t.isImmutableMap=r()?Immutable.Map.isMap:function(){return!1},t.last=function(e){if(null==e)throw new Error("arrayOrCollection is null");if(r()&&Immutable.List.isList(e))return e.last();if(Array.isArray(e))return e[e.length-1];throw new Error("Cant get last of: "+(void 0===e?"undefined":n(e)))}},function(e,t){"use strict";e.exports={getColumn:function(e,t){return Array.isArray(e)?e[t]:"undefined"!=typeof Immutable?e.get(t):void 0},spliceColumn:function(e,t,n){return Array.isArray(e.columns)?e.columns.splice(t,1,n):"undefined"!=typeof Immutable&&(e.columns=e.columns.splice(t,1,n)),e},getSize:function(e){return Array.isArray(e)?e.length:"undefined"!=typeof Immutable?e.size:void 0},canEdit:function(e,t,n){return!!e&&(null!=e.editable&&"function"==typeof e.editable?!0===n&&e.editable(t):!(!0!==n||!e.editor&&!e.editable))},getValue:function(e,t){return e.toJSON&&e.get?e.get(t):e[t]},isFrozen:function(e){return!0===e.locked||!0===e.frozen}}},,function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<t.length;i++){var a=t[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(e,t,n){var r={},i=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}},o=i((function(){return/msie [6-9]\b/.test(self.navigator.userAgent.toLowerCase())})),a=i((function(){return document.head||document.getElementsByTagName("head")[0]})),s=null,l=0,u=[];function c(e,t){for(var n=0;n<e.length;n++){var i=e[n],o=r[i.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](i.parts[a]);for(;a<i.parts.length;a++)o.parts.push(g(i.parts[a],t))}else{var s=[];for(a=0;a<i.parts.length;a++)s.push(g(i.parts[a],t));r[i.id]={id:i.id,refs:1,parts:s}}}}function f(e){for(var t=[],n={},r=0;r<e.length;r++){var i=e[r],o=i[0],a={css:i[1],media:i[2],sourceMap:i[3]};n[o]?n[o].parts.push(a):t.push(n[o]={id:o,parts:[a]})}return t}function d(e,t){var n=a(),r=u[u.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),u.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function p(e){e.parentNode.removeChild(e);var t=u.indexOf(e);t>=0&&u.splice(t,1)}function h(e){var t=document.createElement("style");return t.type="text/css",d(e,t),t}function g(e,t){var n,r,i;if(t.singleton){var o=l++;n=s||(s=h(t)),r=v.bind(null,n,o,!1),i=v.bind(null,n,o,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return t.rel="stylesheet",d(e,t),t}(t),r=x.bind(null,n),i=function(){p(n),n.href&&URL.revokeObjectURL(n.href)}):(n=h(t),r=b.bind(null,n),i=function(){p(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){void 0===(t=t||{}).singleton&&(t.singleton=o()),void 0===t.insertAt&&(t.insertAt="bottom");var n=f(e);return c(n,t),function(e){for(var i=[],o=0;o<n.length;o++){var a=n[o];(s=r[a.id]).refs--,i.push(s)}for(e&&c(f(e),t),o=0;o<i.length;o++){var s;if(0===(s=i[o]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete r[s.id]}}}};var m,y=(m=[],function(e,t){return m[e]=t,m.filter(Boolean).join("\n")});function v(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=y(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function b(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function x(e,t){var n=t.css,r=t.sourceMap;r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var i=new Blob([n],{type:"text/css"}),o=e.href;e.href=URL.createObjectURL(i),o&&URL.revokeObjectURL(o)}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DragItemTypes=t.CellExpand=t.UpdateActions=t.HeaderRowType=t.EventTypes=t.CellNavigationMode=void 0;var r,i=s(n(106)),o=s(n(107)),a=s(n(108));function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var l=(0,((r=n(112))&&r.__esModule?r:{default:r}).default)({CELL_UPDATE:null,COLUMN_FILL:null,COPY_PASTE:null,CELL_DRAG:null}),u={DOWN_TRIANGLE:String.fromCharCode(9660),RIGHT_TRIANGLE:String.fromCharCode(9654)};t.CellNavigationMode=i,t.EventTypes=o,t.HeaderRowType=a,t.UpdateActions=l,t.CellExpand=u,t.DragItemTypes={Column:"column"}},,function(e,n){e.exports=t},,,,,function(e,t,n){"use strict";var r,i=(r=n(3))&&r.__esModule?r:{default:r},o={name:i.default.node.isRequired,key:i.default.string.isRequired,width:i.default.number.isRequired,filterable:i.default.bool};e.exports=o},,,,,,,,,function(e,t){"use strict";var n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function o(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var a,s,l=o(e),u=1;u<arguments.length;u++){for(var c in a=Object(arguments[u]))r.call(a,c)&&(l[c]=a[c]);if(n){s=n(a);for(var f=0;f<s.length;f++)i.call(a,s[f])&&(l[s[f]]=a[s[f]])}}return l}},,,,function(e,t,n){"use strict";var r,i=(r=n(3))&&r.__esModule?r:{default:r};e.exports={rowKey:i.default.string.isRequired,onCellClick:i.default.func.isRequired,onCellMouseDown:i.default.func.isRequired,onCellMouseEnter:i.default.func.isRequired,onCellContextMenu:i.default.func.isRequired,onCellDoubleClick:i.default.func.isRequired,onDragEnter:i.default.func.isRequired,onRowExpandToggle:i.default.func.isRequired,onDeleteSubRow:i.default.func,onAddSubRow:i.default.func,onColumnEvent:i.default.func.isRequired,onCellExpand:i.default.func.isRequired,getCellActions:i.default.func}},,,,,function(e,t){"use strict";e.exports=function(e,t){return t.reduce((function(t,n){return n in e&&(t[n]=e[n]),t}),{})}},,,,function(e,t,n){var r=n(285);"string"==typeof r&&(r=[[e.id,r,""]]),n(9)(r,{}),r.locals&&(e.exports=r.locals)},,,function(e,t,n){"use strict";e.exports={CheckboxEditor:n(69),EditorBase:n(47),SimpleTextEditor:n(70)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return t.columns!==e.columns||e.row!==t.row||t.colOverscanStartIdx!==e.colOverscanStartIdx||t.colOverscanEndIdx!==e.colOverscanEndIdx||t.colVisibleStartIdx!==e.colVisibleStartIdx||t.colVisibleEndIdx!==e.colVisibleEndIdx||t.isSelected!==e.isSelected||t.isScrolling!==e.isScrolling||e.height!==t.height||t.isOver!==e.isOver||t.expandedRows!==e.expandedRows||t.canDrop!==e.canDrop||!0===t.forceUpdate||t.extraClasses!==e.extraClasses}},function(e,t,n){var r=n(111);"string"==typeof r&&(r=[[e.id,r,""]]),n(9)(r,{}),r.locals&&(e.exports=r.locals)},,function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=a(n(18)),o=a(n(3));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=n(2),c=n(13),f=function(e){function t(){return s(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"getStyle",value:function(){return{width:"100%"}}},{key:"getValue",value:function(){var e={};return e[this.props.column.key]=this.getInputNode().value,e}},{key:"getInputNode",value:function(){var e=c.findDOMNode(this);return"INPUT"===e.tagName?e:e.querySelector("input:not([type=hidden])")}},{key:"inheritContainerStyles",value:function(){return!0}}]),t}(u.Component);f.propTypes={onKeyDown:o.default.func.isRequired,value:o.default.any.isRequired,onBlur:o.default.func.isRequired,column:o.default.shape(i.default).isRequired,commit:o.default.func.isRequired},e.exports=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=a(n(2)),o=a(n(3));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.left,n=e.top,r=e.width;return{height:e.height,width:r,zIndex:e.zIndex,position:e.position||"absolute",pointerEvents:"none",transform:"translate("+t+"px, "+n+"px)",outline:0}},l=function(e){var t=e.width,n=e.height,o=e.top,a=e.left,l=e.zIndex,u=e.children,c=e.position,f=e.innerRef,d=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["width","height","top","left","zIndex","children","position","innerRef"]);return i.default.createElement("div",r({style:s({left:a,top:o,width:t,height:n,zIndex:l,position:c}),"data-test":"cell-mask",ref:f},d),u)};l.propTypes={width:o.default.number.isRequired,height:o.default.number.isRequired,top:o.default.number.isRequired,left:o.default.number.isRequired,zIndex:o.default.number.isRequired,children:o.default.node,innerRef:o.default.func},t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNextSelectedCellPosition=t.isSelectedCellEditable=t.getSelectedCellValue=t.getSelectedColumn=t.getSelectedRangeDimensions=t.getSelectedDimensions=t.getSelectedRow=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.canExitGrid=function(e,t){var n=t.cellNavigationMode,r=t.columns,i=t.rowsCount,a=t.selectedPosition,s=a.rowIdx,l=a.idx;if(n===o.CellNavigationMode.NONE||n===o.CellNavigationMode.CHANGE_ROW){var u=l===r.length-1,c=0===l,f=s===i-1,d=0===s;return!0===e.shiftKey?c&&d:u&&f}return!1},t.selectedRangeIsSingleCell=function(e){return e.topLeft.idx===e.bottomRight.idx&&e.topLeft.rowIdx===e.bottomRight.rowIdx};var i,o=n(11),a=n(5),s=c(n(81)),l=c(n(6)),u=(i=n(79))&&i.__esModule?i:{default:i};function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var f=function(e,t){return e*t},d=t.getSelectedRow=function(e){var t=e.selectedPosition;return(0,e.rowGetter)(t.rowIdx)},p=(t.getSelectedDimensions=function(e){var t=e.selectedPosition,n=e.columns,r=e.rowHeight,i=t.idx,o=t.rowIdx;if(i>=0){var a=l.getColumn(n,i);return{width:a.width,left:a.left,top:f(o,r),height:r,zIndex:l.isFrozen(n)?u.default.FROZEN_CELL_MASK:u.default.CELL_MASK}}return{width:0,left:0,top:0,height:r,zIndex:1}},t.getSelectedRangeDimensions=function(e){var t=e.selectedRange,n=e.columns,r=e.rowHeight,i=t.topLeft,o=t.bottomRight;if(i.idx<0)return{width:0,left:0,top:0,height:r,zIndex:u.default.CELL_MASK};var a=function(e,t,n){for(var r=0,i=!1,o=e;o<=t;o++){var a=l.getColumn(n,o);r+=a.width,i=i||l.isFrozen(a)}return{totalWidth:r,anyColFrozen:i,left:l.getColumn(n,e).left}}(i.idx,o.idx,n),s=a.totalWidth,c=a.anyColFrozen;return{width:s,left:a.left,top:f(i.rowIdx,r),height:(o.rowIdx-i.rowIdx+1)*r,zIndex:c?u.default.FROZEN_CELL_MASK:u.default.CELL_MASK}},t.getSelectedColumn=function(e){var t=e.selectedPosition,n=e.columns,r=t.idx;return l.getColumn(n,r)});t.getSelectedCellValue=function(e){var t=e.selectedPosition,n=e.columns,r=e.rowGetter,i=p({selectedPosition:t,columns:n}),o=d({selectedPosition:t,rowGetter:r});return o&&i?s.get(o,i.key):null},t.isSelectedCellEditable=function(e){var t=e.enableCellSelect,n=e.selectedPosition,i=e.columns,o=e.rowGetter,s=e.onCheckCellIsEditable,u=p({selectedPosition:n,columns:i}),c=d({selectedPosition:n,rowGetter:o}),f=!(0,a.isFunction)(s)||s(r({row:c,column:u},n));return l.canEdit(u,c,t)&&f},t.getNextSelectedCellPosition=function(e,t){var n=e.cellNavigationMode,i=e.columns,a=e.rowsCount;if(n!==o.CellNavigationMode.NONE){var s=t.idx,l=t.rowIdx,u=-1===s;if(s===i.length){if(n===o.CellNavigationMode.CHANGE_ROW){if(l!==a-1)return{idx:0,rowIdx:l+1,changeRowOrColumn:!0}}else if(n===o.CellNavigationMode.LOOP_OVER_ROW)return{rowIdx:l,idx:0,changeRowOrColumn:!0}}else if(u)if(n===o.CellNavigationMode.CHANGE_ROW){if(0!==l)return{rowIdx:l-1,idx:i.length-1,changeRowOrColumn:!0}}else if(n===o.CellNavigationMode.LOOP_OVER_ROW)return{rowIdx:l,idx:i.length-1,changeRowOrColumn:!0}}return r({},t,{changeRowOrColumn:!1})}},,,,,,,,,,function(e,t,n){var r=n(283);"string"==typeof r&&(r=[[e.id,r,""]]),n(9)(r,{}),r.locals&&(e.exports=r.locals)},,,,,,,,,,function(e,t,n){"use strict";var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=(r=n(3))&&r.__esModule?r:{default:r};function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=n(2);n(76);var u=function(e){function t(){var e,n,r;a(this,t);for(var i=arguments.length,o=Array(i),l=0;l<i;l++)o[l]=arguments[l];return n=r=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.handleChange=function(e){r.props.column.onCellChange(r.props.rowIdx,r.props.column.key,r.props.dependentValues,e)},s(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"render",value:function(){var e=null!=this.props.value&&this.props.value,t="checkbox"+this.props.rowIdx;return l.createElement("div",{className:"react-grid-checkbox-container checkbox-align",onClick:this.handleChange},l.createElement("input",{className:"react-grid-checkbox",type:"checkbox",name:t,checked:e}),l.createElement("label",{htmlFor:t,className:"react-grid-checkbox-label"}))}}]),t}(l.Component);u.propTypes={value:o.default.bool,rowIdx:o.default.number,column:o.default.shape({key:o.default.string,onCellChange:o.default.func}),dependentValues:o.default.object},e.exports=u},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var a=n(2),s=function(e){function t(){var e,n,r;i(this,t);for(var a=arguments.length,s=Array(a),l=0;l<a;l++)s[l]=arguments[l];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.setInputRef=function(e){r.input=e},o(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(){return a.createElement("input",{ref:this.setInputRef,type:"text",onBlur:this.props.onBlur,className:"form-control",defaultValue:this.props.value})}}]),t}(n(47));e.exports=s},,,,,,function(e,t,n){var r=n(110);"string"==typeof r&&(r=[[e.id,r,""]]),n(9)(r,{}),r.locals&&(e.exports=r.locals)},,,function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={CELL_MASK:5,EDITOR_CONTAINER:10,FROZEN_CELL_MASK:15,FROZEN_EDITOR_CONTAINER:20}},,function(e,t){"use strict";var n={get:function(e,t){return"function"==typeof e.get?e.get(t):e[t]},isRowSelected:function(e,t,n,r,i){return t&&"[object Array]"===Object.prototype.toString.call(t)?t.indexOf(i)>-1:e&&e.rowKey&&e.values&&"[object Array]"===Object.prototype.toString.call(e.values)?e.values.indexOf(r[e.rowKey])>-1:!(!n||!r||"string"!=typeof n)&&r[n]}};e.exports=n},function(e,t){"use strict";var n=void 0;e.exports=function(){if(void 0===n){var e=document.createElement("div");e.style.width="50px",e.style.height="50px",e.style.position="absolute",e.style.top="-200px",e.style.left="-200px";var t=document.createElement("div");t.style.height="100px",t.style.width="100%",e.appendChild(t),document.body.appendChild(e);var r=e.clientWidth;e.style.overflowY="scroll";var i=t.clientWidth;document.body.removeChild(e),n=r-i}return n}},,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(18))&&r.__esModule?r:{default:r};t.default={ExcelColumn:i.default}},,,,function(e,t,n){var r=n(109);"string"==typeof r&&(r=[[e.id,r,""]]),n(9)(r,{}),r.locals&&(e.exports=r.locals)},,function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NONE="none",t.CHANGE_ROW="changeRow",t.LOOP_OVER_ROW="loopOverRow"},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SELECT_CELL="SELECT_CELL",t.SELECT_START="SELECT_START",t.SELECT_UPDATE="SELECT_UPDATE",t.SELECT_END="SELECT_END",t.DRAG_ENTER="DRAG_ENTER",t.SCROLL_TO_COLUMN="SCROLL_TO_COLUMN"},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HEADER="header",t.FILTER="filter"},function(e,t,n){(e.exports=n(8)()).push([e.id,'.react-grid-Cell{background-color:#fff;padding-left:8px;padding-right:8px;border-right:1px solid #eee;border-bottom:1px solid #ddd}.rdg-selected{border:2px solid #66afe9}.rdg-selected-range{border:1px solid #66afe9;background-color:#66afe930}.moving-element{will-change:transform}.react-grid-Cell--frozen,.react-grid-Cell--frozen:focus{z-index:12}.rdg-last--frozen{border-right:1px solid #ddd;box-shadow:2px 0 5px -2px hsla(0,0%,53%,.3)!important}.react-contextmenu--visible{z-index:1000}.react-grid-Cell:not(.editing) .react-grid-Cell__value{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;height:inherit}.react-grid-Cell.readonly{background-color:#000}.react-grid-Cell:hover{background:#eee}.react-grid-cell .form-control-feedback{color:#a94442;position:absolute;top:0;right:10px;z-index:1000000;display:block;width:34px;height:34px}.react-grid-Row.row-selected .react-grid-Cell{background-color:#dbecfa}.react-grid-Cell.editing{padding:0;overflow:visible!important}.react-grid-Cell--frozen.editing{z-index:100}.react-grid-Cell.editing .has-error input{border:2px solid red!important;border-radius:2px!important}.react-grid-Cell__value ul{margin-top:0;margin-bottom:0;display:inline-block}.react-grid-Cell__value .btn-sm{padding:0}.cell-tooltip{position:relative;display:inline-block}.cell-tooltip:hover{z-index:101}.cell-tooltip .cell-tooltip-text{visibility:hidden;width:150px;background-color:#000;color:#fff;text-align:center;border-radius:6px;padding:5px 0;position:absolute;z-index:1;bottom:-150%;left:50%;margin-left:-60px;opacity:1s}.cell-tooltip:hover .cell-tooltip-text{visibility:visible;opacity:.8}.cell-tooltip .cell-tooltip-text:after{content:" ";position:absolute;bottom:100%;left:50%;margin-left:-5px;border-width:5px;border-style:solid;border-color:transparent transparent #000}.react-grid-Canvas.opaque .react-grid-Cell.cell-tooltip:hover .cell-tooltip-text{visibility:hidden}.rdg-cell-expand{float:right;display:table;height:100%}.rdg-cell-expand>span{display:table-cell;vertical-align:middle;cursor:pointer}.rdg-child-row-action-cross-last:before,.rdg-child-row-action-cross:before,rdg-child-row-action-cross-last:after,rdg-child-row-action-cross:after{content:"";position:absolute;background:grey;height:50%}.rdg-child-row-action-cross:before{left:21px;width:1px;height:100%}.rdg-child-row-action-cross-last:before{left:21px;width:1px}.rdg-child-row-action-cross-last:after,.rdg-child-row-action-cross:after{top:50%;left:20px;height:1px;width:15px;content:"";position:absolute;background:grey}.rdg-child-row-action-cross:hover{background:red}.rdg-child-row-btn{position:absolute;cursor:pointer;border:1px solid grey;border-radius:14px;z-index:3;background:#fff}.rdg-child-row-btn div{font-size:12px;text-align:center;line-height:19px;color:grey;height:20px;width:20px;position:absolute;top:60%;left:53%;margin-top:-10px;margin-left:-10px}.rdg-empty-child-row:hover .glyphicon-plus-sign,.rdg-empty-child-row:hover a{color:green}.rdg-child-row-btn .glyphicon-remove-sign:hover{color:red}.last-column .cell-tooltip-text{right:100%;left:0!important}.rdg-cell-action{float:right;height:100%}.rdg-cell-action-last{margin-right:-8px}.rdg-cell-action-button{width:35px;height:100%;text-align:center;position:relative;display:table;color:#4a9de2}.rdg-cell-action-button>span{display:table-cell;vertical-align:middle}.rdg-cell-action-button-toggled,.rdg-cell-action-button:hover{color:#447bbb}.rdg-cell-action-menu{position:absolute;top:100%;z-index:1000;float:left;min-width:160px;padding:5px 0;text-align:left;list-style:none;background-color:#fff;-webkit-background-clip:padding-box;background-clip:padding-box;border:1px solid #ccc;box-shadow:0 0 3px 0 #ccc}.rdg-cell-action-menu>span{display:block;padding:3px 10px;clear:both;font-weight:400;line-height:1.42857143;color:#333;white-space:nowrap}.rdg-cell-action-menu>span:hover{color:#262626;text-decoration:none;background-color:#f5f5f5}',""])},function(e,t,n){(e.exports=n(8)()).push([e.id,'.radio-custom,.react-grid-checkbox{opacity:0;position:absolute}.radio-custom,.radio-custom-label,.react-grid-checkbox,.react-grid-checkbox-label{display:inline-block;vertical-align:middle;cursor:pointer}.radio-custom-label,.react-grid-checkbox-label{position:relative}.radio-custom+.radio-custom-label:before,.react-grid-checkbox+.react-grid-checkbox-label:before{content:"";background:#fff;border:2px solid #ddd;display:inline-block;vertical-align:middle;width:20px;height:20px;text-align:center}.react-grid-checkbox:checked+.react-grid-checkbox-label:before{background:#005295;box-shadow:inset 0 0 0 4px #fff}.radio-custom:focus+.radio-custom-label,.react-grid-checkbox:focus+.react-grid-checkbox-label{outline:1px solid #ddd}.react-grid-HeaderCell input[type=checkbox]{z-index:99999}.react-grid-HeaderCell>.react-grid-checkbox-container{padding:0 10px;height:100%}.react-grid-HeaderCell>.react-grid-checkbox-container>.react-grid-checkbox-label{margin:0;position:relative;top:50%;transform:translateY(-50%)}.radio-custom+.radio-custom-label:before{border-radius:50%}.radio-custom:checked+.radio-custom-label:before{background:#ccc;box-shadow:inset 0 0 0 4px #fff}.checkbox-align{text-align:center}',""])},function(e,t,n){(e.exports=n(8)()).push([e.id,'.react-grid-Row.row-context-menu .react-grid-Cell,.react-grid-Row:hover .react-grid-Cell{background-color:#f9f9f9}.react-grid-Row:hover .rdg-row-index{display:none}.react-grid-Row:hover .rdg-actions-checkbox{display:block}.react-grid-Row:hover .rdg-drag-row-handle{cursor:move;cursor:grab;cursor:-moz-grab;cursor:-webkit-grab;width:12px;height:30px;margin-left:0;background-image:url("data:image/svg+xml;base64, PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjlweCIgaGVpZ2h0PSIyOXB4IiB2aWV3Qm94PSIwIDAgOSAyOSIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggMzkgKDMxNjY3KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5kcmFnIGljb248L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZGVmcz48L2RlZnM+CiAgICA8ZyBpZD0iQWN0dWFsaXNhdGlvbi12MiIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9IkRlc2t0b3AiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xNS4wMDAwMDAsIC0yNjIuMDAwMDAwKSIgZmlsbD0iI0Q4RDhEOCI+CiAgICAgICAgICAgIDxnIGlkPSJJbnRlcmFjdGlvbnMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE1LjAwMDAwMCwgMjU4LjAwMDAwMCkiPgogICAgICAgICAgICAgICAgPGcgaWQ9IlJvdy1Db250cm9scyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDIuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICAgICAgPGcgaWQ9ImRyYWctaWNvbiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDIuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxjaXJjbGUgaWQ9Ik92YWwtMzAiIGN4PSIyIiBjeT0iMiIgcj0iMiI+PC9jaXJjbGU+CiAgICAgICAgICAgICAgICAgICAgICAgIDxjaXJjbGUgaWQ9Ik92YWwtMzAiIGN4PSI3IiBjeT0iMiIgcj0iMiI+PC9jaXJjbGU+CiAgICAgICAgICAgICAgICAgICAgICAgIDxjaXJjbGUgaWQ9Ik92YWwtMzAiIGN4PSIyIiBjeT0iNyIgcj0iMiI+PC9jaXJjbGU+CiAgICAgICAgICAgICAgICAgICAgICAgIDxjaXJjbGUgaWQ9Ik92YWwtMzAiIGN4PSI3IiBjeT0iNyIgcj0iMiI+PC9jaXJjbGU+CiAgICAgICAgICAgICAgICAgICAgICAgIDxjaXJjbGUgaWQ9Ik92YWwtMzAiIGN4PSIyIiBjeT0iMTIiIHI9IjIiPjwvY2lyY2xlPgogICAgICAgICAgICAgICAgICAgICAgICA8Y2lyY2xlIGlkPSJPdmFsLTMwIiBjeD0iNyIgY3k9IjEyIiByPSIyIj48L2NpcmNsZT4KICAgICAgICAgICAgICAgICAgICAgICAgPGNpcmNsZSBpZD0iT3ZhbC0zMCIgY3g9IjIiIGN5PSIxNyIgcj0iMiI+PC9jaXJjbGU+CiAgICAgICAgICAgICAgICAgICAgICAgIDxjaXJjbGUgaWQ9Ik92YWwtMzAiIGN4PSI3IiBjeT0iMTciIHI9IjIiPjwvY2lyY2xlPgogICAgICAgICAgICAgICAgICAgICAgICA8Y2lyY2xlIGlkPSJPdmFsLTMwIiBjeD0iMiIgY3k9IjIyIiByPSIyIj48L2NpcmNsZT4KICAgICAgICAgICAgICAgICAgICAgICAgPGNpcmNsZSBpZD0iT3ZhbC0zMCIgY3g9IjciIGN5PSIyMiIgcj0iMiI+PC9jaXJjbGU+CiAgICAgICAgICAgICAgICAgICAgICAgIDxjaXJjbGUgaWQ9Ik92YWwtMzAiIGN4PSIyIiBjeT0iMjciIHI9IjIiPjwvY2lyY2xlPgogICAgICAgICAgICAgICAgICAgICAgICA8Y2lyY2xlIGlkPSJPdmFsLTMwIiBjeD0iNyIgY3k9IjI3IiByPSIyIj48L2NpcmNsZT4KICAgICAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==");background-repeat:no-repeat}.react-grid-Row.row-selected,.react-grid-Row .row-selected{background-color:#dbecfa}.react-grid-row-group .row-expand-icon:hover{color:#777}.react-grid-row-index{padding:0 18px}.rdg-row-index{display:block;text-align:center}.rdg-row-actions-cell{padding:0}.rdg-actions-checkbox{display:none;text-align:center}.rdg-actions-checkbox.selected{display:block}.rdg-dragging{cursor:-webkit-grabbing;cursor:-moz-grabbing;cursor:grabbing}.rdg-dragged-row{border-bottom:1px solid #000}.rdg-scrolling{pointer-events:none}',""])},function(e,t){"use strict";e.exports=function(e){var t,n={};if(!(e instanceof Object)||Array.isArray(e))throw new Error("keyMirror(...): Argument must be an object.");for(t in e)e.hasOwnProperty(t)&&(n[t]=t);return n}},,,,,,,function(e,t,n){"use strict";var r=n(120);function i(){}e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=i,n.PropTypes=n,n}},function(e,t){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},,,,,function(e,t,n){"use strict";var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=(r=n(3))&&r.__esModule?r:{default:r};function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=n(2),u=n(4),c={ASC:"ASC",DESC:"DESC",NONE:"NONE"},f=function(e){function t(){var e,n,r;a(this,t);for(var i=arguments.length,o=Array(i),l=0;l<i;l++)o[l]=arguments[l];return n=r=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.onClick=function(){var e=void 0,t=r.props,n=t.sortDirection,i=t.sortDescendingFirst;switch(n){default:case null:case void 0:case c.NONE:e=i?c.DESC:c.ASC;break;case c.ASC:e=i?c.NONE:c.DESC;break;case c.DESC:e=i?c.ASC:c.NONE}r.props.onSort(r.props.columnKey,e)},r.getSortByText=function(){return"NONE"===r.props.sortDirection?"":String.fromCharCode({ASC:"9650",DESC:"9660"}[r.props.sortDirection])},s(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"render",value:function(){var e=u({"react-grid-HeaderCell-sortable":!0,"react-grid-HeaderCell-sortable--ascending":"ASC"===this.props.sortDirection,"react-grid-HeaderCell-sortable--descending":"DESC"===this.props.sortDirection}),t=this.props.headerRenderer?l.cloneElement(this.props.headerRenderer,this.props):this.props.column.name;return l.createElement("div",{className:e,onClick:this.onClick,style:{cursor:"pointer"}},l.createElement("span",{className:"pull-right"},this.getSortByText()),t)}}]),t}(l.Component);f.propTypes={columnKey:o.default.string.isRequired,column:o.default.shape({name:o.default.node}),onSort:o.default.func.isRequired,sortDirection:o.default.oneOf(Object.keys(c)),headerRenderer:o.default.node,sortDescendingFirst:o.default.bool},e.exports=f,e.exports.DEFINE_SORT=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(3))&&r.__esModule?r:{default:r},o={icon:i.default.oneOfType([i.default.string,i.default.element]).isRequired,callback:i.default.func,actions:i.default.arrayOf(i.default.shape({text:i.default.string,callback:i.default.func}))};t.default=o},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isKeyPrintable=function(e){return e>47&&e<58||32===e||13===e||e>64&&e<91||e>95&&e<112||e>185&&e<193||e>218&&e<223},t.isCtrlKeyHeldDown=function(e){return(!0===e.ctrlKey||!0===e.metaKey)&&"Control"!==e.key}},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=p(n(3)),a=p(n(18)),s=n(5),l=p(n(31)),u=p(n(254)),c=p(n(255)),f=p(n(256)),d=p(n(6));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=n(2),y=n(4),v=n(138),b=n(36);n(104);var x=["height","value"],_=function(e){function t(){var e,n,i;h(this,t);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=i=g(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),i.state={isCellValueChanging:!1,isLockChanging:!1},i.onCellClick=function(){var e=i.props,t=e.idx,n=e.rowIdx,r=e.cellMetaData;(0,s.isFunction)(r.onCellClick)&&r.onCellClick({idx:t,rowIdx:n})},i.onCellMouseDown=function(){var e=i.props,t=e.idx,n=e.rowIdx,r=e.cellMetaData;(0,s.isFunction)(r.onCellMouseDown)&&r.onCellMouseDown({idx:t,rowIdx:n})},i.onCellMouseEnter=function(){var e=i.props,t=e.idx,n=e.rowIdx,r=e.cellMetaData;(0,s.isFunction)(r.onCellMouseEnter)&&r.onCellMouseEnter({idx:t,rowIdx:n})},i.onCellContextMenu=function(){var e=i.props,t=e.idx,n=e.rowIdx,r=e.cellMetaData;(0,s.isFunction)(r.onCellContextMenu)&&r.onCellContextMenu({idx:t,rowIdx:n})},i.onCellDoubleClick=function(e){e.stopPropagation();var t=i.props,n=t.idx,r=t.rowIdx,o=t.cellMetaData;(0,s.isFunction)(o.onCellDoubleClick)&&o.onCellDoubleClick({idx:n,rowIdx:r})},i.onCellExpand=function(e){e.stopPropagation();var t=i.props.cellMetaData;null!=t&&null!=t.onCellExpand&&t.onCellExpand({rowIdx:i.props.rowIdx,idx:i.props.idx,rowData:i.props.rowData,expandArgs:i.props.expandableOptions})},i.onCellKeyDown=function(e){i.canExpand()&&"Enter"===e.key&&i.onCellExpand(e)},i.onDeleteSubRow=function(){var e=i.props.cellMetaData;null!=e&&null!=e.onDeleteSubRow&&e.onDeleteSubRow({rowIdx:i.props.rowIdx,idx:i.props.idx,rowData:i.props.rowData,expandArgs:i.props.expandableOptions})},i.onDragOver=function(e){e.preventDefault()},i.getStyle=function(){return{position:"absolute",width:i.props.column.width,height:i.props.height,left:i.props.column.left}},i.getFormatter=function(){return i.props.column.formatter},i.getRowData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.props;return e.rowData.toJSON?e.rowData.toJSON():e.rowData},i.getFormatterDependencies=function(){if("function"==typeof i.props.column.getRowMetaData)return i.props.column.getRowMetaData(i.getRowData(),i.props.column)},i.getCellClass=function(){var e=i.props,t=e.idx,n=e.lastFrozenColumnIndex,r=y(i.props.column.cellClass,"react-grid-Cell",i.props.className,d.default.isFrozen(i.props.column)?"react-grid-Cell--frozen":null,n===t?"rdg-last--frozen":null),o=y({"row-selected":i.props.isRowSelected,editing:i.isEditorEnabled(),"cell-tooltip":!!i.props.tooltip,"rdg-child-cell":i.props.expandableOptions&&i.props.expandableOptions.subRowDetails&&i.props.expandableOptions.treeDepth>0,"last-column":i.props.column.isLastColumn});return y(r,o)},i.getUpdateCellClass=function(){return i.props.column.getUpdateCellClass?i.props.column.getUpdateCellClass(i.props.selectedColumn,i.props.column,i.state.isCellValueChanging):""},i.isEditorEnabled=function(){return!0===i.props.isEditorEnabled},i.setScrollLeft=function(e){var t=i.node;if(t){var n="translate3d("+e+"px, 0px, 0px)";t.style.webkitTransform=n,t.style.transform=n}},i.removeScroll=function(){var e=i.node;e&&(e.style.webkitTransform=null,e.style.transform=null)},i.canExpand=function(){return i.props.expandableOptions&&i.props.expandableOptions.canExpand},i.createColumEventCallBack=function(e,t){return function(n){e(n,t)}},i.createCellEventCallBack=function(e,t){return function(n){e(n),t(n)}},i.createEventDTO=function(e,t,n){var r=Object.assign({},e);for(var o in t)if(t.hasOwnProperty(o)){var a={idx:i.props.idx,rowIdx:i.props.rowIdx,rowId:i.props.rowData[i.props.cellMetaData.rowKey],name:o},s=i.createColumEventCallBack(n,a);if(r.hasOwnProperty(o)){var l=r[o];r[o]=i.createCellEventCallBack(l,s)}else r[o]=s}return r},i.getEvents=function(){var e=i.props.column?Object.assign({},i.props.column.events):void 0,t=i.props.cellMetaData?i.props.cellMetaData.onColumnEvent:void 0,n={onClick:i.onCellClick,onMouseDown:i.onCellMouseDown,onMouseEnter:i.onCellMouseEnter,onDoubleClick:i.onCellDoubleClick,onContextMenu:i.onCellContextMenu,onDragOver:i.onDragOver};return e&&t?i.createEventDTO(n,e,t):n},i.getKnownDivProps=function(){return b(i.props,x)},i.setCellRef=function(e){i.node=e},i.renderCellContent=function(e){var t,n=i.getFormatter();t=m.isValidElement(n)?m.cloneElement(n,r({},e,{dependentValues:i.getFormatterDependencies(),row:i.getRowData()})):(0,s.isFunction)(n)?m.createElement(n,{value:i.props.value,dependentValues:i.getFormatterDependencies(),isScrolling:i.props.isScrolling,row:i.getRowData()}):m.createElement(v,{value:i.props.value});var o=!!i.props.expandableOptions&&i.props.expandableOptions.field===i.props.column.key,a=i.props.expandableOptions?i.props.expandableOptions.treeDepth:0,l=i.props.expandableOptions&&o?30*i.props.expandableOptions.treeDepth:0,u=void 0,c=!!i.props.cellMetaData.onDeleteSubRow;return a>0&&o&&(u=m.createElement(f.default,{treeDepth:a,cellHeight:i.props.height,siblingIndex:i.props.expandableOptions.subRowDetails.siblingIndex,numberSiblings:i.props.expandableOptions.subRowDetails.numberSiblings,onDeleteSubRow:i.onDeleteSubRow,isDeleteSubRowEnabled:c})),m.createElement("div",{className:"react-grid-Cell__value"},u,m.createElement("div",{style:{marginLeft:l,position:"relative",top:"50%",transform:"translateY(-50%)"}},m.createElement("span",null,t),i.props.cellControls))},g(i,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({isCellValueChanging:this.props.isCellValueChanging(this.props.value,e.value),isLockChanging:d.default.isFrozen(this.props.column)!==d.default.isFrozen(e.column)})}},{key:"componentDidMount",value:function(){this.checkScroll()}},{key:"componentDidUpdate",value:function(){this.state.isLockChanging&&!d.default.isFrozen(this.props.column)&&this.removeScroll()}},{key:"checkScroll",value:function(){var e=this.props,t=e.scrollLeft,n=e.column,r=this.node;d.default.isFrozen(n)&&r&&null!=r.style.transform&&this.setScrollLeft(t)}},{key:"getCellActions",value:function(){var e=this.props,t=e.cellMetaData,n=e.column,r=e.rowData;if(t&&t.getCellActions){var i=t.getCellActions(n,r);return i&&i.length?i.map((function(e,t){return m.createElement(u.default,{key:t,action:e,isFirst:0===t})})):null}return null}},{key:"render",value:function(){if(this.props.column.hidden)return null;var e=this.getStyle(),t=this.getCellClass(),n=this.getCellActions(),i=this.props,o=i.value,a=i.column,s=i.rowIdx,l=i.isExpanded,u=i.isScrolling,f=this.props.children||this.renderCellContent({value:o,column:a,rowIdx:s,isExpanded:l,isScrolling:u}),d=this.getEvents(),p=this.props.tooltip?m.createElement("span",{className:"cell-tooltip-text"},this.props.tooltip):null,h=this.canExpand()&&m.createElement(c.default,{expandableOptions:this.props.expandableOptions,onCellExpand:this.onCellExpand});return m.createElement("div",r({},this.getKnownDivProps(),{className:t,style:e},d,{ref:this.setCellRef}),n,h,f,p)}}]),t}(m.PureComponent);_.propTypes={rowIdx:o.default.number.isRequired,idx:o.default.number.isRequired,isSelected:o.default.bool,wasPreviouslySelected:o.default.bool,isEditorEnabled:o.default.bool,selectedColumn:o.default.object,height:o.default.number,column:o.default.shape(a.default).isRequired,value:o.default.oneOfType([o.default.string,o.default.number,o.default.object,o.default.bool]),isExpanded:o.default.bool,isRowSelected:o.default.bool,cellMetaData:o.default.shape(l.default).isRequired,handleDragStart:o.default.func,className:o.default.string,cellControls:o.default.any,rowData:o.default.object.isRequired,forceUpdate:o.default.bool,expandableOptions:o.default.object.isRequired,tooltip:o.default.string,isScrolling:o.default.bool,isCellValueChanging:o.default.func,children:o.default.oneOfType([o.default.arrayOf(o.default.node),o.default.node]),scrollLeft:o.default.number.isRequired},_.defaultProps={isExpanded:!1,value:"",isCellValueChanging:function(e,t){return e!==t}},t.default=_},function(e,t,n){"use strict";var r=n(5),i=n(140),o=n(257),a=n(6),s=n(82),l=function(e){return e.reduce((function(e,t){return e+t.width}),0)};function u(e){var t=function(e,t){return e.map((function(e){var n=Object.assign({},e);return e.width&&/^([0-9]+)%$/.exec(e.width.toString())&&(n.width=Math.floor(e.width/100*t)),n}))}(e.columns,e.totalWidth),n=t.filter((function(e){return e.width})).reduce((function(e,t){return e-t.width}),e.totalWidth);n-=s();var r=t.filter((function(e){return e.width})).reduce((function(e,t){return e+t.width}),0),i=(t=function(e){var t=0;return e.map((function(e){return e.left=t,t+=e.width,e}))}(t=function(e,t,n){var r=e.filter((function(e){return!e.width}));return e.map((function(e){if(!e.width&&0!==e.width)if(t<=0)e.width=n;else{var i=Math.floor(t/a.getSize(r));e.width=i<n?n:i}return e}))}(t,n,e.minColumnWidth))).filter((function(e){return a.isFrozen(e)})),o=t.filter((function(e){return!a.isFrozen(e)}));return{columns:t=i.concat(o).map((function(e,t){return e.idx=t,e})),width:r,totalWidth:e.totalWidth,totalColumnWidth:l(t),minColumnWidth:e.minColumnWidth}}e.exports={recalculate:u,resizeColumn:function(e,t,n){var r=a.getColumn(e.columns,t),o=i(e);o.columns=e.columns.slice(0);var s=i(r);return s.width=Math.max(n,o.minColumnWidth),u(o=a.spliceColumn(o,t,s))},sameColumn:o,sameColumns:function(e,t,n){return function(e,t){return(0,r.isColumnsImmutable)(e)&&(0,r.isColumnsImmutable)(t)}(e,t)?e===t:function(e,t,n){var r=void 0,i=void 0,o=void 0,s={},l={};if(a.getSize(e)!==a.getSize(t))return!1;for(r=0,i=a.getSize(e);r<i;r++)s[(o=e[r]).key]=o;for(r=0,i=a.getSize(t);r<i;r++){l[(o=t[r]).key]=o;var u=s[o.key];if(void 0===u||!n(u,o))return!1}for(r=0,i=a.getSize(e);r<i;r++)if(void 0===l[(o=e[r]).key])return!1;return!0}(e,t,n)}}},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=f(n(2)),o=f(n(13)),a=f(n(3)),s=f(n(4)),l=f(n(18)),u=f(n(6)),c=n(11);function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=n(265);n(40);var g=function(e){function t(){var e,n,r;d(this,t);for(var a=arguments.length,s=Array(a),l=0;l<a;l++)s[l]=arguments[l];return n=r=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.state={resizing:!1},r.onDragStart=function(e){r.setState({resizing:!0}),e&&e.dataTransfer&&e.dataTransfer.setData&&e.dataTransfer.setData("text/plain","dummy")},r.onDrag=function(e){var t=r.props.onResize||null;if(t){var n=r.getWidthFromMouseEvent(e);n>0&&t(r.props.column,n)}},r.onDragEnd=function(e){var t=r.getWidthFromMouseEvent(e);r.props.onResizeEnd(r.props.column,t),r.setState({resizing:!1})},r.getWidthFromMouseEvent=function(e){return(e.pageX||e.touches&&e.touches[0]&&e.touches[0].pageX||e.changedTouches&&e.changedTouches[e.changedTouches.length-1].pageX)-o.default.findDOMNode(r).getBoundingClientRect().left},r.getCell=function(){var e=r.props,t=e.height,n=e.column,o=e.renderer;return i.default.isValidElement(o)?"string"==typeof r.props.renderer.type?i.default.cloneElement(o,{height:t}):i.default.cloneElement(o,{column:n,height:t}):r.props.renderer({column:n})},r.getStyle=function(){return{width:r.props.column.width,left:r.props.column.left,display:"inline-block",position:"absolute",height:r.props.height,margin:0,textOverflow:"ellipsis",whiteSpace:"nowrap"}},r.setScrollLeft=function(e){var t=o.default.findDOMNode(r);t&&(t.style.webkitTransform="translate3d("+e+"px, 0px, 0px)",t.style.transform="translate3d("+e+"px, 0px, 0px)")},r.removeScroll=function(){var e=o.default.findDOMNode(r);if(e){var t="none";e.style.webkitTransform=t,e.style.transform=t}},p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(){var e=this.props,t=e.column,n=e.rowType,r=t.resizable&&i.default.createElement(h,{onDrag:this.onDrag,onDragStart:this.onDragStart,onDragEnd:this.onDragEnd}),o=(0,s.default)({"react-grid-HeaderCell":!0,"react-grid-HeaderCell--resizing":this.state.resizing,"react-grid-HeaderCell--frozen":u.default.isFrozen(t)},this.props.className,t.cellClass),a=i.default.createElement("div",{className:o,style:this.getStyle()},this.getCell(),r);if(n===c.HeaderRowType.HEADER&&t.draggable){var l=this.props.draggableHeaderCell;return i.default.createElement(l,{column:t,onHeaderDrop:this.props.onHeaderDrop},a)}return a}}]),t}(i.default.Component);g.propTypes={renderer:a.default.oneOfType([a.default.func,a.default.element]).isRequired,column:a.default.shape(l.default).isRequired,rowType:a.default.string.isRequired,height:a.default.number.isRequired,onResize:a.default.func.isRequired,onResizeEnd:a.default.func.isRequired,onHeaderDrop:a.default.func,draggableHeaderCell:a.default.element,className:a.default.string},g.defaultProps={renderer:function(e){var t="header"===e.column.rowType?e.column.name:"";return i.default.createElement("div",{className:"widget-HeaderCell__value"},t)}},e.exports=g},function(e,t){"use strict";e.exports={Backspace:8,Tab:9,Enter:13,Shift:16,Ctrl:17,Alt:18,PauseBreak:19,CapsLock:20,Escape:27,PageUp:33,PageDown:34,End:35,Home:36,LeftArrow:37,UpArrow:38,RightArrow:39,DownArrow:40,Insert:45,Delete:46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,LeftWindowKey:91,RightWindowKey:92,SelectKey:93,NumPad0:96,NumPad1:97,NumPad2:98,NumPad3:99,NumPad4:100,NumPad5:101,NumPad6:102,NumPad7:103,NumPad8:104,NumPad9:105,Multiply:106,Add:107,Subtract:109,DecimalPoint:110,Divide:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F12:123,NumLock:144,ScrollLock:145,SemiColon:186,EqualSign:187,Comma:188,Dash:189,Period:190,ForwardSlash:191,GraveAccent:192,OpenBracket:219,BackSlash:220,CloseBracket:221,SingleQuote:222}},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=p(n(44)),a=p(n(2)),s=p(n(3)),l=p(n(4)),u=p(n(132)),c=p(n(31)),f=p(n(36)),d=p(n(6));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}n(45);var m=["height"],y=function(e){function t(){var e,n,i;h(this,t);for(var o=arguments.length,s=Array(o),l=0;l<o;l++)s[l]=arguments[l];return n=i=g(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),i.handleDragEnter=function(e){e.preventDefault();var t=i.props,n=t.idx;(0,t.cellMetaData.onDragEnter)({overRowIdx:n})},i.handleDragOver=function(e){e.preventDefault(),e.dataTransfer.dropEffect="copy"},i.handleDrop=function(e){e.preventDefault()},i.getCell=function(e){var t=i.props.cellRenderer,n=i.props,o=n.idx,s=n.cellMetaData,l=n.isScrolling,u=n.row,c=n.isSelected,f=n.scrollLeft,d=n.lastFrozenColumnIndex,p=e.key,h=e.formatter,g={key:p+"-"+o,idx:e.idx,rowIdx:o,height:i.getRowHeight(),column:e,cellMetaData:s},m={ref:function(e){i[p]=e},value:i.getCellValue(p||e.idx),rowData:u,isRowSelected:c,expandableOptions:i.getExpandableOptions(p),formatter:h,isScrolling:l,scrollLeft:f,lastFrozenColumnIndex:d};return a.default.createElement(t,r({},g,m))},i.getCells=function(){var e=i.props,t=e.colOverscanStartIdx,n=e.colOverscanEndIdx,r=e.columns,o=r.filter((function(e){return d.default.isFrozen(e)})),a=r.slice(t,n+1).filter((function(e){return!d.default.isFrozen(e)}));return o.concat(a).map((function(e){return i.getCell(e)}))},i.getRowHeight=function(){var e=i.props.expandedRows||null;if(e&&i.props.idx){var t=e[i.props.idx]||null;if(t)return t.height}return i.props.height},i.getCellValue=function(e){return"select-row"===e?i.props.isSelected:"function"==typeof i.props.row.get?i.props.row.get(e):i.props.row[e]},i.getExpandableOptions=function(e){var t=i.props.subRowDetails;return t?{canExpand:t&&t.field===e&&(t.children&&t.children.length>0||!0===t.group),field:t.field,expanded:t&&t.expanded,children:t&&t.children,treeDepth:t?t.treeDepth:0,subRowDetails:t}:{}},i.setScrollLeft=function(e){i.props.columns.forEach((function(t){if(d.default.isFrozen(t)){if(!i[t.key])return;i[t.key].setScrollLeft(e)}}))},i.getKnownDivProps=function(){return(0,f.default)(i.props,m)},g(i,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"shouldComponentUpdate",value:function(e){return(0,o.default)(e,this.props)}},{key:"render",value:function(){var e=(0,l.default)("react-grid-Row","react-grid-Row--"+(this.props.idx%2==0?"even":"odd"),{"row-selected":this.props.isSelected},this.props.extraClasses,{"rdg-scrolling":this.props.isScrolling}),t={height:this.getRowHeight(this.props),overflow:"hidden"},n=this.getCells();return a.default.createElement("div",r({},this.getKnownDivProps(),{className:e,style:t,onDragEnter:this.handleDragEnter,onDragOver:this.handleDragOver,onDrop:this.handleDrop}),a.default.isValidElement(this.props.row)?this.props.row:n)}}]),t}(a.default.Component);y.displayName="Row",y.propTypes={height:s.default.number.isRequired,columns:s.default.oneOfType([s.default.object,s.default.array]).isRequired,row:s.default.any.isRequired,cellRenderer:s.default.func,cellMetaData:s.default.shape(c.default),isSelected:s.default.bool,idx:s.default.number.isRequired,expandedRows:s.default.arrayOf(s.default.object),extraClasses:s.default.string,forceUpdate:s.default.bool,subRowDetails:s.default.object,isRowHovered:s.default.bool,colVisibleStartIdx:s.default.number.isRequired,colVisibleEndIdx:s.default.number.isRequired,colOverscanStartIdx:s.default.number.isRequired,colOverscanEndIdx:s.default.number.isRequired,isScrolling:s.default.bool.isRequired,scrollLeft:s.default.number,lastFrozenColumnIndex:s.default.number},y.defaultProps={cellRenderer:u.default,isSelected:!1,height:35},e.exports=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(2)),i=o(n(3));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(e){return r.default.createElement("div",{className:"react-grid-checkbox-container checkbox-align"},r.default.createElement("input",{className:"react-grid-checkbox",type:"checkbox",name:"select-all-checkbox",id:"select-all-checkbox",ref:e.inputRef,onChange:e.onChange}),r.default.createElement("label",{htmlFor:"select-all-checkbox",className:"react-grid-checkbox-label"}))};a.propTypes={onChange:i.default.func,inputRef:i.default.func},t.default=a},function(e,t,n){"use strict";var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=(r=n(3))&&r.__esModule?r:{default:r};function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=n(2),u=function(e){function t(){return a(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"shouldComponentUpdate",value:function(e){return e.value!==this.props.value}},{key:"render",value:function(){return l.createElement("div",{title:this.props.value},this.props.value)}}]),t}(l.Component);u.propTypes={value:o.default.oneOfType([o.default.string,o.default.number,o.default.object,o.default.bool])},e.exports=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InteractionMasks=t.EventBus=void 0;var r=o(n(275)),i=o(n(276));function o(e){return e&&e.__esModule?e:{default:e}}t.EventBus=r.default,t.InteractionMasks=i.default},function(e,t){"use strict";e.exports=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=s(n(2)),o=s(n(18)),a=s(n(3));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var e,n,r;l(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={filterTerm:""},r.handleChange=function(e){var t=e.target.value;r.setState({filterTerm:t}),r.props.onChange({filterTerm:t,column:r.props.column})},r.renderInput=function(){if(!1===r.props.column.filterable)return i.default.createElement("span",null);var e="header-filter-"+r.props.column.key;return i.default.createElement("input",{key:e,type:"text",className:"form-control input-sm",placeholder:"Search",value:r.state.filterTerm,onChange:r.handleChange})},u(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(){return i.default.createElement("div",null,i.default.createElement("div",{className:"form-group"},this.renderInput()))}}]),t}(i.default.Component);c.propTypes={onChange:a.default.func.isRequired,column:a.default.shape(o.default)},e.exports=c},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=d(n(2)),a=d(n(3)),s=d(n(4)),l=d(n(70)),u=n(5),c=n(127),f=d(n(79));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}n(59);var g=function(e){return!0===e.frozen||!0===e.locked},m=function(e){function t(){var e,n,r;p(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),y.call(r),h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){var e=this.getInputNode();void 0!==e&&(this.setTextInputFocus(),this.getEditor().disableContainerStyles||(e.className+=" editor-main",e.style.height=this.props.height-1+"px")),window.addEventListener("scroll",this.setContainerPosition)}},{key:"componentDidUpdate",value:function(e){e.scrollLeft===this.props.scrollLeft&&e.scrollTop===this.props.scrollTop||this.commitCancel()}},{key:"componentWillUnmount",value:function(){this.changeCommitted||this.changeCanceled||this.commit({key:"Enter"}),window.removeEventListener("scroll",this.setContainerPosition)}},{key:"render",value:function(){var e=this.props,t=e.width,n=e.height,r=e.column,i={position:"fixed",height:n,width:t,zIndex:g(r)?f.default.FROZEN_EDITOR_CONTAINER:f.default.EDITOR_CONTAINER,transform:this.calculateTransform()};return o.default.createElement("div",{ref:this.setContainerRef,style:i,className:this.getContainerClass(),onBlur:this.handleBlur,onKeyDown:this.onKeyDown,onContextMenu:this.handleRightClick},this.createEditor(),this.renderStatusIcon())}}]),t}(o.default.Component);m.displayName="EditorContainer",m.propTypes={rowIdx:a.default.number,rowData:a.default.object.isRequired,value:a.default.oneOfType([a.default.string,a.default.number,a.default.object,a.default.bool]).isRequired,column:a.default.object.isRequired,height:a.default.number.isRequired,onGridKeyDown:a.default.func,onCommit:a.default.func,onCommitCancel:a.default.func,firstEditorKeyPress:a.default.string,width:a.default.number,top:a.default.number,left:a.default.number,scrollLeft:a.default.number,scrollTop:a.default.number};var y=function(){var e=this;this.state={isInvalid:!1},this.changeCommitted=!1,this.changeCanceled=!1,this.setContainerPosition=function(){e.container&&(e.container.style.transform=e.calculateTransform())},this.calculateTransform=function(){var t=e.props,n=t.column,r=t.left,i=t.scrollLeft,o=t.top,a=t.scrollTop;return"translate("+(g(n)?r:r-i)+"px, "+(o-a-window.pageYOffset)+"px)"},this.isKeyExplicitlyHandled=function(t){return(0,u.isFunction)(e["onPress"+t])},this.checkAndCall=function(t,n){(0,u.isFunction)(e[t])&&e[t](n)},this.onKeyDown=function(t){if((0,c.isCtrlKeyHeldDown)(t))e.checkAndCall("onPressKeyWithCtrl",t);else if(e.isKeyExplicitlyHandled(t.key)){var n="onPress"+t.key;e.checkAndCall(n,t)}else(0,c.isKeyPrintable)(t.keyCode)&&(t.stopPropagation(),e.checkAndCall("onPressChar",t));e._keysDown=e._keysDown||{},e._keysDown[t.keyCode]=!0,(0,u.isFunction)(e.props.onGridKeyDown)&&e.props.onGridKeyDown(t)},this.setEditorRef=function(t){e.editor=t},this.setContainerRef=function(t){e.container=t},this.createEditor=function(){var t={ref:e.setEditorRef,column:e.props.column,value:e.getInitialValue(),onCommit:e.commit,onCommitCancel:e.commitCancel,rowMetaData:e.getRowMetaData(),rowData:e.props.rowData,height:e.props.height,onBlur:e.commit,onOverrideKeyDown:e.onKeyDown},n=e.props.column.editor;return o.default.isValidElement(n)?o.default.cloneElement(n,t):(0,u.isFunction)(n)?o.default.createElement(n,r({ref:e.setEditorRef},t)):o.default.createElement(l.default,{ref:e.setEditorRef,column:e.props.column,value:e.getInitialValue(),onBlur:e.commit,rowMetaData:e.getRowMetaData(),onKeyDown:function(){},commit:function(){}})},this.onPressEnter=function(){e.commit({key:"Enter"})},this.onPressTab=function(){e.commit({key:"Tab"})},this.onPressEscape=function(t){e.editorIsSelectOpen()?t.stopPropagation():e.commitCancel()},this.onPressArrowDown=function(t){e.editorHasResults()?t.stopPropagation():e.commit(t)},this.onPressArrowUp=function(t){e.editorHasResults()?t.stopPropagation():e.commit(t)},this.onPressArrowLeft=function(t){e.isCaretAtBeginningOfInput()?e.commit(t):t.stopPropagation()},this.onPressArrowRight=function(t){e.isCaretAtEndOfInput()?e.commit(t):t.stopPropagation()},this.editorHasResults=function(){return!!(0,u.isFunction)(e.getEditor().hasResults)&&e.getEditor().hasResults()},this.editorIsSelectOpen=function(){return!!(0,u.isFunction)(e.getEditor().isSelectOpen)&&e.getEditor().isSelectOpen()},this.getRowMetaData=function(){if("function"==typeof e.props.column.getRowMetaData)return e.props.column.getRowMetaData(e.props.rowData,e.props.column)},this.getEditor=function(){return e.editor},this.getInputNode=function(){return e.getEditor().getInputNode()},this.getInitialValue=function(){var t=e.props,n=t.firstEditorKeyPress,r=t.value;return"Delete"===n||"Backspace"===n?"":"Enter"===n?r:n||r},this.getContainerClass=function(){return(0,s.default)({"rdg-editor-container":!0,"has-error":!0===e.state.isInvalid})},this.commit=function(t){var n=e.props.onCommit,r=t||{},i=e.getEditor().getValue();e.isNewValueValid(i)&&(e.changeCommitted=!0,n({cellKey:e.props.column.key,rowIdx:e.props.rowIdx,updated:i,key:r.key}))},this.commitCancel=function(){e.changeCanceled=!0,e.props.onCommitCancel()},this.isNewValueValid=function(t){if((0,u.isFunction)(e.getEditor().validate)){var n=e.getEditor().validate(t);return e.setState({isInvalid:!n}),n}return!0},this.setCaretAtEndOfInput=function(){var t=e.getInputNode(),n=t.value.length;if(t.setSelectionRange)t.setSelectionRange(n,n);else if(t.createTextRange){var r=t.createTextRange();r.moveStart("character",n),r.collapse(),r.select()}},this.isCaretAtBeginningOfInput=function(){var t=e.getInputNode();return t.selectionStart===t.selectionEnd&&0===t.selectionStart},this.isCaretAtEndOfInput=function(){var t=e.getInputNode();return t.selectionStart===t.value.length},this.isBodyClicked=function(t){return null===e.getRelatedTarget(t)},this.isViewportClicked=function(t){return e.getRelatedTarget(t).className.indexOf("react-grid-Viewport")>-1},this.isClickInsideEditor=function(t){var n=e.getRelatedTarget(t);return t.currentTarget.contains(n)||n.className.indexOf("editing")>-1||n.className.indexOf("react-grid-Cell")>-1},this.getRelatedTarget=function(e){return e.relatedTarget||e.explicitOriginalTarget||document.activeElement},this.handleRightClick=function(e){e.stopPropagation()},this.handleBlur=function(t){t.stopPropagation(),e.isBodyClicked(t)&&e.commit(t),e.isBodyClicked(t)||!e.isViewportClicked(t)&&e.isClickInsideEditor(t)||e.commit(t)},this.setTextInputFocus=function(){var t=e.props.firstEditorKeyPress,n=e.getInputNode();n.focus(),"INPUT"===n.tagName&&((0,c.isKeyPrintable)(t)||n.focus(),n.select())},this.renderStatusIcon=function(){if(!0===e.state.isInvalid)return o.default.createElement("span",{className:"glyphicon glyphicon-remove form-control-feedback"})}};e.exports=m},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=m(n(2)),a=m(n(13)),s=m(n(3)),l=m(n(136)),u=m(n(126)),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(81)),f=m(n(266)),d=n(139),p=n(279),h=n(5),g=n(11);function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}n(59);var x=function(e){function t(){var e,n,r;v(this,t);for(var i=arguments.length,s=Array(i),u=0;u<i;u++)s[u]=arguments[u];return n=r=b(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.state={scrollingTimeout:null},r.rows=[],r._currentRowsRange={start:0,end:0},r._scroll={scrollTop:0,scrollLeft:0},r.onRows=function(){r._currentRowsRange!=={start:0,end:0}&&(r.props.onRows(r._currentRowsRange),r._currentRowsRange={start:0,end:0})},r.scrollToRow=function(e){var t=r.props,n=t.rowHeight,i=t.rowsCount,o=t.height;r.canvas.scrollTop=Math.min(e*n,i*n-o)},r.onScroll=function(e){if(r.canvas===e.target){var t=e.target,n=t.scrollLeft,i={scrollTop:t.scrollTop,scrollLeft:n};r._scroll=i,r.props.onScroll(i)}},r.getClientScrollTopOffset=function(e){var t=r.props.rowHeight,n=e.scrollTop%t;return n>0?t-n:0},r.onHitBottomCanvas=function(){var e=r.props.rowHeight,t=r.canvas;t.scrollTop+=e+r.getClientScrollTopOffset(t)},r.onHitTopCanvas=function(){var e=r.props.rowHeight,t=r.canvas;t.scrollTop-=e-r.getClientScrollTopOffset(t)},r.scrollToColumn=function(e){var t=r.canvas,n=t.scrollLeft,i=t.clientWidth,o=(0,p.getColumnScrollPosition)(r.props.columns,e,n,i);null!=o&&(r.canvas.scrollLeft=n+o)},r.onHitLeftCanvas=function(e){var t=e.idx;r.scrollToColumn(t)},r.onHitRightCanvas=function(e){var t=e.idx;r.scrollToColumn(t)},r.getRows=function(e,t){if(r._currentRowsRange={start:e,end:t},Array.isArray(r.props.rowGetter))return r.props.rowGetter.slice(e,t);for(var n=[],i=e;i<t;){var o=r.props.rowGetter(i),a={};r.props.getSubRowDetails&&(a=r.props.getSubRowDetails(o)),n.push({row:o,subRowDetails:a}),i++}return n},r.getScroll=function(){var e=r.canvas;return{scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}},r.isRowSelected=function(e,t){if(null!==r.props.selectedRows){var n=r.props.selectedRows.filter((function(e){var n=t.get?t.get(r.props.rowKey):t[r.props.rowKey];return e[r.props.rowKey]===n}));return n.length>0&&n[0].isSelected}if(r.props.rowSelection){var i=r.props.rowSelection,o=i.keys,a=i.indexes,s=i.isSelectedKey;return c.isRowSelected(o,a,s,t,e)}return!1},r.setScrollLeft=function(e){r.rows.forEach((function(t,n){if(t){var i=r.getRowByRef(n);i&&i.setScrollLeft&&i.setScrollLeft(e)}}))},r.getRowByRef=function(e){var t=r.rows[e]&&r.rows[e].getDecoratedComponentInstance?r.rows[e].getDecoratedComponentInstance(e):null;return t?t.row:r.rows[e]},r.getSelectedRowTop=function(e){var t=r.getRowByRef(e);if(t){var n=a.default.findDOMNode(t);return n&&n.offsetTop}return r.props.rowHeight*e},r.getSelectedRowHeight=function(e){var t=r.getRowByRef(e);if(t){var n=a.default.findDOMNode(t);return n&&n.clientHeight>0?n.clientHeight:r.props.rowHeight}return r.props.rowHeight},r.getSelectedRowColumns=function(e){var t=r.getRowByRef(e);return t&&t.props?t.props.columns:r.props.columns},r.setCanvasRef=function(e){r.canvas=e},r.setRowRef=function(e){return function(t){r.rows[e]=t}},r.renderRow=function(e){var t=e.row;return t.__metaData&&t.__metaData.getRowRenderer?t.__metaData.getRowRenderer(r.props,e.idx):t.__metaData&&t.__metaData.isGroup?r.renderGroupRow(e):r.props.rowRenderer?r.renderCustomRowRenderer(e):o.default.createElement(l.default,e)},r.renderPlaceholder=function(e,t){return o.default.createElement("div",{key:e,style:{height:t}},r.props.columns.map((function(e,t){return o.default.createElement("div",{style:{width:e.width},key:t})})))},b(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){this.unsubscribeScrollToColumn=this.props.eventBus.subscribe(g.EventTypes.SCROLL_TO_COLUMN,this.scrollToColumn),this.onRows()}},{key:"componentWillUnmount",value:function(){this._currentRowsRange={start:0,end:0},this._scroll={scrollTop:0,scrollLeft:0},this.rows=[],this.unsubscribeScrollToColumn()}},{key:"componentDidUpdate",value:function(e){var t=this.props.scrollToRowIndex;e.scrollToRowIndex!==t&&0!==t&&this.scrollToRow(t),this.onRows()}},{key:"renderCustomRowRenderer",value:function(e){var t=e.ref,n=y(e,["ref"]),i=this.props.rowRenderer,a=r({},n,{renderBaseRow:function(e){return o.default.createElement(l.default,r({ref:t},e))}});return i.type===l.default?o.default.createElement(l.default,e):(0,h.isFunction)(i)?o.default.createElement(i,a):o.default.isValidElement(i)?o.default.cloneElement(i,a):void 0}},{key:"renderGroupRow",value:function(e){var t=e.ref,n=y(e,["ref"]);return o.default.createElement(f.default,r({},n,e.row.__metaData,{rowRef:e.ref,name:e.row.name,eventBus:this.props.eventBus,renderer:this.props.rowGroupRenderer,renderBaseRow:function(e){return o.default.createElement(l.default,r({ref:t},e))}}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.rowOverscanStartIdx,r=t.rowOverscanEndIdx,i=t.cellMetaData,a=t.columns,s=t.colOverscanStartIdx,l=t.colOverscanEndIdx,u=t.colVisibleStartIdx,c=t.colVisibleEndIdx,f=t.lastFrozenColumnIndex,p=t.expandedRows,h=t.rowHeight,g=t.rowsCount,m=t.totalColumnWidth,y=t.totalWidth,v=t.height,b=t.rowGetter,x=t.RowsContainer,_=t.contextMenu,w=this.getRows(n,r).map((function(t,o){var d=n+o,g="row-"+d;return e.renderRow({key:g,ref:e.setRowRef(d),idx:d,rowVisibleStartIdx:e.props.rowVisibleStartIdx,rowVisibleEndIdx:e.props.rowVisibleEndIdx,row:t.row,height:h,onMouseOver:e.onMouseOver,columns:a,isSelected:e.isRowSelected(d,t.row,n,r),expandedRows:p,cellMetaData:i,subRowDetails:t.subRowDetails,colVisibleStartIdx:u,colVisibleEndIdx:c,colOverscanStartIdx:s,colOverscanEndIdx:l,lastFrozenColumnIndex:f,isScrolling:e.props.isScrolling,scrollLeft:e._scroll.scrollLeft})}));n>0&&w.unshift(this.renderPlaceholder("top",n*h)),g-r>0&&w.push(this.renderPlaceholder("bottom",(g-r)*h));var k={position:"absolute",top:0,left:0,overflowX:"auto",overflowY:"scroll",width:y,height:v};return o.default.createElement("div",{ref:this.setCanvasRef,style:k,onScroll:this.onScroll,className:"react-grid-Canvas"},o.default.createElement(d.InteractionMasks,{rowGetter:b,rowsCount:g,width:this.props.totalWidth,height:v,rowHeight:h,columns:a,rowOverscanStartIdx:this.props.rowOverscanStartIdx,rowVisibleStartIdx:this.props.rowVisibleStartIdx,rowVisibleEndIdx:this.props.rowVisibleEndIdx,colVisibleStartIdx:u,colVisibleEndIdx:c,enableCellSelect:this.props.enableCellSelect,enableCellAutoFocus:this.props.enableCellAutoFocus,cellNavigationMode:this.props.cellNavigationMode,eventBus:this.props.eventBus,contextMenu:this.props.contextMenu,onHitBottomBoundary:this.onHitBottomCanvas,onHitTopBoundary:this.onHitTopCanvas,onHitLeftBoundary:this.onHitLeftCanvas,onHitRightBoundary:this.onHitRightCanvas,onCommit:this.props.onCommit,onCheckCellIsEditable:this.props.onCheckCellIsEditable,onCellCopyPaste:this.props.onCellCopyPaste,onGridRowsUpdated:this.props.onGridRowsUpdated,onDragHandleDoubleClick:this.props.onDragHandleDoubleClick,onCellSelected:this.props.onCellSelected,onCellDeSelected:this.props.onCellDeSelected,onCellRangeSelectionStarted:this.props.onCellRangeSelectionStarted,onCellRangeSelectionUpdated:this.props.onCellRangeSelectionUpdated,onCellRangeSelectionCompleted:this.props.onCellRangeSelectionCompleted,scrollLeft:this._scroll.scrollLeft,scrollTop:this._scroll.scrollTop,prevScrollLeft:this.props.prevScrollLeft,prevScrollTop:this.props.prevScrollTop,getSelectedRowHeight:this.getSelectedRowHeight,getSelectedRowTop:this.getSelectedRowTop,getSelectedRowColumns:this.getSelectedRowColumns}),o.default.createElement(x,{id:_?_.props.id:"rowsContainer"},o.default.createElement("div",{style:{width:m}},w)))}}]),t}(o.default.PureComponent);x.propTypes={rowRenderer:s.default.oneOfType([s.default.func,s.default.element]),rowHeight:s.default.number.isRequired,height:s.default.number.isRequired,width:s.default.number,totalWidth:s.default.oneOfType([s.default.number,s.default.string]),style:s.default.string,className:s.default.string,rowOverscanStartIdx:s.default.number.isRequired,rowOverscanEndIdx:s.default.number.isRequired,rowVisibleStartIdx:s.default.number.isRequired,rowVisibleEndIdx:s.default.number.isRequired,colVisibleStartIdx:s.default.number.isRequired,colVisibleEndIdx:s.default.number.isRequired,colOverscanStartIdx:s.default.number.isRequired,colOverscanEndIdx:s.default.number.isRequired,rowsCount:s.default.number.isRequired,rowGetter:s.default.oneOfType([s.default.func.isRequired,s.default.array.isRequired]),expandedRows:s.default.array,onRows:s.default.func,onScroll:s.default.func,columns:s.default.oneOfType([s.default.object,s.default.array]).isRequired,cellMetaData:s.default.shape(u.default).isRequired,selectedRows:s.default.array,rowKey:s.default.string,rowScrollTimeout:s.default.number,scrollToRowIndex:s.default.number,contextMenu:s.default.element,getSubRowDetails:s.default.func,rowSelection:s.default.oneOfType([s.default.shape({indexes:s.default.arrayOf(s.default.number).isRequired}),s.default.shape({isSelectedKey:s.default.string.isRequired}),s.default.shape({keys:s.default.shape({values:s.default.array.isRequired,rowKey:s.default.string.isRequired}).isRequired})]),rowGroupRenderer:s.default.func,isScrolling:s.default.bool,length:s.default.number,enableCellSelect:s.default.bool.isRequired,enableCellAutoFocus:s.default.bool.isRequired,cellNavigationMode:s.default.string.isRequired,eventBus:s.default.object.isRequired,onCheckCellIsEditable:s.default.func,onCellCopyPaste:s.default.func,onGridRowsUpdated:s.default.func.isRequired,onDragHandleDoubleClick:s.default.func.isRequired,onCellSelected:s.default.func,onCellDeSelected:s.default.func,onCellRangeSelectionStarted:s.default.func,onCellRangeSelectionUpdated:s.default.func,onCellRangeSelectionCompleted:s.default.func,onCommit:s.default.func.isRequired},x.defaultProps={onRows:function(){},selectedRows:[],rowScrollTimeout:0,scrollToRowIndex:0,RowsContainer:function(e){return e.children}},e.exports=x},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(n(4)),o=l(n(2)),a=l(n(3)),s=l(n(126));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){var e,n,r;u(this,t);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={isMenuOpen:!1},r.onToggleMenu=function(){r.setState((function(e){return{isMenuOpen:!e.isMenuOpen}}))},r.onHideMenu=function(){r.setState({isMenuOpen:!1})},r.onGetMenuOptions=function(){return r.props.action.actions.map((function(e,t){return o.default.createElement("span",{key:t,onClick:e.callback},e.text)}))},r.isActionMenu=function(){return!r.props.action.callback&&r.props.action.actions&&r.props.action.actions.length},r.onActionButtonBlur=function(){r.isActionMenu()&&r.onHideMenu()},r.onActionIconClick=function(){r.isActionMenu()?r.props.action.actions&&r.props.action.actions.length&&r.onToggleMenu():r.props.action.callback()},c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(){var e=this.isActionMenu(),t=(0,i.default)("rdg-cell-action",{"rdg-cell-action-last":this.props.isFirst}),n=(0,i.default)("rdg-cell-action-button",{"rdg-cell-action-button-toggled":this.state.isMenuOpen});return o.default.createElement("div",{className:t,onMouseLeave:this.onActionButtonBlur},o.default.createElement("div",{className:n,onClick:this.onActionIconClick},"string"==typeof this.props.action.icon?o.default.createElement("span",{className:this.props.action.icon}):this.props.action.icon),e&&this.state.isMenuOpen&&o.default.createElement("div",{className:"rdg-cell-action-menu"},this.onGetMenuOptions()))}}]),t}(o.default.Component);f.propTypes={action:a.default.shape(s.default).isRequired,isFirst:a.default.bool.isRequired},t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=s(n(2)),o=s(n(3)),a=n(11);function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.onCellExpand=function(e){n.setState({expanded:!n.state.expanded}),n.props.onCellExpand(e)};var r=e.expandableOptions&&e.expandableOptions.expanded;return n.state={expanded:r},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.expandableOptions&&e.expandableOptions.expanded;this.state.expanded!==t&&this.setState({expanded:t})}},{key:"render",value:function(){return i.default.createElement("div",{className:"rdg-cell-expand"},i.default.createElement("span",{onClick:this.onCellExpand},this.state.expanded?a.CellExpand.DOWN_TRIANGLE:a.CellExpand.RIGHT_TRIANGLE))}}]),t}(i.default.Component);l.propTypes={expandableOptions:o.default.object.isRequired,onCellExpand:o.default.func.isRequired},t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(2)),i=o(n(4));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.treeDepth,n=e.cellHeight,o=e.siblingIndex,a=e.numberSiblings,s=e.onDeleteSubRow,l=e.isDeleteSubRowEnabled,u=e.allowAddChildRow,c=void 0===u||u,f=o===a-1,d=(0,i.default)({"rdg-child-row-action-cross":!0===c||!f},{"rdg-child-row-action-cross-last":!1===c&&(f||1===a)}),p=15*t,h=(n-12)/2;return r.default.createElement("div",null,r.default.createElement("div",{className:d}),l&&r.default.createElement("div",{style:{left:p,top:h,width:12,height:12},className:"rdg-child-row-btn",onClick:s},r.default.createElement("div",{className:"glyphicon glyphicon-remove-sign"})))}},function(e,t,n){"use strict";var r=n(2).isValidElement;e.exports=function(e,t){var n=void 0;for(n in e)if(e.hasOwnProperty(n)){if("function"==typeof e[n]&&"function"==typeof t[n]||r(e[n])&&r(t[n]))continue;if(!t.hasOwnProperty(n)||e[n]!==t[n])return!1}for(n in t)if(t.hasOwnProperty(n)&&!e.hasOwnProperty(n))return!1;return!0}},function(e,t,n){"use strict";var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=(r=n(3))&&r.__esModule?r:{default:r};function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=n(2),c=n(36);n(40);var f=["onDragStart","onDragEnd","onDrag","style"],d=function(e){function t(){var e,n,r;s(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={drag:null},r.onMouseDown=function(e){var t=r.props.onDragStart(e);e.preventDefault&&e.preventDefault(),null===t&&0!==e.button||(window.addEventListener("mouseup",r.onMouseUp),window.addEventListener("mousemove",r.onMouseMove),window.addEventListener("touchend",r.onMouseUp),window.addEventListener("touchmove",r.onMouseMove),r.setState({drag:t}))},r.onMouseMove=function(e){null!==r.state.drag&&(e.preventDefault&&e.preventDefault(),r.props.onDrag(e))},r.onMouseUp=function(e){r.cleanUp(),r.props.onDragEnd(e,r.state.drag),r.setState({drag:null})},r.cleanUp=function(){window.removeEventListener("mouseup",r.onMouseUp),window.removeEventListener("mousemove",r.onMouseMove),window.removeEventListener("touchend",r.onMouseUp),window.removeEventListener("touchmove",r.onMouseMove)},r.getKnownDivProps=function(){return c(r.props,f)},l(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentWillUnmount",value:function(){this.cleanUp()}},{key:"render",value:function(){return u.createElement("div",i({},this.getKnownDivProps(),{onMouseDown:this.onMouseDown,onTouchStart:this.onMouseDown,className:"react-grid-HeaderCell__draggable"}))}}]),t}(u.Component);d.propTypes={onDragStart:a.default.func,onDragEnd:a.default.func,onDrag:a.default.func,component:a.default.oneOfType([a.default.func,a.default.constructor]),style:a.default.object},d.defaultProps={onDragStart:function(){return!0},onDragEnd:function(){},onDrag:function(){}},e.exports=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=s(n(2)),o=s(n(3)),a=s(n(6));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.onAddSubRow=e.onAddSubRow.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"onAddSubRow",value:function(){this.props.onAddSubRow(this.props.parentRowId)}},{key:"getFrozenColumnsWidth",value:function(){for(var e=0,t=a.default.getSize(this.props.columns),n=0;n<t;n++){var r=a.default.getColumn(this.props.columns,n);r&&a.default.getValue(r,"frozen")&&(e+=a.default.getValue(r,"width"))}return e}},{key:"render",value:function(){var e=this,t=this.props,n=t.cellHeight,r=15*t.treeDepth,o=(n-12)/2,s={height:n,borderBottom:"1px solid #dddddd"},l=a.default.getColumn(this.props.columns.filter((function(t){return t.key===e.props.expandColumnKey})),0),u=l?l.left:0;return i.default.createElement("div",{className:"react-grid-Row rdg-add-child-row-container",style:s},i.default.createElement("div",{className:"react-grid-Cell",style:{position:"absolute",height:n,width:"100%",left:u}},i.default.createElement("div",{className:"rdg-empty-child-row",style:{marginLeft:"30px",lineHeight:n+"px"}},i.default.createElement("div",{className:"'rdg-child-row-action-cross rdg-child-row-action-cross-last"}),i.default.createElement("div",{style:{left:r,top:o,width:12,height:12},className:"rdg-child-row-btn",onClick:this.onAddSubRow},i.default.createElement("div",{className:"glyphicon glyphicon-plus-sign"})))))}}]),t}(i.default.Component);l.propTypes={treeDepth:o.default.number.isRequired,cellHeight:o.default.number.isRequired,onAddSubRow:o.default.func.isRequired,parentRowId:o.default.number,columns:o.default.array.isRequired,expandColumnKey:o.default.string.isRequired},t.default=l},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=l(n(3)),a=l(n(31)),s=l(n(6));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=n(2),d=n(261),p=n(267);n(59);var h=function(e){function t(){var e,n,r;u(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r._scrollLeft=void 0,r.getStyle=function(){return{overflow:"hidden",outline:0,position:"relative",minHeight:r.props.minHeight}},r._onScroll=function(){void 0!==r._scrollLeft&&(r.header.setScrollLeft(r._scrollLeft),r.viewport&&r.viewport.setScrollLeft(r._scrollLeft))},r.onScroll=function(e){r.props.onScroll(e);var t=e.scrollLeft;(r._scrollLeft!==t||r.areFrozenColumnsScrolledLeft(t))&&(r._scrollLeft=t,r._onScroll())},r.setHeaderRef=function(e){r.header=e},r.setViewportRef=function(e){r.viewport=e},r.setViewportContainerRef=function(e){r.viewPortContainer=e},r.setEmptyViewRef=function(e){r.emptyView=e},c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"areFrozenColumnsScrolledLeft",value:function(e){return e>0&&this.props.columns.some((function(e){return s.default.isFrozen(e)}))}},{key:"componentDidMount",value:function(){this._scrollLeft=this.viewport?this.viewport.getScroll().scrollLeft:0,this._onScroll()}},{key:"componentDidUpdate",value:function(){this._onScroll()}},{key:"componentWillUnmount",value:function(){this._scrollLeft=void 0}},{key:"render",value:function(){var e=this.props.headerRows,t=this.props.emptyRowsView;return f.createElement("div",{style:this.getStyle(),className:"react-grid-Grid"},f.createElement(d,{ref:this.setHeaderRef,columnMetrics:this.props.columnMetrics,onColumnResize:this.props.onColumnResize,height:this.props.rowHeight,totalWidth:this.props.totalWidth,headerRows:e,sortColumn:this.props.sortColumn,sortDirection:this.props.sortDirection,draggableHeaderCell:this.props.draggableHeaderCell,onSort:this.props.onSort,onHeaderDrop:this.props.onHeaderDrop,getValidFilterValues:this.props.getValidFilterValues,cellMetaData:this.props.cellMetaData}),this.props.rowsCount>=1||0===this.props.rowsCount&&!this.props.emptyRowsView?f.createElement("div",{ref:this.setViewportContainerRef,onKeyDown:this.props.onViewportKeydown,onKeyUp:this.props.onViewportKeyup},f.createElement(p,r({},this.props,{ref:this.setViewportRef,rowKey:this.props.rowKey,width:this.props.columnMetrics.width,rowHeight:this.props.rowHeight,rowRenderer:this.props.rowRenderer,rowGetter:this.props.rowGetter,rowsCount:this.props.rowsCount,selectedRows:this.props.selectedRows,expandedRows:this.props.expandedRows,columnMetrics:this.props.columnMetrics,totalWidth:this.props.totalWidth,onScroll:this.onScroll,onRows:this.props.onRows,cellMetaData:this.props.cellMetaData,rowOffsetHeight:this.props.rowOffsetHeight||this.props.rowHeight*e.length,minHeight:this.props.minHeight,rowScrollTimeout:this.props.rowScrollTimeout,scrollToRowIndex:this.props.scrollToRowIndex,contextMenu:this.props.contextMenu,rowSelection:this.props.rowSelection,getSubRowDetails:this.props.getSubRowDetails,rowGroupRenderer:this.props.rowGroupRenderer,overScan:this.props.overScan,enableCellSelect:this.props.enableCellSelect,enableCellAutoFocus:this.props.enableCellAutoFocus,cellNavigationMode:this.props.cellNavigationMode,eventBus:this.props.eventBus,onCheckCellIsEditable:this.props.onCheckCellIsEditable,onCellCopyPaste:this.props.onCellCopyPaste,onGridRowsUpdated:this.props.onGridRowsUpdated,onDragHandleDoubleClick:this.props.onDragHandleDoubleClick,onCellSelected:this.props.onCellSelected,onCellDeSelected:this.props.onCellDeSelected,onCellRangeSelectionStarted:this.props.onCellRangeSelectionStarted,onCellRangeSelectionUpdated:this.props.onCellRangeSelectionUpdated,onCellRangeSelectionCompleted:this.props.onCellRangeSelectionCompleted,onCommit:this.props.onCommit,RowsContainer:this.props.RowsContainer}))):f.createElement("div",{ref:this.setEmptyViewRef,className:"react-grid-Empty"},f.createElement(t,null)))}}]),t}(f.Component);h.displayName="Grid",h.propTypes={rowGetter:o.default.oneOfType([o.default.array,o.default.func]).isRequired,columns:o.default.oneOfType([o.default.array,o.default.object]),columnMetrics:o.default.object,minHeight:o.default.number,totalWidth:o.default.oneOfType([o.default.number,o.default.string]),headerRows:o.default.oneOfType([o.default.array,o.default.func]),rowHeight:o.default.number,rowRenderer:o.default.oneOfType([o.default.element,o.default.func]),emptyRowsView:o.default.func,expandedRows:o.default.oneOfType([o.default.array,o.default.func]),selectedRows:o.default.oneOfType([o.default.array,o.default.func]),rowSelection:o.default.oneOfType([o.default.shape({indexes:o.default.arrayOf(o.default.number).isRequired}),o.default.shape({isSelectedKey:o.default.string.isRequired}),o.default.shape({keys:o.default.shape({values:o.default.array.isRequired,rowKey:o.default.string.isRequired}).isRequired})]),rowsCount:o.default.number,onRows:o.default.func,sortColumn:o.default.string,cellMetaData:o.default.shape(a.default).isRequired,sortDirection:o.default.oneOf(["ASC","DESC","NONE"]),rowOffsetHeight:o.default.number.isRequired,onViewportKeydown:o.default.func.isRequired,onViewportKeyup:o.default.func,onColumnResize:o.default.func,onSort:o.default.func,onHeaderDrop:o.default.func,rowKey:o.default.string.isRequired,rowScrollTimeout:o.default.number,scrollToRowIndex:o.default.number,contextMenu:o.default.element,getSubRowDetails:o.default.func,draggableHeaderCell:o.default.func,getValidFilterValues:o.default.func,rowGroupRenderer:o.default.func,overScan:o.default.object,enableCellSelect:o.default.bool.isRequired,enableCellAutoFocus:o.default.bool.isRequired,cellNavigationMode:o.default.string.isRequired,eventBus:o.default.object.isRequired,onCheckCellIsEditable:o.default.func,onCellCopyPaste:o.default.func,onGridRowsUpdated:o.default.func.isRequired,onDragHandleDoubleClick:o.default.func.isRequired,onCellSelected:o.default.func,onCellDeSelected:o.default.func,onCellRangeSelectionStarted:o.default.func,onCellRangeSelectionUpdated:o.default.func,onCellRangeSelectionCompleted:o.default.func,onCommit:o.default.func.isRequired,onScroll:o.default.func,scrollLeft:o.default.number,RowsContainer:o.default.node},h.defaultProps={rowHeight:35,minHeight:350},e.exports=h},function(e,t,n){"use strict";var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=(r=n(3))&&r.__esModule?r:{default:r},s=n(11);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=n(2),f=n(13),d=n(4),p=n(140),h=n(133),g=n(6),m=n(263),y=n(82),v=n(36),b=n(31);n(40);var x=["height","onScroll"],_=function(e){function t(){var e,n,r;l(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={resizing:null},r.onColumnResize=function(e,t){var n=r.state.resizing||r.props,i=r.getColumnPosition(e);if(null!=i){var o={columnMetrics:p(n.columnMetrics)};o.columnMetrics=h.resizeColumn(o.columnMetrics,i,t),o.columnMetrics.totalWidth<n.columnMetrics.totalWidth&&(o.columnMetrics.totalWidth=n.columnMetrics.totalWidth),o.column=g.getColumn(o.columnMetrics.columns,i),r.setState({resizing:o})}},r.onColumnResizeEnd=function(e,t){var n=r.getColumnPosition(e);null!==n&&r.props.onColumnResize&&r.props.onColumnResize(n,t||e.width)},r.setRowRef=function(e){r.row=e},r.setFilterRowRef=function(e){r.filterRow=e},r.getHeaderRows=function(){var e=r.getColumnMetrics(),t=r.state.resizing?r.state.resizing.column:void 0;return r.props.headerRows.map((function(n,i){var o=n.rowType===s.HeaderRowType.FILTER,a=o?"500px":"auto",l=y()>0?y():0,u=isNaN(r.props.totalWidth-l)?r.props.totalWidth:r.props.totalWidth-l,f={position:"absolute",top:r.getCombinedHeaderHeights(i),left:0,width:u,overflowX:"hidden",minHeight:a};return c.createElement(m,{key:n.rowType,ref:o?r.setFilterRowRef:r.setRowRef,rowType:n.rowType,style:f,onColumnResize:r.onColumnResize,onColumnResizeEnd:r.onColumnResizeEnd,width:e.width,height:n.height||r.props.height,columns:e.columns,resizing:t,draggableHeaderCell:r.props.draggableHeaderCell,filterable:n.filterable,onFilterChange:n.onFilterChange,onHeaderDrop:r.props.onHeaderDrop,sortColumn:r.props.sortColumn,sortDirection:r.props.sortDirection,onSort:r.props.onSort,onScroll:r.props.onScroll,getValidFilterValues:r.props.getValidFilterValues})}))},r.getColumnMetrics=function(){return r.state.resizing?r.state.resizing.columnMetrics:r.props.columnMetrics},r.getColumnPosition=function(e){var t=r.getColumnMetrics(),n=-1;return t.columns.forEach((function(t,r){t.key===e.key&&(n=r)})),-1===n?null:n},r.getCombinedHeaderHeights=function(e){var t=r.props.headerRows.length;void 0!==e&&(t=e);for(var n=0,i=0;i<t;i++)n+=r.props.headerRows[i].height||r.props.height;return n},r.getStyle=function(){return{position:"relative",height:r.getCombinedHeaderHeights()}},r.setScrollLeft=function(e){f.findDOMNode(r.row).scrollLeft=e,r.row.setScrollLeft(e),r.filterRow&&(f.findDOMNode(r.filterRow).scrollLeft=e,r.filterRow.setScrollLeft(e))},r.getKnownDivProps=function(){return v(r.props,x)},r.onHeaderClick=function(){r.props.cellMetaData.onCellClick({rowIdx:-1,idx:-1})},u(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentWillReceiveProps",value:function(){this.setState({resizing:null})}},{key:"shouldComponentUpdate",value:function(e,t){return!h.sameColumns(this.props.columnMetrics.columns,e.columnMetrics.columns,h.sameColumn)||this.props.totalWidth!==e.totalWidth||this.props.headerRows.length!==e.headerRows.length||this.state.resizing!==t.resizing||this.props.sortColumn!==e.sortColumn||this.props.sortDirection!==e.sortDirection}},{key:"render",value:function(){var e=d({"react-grid-Header":!0,"react-grid-Header--resizing":!!this.state.resizing}),t=this.getHeaderRows();return c.createElement("div",i({},this.getKnownDivProps(),{style:this.getStyle(),className:e,onClick:this.onHeaderClick}),t)}}]),t}(c.Component);_.propTypes={columnMetrics:a.default.shape({width:a.default.number.isRequired,columns:a.default.any}).isRequired,totalWidth:a.default.oneOfType([a.default.number,a.default.string]),height:a.default.number.isRequired,headerRows:a.default.array.isRequired,sortColumn:a.default.string,sortDirection:a.default.oneOf(["ASC","DESC","NONE"]),onSort:a.default.func,onColumnResize:a.default.func,onScroll:a.default.func,onHeaderDrop:a.default.func,draggableHeaderCell:a.default.func,getValidFilterValues:a.default.func,cellMetaData:a.default.shape(b)},e.exports=_},function(e,t){"use strict";e.exports={SORTABLE:0,FILTERABLE:1,NONE:2,CHECKBOX:3}},function(e,t,n){"use strict";var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(11),s=(r=n(3))&&r.__esModule?r:{default:r};function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=n(2),f=n(389),d=n(134),p=n(82),h=n(6),g=n(125),m=n(216),y=n(262),v=n(36);n(40);var b={overflow:s.default.string,width:s.default.oneOfType([s.default.number,s.default.string]),height:s.default.number,position:s.default.string},x=["width","height","style","onScroll"],_=function(e){function t(){var e,n,r;l(this,t);for(var o=arguments.length,s=Array(o),f=0;f<o;f++)s[f]=arguments[f];return n=r=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.cells=[],r.getHeaderCellType=function(e){return e.filterable&&r.props.filterable?y.FILTERABLE:e.sortable&&e.rowType!==a.HeaderRowType.FILTER?y.SORTABLE:y.NONE},r.getFilterableHeaderCell=function(e){var t=m;return void 0!==e.filterRenderer&&(t=e.filterRenderer),c.createElement(t,i({},r.props,{onChange:r.props.onFilterChange}))},r.getSortableHeaderCell=function(e){var t=r.props.sortColumn===e.key?r.props.sortDirection:g.DEFINE_SORT.NONE,n=void 0!==e.sortDescendingFirst&&e.sortDescendingFirst;return c.createElement(g,{columnKey:e.key,onSort:r.props.onSort,sortDirection:t,sortDescendingFirst:n,headerRenderer:e.headerRenderer})},r.getHeaderRenderer=function(e){if(e.headerRenderer&&!e.sortable&&!r.props.filterable)return e.headerRenderer;switch(r.getHeaderCellType(e)){case y.SORTABLE:return r.getSortableHeaderCell(e);case y.FILTERABLE:return r.getFilterableHeaderCell(e);default:return}},r.getStyle=function(){return{overflow:"hidden",width:"100%",height:r.props.height,position:"absolute"}},r.getCells=function(){for(var e=[],t=[],n=r.props,o=n.columns,s=n.rowType,l=function(n,l){var u=i({rowType:s},h.getColumn(o,n)),f="select-row"===u.key&&s===a.HeaderRowType.FILTER?c.createElement("div",null):r.getHeaderRenderer(u),p=c.createElement(d,{key:u.key,ref:function(e){return r.cells[n]=e},column:u,rowType:s,height:r.props.height,renderer:f,resizing:r.props.resizing===u,onResize:r.props.onColumnResize,onResizeEnd:r.props.onColumnResizeEnd,onHeaderDrop:r.props.onHeaderDrop,draggableHeaderCell:r.props.draggableHeaderCell});h.isFrozen(u)?t.push(p):e.push(p)},u=0,f=h.getSize(o);u<f;u++)l(u);return e.concat(t)},r.setScrollLeft=function(e){r.props.columns.forEach((function(t,n){h.isFrozen(t)?r.cells[n].setScrollLeft(e):r.cells[n]&&r.cells[n].removeScroll&&r.cells[n].removeScroll()}))},r.getKnownDivProps=function(){return v(r.props,x)},u(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"shouldComponentUpdate",value:function(e){return e.width!==this.props.width||e.height!==this.props.height||e.columns!==this.props.columns||!f(e.style,this.props.style)||this.props.sortColumn!==e.sortColumn||this.props.sortDirection!==e.sortDirection}},{key:"render",value:function(){var e={width:this.props.width?this.props.width+p():"100%",height:this.props.height,whiteSpace:"nowrap",overflowX:"hidden",overflowY:"hidden"},t=this.getCells();return c.createElement("div",i({},this.getKnownDivProps(),{className:"react-grid-HeaderRow"}),c.createElement("div",{style:e},t))}}]),t}(c.Component);_.displayName="HeaderRow",_.propTypes={width:s.default.oneOfType([s.default.number,s.default.string]),height:s.default.number.isRequired,columns:s.default.oneOfType([s.default.array,s.default.object]).isRequired,onColumnResize:s.default.func,onSort:s.default.func.isRequired,onColumnResizeEnd:s.default.func,style:s.default.shape(b),sortColumn:s.default.string,sortDirection:s.default.oneOf(Object.keys(g.DEFINE_SORT)),cellRenderer:s.default.func,headerCellRenderer:s.default.func,filterable:s.default.bool,onFilterChange:s.default.func,resizing:s.default.object,onScroll:s.default.func,rowType:s.default.string,draggableHeaderCell:s.default.func,onHeaderDrop:s.default.func},e.exports=_},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=v(n(2)),a=v(n(3)),s=n(381),l=v(n(260)),u=v(n(69)),c=v(n(81)),f=v(n(6)),d=v(n(135)),p=n(5),h=v(n(137)),g=n(125),m=n(11),y=n(139);function v(e){return e&&e.__esModule?e:{default:e}}var b=n(133);n(59),n(76),Object.assign||(Object.assign=n(27));var x=function(e,t){return e+" has been deprecated and will be removed in a future version. Please use "+t+" instead"},_=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));w.call(r);var i={columnMetrics:r.createColumnMetrics(),selectedRows:[],expandedRows:[],canFilter:!1,columnFilters:{},sortDirection:null,sortColumn:null,scrollOffset:0,lastRowIdxUiSelected:-1};return r.props.sortColumn&&r.props.sortDirection&&(i.sortColumn=r.props.sortColumn,i.sortDirection=r.props.sortDirection),r.state=i,r.eventBus=new y.EventBus,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){this._mounted=!0,window.addEventListener("resize",this.metricsUpdated),this.props.cellRangeSelection&&window.addEventListener("mouseup",this.onWindowMouseUp),this.metricsUpdated()}},{key:"componentWillUnmount",value:function(){this._mounted=!1,window.removeEventListener("resize",this.metricsUpdated),window.removeEventListener("mouseup",this.onWindowMouseUp)}},{key:"componentWillReceiveProps",value:function(e){if(e.columns&&(!b.sameColumns(this.props.columns,e.columns,this.props.columnEquality)||e.minWidth!==this.props.minWidth)){var t=this.createColumnMetrics(e);this.setState({columnMetrics:t})}}},{key:"render",value:function(){var e={rowKey:this.props.rowKey,onCellClick:this.onCellClick,onCellContextMenu:this.onCellContextMenu,onCellDoubleClick:this.onCellDoubleClick,onColumnEvent:this.onColumnEvent,onCellExpand:this.onCellExpand,onRowExpandToggle:this.onRowExpandToggle,getCellActions:this.props.getCellActions,onDeleteSubRow:this.props.onDeleteSubRow,onAddSubRow:this.props.onAddSubRow,onDragEnter:this.handleDragEnter};this.props.cellRangeSelection&&(e.onCellMouseDown=this.onCellMouseDown,e.onCellMouseEnter=this.onCellMouseEnter);var t=this.renderToolbar(),n=this.props.minWidth||this.gridWidth(),i=n-this.state.scrollOffset;return(void 0===n||isNaN(n)||0===n)&&(n="100%"),(void 0===i||isNaN(i)||0===i)&&(i="100%"),o.default.createElement("div",{className:"react-grid-Container",style:{width:n},ref:this.setGridRef},t,o.default.createElement("div",{className:"react-grid-Main"},o.default.createElement(l.default,r({ref:this.setBaseGridRef},this.props,{rowKey:this.props.rowKey,headerRows:this.getHeaderRows(),columnMetrics:this.state.columnMetrics,rowGetter:this.props.rowGetter,rowsCount:this.props.rowsCount,rowHeight:this.props.rowHeight,cellMetaData:e,selectedRows:this.getSelectedRows(),rowSelection:this.getRowSelectionProps(),expandedRows:this.state.expandedRows,rowOffsetHeight:this.getRowOffsetHeight(),sortColumn:this.state.sortColumn,sortDirection:this.state.sortDirection,onSort:this.handleSort,minHeight:this.props.minHeight,totalWidth:i,onViewportKeydown:this.onKeyDown,onViewportKeyup:this.onKeyUp,onColumnResize:this.onColumnResize,rowScrollTimeout:this.props.rowScrollTimeout,scrollToRowIndex:this.props.scrollToRowIndex,contextMenu:this.props.contextMenu,overScan:this.props.overScan,enableCellSelect:this.props.enableCellSelect,enableCellAutoFocus:this.props.enableCellAutoFocus,cellNavigationMode:this.props.cellNavigationMode,eventBus:this.eventBus,onCheckCellIsEditable:this.props.onCheckCellIsEditable,onCellCopyPaste:this.props.onCellCopyPaste,onGridRowsUpdated:this.onGridRowsUpdated,onDragHandleDoubleClick:this.onDragHandleDoubleClick,onCellSelected:this.props.onCellSelected,onCellDeSelected:this.props.onCellDeSelected,onCellRangeSelectionStarted:this.props.cellRangeSelection&&this.props.cellRangeSelection.onStart,onCellRangeSelectionUpdated:this.props.cellRangeSelection&&this.props.cellRangeSelection.onUpdate,onCellRangeSelectionCompleted:this.props.cellRangeSelection&&this.props.cellRangeSelection.onComplete,onCommit:this.onCommit,onScroll:this.onScroll}))))}}]),t}(o.default.Component);_.displayName="ReactDataGrid",_.propTypes={rowHeight:a.default.number.isRequired,headerRowHeight:a.default.number,headerFiltersHeight:a.default.number,minHeight:a.default.number.isRequired,minWidth:a.default.number,enableRowSelect:(0,s.deprecate)(a.default.func,x("enableRowSelect","rowSelection")),onRowUpdated:(0,s.deprecate)(a.default.func,x("onRowUpdated","onGridRowsUpdated")),rowGetter:a.default.func.isRequired,rowsCount:a.default.number.isRequired,toolbar:a.default.element,enableCellSelect:a.default.bool,columns:a.default.oneOfType([a.default.object,a.default.array]).isRequired,onFilter:a.default.func,onCellCopyPaste:(0,s.deprecate)(a.default.func,x("onCellCopyPaste","onGridRowsUpdated")),onCellsDragged:(0,s.deprecate)(a.default.func,x("onCellsDragged","onGridRowsUpdated")),getCellActions:a.default.func,onAddFilter:a.default.func,onGridSort:a.default.func,sortColumn:a.default.string,sortDirection:a.default.oneOf(Object.keys(g.DEFINE_SORT)),onDragHandleDoubleClick:(0,s.deprecate)(a.default.func,x("onDragHandleDoubleClick","onGridRowsUpdated")),onGridRowsUpdated:a.default.func,onRowSelect:a.default.func,rowKey:a.default.string,rowScrollTimeout:(0,s.deprecate)(a.default.number),scrollToRowIndex:a.default.number,onClearFilters:a.default.func,contextMenu:a.default.element,cellNavigationMode:a.default.oneOf(["none","loopOverRow","changeRow"]),onCellSelected:a.default.func,onCellDeSelected:a.default.func,cellRangeSelection:a.default.shape({onStart:a.default.func,onUpdate:a.default.func,onComplete:a.default.func}),onCellExpand:a.default.func,enableDragAndDrop:a.default.bool,onRowExpandToggle:a.default.func,draggableHeaderCell:a.default.func,getValidFilterValues:a.default.func,rowSelection:a.default.shape({enableShiftSelect:a.default.bool,onRowsSelected:a.default.func,onRowsDeselected:a.default.func,showCheckbox:a.default.bool,selectBy:a.default.oneOfType([a.default.shape({indexes:a.default.arrayOf(a.default.number).isRequired}),a.default.shape({isSelectedKey:a.default.string.isRequired}),a.default.shape({keys:a.default.shape({values:a.default.array.isRequired,rowKey:a.default.string.isRequired}).isRequired})]).isRequired}),onRowClick:a.default.func,onRowDoubleClick:a.default.func,onGridKeyUp:a.default.func,onGridKeyDown:a.default.func,rowGroupRenderer:a.default.func,rowActionsCell:a.default.func,onCheckCellIsEditable:a.default.func,overScan:a.default.object,onDeleteSubRow:a.default.func,onAddSubRow:a.default.func,enableCellAutoFocus:a.default.bool,onBeforeEdit:a.default.func,selectAllRenderer:a.default.object,minColumnWidth:a.default.number,columnEquality:a.default.func,onColumnResize:a.default.func,onScroll:a.default.func},_.defaultProps={enableCellSelect:!1,rowHeight:35,headerFiltersHeight:45,enableRowSelect:!1,minHeight:350,rowKey:"id",rowScrollTimeout:0,scrollToRowIndex:0,cellNavigationMode:m.CellNavigationMode.NONE,overScan:{colsStart:2,colsEnd:2,rowsStart:2,rowsEnd:2},enableCellAutoFocus:!0,onBeforeEdit:function(){},minColumnWidth:80,columnEquality:b.sameColumn};var w=function(){var e=this;this.selectCell=function(t,n){var r=t.idx,i=t.rowIdx;e.eventBus.dispatch(m.EventTypes.SELECT_CELL,{rowIdx:i,idx:r},n)},this.selectStart=function(t){e.eventBus.dispatch(m.EventTypes.SELECT_START,t)},this.selectUpdate=function(t){e.eventBus.dispatch(m.EventTypes.SELECT_UPDATE,t)},this.selectEnd=function(){e.eventBus.dispatch(m.EventTypes.SELECT_END)},this.handleDragEnter=function(t){var n=t.overRowIdx;e.eventBus.dispatch(m.EventTypes.DRAG_ENTER,{overRowIdx:n})},this.gridWidth=function(){return e.grid?e.grid.parentElement.offsetWidth:0},this.getTotalWidth=function(){return e._mounted?e.gridWidth():f.default.getSize(e.props.columns)*e.props.minColumnWidth},this.getColumnMetricsType=function(t){var n=t.totalWidth||e.getTotalWidth(),r={columns:t.columns,totalWidth:n,minColumnWidth:t.minColumnWidth};return b.recalculate(r)},this.getColumn=function(t){var n=e.state.columnMetrics.columns;return f.default.getColumn(n,t)},this.getSize=function(){var t=e.state.columnMetrics.columns;return f.default.getSize(t)},this.metricsUpdated=function(){var t=e.createColumnMetrics();e.setState({columnMetrics:t})},this.createColumnMetrics=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.props,n=e.setupGridColumns(t);return e.getColumnMetricsType({columns:n,minColumnWidth:e.props.minColumnWidth,totalWidth:t.minWidth})},this.onColumnResize=function(t,n){var r=b.resizeColumn(e.state.columnMetrics,t,n);e.setState({columnMetrics:r}),e.props.onColumnResize&&e.props.onColumnResize(t,n)},this.onKeyDown=function(t){e._keysDown=e._keysDown||{},e._keysDown[t.keyCode]=!0;var n=e.props.onGridKeyDown;(0,p.isFunction)(n)&&n(t)},this.onKeyUp=function(t){e._keysDown=e._keysDown||{},delete e._keysDown[t.keyCode];var n=e.props.onGridKeyUp;(0,p.isFunction)(n)&&n(t)},this.isSingleKeyDown=function(t){return!!e._keysDown&&t in e._keysDown&&1===Object.keys(e._keysDown).length},this.onColumnEvent=function(t,n){var r=n.idx,i=n.name;if(i&&void 0!==r){var o=e.getColumn(r);if(o&&o.events&&(0,p.isFunction)(o.events[i])){var a={idx:r,rowIdx:n.rowIdx,rowId:n.rowId,column:o};o.events[i](t,a)}}},this.onCellClick=function(t){var n=t.rowIdx,r=t.idx,i=e.props,o=i.onRowClick,a=i.rowGetter;e.selectCell({rowIdx:n,idx:r}),(0,p.isFunction)(o)&&o(n,a(n),e.getColumn(r))},this.onCellMouseDown=function(t){e.selectStart(t)},this.onCellMouseEnter=function(t){e.selectUpdate(t)},this.onWindowMouseUp=function(){e.selectEnd()},this.onCellContextMenu=function(t){var n=t.rowIdx,r=t.idx;e.selectCell({rowIdx:n,idx:r})},this.onCellDoubleClick=function(t){var n=t.rowIdx,r=t.idx,i=e.props,o=i.onRowDoubleClick,a=i.rowGetter;(0,p.isFunction)(o)&&o(n,a(n),e.getColumn(r)),e.openCellEditor(n,r)},this.onToggleFilter=function(){e.setState({canFilter:!e.state.canFilter},(function(){!1===e.state.canFilter&&e.props.onClearFilters&&e.props.onClearFilters()}))},this.onDragHandleDoubleClick=function(t){if(e.props.onDragHandleDoubleClick&&e.props.onDragHandleDoubleClick(t),e.props.onGridRowsUpdated){var n=e.getColumn(t.idx).key;e.onGridRowsUpdated(n,t.rowIdx,e.props.rowsCount-1,(r={},i=n,o=t.rowData[n],i in r?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o,r),m.UpdateActions.COLUMN_FILL)}var r,i,o},this.onCellExpand=function(t){e.props.onCellExpand&&e.props.onCellExpand(t)},this.onRowExpandToggle=function(t){"function"==typeof e.props.onRowExpandToggle&&e.props.onRowExpandToggle(t)},this.onGridRowsUpdated=function(t,n,r,i,o,a){var s=e.props,l=s.rowGetter,u=s.rowKey,c=s.onGridRowsUpdated;if((0,p.isFunction)(e.props.onRowUpdated)&&e.props.onRowUpdated({updated:i,rowIdx:n,cellKey:t,value:i[t]}),(0,p.isFunction)(c)){for(var f=[],d=n;d<=r;d++)f.push(l(d)[u]);var h=l(o===m.UpdateActions.COPY_PASTE?a:n);c({cellKey:t,fromRow:n,toRow:r,fromRowId:h[u],toRowId:l(r)[u],rowIds:f,updated:i,action:o,fromRowData:h})}},this.onCommit=function(t){var n=t.rowIdx;e.onGridRowsUpdated(t.cellKey,n,n,t.updated,m.UpdateActions.CELL_UPDATE)},this.onScroll=function(t){(0,p.isFunction)(e.props.onScroll)&&e.props.onScroll(t)},this.handleSort=function(t,n){e.setState({sortDirection:n,sortColumn:t},(function(){e.props.onGridSort(t,n)}))},this.getSelectedRow=function(t,n){var r=t.filter((function(t){return t[e.props.rowKey]===n}));if(r.length>0)return r[0]},this.useNewRowSelection=function(){return e.props.rowSelection&&e.props.rowSelection.selectBy},this.handleShiftSelect=function(t){if(e.state.lastRowIdxUiSelected>-1&&e.isSingleKeyDown(d.default.Shift)){var n=e.props.rowSelection.selectBy,r=n.keys,i=n.indexes,o=n.isSelectedKey;if(c.default.isRowSelected(r,i,o,e.props.rowGetter(t),t))return!1;var a=!1;if(t>e.state.lastRowIdxUiSelected){for(var s=[],l=e.state.lastRowIdxUiSelected+1;l<=t;l++)s.push({rowIdx:l,row:e.props.rowGetter(l)});"function"==typeof e.props.rowSelection.onRowsSelected&&e.props.rowSelection.onRowsSelected(s),a=!0}else if(t<e.state.lastRowIdxUiSelected){for(var u=[],f=t;f<=e.state.lastRowIdxUiSelected-1;f++)u.push({rowIdx:f,row:e.props.rowGetter(f)});"function"==typeof e.props.rowSelection.onRowsSelected&&e.props.rowSelection.onRowsSelected(u),a=!0}return a&&e.setState({lastRowIdxUiSelected:t}),a}return!1},this.handleNewRowSelect=function(t,n){e.selectAllCheckbox&&!0===e.selectAllCheckbox.checked&&(e.selectAllCheckbox.checked=!1);var r=e.props.rowSelection.selectBy,i=r.keys,o=r.indexes,a=r.isSelectedKey,s=c.default.isRowSelected(i,o,a,n,t);e.setState({lastRowIdxUiSelected:s?-1:t,selected:{rowIdx:t,idx:0}}),s&&"function"==typeof e.props.rowSelection.onRowsDeselected?e.props.rowSelection.onRowsDeselected([{rowIdx:t,row:n}]):s||"function"!=typeof e.props.rowSelection.onRowsSelected||e.props.rowSelection.onRowsSelected([{rowIdx:t,row:n}])},this.handleRowSelect=function(t,n,r,i){if(i.stopPropagation(),e.useNewRowSelection())!0===e.props.rowSelection.enableShiftSelect&&e.handleShiftSelect(t)||e.handleNewRowSelect(t,r);else{var o="single"===e.props.enableRowSelect?[]:e.state.selectedRows.slice(0),a=e.getSelectedRow(o,r[e.props.rowKey]);a?a.isSelected=!a.isSelected:(r.isSelected=!0,o.push(r)),e.setState({selectedRows:o,selected:{rowIdx:t,idx:0}}),e.props.onRowSelect&&e.props.onRowSelect(o.filter((function(e){return!0===e.isSelected})))}},this.handleCheckboxChange=function(t){var n;if(n=t.currentTarget instanceof HTMLInputElement&&!0===t.currentTarget.checked,e.useNewRowSelection()){var r=e.props.rowSelection.selectBy,i=r.keys,o=r.indexes,a=r.isSelectedKey;if(n&&"function"==typeof e.props.rowSelection.onRowsSelected){for(var s=[],l=0;l<e.props.rowsCount;l++){var u=e.props.rowGetter(l);c.default.isRowSelected(i,o,a,u,l)||s.push({rowIdx:l,row:u})}s.length>0&&e.props.rowSelection.onRowsSelected(s)}else if(!n&&"function"==typeof e.props.rowSelection.onRowsDeselected){for(var f=[],d=0;d<e.props.rowsCount;d++){var p=e.props.rowGetter(d);c.default.isRowSelected(i,o,a,p,d)&&f.push({rowIdx:d,row:p})}f.length>0&&e.props.rowSelection.onRowsDeselected(f)}}else{for(var h=[],g=0;g<e.props.rowsCount;g++){var m=Object.assign({},e.props.rowGetter(g),{isSelected:n});h.push(m)}e.setState({selectedRows:h}),"function"==typeof e.props.onRowSelect&&e.props.onRowSelect(h.filter((function(e){return!0===e.isSelected})))}},this.getRowOffsetHeight=function(){var t=0;return e.getHeaderRows().forEach((function(e){return t+=parseFloat(e.height,10)})),t},this.getHeaderRows=function(){var t=[{height:e.props.headerRowHeight||e.props.rowHeight,rowType:m.HeaderRowType.HEADER}];return!0===e.state.canFilter&&t.push({filterable:!0,onFilterChange:e.props.onAddFilter,height:e.props.headerFiltersHeight,rowType:m.HeaderRowType.FILTER}),t},this.getInitialSelectedRows=function(){for(var t=[],n=0;n<e.props.rowsCount;n++)t.push(!1);return t},this.getRowSelectionProps=function(){return e.props.rowSelection?e.props.rowSelection.selectBy:null},this.getSelectedRows=function(){return e.props.rowSelection?null:e.state.selectedRows.filter((function(e){return!0===e.isSelected}))},this.getDataGridDOMNode=function(){return e.grid},this.openCellEditor=function(t,n){e.selectCell({rowIdx:t,idx:n},!0)},this.scrollToColumn=function(t){e.eventBus.dispatch(m.EventTypes.SCROLL_TO_COLUMN,t)},this.setupGridColumns=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.props,n=t.columns;if(e._cachedColumns===n)return e._cachedComputedColumns;e._cachedColumns=n;var r=n.slice(0),i={};if(e.props.rowActionsCell||t.enableRowSelect&&!e.props.rowSelection||t.rowSelection&&!1!==t.rowSelection.showCheckbox){var a=e.props.selectAllRenderer||h.default,s=o.default.createElement(a,{onChange:e.handleCheckboxChange,inputRef:function(t){return e.selectAllCheckbox=t}}),l="single"===t.enableRowSelect?null:s,c=e.props.rowActionsCell?e.props.rowActionsCell:u.default,f={key:"select-row",name:"",formatter:o.default.createElement(c,{rowSelection:e.props.rowSelection}),onCellChange:e.handleRowSelect,filterable:!1,headerRenderer:l,width:60,frozen:!0,getRowMetaData:function(e){return e},cellClass:e.props.rowActionsCell?"rdg-row-actions-cell":""};i=r.unshift(f),r=i>0?r:i}return e._cachedComputedColumns=r,e._cachedComputedColumns},this.setGridRef=function(t){e.grid=t},this.setBaseGridRef=function(t){e.base=t},this.renderToolbar=function(){var t=e.props.toolbar,n={columns:e.props.columns,onToggleFilter:e.onToggleFilter,numberOfRows:e.props.rowsCount};return o.default.isValidElement(t)?o.default.cloneElement(t,n):(0,p.isFunction)(t)?o.default.createElement(t,n):void 0}};e.exports=_},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=n(2),l=n(258);n(40);var u={position:"absolute",top:0,right:0,width:6,height:"100%"},c=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"render",value:function(){return s.createElement(l,r({},this.props,{className:"react-grid-HeaderCell__resizeHandle",style:u}))}}]),t}(s.Component);e.exports=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(2),a=f(o),s=f(n(3)),l=n(5),u=f(n(31)),c=n(11);function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n(45);var g=function(e){function t(){var e,n,r;d(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.onRowExpandToggle=function(e){var t=null==e?!r.props.isExpanded:e,n=r.props.cellMetaData;null!=n&&"function"==typeof n.onRowExpandToggle&&n.onRowExpandToggle({rowIdx:r.props.idx,shouldExpand:t,columnGroupName:r.props.columnGroupName,name:r.props.name})},r.onClick=function(){r.props.eventBus.dispatch(c.EventTypes.SELECT_CELL,{rowIdx:r.props.idx})},r.onRowExpandClick=function(){r.onRowExpandToggle(!r.props.isExpanded)},p(r,n)}return h(t,e),i(t,[{key:"render",value:function(){var e=(0,l.last)(this.props.columns),t={width:e.left+e.width};return a.default.createElement("div",{style:t,className:"react-grid-row-group",onClick:this.onClick},a.default.createElement(this.props.renderer,r({},this.props,{onRowExpandClick:this.onRowExpandClick,onRowExpandToggle:this.onRowExpandToggle})))}}]),t}(o.Component);g.propTypes={height:s.default.number.isRequired,columns:s.default.oneOfType([s.default.object,s.default.array]).isRequired,row:s.default.any.isRequired,cellRenderer:s.default.func,cellMetaData:s.default.shape(u.default),isSelected:s.default.bool,idx:s.default.number.isRequired,expandedRows:s.default.arrayOf(s.default.object),extraClasses:s.default.string,forceUpdate:s.default.bool,subRowDetails:s.default.object,isRowHovered:s.default.bool,colVisibleStartIdx:s.default.number.isRequired,colVisibleEndIdx:s.default.number.isRequired,colOverscanStartIdx:s.default.number.isRequired,colOverscanEndIdx:s.default.number.isRequired,isScrolling:s.default.bool.isRequired,columnGroupName:s.default.string.isRequired,isExpanded:s.default.bool.isRequired,treeDepth:s.default.number.isRequired,name:s.default.string.isRequired,renderer:s.default.func,eventBus:s.default.object.isRequired,rowRef:s.default.func.isRequired};var m=function(e){function t(){var e,n,r;d(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.onKeyDown=function(e){var t=r.props,n=t.onRowExpandToggle,i=t.isExpanded;"ArrowLeft"===e.key&&n(!1),"ArrowRight"===e.key&&n(!0),"Enter"===e.key&&n(!i)},p(r,n)}return h(t,e),i(t,[{key:"render",value:function(){var e=this.props,t=e.treeDepth,n=void 0===t?0:t,r=e.height,i=e.rowRef,o=e.onRowExpandClick,s=e.isExpanded,l=e.columnGroupDisplayName,u=e.name,c=20*n,f={height:r,border:"1px solid #dddddd",paddingTop:"15px",paddingLeft:"5px"};return a.default.createElement("div",{style:f,onKeyDown:this.onKeyDown,tabIndex:0,ref:i},a.default.createElement("span",{className:"row-expand-icon",style:{float:"left",marginLeft:c,cursor:"pointer"},onClick:o},s?String.fromCharCode(9660):String.fromCharCode(9658)),a.default.createElement("strong",null,l,": ",u))}}]),t}(o.Component);m.propTypes={onRowExpandClick:s.default.func.isRequired,onRowExpandToggle:s.default.func.isRequired,isExpanded:s.default.bool.isRequired,height:s.default.number.isRequired,treeDepth:s.default.number.isRequired,name:s.default.string.isRequired,columnGroupName:s.default.string.isRequired,columnGroupDisplayName:s.default.string.isRequired,rowRef:s.default.func.isRequired,hideColumnName:s.default.bool},g.defaultProps={renderer:m},t.default=g},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(n(31)),o=l(n(3)),a=l(n(6)),s=n(280);function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=n(2),d=n(253),p=function(e){function t(){var e,n,r;u(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state=(0,s.getGridState)(r.props),r.onScroll=function(e){var t=e.scrollTop,n=e.scrollLeft,i=r.props,o=i.rowHeight,a=i.rowsCount,s=i.onScroll,l=r.updateScroll({scrollTop:t,scrollLeft:n,height:r.state.height,rowHeight:o,rowsCount:a});s&&s(l)},r.getScroll=function(){return r.canvas.getScroll()},r.setScrollLeft=function(e){r.canvas.setScrollLeft(e)},r.getDOMNodeOffsetWidth=function(){return r.viewport?r.viewport.offsetWidth:0},r.clearScrollTimer=function(){r.resetScrollStateTimeoutId&&clearTimeout(r.resetScrollStateTimeoutId)},r.resetScrollStateAfterDelay=function(){r.clearScrollTimer(),r.resetScrollStateTimeoutId=setTimeout(r.resetScrollStateAfterDelayCallback,500)},r.resetScrollStateAfterDelayCallback=function(){r.resetScrollStateTimeoutId=null,r.setState({isScrolling:!1})},r.updateScroll=function(e){r.resetScrollStateAfterDelay();var t=r.getNextScrollState(e);return r.setState(t),t},r.metricsUpdated=function(){var e=r.viewportHeight(),t=r.viewportWidth();if(e){var n=r.state,i=n.scrollTop,o=n.scrollLeft,a=r.props,s=a.rowHeight,l=a.rowsCount;r.updateScroll({scrollTop:i,scrollLeft:o,height:e,rowHeight:s,rowsCount:l,width:t})}},r.viewportHeight=function(){return r.viewport?r.viewport.offsetHeight:0},r.viewportWidth=function(){return r.viewport?r.viewport.offsetWidth:0},r.setViewportRef=function(e){r.viewport=e},r.setCanvasRef=function(e){r.canvas=e},c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"getNextScrollState",value:function(e){var t=e.scrollTop,n=e.scrollLeft,r=e.height,i=e.rowHeight,o=e.rowsCount,l=this.props.columnMetrics.columns,u=(0,s.getScrollDirection)(this.state,t,n),c=(0,s.getVisibleBoundaries)(r,i,t,o),f=c.rowVisibleStartIdx,d=c.rowVisibleEndIdx,p=(0,s.getRowOverscanStartIdx)(u,f),h=(0,s.getRowOverscanEndIdx)(u,d,o),g=a.default.getSize(l),m=(0,s.findLastFrozenColumnIndex)(l),y=(0,s.getNonFrozenVisibleColStartIdx)(l,n),v=(0,s.getNonFrozenRenderedColumnCount)(this.props.columnMetrics,this.getDOMNodeOffsetWidth(),n),b=Math.min(y+v,g);return{height:r,scrollTop:t,scrollLeft:n,rowVisibleStartIdx:f,rowVisibleEndIdx:d,rowOverscanStartIdx:p,rowOverscanEndIdx:h,colVisibleStartIdx:y,colVisibleEndIdx:b,colOverscanStartIdx:(0,s.getColOverscanStartIdx)(u,y,m),colOverscanEndIdx:(0,s.getColOverscanEndIdx)(u,b,g),scrollDirection:u,lastFrozenColumnIndex:m,isScrolling:!0,prevScrollTop:this.state.scrollTop,prevScrollLeft:this.state.scrollTop}}},{key:"componentWillReceiveProps",value:function(e){var t=e.rowHeight,n=e.rowsCount;if(this.props.rowHeight!==e.rowHeight||this.props.minHeight!==e.minHeight){var r=(0,s.getGridState)(e),i=r.scrollTop,o=r.scrollLeft,l=r.height;this.updateScroll({scrollTop:i,scrollLeft:o,height:l,rowHeight:t,rowsCount:n})}else if(a.default.getSize(this.props.columnMetrics.columns)!==a.default.getSize(e.columnMetrics.columns))this.setState((0,s.getGridState)(e));else if(this.props.rowsCount!==e.rowsCount){var u=this.state,c=u.scrollTop,f=u.scrollLeft,d=u.height;this.updateScroll({scrollTop:c,scrollLeft:f,height:d,rowHeight:t,rowsCount:n})}else if(this.props.rowOffsetHeight!==e.rowOffsetHeight){var p=this.state,h=p.scrollTop,g=p.scrollLeft,m=this.state.height+this.props.rowOffsetHeight-e.rowOffsetHeight;this.updateScroll({scrollTop:h,scrollLeft:g,height:m,rowHeight:t,rowsCount:n})}}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.metricsUpdated),this.metricsUpdated()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.metricsUpdated),this.clearScrollTimer()}},{key:"render",value:function(){var e={padding:0,bottom:0,left:0,right:0,overflow:"hidden",position:"absolute",top:this.props.rowOffsetHeight};return f.createElement("div",{className:"react-grid-Viewport",style:e,ref:this.setViewportRef},f.createElement(d,{ref:this.setCanvasRef,rowKey:this.props.rowKey,totalWidth:this.props.totalWidth,width:this.props.columnMetrics.width,totalColumnWidth:this.props.columnMetrics.totalColumnWidth,rowGetter:this.props.rowGetter,rowsCount:this.props.rowsCount,selectedRows:this.props.selectedRows,expandedRows:this.props.expandedRows,columns:this.props.columnMetrics.columns,rowRenderer:this.props.rowRenderer,rowOverscanStartIdx:this.state.rowOverscanStartIdx,rowOverscanEndIdx:this.state.rowOverscanEndIdx,rowVisibleStartIdx:this.state.rowVisibleStartIdx,rowVisibleEndIdx:this.state.rowVisibleEndIdx,colVisibleStartIdx:this.state.colVisibleStartIdx,colVisibleEndIdx:this.state.colVisibleEndIdx,colOverscanStartIdx:this.state.colOverscanStartIdx,colOverscanEndIdx:this.state.colOverscanEndIdx,lastFrozenColumnIndex:this.state.lastFrozenColumnIndex,cellMetaData:this.props.cellMetaData,height:this.state.height,rowHeight:this.props.rowHeight,onScroll:this.onScroll,onRows:this.props.onRows,rowScrollTimeout:this.props.rowScrollTimeout,scrollToRowIndex:this.props.scrollToRowIndex,contextMenu:this.props.contextMenu,rowSelection:this.props.rowSelection,getSubRowDetails:this.props.getSubRowDetails,rowGroupRenderer:this.props.rowGroupRenderer,isScrolling:this.state.isScrolling||!1,enableCellSelect:this.props.enableCellSelect,enableCellAutoFocus:this.props.enableCellAutoFocus,cellNavigationMode:this.props.cellNavigationMode,eventBus:this.props.eventBus,onCheckCellIsEditable:this.props.onCheckCellIsEditable,onCellCopyPaste:this.props.onCellCopyPaste,onGridRowsUpdated:this.props.onGridRowsUpdated,onDragHandleDoubleClick:this.props.onDragHandleDoubleClick,onCellSelected:this.props.onCellSelected,onCellDeSelected:this.props.onCellDeSelected,onCellRangeSelectionStarted:this.props.onCellRangeSelectionStarted,onCellRangeSelectionUpdated:this.props.onCellRangeSelectionUpdated,onCellRangeSelectionCompleted:this.props.onCellRangeSelectionCompleted,onCommit:this.props.onCommit,RowsContainer:this.props.RowsContainer,prevScrollLeft:this.state.prevScrollLeft,prevScrollTop:this.state.prevScrollTop}))}}]),t}(f.Component);p.displayName="Viewport",p.propTypes={rowOffsetHeight:o.default.number.isRequired,totalWidth:o.default.oneOfType([o.default.number,o.default.string]).isRequired,columnMetrics:o.default.object.isRequired,rowGetter:o.default.oneOfType([o.default.array,o.default.func]).isRequired,selectedRows:o.default.array,rowSelection:o.default.oneOfType([o.default.shape({indexes:o.default.arrayOf(o.default.number).isRequired}),o.default.shape({isSelectedKey:o.default.string.isRequired}),o.default.shape({keys:o.default.shape({values:o.default.array.isRequired,rowKey:o.default.string.isRequired}).isRequired})]),expandedRows:o.default.array,rowRenderer:o.default.oneOfType([o.default.element,o.default.func]),rowsCount:o.default.number.isRequired,rowHeight:o.default.number.isRequired,onRows:o.default.func,onScroll:o.default.func,minHeight:o.default.number,cellMetaData:o.default.shape(i.default),rowKey:o.default.string.isRequired,rowScrollTimeout:o.default.number,scrollToRowIndex:o.default.number,contextMenu:o.default.element,getSubRowDetails:o.default.func,rowGroupRenderer:o.default.func,enableCellSelect:o.default.bool.isRequired,enableCellAutoFocus:o.default.bool.isRequired,cellNavigationMode:o.default.string.isRequired,eventBus:o.default.object.isRequired,onCheckCellIsEditable:o.default.func,onCellCopyPaste:o.default.func,onGridRowsUpdated:o.default.func.isRequired,onDragHandleDoubleClick:o.default.func.isRequired,onCellSelected:o.default.func,onCellDeSelected:o.default.func,onCellRangeSelectionStarted:o.default.func,onCellRangeSelectionUpdated:o.default.func,onCellRangeSelectionCompleted:o.default.func,onCommit:o.default.func.isRequired,RowsContainer:o.default.node},p.defaultProps={rowHeight:30},e.exports=p},function(e,t,n){"use strict";e.exports={SimpleCellFormatter:n(138),SelectAll:n(137)}},function(e,t,n){"use strict";var r,i=(r=n(270))&&r.__esModule?r:{default:r};e.exports={test:{GridPropHelpers:i.default}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});for(var n=[],r=0;r<1e3;r++)n.push({id:r,title:"Title "+r,count:1e3*r});t.default={columns:[{key:"id",name:"ID",width:100},{key:"title",name:"Title",width:100},{key:"count",name:"Count",width:100}],rowGetter:function(e){return n[e]},rowsCount:function(){return n.length},cellMetaData:{selected:{idx:2,rowIdx:3},dragged:null,copied:null}}},function(e,t,n){"use strict";var r=a(n(264)),i=a(n(44)),o=a(n(132));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=r.default,e.exports.Row=n(136),e.exports.Cell=o.default,e.exports.HeaderCell=n(134),e.exports.RowComparer=i.default,e.exports.EmptyChildRow=n(259),e.exports.editors=n(43),e.exports.formatters=n(268),e.exports.shapes=n(100),e.exports._constants=n(11),e.exports._helpers=n(269)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=l(n(2)),o=l(n(3)),a=n(49),s=l(n(48));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){var t=e.copiedPosition,n=e.columns,o=e.rowHeight,l=(0,a.getSelectedDimensions)({selectedPosition:t,columns:n,rowHeight:o});return i.default.createElement(s.default,r({},l,{className:"react-grid-cell-copied"}))}u.propTypes={copiedPosition:o.default.object.isRequired,columns:o.default.array.isRequired,rowHeight:o.default.number.isRequired},t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(2)),i=o(n(3));function o(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.onDragStart,n=e.onDragEnd,i=e.onDoubleClick;return r.default.createElement("div",{className:"drag-handle",draggable:"true",onDragStart:t,onDragEnd:n,onDoubleClick:i})}a.propTypes={onDragStart:i.default.func.isRequired,onDragEnd:i.default.func.isRequired,onDoubleClick:i.default.func.isRequired},t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=l(n(2)),o=l(n(3)),a=n(49),s=l(n(48));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){var t=e.draggedPosition,n=e.columns,o=e.rowHeight,l=t.overRowIdx,u=t.idx,c=t.rowIdx;if(null!=l&&c!==l){for(var f=c<l,d=f?c+1:l,p=f?l:c-1,h=f?"react-grid-cell-dragged-over-down":"react-grid-cell-dragged-over-up",g=(0,a.getSelectedDimensions)({selectedPosition:{idx:u,rowIdx:d},columns:n,rowHeight:o}),m=d+1;m<=p;m++){var y=(0,a.getSelectedDimensions)({selectedPosition:{idx:u,rowIdx:m},columns:n,rowHeight:o}).height;g.height+=y}return i.default.createElement(s.default,r({},g,{className:h}))}return null}u.propTypes={draggedPosition:o.default.object.isRequired,columns:o.default.array.isRequired,rowHeight:o.default.number.isRequired},t.default=u},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.subscribers={}}return n(e,[{key:"subscribe",value:function(e,t){this.subscribers[e]||(this.subscribers[e]=[]);var n=this.subscribers[e];return n.push(t),function(){var e=n.indexOf(t);e>0&&n.splice(e,1)}}},{key:"dispatch",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=this.subscribers[e];Array.isArray(i)&&i.forEach((function(e){return e.apply(void 0,n)}))}}]),e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(2),a=_(o),s=_(n(3)),l=_(n(277)),u=_(n(278)),c=_(n(272)),f=_(n(274)),d=_(n(273)),p=_(n(217)),h=n(11),g=n(127),m=n(49),y=n(5),v=x(n(6)),b=x(n(135));function x(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function _(e){return e&&e.__esModule?e:{default:e}}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}n(391);var O=function(e){function t(){var e,n,r;T(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=C(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),S.call(r),C(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidUpdate",value:function(e,t){var n=this.state,i=n.selectedPosition,o=n.isEditorEnabled,a=t.selectedPosition,s=t.isEditorEnabled,l=i!==a&&(i.rowIdx!==a.rowIdx||i.idx!==a.idx),u=o!==s&&!o;if(l){var c=this.props,f=c.onCellSelected,d=c.onCellDeSelected;(0,y.isFunction)(d)&&this.isCellWithinBounds(a)&&d(r({},a)),(0,y.isFunction)(f)&&this.isCellWithinBounds(i)&&f(r({},i))}(l&&this.isCellWithinBounds(i)||u)&&this.focus()}},{key:"componentDidMount",value:function(){var e=this.props,t=e.eventBus,n=e.enableCellAutoFocus;this.unsubscribeSelectCell=t.subscribe(h.EventTypes.SELECT_CELL,this.selectCell),this.unsubscribeSelectStart=t.subscribe(h.EventTypes.SELECT_START,this.onSelectCellRangeStarted),this.unsubscribeSelectUpdate=t.subscribe(h.EventTypes.SELECT_UPDATE,this.onSelectCellRangeUpdated),this.unsubscribeSelectEnd=t.subscribe(h.EventTypes.SELECT_END,this.onSelectCellRangeEnded),this.unsubscribeDragEnter=t.subscribe(h.EventTypes.DRAG_ENTER,this.handleDragEnter),n&&this.isFocusedOnBody()&&this.selectFirstCell()}},{key:"componentWillUnmount",value:function(){this.unsubscribeSelectCell(),this.unsubscribeSelectStart(),this.unsubscribeSelectUpdate(),this.unsubscribeSelectEnd(),this.unsubscribeDragEnter()}},{key:"isKeyboardNavigationEvent",value:function(e){return null!=this.getKeyNavActionFromEvent(e)}},{key:"isGroupedRowSelected",value:function(){var e=this.props.rowGetter,t=this.state.selectedPosition,n=(0,m.getSelectedRow)({selectedPosition:t,rowGetter:e});return!(!n||!n.__metaData)&&n.__metaData.isGroup}},{key:"getKeyNavActionFromEvent",value:function(e){var t=this.props,n=t.rowVisibleEndIdx,i=t.rowVisibleStartIdx,o=t.colVisibleEndIdx,a=t.colVisibleStartIdx,s=t.onHitBottomBoundary,l=t.onHitRightBoundary,u=t.onHitLeftBoundary,c=t.onHitTopBoundary,f=function(e){return e.rowIdx>=n-2},d=function(e){return 0!==e.rowIdx&&e.rowIdx<=i-1},p={ArrowDown:{getNext:function(e){return r({},e,{rowIdx:e.rowIdx+1})},isCellAtBoundary:f,onHitBoundary:s},ArrowUp:{getNext:function(e){return r({},e,{rowIdx:e.rowIdx-1})},isCellAtBoundary:d,onHitBoundary:c},ArrowRight:{getNext:function(e){return r({},e,{idx:e.idx+1})},isCellAtBoundary:function(e){return 0!==e.idx&&e.idx>=o-1},onHitBoundary:function(e){l(e),f(e)&&s(e)}},ArrowLeft:{getNext:function(e){return r({},e,{idx:e.idx-1})},isCellAtBoundary:function(e){return 0!==e.idx&&e.idx<=a+1},onHitBoundary:function(e){u(e),d(e)&&c(e)}}};return e.keyCode===b.Tab?!0===e.shiftKey?p.ArrowLeft:p.ArrowRight:p[e.key]}},{key:"changeCellFromEvent",value:function(e){e.preventDefault();var t=e.keyCode===b.Tab,n=e.shiftKey;if(t){var r=this.props.cellNavigationMode===h.CellNavigationMode.NONE?h.CellNavigationMode.CHANGE_ROW:this.props.cellNavigationMode;this.changeCellFromKeyAction(e,r)}else n?this.changeSelectedRangeFromArrowKeyAction(e):this.changeCellFromKeyAction(e,this.props.cellNavigationMode)}},{key:"changeCellFromKeyAction",value:function(e,t){var n=this.state.selectedPosition,r=this.getKeyNavActionFromEvent(e),i=this.getNextSelectedCellPositionForKeyNavAction(r,n,t);this.checkIsAtGridBoundary(r,i),i.changeRowOrColumn;var o=k(i,["changeRowOrColumn"]);this.selectCell(o)}},{key:"changeSelectedRangeFromArrowKeyAction",value:function(e){var t=this,n=this.props.cellNavigationMode,r=this.state.selectedRange.cursorCell||this.state.selectedPosition,i=this.getKeyNavActionFromEvent(e),o=this.getNextSelectedCellPositionForKeyNavAction(i,r,n);this.checkIsAtGridBoundary(i,o),o.changeRowOrColumn;var a=k(o,["changeRowOrColumn"]);this.onSelectCellRangeUpdated(a,!0,(function(){t.onSelectCellRangeEnded()}))}},{key:"getNextSelectedCellPositionForKeyNavAction",value:function(e,t,n){var r=(0,e.getNext)(t),i=this.props,o=i.columns,a=i.rowsCount;return(0,m.getNextSelectedCellPosition)({columns:o,rowsCount:a,cellNavigationMode:n},r)}},{key:"checkIsAtGridBoundary",value:function(e,t){var n=e.isCellAtBoundary,r=e.onHitBoundary,i=t.changeRowOrColumn,o=k(t,["changeRowOrColumn"]);(n(o)||i)&&r(o)}},{key:"createSingleCellSelectedRange",value:function(e,t){return{topLeft:e,bottomRight:e,startCell:e,cursorCell:e,isDragging:t}}},{key:"render",value:function(){var e=this.props,t=e.rowGetter,n=e.contextMenu,i=e.rowHeight,s=e.getSelectedRowColumns,l=this.state,u=l.isEditorEnabled,d=l.firstEditorKeyPress,h=l.selectedPosition,g=l.draggedPosition,y=l.copiedPosition,v=(0,m.getSelectedRow)({selectedPosition:h,rowGetter:t}),b=s(h.rowIdx);return a.default.createElement("div",{onKeyDown:this.onKeyDown,onFocus:this.onFocus},y&&a.default.createElement(c.default,{copiedPosition:y,rowHeight:i,columns:s(y.rowIdx)}),g&&a.default.createElement(f.default,{draggedPosition:g,rowHeight:i,columns:s(g.rowIdx)}),(0,m.selectedRangeIsSingleCell)(this.state.selectedRange)?this.getSingleCellSelectView():this.getCellRangeSelectView(),u&&a.default.createElement(p.default,r({firstEditorKeyPress:d,onCommit:this.onCommit,onCommitCancel:this.onCommitCancel,rowIdx:h.rowIdx,value:(0,m.getSelectedCellValue)({selectedPosition:h,columns:b,rowGetter:t}),rowData:v,column:(0,m.getSelectedColumn)({selectedPosition:h,columns:b}),scrollLeft:this.props.scrollLeft,scrollTop:this.props.scrollTop},(0,m.getSelectedDimensions)({selectedPosition:h,rowHeight:i,columns:b}))),(0,o.isValidElement)(n)&&(0,o.cloneElement)(n,r({},h)))}}]),t}(a.default.Component);O.propTypes={colVisibleStartIdx:s.default.number.isRequired,colVisibleEndIdx:s.default.number.isRequired,rowVisibleStartIdx:s.default.number.isRequired,rowVisibleEndIdx:s.default.number.isRequired,rowOverscanStartIdx:s.default.number.isRequired,columns:s.default.array,width:s.default.number,rowHeight:s.default.number.isRequired,rowGetter:s.default.func.isRequired,rowsCount:s.default.number.isRequired,enableCellSelect:s.default.bool.isRequired,enableCellAutoFocus:s.default.bool.isRequired,cellNavigationMode:s.default.oneOf([h.CellNavigationMode.NONE,h.CellNavigationMode.LOOP_OVER_ROW,h.CellNavigationMode.CHANGE_ROW]).isRequired,eventBus:s.default.object.isRequired,contextMenu:s.default.element,onCheckCellIsEditable:s.default.func,onCellCopyPaste:s.default.func,onGridRowsUpdated:s.default.func.isRequired,onHitBottomBoundary:s.default.func.isRequired,onHitTopBoundary:s.default.func.isRequired,onHitRightBoundary:s.default.func.isRequired,onHitLeftBoundary:s.default.func.isRequired,onCommit:s.default.func.isRequired,onCommitCancel:s.default.func,onCellSelected:s.default.func,onCellDeSelected:s.default.func,onCellRangeSelectionStarted:s.default.func,onCellRangeSelectionUpdated:s.default.func,onCellRangeSelectionCompleted:s.default.func,onCellsDragged:s.default.func,onDragHandleDoubleClick:s.default.func.isRequired,scrollLeft:s.default.number.isRequired,prevScrollLeft:s.default.number.isRequired,scrollTop:s.default.number.isRequired,prevScrollTop:s.default.number.isRequired,rows:s.default.array.isRequired,getSelectedRowHeight:s.default.func.isRequired,getSelectedRowTop:s.default.func.isRequired,getSelectedRowColumns:s.default.func.isRequired};var S=function(){var e=this;this.state={selectedPosition:{idx:-1,rowIdx:-1},selectedRange:{topLeft:{idx:-1,rowIdx:-1},bottomRight:{idx:-1,rowIdx:-1}},copiedPosition:null,draggedPosition:null,frozenPosition:null,isEditorEnabled:!1,firstEditorKeyPress:null},this.onKeyDown=function(t){(0,g.isCtrlKeyHeldDown)(t)?e.onPressKeyWithCtrl(t):t.keyCode===b.Escape?e.onPressEscape(t):t.keyCode===b.Tab?e.onPressTab(t):e.isKeyboardNavigationEvent(t)?e.changeCellFromEvent(t):((0,g.isKeyPrintable)(t.keyCode)||-1!==[b.Backspace,b.Delete,b.Enter].indexOf(t.keyCode))&&e.openEditor(t)},this.isSelectedCellEditable=function(){var t=e.props,n=t.enableCellSelect,r=t.columns,i=t.rowGetter,o=t.onCheckCellIsEditable,a=e.state.selectedPosition;return(0,m.isSelectedCellEditable)({enableCellSelect:n,columns:r,rowGetter:i,selectedPosition:a,onCheckCellIsEditable:o})},this.openEditor=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.key;e.isSelectedCellEditable()&&!e.state.isEditorEnabled&&e.setState({isEditorEnabled:!0,firstEditorKeyPress:n})},this.closeEditor=function(){e.setState({isEditorEnabled:!1,firstEditorKeyPress:null})},this.onPressKeyWithCtrl=function(t){var n=t.keyCode;if(e.copyPasteEnabled())if(n===b.c){var r=e.props,i=r.columns,o=r.rowGetter,a=e.state.selectedPosition,s=(0,m.getSelectedCellValue)({selectedPosition:a,columns:i,rowGetter:o});e.handleCopy({value:s})}else n===b.v&&e.handlePaste()},this.onFocus=function(t){var n=!0===t.shiftKey,r=e.state.selectedPosition,i=r.idx,o=r.rowIdx;-1===i&&-1===o&&(n?e.selectLastCell():e.selectFirstCell())},this.onPressTab=function(t){var n=e.props,r=n.cellNavigationMode,i=n.columns,o=n.rowsCount,a=e.state,s=a.selectedPosition,l=a.isEditorEnabled;if(0!==o)return(0,m.canExitGrid)(t,{cellNavigationMode:r,columns:i,rowsCount:o,selectedPosition:s})?l?void e.closeEditor():void e.setState({selectedPosition:{idx:-1,rowIdx:-1}}):void e.changeCellFromEvent(t)},this.onPressEscape=function(){e.copyPasteEnabled()&&(e.handleCancelCopy(),e.closeEditor())},this.copyPasteEnabled=function(){return null!==e.props.onCellCopyPaste&&e.isSelectedCellEditable()},this.handleCopy=function(t){var n=t.value,r=e.state.selectedPosition,i=r.rowIdx,o=r.idx;e.setState({copiedPosition:{rowIdx:i,idx:o,value:n}})},this.handleCancelCopy=function(){e.setState({copiedPosition:null})},this.handlePaste=function(){var t=e.props,n=t.columns,r=t.onCellCopyPaste,i=t.onGridRowsUpdated,o=e.state,a=o.selectedPosition,s=o.copiedPosition,l=a.rowIdx;if(null!=s){var u=(0,m.getSelectedColumn)({selectedPosition:a,columns:n}).key,c=s.rowIdx,f=s.value;(0,y.isFunction)(r)&&r({cellKey:u,rowIdx,fromRow:c,toRow:l,value:f}),i(u,l,l,w({},u,f),h.UpdateActions.COPY_PASTE,c)}},this.isCellWithinBounds=function(t){var n=t.idx,r=t.rowIdx,i=e.props,o=i.columns,a=i.rowsCount;return r>=0&&r<a&&n>=0&&n<v.getSize(o)},this.isGridSelected=function(){return e.isCellWithinBounds(e.state.selectedPosition)},this.isFocused=function(){return document.activeElement===e.selectionMask},this.isFocusedOnBody=function(){return document.activeElement===document.body},this.focus=function(){e.selectionMask&&!e.isFocused()&&e.selectionMask.focus()},this.selectFirstCell=function(){e.selectCell({rowIdx:0,idx:0})},this.selectLastCell=function(){var t=e.props,n=t.rowsCount,r=t.columns;e.selectCell({rowIdx:n-1,idx:v.getSize(r)-1})},this.selectCell=function(t,n){var i=n?e.openEditor:function(){return null};e.setState((function(n){var i=r({},n.selectedPosition,t);return e.isCellWithinBounds(i)?{selectedPosition:i,prevSelectedPosition:t,selectedRange:{topLeft:i,bottomRight:i,startCell:i,cursorCell:i,isDragging:!1}}:n}),i)},this.onSelectCellRangeStarted=function(t){e.setState({selectedRange:e.createSingleCellSelectedRange(t,!0),selectedPosition:t},(function(){(0,y.isFunction)(e.props.onCellRangeSelectionStarted)&&e.props.onCellRangeSelectionStarted(e.state.selectedRange)}))},this.onSelectCellRangeUpdated=function(t,n,i){if((e.state.selectedRange.isDragging||n)&&e.isCellWithinBounds(t)){var o=e.state.selectedRange.startCell||e.state.selectedPosition,a=[o.idx,t.idx].sort((function(e,t){return e-t})),s=[o.rowIdx,t.rowIdx].sort((function(e,t){return e-t})),l={idx:a[0],rowIdx:s[0]},u={idx:a[1],rowIdx:s[1]},c=r({startCell:e.state.selectedPosition},e.state.selectedRange,{topLeft:l,bottomRight:u,cursorCell:t});e.setState({selectedRange:c},(function(){(0,y.isFunction)(e.props.onCellRangeSelectionUpdated)&&e.props.onCellRangeSelectionUpdated(e.state.selectedRange),(0,y.isFunction)(i)&&i()}))}},this.onSelectCellRangeEnded=function(){var t=r({},e.state.selectedRange,{isDragging:!1});e.setState({selectedRange:t},(function(){(0,y.isFunction)(e.props.onCellRangeSelectionCompleted)&&e.props.onCellRangeSelectionCompleted(e.state.selectedRange),e.focus()}))},this.isDragEnabled=function(){var t=e.props,n=t.onGridRowsUpdated,r=t.onCellsDragged;return e.isSelectedCellEditable()&&((0,y.isFunction)(n)||(0,y.isFunction)(r))},this.handleDragStart=function(t){var n=e.state.selectedPosition,r=n.idx,i=n.rowIdx,o=t&&t.target&&t.target.className;if(r>-1&&o){t.dataTransfer.effectAllowed="copy";var a=JSON.stringify({idx:r,rowIdx:i});try{t.dataTransfer.setData("text/plain",a)}catch(e){t.dataTransfer.setData("text",a)}e.setState({draggedPosition:{idx:r,rowIdx:i}})}},this.handleDragEnter=function(t){var n=t.overRowIdx;null!=e.state.draggedPosition&&e.setState((function(e){var t=e.draggedPosition;return{draggedPosition:r({},t,{overRowIdx:n})}}))},this.handleDragEnd=function(){var t=e.state.draggedPosition;if(null!=t){var n=t.rowIdx,r=t.overRowIdx;if(null!=r){var i=e.props,o=i.columns,a=i.onCellsDragged,s=i.onGridRowsUpdated,l=i.rowGetter,u=(0,m.getSelectedColumn)({selectedPosition:t,columns:o}),c=(0,m.getSelectedCellValue)({selectedPosition:t,columns:o,rowGetter:l}),f=u.key,d=n<r?n:r,p=n>r?n:r;(0,y.isFunction)(a)&&a({cellKey:f,fromRow:d,toRow:p,value:c}),(0,y.isFunction)(s)&&s(f,d,p,w({},f,c),h.UpdateActions.CELL_DRAG)}e.setState({draggedPosition:null})}},this.onDragHandleDoubleClick=function(){var t=e.props,n=t.onDragHandleDoubleClick,r=t.rowGetter,i=e.state.selectedPosition;n({idx:i.idx,rowIdx:i.rowIdx,rowData:(0,m.getSelectedRow)({selectedPosition:i,rowGetter:r})})},this.onCommit=function(){var t;(t=e.props).onCommit.apply(t,arguments),e.closeEditor()},this.onCommitCancel=function(){e.closeEditor()},this.setSelectionMaskRef=function(t){e.selectionMask=t},this.getSelectionMaskProps=function(){var t=e.props,n=t.columns,r=t.getSelectedRowHeight,i=t.getSelectedRowTop,o=t.scrollLeft;return{columns:n,scrollTop:t.scrollTop,scrollLeft:o,getSelectedRowHeight:r,getSelectedRowTop:i,prevScrollLeft:t.prevScrollLeft,prevScrollTop:t.prevScrollTop,prevSelectedPosition:e.state.prevSelectedPosition,isGroupedRow:e.isGroupedRowSelected(),innerRef:e.setSelectionMaskRef}},this.getSingleCellSelectView=function(){var t=e.state.selectedPosition;return!e.state.isEditorEnabled&&e.isGridSelected()&&a.default.createElement(l.default,r({selectedPosition:t},e.getSelectionMaskProps()),e.isDragEnabled()&&a.default.createElement(d.default,{onDragStart:e.handleDragStart,onDragEnd:e.handleDragEnd,onDoubleClick:e.onDragHandleDoubleClick}))},this.getCellRangeSelectView=function(){var t=e.props,n=t.columns,i=t.rowHeight;return[a.default.createElement(u.default,{key:"range-mask",selectedRange:e.state.selectedRange,columns:n,rowHeight:i}),a.default.createElement(l.default,r({key:"selection-mask",selectedPosition:e.state.selectedRange.startCell},e.getSelectionMaskProps()))]}};t.default=O},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCellMaskDimensions=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=u(n(2)),o=u(n(3)),a=u(n(48)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(6)),l=u(n(79));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e,t){var n=t.idx;return s.isFrozen(s.getColumn(e,n))},f=function(e){var t=e.scrollTop,n=e.prevScrollTop,r=e.scrollLeft,i=e.prevScrollLeft,o=e.selectedPosition,a=e.prevSelectedPosition;return r!==i&&t===n&&o.idx===a.idx},d=t.getCellMaskDimensions=function(e){var t=e.selectedPosition,n=e.columns,r=e.getSelectedRowHeight,i=e.getSelectedRowTop,o=s.getColumn(n,t.idx),a=r(t.rowIdx),u=i(t.rowIdx),d=c(n,t),p=d?l.default.FROZEN_CELL_MASK:l.default.CELL_MASK,h=function(e,t,n){return e&&!f(n)?n.scrollLeft+t:t}(d,o.left,e);return{height:a,top:u,width:o.width,left:h,zIndex:p}};function p(e){var t=e.children,n=e.innerRef,o=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["children","innerRef"]),s=d(o),l=c(o.columns,o.selectedPosition)&&f(o)?"fixed":"absolute";return i.default.createElement(a.default,r({},s,{className:"rdg-selected",position:l,innerRef:n,tabIndex:"0"}),t)}p.propTypes={selectedPosition:o.default.object.isRequired,columns:o.default.array.isRequired,innerRef:o.default.func},t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=l(n(2)),o=l(n(3)),a=n(49),s=l(n(48));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){var t=e.selectedRange,n=e.columns,o=e.rowHeight,l=e.children,u=(0,a.getSelectedRangeDimensions)({selectedRange:t,columns:n,rowHeight:o});return i.default.createElement(s.default,r({},u,{className:"rdg-selected-range"}),l)}u.propTypes={selectedRange:o.default.shape({topLeft:o.default.shape({idx:o.default.number.isRequired,rowIdx:o.default.number.isRequired}).isRequired,bottomRight:o.default.shape({idx:o.default.number.isRequired,rowIdx:o.default.number.isRequired}).isRequired,startCell:o.default.shape({idx:o.default.number.isRequired,rowIdx:o.default.number.isRequired}).isRequired,cursorCell:o.default.shape({idx:o.default.number.isRequired,rowIdx:o.default.number.isRequired}).isRequired}).isRequired,columns:o.default.array.isRequired,rowHeight:o.default.number.isRequired},t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getColumnScrollPosition=void 0;var r=n(6);t.getColumnScrollPosition=function(e,t,n,i){for(var o=0,a=0,s=0;s<t;s++){var l=(0,r.getColumn)(e,s);l&&(l.width&&(o+=l.width),(0,r.isFrozen)(l)&&(a+=l.width))}var u=(0,r.getColumn)(e,t);if(u){var c=o-a-n,f=o+u.width-n;if(c<0)return c;if(f>i)return f-i}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getColOverscanEndIdx=t.getColOverscanStartIdx=t.getRowOverscanEndIdx=t.getRowOverscanStartIdx=t.getScrollDirection=t.getVisibleBoundaries=t.getNonFrozenRenderedColumnCount=t.getNonFrozenVisibleColStartIdx=t.findLastFrozenColumnIndex=t.getGridState=t.SCROLL_DIRECTION=t.OVERSCAN_ROWS=void 0;var r,i=(r=n(6))&&r.__esModule?r:{default:r},o=t.OVERSCAN_ROWS=2,a=t.SCROLL_DIRECTION={UP:"upwards",DOWN:"downwards",LEFT:"left",RIGHT:"right",NONE:"none"},s=Math.min,l=Math.max,u=Math.ceil,c=(t.getGridState=function(e){var t=i.default.getSize(e.columnMetrics.columns),n=e.minHeight-e.rowOffsetHeight,r=u((e.minHeight-e.rowHeight)/e.rowHeight);return{rowOverscanStartIdx:0,rowOverscanEndIdx:s(e.rowsCount,2*r),rowVisibleStartIdx:0,rowVisibleEndIdx:r,height:n,scrollTop:0,scrollLeft:0,colVisibleStartIdx:0,colVisibleEndIdx:t,colOverscanStartIdx:0,colOverscanEndIdx:t,isScrolling:!1,lastFrozenColumnIndex:0}},t.findLastFrozenColumnIndex=function(e){var t=-1;return e.forEach((function(e,n){i.default.isFrozen(e)&&(t=n)})),t}),f=t.getNonFrozenVisibleColStartIdx=function(e,t){for(var n=t,r=c(e),o=e.slice(r+1),a=r;n>=0&&a<i.default.getSize(o);){a++;var s=i.default.getColumn(e,a);n-=s?s.width:0}return Math.max(a,0)};t.getNonFrozenRenderedColumnCount=function(e,t,n){var r=e.columns;if(0===i.default.getSize(r))return 0;var o=f(e.columns,n),a=function(e){var t=c(e);if(t>-1){var n=i.default.getColumn(e,t);return n.left+n.width}return 0}(e.columns),s=t>0?t:e.totalColumnWidth,l=i.default.getColumn(e.columns,o),u=a+n,d=s-a+(u>l.left?u-l.left:0);return function(e,t,n){var r={width:t,count:0};return e.slice(n).reduce((function(e,t){var n=e.width,r=e.count,i=n-t.width;return{width:i,count:i>=0?r+1:r}}),r)}(e.columns,d,o).count},t.getVisibleBoundaries=function(e,t,n,r){var i=u(e/t),o=l(0,Math.round(n/t));return{rowVisibleStartIdx:o,rowVisibleEndIdx:s(o+i,r)}},t.getScrollDirection=function(e,t,n){return t!==e.scrollTop&&void 0!==e.scrollTop?t-e.scrollTop>=0?a.DOWN:a.UP:n!==e.scrollLeft&&void 0!==e.scrollLeft?n-e.scrollLeft>=0?a.RIGHT:a.LEFT:a.NONE},t.getRowOverscanStartIdx=function(e,t){return l(0,e===a.UP?t-o:t)},t.getRowOverscanEndIdx=function(e,t,n){return e===a.DOWN?s(t+o,n):t},t.getColOverscanStartIdx=function(e,t,n){return e===a.LEFT||e===a.RIGHT?n>-1?n+1:0:t},t.getColOverscanEndIdx=function(e,t,n){return e===a.DOWN||e===a.UP?t:n}},,function(e,t,n){(e.exports=n(8)()).push([e.id,'.rdg-selected{border:2px solid #66afe9}.rdg-selected .drag-handle{pointer-events:auto;position:absolute;bottom:-5px;right:-4px;background:#66afe9;width:8px;height:8px;border:1px solid #fff;border-right:0;border-bottom:0;z-index:8;cursor:crosshair;cursor:-moz-grab;cursor:-webkit-grab;cursor:grab}.rdg-selected:hover .drag-handle{bottom:-8px;right:-7px;background:#fff;width:16px;height:16px;border:1px solid #66afe9}.rdg-selected:hover .drag-handle .glyphicon-arrow-down{display:"block"}.react-grid-cell-dragged-over-down,.react-grid-cell-dragged-over-up{border:1px dashed #000;background:rgba(0,0,255,.2)!important}.react-grid-cell-dragged-over-up{border-bottom-width:0}.react-grid-cell-dragged-over-down{border-top-width:0}.react-grid-cell-copied{background:rgba(0,0,255,.2)!important}.rdg-editor-container input.editor-main,select.editor-main{display:block;width:100%;height:34px;padding:6px 12px;font-size:14px;line-height:1.42857143;color:#555;background-color:#fff;background-image:none;border:1px solid #ccc;border-radius:4px;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075)}input.editor-main:focus,select.editor-main:focus{border-color:#66afe9;border:2px solid #66afe9;background:#eee;border-radius:4px}.rdg-editor-container input.editor-main::-moz-placeholder,select.editor-main::-moz-placeholder{color:#999;opacity:1}.rdg-editor-container input.editor-main:-ms-input-placeholder,select.editor-main:-ms-input-placeholder{color:#999}.rdg-editor-container input.editor-main::-webkit-input-placeholder,select.editor-main::-webkit-input-placeholder{color:#999}.rdg-editor-container input.editor-main[disabled],.rdg-editor-container input.editor-main[readonly],fieldset[disabled] .rdg-editor-container input.editor-main,fieldset[disabled] select.editor-main,select.editor-main[disabled],select.editor-main[readonly]{cursor:not-allowed;background-color:#eee;opacity:1}textarea.rdg-editor-container input.editor-main,textareaselect.editor-main{height:auto}',""])},function(e,t,n){(e.exports=n(8)()).push([e.id,".react-grid-Container{clear:both;margin-top:0;padding:0}.react-grid-Main{background-color:#fff;color:inherit;padding:0;outline:1px solid #e7eaec;clear:both}.react-grid-Grid{border:1px solid #ddd;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.react-grid-Canvas,.react-grid-Grid{background-color:#fff}",""])},,function(e,t,n){(e.exports=n(8)()).push([e.id,".react-grid-Header{box-shadow:0 0 4px 0 #ddd;background:#f9f9f9}.react-grid-Header--resizing{cursor:ew-resize}.react-grid-HeaderCell,.react-grid-HeaderRow{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.react-grid-HeaderCell{background:#f9f9f9;padding:8px;font-weight:700;border-right:1px solid #ddd;border-bottom:1px solid #ddd}.react-grid-HeaderCell__value{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;position:relative;top:50%;transform:translateY(-50%)}.react-grid-HeaderCell__resizeHandle:hover{cursor:ew-resize;background:#ddd}.react-grid-HeaderCell--frozen:last-of-type{box-shadow:2px 0 5px -2px hsla(0,0%,53%,.3)}.react-grid-HeaderCell--resizing .react-grid-HeaderCell__resizeHandle{background:#ddd}.react-grid-HeaderCell__draggable{cursor:col-resize}.rdg-can-drop>.react-grid-HeaderCell{background:#ececec}.react-grid-HeaderCell .Select{max-height:30px;font-size:12px;font-weight:400}.react-grid-HeaderCell .Select-control{max-height:30px;border:1px solid #ccc;color:#555;border-radius:3px}.react-grid-HeaderCell .is-focused:not(.is-open)>.Select-control{border-color:#66afe9;outline:0;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(102,175,233,.6);box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(102,175,233,.6)}.react-grid-HeaderCell .Select-control .Select-placeholder{line-height:20px;color:#999;padding:4px}.react-grid-HeaderCell .Select-control .Select-input{max-height:28px;padding:4px;margin-left:0}.react-grid-HeaderCell .Select-control .Select-input input{padding:0;height:100%}.react-grid-HeaderCell .Select-control .Select-arrow-zone .Select-arrow{border-color:gray transparent transparent;border-width:4px 4px 2.5px}.react-grid-HeaderCell .Select-control .Select-value{padding:4px;line-height:20px!important}.react-grid-HeaderCell .Select--multi .Select-control .Select-value{padding:0;line-height:16px!important;max-height:20px}.react-grid-HeaderCell .Select--multi .Select-control .Select-value .Select-value-icon,.react-grid-HeaderCell .Select--multi .Select-control .Select-value .Select-value-label{max-height:20px}.react-grid-HeaderCell .Select-control .Select-value .Select-value-label{color:#555!important}.react-grid-HeaderCell .Select-menu-outer{z-index:2}.react-grid-HeaderCell .Select-menu-outer .Select-option{padding:4px;line-height:20px}.react-grid-HeaderCell .Select-menu-outer .Select-menu .Select-option.is-focused,.react-grid-HeaderCell .Select-menu-outer .Select-menu .Select-option.is-selected{color:#555}",""])},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function r(e,t){var n=!1;return function(){for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i[0],s=i[1],l=a[s];return null==l||n||(n=!0,console.warn(t)),e.call.apply(e,[this].concat(i))}}t.deprecate=r,t.addIsDeprecated=function(e){var t=n({},e);for(var i in t)if(t.hasOwnProperty(i)){var o=t[i];(o=o.bind(t)).isDeprecated=r.bind(t,o),t[i]=o}return t}},,,,,,,,function(e,t){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),l=0;l<o.length;l++){var u=o[l];if(!s(u))return!1;var c=e[u],f=t[u];if(!1===(i=n?n.call(r,c,f,u):void 0)||void 0===i&&c!==f)return!1}return!0}},,function(e,t,n){var r=n(282);"string"==typeof r&&(r=[[e.id,r,""]]),n(9)(r,{}),r.locals&&(e.exports=r.locals)}])},e.exports=r(n(67294),n(73935))},53370:(e,t,n)=>{e.exports=n(40464)},38698:(e,t,n)=>{"use strict";var r=n(27418),i=n(67294);function o(e){for(var t=e.message,n="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r]);return e.message="Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",e}var a="function"==typeof Symbol&&Symbol.for,s=a?Symbol.for("react.portal"):60106,l=a?Symbol.for("react.fragment"):60107,u=a?Symbol.for("react.strict_mode"):60108,c=a?Symbol.for("react.profiler"):60114,f=a?Symbol.for("react.provider"):60109,d=a?Symbol.for("react.context"):60110,p=a?Symbol.for("react.concurrent_mode"):60111,h=a?Symbol.for("react.forward_ref"):60112,g=a?Symbol.for("react.suspense"):60113,m=a?Symbol.for("react.suspense_list"):60120,y=a?Symbol.for("react.memo"):60115,v=a?Symbol.for("react.lazy"):60116,b=a?Symbol.for("react.fundamental"):60117,x=a?Symbol.for("react.scope"):60119,_=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function w(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case l:return"Fragment";case s:return"Portal";case c:return"Profiler";case u:return"StrictMode";case g:return"Suspense";case m:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case d:return"Context.Consumer";case f:return"Context.Provider";case h:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case y:return w(e.type);case v:if(e=1===e._status?e._result:null)return w(e)}return null}_.hasOwnProperty("ReactCurrentDispatcher")||(_.ReactCurrentDispatcher={current:null}),_.hasOwnProperty("ReactCurrentBatchConfig")||(_.ReactCurrentBatchConfig={suspense:null});var k={};function T(e,t){for(var n=0|e._threadCount;n<=t;n++)e[n]=e._currentValue2,e._threadCount=n+1}for(var C=new Uint16Array(16),O=0;15>O;O++)C[O]=O+1;C[15]=0;var S=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,A=Object.prototype.hasOwnProperty,M={},E={};function P(e){return!!A.call(E,e)||!A.call(M,e)&&(S.test(e)?E[e]=!0:(M[e]=!0,!1))}function D(e,t,n,r,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o}var L={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){L[e]=new D(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];L[t]=new D(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){L[e]=new D(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){L[e]=new D(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){L[e]=new D(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){L[e]=new D(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){L[e]=new D(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){L[e]=new D(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){L[e]=new D(e,5,!1,e.toLowerCase(),null,!1)}));var R=/[\-:]([a-z])/g;function I(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(R,I);L[t]=new D(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(R,I);L[t]=new D(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(R,I);L[t]=new D(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){L[e]=new D(e,1,!1,e.toLowerCase(),null,!1)})),L.xlinkHref=new D("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){L[e]=new D(e,1,!1,e.toLowerCase(),null,!0)}));var N=/["'&<>]/;function j(e){if("boolean"==typeof e||"number"==typeof e)return""+e;e=""+e;var t=N.exec(e);if(t){var n,r="",i=0;for(n=t.index;n<e.length;n++){switch(e.charCodeAt(n)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}i!==n&&(r+=e.substring(i,n)),i=n+1,r+=t}e=i!==n?r+e.substring(i,n):r}return e}function z(e,t){var n,r=L.hasOwnProperty(e)?L[e]:null;return(n="style"!==e)&&(n=null!==r?0===r.type:2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])),n||function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e;default:return!1}}(e,t,n))return!0;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(e,t,r)?"":null!==r?(e=r.attributeName,3===(n=r.type)||4===n&&!0===t?e+'=""':(r.sanitizeURL&&(t=""+t),e+'="'+j(t)+'"')):P(e)?e+'="'+j(t)+'"':""}var q="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},F=null,B=null,H=null,U=!1,V=!1,W=null,G=0;function K(){if(null===F)throw o(Error(321));return F}function Y(){if(0<G)throw o(Error(312));return{memoizedState:null,queue:null,next:null}}function Z(){return null===H?null===B?(U=!1,B=H=Y()):(U=!0,H=B):null===H.next?(U=!1,H=H.next=Y()):(U=!0,H=H.next),H}function X(e,t,n,r){for(;V;)V=!1,G+=1,H=null,n=e(t,r);return B=F=null,G=0,H=W=null,n}function $(e,t){return"function"==typeof t?t(e):t}function J(e,t,n){if(F=K(),H=Z(),U){var r=H.queue;if(t=r.dispatch,null!==W&&void 0!==(n=W.get(r))){W.delete(r),r=H.memoizedState;do{r=e(r,n.action),n=n.next}while(null!==n);return H.memoizedState=r,[r,t]}return[H.memoizedState,t]}return e=e===$?"function"==typeof t?t():t:void 0!==n?n(t):t,H.memoizedState=e,e=(e=H.queue={last:null,dispatch:null}).dispatch=Q.bind(null,F,e),[H.memoizedState,e]}function Q(e,t,n){if(!(25>G))throw o(Error(301));if(e===F)if(V=!0,e={action:n,next:null},null===W&&(W=new Map),void 0===(n=W.get(t)))W.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}}function ee(){}var te=0,ne={readContext:function(e){var t=te;return T(e,t),e[t]},useContext:function(e){K();var t=te;return T(e,t),e[t]},useMemo:function(e,t){if(F=K(),t=void 0===t?null:t,null!==(H=Z())){var n=H.memoizedState;if(null!==n&&null!==t){e:{var r=n[1];if(null===r)r=!1;else{for(var i=0;i<r.length&&i<t.length;i++)if(!q(t[i],r[i])){r=!1;break e}r=!0}}if(r)return n[0]}}return e=e(),H.memoizedState=[e,t],e},useReducer:J,useRef:function(e){F=K();var t=(H=Z()).memoizedState;return null===t?(e={current:e},H.memoizedState=e):t},useState:function(e){return J($,e)},useLayoutEffect:function(){},useCallback:function(e){return e},useImperativeHandle:ee,useEffect:ee,useDebugValue:ee,useResponder:function(e,t){return{props:t,responder:e}}},re="http://www.w3.org/1999/xhtml";function ie(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}var oe={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},ae=r({menuitem:!0},oe),se={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},le=["Webkit","ms","Moz","O"];Object.keys(se).forEach((function(e){le.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),se[t]=se[e]}))}));var ue=/([A-Z])/g,ce=/^ms-/,fe=i.Children.toArray,de=_.ReactCurrentDispatcher,pe={listing:!0,pre:!0,textarea:!0},he=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,ge={},me={},ye=Object.prototype.hasOwnProperty,ve={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null,suppressHydrationWarning:null};function be(e,t){if(void 0===e)throw o(Error(152),w(t)||"Component")}var xe=function(){function e(e,t){i.isValidElement(e)?e.type!==l?e=[e]:(e=e.props.children,e=i.isValidElement(e)?[e]:fe(e)):e=fe(e),e={type:null,domNamespace:re,children:e,childIndex:0,context:k,footer:""};var n=C[0];if(0===n){var r=C,a=2*(n=r.length);if(!(65536>=a))throw o(Error(304));var s=new Uint16Array(a);for(s.set(r),(C=s)[0]=n+1,r=n;r<a-1;r++)C[r]=r+1;C[a-1]=0}else C[0]=C[n];this.threadID=n,this.stack=[e],this.exhausted=!1,this.currentSelectValue=null,this.previousWasTextNode=!1,this.makeStaticMarkup=t,this.suspenseDepth=0,this.contextIndex=-1,this.contextStack=[],this.contextValueStack=[]}var t=e.prototype;return t.destroy=function(){if(!this.exhausted){this.exhausted=!0,this.clearProviders();var e=this.threadID;C[e]=C[0],C[0]=e}},t.pushProvider=function(e){var t=++this.contextIndex,n=e.type._context,r=this.threadID;T(n,r);var i=n[r];this.contextStack[t]=n,this.contextValueStack[t]=i,n[r]=e.props.value},t.popProvider=function(){var e=this.contextIndex,t=this.contextStack[e],n=this.contextValueStack[e];this.contextStack[e]=null,this.contextValueStack[e]=null,this.contextIndex--,t[this.threadID]=n},t.clearProviders=function(){for(var e=this.contextIndex;0<=e;e--)this.contextStack[e][this.threadID]=this.contextValueStack[e]},t.read=function(e){if(this.exhausted)return null;var t=te;te=this.threadID;var n=de.current;de.current=ne;try{for(var r=[""],i=!1;r[0].length<e;){if(0===this.stack.length){this.exhausted=!0;var a=this.threadID;C[a]=C[0],C[0]=a;break}var s=this.stack[this.stack.length-1];if(i||s.childIndex>=s.children.length){var l=s.footer;if(""!==l&&(this.previousWasTextNode=!1),this.stack.pop(),"select"===s.type)this.currentSelectValue=null;else if(null!=s.type&&null!=s.type.type&&s.type.type.$$typeof===f)this.popProvider(s.type);else if(s.type===g){this.suspenseDepth--;var u=r.pop();if(i){i=!1;var c=s.fallbackFrame;if(!c)throw o(Error(303));this.stack.push(c),r[this.suspenseDepth]+="\x3c!--$!--\x3e";continue}r[this.suspenseDepth]+=u}r[this.suspenseDepth]+=l}else{var d=s.children[s.childIndex++],p="";try{p+=this.render(d,s.context,s.domNamespace)}catch(e){if(null!=e&&"function"==typeof e.then)throw o(Error(294));throw e}r.length<=this.suspenseDepth&&r.push(""),r[this.suspenseDepth]+=p}}return r[0]}finally{de.current=n,te=t}},t.render=function(e,t,n){if("string"==typeof e||"number"==typeof e)return""==(n=""+e)?"":this.makeStaticMarkup?j(n):this.previousWasTextNode?"\x3c!-- --\x3e"+j(n):(this.previousWasTextNode=!0,j(n));if(e=(t=function(e,t,n){function a(i,a){var s=a.prototype&&a.prototype.isReactComponent,l=function(e,t,n,r){if(r&&"object"==typeof(r=e.contextType)&&null!==r)return T(r,n),r[n];if(e=e.contextTypes){for(var i in n={},e)n[i]=t[i];t=n}else t=k;return t}(a,t,n,s),u=[],c=!1,f={isMounted:function(){return!1},enqueueForceUpdate:function(){if(null===u)return null},enqueueReplaceState:function(e,t){c=!0,u=[t]},enqueueSetState:function(e,t){if(null===u)return null;u.push(t)}};if(s){if(s=new a(i.props,l,f),"function"==typeof a.getDerivedStateFromProps){var d=a.getDerivedStateFromProps.call(null,i.props,s.state);null!=d&&(s.state=r({},s.state,d))}}else if(F={},s=a(i.props,l,f),null==(s=X(a,i.props,s,l))||null==s.render)return void be(e=s,a);if(s.props=i.props,s.context=l,s.updater=f,void 0===(f=s.state)&&(s.state=f=null),"function"==typeof s.UNSAFE_componentWillMount||"function"==typeof s.componentWillMount)if("function"==typeof s.componentWillMount&&"function"!=typeof a.getDerivedStateFromProps&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&"function"!=typeof a.getDerivedStateFromProps&&s.UNSAFE_componentWillMount(),u.length){f=u;var p=c;if(u=null,c=!1,p&&1===f.length)s.state=f[0];else{d=p?f[0]:s.state;var h=!0;for(p=p?1:0;p<f.length;p++){var g=f[p];null!=(g="function"==typeof g?g.call(s,d,i.props,l):g)&&(h?(h=!1,d=r({},d,g)):r(d,g))}s.state=d}}else u=null;if(be(e=s.render(),a),"function"==typeof s.getChildContext&&"object"==typeof(i=a.childContextTypes)){var m=s.getChildContext();for(var y in m)if(!(y in i))throw o(Error(108),w(a)||"Unknown",y)}m&&(t=r({},t,m))}for(;i.isValidElement(e);){var s=e,l=s.type;if("function"!=typeof l)break;a(s,l)}return{child:e,context:t}}(e,t,this.threadID)).child,t=t.context,null===e||!1===e)return"";if(!i.isValidElement(e)){if(null!=e&&null!=e.$$typeof){if((n=e.$$typeof)===s)throw o(Error(257));throw o(Error(258),n.toString())}return e=fe(e),this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),""}var a=e.type;if("string"==typeof a)return this.renderDOM(e,t,n);switch(a){case u:case p:case c:case m:case l:return e=fe(e.props.children),this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),"";case g:throw o(Error(294))}if("object"==typeof a&&null!==a)switch(a.$$typeof){case h:F={};var _=a.render(e.props,e.ref);return _=X(a.render,e.props,_,e.ref),_=fe(_),this.stack.push({type:null,domNamespace:n,children:_,childIndex:0,context:t,footer:""}),"";case y:return e=[i.createElement(a.type,r({ref:e.ref},e.props))],this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),"";case f:return n={type:e,domNamespace:n,children:a=fe(e.props.children),childIndex:0,context:t,footer:""},this.pushProvider(e),this.stack.push(n),"";case d:a=e.type,_=e.props;var C=this.threadID;return T(a,C),a=fe(_.children(a[C])),this.stack.push({type:e,domNamespace:n,children:a,childIndex:0,context:t,footer:""}),"";case b:throw o(Error(338));case v:switch(function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(a=e.type),a._status){case 1:return e=[i.createElement(a._result,r({ref:e.ref},e.props))],this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),"";case 2:throw a._result;default:throw o(Error(295))}case x:throw o(Error(343))}throw o(Error(130),null==a?a:typeof a,"")},t.renderDOM=function(e,t,n){var a=e.type.toLowerCase();if(n===re&&ie(a),!ge.hasOwnProperty(a)){if(!he.test(a))throw o(Error(65),a);ge[a]=!0}var s=e.props;if("input"===a)s=r({type:void 0},s,{defaultChecked:void 0,defaultValue:void 0,value:null!=s.value?s.value:s.defaultValue,checked:null!=s.checked?s.checked:s.defaultChecked});else if("textarea"===a){var l=s.value;if(null==l){l=s.defaultValue;var u=s.children;if(null!=u){if(null!=l)throw o(Error(92));if(Array.isArray(u)){if(!(1>=u.length))throw o(Error(93));u=u[0]}l=""+u}null==l&&(l="")}s=r({},s,{value:void 0,children:""+l})}else if("select"===a)this.currentSelectValue=null!=s.value?s.value:s.defaultValue,s=r({},s,{value:void 0});else if("option"===a){u=this.currentSelectValue;var c=function(e){if(null==e)return e;var t="";return i.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(s.children);if(null!=u){var f=null!=s.value?s.value+"":c;if(l=!1,Array.isArray(u)){for(var d=0;d<u.length;d++)if(""+u[d]===f){l=!0;break}}else l=""+u===f;s=r({selected:void 0,children:void 0},s,{selected:l,children:c})}}if(l=s){if(ae[a]&&(null!=l.children||null!=l.dangerouslySetInnerHTML))throw o(Error(137),a,"");if(null!=l.dangerouslySetInnerHTML){if(null!=l.children)throw o(Error(60));if("object"!=typeof l.dangerouslySetInnerHTML||!("__html"in l.dangerouslySetInnerHTML))throw o(Error(61))}if(null!=l.style&&"object"!=typeof l.style)throw o(Error(62),"")}for(x in l=s,u=this.makeStaticMarkup,c=1===this.stack.length,f="<"+e.type,l)if(ye.call(l,x)){var p=l[x];if(null!=p){if("style"===x){d=void 0;var h="",g="";for(d in p)if(p.hasOwnProperty(d)){var m=0===d.indexOf("--"),y=p[d];if(null!=y){if(m)var v=d;else if(v=d,me.hasOwnProperty(v))v=me[v];else{var b=v.replace(ue,"-$1").toLowerCase().replace(ce,"-ms-");v=me[v]=b}h+=g+v+":",g=d,h+=m=null==y||"boolean"==typeof y||""===y?"":m||"number"!=typeof y||0===y||se.hasOwnProperty(g)&&se[g]?(""+y).trim():y+"px",g=";"}}p=h||null}d=null;e:if(m=a,y=l,-1===m.indexOf("-"))m="string"==typeof y.is;else switch(m){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":m=!1;break e;default:m=!0}m?ve.hasOwnProperty(x)||(d=P(d=x)&&null!=p?d+'="'+j(p)+'"':""):d=z(x,p),d&&(f+=" "+d)}}u||c&&(f+=' data-reactroot=""');var x=f;l="",oe.hasOwnProperty(a)?x+="/>":(x+=">",l="</"+e.type+">");e:{if(null!=(u=s.dangerouslySetInnerHTML)){if(null!=u.__html){u=u.__html;break e}}else if("string"==typeof(u=s.children)||"number"==typeof u){u=j(u);break e}u=null}return null!=u?(s=[],pe[a]&&"\n"===u.charAt(0)&&(x+="\n"),x+=u):s=fe(s.children),e=e.type,n=null==n||"http://www.w3.org/1999/xhtml"===n?ie(e):"http://www.w3.org/2000/svg"===n&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":n,this.stack.push({domNamespace:n,type:a,children:s,childIndex:0,context:t,footer:l}),this.previousWasTextNode=!1,x},e}(),_e={renderToString:function(e){e=new xe(e,!1);try{return e.read(1/0)}finally{e.destroy()}},renderToStaticMarkup:function(e){e=new xe(e,!0);try{return e.read(1/0)}finally{e.destroy()}},renderToNodeStream:function(){throw o(Error(207))},renderToStaticNodeStream:function(){throw o(Error(208))},version:"16.10.1"},we={default:_e},ke=we&&_e||we;e.exports=ke.default||ke},48531:(e,t,n)=>{"use strict";e=n.nmd(e);var r=n(27418),i=n(67294),o=n(73935),a=n(63840);function s(e){for(var t=e.message,n="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r]);return e.message="Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",e}var l=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function u(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(u(e)!==e)throw s(Error(188))}function f(){return!0}function d(){return!1}function p(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?f:d,this.isPropagationStopped=d,this}function h(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function g(e){if(!(e instanceof this))throw s(Error(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function m(e){e.eventPool=[],e.getPooled=h,e.release=g}l.hasOwnProperty("ReactCurrentDispatcher")||(l.ReactCurrentDispatcher={current:null}),l.hasOwnProperty("ReactCurrentBatchConfig")||(l.ReactCurrentBatchConfig={suspense:null}),r(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=f)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=f)},persist:function(){this.isPersistent=f},isPersistent:d,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=d,this._dispatchInstances=this._dispatchListeners=null}}),p.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},p.extend=function(e){function t(){}function n(){return i.apply(this,arguments)}var i=this;t.prototype=i.prototype;var o=new t;return r(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=r({},i.Interface,e),n.extend=i.extend,m(n),n},m(p);var y=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement);function v(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var b={animationend:v("Animation","AnimationEnd"),animationiteration:v("Animation","AnimationIteration"),animationstart:v("Animation","AnimationStart"),transitionend:v("Transition","TransitionEnd")},x={},_={};function w(e){if(x[e])return x[e];if(!b[e])return e;var t,n=b[e];for(t in n)if(n.hasOwnProperty(t)&&t in _)return x[e]=n[t];return e}y&&(_=document.createElement("div").style,"AnimationEvent"in window||(delete b.animationend.animation,delete b.animationiteration.animation,delete b.animationstart.animation),"TransitionEvent"in window||delete b.transitionend.transition);var k,T=w("animationend"),C=w("animationiteration"),O=w("animationstart"),S=w("transitionend");try{var A=("require"+Math.random()).slice(0,7);k=(e&&e[A])("timers").setImmediate}catch(e){k=function(e){var t=new MessageChannel;t.port1.onmessage=e,t.port2.postMessage(void 0)}}var M=k,E=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.Events,P=E[11],D=E[12],L=o.unstable_batchedUpdates,R=l.IsSomeRendererActing,I="function"==typeof a.unstable_flushAllWithoutAsserting,N=a.unstable_flushAllWithoutAsserting||function(){for(var e=!1;P();)e=!0;return e};function j(e){try{N(),M((function(){N()?j(e):e()}))}catch(t){e(t)}}var z=0,q=!1,F=o.findDOMNode,B=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.Events,H=B[0],U=B[4],V=B[5],W=B[6],G=B[7],K=B[8],Y=B[9],Z=B[10];function X(){}function $(e,t){if(e&&!e._reactInternalFiber){var n=""+e;throw e=Array.isArray(e)?"an array":e&&1===e.nodeType&&e.tagName?"a DOM node":"[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n,s(Error(286),t,e)}}var J={renderIntoDocument:function(e){var t=document.createElement("div");return o.render(e,t)},isElement:function(e){return i.isValidElement(e)},isElementOfType:function(e,t){return i.isValidElement(e)&&e.type===t},isDOMComponent:function(e){return!(!e||1!==e.nodeType||!e.tagName)},isDOMComponentElement:function(e){return!!(e&&i.isValidElement(e)&&e.tagName)},isCompositeComponent:function(e){return!J.isDOMComponent(e)&&null!=e&&"function"==typeof e.render&&"function"==typeof e.setState},isCompositeComponentWithType:function(e,t){return!!J.isCompositeComponent(e)&&e._reactInternalFiber.type===t},findAllInRenderedTree:function(e,t){return $(e,"findAllInRenderedTree"),e?function(e,t){if(!e)return[];if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=u(e)))throw s(Error(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return c(i),e;if(o===r)return c(i),t;o=o.sibling}throw s(Error(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw s(Error(189))}}if(n.alternate!==r)throw s(Error(190))}if(3!==n.tag)throw s(Error(188));return n.stateNode.current===n?e:t}(e)))return[];for(var n=e,r=[];;){if(5===n.tag||6===n.tag||1===n.tag||0===n.tag){var i=n.stateNode;t(i)&&r.push(i)}if(n.child)n.child.return=n,n=n.child;else{if(n===e)return r;for(;!n.sibling;){if(!n.return||n.return===e)return r;n=n.return}n.sibling.return=n.return,n=n.sibling}}}(e._reactInternalFiber,t):[]},scryRenderedDOMComponentsWithClass:function(e,t){return $(e,"scryRenderedDOMComponentsWithClass"),J.findAllInRenderedTree(e,(function(e){if(J.isDOMComponent(e)){var n=e.className;"string"!=typeof n&&(n=e.getAttribute("class")||"");var r=n.split(/\s+/);if(!Array.isArray(t)){if(void 0===t)throw s(Error(11));t=t.split(/\s+/)}return t.every((function(e){return-1!==r.indexOf(e)}))}return!1}))},findRenderedDOMComponentWithClass:function(e,t){if($(e,"findRenderedDOMComponentWithClass"),1!==(e=J.scryRenderedDOMComponentsWithClass(e,t)).length)throw Error("Did not find exactly one match (found: "+e.length+") for class:"+t);return e[0]},scryRenderedDOMComponentsWithTag:function(e,t){return $(e,"scryRenderedDOMComponentsWithTag"),J.findAllInRenderedTree(e,(function(e){return J.isDOMComponent(e)&&e.tagName.toUpperCase()===t.toUpperCase()}))},findRenderedDOMComponentWithTag:function(e,t){if($(e,"findRenderedDOMComponentWithTag"),1!==(e=J.scryRenderedDOMComponentsWithTag(e,t)).length)throw Error("Did not find exactly one match (found: "+e.length+") for tag:"+t);return e[0]},scryRenderedComponentsWithType:function(e,t){return $(e,"scryRenderedComponentsWithType"),J.findAllInRenderedTree(e,(function(e){return J.isCompositeComponentWithType(e,t)}))},findRenderedComponentWithType:function(e,t){if($(e,"findRenderedComponentWithType"),1!==(e=J.scryRenderedComponentsWithType(e,t)).length)throw Error("Did not find exactly one match (found: "+e.length+") for componentType:"+t);return e[0]},mockComponent:function(e,t){return t=t||e.mockTagName||"div",e.prototype.render.mockImplementation((function(){return i.createElement(t,null,this.props.children)})),this},nativeTouchData:function(e,t){return{touches:[{pageX:e,pageY:t}]}},Simulate:null,SimulateNative:{},act:function(e){function t(){z--,R.current=n,D.current=r}!1===q&&(q=!0,console.error("act(...) is not supported in production builds of React, and might not behave as expected.")),z++;var n=R.current,r=D.current;R.current=!0,D.current=!0;try{var i=L(e)}catch(e){throw t(),e}if(null!==i&&"object"==typeof i&&"function"==typeof i.then)return{then:function(e,r){i.then((function(){1<z||!0===I&&!0===n?(t(),e()):j((function(n){t(),n?r(n):e()}))}),(function(e){t(),r(e)}))}};try{1!==z||!1!==I&&!1!==n||N(),t()}catch(e){throw t(),e}return{then:function(e){e()}}}};function Q(e){return function(t,n){if(i.isValidElement(t))throw s(Error(228));if(J.isCompositeComponent(t))throw s(Error(229));var a=U[e],l=new X;l.target=t,l.type=e.toLowerCase();var u=new p(a,H(t),l,t);u.persist(),r(u,n),a.phasedRegistrationNames?V(u):W(u),o.unstable_batchedUpdates((function(){G(t),Z(u)})),K()}}for(var ee in J.Simulate={},U)J.Simulate[ee]=Q(ee);[["abort","abort"],[T,"animationEnd"],[C,"animationIteration"],[O,"animationStart"],["blur","blur"],["canplaythrough","canPlayThrough"],["canplay","canPlay"],["cancel","cancel"],["change","change"],["click","click"],["close","close"],["compositionend","compositionEnd"],["compositionstart","compositionStart"],["compositionupdate","compositionUpdate"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["dragstart","dragStart"],["drag","drag"],["drop","drop"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["focus","focus"],["input","input"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["loadstart","loadStart"],["loadstart","loadStart"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["mousedown","mouseDown"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["playing","playing"],["progress","progress"],["ratechange","rateChange"],["scroll","scroll"],["seeked","seeked"],["seeking","seeking"],["selectionchange","selectionChange"],["stalled","stalled"],["suspend","suspend"],["textInput","textInput"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchmove","touchMove"],["touchstart","touchStart"],[S,"transitionEnd"],["volumechange","volumeChange"],["waiting","waiting"],["wheel","wheel"]].forEach((function(e){var t=e[1];J.SimulateNative[t]=function(e,t){return function(n,i){var o=new X(e);r(o,i),J.isDOMComponent(n)?(n=F(n),o.target=n,Y(t,1,o)):n.tagName&&(o.target=n,Y(t,1,o))}}(t,e[0])}));var te={default:J},ne=te&&J||te;e.exports=ne.default||ne},97762:(e,t,n)=>{"use strict";e.exports=n(38698)},8267:(e,t,n)=>{"use strict";e.exports=n(48531)},75966:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=d(n(67294)),i=d(n(73935)),o=d(n(45697)),a=n(10434),s=n(1706),l=n(67493),u=n(7373),c=n(92886),f=d(n(94184));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?x(e):t}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(p,e);var t,n,o,c,d=(o=p,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=_(o);if(c){var n=_(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return b(this,e)});function p(){var e;m(this,p);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return w(x(e=d.call.apply(d,[this].concat(n))),"state",{resizing:null,dragging:null,className:""}),w(x(e),"currentNode",void 0),w(x(e),"onDragStart",(function(t,n){var r=n.node,i=e.props.onDragStart;if(i){var o={top:0,left:0},a=r.offsetParent;if(a){var s=a.getBoundingClientRect(),l=r.getBoundingClientRect(),c=l.left/e.props.transformScale,f=s.left/e.props.transformScale,d=l.top/e.props.transformScale,p=s.top/e.props.transformScale;o.left=c-f+a.scrollLeft,o.top=d-p+a.scrollTop,e.setState({dragging:o});var h=(0,u.calcXY)(e.getPositionParams(),o.top,o.left,e.props.w,e.props.h),g=h.x,m=h.y;return i.call(x(e),e.props.i,g,m,{e:t,node:r,newPosition:o})}}})),w(x(e),"onDrag",(function(t,n){var r=n.node,i=n.deltaX,o=n.deltaY,a=e.props,s=a.onDrag,l=a.transformScale;if(s){if(i/=l,o/=l,!e.state.dragging)throw new Error("onDrag called before onDragStart.");var c=e.state.dragging.top+o,f=e.state.dragging.left+i,d=e.props,p=d.isBounded,h=d.i,g=d.w,m=d.h,y=d.containerWidth,v=e.getPositionParams();if(p){var b=r.offsetParent;if(b){var _=e.props,w=_.margin,k=_.rowHeight,T=b.clientHeight-(0,u.calcGridItemWHPx)(m,k,w[1]);c=(0,u.clamp)(c,0,T);var C=(0,u.calcGridColWidth)(v),O=y-(0,u.calcGridItemWHPx)(g,C,w[0]);f=(0,u.clamp)(f,0,O)}}var S={top:c,left:f};e.setState({dragging:S});var A=(0,u.calcXY)(v,c,f,g,m),M=A.x,E=A.y;return s.call(x(e),h,M,E,{e:t,node:r,newPosition:S})}})),w(x(e),"onDragStop",(function(t,n){var r=n.node,i=e.props.onDragStop;if(i){if(!e.state.dragging)throw new Error("onDragEnd called before onDragStart.");var o=e.props,a=o.w,s=o.h,l=o.i,c=e.state.dragging,f=c.left,d=c.top,p={top:d,left:f};e.setState({dragging:null});var h=(0,u.calcXY)(e.getPositionParams(),d,f,a,s),g=h.x,m=h.y;return i.call(x(e),l,g,m,{e:t,node:r,newPosition:p})}})),w(x(e),"onResizeStop",(function(t,n){e.onResizeHandler(t,n,"onResizeStop")})),w(x(e),"onResizeStart",(function(t,n){e.onResizeHandler(t,n,"onResizeStart")})),w(x(e),"onResize",(function(t,n){e.onResizeHandler(t,n,"onResize")})),e}return t=p,(n=[{key:"shouldComponentUpdate",value:function(e,t){if(this.props.children!==e.children)return!0;if(this.props.droppingPosition!==e.droppingPosition)return!0;var n=(0,u.calcGridItemPosition)(this.getPositionParams(this.props),this.props.x,this.props.y,this.props.w,this.props.h,this.state),r=(0,u.calcGridItemPosition)(this.getPositionParams(e),e.x,e.y,e.w,e.h,t);return!(0,l.fastPositionEqual)(n,r)||this.props.useCSSTransforms!==e.useCSSTransforms}},{key:"componentDidMount",value:function(){this.moveDroppingItem({})}},{key:"componentDidUpdate",value:function(e){this.moveDroppingItem(e)}},{key:"moveDroppingItem",value:function(e){var t=this.props.droppingPosition;if(t){var n=e.droppingPosition||{left:0,top:0},r=this.state.dragging;this.currentNode||(this.currentNode=i.default.findDOMNode(this));var o=r&&t.left!==n.left||t.top!==n.top;if(r){if(o){var a=t.left-r.left,s=t.top-r.top;this.onDrag(t.e,{node:this.currentNode,deltaX:a,deltaY:s})}}else this.onDragStart(t.e,{node:this.currentNode,deltaX:t.left,deltaY:t.top})}}},{key:"getPositionParams",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return{cols:e.cols,containerPadding:e.containerPadding,containerWidth:e.containerWidth,margin:e.margin,maxRows:e.maxRows,rowHeight:e.rowHeight}}},{key:"createStyle",value:function(e){var t,n=this.props,r=n.usePercentages,i=n.containerWidth;return n.useCSSTransforms?t=(0,l.setTransform)(e):(t=(0,l.setTopLeft)(e),r&&(t.left=(0,l.perc)(e.left/i),t.width=(0,l.perc)(e.width/i))),t}},{key:"mixinDraggable",value:function(e,t){return r.default.createElement(a.DraggableCore,{disabled:!t,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:""),scale:this.props.transformScale},e)}},{key:"mixinResizable",value:function(e,t,n){var i=this.props,o=i.cols,a=i.x,l=i.minW,c=i.minH,f=i.maxW,d=i.maxH,p=i.transformScale,h=i.resizeHandles,g=i.resizeHandle,m=this.getPositionParams(),y=(0,u.calcGridItemPosition)(m,0,0,o-a,0).width,v=(0,u.calcGridItemPosition)(m,0,0,l,c),b=(0,u.calcGridItemPosition)(m,0,0,f,d),x=[v.width,v.height],_=[Math.min(b.width,y),Math.min(b.height,1/0)];return r.default.createElement(s.Resizable,{draggableOpts:{disabled:!n},className:n?void 0:"react-resizable-hide",width:t.width,height:t.height,minConstraints:x,maxConstraints:_,onResizeStop:this.onResizeStop,onResizeStart:this.onResizeStart,onResize:this.onResize,transformScale:p,resizeHandles:h,handle:g},e)}},{key:"onResizeHandler",value:function(e,t,n){var r=t.node,i=t.size,o=this.props[n];if(o){var a=this.props,s=a.cols,l=a.x,c=a.y,f=a.i,d=a.maxH,p=a.minH,h=this.props,g=h.minW,m=h.maxW,y=(0,u.calcWH)(this.getPositionParams(),i.width,i.height,l,c),v=y.w,b=y.h;g=Math.max(g,1),m=Math.min(m,s-l),v=(0,u.clamp)(v,g,m),b=(0,u.clamp)(b,p,d),this.setState({resizing:"onResizeStop"===n?null:i}),o.call(this,f,v,b,{e,node:r,size:i})}}},{key:"render",value:function(){var e=this.props,t=e.x,n=e.y,i=e.w,o=e.h,a=e.isDraggable,s=e.isResizable,l=e.droppingPosition,c=e.useCSSTransforms,d=(0,u.calcGridItemPosition)(this.getPositionParams(),t,n,i,o,this.state),p=r.default.Children.only(this.props.children),h=r.default.cloneElement(p,{className:(0,f.default)("react-grid-item",p.props.className,this.props.className,{static:this.props.static,resizing:Boolean(this.state.resizing),"react-draggable":a,"react-draggable-dragging":Boolean(this.state.dragging),dropping:Boolean(l),cssTransforms:c}),style:g(g(g({},this.props.style),p.props.style),this.createStyle(d))});return h=this.mixinResizable(h,d,s),this.mixinDraggable(h,a)}}])&&y(t.prototype,n),p}(r.default.Component);t.default=k,w(k,"propTypes",{children:o.default.element,cols:o.default.number.isRequired,containerWidth:o.default.number.isRequired,rowHeight:o.default.number.isRequired,margin:o.default.array.isRequired,maxRows:o.default.number.isRequired,containerPadding:o.default.array.isRequired,x:o.default.number.isRequired,y:o.default.number.isRequired,w:o.default.number.isRequired,h:o.default.number.isRequired,minW:function(e,t){var n=e[t];return"number"!=typeof n?new Error("minWidth not Number"):n>e.w||n>e.maxW?new Error("minWidth larger than item width/maxWidth"):void 0},maxW:function(e,t){var n=e[t];return"number"!=typeof n?new Error("maxWidth not Number"):n<e.w||n<e.minW?new Error("maxWidth smaller than item width/minWidth"):void 0},minH:function(e,t){var n=e[t];return"number"!=typeof n?new Error("minHeight not Number"):n>e.h||n>e.maxH?new Error("minHeight larger than item height/maxHeight"):void 0},maxH:function(e,t){var n=e[t];return"number"!=typeof n?new Error("maxHeight not Number"):n<e.h||n<e.minH?new Error("maxHeight smaller than item height/minHeight"):void 0},i:o.default.string.isRequired,resizeHandles:c.resizeHandlesType,resizeHandle:c.resizeHandleType,onDragStop:o.default.func,onDragStart:o.default.func,onDrag:o.default.func,onResizeStop:o.default.func,onResizeStart:o.default.func,onResize:o.default.func,isDraggable:o.default.bool.isRequired,isResizable:o.default.bool.isRequired,isBounded:o.default.bool.isRequired,static:o.default.bool,useCSSTransforms:o.default.bool.isRequired,transformScale:o.default.number,className:o.default.string,handle:o.default.string,cancel:o.default.string,droppingPosition:o.default.shape({e:o.default.object.isRequired,left:o.default.number.isRequired,top:o.default.number.isRequired})}),w(k,"defaultProps",{className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0,transformScale:1})},49580:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=c(n(67294)),i=c(n(72307)),o=c(n(94184)),a=n(67493),s=n(7373),l=c(n(75966)),u=c(n(92886));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _="react-grid-layout",w=!1;try{w=/firefox/i.test(navigator.userAgent)}catch(e){}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(k,e);var t,n,u,c,f,d=(c=k,f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=b(c);if(f){var n=b(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return y(this,e)});function k(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,k),x(v(n=d.call(this,e,t)),"state",{activeDrag:null,layout:(0,a.synchronizeLayoutWithChildren)(n.props.layout,n.props.children,n.props.cols,(0,a.compactType)(n.props)),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null,droppingDOMNode:null,children:[]}),x(v(n),"dragEnterCounter",0),x(v(n),"onDragOver",(function(e){if(w&&-1===e.nativeEvent.target.className.indexOf(_))return e.preventDefault(),!1;var t,i=n.props,o=i.droppingItem,a=i.margin,l=i.cols,u=i.rowHeight,c=i.maxRows,f=i.width,d=i.containerPadding,g=n.state.layout,m=e.nativeEvent,y=m.layerX,v=m.layerY,b={left:y,top:v,e};if(n.state.droppingDOMNode){if(n.state.droppingPosition){var x=n.state.droppingPosition,k=x.left,T=x.top;(k!=y||T!=v)&&n.setState({droppingPosition:b})}}else{var C={cols:l,margin:a,maxRows:c,rowHeight:u,containerWidth:f,containerPadding:d||a},O=(0,s.calcXY)(C,v,y,o.w,o.h);n.setState({droppingDOMNode:r.default.createElement("div",{key:o.i}),droppingPosition:b,layout:[].concat((t=g,function(e){if(Array.isArray(e))return h(e)}(t)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[p(p({},o),{},{x:O.x,y:O.y,static:!1,isDraggable:!0})])})}e.stopPropagation(),e.preventDefault()})),x(v(n),"removeDroppingPlaceholder",(function(){var e=n.props,t=e.droppingItem,r=e.cols,i=n.state.layout,o=(0,a.compact)(i.filter((function(e){return e.i!==t.i})),(0,a.compactType)(n.props),r);n.setState({layout:o,droppingDOMNode:null,activeDrag:null,droppingPosition:void 0})})),x(v(n),"onDragLeave",(function(){n.dragEnterCounter--,0===n.dragEnterCounter&&n.removeDroppingPlaceholder()})),x(v(n),"onDragEnter",(function(){n.dragEnterCounter++})),x(v(n),"onDrop",(function(e){var t=n.props.droppingItem,r=n.state.layout,i=r.find((function(e){return e.i===t.i}));n.dragEnterCounter=0,n.removeDroppingPlaceholder(),n.props.onDrop(r,i,e)})),(0,a.autoBindHandlers)(v(n),["onDragStart","onDrag","onDragStop","onResizeStart","onResize","onResizeStop"]),n}return t=k,u=[{key:"getDerivedStateFromProps",value:function(e,t){var n;return t.activeDrag?null:((0,i.default)(e.layout,t.propsLayout)&&e.compactType===t.compactType?(0,a.childrenEqual)(e.children,t.children)||(n=t.layout):n=e.layout,n?{layout:(0,a.synchronizeLayoutWithChildren)(n,e.children,e.cols,(0,a.compactType)(e)),compactType:e.compactType,children:e.children,propsLayout:e.layout}:null)}}],(n=[{key:"componentDidMount",value:function(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)}},{key:"shouldComponentUpdate",value:function(e,t){return this.props.children!==e.children||!(0,a.fastRGLPropsEqual)(this.props,e,i.default)||this.state.activeDrag!==t.activeDrag||this.state.mounted!==t.mounted||this.state.droppingPosition!==t.droppingPosition}},{key:"componentDidUpdate",value:function(e,t){if(!this.state.activeDrag){var n=this.state.layout,r=t.layout;this.onLayoutMaybeChanged(n,r)}}},{key:"containerHeight",value:function(){if(this.props.autoSize){var e=(0,a.bottom)(this.state.layout),t=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return e*this.props.rowHeight+(e-1)*this.props.margin[1]+2*t+"px"}}},{key:"onDragStart",value:function(e,t,n,r){var i=r.e,o=r.node,s=this.state.layout,l=(0,a.getLayoutItem)(s,e);if(l)return this.setState({oldDragItem:(0,a.cloneLayoutItem)(l),oldLayout:this.state.layout}),this.props.onDragStart(s,l,l,null,i,o)}},{key:"onDrag",value:function(e,t,n,r){var i=r.e,o=r.node,s=this.state.oldDragItem,l=this.state.layout,u=this.props.cols,c=(0,a.getLayoutItem)(l,e);if(c){var f={w:c.w,h:c.h,x:c.x,y:c.y,placeholder:!0,i:e};l=(0,a.moveElement)(l,c,t,n,!0,this.props.preventCollision,(0,a.compactType)(this.props),u),this.props.onDrag(l,s,c,f,i,o),this.setState({layout:(0,a.compact)(l,(0,a.compactType)(this.props),u),activeDrag:f})}}},{key:"onDragStop",value:function(e,t,n,r){var i=r.e,o=r.node;if(this.state.activeDrag){var s=this.state.oldDragItem,l=this.state.layout,u=this.props,c=u.cols,f=u.preventCollision,d=(0,a.getLayoutItem)(l,e);if(d){l=(0,a.moveElement)(l,d,t,n,!0,f,(0,a.compactType)(this.props),c),this.props.onDragStop(l,s,d,null,i,o);var p=(0,a.compact)(l,(0,a.compactType)(this.props),c),h=this.state.oldLayout;this.setState({activeDrag:null,layout:p,oldDragItem:null,oldLayout:null}),this.onLayoutMaybeChanged(p,h)}}}},{key:"onLayoutMaybeChanged",value:function(e,t){t||(t=this.state.layout),(0,i.default)(t,e)||this.props.onLayoutChange(e)}},{key:"onResizeStart",value:function(e,t,n,r){var i=r.e,o=r.node,s=this.state.layout,l=(0,a.getLayoutItem)(s,e);l&&(this.setState({oldResizeItem:(0,a.cloneLayoutItem)(l),oldLayout:this.state.layout}),this.props.onResizeStart(s,l,l,null,i,o))}},{key:"onResize",value:function(e,t,n,r){var i=r.e,o=r.node,s=this.state,l=s.layout,u=s.oldResizeItem,c=this.props,f=c.cols,d=c.preventCollision,h=(0,a.getLayoutItem)(l,e);if(h){var g;if(d){var m=(0,a.getAllCollisions)(l,p(p({},h),{},{w:t,h:n})).filter((function(e){return e.i!==h.i}));if(g=m.length>0){var y=1/0,v=1/0;m.forEach((function(e){e.x>h.x&&(y=Math.min(y,e.x)),e.y>h.y&&(v=Math.min(v,e.y))})),Number.isFinite(y)&&(h.w=y-h.x),Number.isFinite(v)&&(h.h=v-h.y)}}g||(h.w=t,h.h=n);var b={w:h.w,h:h.h,x:h.x,y:h.y,static:!0,i:e};this.props.onResize(l,u,h,b,i,o),this.setState({layout:(0,a.compact)(l,(0,a.compactType)(this.props),f),activeDrag:b})}}},{key:"onResizeStop",value:function(e,t,n,r){var i=r.e,o=r.node,s=this.state,l=s.layout,u=s.oldResizeItem,c=this.props.cols,f=(0,a.getLayoutItem)(l,e);this.props.onResizeStop(l,u,f,null,i,o);var d=(0,a.compact)(l,(0,a.compactType)(this.props),c),p=this.state.oldLayout;this.setState({activeDrag:null,layout:d,oldResizeItem:null,oldLayout:null}),this.onLayoutMaybeChanged(d,p)}},{key:"placeholder",value:function(){var e=this.state.activeDrag;if(!e)return null;var t=this.props,n=t.width,i=t.cols,o=t.margin,a=t.containerPadding,s=t.rowHeight,u=t.maxRows,c=t.useCSSTransforms,f=t.transformScale;return r.default.createElement(l.default,{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,className:"react-grid-placeholder",containerWidth:n,cols:i,margin:o,containerPadding:a||o,maxRows:u,rowHeight:s,isDraggable:!1,isResizable:!1,isBounded:!1,useCSSTransforms:c,transformScale:f},r.default.createElement("div",null))}},{key:"processGridItem",value:function(e,t){if(e&&e.key){var n=(0,a.getLayoutItem)(this.state.layout,String(e.key));if(!n)return null;var i=this.props,o=i.width,s=i.cols,u=i.margin,c=i.containerPadding,f=i.rowHeight,d=i.maxRows,p=i.isDraggable,h=i.isResizable,g=i.isBounded,m=i.useCSSTransforms,y=i.transformScale,v=i.draggableCancel,b=i.draggableHandle,x=i.resizeHandles,_=i.resizeHandle,w=this.state,k=w.mounted,T=w.droppingPosition,C="boolean"==typeof n.isDraggable?n.isDraggable:!n.static&&p,O="boolean"==typeof n.isResizable?n.isResizable:!n.static&&h,S=n.resizeHandles||x,A=C&&g&&!1!==n.isBounded;return r.default.createElement(l.default,{containerWidth:o,cols:s,margin:u,containerPadding:c||u,maxRows:d,rowHeight:f,cancel:v,handle:b,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:C,isResizable:O,isBounded:A,useCSSTransforms:m&&k,usePercentages:!k,transformScale:y,w:n.w,h:n.h,x:n.x,y:n.y,i:n.i,minH:n.minH,minW:n.minW,maxH:n.maxH,maxW:n.maxW,static:n.static,droppingPosition:t?T:void 0,resizeHandles:S,resizeHandle:_},e)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,i=t.style,s=t.isDroppable,l=t.innerRef,u=(0,o.default)(_,n),c=p({height:this.containerHeight()},i);return r.default.createElement("div",{ref:l,className:u,style:c,onDrop:s?this.onDrop:a.noop,onDragLeave:s?this.onDragLeave:a.noop,onDragEnter:s?this.onDragEnter:a.noop,onDragOver:s?this.onDragOver:a.noop},r.default.Children.map(this.props.children,(function(t){return e.processGridItem(t)})),s&&this.state.droppingDOMNode&&this.processGridItem(this.state.droppingDOMNode,!0),this.placeholder())}}])&&g(t.prototype,n),u&&g(t,u),k}(r.default.Component);t.default=k,x(k,"displayName","ReactGridLayout"),x(k,"propTypes",u.default),x(k,"defaultProps",{autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isBounded:!1,isDraggable:!0,isResizable:!0,isDroppable:!1,useCSSTransforms:!0,transformScale:1,verticalCompact:!0,compactType:"vertical",preventCollision:!1,droppingItem:{i:"__dropping-elem__",h:1,w:1},resizeHandles:["se"],onLayoutChange:a.noop,onDragStart:a.noop,onDrag:a.noop,onDragStop:a.noop,onResizeStart:a.noop,onResize:a.noop,onResizeStop:a.noop,onDrop:a.noop})},92886:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.resizeHandleType=t.resizeHandlesType=void 0;var r=o(n(45697)),i=o(n(67294));function o(e){return e&&e.__esModule?e:{default:e}}var a=r.default.arrayOf(r.default.oneOf(["s","w","e","n","sw","nw","se","ne"]));t.resizeHandlesType=a;var s=r.default.oneOfType([r.default.node,r.default.func]);t.resizeHandleType=s;var l={className:r.default.string,style:r.default.object,width:r.default.number,autoSize:r.default.bool,cols:r.default.number,draggableCancel:r.default.string,draggableHandle:r.default.string,verticalCompact:function(e){e.verticalCompact},compactType:r.default.oneOf(["vertical","horizontal"]),layout:function(e){var t=e.layout;void 0!==t&&n(67493).validateLayout(t,"layout")},margin:r.default.arrayOf(r.default.number),containerPadding:r.default.arrayOf(r.default.number),rowHeight:r.default.number,maxRows:r.default.number,isBounded:r.default.bool,isDraggable:r.default.bool,isResizable:r.default.bool,preventCollision:r.default.bool,useCSSTransforms:r.default.bool,transformScale:r.default.number,isDroppable:r.default.bool,resizeHandles:a,resizeHandle:s,onLayoutChange:r.default.func,onDragStart:r.default.func,onDrag:r.default.func,onDragStop:r.default.func,onResizeStart:r.default.func,onResize:r.default.func,onResizeStop:r.default.func,onDrop:r.default.func,droppingItem:r.default.shape({i:r.default.string.isRequired,w:r.default.number.isRequired,h:r.default.number.isRequired}),children:function(e,t){var n=e[t],r={};i.default.Children.forEach(n,(function(e){if(r[e.key])throw new Error('Duplicate child key "'+e.key+'" found! This will cause problems in ReactGridLayout.');r[e.key]=!0}))},innerRef:r.default.any};t.default=l},65966:(e,t,n)=>{"use strict";t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==f(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(n(67294)),i=u(n(45697)),o=u(n(72307)),a=n(67493),s=n(5651),l=u(n(49580));function u(e){return e&&e.__esModule?e:{default:e}}function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(e){return Object.prototype.toString.call(e)};function k(e,t){return null==e?null:Array.isArray(e)?e:e[t]}var T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(p,e);var t,n,i,u,c,f=(u=p,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=x(u);if(c){var n=x(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return v(this,e)});function p(){var e;g(this,p);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _(b(e=f.call.apply(f,[this].concat(n))),"state",e.generateInitialState()),_(b(e),"onLayoutChange",(function(t){e.props.onLayoutChange(t,h(h({},e.props.layouts),{},_({},e.state.breakpoint,t)))})),e}return t=p,i=[{key:"getDerivedStateFromProps",value:function(e,t){if(!(0,o.default)(e.layouts,t.layouts)){var n=t.breakpoint,r=t.cols;return{layout:(0,s.findOrGenerateResponsiveLayout)(e.layouts,e.breakpoints,n,n,r,e.compactType),layouts:e.layouts}}return null}}],(n=[{key:"generateInitialState",value:function(){var e=this.props,t=e.width,n=e.breakpoints,r=e.layouts,i=e.cols,o=(0,s.getBreakpointFromWidth)(n,t),a=(0,s.getColsFromBreakpoint)(o,i),l=!1===this.props.verticalCompact?null:this.props.compactType;return{layout:(0,s.findOrGenerateResponsiveLayout)(r,n,o,o,a,l),breakpoint:o,cols:a}}},{key:"componentDidUpdate",value:function(e){this.props.width==e.width&&this.props.breakpoint===e.breakpoint&&(0,o.default)(this.props.breakpoints,e.breakpoints)&&(0,o.default)(this.props.cols,e.cols)||this.onWidthChange(e)}},{key:"onWidthChange",value:function(e){var t=this.props,n=t.breakpoints,r=t.cols,i=t.layouts,o=t.compactType,l=this.props.breakpoint||(0,s.getBreakpointFromWidth)(this.props.breakpoints,this.props.width),u=this.state.breakpoint,c=(0,s.getColsFromBreakpoint)(l,r),f=h({},i);if(u!==l||e.breakpoints!==n||e.cols!==r){u in f||(f[u]=(0,a.cloneLayout)(this.state.layout));var d=(0,s.findOrGenerateResponsiveLayout)(f,n,l,u,c,o);d=(0,a.synchronizeLayoutWithChildren)(d,this.props.children,c,o),f[l]=d,this.props.onLayoutChange(d,f),this.props.onBreakpointChange(l,c),this.setState({breakpoint:l,layout:d,cols:c})}var p=k(this.props.margin,l),g=k(this.props.containerPadding,l);this.props.onWidthChange(this.props.width,p,c,g)}},{key:"render",value:function(){var e=this.props,t=(e.breakpoint,e.breakpoints,e.cols,e.layouts,e.margin),n=e.containerPadding,i=(e.onBreakpointChange,e.onLayoutChange,e.onWidthChange,function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["breakpoint","breakpoints","cols","layouts","margin","containerPadding","onBreakpointChange","onLayoutChange","onWidthChange"]));return r.createElement(l.default,d({},i,{margin:k(t,this.state.breakpoint),containerPadding:k(n,this.state.breakpoint),onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))}}])&&m(t.prototype,n),i&&m(t,i),p}(r.Component);t.default=T,_(T,"propTypes",{breakpoint:i.default.string,breakpoints:i.default.object,cols:i.default.object,margin:i.default.oneOfType([i.default.array,i.default.object]),containerPadding:i.default.oneOfType([i.default.array,i.default.object]),layouts:function(e,t){if("[object Object]"!==w(e[t]))throw new Error("Layout property must be an object. Received: "+w(e[t]));Object.keys(e[t]).forEach((function(t){if(!(t in e.breakpoints))throw new Error("Each key in layouts must align with a key in breakpoints.");(0,a.validateLayout)(e.layouts[t],"layouts."+t)}))},width:i.default.number.isRequired,onBreakpointChange:i.default.func,onLayoutChange:i.default.func,onWidthChange:i.default.func}),_(T,"defaultProps",{breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},layouts:{},margin:[10,10],containerPadding:{lg:null,md:null,sm:null,xs:null,xxs:null},onBreakpointChange:a.noop,onLayoutChange:a.noop,onWidthChange:a.noop})},7373:(e,t)=>{"use strict";function n(e){var t=e.margin,n=e.containerPadding,r=e.containerWidth,i=e.cols;return(r-t[0]*(i-1)-2*n[0])/i}function r(e,t,n){return Number.isFinite(e)?Math.round(t*e+Math.max(0,e-1)*n):e}function i(e,t,n){return Math.max(Math.min(e,n),t)}Object.defineProperty(t,"__esModule",{value:!0}),t.calcGridColWidth=n,t.calcGridItemWHPx=r,t.calcGridItemPosition=function(e,t,i,o,a,s){var l=e.margin,u=e.containerPadding,c=e.rowHeight,f=n(e),d={};return s&&s.resizing?(d.width=Math.round(s.resizing.width),d.height=Math.round(s.resizing.height)):(d.width=r(o,f,l[0]),d.height=r(a,c,l[1])),s&&s.dragging?(d.top=Math.round(s.dragging.top),d.left=Math.round(s.dragging.left)):(d.top=Math.round((c+l[1])*i+u[1]),d.left=Math.round((f+l[0])*t+u[0])),d},t.calcXY=function(e,t,r,o,a){var s=e.margin,l=e.cols,u=e.rowHeight,c=e.maxRows,f=n(e),d=Math.round((r-s[0])/(f+s[0])),p=Math.round((t-s[1])/(u+s[1]));return{x:d=i(d,0,l-o),y:p=i(p,0,c-a)}},t.calcWH=function(e,t,r,o,a){var s=e.margin,l=e.maxRows,u=e.cols,c=e.rowHeight,f=n(e),d=Math.round((t+s[0])/(f+s[0])),p=Math.round((r+s[1])/(c+s[1]));return{w:d=i(d,0,u-o),h:p=i(p,0,l-a)}},t.clamp=i},27135:(e,t,n)=>{"use strict";t.default=function(e){var t,n;return n=t=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(y,t);var n,i,a,s,l=(n=y,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=g(n);if(i){var r=g(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return p(this,e)});function y(){var e;c(this,y);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return m(h(e=l.call.apply(l,[this].concat(n))),"state",{width:1280}),m(h(e),"mounted",!1),m(h(e),"onWindowResize",(function(){if(e.mounted){var t=o.default.findDOMNode(h(e));t instanceof HTMLElement&&e.setState({width:t.offsetWidth})}})),e}return a=y,(s=[{key:"componentDidMount",value:function(){this.mounted=!0,window.addEventListener("resize",this.onWindowResize),this.onWindowResize()}},{key:"componentWillUnmount",value:function(){this.mounted=!1,window.removeEventListener("resize",this.onWindowResize)}},{key:"render",value:function(){var t=this.props,n=t.measureBeforeMount,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["measureBeforeMount"]);return n&&!this.mounted?r.createElement("div",{className:this.props.className,style:this.props.style}):r.createElement(e,u({},i,this.state))}}])&&f(a.prototype,s),y}(r.Component),m(t,"defaultProps",{measureBeforeMount:!1}),m(t,"propTypes",{measureBeforeMount:i.default.bool}),n};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==l(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(n(67294)),i=a(n(45697)),o=a(n(73935));function a(e){return e&&e.__esModule?e:{default:e}}function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},31362:e=>{e.exports=function(e,t,n){return e===t||e.className===t.className&&n(e.style,t.style)&&e.width===t.width&&e.autoSize===t.autoSize&&e.cols===t.cols&&e.draggableCancel===t.draggableCancel&&e.draggableHandle===t.draggableHandle&&n(e.verticalCompact,t.verticalCompact)&&n(e.compactType,t.compactType)&&n(e.layout,t.layout)&&n(e.margin,t.margin)&&n(e.containerPadding,t.containerPadding)&&e.rowHeight===t.rowHeight&&e.maxRows===t.maxRows&&e.isBounded===t.isBounded&&e.isDraggable===t.isDraggable&&e.isResizable===t.isResizable&&e.preventCollision===t.preventCollision&&e.useCSSTransforms===t.useCSSTransforms&&e.transformScale===t.transformScale&&e.isDroppable===t.isDroppable&&n(e.resizeHandles,t.resizeHandles)&&n(e.resizeHandle,t.resizeHandle)&&e.onLayoutChange===t.onLayoutChange&&e.onDragStart===t.onDragStart&&e.onDrag===t.onDrag&&e.onDragStop===t.onDragStop&&e.onResizeStart===t.onResizeStart&&e.onResize===t.onResize&&e.onResizeStop===t.onResizeStop&&e.onDrop===t.onDrop&&n(e.droppingItem,t.droppingItem)&&n(e.innerRef,t.innerRef)}},5651:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBreakpointFromWidth=function(e,t){for(var n=i(e),r=n[0],o=1,a=n.length;o<a;o++){var s=n[o];t>e[s]&&(r=s)}return r},t.getColsFromBreakpoint=function(e,t){if(!t[e])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+e+" is missing!");return t[e]},t.findOrGenerateResponsiveLayout=function(e,t,n,o,a,s){if(e[n])return(0,r.cloneLayout)(e[n]);for(var l=e[o],u=i(t),c=u.slice(u.indexOf(n)),f=0,d=c.length;f<d;f++){var p=c[f];if(e[p]){l=e[p];break}}return l=(0,r.cloneLayout)(l||[]),(0,r.compact)((0,r.correctBounds)(l,{cols:a}),s,a)},t.sortBreakpoints=i;var r=n(67493);function i(e){return Object.keys(e).sort((function(t,n){return e[t]-e[n]}))}},67493:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bottom=u,t.cloneLayout=function(e){for(var t=Array(e.length),n=0,r=e.length;n<r;n++)t[n]=c(e[n]);return t},t.cloneLayoutItem=c,t.childrenEqual=function(e,t){return(0,r.default)(i.default.Children.map(e,(function(e){return e.key})),i.default.Children.map(t,(function(e){return e.key})))},t.fastPositionEqual=function(e,t){return e.left===t.left&&e.top===t.top&&e.width===t.width&&e.height===t.height},t.collides=d,t.compact=p,t.compactItem=m,t.correctBounds=y,t.getLayoutItem=v,t.getFirstCollision=b,t.getAllCollisions=x,t.getStatics=_,t.moveElement=w,t.moveElementAwayFromCollision=k,t.perc=function(e){return 100*e+"%"},t.setTransform=function(e){var t=e.top,n=e.left,r=e.width,i=e.height,o="translate(".concat(n,"px,").concat(t,"px)");return{transform:o,WebkitTransform:o,MozTransform:o,msTransform:o,OTransform:o,width:"".concat(r,"px"),height:"".concat(i,"px"),position:"absolute"}},t.setTopLeft=function(e){var t=e.top,n=e.left,r=e.width,i=e.height;return{top:"".concat(t,"px"),left:"".concat(n,"px"),width:"".concat(r,"px"),height:"".concat(i,"px"),position:"absolute"}},t.sortLayoutItems=T,t.sortLayoutItemsByRowCol=C,t.sortLayoutItemsByColRow=O,t.synchronizeLayoutWithChildren=function(e,t,n,r){e=e||[];var o=[];return i.default.Children.forEach(t,(function(t,n){var r=v(e,String(t.key));if(r)o[n]=c(r);else{var i=t.props["data-grid"]||t.props._grid;o[n]=c(i?s(s({},i),{},{i:t.key}):{w:1,h:1,x:0,y:u(o),i:String(t.key)})}})),p(y(o,{cols:n}),r,n)},t.validateLayout=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Layout",n=["x","y","w","h"];if(!Array.isArray(e))throw new Error(t+" must be an array!");for(var r=0,i=e.length;r<i;r++){for(var o=e[r],a=0;a<n.length;a++)if("number"!=typeof o[n[a]])throw new Error("ReactGridLayout: "+t+"["+r+"]."+n[a]+" must be a number!");if(o.i&&"string"!=typeof o.i)throw new Error("ReactGridLayout: "+t+"["+r+"].i must be a string!");if(void 0!==o.static&&"boolean"!=typeof o.static)throw new Error("ReactGridLayout: "+t+"["+r+"].static must be a boolean!")}},t.compactType=function(e){var t=e||{},n=t.verticalCompact,r=t.compactType;return!1===n?null:r},t.autoBindHandlers=function(e,t){t.forEach((function(t){return e[t]=e[t].bind(e)}))},t.noop=t.fastRGLPropsEqual=void 0;var r=o(n(72307)),i=o(n(67294));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){for(var t,n=0,r=0,i=e.length;r<i;r++)(t=e[r].y+e[r].h)>n&&(n=t);return n}function c(e){return{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,minW:e.minW,maxW:e.maxW,minH:e.minH,maxH:e.maxH,moved:Boolean(e.moved),static:Boolean(e.static),isDraggable:e.isDraggable,isResizable:e.isResizable,resizeHandles:e.resizeHandles,isBounded:e.isBounded}}var f=n(31362);function d(e,t){return!(e.i===t.i||e.x+e.w<=t.x||e.x>=t.x+t.w||e.y+e.h<=t.y||e.y>=t.y+t.h)}function p(e,t,n){for(var r=_(e),i=T(e,t),o=Array(e.length),a=0,s=i.length;a<s;a++){var l=c(i[a]);l.static||(l=m(r,l,t,n,i),r.push(l)),o[e.indexOf(i[a])]=l,l.moved=!1}return o}t.fastRGLPropsEqual=f;var h={x:"w",y:"h"};function g(e,t,n,r){var i=h[r];t[r]+=1;for(var o=e.map((function(e){return e.i})).indexOf(t.i)+1;o<e.length;o++){var a=e[o];if(!a.static){if(a.y>t.y+t.h)break;d(t,a)&&g(e,a,n+t[i],r)}}t[r]=n}function m(e,t,n,r,i){var o,a="horizontal"===n;if("vertical"===n)for(t.y=Math.min(u(e),t.y);t.y>0&&!b(e,t);)t.y--;else if(a)for(t.y=Math.min(u(e),t.y);t.x>0&&!b(e,t);)t.x--;for(;o=b(e,t);)a?g(i,t,o.x+o.w,"x"):g(i,t,o.y+o.h,"y"),a&&t.x+t.w>r&&(t.x=r-t.w,t.y++);return t}function y(e,t){for(var n=_(e),r=0,i=e.length;r<i;r++){var o=e[r];if(o.x+o.w>t.cols&&(o.x=t.cols-o.w),o.x<0&&(o.x=0,o.w=t.cols),o.static)for(;b(n,o);)o.y++;else n.push(o)}return e}function v(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n].i===t)return e[n]}function b(e,t){for(var n=0,r=e.length;n<r;n++)if(d(e[n],t))return e[n]}function x(e,t){return e.filter((function(e){return d(e,t)}))}function _(e){return e.filter((function(e){return e.static}))}function w(e,t,n,r,i,o,a,s){if(t.static&&!0!==t.isDraggable)return e;if(t.y===r&&t.x===n)return e;"Moving element ".concat(t.i," to [").concat(String(n),",").concat(String(r),"] from [").concat(t.x,",").concat(t.y,"]");var l=t.x,u=t.y;"number"==typeof n&&(t.x=n),"number"==typeof r&&(t.y=r),t.moved=!0;var c=T(e,a);("vertical"===a&&"number"==typeof r?u>=r:"horizontal"===a&&"number"==typeof n&&l>=n)&&(c=c.reverse());var f=x(c,t);if(o&&f.length)return"Collision prevented on ".concat(t.i,", reverting."),t.x=l,t.y=u,t.moved=!1,e;for(var d=0,p=f.length;d<p;d++){var h=f[d];"Resolving collision between ".concat(t.i," at [").concat(t.x,",").concat(t.y,"] and ").concat(h.i," at [").concat(h.x,",").concat(h.y,"]"),h.moved||(e=h.static?k(e,h,t,i,a,s):k(e,t,h,i,a,s))}return e}function k(e,t,n,r,i,o){var a="horizontal"===i,s="horizontal"!==i,l=t.static;if(r){r=!1;var u={x:a?Math.max(t.x-n.w,0):n.x,y:s?Math.max(t.y-n.h,0):n.y,w:n.w,h:n.h,i:"-1"};if(!b(e,u))return"Doing reverse collision on ".concat(n.i," up to [").concat(u.x,",").concat(u.y,"]."),w(e,n,a?u.x:void 0,s?u.y:void 0,r,l,i,o)}return w(e,n,a?n.x+1:void 0,s?n.y+1:void 0,r,l,i,o)}function T(e,t){return"horizontal"===t?O(e):C(e)}function C(e){return e.slice(0).sort((function(e,t){return e.y>t.y||e.y===t.y&&e.x>t.x?1:e.y===t.y&&e.x===t.x?0:-1}))}function O(e){return e.slice(0).sort((function(e,t){return e.x>t.x||e.x===t.x&&e.y>t.y?1:-1}))}t.noop=function(){}},69968:(e,t,n)=>{e.exports=n(49580).default,n(67493),e.exports.Responsive=n(65966).default,e.exports.Responsive.utils=n(5651),e.exports.WidthProvider=n(27135).default},48917:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return c.default}}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==h(e)&&"function"!=typeof e)return{default:e};var t=p();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(n(67294)),i=d(n(45697)),o=d(n(73935)),a=d(n(94184)),s=n(73655),l=n(93231),u=n(80365),c=d(n(66436)),f=d(n(39103));function d(e){return e&&e.__esModule?e:{default:e}}function p(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return p=function(){return e},e}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),e}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?k(e):t}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(u,e);var t,n,i=(t=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=T(t);if(n){var i=T(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return w(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),C(k(t=i.call(this,e)),"onDragStart",(function(e,n){if((0,f.default)("Draggable: onDragStart: %j",n),!1===t.props.onStart(e,(0,l.createDraggableData)(k(t),n)))return!1;t.setState({dragging:!0,dragged:!0})})),C(k(t),"onDrag",(function(e,n){if(!t.state.dragging)return!1;(0,f.default)("Draggable: onDrag: %j",n);var r,i,o=(0,l.createDraggableData)(k(t),n),a={x:o.x,y:o.y};if(t.props.bounds){var s=a.x,u=a.y;a.x+=t.state.slackX,a.y+=t.state.slackY;var c=(r=(0,l.getBoundPosition)(k(t),a.x,a.y),i=2,function(e){if(Array.isArray(e))return e}(r)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(r,i)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}(r,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=c[0],p=c[1];a.x=d,a.y=p,a.slackX=t.state.slackX+(s-a.x),a.slackY=t.state.slackY+(u-a.y),o.x=a.x,o.y=a.y,o.deltaX=a.x-t.state.x,o.deltaY=a.y-t.state.y}if(!1===t.props.onDrag(e,o))return!1;t.setState(a)})),C(k(t),"onDragStop",(function(e,n){if(!t.state.dragging)return!1;if(!1===t.props.onStop(e,(0,l.createDraggableData)(k(t),n)))return!1;(0,f.default)("Draggable: onDragStop: %j",n);var r={dragging:!1,slackX:0,slackY:0};if(Boolean(t.props.position)){var i=t.props.position,o=i.x,a=i.y;r.x=o,r.y=a}t.setState(r)})),t.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:v({},e.position),slackX:0,slackY:0,isElementSVG:!1},!e.position||e.onDrag||e.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),t}return x(u,null,[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.position,r=t.prevPropsPosition;return!n||r&&n.x===r.x&&n.y===r.y?null:((0,f.default)("Draggable: getDerivedStateFromProps %j",{position:n,prevPropsPosition:r}),{x:n.x,y:n.y,prevPropsPosition:v({},n)})}}]),x(u,[{key:"componentDidMount",value:function(){void 0!==window.SVGElement&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){return this.props.nodeRef?this.props.nodeRef.current:o.default.findDOMNode(this)}},{key:"render",value:function(){var e,t=this.props,n=(t.axis,t.bounds,t.children),i=t.defaultPosition,o=t.defaultClassName,u=t.defaultClassNameDragging,f=t.defaultClassNameDragged,d=t.position,p=t.positionOffset,h=(t.scale,function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"])),m={},y=null,b=!Boolean(d)||this.state.dragging,x=d||i,_={x:(0,l.canDragX)(this)&&b?this.state.x:x.x,y:(0,l.canDragY)(this)&&b?this.state.y:x.y};this.state.isElementSVG?y=(0,s.createSVGTransform)(_,p):m=(0,s.createCSSTransform)(_,p);var w=(0,a.default)(n.props.className||"",o,(C(e={},u,this.state.dragging),C(e,f,this.state.dragged),e));return r.createElement(c.default,g({},h,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),r.cloneElement(r.Children.only(n),{className:w,style:v(v({},n.props.style),m),transform:y}))}}]),u}(r.Component);t.default=O,C(O,"displayName","Draggable"),C(O,"propTypes",v(v({},c.default.propTypes),{},{axis:i.default.oneOf(["both","x","y","none"]),bounds:i.default.oneOfType([i.default.shape({left:i.default.number,right:i.default.number,top:i.default.number,bottom:i.default.number}),i.default.string,i.default.oneOf([!1])]),defaultClassName:i.default.string,defaultClassNameDragging:i.default.string,defaultClassNameDragged:i.default.string,defaultPosition:i.default.shape({x:i.default.number,y:i.default.number}),positionOffset:i.default.shape({x:i.default.oneOfType([i.default.number,i.default.string]),y:i.default.oneOfType([i.default.number,i.default.string])}),position:i.default.shape({x:i.default.number,y:i.default.number}),className:u.dontSetMe,style:u.dontSetMe,transform:u.dontSetMe})),C(O,"defaultProps",v(v({},c.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},position:null,scale:1}))},66436:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==d(e)&&"function"!=typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(n(67294)),i=c(n(45697)),o=c(n(73935)),a=n(73655),s=n(93231),l=n(80365),u=c(n(39103));function c(e){return e&&e.__esModule?e:{default:e}}function f(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w={start:"touchstart",move:"touchmove",stop:"touchend"},k={start:"mousedown",move:"mousemove",stop:"mouseup"},T=k,C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(f,e);var t,n,i,l,c=(i=f,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=x(i);if(l){var n=x(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return v(this,e)});function f(){var e;g(this,f);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _(b(e=c.call.apply(c,[this].concat(n))),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),_(b(e),"mounted",!1),_(b(e),"handleDragStart",(function(t){if(e.props.onMouseDown(t),!e.props.allowAnyClick&&"number"==typeof t.button&&0!==t.button)return!1;var n=e.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var r=n.ownerDocument;if(!(e.props.disabled||!(t.target instanceof r.defaultView.Node)||e.props.handle&&!(0,a.matchesSelectorAndParentsTo)(t.target,e.props.handle,n)||e.props.cancel&&(0,a.matchesSelectorAndParentsTo)(t.target,e.props.cancel,n))){"touchstart"===t.type&&t.preventDefault();var i=(0,a.getTouchIdentifier)(t);e.setState({touchIdentifier:i});var o=(0,s.getControlPosition)(t,i,b(e));if(null!=o){var l=o.x,c=o.y,f=(0,s.createCoreData)(b(e),l,c);(0,u.default)("DraggableCore: handleDragStart: %j",f),(0,u.default)("calling",e.props.onStart),!1!==e.props.onStart(t,f)&&!1!==e.mounted&&(e.props.enableUserSelectHack&&(0,a.addUserSelectStyles)(r),e.setState({dragging:!0,lastX:l,lastY:c}),(0,a.addEvent)(r,T.move,e.handleDrag),(0,a.addEvent)(r,T.stop,e.handleDragStop))}}})),_(b(e),"handleDrag",(function(t){var n=(0,s.getControlPosition)(t,e.state.touchIdentifier,b(e));if(null!=n){var r=n.x,i=n.y;if(Array.isArray(e.props.grid)){var o=r-e.state.lastX,a=i-e.state.lastY,l=p((0,s.snapToGrid)(e.props.grid,o,a),2);if(o=l[0],a=l[1],!o&&!a)return;r=e.state.lastX+o,i=e.state.lastY+a}var c=(0,s.createCoreData)(b(e),r,i);if((0,u.default)("DraggableCore: handleDrag: %j",c),!1!==e.props.onDrag(t,c)&&!1!==e.mounted)e.setState({lastX:r,lastY:i});else try{e.handleDragStop(new MouseEvent("mouseup"))}catch(t){var f=document.createEvent("MouseEvents");f.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.handleDragStop(f)}}})),_(b(e),"handleDragStop",(function(t){if(e.state.dragging){var n=(0,s.getControlPosition)(t,e.state.touchIdentifier,b(e));if(null!=n){var r=n.x,i=n.y,o=(0,s.createCoreData)(b(e),r,i);if(!1===e.props.onStop(t,o)||!1===e.mounted)return!1;var l=e.findDOMNode();l&&e.props.enableUserSelectHack&&(0,a.removeUserSelectStyles)(l.ownerDocument),(0,u.default)("DraggableCore: handleDragStop: %j",o),e.setState({dragging:!1,lastX:NaN,lastY:NaN}),l&&((0,u.default)("DraggableCore: Removing handlers"),(0,a.removeEvent)(l.ownerDocument,T.move,e.handleDrag),(0,a.removeEvent)(l.ownerDocument,T.stop,e.handleDragStop))}}})),_(b(e),"onMouseDown",(function(t){return T=k,e.handleDragStart(t)})),_(b(e),"onMouseUp",(function(t){return T=k,e.handleDragStop(t)})),_(b(e),"onTouchStart",(function(t){return T=w,e.handleDragStart(t)})),_(b(e),"onTouchEnd",(function(t){return T=w,e.handleDragStop(t)})),e}return t=f,(n=[{key:"componentDidMount",value:function(){this.mounted=!0;var e=this.findDOMNode();e&&(0,a.addEvent)(e,w.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.findDOMNode();if(e){var t=e.ownerDocument;(0,a.removeEvent)(t,k.move,this.handleDrag),(0,a.removeEvent)(t,w.move,this.handleDrag),(0,a.removeEvent)(t,k.stop,this.handleDragStop),(0,a.removeEvent)(t,w.stop,this.handleDragStop),(0,a.removeEvent)(e,w.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,a.removeUserSelectStyles)(t)}}},{key:"findDOMNode",value:function(){return this.props.nodeRef?this.props.nodeRef.current:o.default.findDOMNode(this)}},{key:"render",value:function(){return r.cloneElement(r.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}])&&m(t.prototype,n),f}(r.Component);t.default=C,_(C,"displayName","DraggableCore"),_(C,"propTypes",{allowAnyClick:i.default.bool,disabled:i.default.bool,enableUserSelectHack:i.default.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:i.default.arrayOf(i.default.number),handle:i.default.string,cancel:i.default.string,nodeRef:i.default.object,onStart:i.default.func,onDrag:i.default.func,onStop:i.default.func,onMouseDown:i.default.func,scale:i.default.number,className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe}),_(C,"defaultProps",{allowAnyClick:!1,cancel:null,disabled:!1,enableUserSelectHack:!0,offsetParent:null,handle:null,grid:null,transform:null,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})},10434:(e,t,n)=>{"use strict";var r=n(48917),i=r.default,o=r.DraggableCore;e.exports=i,e.exports.default=i,e.exports.DraggableCore=o},73655:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.matchesSelector=f,t.matchesSelectorAndParentsTo=function(e,t,n){var r=e;do{if(f(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1},t.addEvent=function(e,t,n,r){if(e){var i=l({capture:!0},r);e.addEventListener?e.addEventListener(t,n,i):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}},t.removeEvent=function(e,t,n,r){if(e){var i=l({capture:!0},r);e.removeEventListener?e.removeEventListener(t,n,i):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null}},t.outerHeight=function(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return(t+=(0,i.int)(n.borderTopWidth))+(0,i.int)(n.borderBottomWidth)},t.outerWidth=function(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return(t+=(0,i.int)(n.borderLeftWidth))+(0,i.int)(n.borderRightWidth)},t.innerHeight=function(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return(t-=(0,i.int)(n.paddingTop))-(0,i.int)(n.paddingBottom)},t.innerWidth=function(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return(t-=(0,i.int)(n.paddingLeft))-(0,i.int)(n.paddingRight)},t.offsetXYFromParent=function(e,t,n){var r=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect();return{x:(e.clientX+t.scrollLeft-r.left)/n,y:(e.clientY+t.scrollTop-r.top)/n}},t.createCSSTransform=function(e,t){var n=d(e,t,"px");return u({},(0,o.browserPrefixToKey)("transform",o.default),n)},t.createSVGTransform=function(e,t){return d(e,t,"")},t.getTranslation=d,t.getTouch=function(e,t){return e.targetTouches&&(0,i.findInArray)(e.targetTouches,(function(e){return t===e.identifier}))||e.changedTouches&&(0,i.findInArray)(e.changedTouches,(function(e){return t===e.identifier}))},t.getTouchIdentifier=function(e){return e.targetTouches&&e.targetTouches[0]?e.targetTouches[0].identifier:e.changedTouches&&e.changedTouches[0]?e.changedTouches[0].identifier:void 0},t.addUserSelectStyles=function(e){if(e){var t=e.getElementById("react-draggable-style-el");t||((t=e.createElement("style")).type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(t)),e.body&&p(e.body,"react-draggable-transparent-selection")}},t.removeUserSelectStyles=function(e){if(e)try{if(e.body&&h(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{var t=(e.defaultView||window).getSelection();t&&"Caret"!==t.type&&t.removeAllRanges()}}catch(e){}},t.addClassName=p,t.removeClassName=h;var i=n(80365),o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}(n(61e3));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c="";function f(e,t){return c||(c=(0,i.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(t){return(0,i.isFunction)(e[t])}))),!!(0,i.isFunction)(e[c])&&e[c](t)}function d(e,t,n){var r=e.x,i=e.y,o="translate(".concat(r).concat(n,",").concat(i).concat(n,")");if(t){var a="".concat("string"==typeof t.x?t.x:t.x+n),s="".concat("string"==typeof t.y?t.y:t.y+n);o="translate(".concat(a,", ").concat(s,")")+o}return o}function p(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function h(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}},61e3:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPrefix=r,t.browserPrefixToKey=i,t.browserPrefixToStyle=function(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e},t.default=void 0;var n=["Moz","Webkit","O","ms"];function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window||void 0===window.document)return"";var t=window.document.documentElement.style;if(e in t)return"";for(var r=0;r<n.length;r++)if(i(e,n[r])in t)return n[r];return""}function i(e,t){return t?"".concat(t).concat(function(e){for(var t="",n=!0,r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}(e)):e}var o=r();t.default=o},39103:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){}},93231:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBoundPosition=function(e,t,n){if(!e.props.bounds)return[t,n];var a=e.props.bounds;a="string"==typeof a?a:function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}(a);var s=o(e);if("string"==typeof a){var l,u=s.ownerDocument,c=u.defaultView;if(!((l="parent"===a?s.parentNode:u.querySelector(a))instanceof c.HTMLElement))throw new Error('Bounds selector "'+a+'" could not find an element.');var f=c.getComputedStyle(s),d=c.getComputedStyle(l);a={left:-s.offsetLeft+(0,r.int)(d.paddingLeft)+(0,r.int)(f.marginLeft),top:-s.offsetTop+(0,r.int)(d.paddingTop)+(0,r.int)(f.marginTop),right:(0,i.innerWidth)(l)-(0,i.outerWidth)(s)-s.offsetLeft+(0,r.int)(d.paddingRight)-(0,r.int)(f.marginRight),bottom:(0,i.innerHeight)(l)-(0,i.outerHeight)(s)-s.offsetTop+(0,r.int)(d.paddingBottom)-(0,r.int)(f.marginBottom)}}return(0,r.isNum)(a.right)&&(t=Math.min(t,a.right)),(0,r.isNum)(a.bottom)&&(n=Math.min(n,a.bottom)),(0,r.isNum)(a.left)&&(t=Math.max(t,a.left)),(0,r.isNum)(a.top)&&(n=Math.max(n,a.top)),[t,n]},t.snapToGrid=function(e,t,n){return[Math.round(t/e[0])*e[0],Math.round(n/e[1])*e[1]]},t.canDragX=function(e){return"both"===e.props.axis||"x"===e.props.axis},t.canDragY=function(e){return"both"===e.props.axis||"y"===e.props.axis},t.getControlPosition=function(e,t,n){var r="number"==typeof t?(0,i.getTouch)(e,t):null;if("number"==typeof t&&!r)return null;var a=o(n),s=n.props.offsetParent||a.offsetParent||a.ownerDocument.body;return(0,i.offsetXYFromParent)(r||e,s,n.props.scale)},t.createCoreData=function(e,t,n){var i=e.state,a=!(0,r.isNum)(i.lastX),s=o(e);return a?{node:s,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:s,deltaX:t-i.lastX,deltaY:n-i.lastY,lastX:i.lastX,lastY:i.lastY,x:t,y:n}},t.createDraggableData=function(e,t){var n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}};var r=n(80365),i=n(73655);function o(e){var t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}},80365:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findInArray=function(e,t){for(var n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]},t.isFunction=function(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)},t.isNum=function(e){return"number"==typeof e&&!isNaN(e)},t.int=function(e){return parseInt(e,10)},t.dontSetMe=function(e,t,n){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))}},1431:(e,t,n)=>{var r=n(67294),i=n(72555),o=n(45697),a=n(93958),s=n(77642),l=i({propTypes:{position:o.string.isRequired,notifications:o.array.isRequired,getStyles:o.object},_style:{},componentWillMount:function(){this._style=this.props.getStyles.container(this.props.position),!this.props.getStyles.overrideWidth||this.props.position!==s.positions.tc&&this.props.position!==s.positions.bc||(this._style.marginLeft=-this.props.getStyles.overrideWidth/2)},render:function(){var e,t=this;return[s.positions.bl,s.positions.br,s.positions.bc].indexOf(this.props.position)>-1&&this.props.notifications.reverse(),e=this.props.notifications.map((function(e){return r.createElement(a,{ref:"notification-"+e.uid,key:e.uid,notification:e,getStyles:t.props.getStyles,onRemove:t.props.onRemove,noAnimation:t.props.noAnimation,allowHTML:t.props.allowHTML,children:t.props.children})})),r.createElement("div",{className:"notifications-"+this.props.position,style:this._style},e)}});e.exports=l},93958:(e,t,n)=>{var r=n(67294),i=n(72555),o=n(45697),a=n(73935),s=n(77642),l=n(37325),u=n(27418),c=function(){var e,t=document.createElement("fakeelement"),n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};return Object.keys(n).forEach((function(r){void 0!==t.style[r]&&(e=n[r])})),e},f=i({propTypes:{notification:o.object,getStyles:o.object,onRemove:o.func,allowHTML:o.bool,noAnimation:o.bool,children:o.oneOfType([o.string,o.element])},getDefaultProps:function(){return{noAnimation:!1,onRemove:function(){},allowHTML:!1}},getInitialState:function(){return{visible:void 0,removed:!1}},componentWillMount:function(){var e=this.props.getStyles,t=this.props.notification.level;this._noAnimation=this.props.noAnimation,this._styles={notification:e.byElement("notification")(t),title:e.byElement("title")(t),dismiss:e.byElement("dismiss")(t),messageWrapper:e.byElement("messageWrapper")(t),actionWrapper:e.byElement("actionWrapper")(t),action:e.byElement("action")(t)},this.props.notification.dismissible||(this._styles.notification.cursor="default")},_styles:{},_notificationTimer:null,_height:0,_noAnimation:null,_isMounted:!1,_removeCount:0,_getCssPropertyByPosition:function(){var e={};switch(this.props.notification.position){case s.positions.tl:case s.positions.bl:e={property:"left",value:-200};break;case s.positions.tr:case s.positions.br:e={property:"right",value:-200};break;case s.positions.tc:e={property:"top",value:-100};break;case s.positions.bc:e={property:"bottom",value:-100}}return e},_defaultAction:function(e){var t=this.props.notification;e.preventDefault(),this._hideNotification(),"function"==typeof t.action.callback&&t.action.callback()},_hideNotification:function(){this._notificationTimer&&this._notificationTimer.clear(),this._isMounted&&this.setState({visible:!1,removed:!0}),this._noAnimation&&this._removeNotification()},_removeNotification:function(){this.props.onRemove(this.props.notification.uid)},_dismiss:function(){this.props.notification.dismissible&&this._hideNotification()},_showNotification:function(){var e=this;setTimeout((function(){e._isMounted&&e.setState({visible:!0})}),50)},_onTransitionEnd:function(){this._removeCount>0||this.state.removed&&(this._removeCount++,this._removeNotification())},componentDidMount:function(){var e=this,t=c(),n=this.props.notification,r=a.findDOMNode(this);this._height=r.offsetHeight,this._isMounted=!0,this._noAnimation||(t?r.addEventListener(t,this._onTransitionEnd):this._noAnimation=!0),n.autoDismiss&&(this._notificationTimer=new l.Timer((function(){e._hideNotification()}),1e3*n.autoDismiss)),this._showNotification()},_handleMouseEnter:function(){this.props.notification.autoDismiss&&this._notificationTimer.pause()},_handleMouseLeave:function(){this.props.notification.autoDismiss&&this._notificationTimer.resume()},componentWillUnmount:function(){var e=a.findDOMNode(this),t=c();e.removeEventListener(t,this._onTransitionEnd),this._isMounted=!1},_allowHTML:function(e){return{__html:e}},render:function(){var e=this.props.notification,t="notification notification-"+e.level,n=u({},this._styles.notification),i=this._getCssPropertyByPosition(),o=null,a=null,s=null,l=null;return this.state.visible?t+=" notification-visible":!1===this.state.visible&&(t+=" notification-hidden"),e.dismissible||(t+=" notification-not-dismissible"),this.props.getStyles.overrideStyle&&(this.state.visible||this.state.removed||(n[i.property]=i.value),this.state.visible&&!this.state.removed&&(n.height=this._height,n[i.property]=0),this.state.removed&&(n.overlay="hidden",n.height=0,n.marginTop=0,n.paddingTop=0,n.paddingBottom=0),n.opacity=this.state.visible?this._styles.notification.isVisible.opacity:this._styles.notification.isHidden.opacity),e.title&&(s=r.createElement("h4",{className:"notification-title",style:this._styles.title},e.title)),e.message&&(l=this.props.allowHTML?r.createElement("div",{className:"notification-message",style:this._styles.messageWrapper,dangerouslySetInnerHTML:this._allowHTML(e.message)}):r.createElement("div",{className:"notification-message",style:this._styles.messageWrapper},e.message)),e.dismissible&&(o=r.createElement("span",{className:"notification-dismiss",style:this._styles.dismiss},"×")),e.action&&(a=r.createElement("div",{className:"notification-action-wrapper",style:this._styles.actionWrapper},r.createElement("button",{className:"notification-action-button",onClick:this._defaultAction,style:this._styles.action},e.action.label))),e.children&&(a=e.children),r.createElement("div",{className:t,onClick:this._dismiss,onMouseEnter:this._handleMouseEnter,onMouseLeave:this._handleMouseLeave,style:n},s,l,o,a)}});e.exports=f},26656:(e,t,n)=>{var r=n(67294),i=n(72555),o=n(45697),a=n(27418),s=n(1431),l=n(77642),u=n(16470),c=i({uid:3400,_isMounted:!1,_getStyles:{overrideStyle:{},overrideWidth:null,setOverrideStyle:function(e){this.overrideStyle=e},wrapper:function(){return this.overrideStyle?a({},u.Wrapper,this.overrideStyle.Wrapper):{}},container:function(e){var t=this.overrideStyle.Containers||{};return this.overrideStyle?(this.overrideWidth=u.Containers.DefaultStyle.width,t.DefaultStyle&&t.DefaultStyle.width&&(this.overrideWidth=t.DefaultStyle.width),t[e]&&t[e].width&&(this.overrideWidth=t[e].width),a({},u.Containers.DefaultStyle,u.Containers[e],t.DefaultStyle,t[e])):{}},elements:{notification:"NotificationItem",title:"Title",messageWrapper:"MessageWrapper",dismiss:"Dismiss",action:"Action",actionWrapper:"ActionWrapper"},byElement:function(e){var t=this;return function(n){var r=t.elements[e],i=t.overrideStyle[r]||{};return t.overrideStyle?a({},u[r].DefaultStyle,u[r][n],i.DefaultStyle,i[n]):{}}}},_didNotificationRemoved:function(e){var t,n=this.state.notifications.filter((function(n){return n.uid!==e||(t=n,!1)}));this._isMounted&&this.setState({notifications:n}),t&&t.onRemove&&t.onRemove(t)},getInitialState:function(){return{notifications:[]}},propTypes:{style:o.oneOfType([o.bool,o.object]),noAnimation:o.bool,allowHTML:o.bool},getDefaultProps:function(){return{style:{},noAnimation:!1,allowHTML:!1}},addNotification:function(e){var t,n=a({},l.notification,e),r=this.state.notifications;if(!n.level)throw new Error("notification level is required.");if(-1===Object.keys(l.levels).indexOf(n.level))throw new Error("'"+n.level+"' is not a valid level.");if(isNaN(n.autoDismiss))throw new Error("'autoDismiss' must be a number.");if(-1===Object.keys(l.positions).indexOf(n.position))throw new Error("'"+n.position+"' is not a valid position.");for(n.position=n.position.toLowerCase(),n.level=n.level.toLowerCase(),n.autoDismiss=parseInt(n.autoDismiss,10),n.uid=n.uid||this.uid,n.ref="notification-"+n.uid,this.uid+=1,t=0;t<r.length;t++)if(r[t].uid===n.uid)return!1;return r.push(n),"function"==typeof n.onAdd&&e.onAdd(n),this.setState({notifications:r}),n},getNotificationRef:function(e){var t=this,n=null;return Object.keys(this.refs).forEach((function(r){r.indexOf("container")>-1&&Object.keys(t.refs[r].refs).forEach((function(i){i!=="notification-"+(e.uid?e.uid:e)||(n=t.refs[r].refs[i])}))})),n},removeNotification:function(e){var t=this.getNotificationRef(e);return t&&t._hideNotification()},editNotification:function(e,t){var n=null,r=e.uid?e.uid:e,i=this.state.notifications.filter((function(e){return r!==e.uid||(n=e,!1)}));n&&(i.push(a({},n,t)),this.setState({notifications:i}))},clearNotifications:function(){var e=this;Object.keys(this.refs).forEach((function(t){t.indexOf("container")>-1&&Object.keys(e.refs[t].refs).forEach((function(n){e.refs[t].refs[n]._hideNotification()}))}))},componentDidMount:function(){this._getStyles.setOverrideStyle(this.props.style),this._isMounted=!0},componentWillUnmount:function(){this._isMounted=!1},render:function(){var e=this,t=null,n=this.state.notifications;return n.length&&(t=Object.keys(l.positions).map((function(t){var i=n.filter((function(e){return t===e.position}));return i.length?r.createElement(s,{ref:"container-"+t,key:t,position:t,notifications:i,getStyles:e._getStyles,onRemove:e._didNotificationRemoved,noAnimation:e.props.noAnimation,allowHTML:e.props.allowHTML}):null}))),r.createElement("div",{className:"notifications-wrapper",style:this._getStyles.wrapper()},t)}});e.exports=c},77642:e=>{e.exports={positions:{tl:"tl",tr:"tr",tc:"tc",bl:"bl",br:"br",bc:"bc"},levels:{success:"success",error:"error",warning:"warning",info:"info"},notification:{title:null,message:null,level:null,position:"tr",autoDismiss:5,dismissible:!0,action:null}}},37325:e=>{var t={Timer:function(e,t){var n,r,i=t;this.pause=function(){clearTimeout(n),i-=new Date-r},this.resume=function(){r=new Date,clearTimeout(n),n=setTimeout(e,i)},this.clear=function(){clearTimeout(n)},this.resume()}};e.exports=t},16470:e=>{var t="94, 164, 0",n="#5ea400",r="236, 61, 61",i="#ec3d3d",o="235, 173, 23",a="#ebad1a",s="54, 156, 199",l="#369cc7",u={Wrapper:{},Containers:{DefaultStyle:{fontFamily:"inherit",position:"fixed",width:320,padding:"0 10px 10px 10px",zIndex:9998,WebkitBoxSizing:"border-box",MozBoxSizing:"border-box",boxSizing:"border-box",height:"auto"},tl:{top:"0px",bottom:"auto",left:"0px",right:"auto"},tr:{top:"0px",bottom:"auto",left:"auto",right:"0px"},tc:{top:"0px",bottom:"auto",margin:"0 auto",left:"50%",marginLeft:-160},bl:{top:"auto",bottom:"0px",left:"0px",right:"auto"},br:{top:"auto",bottom:"0px",left:"auto",right:"0px"},bc:{top:"auto",bottom:"0px",margin:"0 auto",left:"50%",marginLeft:-160}},NotificationItem:{DefaultStyle:{position:"relative",width:"100%",cursor:"pointer",borderRadius:"2px",fontSize:"13px",margin:"10px 0 0",padding:"10px",display:"block",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box",boxSizing:"border-box",opacity:0,transition:"0.3s ease-in-out",WebkitTransform:"translate3d(0, 0, 0)",transform:"translate3d(0, 0, 0)",willChange:"transform, opacity",isHidden:{opacity:0},isVisible:{opacity:1}},success:{borderTop:"2px solid "+n,backgroundColor:"#f0f5ea",color:"#4b583a",WebkitBoxShadow:"0 0 1px rgba("+t+",0.9)",MozBoxShadow:"0 0 1px rgba("+t+",0.9)",boxShadow:"0 0 1px rgba("+t+",0.9)"},error:{borderTop:"2px solid "+i,backgroundColor:"#f4e9e9",color:"#412f2f",WebkitBoxShadow:"0 0 1px rgba("+r+",0.9)",MozBoxShadow:"0 0 1px rgba("+r+",0.9)",boxShadow:"0 0 1px rgba("+r+",0.9)"},warning:{borderTop:"2px solid "+a,backgroundColor:"#f9f6f0",color:"#5a5343",WebkitBoxShadow:"0 0 1px rgba("+o+",0.9)",MozBoxShadow:"0 0 1px rgba("+o+",0.9)",boxShadow:"0 0 1px rgba("+o+",0.9)"},info:{borderTop:"2px solid "+l,backgroundColor:"#e8f0f4",color:"#41555d",WebkitBoxShadow:"0 0 1px rgba("+s+",0.9)",MozBoxShadow:"0 0 1px rgba("+s+",0.9)",boxShadow:"0 0 1px rgba("+s+",0.9)"}},Title:{DefaultStyle:{fontSize:"14px",margin:"0 0 5px 0",padding:0,fontWeight:"bold"},success:{color:n},error:{color:i},warning:{color:a},info:{color:l}},MessageWrapper:{DefaultStyle:{margin:0,padding:0}},Dismiss:{DefaultStyle:{fontFamily:"Arial",fontSize:"17px",position:"absolute",top:"4px",right:"5px",lineHeight:"15px",backgroundColor:"#dededf",color:"#ffffff",borderRadius:"50%",width:"14px",height:"14px",fontWeight:"bold",textAlign:"center"},success:{color:"#f0f5ea",backgroundColor:"#b0ca92"},error:{color:"#f4e9e9",backgroundColor:"#e4bebe"},warning:{color:"#f9f6f0",backgroundColor:"#e1cfac"},info:{color:"#e8f0f4",backgroundColor:"#a4becb"}},Action:{DefaultStyle:{background:"#ffffff",borderRadius:"2px",padding:"6px 20px",fontWeight:"bold",margin:"10px 0 0 0",border:0},success:{backgroundColor:n,color:"#ffffff"},error:{backgroundColor:i,color:"#ffffff"},warning:{backgroundColor:a,color:"#ffffff"},info:{backgroundColor:l,color:"#ffffff"}},ActionWrapper:{DefaultStyle:{margin:0,padding:0}}};e.exports=u},84922:(e,t,n)=>{"use strict";t.Z=function(e){var t=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(m,t);var n,r,o,a,s=(n=m,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d(n);if(r){var i=d(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return c(this,e)});function m(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m),(t=s.call(this,e)).p=Promise.resolve(),t.resizeHandler=null,t.handlers={},t.syncWindowResize=t.syncWindowResize.bind(f(t)),t.syncEventHandlers=t.syncEventHandlers.bind(f(t)),t.attachUpdateEvents=t.attachUpdateEvents.bind(f(t)),t.getRef=t.getRef.bind(f(t)),t.handleUpdate=t.handleUpdate.bind(f(t)),t.figureCallback=t.figureCallback.bind(f(t)),t.updatePlotly=t.updatePlotly.bind(f(t)),t}return o=m,(a=[{key:"updatePlotly",value:function(t,n,r){var i=this;this.p=this.p.then((function(){if(!i.unmounting){if(!i.el)throw new Error("Missing element reference");return e.react(i.el,{data:i.props.data,layout:i.props.layout,config:i.props.config,frames:i.props.frames})}})).then((function(){i.unmounting||(i.syncWindowResize(t),i.syncEventHandlers(),i.figureCallback(n),r&&i.attachUpdateEvents())})).catch((function(e){i.props.onError&&i.props.onError(e)}))}},{key:"componentDidMount",value:function(){this.unmounting=!1,this.updatePlotly(!0,this.props.onInitialized,!0)}},{key:"componentDidUpdate",value:function(e){this.unmounting=!1;var t=e.frames&&e.frames.length?e.frames.length:0,n=this.props.frames&&this.props.frames.length?this.props.frames.length:0,r=!(e.layout===this.props.layout&&e.data===this.props.data&&e.config===this.props.config&&n===t),i=void 0!==e.revision,o=e.revision!==this.props.revision;(r||i&&(!i||o))&&this.updatePlotly(!1,this.props.onUpdate,!1)}},{key:"componentWillUnmount",value:function(){this.unmounting=!0,this.figureCallback(this.props.onPurge),this.resizeHandler&&g&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null),this.removeUpdateEvents(),e.purge(this.el)}},{key:"attachUpdateEvents",value:function(){var e=this;this.el&&this.el.removeListener&&h.forEach((function(t){e.el.on(t,e.handleUpdate)}))}},{key:"removeUpdateEvents",value:function(){var e=this;this.el&&this.el.removeListener&&h.forEach((function(t){e.el.removeListener(t,e.handleUpdate)}))}},{key:"handleUpdate",value:function(){this.figureCallback(this.props.onUpdate)}},{key:"figureCallback",value:function(e){if("function"==typeof e){var t=this.el;e({data:t.data,layout:t.layout,frames:this.el._transitionData?this.el._transitionData._frames:null},this.el)}}},{key:"syncWindowResize",value:function(t){var n=this;g&&(this.props.useResizeHandler&&!this.resizeHandler?(this.resizeHandler=function(){return e.Plots.resize(n.el)},window.addEventListener("resize",this.resizeHandler),t&&this.resizeHandler()):!this.props.useResizeHandler&&this.resizeHandler&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null))}},{key:"getRef",value:function(e){this.el=e,this.props.debug&&g&&(window.gd=this.el)}},{key:"syncEventHandlers",value:function(){var e=this;p.forEach((function(t){var n=e.props["on"+t],r=e.handlers[t],i=Boolean(r);n&&!i?e.addEventHandler(t,n):!n&&i?e.removeEventHandler(t):n&&i&&n!==r&&(e.removeEventHandler(t),e.addEventHandler(t,n))}))}},{key:"addEventHandler",value:function(e,t){this.handlers[e]=t,this.el.on(this.getPlotlyEventName(e),this.handlers[e])}},{key:"removeEventHandler",value:function(e){this.el.removeListener(this.getPlotlyEventName(e),this.handlers[e]),delete this.handlers[e]}},{key:"getPlotlyEventName",value:function(e){return"plotly_"+e.toLowerCase()}},{key:"render",value:function(){return i.default.createElement("div",{id:this.props.divId,style:this.props.style,ref:this.getRef,className:this.props.className})}}])&&l(o.prototype,a),m}(i.Component);return t.propTypes={data:o.default.arrayOf(o.default.object),config:o.default.object,layout:o.default.object,frames:o.default.arrayOf(o.default.object),revision:o.default.number,onInitialized:o.default.func,onPurge:o.default.func,onError:o.default.func,onUpdate:o.default.func,debug:o.default.bool,style:o.default.object,className:o.default.string,useResizeHandler:o.default.bool,divId:o.default.string},p.forEach((function(e){t.propTypes["on"+e]=o.default.func})),t.defaultProps={debug:!1,useResizeHandler:!1,data:[],style:{position:"relative",display:"inline-block"}},t};var r,i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==s(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(n(67294)),o=(r=n(45697))&&r.__esModule?r:{default:r};function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=["AfterExport","AfterPlot","Animated","AnimatingFrame","AnimationInterrupted","AutoSize","BeforeExport","ButtonClicked","Click","ClickAnnotation","Deselect","DoubleClick","Framework","Hover","LegendClick","LegendDoubleClick","Relayout","Relayouting","Restyle","Redraw","Selected","Selecting","SliderChange","SliderEnd","SliderStart","SunburstClick","Transitioning","TransitionInterrupted","Unhover"],h=["plotly_restyle","plotly_redraw","plotly_relayout","plotly_relayouting","plotly_doubleclick","plotly_animated","plotly_sunburstclick"],g="undefined"!=typeof window},55020:(e,t,n)=>{"use strict";var r=n(67294),i=n(73935),o=n(72555),a=n(51127),s=(n(50542),n(43205)),l=n(31476),u=n(45697),c=n(72278),f=o({displayName:"Quill",mixins:[a],propTypes:{id:u.string,className:u.string,theme:u.string,style:u.object,readOnly:u.bool,value:u.oneOfType([u.string,u.shape({ops:u.array})]),defaultValue:u.oneOfType([u.string,u.shape({ops:u.array})]),placeholder:u.string,tabIndex:u.number,bounds:u.oneOfType([u.string,u.element]),onChange:u.func,onChangeSelection:u.func,onFocus:u.func,onBlur:u.func,onKeyPress:u.func,onKeyDown:u.func,onKeyUp:u.func,modules:function(e){var t=u.object.apply(this,arguments);return t||(e.modules&&e.modules.toolbar&&e.modules.toolbar[0]&&e.modules.toolbar[0].type?new Error("Since v1.0.0, React Quill will not create a custom toolbar for you anymore. Create a toolbar explictly, or let Quill create one. See: https://github.com/zenoamaro/react-quill#upgrading-to-react-quill-v100"):void 0)},toolbar:function(e){if("toolbar"in e)return new Error("The `toolbar` prop has been deprecated. Use `modules.toolbar` instead. See: https://github.com/zenoamaro/react-quill#upgrading-to-react-quill-v100")},formats:function(e){var t=u.arrayOf(u.string).apply(this,arguments);if(t)return new Error("You cannot specify custom `formats` anymore. Use Parchment instead.  See: https://github.com/zenoamaro/react-quill#upgrading-to-react-quill-v100.")},styles:function(e){if("styles"in e)return new Error("The `styles` prop has been deprecated. Use custom stylesheets instead. See: https://github.com/zenoamaro/react-quill#upgrading-to-react-quill-v100.")},pollInterval:function(e){if("pollInterval"in e)return new Error("The `pollInterval` property does not have any effect anymore. You can safely remove it from your props.See: https://github.com/zenoamaro/react-quill#upgrading-to-react-quill-v100.")},children:function(e){var t=u.element.apply(this,arguments);if(t)return new Error("The Quill editing area can only be composed of a single React element.");if(r.Children.count(e.children)){var n=r.Children.only(e.children);if("textarea"===n.type)return new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}}},dirtyProps:["modules","formats","bounds","theme","children"],cleanProps:["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],getDefaultProps:function(){return{theme:"snow",modules:{}}},isControlled:function(){return"value"in this.props},getInitialState:function(){return{generation:0,value:this.isControlled()?this.props.value:this.props.defaultValue}},componentWillReceiveProps:function(e,t){var n=this.editor;if(n){if("value"in e){var r=this.getEditorContents(),i=e.value;if(i===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas");this.isEqualValue(i,r)||this.setEditorContents(n,i)}return"readOnly"in e&&e.readOnly!==this.props.readOnly&&this.setEditorReadOnly(n,e.readOnly),this.shouldComponentRegenerate(e,t)?this.regenerate():void 0}},componentDidMount:function(){if(this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig()),this.quillDelta)return this.editor.setContents(this.quillDelta),this.editor.setSelection(this.quillSelection),this.editor.focus(),void(this.quillDelta=this.quillSelection=null);this.state.value&&this.setEditorContents(this.editor,this.state.value)},componentWillUnmount:function(){var e;(e=this.getEditor())&&(this.unhookEditor(e),this.editor=null)},shouldComponentUpdate:function(e,t){var n=this;return this.state.generation!==t.generation||s(this.cleanProps,(function(t){return!l(e[t],n.props[t])}))},shouldComponentRegenerate:function(e,t){var n=this;return s(this.dirtyProps,(function(t){return!l(e[t],n.props[t])}))},componentWillUpdate:function(e,t){this.state.generation!==t.generation&&this.componentWillUnmount()},componentDidUpdate:function(e,t){this.state.generation!==t.generation&&this.componentDidMount()},getEditorConfig:function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,theme:this.props.theme}},getEditor:function(){return this.editor},getEditingArea:function(){return i.findDOMNode(this.editingArea)},getEditorContents:function(){return this.state.value},getEditorSelection:function(){return this.state.selection},isDelta:function(e){return e&&e.ops},isEqualValue:function(e,t){return this.isDelta(e)&&this.isDelta(t)?l(e.ops,t.ops):l(e,t)},regenerate:function(){this.quillDelta=this.editor.getContents(),this.quillSelection=this.editor.getSelection(),this.setState({generation:this.state.generation+1})},renderEditingArea:function(){var e=this,t=this.props.children,n={key:this.state.generation,tabIndex:this.props.tabIndex,ref:function(t){e.editingArea=t}},i=r.Children.count(t)?r.Children.only(t):null;return i?r.cloneElement(i,n):c.div(n)},render:function(){return c.div({id:this.props.id,style:this.props.style,key:this.state.generation,className:["quill"].concat(this.props.className).join(" "),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},onEditorChangeText:function(e,t,n,r){var i=this.getEditorContents(),o=this.isDelta(i)?r.getContents():r.getHTML();this.isEqualValue(o,i)||(this.lastDeltaChangeSet=t,this.setState({value:o}),this.props.onChange&&this.props.onChange(e,t,n,r))},onEditorChangeSelection:function(e,t,n){var r=this.getEditorSelection(),i=!r&&e,o=r&&!e;l(e,r)||(this.setState({selection:e}),this.props.onChangeSelection&&this.props.onChangeSelection(e,t,n),i&&this.props.onFocus?this.props.onFocus(e,t,n):o&&this.props.onBlur&&this.props.onBlur(r,t,n))},focus:function(){this.editor.focus()},blur:function(){this.setEditorSelection(this.editor,null)}});e.exports=f},71167:(e,t,n)=>{var r=n(76095);e.exports=n(55020),e.exports.Quill=r,e.exports.Mixin=n(51127),e.exports.Toolbar=n(16229)},51127:(e,t,n)=>{"use strict";var r=n(76095),i={createEditor:function(e,t){var n=new r(e,t);return this.hookEditor(n),n},hookEditor:function(e){var t=this.makeUnprivilegedEditor(e);this.handleTextChange=function(n,r,i){this.onEditorChangeText&&(this.onEditorChangeText(e.root.innerHTML,n,i,t),this.onEditorChangeSelection(e.getSelection(),i,t))}.bind(this),this.handleSelectionChange=function(e,n,r){this.onEditorChangeSelection&&this.onEditorChangeSelection(e,r,t)}.bind(this),e.on("text-change",this.handleTextChange),e.on("selection-change",this.handleSelectionChange)},unhookEditor:function(e){e.off("selection-change"),e.off("text-change")},setEditorReadOnly:function(e,t){t?e.disable():e.enable()},setEditorContents:function(e,t){var n=e.getSelection();"string"==typeof t?e.clipboard.dangerouslyPasteHTML(t):e.setContents(t),n&&this.setEditorSelection(e,n)},setEditorSelection:function(e,t){if(t){var n=e.getLength();t.index=Math.max(0,Math.min(t.index,n-1)),t.length=Math.max(0,Math.min(t.length,n-1-t.index))}e.setSelection(t)},makeUnprivilegedEditor:function(e){var t=e;return{getLength:function(){return t.getLength.apply(t,arguments)},getText:function(){return t.getText.apply(t,arguments)},getHTML:function(){return t.root.innerHTML},getContents:function(){return t.getContents.apply(t,arguments)},getSelection:function(){return t.getSelection.apply(t,arguments)},getBounds:function(){return t.getBounds.apply(t,arguments)}}}};e.exports=i},16229:(e,t,n)=>{"use strict";var r=n(67294),i=n(97762),o=n(72555),a=n(50542),s=n(31476),l=n(45697),u=n(72278),c=["rgb(  0,   0,   0)","rgb(230,   0,   0)","rgb(255, 153,   0)","rgb(255, 255,   0)","rgb(  0, 138,   0)","rgb(  0, 102, 204)","rgb(153,  51, 255)","rgb(255, 255, 255)","rgb(250, 204, 204)","rgb(255, 235, 204)","rgb(255, 255, 204)","rgb(204, 232, 204)","rgb(204, 224, 245)","rgb(235, 214, 255)","rgb(187, 187, 187)","rgb(240, 102, 102)","rgb(255, 194, 102)","rgb(255, 255, 102)","rgb(102, 185, 102)","rgb(102, 163, 224)","rgb(194, 133, 255)","rgb(136, 136, 136)","rgb(161,   0,   0)","rgb(178, 107,   0)","rgb(178, 178,   0)","rgb(  0,  97,   0)","rgb(  0,  71, 178)","rgb(107,  36, 178)","rgb( 68,  68,  68)","rgb( 92,   0,   0)","rgb(102,  61,   0)","rgb(102, 102,   0)","rgb(  0,  55,   0)","rgb(  0,  41, 102)","rgb( 61,  20,  10)"].map((function(e){return{value:e}})),f=[{label:"Formats",type:"group",items:[{label:"Font",type:"font",items:[{label:"Sans Serif",value:"sans-serif",selected:!0},{label:"Serif",value:"serif"},{label:"Monospace",value:"monospace"}]},{label:"Size",type:"size",items:[{label:"Small",value:"10px"},{label:"Normal",value:"13px",selected:!0},{label:"Large",value:"18px"},{label:"Huge",value:"32px"}]},{label:"Alignment",type:"align",items:[{label:"",value:"",selected:!0},{label:"",value:"center"},{label:"",value:"right"},{label:"",value:"justify"}]}]},{label:"Text",type:"group",items:[{type:"bold",label:"Bold"},{type:"italic",label:"Italic"},{type:"strike",label:"Strike"},{type:"underline",label:"Underline"},{type:"color",label:"Color",items:c},{type:"background",label:"Background color",items:c},{type:"link",label:"Link"}]},{label:"Blocks",type:"group",items:[{type:"list",value:"bullet"},{type:"list",value:"ordered"}]},{label:"Blocks",type:"group",items:[{type:"image",label:"Image"}]}],d=o({displayName:"Quill Toolbar",propTypes:{id:l.string,className:l.string,style:l.object,items:l.array},getDefaultProps:function(){return{items:f}},componentDidMount:function(){console.warn("QuillToolbar is deprecated. Consider switching to the official Quill toolbar format, or providing your own toolbar instead. See: https://github.com/zenoamaro/react-quill#upgrading-to-react-quill-v1-0-0")},shouldComponentUpdate:function(e,t){return!s(e,this.props)},renderGroup:function(e,t){return r.DOM.span({key:e.label||t,className:"ql-formats"},e.items.map(this.renderItem))},renderChoiceItem:function(e,t){return r.DOM.option({key:e.label||e.value||t,value:e.value},e.label)},renderChoices:function(e,t){var n=e.items.map(this.renderChoiceItem),i=a(e.items,(function(e){return e.selected})),o={key:e.label||t,title:e.label,className:"ql-"+e.type,value:i.value};return r.DOM.select(o,n)},renderButton:function(e,t){return r.DOM.button({type:"button",key:e.label||e.value||t,value:e.value,className:"ql-"+e.type,title:e.label},e.children)},renderAction:function(e,t){return r.DOM.button({key:e.label||e.value||t,className:"ql-"+e.type,title:e.label},e.children)},renderItem:function(e,t){switch(e.type){case"group":return this.renderGroup(e,t);case"font":case"header":case"align":case"size":case"color":case"background":return this.renderChoices(e,t);case"bold":case"italic":case"underline":case"strike":case"link":case"list":case"bullet":case"ordered":case"indent":case"image":case"video":return this.renderButton(e,t);default:return this.renderAction(e,t)}},getClassName:function(){return"quill-toolbar "+(this.props.className||"")},render:function(){var e=this.props.items.map(this.renderItem).map(i.renderToStaticMarkup).join("");return u.div({id:this.props.id,className:this.getClassName(),style:this.props.style,dangerouslySetInnerHTML:{__html:e}})}});e.exports=d,d.defaultItems=f,d.defaultColors=c},75382:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n(55553).Z},47556:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i,o,a=y(n(31476)),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(67294),c=y(u),f=y(n(45697)),d=y(n(73539)),p=y(n(76663)),h=n(2098),g=y(n(50186)),m=n(96545);function y(e){return e&&e.__esModule?e:{default:e}}function v(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var _=(0,p.default)((o=i=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=x(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),i=r.props,o=i.isActive,a=i.attributeName,s=i.from,l=i.to,u=i.steps,c=i.children;if(r.handleStyleChange=r.handleStyleChange.bind(r),r.changeStyle=r.changeStyle.bind(r),!o)return r.state={style:{}},"function"==typeof c&&(r.state={style:l}),x(r);if(u&&u.length)r.state={style:u[0].style};else if(s){if("function"==typeof c)return r.state={style:s},x(r);r.state={style:a?b({},a,s):s}}else r.state={style:{}};return r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,n=e.canBegin;this.mounted=!0,t&&n&&this.runAnimation(this.props)}},{key:"componentWillReceiveProps",value:function(e){var t=e.isActive,n=e.canBegin,r=e.attributeName,i=e.shouldReAnimate;if(n)if(t){if(!((0,a.default)(this.props.to,e.to)&&this.props.canBegin&&this.props.isActive)){var o=!this.props.canBegin||!this.props.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var l=o||i?e.from:this.props.to;this.setState({style:r?b({},r,l):l}),this.runAnimation(s({},e,{from:l,begin:0}))}}else this.setState({style:r?b({},r,e.to):e.to})}},{key:"componentWillUnmount",value:function(){this.mounted=!1,this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation()}},{key:"runJSAnimation",value:function(e){var t=this,n=e.from,r=e.to,i=e.duration,o=e.easing,a=e.begin,s=e.onAnimationEnd,l=e.onAnimationStart,u=(0,g.default)(n,r,(0,h.configEasing)(o),i,this.changeStyle);this.manager.start([l,a,function(){t.stopJSAnimation=u()},i,s])}},{key:"runStepAnimation",value:function(e){var t=this,n=e.steps,r=e.begin,i=e.onAnimationStart,o=n[0],a=o.style,l=o.duration,u=void 0===l?0:l;return this.manager.start([i].concat(v(n.reduce((function(e,r,i){if(0===i)return e;var o=r.duration,a=r.easing,l=void 0===a?"ease":a,u=r.style,c=r.properties,f=r.onAnimationEnd,d=i>0?n[i-1]:r,p=c||Object.keys(u);if("function"==typeof l||"spring"===l)return[].concat(v(e),[t.runJSAnimation.bind(t,{from:d.style,to:u,duration:o,easing:l}),o]);var h=(0,m.getTransitionVal)(p,o,l),g=s({},d.style,u,{transition:h});return[].concat(v(e),[g,o,f]).filter(m.identity)}),[a,Math.max(u,r)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=(0,d.default)());var t=e.begin,n=e.duration,r=e.attributeName,i=(e.from,e.to),o=e.easing,a=e.onAnimationStart,l=e.onAnimationEnd,u=e.steps,c=e.children,f=this.manager;if(this.unSubscribe=f.subscribe(this.handleStyleChange),"function"!=typeof o&&"function"!=typeof c&&"spring"!==o)if(u.length>1)this.runStepAnimation(e);else{var p=r?b({},r,i):i,h=(0,m.getTransitionVal)(Object.keys(p),n,o);f.start([a,t,s({},p,{transition:h}),n,l])}else this.runJSAnimation(e)}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"render",value:function(){var e=this.props,t=e.children,n=(e.begin,e.duration,e.attributeName,e.easing,e.isActive),r=(e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"])),i=u.Children.count(t),o=(0,m.translateStyle)(this.state.style);if("function"==typeof t)return t(o);if(!n||0===i)return t;var a=function(e){var t=e.props,n=t.style,i=void 0===n?{}:n,a=t.className;return(0,u.cloneElement)(e,s({},r,{style:s({},i,o),className:a}))};return 1===i?(u.Children.only(t),a(u.Children.only(t))):c.default.createElement("div",null,u.Children.map(t,(function(e){return a(e)})))}}]),t}(u.Component),i.displayName="Animate",i.propTypes={from:f.default.oneOfType([f.default.object,f.default.string]),to:f.default.oneOfType([f.default.object,f.default.string]),attributeName:f.default.string,duration:f.default.number,begin:f.default.number,easing:f.default.oneOfType([f.default.string,f.default.func]),steps:f.default.arrayOf(f.default.shape({duration:f.default.number.isRequired,style:f.default.object.isRequired,easing:f.default.oneOfType([f.default.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),f.default.func]),properties:f.default.arrayOf("string"),onAnimationEnd:f.default.func})),children:f.default.oneOfType([f.default.node,f.default.func]),isActive:f.default.bool,canBegin:f.default.bool,onAnimationEnd:f.default.func,shouldReAnimate:f.default.bool,onAnimationStart:f.default.func,onAnimationReStart:f.default.func},i.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},r=o))||r;t.default=_},2267:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(67294),s=f(a),l=n(64317),u=f(n(45697)),c=f(n(19111));function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=(i=r=function(e){function t(){return d(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"wrapChild",value:function(e){var t=this.props,n=t.appear,r=t.leave,i=t.enter;return s.default.createElement(c.default,{appear:n,leave:r,enter:i},e)}},{key:"render",value:function(){var e=this.props,t=e.component,n=e.children;return s.default.createElement(l.TransitionGroup,{component:t,childFactory:this.wrapChild.bind(this)},n)}}]),t}(a.Component),r.propTypes={appear:u.default.object,leave:u.default.object,enter:u.default.object,children:u.default.oneOfType([u.default.array,u.default.element]),component:u.default.any},r.defaultProps={component:"span"},i);t.default=h},19111:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(67294),l=f(s),u=f(n(45697)),c=f(n(47556));function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=(i=r=function(e){function t(){var e,n,r;d(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={isActive:!1},p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"handleStyleActive",value:function(e,t){if(e){var n=e.onAnimationEnd?function(){e.onAnimationEnd(),t()}:t;this.setState(o({},e,{onAnimationEnd:n,isActive:!0}))}else t()}},{key:"componentWillAppear",value:function(e){this.handleStyleActive(this.props.appear,e)}},{key:"componentWillEnter",value:function(e){this.handleStyleActive(this.props.enter,e)}},{key:"componentWillLeave",value:function(e){this.handleStyleActive(this.props.leave,e)}},{key:"render",value:function(){return l.default.createElement(c.default,this.state,s.Children.only(this.props.children))}}]),t}(s.Component),r.propTypes={appear:u.default.object,leave:u.default.object,enter:u.default.object,children:u.default.element},i);t.default=h},73539:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(){var e=function(){return null},t=!1,n=function n(i){if(!t){if(Array.isArray(i)){if(!i.length)return;var a=(u=i,Array.isArray(u)?u:Array.from(u)),s=a[0],l=a.slice(1);return"number"==typeof s?void(0,o.default)(n.bind(null,l),s):(n(s),void(0,o.default)(n.bind(null,l)))}var u;"object"===(void 0===i?"undefined":r(i))&&e(i),"function"==typeof i&&i()}};return{stop:function(){t=!0},start:function(e){t=!1,n(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}};var i,o=(i=n(76247))&&i.__esModule?i:{default:i}},76663:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shallowEqual=void 0;var r=s(n(53893)),i=s(n(31476)),o=s(n(80643)),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(e===t)return!0;if("object"!==(void 0===e?"undefined":a(e))||null===e||"object"!==(void 0===t?"undefined":a(t))||null===t)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(var l=hasOwnProperty.bind(t),u=0;u<n.length;u++){var c=n[u];if(e[c]!==t[c])if((0,o.default)(e[c])){if(!(0,o.default)(t[c])||e[c].length!==t[c].length)return!1;if(!(0,i.default)(e[c],t[c]))return!1}else if((0,r.default)(e[c])){if(!(0,r.default)(t[c])||!(0,i.default)(e[c],t[c]))return!1}else if(!l(n[u])||e[n[u]]!==t[n[u]])return!1}return!0}function u(e,t){return function(e,t,n){return!l(e.props,t)||!l(e.state,n)}(this,e,t)}t.shallowEqual=l,t.default=function(e){e.prototype.shouldComponentUpdate=u}},50186:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(95671)),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(54087),a=l(o),s=n(96545);function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(e,t,n){return e+(t-e)*n},d=function(e){return e.from!==e.to},p=function e(t,n,r){var o=(0,s.mapObject)((function(e,n){if(d(n)){var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(t(n.from,n.to,n.velocity),2),o=r[0],a=r[1];return i({},n,{from:o,velocity:a})}return n}),n);return r<1?(0,s.mapObject)((function(e,t){return d(t)?i({},t,{velocity:f(t.velocity,o[e].velocity,r),from:f(t.from,o[e].from,r)}):t}),n):e(t,o,r-1)};t.default=function(e,t,n,l,h){var g=(0,s.getIntersectionKeys)(e,t),m=g.reduce((function(n,r){return i({},n,c({},r,[e[r],t[r]]))}),{}),y=g.reduce((function(n,r){return i({},n,c({},r,{from:e[r],velocity:0,to:t[r]}))}),{}),v=-1,b=void 0,x=void 0,_=function(){return null};return _=n.isStepper?function(o){b||(b=o);var l=(o-b)/n.dt;y=p(n,y,l),h(i({},e,t,(0,s.mapObject)((function(e,t){return t.from}),y))),b=o,(0,r.default)(y,d).length&&(v=(0,a.default)(_))}:function(r){x||(x=r);var o=(r-x)/l,c=(0,s.mapObject)((function(e,t){return f.apply(void 0,u(t).concat([n(o)]))}),m);if(h(i({},e,t,c)),o<1)v=(0,a.default)(_);else{var d=(0,s.mapObject)((function(e,t){return f.apply(void 0,u(t).concat([n(1)]))}),m);h(i({},e,t,d))}},function(){return(0,a.default)(_),function(){(0,o.cancel)(v)}}}},2098:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.configEasing=t.configSpring=t.configBezier=void 0;var r=n(96545),i=1e-4,o=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},a=function(e,t){return e.map((function(e,n){return e*Math.pow(t,n)})).reduce((function(e,t){return e+t}))},s=function(e,t){return function(n){var r=o(e,t);return a(r,n)}},l=function(e,t){return function(n){var r=o(e,t),i=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(r.map((function(e,t){return e*t})).slice(1)),[0]);return a(i,n)}},u=t.configBezier=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=t[0],a=t[1],u=t[2],c=t[3];if(1===t.length)switch(t[0]){case"linear":o=0,a=0,u=1,c=1;break;case"ease":o=.25,a=.1,u=.25,c=1;break;case"ease-in":o=.42,a=0,u=1,c=1;break;case"ease-out":o=.42,a=0,u=.58,c=1;break;case"ease-in-out":o=0,a=0,u=.58,c=1;break;default:(0,r.warn)(!1,"[configBezier]: arguments should be one of oneOf 'linear', 'ease', 'ease-in', 'ease-out', 'ease-in-out', instead received %s",t)}(0,r.warn)([o,u,a,c].every((function(e){return"number"==typeof e&&e>=0&&e<=1})),"[configBezier]: arguments should be x1, y1, x2, y2 of [0, 1] instead received %s",t);var f=s(o,u),d=s(a,c),p=l(o,u),h=function(e){return e>1?1:e<0?0:e},g=function(e){for(var t=e>1?1:e,n=t,r=0;r<8;++r){var o=f(n)-t,a=p(n);if(Math.abs(o-t)<i||a<i)return d(n);n=h(n-o/a)}return d(n)};return g.isStepper=!1,g},c=t.configSpring=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,n=void 0===t?100:t,r=e.damping,o=void 0===r?8:r,a=e.dt,s=void 0===a?17:a,l=function(e,t,r){var a=r+(-(e-t)*n-r*o)*s/1e3,l=r*s/1e3+e;return Math.abs(l-t)<i&&Math.abs(a)<i?[t,0]:[l,a]};return l.isStepper=!0,l.dt=s,l};t.configEasing=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t[0];if("string"==typeof i)switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return u(i);case"spring":return c();default:(0,r.warn)(!1,"[configEasing]: first argument should be one of 'ease', 'ease-in', 'ease-out', 'ease-in-out', 'linear' and 'spring', instead  received %s",t)}return"function"==typeof i?i:((0,r.warn)(!1,"[configEasing]: first argument type should be function or string, instead received %s",t),null)}},60765:(e,t,n)=>{"use strict";t.bO=void 0;var r=s(n(47556)),i=n(2098),o=n(96545),a=s(n(2267));function s(e){return e&&e.__esModule?e:{default:e}}i.configSpring,i.configBezier,a.default,t.bO=o.translateStyle,t.ZP=r.default},76247:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1,r=function r(o){n<0&&(n=o),o-n>t?(e(o),n=-1):(0,i.default)(r)};(0,i.default)(r)};var r,i=(r=n(54087))&&r.__esModule?r:{default:r}},96545:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.warn=t.getTransitionVal=t.compose=t.translateStyle=t.mapObject=t.debugf=t.debug=t.log=t.generatePrefixStyle=t.getDashCase=t.identity=t.getIntersectionKeys=void 0;var r,i=(r=n(68947))&&r.__esModule?r:{default:r},o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=["Webkit","Moz","O","ms"],l=["-webkit-","-moz-","-o-","-ms-"],u=["transform","transformOrigin","transition"],c=(t.getIntersectionKeys=function(e,t){return(0,i.default)(Object.keys(e),Object.keys(t))},t.identity=function(e){return e}),f=t.getDashCase=function(e){return e.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()}))},d=t.generatePrefixStyle=function(e,t){if(-1===u.indexOf(e))return a({},e,t);var n="transition"===e,r=e.replace(/(\w)/,(function(e){return e.toUpperCase()})),i=t;return s.reduce((function(e,s,u){return n&&(i=t.replace(/(transform|transform-origin)/gim,l[u]+"$1")),o({},e,a({},s+r,i))}),{})},p=t.log=function(){var e;(e=console).log.apply(e,arguments)};t.debug=function(e){return function(t){return p(e,t),t}},t.debugf=function(e,t){return function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=t.apply(void 0,r),a=e||t.name||"anonymous function",s="("+r.map(JSON.stringify).join(", ")+")";return p(a+": "+s+" => "+JSON.stringify(o)),o}},t.mapObject=function(e,t){return Object.keys(t).reduce((function(n,r){return o({},n,a({},r,e(r,t[r])))}),{})},t.translateStyle=function(e){return Object.keys(e).reduce((function(e,t){return o({},e,d(t,e[t]))}),e)},t.compose=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return c;var r=t.reverse(),i=r[0],o=r.slice(1);return function(){return o.reduce((function(e,t){return t(e)}),i.apply(void 0,arguments))}},t.getTransitionVal=function(e,t,n){return e.map((function(e){return f(e)+" "+t+"ms "+n})).join(",")},t.warn=function(e,t,n,r,i,o,a,s){}},24568:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=p(n(67294)),a=p(n(45697)),s=p(n(32593)),l=p(n(74112)),u=p(n(53228)),c=p(n(22673)),f=p(n(81413)),d=n(15597);function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){return e.scrollWidth-1<=t}function g(e,t){return e.scrollHeight-1<=t}var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={fontSize:null,ready:!1},n.handleWindowResize=function(){n.process()},"perfectFit"in e&&console.warn("TextFit property perfectFit has been removed."),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentWillMount",value:function(){this.handleWindowResize=(0,c.default)(this.handleWindowResize,this.props.throttle)}},{key:"componentDidMount",value:function(){this.props.autoResize&&window.addEventListener("resize",this.handleWindowResize),this.process()}},{key:"componentDidUpdate",value:function(e){this.state.ready&&((0,s.default)(this.props,e)||this.process())}},{key:"componentWillUnmount",value:function(){this.props.autoResize&&window.removeEventListener("resize",this.handleWindowResize),this.pid=(0,f.default)()}},{key:"process",value:function(){var e=this,t=this.props,n=t.min,r=t.max,i=t.mode,o=t.forceSingleModeWidth,a=t.onReady,s=this._parent,c=this._child,p=(0,d.innerWidth)(s),m=(0,d.innerHeight)(s);if(m<=0||isNaN(m))console.warn("Can not process element without height. Make sure the element is displayed and has a static height.");else if(p<=0||isNaN(p))console.warn("Can not process element without width. Make sure the element is displayed and has a static width.");else{var y=(0,f.default)();this.pid=y;var v=function(){return y!==e.pid},b="multi"===i?function(){return g(c,m)}:function(){return h(c,p)},x="multi"===i?function(){return h(c,p)}:function(){return g(c,m)},_=void 0,w=n,k=r;this.setState({ready:!1}),(0,l.default)([function(t){return(0,u.default)((function(){return w<=k}),(function(t){if(v())return t(!0);_=parseInt((w+k)/2,10),e.setState({fontSize:_},(function(){return v()?t(!0):(b()?w=_+1:k=_-1,t())}))}),t)},function(t){return"single"===i&&o||x()?t():(w=n,k=_,(0,u.default)((function(){return w<k}),(function(t){if(v())return t(!0);_=parseInt((w+k)/2,10),e.setState({fontSize:_},(function(){return y!==e.pid?t(!0):(x()?w=_+1:k=_-1,t())}))}),t))},function(t){if(_=Math.min(w,k),_=Math.max(_,n),_=Math.min(_,r),_=Math.max(_,0),v())return t(!0);e.setState({fontSize:_},t)}],(function(t){t||v()||e.setState({ready:!0},(function(){return a(_)}))}))}}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,i=t.text,a=t.style,s=(t.min,t.max,t.mode),l=(t.forceWidth,t.forceSingleModeWidth,t.throttle,t.autoResize,t.onReady,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["children","text","style","min","max","mode","forceWidth","forceSingleModeWidth","throttle","autoResize","onReady"])),u=this.state,c=u.fontSize,f=u.ready,d=r({},a,{fontSize:c}),p={display:f?"block":"inline-block"};return"single"===s&&(p.whiteSpace="nowrap"),o.default.createElement("div",r({ref:function(t){return e._parent=t},style:d},l),o.default.createElement("div",{ref:function(t){return e._child=t},style:p},i&&"function"==typeof n?f?n(i):i:n))}}]),t}(o.default.Component);m.propTypes={children:a.default.node,text:a.default.string,min:a.default.number,max:a.default.number,mode:a.default.oneOf(["single","multi"]),forceSingleModeWidth:a.default.bool,throttle:a.default.number,onReady:a.default.func},m.defaultProps={min:1,max:100,mode:"multi",forceSingleModeWidth:!0,throttle:50,autoResize:!0,onReady:function(){}},t.default=m},90253:(e,t,n)=>{"use strict";t.iF=void 0;var r,i=(r=n(24568))&&r.__esModule?r:{default:r};t.iF=i.default,i.default},15597:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.innerHeight=function(e){var t=window.getComputedStyle(e,null);return e.clientHeight-parseInt(t.getPropertyValue("padding-top"),10)-parseInt(t.getPropertyValue("padding-bottom"),10)},t.innerWidth=function(e){var t=window.getComputedStyle(e,null);return e.clientWidth-parseInt(t.getPropertyValue("padding-left"),10)-parseInt(t.getPropertyValue("padding-right"),10)}},74112:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=[],r=0,o=!0;function a(e){function r(){t&&t(e,n)}o?i.default.nextTick(r):r()}e.length>0?e[0]((function t(i,o){n.push(o),++r>=e.length||i?a(i):e[r](t)})):a(null),o=!1};var r,i=(r=n(30488))&&r.__esModule?r:{default:r}},32593:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(e===t)return!0;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=Object.prototype.hasOwnProperty,o=0;o<n.length;o++)if(!i.call(t,n[o])||e[n[o]]!==t[n[o]])return!1;return!0}},22673:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=void 0,r=void 0,i=void 0,o=void 0,a=0;function s(){o=0,a=+new Date,i=e.apply(n,r),n=null,r=null}return function(){n=this,r=arguments;var e=new Date-a;return o||(e>=t?s():o=setTimeout(s,t-e)),i}}},81413:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return n++};var n=0},53228:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n;e()?t((function n(i){for(var o=arguments.length,a=Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];i?r(i):e.apply(this,a)?t(n):r(null)})):r(null)};var n=function(){}},30488:e=>{var t,n,r=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var s,l=[],u=!1,c=-1;function f(){u&&s&&(u=!1,s.length?l=s.concat(l):c=-1,l.length&&d())}function d(){if(!u){var e=a(f);u=!0;for(var t=l.length;t;){for(s=l,l=[];++c<t;)s&&s[c].run();c=-1,t=l.length}s=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function h(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new p(e,t)),1!==l.length||u||a(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=h,r.addListener=h,r.once=h,r.off=h,r.removeListener=h,r.removeAllListeners=h,r.emit=h,r.prependListener=h,r.prependOnceListener=h,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},80621:(e,t,n)=>{"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=a(n(67294)),o=a(n(94184));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=function(e){function t(){return s(this,t),l(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.disabled,a=e.label,s=e.icon,l=e.busy,u=e.active,c=e.children,f=e.component,d=void 0===f?"button":f,p=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["className","disabled","label","icon","busy","active","children","component"]),h=p.type;return"button"===d&&(h=h||"button"),i.default.createElement(d,r({},p,{tabIndex:"-1",title:a,type:h,disabled:n,"aria-disabled":n,"aria-label":a,className:(0,o.default)(t,"rw-btn",u&&!n&&"rw-state-active")}),s&&i.default.createElement("span",{"aria-hidden":!0,className:(0,o.default)("rw-i","rw-i-"+s,l&&"rw-loading")}),c)},t}(i.default.Component);t.default=u,e.exports=t.default},85834:(e,t,n)=>{"use strict";t.__esModule=!0;var r,i,o,a,s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=M(n(67294)),u=M(n(45697)),c=M(n(72555)),f=M(n(94184)),d=M(n(86806)),p=M(n(7145)),h=M(n(85915)),g=M(n(25542)),m=M(n(9272)),y=M(n(17137)),v=M(n(40506)),b=M(n(33495)),x=n(14462),_=M(n(43247)),w=M(n(33393)),k=M(n(96736)),T=M(n(48030)),C=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(27839)),O=M(n(13617)),S=n(91754),A=n(20005);function M(e){return e&&e.__esModule?e:{default:e}}function E(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var P,D=C.directions,L=C.calendarViews,R=(P=L,Object.keys(P).map((function(e){return P[e]}))),I=function(e){return O.default.transform(e,(function(e,t,n){e[t]=n}),{})}(C.calendarViewHierarchy),N=C.calendarViewHierarchy,j=C.calendarViewUnits,z=((r={})[L.MONTH]=m.default,r[L.YEAR]=y.default,r[L.DECADE]=v.default,r[L.CENTURY]=b.default,r),q={ArrowDown:D.DOWN,ArrowUp:D.UP,ArrowRight:D.RIGHT,ArrowLeft:D.LEFT},F=((i={})[D.LEFT]=D.RIGHT,i[D.RIGHT]=D.LEFT,i),B=((o={})[L.YEAR]=1,o[L.DECADE]=10,o[L.CENTURY]=100,o),H=function(e,t){return x.date.getFormat(t,e[t+"Format"])},U={disabled:_.default.disabled,readOnly:_.default.readOnly,onChange:u.default.func,value:u.default.instanceOf(Date),min:u.default.instanceOf(Date),max:u.default.instanceOf(Date),currentDate:u.default.instanceOf(Date),onCurrentDateChange:u.default.func,view:u.default.oneOf(R),initialView:u.default.oneOf(R),finalView:function(e,t,n){for(var r=arguments.length,i=Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];var a=u.default.oneOf(R).apply(void 0,[e,t,n].concat(i));return a||(R.indexOf(e[t])<R.indexOf(e.initialView)?new Error(("The `"+t+"` prop: `"+e[t]+"` cannot be 'lower' than the `initialView`\n        prop. This creates a range that cannot be rendered.").replace(/\n\t/g,"")):void 0)},onViewChange:u.default.func,onNavigate:u.default.func,culture:u.default.string,footer:u.default.bool,dayComponent:_.default.elementType,headerFormat:_.default.dateFormat,footerFormat:_.default.dateFormat,dayFormat:_.default.dateFormat,dateFormat:_.default.dateFormat,monthFormat:_.default.dateFormat,yearFormat:_.default.dateFormat,decadeFormat:_.default.dateFormat,centuryFormat:_.default.dateFormat,messages:u.default.shape({moveBack:u.default.string,moveForward:u.default.string})},V=(0,c.default)((E(a={displayName:"Calendar",mixins:[n(66145),n(71496),n(54338),n(138),n(43729)(),n(69793)({willHandle:function(){if(-1==+this.props.tabIndex)return!1}})],propTypes:U,getInitialState:function(){return{selectedIndex:0,view:this.props.initialView||"month"}},getDefaultProps:function(){return{value:null,min:new Date(1900,0,1),max:new Date(2099,11,31),currentDate:new Date,initialView:"month",finalView:"century",tabIndex:"0",footer:!1,ariaActiveDescendantKey:"calendar",messages:G({})}},componentWillMount:function(){this.changeCurrentDate(this.props.value)},componentWillReceiveProps:function(e){var t=R.indexOf(e.initialView),n=R.indexOf(e.finalView),r=R.indexOf(this.state.view),i=this.state.view,o=this.inRangeValue(e.value);r<t?this.setState({view:i=e.initialView}):r>n&&this.setState({view:i=e.finalView}),T.default.eq(o,W(this.props.value),j[i])||this.changeCurrentDate(o,e.currentDate)},render:function(){var e=this,t=this.props,n=t.className,r=t.value,i=t.footerFormat,o=t.disabled,a=t.readOnly,u=t.finalView,c=t.footer,d=t.messages,m=t.min,y=t.max,v=t.culture,b=t.duration,x=t.tabIndex,_=t.currentDate,w=this.state,C=w.view,A=w.slideDirection,M=w.focused,E=z[C],P=j[C],L=new Date,R=!T.default.inRange(L,m,y,C);P="day"===P?"date":P;var I=(0,S.instanceId)(this,"_calendar"),N=(0,S.instanceId)(this,"_calendar_label"),q=C+"_"+T.default[C](_),F=O.default.omitOwnProps(this),B=O.default.pickProps(this.props,E),H=o||a;return d=G(this.props.messages),l.default.createElement(p.default,s({},F,{role:"group",focused:M,disabled:o,readOnly:a,tabIndex:x||0,onBlur:this.handleBlur,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,className:(0,f.default)(n,"rw-calendar")}),l.default.createElement(h.default,{label:this._label(),labelId:N,messages:d,upDisabled:H||C===u,prevDisabled:H||!T.default.inRange(this.nextDate(D.LEFT),m,y,C),nextDisabled:H||!T.default.inRange(this.nextDate(D.RIGHT),m,y,C),onViewChange:this.navigate.bind(null,D.UP,null),onMoveLeft:this.navigate.bind(null,D.LEFT,null),onMoveRight:this.navigate.bind(null,D.RIGHT,null)}),l.default.createElement(k.default,{ref:"animation",duration:b,direction:A,onAnimate:function(){return M&&e.focus()}},l.default.createElement(E,s({},B,{key:q,id:I,value:r,today:L,focused:_,onChange:this.change,onKeyDown:this.handleKeyDown,"aria-labelledby":N,ariaActiveDescendantKey:"calendarView"}))),c&&l.default.createElement(g.default,{value:L,format:i,culture:v,disabled:o||R,readOnly:a,onClick:this.select}))},navigate:function(e,t){var n=this.state.view,r=e===D.LEFT||e===D.UP?"right":"left";t||(t=-1!==[D.LEFT,D.RIGHT].indexOf(e)?this.nextDate(e):this.props.currentDate),e===D.DOWN&&(n=I[n]||n),e===D.UP&&(n=N[n]||n),this.isValidView(n)&&T.default.inRange(t,this.props.min,this.props.max,n)&&((0,S.notify)(this.props.onNavigate,[t,r,n]),this.focus(!0),this.changeCurrentDate(t),this.setState({slideDirection:r,view:n}))},focus:function(){+this.props.tabIndex>-1&&d.default.findDOMNode(this).focus()},change:function(e){if(this.state.view===this.props.initialView)return this.changeCurrentDate(e),(0,S.notify)(this.props.onChange,e),void this.focus();this.navigate(D.DOWN,e)},changeCurrentDate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props.currentDate,n=this.inRangeValue(e?new Date(e):t);T.default.eq(n,W(t),j[this.state.view])||(0,S.notify)(this.props.onCurrentDateChange,n)},select:function(e){var t=this.props.initialView,n=t!==this.state.view||T.default.gt(e,this.state.currentDate)?"left":"right";(0,S.notify)(this.props.onChange,e),this.isValidView(t)&&T.default.inRange(e,this.props.min,this.props.max,t)&&(this.focus(),this.changeCurrentDate(e),this.setState({slideDirection:n,view:t}))},nextDate:function(e){var t=e===D.LEFT?"subtract":"add",n=this.state.view,r=n===L.MONTH?n:L.YEAR,i=B[n]||1;return T.default[t](this.props.currentDate,1*i,r)},handleKeyDown:function(e){var t=e.ctrlKey,n=e.key,r=q[n],i=this.props.currentDate,o=this.state.view,a=j[o],s=i;if("Enter"===n)return e.preventDefault(),this.change(i);r&&(t?(e.preventDefault(),this.navigate(r)):(this.isRtl()&&F[r]&&(r=F[r]),s=T.default.move(s,this.props.min,this.props.max,o,r),T.default.eq(i,s,a)||(e.preventDefault(),T.default.gt(s,i,o)?this.navigate(D.RIGHT,s):T.default.lt(s,i,o)?this.navigate(D.LEFT,s):this.changeCurrentDate(s)))),(0,S.notify)(this.props.onKeyDown,[e])},_label:function(){var e=this.props,t=e.culture,n=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["culture"]),r=this.state.view,i=this.props.currentDate;return"month"===r?x.date.format(i,H(n,"header"),t):"year"===r?x.date.format(i,H(n,"year"),t):"decade"===r?x.date.format(T.default.startOf(i,"decade"),H(n,"decade"),t):"century"===r?x.date.format(T.default.startOf(i,"century"),H(n,"century"),t):void 0},inRangeValue:function(e){var t=W(e);return null===t?t:T.default.max(T.default.min(t,this.props.max),this.props.min)},isValidView:function(e){var t=R.indexOf(this.props.initialView),n=R.indexOf(this.props.finalView),r=R.indexOf(e);return r>=t&&r<=n}},"navigate",[A.widgetEditable],Object.getOwnPropertyDescriptor(a,"navigate"),a),E(a,"change",[A.widgetEditable],Object.getOwnPropertyDescriptor(a,"change"),a),E(a,"select",[A.widgetEditable],Object.getOwnPropertyDescriptor(a,"select"),a),E(a,"handleKeyDown",[A.widgetEditable],Object.getOwnPropertyDescriptor(a,"handleKeyDown"),a),a));function W(e){return e&&!isNaN(e.getTime())?e:null}function G(e){return s({moveBack:"navigate back",moveForward:"navigate forward"},e)}t.default=(0,w.default)(V,{value:"onChange",currentDate:"onCurrentDateChange",view:"onViewChange"},["focus"]),e.exports=t.default},1562:(e,t,n)=>{"use strict";var r,i;t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=c(n(67294)),s=c(n(45697)),l=c(n(94184)),u=c(n(48030));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=["month","year","decade","century"];function g(e,t,n){return u.default.max(u.default.min(e,n),t)}var m=function(e){function t(){return f(this,t),d(this,e.apply(this,arguments))}return p(t,e),t.prototype.render=function(){var e=this.props.className;return a.default.createElement("table",o({},this.props,{role:"grid",tabIndex:"-1",className:(0,l.default)(e,"rw-nav-view","rw-calendar-grid")}))},t}(a.default.Component),y=(i=r=function(e){function t(){var n,r;f(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=d(this,e.call.apply(e,[this].concat(o))),r.handleChange=function(){var e=r.props,t=e.onChange,n=e.min,i=e.max;t(g(e.date,n,i))},d(r,n)}return p(t,e),t.prototype.isEqual=function(e){return u.default.eq(this.props.date,e,this.props.unit)},t.prototype.isEmpty=function(){var e=this.props,t=e.unit,n=e.min,r=e.max,i=e.date;return!u.default.inRange(i,n,r,t)},t.prototype.isNow=function(){return this.isEqual(this.props.now)},t.prototype.isFocused=function(){return this.isEqual(this.props.focused)},t.prototype.isSelected=function(){return this.isEqual(this.props.selected)},t.prototype.isOffView=function(){var e=this.props,t=e.viewUnit,n=e.focused,r=e.date;return t&&u.default[t](r)!==u.default[t](n)},t.prototype.render=function(){var e=this.props,t=e.children,n=e.id,r=e.label,i=e.disabled;return this.isEmpty()?a.default.createElement("td",{className:"rw-empty-cell",role:"presentation"}," "):a.default.createElement("td",{role:"gridcell",id:n,title:r,"aria-label":r,"aria-readonly":i,"aria-selected":this.isSelected()},a.default.createElement("span",{"aria-labelledby":n,onClick:this.handleChange,className:(0,l.default)("rw-btn",this.isNow()&&"rw-now",this.isOffView()&&"rw-off-range",this.isFocused()&&"rw-state-focus",this.isSelected()&&"rw-state-selected")},t))},t}(a.default.Component),r.propTypes={id:s.default.string,label:s.default.string,today:s.default.instanceOf(Date),selected:s.default.instanceOf(Date),focused:s.default.instanceOf(Date),min:s.default.instanceOf(Date),max:s.default.instanceOf(Date),unit:s.default.oneOf(["day"].concat(h)),viewUnit:s.default.oneOf(h),onChange:s.default.func.isRequired},i);m.Row=function(e){return a.default.createElement("tr",o({role:"row"},e))},m.Cell=y,t.default=m,e.exports=t.default},33495:(e,t,n)=>{"use strict";t.__esModule=!0;var r=d(n(67294)),i=d(n(45697)),o=d(n(72555)),a=d(n(1562)),s=d(n(48030)),l=n(14462),u=d(n(13617)),c=d(n(43247)),f=n(91754);function d(e){return e&&e.__esModule?e:{default:e}}var p=function(e,t){return e+"__century_"+s.default.year(t)},h={culture:i.default.string,today:i.default.instanceOf(Date),value:i.default.instanceOf(Date),focused:i.default.instanceOf(Date),min:i.default.instanceOf(Date),max:i.default.instanceOf(Date),onChange:i.default.func.isRequired,decadeFormat:c.default.dateFormat};t.default=(0,o.default)({displayName:"CenturyView",mixins:[n(54338),n(86402),n(43729)()],propTypes:h,componentDidUpdate:function(){var e=p((0,f.instanceId)(this),this.props.focused);this.ariaActiveDescendant(e)},render:function(){var e,t,n,i=this.props.focused;return r.default.createElement(a.default,u.default.omitOwnProps(this),r.default.createElement("tbody",null,u.default.chunk((e=i,t=[1,2,3,4,5,6,7,8,9,10,11,12],n=s.default.add(s.default.startOf(e,"century"),-20,"year"),t.map((function(){return n=s.default.add(n,10,"year")}))),4).map(this.renderRow)))},renderRow:function(e,t){var n=this,i=this.props,o=i.focused,u=i.disabled,c=i.onChange,d=i.value,h=i.today,g=i.culture,m=i.min,y=i.max,v=(0,f.instanceId)(this,"_century");return r.default.createElement(a.default.Row,{key:t},e.map((function(e,t){var i,f=l.date.format(s.default.startOf(e,"decade"),(i=n.props,l.date.getFormat("decade",i.decadeFormat)),g);return r.default.createElement(a.default.Cell,{key:t,unit:"decade",id:p(v,e),label:f,date:e,now:h,min:m,max:y,onChange:c,focused:o,selected:d,disabled:u},f)})))}}),e.exports=t.default},41125:(e,t,n)=>{"use strict";var r;t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=T(n(67294)),a=T(n(45697)),s=T(n(72555)),l=T(n(94184)),u=T(n(13617)),c=T(n(72863)),f=T(n(7145)),d=T(n(15052)),p=T(n(19809)),h=T(n(10299)),g=T(n(86806)),m=T(n(43247)),y=T(n(19607)),v=T(n(1086)),b=T(n(74452)),x=T(n(33393)),_=n(23205),w=n(20005),k=n(91754);function T(e){return e&&e.__esModule?e:{default:e}}function C(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var O=i({},d.default.propTypes,{value:a.default.any,onChange:a.default.func,open:a.default.bool,onToggle:a.default.func,itemComponent:m.default.elementType,listComponent:m.default.elementType,groupComponent:m.default.elementType,groupBy:m.default.accessor,data:a.default.array,valueField:a.default.string,textField:m.default.accessor,name:a.default.string,onSelect:a.default.func,autoFocus:a.default.bool,disabled:m.default.disabled.acceptsArray,readOnly:m.default.readOnly.acceptsArray,suggest:m.default.filter,filter:m.default.filter,busy:a.default.bool,dropUp:a.default.bool,duration:a.default.number,delay:a.default.number,placeholder:a.default.string,"aria-labelledby":a.default.string,"aria-describedby":a.default.string,messages:a.default.shape({open:m.default.message,emptyList:m.default.message,emptyFilter:m.default.message})}),S=(0,s.default)((C(r={displayName:"ComboBox",mixins:[n(66145),n(21625),n(2887),n(138),n(43729)("input"),n(69793)({willHandle:function(e){!e&&this.refs.input.accept()},didHandle:function(e){e||this.close()}})],propTypes:O,getInitialState:function(){var e=this.props,t=e.value,n=e.data,r=e.valueField,i=this.process(n,t),o=(0,_.dataIndexOf)(i,t,r);return{selectedItem:i[o],focusedItem:i[~o?o:0],processedData:i,open:!1}},getDefaultProps:function(){return{data:[],value:"",open:!1,suggest:!1,filter:!1,delay:500,messages:A(),ariaActiveDescendantKey:"combobox"}},componentDidUpdate:function(){this.refs.list&&(0,b.default)(this.refs.list)},shouldComponentUpdate:function(e,t){var n=this.refs.input&&this.refs.input.isSuggesting(),r=!u.default.isShallowEqual(t,this.state),i=!u.default.isShallowEqual(e,this.props);return n||r||i},componentWillReceiveProps:function(e){var t=e.value,n=e.data,r=e.valueField,i=e.textField,o=(0,_.dataIndexOf)(n,t,r),a=-1===o?e.value:e.data[o],s=this.refs.input&&this.refs.input.isSuggesting(),l=this.process(e.data,e.value,(-1===o||s)&&(0,_.dataText)(a,i)),u=(0,_.dataIndexOf)(l,t,r),c=this.filterIndexOf(l,(0,_.dataText)(a,i));this._searchTerm="",this.setState({processedData:l,selectedItem:l[u],focusedItem:l[-1===u?-1!==c?c:0:u]})},renderInput:function(e){var t=this.props,n=t.suggest,r=t.filter,i=t.textField,a=t.busy,s=t.name,l=t.data,u=t.value,c=t.valueField,f=t.autoFocus,d=t.tabIndex,p=t.disabled,g=t.readOnly,m=t.placeholder,y=t.open,v=t["aria-labelledby"],b=t["aria-describedby"],x=(0,_.dataItem)(l,u,c),w=n?r?"both":"inline":r?"list":"";return o.default.createElement(h.default,{ref:"input",id:(0,k.instanceId)(this,"_input"),autoFocus:f,tabIndex:d,suggest:n,name:s,role:"combobox",disabled:p,readOnly:g,"aria-owns":e,"aria-busy":!!a,"aria-autocomplete":w,"aria-expanded":y,"aria-haspopup":!0,"aria-describedby":b,"aria-labelledby":v,placeholder:m,value:(0,_.dataText)(x,i),onChange:this.handleInputChange,onKeyDown:this.handleInputKeyDown})},renderList:function(e,t,n){var r=this.props,a=r.open,s=r.data,l=this.state,c=l.selectedItem,f=l.focusedItem,d=u.default.pickProps(this.props,e),p=this._data();return o.default.createElement(e,i({ref:"list"},d,{id:t,data:p,selected:c,focused:f,"aria-hidden":!a,"aria-labelledby":(0,k.instanceId)(this),"aria-live":a&&"polite",onSelect:this.handleSelect,onMove:this._scrollTo,messages:{emptyList:s.length?n.emptyFilter:n.emptyList}}))},render:function(){var e=this,t=this.props,n=t.className,r=t.duration,a=t.groupBy,s=t.messages,c=t.busy,h=t.dropUp,g=t.open,m=t.listComponent,b=this.state.focused,x=(0,w.isDisabled)(this.props),_=(0,w.isReadOnly)(this.props),T=(0,k.instanceId)(this,"_listbox");m=m||a&&v.default||y.default;var C=u.default.omitOwnProps(this,m),O=g||(0,k.isFirstFocusedRender)(this);return s=A(s),o.default.createElement(f.default,i({},C,{open:g,dropUp:h,focused:b,disabled:x,readOnly:_,onBlur:this.handleBlur,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,className:(0,l.default)(n,"rw-combobox")}),o.default.createElement(p.default,{onClick:this.toggle,disabled:!(!x&&!_),busy:c,icon:"caret-down",label:u.default.result(s.open,this.props)}),this.renderInput(T),O&&o.default.createElement(d.default,{open:g,dropUp:h,duration:r,onOpening:function(){return e.refs.list.forceUpdate()}},o.default.createElement("div",null,this.renderList(m,T,s))))},handleSelect:function(e){this.close(),(0,k.notify)(this.props.onSelect,e),this.change(e),this.focus()},handleInputKeyDown:function(e){this._deleting="Backspace"===e.key||"Delete"===e.key,this._isTyping=!0},handleInputChange:function(e){var t,n=this.props,r=n.data,i=n.textField,o=!!this.props.suggest,a=e.target.value;t=(t=this._deleting||!o?a:this.suggest(this._data(),a))||a,r=u.default.find(r,(function(e){return(0,_.dataText)(e,i).toLowerCase()===t.toLowerCase()})),this.change(!this._deleting&&r?r:a,!0),this.open()},focus:function(){this.refs.input&&this.refs.input.focus()},handleKeyDown:function(e){var t=this,n=e.key,r=e.altKey,i=this.refs.list,o=this.state.focusedItem,a=this.state.selectedItem,s=this.props.open;function l(e,n){return e?(t.refs.input.accept(!0),n?t.handleSelect(e):void t.change(e,!1)):t.change(g.default.findDOMNode(t.refs.input).value,!1)}(0,k.notify)(this.props.onKeyDown,[e]),e.defaultPrevented||("End"===n?s?this.setState({focusedItem:i.last()}):l(i.last(),!0):"Home"===n?s?this.setState({focusedItem:i.first()}):l(i.first(),!0):"Escape"===n&&s?this.close():"Enter"===n&&s?(e.preventDefault(),l(this.state.focusedItem,!0)):"ArrowDown"===n?r?this.open():s?this.setState({focusedItem:i.next(o)}):l(i.next(a),!0):"ArrowUp"===n&&(r?this.close():s?this.setState({focusedItem:i.prev(o)}):l(i.prev(a),!0)))},change:function(e,t){this._typedChange=!!t,(0,k.notify)(this.props.onChange,e)},open:function(){this.props.open||(0,k.notify)(this.props.onToggle,!0)},close:function(){this.props.open&&(0,k.notify)(this.props.onToggle,!1)},toggle:function(){this.focus(),this.props.open?this.close():this.open()},suggest:function(e,t){var n,r,i=this.props,o=i.textField,a=i.suggest,s=i.minLength,l=(0,_.dataText)(t,o);return a=!0===(r=a)?"startsWith":r||"eq",!(l||"").trim()||l.length<(s||1)||!(n="string"==typeof t?u.default.find(e,function(e,t,n){return"string"==typeof e?function(r){return c.default[e]((0,_.dataText)(r,n).toLowerCase(),t.toLowerCase())}:function(n){return e(n,t)}}(a,l,o)):t)||this.state&&this.state.deleting?"":(0,_.dataText)(n,o)},_data:function(){return this.state.processedData},process:function(e,t,n){return this.props.filter&&n&&(e=this.filter(e,n)),e}},"handleSelect",[w.widgetEditable],Object.getOwnPropertyDescriptor(r,"handleSelect"),r),C(r,"handleKeyDown",[w.widgetEditable],Object.getOwnPropertyDescriptor(r,"handleKeyDown"),r),C(r,"toggle",[w.widgetEditable],Object.getOwnPropertyDescriptor(r,"toggle"),r),r));function A(e){return i({open:"open combobox",emptyList:"There are no items in this list",emptyFilter:"The filter returned no results"},e)}t.default=(0,x.default)(S,{open:"onToggle",value:"onChange"},["focus"]),e.exports=t.default},10299:(e,t,n)=>{"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=c(n(67294)),o=c(n(45697)),a=c(n(72555)),s=(c(n(13617)),c(n(78600))),l=c(n(86806)),u=c(n(97354));function c(e){return e&&e.__esModule?e:{default:e}}t.default=(0,a.default)({displayName:"ComboboxInput",propTypes:{value:o.default.string,suggest:o.default.bool,onChange:o.default.func.isRequired},componentDidUpdate:function(){var e=l.default.findDOMNode(this),t=this.props.value;if(this.isSuggesting()){var n=t.toLowerCase().indexOf(this._last.toLowerCase())+this._last.length,r=t.length-n;n>=0&&(0,s.default)(e,n,n+r)}},getDefaultProps:function(){return{value:""}},render:function(){var e=this.props,t=e.onKeyDown,n=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["onKeyDown"]);return delete n.suggest,i.default.createElement(u.default,r({},n,{onKeyDown:t,onChange:this.handleChange}))},isSuggesting:function(){var e=this.props.value,t=null!=this._last&&-1!==e.toLowerCase().indexOf(this._last.toLowerCase());return this.props.suggest&&t},accept:function(e){var t=(l.default.findDOMNode(this).value||"").length;this._last=null,e&&(0,s.default)(l.default.findDOMNode(this),t,t)},handleChange:function(e){var t=e.target.value;this.props.placeholder&&!t&&t===(this.props.value||"")||(this._last=t,this.props.onChange(e,t))},focus:function(){l.default.findDOMNode(this).focus()}}),e.exports=t.default},133:(e,t,n)=>{"use strict";var r;t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=O(n(67294)),a=O(n(45697)),s=O(n(72555)),l=O(n(41143)),u=O(n(29342)),c=O(n(94184)),f=O(n(86806)),d=O(n(13617)),p=O(n(48030)),h=n(14462),g=n(27839),m=O(n(7145)),y=O(n(15052)),v=O(n(85834)),b=O(n(25450)),x=O(n(89922)),_=O(n(80621)),w=O(n(43247)),k=O(n(33393)),T=n(20005),C=n(91754);function O(e){return e&&e.__esModule?e:{default:e}}function S(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var A=v.default.ControlledComponent,M=Object.keys(g.calendarViews).map((function(e){return g.calendarViews[e]})),E=i({},A.propTypes,{value:a.default.instanceOf(Date),onChange:a.default.func,open:a.default.oneOf([!1,g.datePopups.TIME,g.datePopups.CALENDAR]),onToggle:a.default.func,currentDate:a.default.instanceOf(Date),onCurrentDateChange:a.default.func,onSelect:a.default.func,min:a.default.instanceOf(Date),max:a.default.instanceOf(Date),culture:a.default.string,format:w.default.dateFormat,timeFormat:w.default.dateFormat,editFormat:w.default.dateFormat,calendar:a.default.bool,time:a.default.bool,timeComponent:w.default.elementType,dropUp:a.default.bool,duration:a.default.number,placeholder:a.default.string,name:a.default.string,initialView:a.default.oneOf(M),finalView:a.default.oneOf(M),autoFocus:a.default.bool,disabled:w.default.disabled,readOnly:w.default.readOnly,parse:a.default.oneOfType([a.default.arrayOf(a.default.string),a.default.string,a.default.func]),"aria-labelledby":a.default.string,"aria-describedby":a.default.string,messages:a.default.shape({calendarButton:a.default.string,timeButton:a.default.string})}),P=(0,s.default)((S(r={displayName:"DateTimePicker",mixins:[n(66145),n(54338),n(2887),n(138),n(69793)({didHandle:function(e){e||this.close()}}),n(43729)("valueInput",(function(e,t){var n=this.props.open,r=this.ariaActiveDescendant(),i=n===g.datePopups.CALENDAR&&"calendar"===e,o=n===g.datePopups.TIME&&"timelist"===e;if(!r||o||i)return t}))],propTypes:E,getInitialState:function(){return{focused:!1}},getDefaultProps:function(){return{value:null,currentDate:new Date,min:new Date(1900,0,1),max:new Date(2099,11,31),calendar:!0,time:!0,open:!1,footer:!0,messages:{calendarButton:"Select Date",timeButton:"Select Time"},ariaActiveDescendantKey:"dropdownlist"}},renderInput:function(e,t){var n=this.props,r=n.open,i=n.value,a=n.editFormat,s=n.culture,l=n.busy,u=n.placeholder,c=n.disabled,f=n.readOnly,d=n.name,p=n.tabIndex,h=n.autoFocus,g=n["aria-labelledby"],m=n["aria-describedby"],y=this.state.focused;return o.default.createElement(x.default,{id:e,ref:"valueInput",role:"combobox",name:d,tabIndex:p,autoFocus:h,placeholder:u,disabled:c,readOnly:f,value:i,format:D(this.props),editFormat:a,editing:y,culture:s,parse:this._parse,onChange:this.handleChange,"aria-haspopup":!0,"aria-labelledby":g,"aria-describedby":m,"aria-expanded":!!r,"aria-busy":!!l,"aria-owns":t})},renderButtons:function(e){var t=this.props,n=t.calendar,r=t.time,i=t.disabled,a=t.readOnly;return n||r?o.default.createElement("span",{className:"rw-select"},n&&o.default.createElement(_.default,{icon:"calendar",className:"rw-btn-calendar",label:e.calendarButton,disabled:!(!i&&!a),onClick:this._click.bind(null,g.datePopups.CALENDAR)}),r&&o.default.createElement(_.default,{icon:"clock-o",className:"rw-btn-time",label:e.timeButton,disabled:!(!i&&!a),onClick:this._click.bind(null,g.datePopups.TIME)})):null},renderCalendar:function(e,t){var n=this,r=this.props,a=r.open,s=r.value,l=r.duration,u=r.dropUp,c=d.default.pickProps(this.props,A);return o.default.createElement(y.default,{dropUp:u,duration:l,open:a===g.datePopups.CALENDAR,className:"rw-calendar-popup"},o.default.createElement(A,i({},c,{ref:"calPopup",id:e,tabIndex:"-1",value:s,autoFocus:!1,onChange:this.handleDateSelect,onNavigate:function(){return n.focus()},currentDate:this.props.currentDate,onCurrentDateChange:this.props.onCurrentDateChange,"aria-hidden":!a,"aria-live":"polite","aria-labelledby":t,ariaActiveDescendantKey:"calendar"})))},renderTimeList:function(e,t){var n,r=this,a=this.props,s=a.open,l=a.value,u=a.duration,c=a.dropUp,f=a.calendar,p=a.timeFormat,h=a.timeComponent,m=d.default.pickProps(this.props,b.default);return o.default.createElement(y.default,{dropUp:c,duration:u,open:s===g.datePopups.TIME,onOpening:function(){return r.refs.timePopup.forceUpdate()}},o.default.createElement("div",null,o.default.createElement(b.default,i({},m,{ref:"timePopup",id:e,format:p,value:(n=l,n&&!isNaN(n.getTime())?n:null),onMove:this._scrollTo,onSelect:this.handleTimeSelect,preserveDate:!!f,itemComponent:h,"aria-labelledby":t,"aria-live":s&&"polite","aria-hidden":!s,ariaActiveDescendantKey:"timelist"}))))},render:function(){var e=this.props,t=e.className,n=e.calendar,r=e.time,a=e.open,s=e.messages,l=e.disabled,u=e.readOnly,f=e.dropUp,p=this.state.focused,h=(0,C.instanceId)(this,"_input"),g=(0,C.instanceId)(this,"_time_listbox"),y=(0,C.instanceId)(this,"_cal"),v="",x=d.default.omitOwnProps(this,A,b.default),_=a||(0,C.isFirstFocusedRender)(this);return n&&(v+=y),r&&(v+=" "+g),o.default.createElement(m.default,i({},x,{open:!!a,dropUp:f,focused:p,disabled:l,readOnly:u,onBlur:this.handleBlur,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,onKeyPress:this.handleKeyPress,className:(0,c.default)(t,"rw-datetimepicker",n&&r&&"rw-has-both",!n&&!r&&"rw-has-neither")}),this.renderInput(h,v.trim()),this.renderButtons(s),_&&this.renderTimeList(g,h),_&&this.renderCalendar(y,h))},handleChange:function(e,t,n){var r=this.props,i=r.onChange,o=r.value;n&&(e=this.inRangeValue(e)),i&&(null==e||null==o?e!=o&&i(e,t):p.default.eq(e,o)||i(e,t))},handleKeyDown:function(e){var t=this.props,n=t.open,r=t.calendar,i=t.time;(0,C.notify)(this.props.onKeyDown,[e]),e.defaultPrevented||("Escape"===e.key&&n?this.close():e.altKey?(e.preventDefault(),"ArrowDown"===e.key?r&&i?this.open(n===g.datePopups.CALENDAR?g.datePopups.TIME:g.datePopups.CALENDAR):i?this.open(g.datePopups.TIME):r&&this.open(g.datePopups.CALENDAR):"ArrowUp"===e.key&&this.close()):n&&(n===g.datePopups.CALENDAR&&this.refs.calPopup.handleKeyDown(e),n===g.datePopups.TIME&&this.refs.timePopup.handleKeyDown(e)))},handleKeyPress:function(e){(0,C.notify)(this.props.onKeyPress,[e]),e.defaultPrevented||this.props.open===g.datePopups.TIME&&this.refs.timePopup.handleKeyPress(e)},focus:function(){var e=this.refs.valueInput;e&&(0,u.default)()!==f.default.findDOMNode(e)&&e.focus()},handleDateSelect:function(e){var t=D(this.props),n=p.default.merge(e,this.props.value,this.props.currentDate),r=L(e,t,this.props.culture);this.close(),(0,C.notify)(this.props.onSelect,[n,r]),this.handleChange(n,r,!0),this.focus()},handleTimeSelect:function(e){var t=D(this.props),n=p.default.merge(this.props.value,e.date,this.props.currentDate),r=L(e.date,t,this.props.culture);this.close(),(0,C.notify)(this.props.onSelect,[n,r]),this.handleChange(n,r,!0),this.focus()},_click:function(e,t){this.focus(),this.toggle(e,t)},_parse:function(e){var t=D(this.props),n=this.props.editFormat,r=this.props.parse,i=[];return"function"==typeof r?r(e,this.props.culture):("string"==typeof t&&i.push(t),"string"==typeof n&&i.push(n),r&&(i=i.concat(this.props.parse)),(0,l.default)(i.length,"React Widgets: there are no specified `parse` formats provided and the `format` prop is a function. the DateTimePicker is unable to parse `%s` into a dateTime, please provide either a parse function or Globalize.js compatible string for `format`",e),function(e,t,n){for(var r,i=0;i<e.length;i++)if(r=h.date.parse(n,e[i],t))return r;return null}(i,this.props.culture,e))},toggle:function(e){this.props.open?this.props.open!==e?this.open(e):this.close(e):this.open(e)},open:function(e){this.props.open!==e&&!0===this.props[e]&&(0,C.notify)(this.props.onToggle,e)},close:function(){this.props.open&&(0,C.notify)(this.props.onToggle,!1)},inRangeValue:function(e){return null==e?e:p.default.max(p.default.min(e,this.props.max),this.props.min)}},"handleChange",[T.widgetEditable],Object.getOwnPropertyDescriptor(r,"handleChange"),r),S(r,"handleKeyDown",[T.widgetEditable],Object.getOwnPropertyDescriptor(r,"handleKeyDown"),r),S(r,"handleKeyPress",[T.widgetEditable],Object.getOwnPropertyDescriptor(r,"handleKeyPress"),r),S(r,"handleDateSelect",[T.widgetEditable],Object.getOwnPropertyDescriptor(r,"handleDateSelect"),r),S(r,"handleTimeSelect",[T.widgetEditable],Object.getOwnPropertyDescriptor(r,"handleTimeSelect"),r),S(r,"_click",[T.widgetEditable],Object.getOwnPropertyDescriptor(r,"_click"),r),r));function D(e){var t=null==e[g.datePopups.CALENDAR]||e.calendar,n=null==e[g.datePopups.TIME]||e.time;return e.format?e.format:t&&n||!t&&!n?h.date.getFormat("default"):h.date.getFormat(t?"date":"time")}function L(e,t,n){var r="";return e instanceof Date&&!isNaN(e.getTime())&&(r=h.date.format(e,t,n)),r}t.default=(0,k.default)(P,{open:"onToggle",value:"onChange",currentDate:"onCurrentDateChange"},["focus"]),e.exports=t.default},89922:(e,t,n)=>{"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=d(n(67294)),o=d(n(45697)),a=d(n(72555)),s=d(n(13617)),l=d(n(97354)),u=d(n(86806)),c=n(14462),f=d(n(43247));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n){var r="";return e instanceof Date&&!isNaN(e.getTime())&&(r=c.date.format(e,t,n)),r}t.default=(0,a.default)({displayName:"DateTimePickerInput",propTypes:{format:f.default.dateFormat.isRequired,editing:o.default.bool,editFormat:f.default.dateFormat,parse:o.default.func.isRequired,value:o.default.instanceOf(Date),onChange:o.default.func.isRequired,culture:o.default.string},componentWillReceiveProps:function(e){var t=e.value,n=e.editing,r=e.editFormat,i=e.format,o=e.culture;this.setState({textValue:p(t,n&&r?r:i,o)})},getInitialState:function(){var e=this.props,t=e.value,n=e.editing,r=e.editFormat,i=e.format;return{textValue:p(t,n&&r?r:i,e.culture)}},render:function(){var e=this.props,t=e.disabled,n=e.readOnly,o=this.state.textValue,a=s.default.omitOwnProps(this);return i.default.createElement(l.default,r({},a,{type:"text",value:o,disabled:t,readOnly:n,onChange:this.handleChange,onBlur:this.handleBlur}))},handleChange:function(e){var t=e.target.value;this._needsFlush=!0,this.setState({textValue:t})},handleBlur:function(e){var t=this.props,n=t.format,r=t.culture,i=t.parse,o=t.onChange,a=t.onBlur;if(a&&a(e),this._needsFlush){var s=i(e.target.value);this._needsFlush=!1,o(s,p(s,n,r))}},focus:function(){u.default.findDOMNode(this).focus()}}),e.exports=t.default},40506:(e,t,n)=>{"use strict";t.__esModule=!0;var r=d(n(67294)),i=d(n(45697)),o=d(n(72555)),a=d(n(1562)),s=d(n(48030)),l=n(14462),u=d(n(13617)),c=d(n(43247)),f=n(91754);function d(e){return e&&e.__esModule?e:{default:e}}var p={culture:i.default.string,today:i.default.instanceOf(Date),value:i.default.instanceOf(Date),focused:i.default.instanceOf(Date),min:i.default.instanceOf(Date),max:i.default.instanceOf(Date),onChange:i.default.func.isRequired,yearFormat:c.default.dateFormat},h=function(e,t){return e+"__decade_"+s.default.year(t)};t.default=(0,o.default)({displayName:"DecadeView",mixins:[n(54338),n(86402),n(43729)()],propTypes:p,componentDidUpdate:function(){var e=h((0,f.instanceId)(this),this.props.focused);this.ariaActiveDescendant(e)},render:function(){var e,t,n,i=this.props.focused;return r.default.createElement(a.default,u.default.omitOwnProps(this),r.default.createElement("tbody",null,u.default.chunk((e=i,t=[1,2,3,4,5,6,7,8,9,10,11,12],n=s.default.add(s.default.startOf(e,"decade"),-2,"year"),t.map((function(){return n=s.default.add(n,1,"year")}))),4).map(this.renderRow)))},renderRow:function(e,t){var n=this.props,i=n.focused,o=n.disabled,s=n.onChange,u=n.yearFormat,c=n.value,d=n.today,p=n.culture,g=n.min,m=n.max,y=(0,f.instanceId)(this);return r.default.createElement(a.default.Row,{key:t},e.map((function(e,t){var n=l.date.format(e,l.date.getFormat("year",u),p);return r.default.createElement(a.default.Cell,{key:t,unit:"year",id:h(y,e),label:n,date:e,now:d,min:g,max:m,onChange:s,focused:i,selected:c,disabled:o},n)})))}}),e.exports=t.default},72976:(e,t,n)=>{"use strict";var r;t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=O(n(67294)),a=O(n(45697)),s=O(n(72555)),l=O(n(29342)),u=O(n(48398)),c=O(n(94184)),f=O(n(13617)),d=O(n(7145)),p=O(n(97354)),h=O(n(19809)),g=O(n(56371)),m=O(n(15052)),y=O(n(86806)),v=O(n(43247)),b=O(n(19607)),x=O(n(1086)),_=O(n(74452)),w=O(n(33393)),k=n(23205),T=n(20005),C=n(91754);function O(e){return e&&e.__esModule?e:{default:e}}function S(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var A=f.default.result,M=i({},m.default.propTypes,{value:a.default.any,onChange:a.default.func,open:a.default.bool,onToggle:a.default.func,data:a.default.array,valueField:a.default.string,textField:v.default.accessor,valueComponent:v.default.elementType,itemComponent:v.default.elementType,listComponent:v.default.elementType,groupComponent:v.default.elementType,groupBy:v.default.accessor,onSelect:a.default.func,searchTerm:a.default.string,onSearch:a.default.func,busy:a.default.bool,delay:a.default.number,dropUp:a.default.bool,duration:a.default.number,disabled:v.default.disabled.acceptsArray,readOnly:v.default.readOnly.acceptsArray,messages:a.default.shape({open:v.default.message,emptyList:v.default.message,emptyFilter:v.default.message,filterPlaceholder:v.default.message})}),E=(0,s.default)((S(r={displayName:"DropdownList",mixins:[n(66145),n(71496),n(54338),n(21625),n(2887),n(138),n(43729)(),n(69793)({didHandle:function(e){e||this.close()}})],propTypes:M,getDefaultProps:function(){return{delay:500,value:"",open:!1,data:[],searchTerm:"",messages:P(),ariaActiveDescendantKey:"dropdownlist"}},getInitialState:function(){var e=this.props,t=e.open,n=e.filter,r=e.value,i=e.data,o=e.searchTerm,a=e.valueField,s=n?this.filter(i,o):i,l=(0,k.dataIndexOf)(i,r,a);return{filteredData:t&&n?s:null,selectedItem:s[l],focusedItem:s[l]||i[0]}},componentDidUpdate:function(){this.refs.list&&(0,_.default)(this.refs.list)},componentWillReceiveProps:function(e){var t=e.open,n=e.filter,r=e.value,i=e.data,o=e.searchTerm,a=e.valueField,s=n?this.filter(i,o):i,l=(0,k.dataIndexOf)(i,r,a);this.setState({filteredData:t&&n?s:null,selectedItem:s[l],focusedItem:s[~l?l:0]})},renderFilter:function(e){var t=this;return o.default.createElement("div",{ref:"filterWrapper",className:"rw-filter-input"},o.default.createElement(h.default,{component:"span",icon:"search"}),o.default.createElement(p.default,{ref:"filter",value:this.props.searchTerm,placeholder:f.default.result(e.filterPlaceholder,this.props),onChange:function(e){return(0,C.notify)(t.props.onSearch,e.target.value)}}))},renderList:function(e,t,n){var r=this.props,a=r.open,s=r.filter,l=r.data,u=this.state,c=u.selectedItem,d=u.focusedItem,p=f.default.pickProps(this.props,e),h=this._data();return o.default.createElement("div",null,s&&this.renderFilter(n),o.default.createElement(e,i({},p,{ref:"list",id:t,data:h,"aria-live":a&&"polite","aria-labelledby":(0,C.instanceId)(this),"aria-hidden":!this.props.open,selected:c,focused:a?d:null,onSelect:this.handleSelect,onMove:this._scrollTo,messages:{emptyList:l.length?n.emptyFilter:n.emptyList}})))},render:function(){var e=this,t=this.props,n=t.className,r=t.tabIndex,a=t.duration,s=t.valueField,l=t.textField,u=t.groupBy,p=t.messages,y=t.data,v=t.busy,_=t.dropUp,w=t.placeholder,O=t.value,S=t.open,M=t.valueComponent,E=t.listComponent;E=E||u&&x.default||b.default;var D=this.state.focused,L=(0,T.isDisabled)(this.props),R=(0,T.isReadOnly)(this.props),I=(0,k.dataItem)(y,O,s),N=(0,C.instanceId)(this,"__listbox"),j=i(f.default.omitOwnProps(this,E),{role:"combobox",tabIndex:r||0,"aria-owns":N,"aria-expanded":!!S,"aria-haspopup":!0,"aria-busy":!!v,"aria-live":!S&&"polite","aria-autocomplete":"list","aria-disabled":L,"aria-readonly":R}),z=S||(0,C.isFirstFocusedRender)(this);return p=P(p),o.default.createElement(d.default,i({},j,{ref:"input",className:(0,c.default)(n,"rw-dropdownlist"),open:S,dropUp:_,focused:D,disabled:L,readOnly:R,onBlur:this.handleBlur,onFocus:this.handleFocus,onClick:this.handleClick,onKeyDown:this.handleKeyDown,onKeyPress:this.handleKeyPress}),o.default.createElement(h.default,{busy:v,icon:"caret-down",component:"span",className:"rw-dropdownlist-picker",label:A(p.open,this.props)}),o.default.createElement(g.default,{value:I,textField:l,placeholder:w,valueComponent:M}),z&&o.default.createElement(m.default,{open:S,dropUp:_,duration:a,onOpen:function(){return e.focus()},onOpening:function(){return e.refs.list.forceUpdate()}},this.renderList(E,N,p)))},handleSelect:function(e){this.close(),(0,C.notify)(this.props.onSelect,e),this.change(e),this.focus(this)},handleClick:function(e){var t=this.refs.filterWrapper;this.props.filter&&this.props.open?(0,u.default)(y.default.findDOMNode(t),e.target)||this.close():this.toggle(),(0,C.notify)(this.props.onClick,e)},handleKeyDown:function(e){var t=this,n=e.key,r=e.altKey,i=this.refs.list,o=this.props.filter,a=this.state.focusedItem,s=this.state.selectedItem,l=this.props.open,u=function(){t.close(),y.default.findDOMNode(t).focus()};(0,C.notify)(this.props.onKeyDown,[e]);var c=function(e,n){null!=e&&(n?t.handleSelect(e):t.change(e))};e.defaultPrevented||("End"===n?(e.preventDefault(),l?this.setState({focusedItem:i.last()}):c(i.last())):"Home"===n?(e.preventDefault(),l?this.setState({focusedItem:i.first()}):c(i.first())):"Escape"===n&&l?(e.preventDefault(),u()):("Enter"===n||" "===n&&!o)&&l?(e.preventDefault(),c(this.state.focusedItem,!0)):" "!==n||o||l?"ArrowDown"===n?(r?this.open():l?this.setState({focusedItem:i.next(a)}):c(i.next(s)),e.preventDefault()):"ArrowUp"===n&&(r?u():l?this.setState({focusedItem:i.prev(a)}):c(i.prev(s)),e.preventDefault()):(e.preventDefault(),this.open()))},handleKeyPress:function(e){var t=this;(0,C.notify)(this.props.onKeyPress,[e]),e.defaultPrevented||this.props.filter&&this.props.open||this.search(String.fromCharCode(e.which),(function(e){t._mounted&&t.props.open?t.setState({focusedItem:e}):e&&t.change(e)}))},change:function(e){(0,k.valueMatcher)(e,this.props.value,this.props.valueField)||((0,C.notify)(this.props.onChange,e),(0,C.notify)(this.props.onSearch,""),this.close())},focus:function(e){var t=this.props,n=t.filter,r=t.open,i=e||(n&&r?this.refs.filter:this.refs.input);i=y.default.findDOMNode(i),(0,l.default)()!==i&&i.focus()},_data:function(){return this.state.filteredData||this.props.data.concat()},search:function(e,t){var n=this,r=((this._searchTerm||"")+e).toLowerCase();e&&(this._searchTerm=r,this.setTimeout("search",(function(){var e=n.refs.list,i=n.props.open?"focusedItem":"selectedItem",o=e.next(n.state[i],r);n._searchTerm="",o&&t(o)}),this.props.delay))},open:function(){(0,C.notify)(this.props.onToggle,!0)},close:function(){(0,C.notify)(this.props.onToggle,!1)},toggle:function(){this.props.open?this.close():this.open()}},"handleSelect",[T.widgetEditable],Object.getOwnPropertyDescriptor(r,"handleSelect"),r),S(r,"handleClick",[T.widgetEditable],Object.getOwnPropertyDescriptor(r,"handleClick"),r),S(r,"handleKeyDown",[T.widgetEditable],Object.getOwnPropertyDescriptor(r,"handleKeyDown"),r),S(r,"handleKeyPress",[T.widgetEditable],Object.getOwnPropertyDescriptor(r,"handleKeyPress"),r),r));function P(e){return i({open:"open dropdown",filterPlaceholder:"",emptyList:"There are no items in this list",emptyFilter:"The filter returned no results"},e)}t.default=(0,w.default)(E,{open:"onToggle",value:"onChange",searchTerm:"onSearch"},["focus"]),e.exports=t.default},56371:(e,t,n)=>{"use strict";var r,i;t.__esModule=!0;var o=u(n(67294)),a=u(n(45697)),s=u(n(43247)),l=n(23205);function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=(i=r=function(e){function t(){return c(this,t),f(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.placeholder,n=e.value,r=e.textField,i=e.valueComponent;return o.default.createElement("div",{className:"rw-input"},!n&&t?o.default.createElement("span",{className:"rw-placeholder"},t):i?o.default.createElement(i,{item:n}):(0,l.dataText)(n,r))},t}(o.default.Component),r.propTypes={value:a.default.any,placeholder:a.default.string,textField:s.default.accessor,valueComponent:s.default.elementType},i);t.default=d,e.exports=t.default},25542:(e,t,n)=>{"use strict";var r=s(n(67294)),i=s(n(72555)),o=s(n(80621)),a=n(14462);function s(e){return e&&e.__esModule?e:{default:e}}e.exports=(0,i.default)({displayName:"Footer",render:function(){var e,t=this.props,n=t.disabled,i=t.readOnly,s=t.value;return r.default.createElement("div",{className:"rw-footer"},r.default.createElement(o.default,{disabled:!(!n&&!i),onClick:this.props.onClick.bind(null,s)},a.date.format(s,(e=this.props,a.date.getFormat("footer",e.format)),this.props.culture)))}})},85915:(e,t,n)=>{"use strict";t.__esModule=!0;var r=s(n(67294)),i=s(n(45697)),o=s(n(72555)),a=s(n(80621));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,o.default)({displayName:"Header",propTypes:{label:i.default.string.isRequired,labelId:i.default.string,upDisabled:i.default.bool.isRequired,prevDisabled:i.default.bool.isRequired,nextDisabled:i.default.bool.isRequired,onViewChange:i.default.func.isRequired,onMoveLeft:i.default.func.isRequired,onMoveRight:i.default.func.isRequired,messages:i.default.shape({moveBack:i.default.string,moveForward:i.default.string})},mixins:[n(54338),n(86402)],getDefaultProps:function(){return{messages:{moveBack:"navigate back",moveForward:"navigate forward"}}},render:function(){var e=this.props,t=e.messages,n=e.label,i=e.labelId,o=e.onMoveRight,s=e.onMoveLeft,l=e.onViewChange,u=e.prevDisabled,c=e.upDisabled,f=e.nextDisabled,d=this.isRtl();return r.default.createElement("div",{className:"rw-header"},r.default.createElement(a.default,{className:"rw-btn-left",onClick:s,disabled:u,label:t.moveBack,icon:"caret-"+(d?"right":"left")}),r.default.createElement(a.default,{id:i,onClick:l,className:"rw-btn-view",disabled:c,"aria-live":"polite","aria-atomic":"true"},n),r.default.createElement(a.default,{className:"rw-btn-right",onClick:o,disabled:f,label:t.moveForward,icon:"caret-"+(d?"left":"right")}))}}),e.exports=t.default},97354:(e,t,n)=>{"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=a(n(67294)),o=a(n(94184));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=function(e){function t(){return s(this,t),l(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.disabled,a=e.readOnly,s=e.value,l=e.tabIndex,u=e.component,c=void 0===u?"input":u,f=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["className","disabled","readOnly","value","tabIndex","component"]);return i.default.createElement(c,r({},f,{type:"text",tabIndex:l||0,autoComplete:"off",disabled:n,readOnly:a,"aria-disabled":n,"aria-readonly":a,value:null==s?"":s,className:(0,o.default)(t,"rw-input")}))},t}(i.default.Component);t.default=u,e.exports=t.default},19607:(e,t,n)=>{"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=g(n(67294)),o=g(n(45697)),a=g(n(72555)),s=g(n(12765)),l=g(n(43247)),u=g(n(86806)),c=g(n(94184)),f=g(n(13617)),d=n(23205),p=n(91754),h=n(20005);function g(e){return e&&e.__esModule?e:{default:e}}var m=function(e,t){return e+"__option__"+t};t.default=(0,a.default)({displayName:"List",mixins:[n(51911),n(43729)()],propTypes:{data:o.default.array,onSelect:o.default.func,onMove:o.default.func,optionComponent:l.default.elementType,itemComponent:l.default.elementType,selected:o.default.any,focused:o.default.any,valueField:l.default.accessor,textField:l.default.accessor,disabled:l.default.disabled.acceptsArray,readOnly:l.default.readOnly.acceptsArray,messages:o.default.shape({emptyList:l.default.message})},getDefaultProps:function(){return{onSelect:function(){},optionComponent:s.default,ariaActiveDescendantKey:"list",data:[],messages:{emptyList:"There are no items in this list"}}},componentDidMount:function(){this.move()},componentDidUpdate:function(){var e=this.props,t=e.data,n=e.focused,r=t.indexOf(n),i=m((0,p.instanceId)(this),r);this.ariaActiveDescendant(-1!==r?i:null),this.move()},render:function(){var e,t=this,n=this.props,o=n.className,a=n.role,s=n.data,l=n.textField,u=n.valueField,g=n.focused,y=n.selected,v=n.messages,b=n.onSelect,x=n.itemComponent,_=n.optionComponent,w=(0,p.instanceId)(this),k=f.default.omitOwnProps(this);return e=s.length?s.map((function(e,n){var r=m(w,n),o=(0,h.isDisabledItem)(e,t.props),a=(0,h.isReadOnlyItem)(e,t.props);return i.default.createElement(_,{key:"item_"+n,id:r,dataItem:e,disabled:o,readOnly:a,focused:g===e,selected:y===e,onClick:o||a?void 0:b.bind(null,e)},x?i.default.createElement(x,{item:e,value:(0,d.dataValue)(e,u),text:(0,d.dataText)(e,l),disabled:o,readOnly:a}):(0,d.dataText)(e,l))})):i.default.createElement("li",{className:"rw-list-empty"},f.default.result(v.emptyList,this.props)),i.default.createElement("ul",r({id:w,tabIndex:"-1",className:(0,c.default)(o,"rw-list"),role:void 0===a?"listbox":a},k),e)},_data:function(){return this.props.data},move:function(){var e=u.default.findDOMNode(this),t=this._data().indexOf(this.props.focused),n=e.children[t];n&&(0,p.notify)(this.props.onMove,[n,e,this.props.focused])}}),e.exports=t.default},1086:(e,t,n)=>{"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=m(n(67294)),o=m(n(45697)),a=m(n(72555)),s=m(n(12765)),l=m(n(43247)),u=m(n(86806)),c=m(n(94184)),f=m(n(13617)),d=m(n(67544)),p=n(23205),h=n(91754),g=n(20005);function m(e){return e&&e.__esModule?e:{default:e}}t.default=(0,a.default)({displayName:"List",mixins:[n(51911),n(43729)()],propTypes:{data:o.default.array,onSelect:o.default.func,onMove:o.default.func,optionComponent:l.default.elementType,itemComponent:l.default.elementType,groupComponent:l.default.elementType,selected:o.default.any,focused:o.default.any,valueField:l.default.accessor,textField:l.default.accessor,disabled:l.default.disabled.acceptsArray,readOnly:l.default.readOnly.acceptsArray,groupBy:l.default.accessor,messages:o.default.shape({emptyList:l.default.message})},getDefaultProps:function(){return{onSelect:function(){},data:[],optionComponent:s.default,ariaActiveDescendantKey:"groupedList",messages:{emptyList:"There are no items in this list"}}},getInitialState:function(){var e=[];return{groups:this._group(this.props.groupBy,this.props.data,e),sortedKeys:e}},componentWillReceiveProps:function(e){var t=[];e.data===this.props.data&&e.groupBy===this.props.groupBy||this.setState({groups:this._group(e.groupBy,e.data,t),sortedKeys:t})},componentDidMount:function(){this.move()},componentDidUpdate:function(){this.ariaActiveDescendant(this._currentActiveID),this.move()},render:function(){var e,t=this,n=this.props,o=n.className,a=n.role,s=n.data,l=n.messages,u=this.state,d=u.sortedKeys,p=u.groups,g=f.default.omitOwnProps(this),m=-1,y=void 0,v=(0,h.instanceId)(this);return this._currentActiveID=null,e=s.length?d.reduce((function(e,n){y=p[n],e.push(t._renderGroupHeader(n));for(var r=0;r<y.length;r++)e.push(t._renderItem(n,y[r],++m));return e}),[]):i.default.createElement("li",{className:"rw-list-empty"},f.default.result(l.emptyList,this.props)),i.default.createElement("ul",r({ref:"scrollable",id:v,tabIndex:"-1",className:(0,c.default)(o,"rw-list","rw-list-grouped"),role:void 0===a?"listbox":a},g),e)},_renderGroupHeader:function(e){var t=this.props.groupComponent,n=(0,h.instanceId)(this);return i.default.createElement("li",{key:"item_"+e,tabIndex:"-1",role:"separator",id:n+"_group_"+e,className:"rw-list-optgroup"},t?i.default.createElement(t,{item:e}):e)},_renderItem:function(e,t,n){var r=this.props,o=r.focused,a=r.selected,s=r.onSelect,l=r.textField,u=r.valueField,c=r.itemComponent,f=r.optionComponent,d=function(e,t){return e+"__option__"+t}((0,h.instanceId)(this),n),m=(0,g.isDisabledItem)(t,this.props),y=(0,g.isReadOnlyItem)(t,this.props);return o===t&&(this._currentActiveID=d),i.default.createElement(f,{key:"item_"+e+"_"+n,id:d,dataItem:t,focused:o===t,selected:a===t,disabled:m,readOnly:y,onClick:m||y?void 0:s.bind(null,t)},c?i.default.createElement(c,{item:t,value:(0,p.dataValue)(t,u),text:(0,p.dataText)(t,l),disabled:m,readOnly:y}):(0,p.dataText)(t,l))},_isIndexOf:function(e,t){return this.props.data[e]===t},_group:function(e,t,n){var r="function"==typeof e?e:function(t){return t[e]};return n=n||[],(0,d.default)("string"!=typeof e||!t.length||f.default.has(t[0],e),"[React Widgets] You seem to be trying to group this list by a property `"+e+"` that doesn't exist in the dataset items, this may be a typo"),t.reduce((function(e,t){var i=r(t);return f.default.has(e,i)?e[i].push(t):(n.push(i),e[i]=[t]),e}),{})},_data:function(){var e=this.state.groups;return this.state.sortedKeys.reduce((function(t,n){return t.concat(e[n])}),[])},move:function(){var e=this.getItemDOMNode(this.props.focused);e&&(0,h.notify)(this.props.onMove,[e,u.default.findDOMNode(this),this.props.focused])},getItemDOMNode:function(e){var t,n,r=u.default.findDOMNode(this),i=this.state.groups,o=-1;return this.state.sortedKeys.some((function(a){if(t=i[a].indexOf(e),o++,-1!==t)return!!(n=r.children[o+t+1]);o+=i[a].length})),n}}),e.exports=t.default},12765:(e,t,n)=>{"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=u(n(67294)),o=u(n(45697)),a=u(n(72555)),s=u(n(94184)),l=u(n(13617));function u(e){return e&&e.__esModule?e:{default:e}}var c=(0,a.default)({displayName:"ListOption",propTypes:{dataItem:o.default.any,focused:o.default.bool,selected:o.default.bool,disabled:o.default.bool,readOnly:o.default.bool},render:function(){var e=this.props,t=e.className,n=e.children,o=e.focused,a=e.selected,u=e.disabled,c=e.readOnly,f=l.default.omitOwnProps(this),d={"rw-state-focus":o,"rw-state-selected":a,"rw-state-disabled":u,"rw-state-readonly":c};return i.default.createElement("li",r({role:"option",tabIndex:u||c?void 0:"-1","aria-selected":!!a,className:(0,s.default)("rw-list-option",t,d)},f),n)}});t.default=c,e.exports=t.default},9272:(e,t,n)=>{"use strict";t.__esModule=!0;var r=d(n(67294)),i=d(n(45697)),o=d(n(72555)),a=d(n(1562)),s=d(n(48030)),l=n(14462),u=d(n(43247)),c=d(n(13617)),f=n(91754);function d(e){return e&&e.__esModule?e:{default:e}}var p=function(e,t){return e+"__month_"+s.default.month(t)+"-"+s.default.date(t)},h={culture:i.default.string,today:i.default.instanceOf(Date),value:i.default.instanceOf(Date),focused:i.default.instanceOf(Date),min:i.default.instanceOf(Date),max:i.default.instanceOf(Date),onChange:i.default.func.isRequired,dayComponent:u.default.elementType,dayFormat:u.default.dateFormat,dateFormat:u.default.dateFormat},g=(0,o.default)({displayName:"MonthView",statics:{isEqual:function(e,t){return s.default.eq(e,t,"day")}},mixins:[n(86402),n(43729)()],propTypes:h,componentDidUpdate:function(){var e=p((0,f.instanceId)(this),this.props.focused);this.ariaActiveDescendant(e,null)},render:function(){var e,t=this.props,n=t.focused,i=t.culture,o=s.default.visibleDays(n,i),u=c.default.chunk(o,7);return r.default.createElement(a.default,c.default.omitOwnProps(this),r.default.createElement("thead",null,r.default.createElement("tr",null,this.renderHeaders(u[0],(e=this.props,l.date.getFormat("weekday",e.dayFormat)),i))),r.default.createElement("tbody",null,u.map(this.renderRow)))},renderRow:function(e,t){var n=this,i=this.props,o=i.focused,s=i.today,u=i.disabled,c=i.onChange,d=i.value,h=i.culture,g=i.min,m=i.max,y=i.dayComponent,v=(0,f.instanceId)(this),b=l.date.getFormat("footer");return r.default.createElement(a.default.Row,{key:t},e.map((function(e,t){var i,f=l.date.format(e,(i=n.props,l.date.getFormat("dayOfMonth",i.dateFormat)),h),x=l.date.format(e,b,h);return r.default.createElement(a.default.Cell,{key:t,id:p(v,e),label:x,date:e,now:s,min:g,max:m,unit:"day",viewUnit:"month",onChange:c,focused:o,selected:d,disabled:u},y?r.default.createElement(y,{date:e,label:f}):f)})))},renderHeaders:function(e,t,n){return e.map((function(e){return r.default.createElement("th",{key:"header_"+s.default.weekday(e,void 0,l.date.startOfWeek(n))},l.date.format(e,t,n))}))}});t.default=g,e.exports=t.default},74190:(e,t,n)=>{"use strict";var r;t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=w(n(67294)),a=w(n(45697)),s=w(n(72555)),l=w(n(94184)),u=w(n(13617)),c=w(n(33393)),f=w(n(7145)),d=w(n(15052)),p=w(n(26183)),h=w(n(64833)),g=w(n(43247)),m=w(n(19607)),y=w(n(1086)),v=w(n(74452)),b=n(23205),x=n(20005),_=n(91754);function w(e){return e&&e.__esModule?e:{default:e}}function k(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var T=u.default.splat,C=i({},d.default.propTypes,{data:a.default.array,value:a.default.array,onChange:a.default.func,searchTerm:a.default.string,onSearch:a.default.func,open:a.default.bool,onToggle:a.default.func,valueField:a.default.string,textField:g.default.accessor,tagComponent:g.default.elementType,itemComponent:g.default.elementType,listComponent:g.default.elementType,groupComponent:g.default.elementType,groupBy:g.default.accessor,createComponent:g.default.elementType,onSelect:a.default.func,onCreate:a.default.oneOfType([a.default.oneOf([!1]),a.default.func]),inputSize:a.default.func,busy:a.default.bool,dropUp:a.default.bool,placeholder:a.default.string,autoFocus:a.default.bool,disabled:g.default.disabled.acceptsArray,readOnly:g.default.readOnly.acceptsArray,messages:a.default.shape({open:g.default.message,emptyList:g.default.message,emptyFilter:g.default.message,createNew:g.default.message})}),O=(0,s.default)((k(r={displayName:"Multiselect",mixins:[n(66145),n(21625),n(2887),n(138),n(69793)({willHandle:function(e){e&&this.focus()},didHandle:function(e){e||this.close(),!e&&this.refs.tagList&&this.setState({focusedTag:null}),e&&!this.props.open&&this.open()}}),n(43729)("input",(function(e,t){var n=this.props.ariaActiveDescendantKey,r=(!this._data().length||null===this.state.focusedItem)&&e===n,i=null!=this.state.focusedTag&&"taglist"===e,o=null==this.state.focusedTag&&"list"===e;if(r||i||o)return t}))],propTypes:C,getDefaultProps:function(){return{data:[],filter:"startsWith",value:[],open:!1,searchTerm:"",ariaActiveDescendantKey:"multiselect",messages:{createNew:"(create new tag)",emptyList:"There are no items in this list",emptyFilter:"The filter returned no results",tagsLabel:"selected items",selectedItems:"selected items",noneSelected:"no selected items",removeLabel:"remove selected item"}}},getInitialState:function(){var e=this.props,t=e.data,n=e.value,r=e.valueField,i=e.searchTerm,o=T(n).map((function(e){return(0,b.dataItem)(t,e,r)})),a=this.process(t,o,i);return{focusedTag:null,focusedItem:a[0],processedData:a,dataItems:o}},componentDidUpdate:function(){this.ariaActiveDescendant((0,_.instanceId)(this,"__createlist_option")),this.refs.list&&(0,v.default)(this.refs.list)},componentWillReceiveProps:function(e){var t=e.data,n=e.value,r=e.valueField,i=e.searchTerm,o=u.default.splat(n),a=this.state.focusedItem,s=this.process(t,o,i);this.setState({processedData:s,focusedItem:-1===s.indexOf(a)?s[0]:a,dataItems:o.map((function(e){return(0,b.dataItem)(t,e,r)}))})},renderCreateItem:function(e,t){var n,r,i=this,a=this.props.searchTerm,s=this.state.focusedItem,u=!this._data().length||null===s,c=(0,_.instanceId)(this,"__createlist_option");return o.default.createElement("ul",{id:e,role:"listbox",className:"rw-list rw-multiselect-create-tag"},o.default.createElement("li",{id:c,role:"option",onClick:function(){return i.handleCreate(a)},className:(0,l.default)("rw-list-option","rw-create-list-option",u&&"rw-state-focus")},(n=this.props,"function"==typeof(r=t).createNew?r.createNew(n):[o.default.createElement("strong",{key:"dumb"},'"'+n.searchTerm+'"')," "+r.createNew])))},renderInput:function(e){var t=this.props,n=t.searchTerm,r=t.maxLength,i=t.tabIndex,a=t.busy,s=t.open,l=t.disabled,u=t.readOnly;return o.default.createElement(p.default,{ref:"input",tabIndex:i||0,role:"listbox","aria-expanded":!!s,"aria-busy":!!a,autoFocus:this.props.autoFocus,"aria-owns":e,"aria-haspopup":!0,value:n,maxLength:r,disabled:!0===l,readOnly:!0===u,placeholder:this.getPlaceholder(),inputSize:this.props.inputSize,onKeyDown:this.handleSearchKeyDown,onKeyUp:this.handleSearchKeyUp,onChange:this.handleInputChange,onClick:this.handleInputInteraction,onTouchEnd:this.handleInputInteraction})},renderList:function(e,t,n){var r=this.props,a=r.open,s=r.disabled,l=r.readOnly,c=this.state.focusedItem,f=u.default.pickProps(this.props,e),d=this._data();return o.default.createElement(e,i({ref:"list",key:0},f,{readOnly:l,disabled:s,id:t,"aria-live":"polite","aria-labelledby":(0,_.instanceId)(this),"aria-hidden":!a,ariaActiveDescendantKey:"list",data:d,focused:c,onSelect:this.handleSelect,onMove:this._scrollTo,messages:{emptyList:this._lengthWithoutValues?n.emptyFilter:n.emptyList}}))},renderNotificationArea:function(e,t){var n=this.props.textField,r=this.state,i=r.focused,a=r.dataItems;return o.default.createElement("span",{id:e,role:"status",className:"rw-sr","aria-live":"assertive","aria-atomic":"true","aria-relevant":"additions removals text"},i&&(a.length?t.selectedItems+": "+a.map((function(e){return(0,b.dataText)(e,n)})).join(", "):t.noneSelected))},renderTags:function(e,t){var n=this.props,r=n.disabled,i=n.readOnly,a=n.valueField,s=n.textField,l=this.state,u=l.focusedTag,c=l.dataItems,f=this.props.tagComponent;return o.default.createElement(h.default,{ref:"tagList",id:e,valueField:a,textField:s,"aria-label":t.tagsLabel,value:c,focused:u,disabled:r,readOnly:i,onDelete:this.handleDelete,valueComponent:f,ariaActiveDescendantKey:"taglist"})},render:function(){var e=this,t=this.props,n=t.className,r=t.groupBy,a=t.messages,s=t.busy,c=t.dropUp,p=t.open,h=t.duration,g=t.disabled,v=t.readOnly,b=t.listComponent,x=this.state,w=x.focused,k=x.dataItems;b=b||r&&y.default||m.default;var T=u.default.omitOwnProps(this,b),C=!!k.length,O=(0,_.isFirstFocusedRender)(this)||p,S=this.shouldShowCreate(),A=(0,_.instanceId)(this,"_taglist"),M=(0,_.instanceId)(this,"__listbox"),E=(0,_.instanceId)(this,"__createlist"),P=(0,_.instanceId)(this,"__notify"),D=M+" "+P+" "+(C?A:"")+(S?E:"");return a=i({createNew:"(create new tag)",emptyList:"There are no items in this list",emptyFilter:"The filter returned no results",tagsLabel:"selected items",selectedItems:"selected items",removeLabel:"remove selected item"},a),o.default.createElement(f.default,i({},T,{id:(0,_.instanceId)(this),open:p,dropUp:c,focused:w,disabled:!0===g,readOnly:!0===v,onKeyDown:this.handleKeyDown,onBlur:this.handleBlur,onFocus:this.handleFocus,onTouchEnd:this.handleFocus,className:(0,l.default)(n,"rw-multiselect")}),this.renderNotificationArea(P,a),o.default.createElement("div",{className:"rw-multiselect-wrapper"},s&&o.default.createElement("span",{className:"rw-i rw-loading"}),C&&this.renderTags(A,a),this.renderInput(D)),O&&o.default.createElement(d.default,{dropUp:c,open:p,duration:h,onOpening:function(){return e.refs.list.forceUpdate()}},o.default.createElement("div",null,this.renderList(b,M,a),S&&this.renderCreateItem(E,a))))},_data:function(){return this.state.processedData},handleDelete:function(e){this.focus(),this.change(this.state.dataItems.filter((function(t){return t!==e})))},handleSearchKeyDown:function(e){"Backspace"===e.key&&e.target.value&&!this._deletingText&&(this._deletingText=!0)},handleSearchKeyUp:function(e){"Backspace"===e.key&&this._deletingText&&(this._deletingText=!1)},handleInputChange:function(e){(0,_.notify)(this.props.onSearch,[e.target.value]),this.open()},handleInputInteraction:function(){this.open()},handleSelect:function(e){void 0!==e?((0,_.notify)(this.props.onSelect,e),this.change(this.state.dataItems.concat(e)),this.close(),this.focus()):this.props.onCreate&&this.handleCreate(this.props.searchTerm)},handleCreate:function(e){""!==e.trim()&&((0,_.notify)(this.props.onCreate,e),this.props.searchTerm&&(0,_.notify)(this.props.onSearch,[""]),this.close(),this.focus())},handleKeyDown:function(e){var t=e.key,n=e.keyCode,r=e.altKey,o=e.ctrlKey,a=!this.props.searchTerm&&!this._deletingText,s=this.props.open,l=this.state,u=l.focusedTag,c=l.focusedItem,f=this.refs,d=f.list,p=f.tagList,h={focusedTag:null};if((0,_.notify)(this.props.onKeyDown,[e]),!e.defaultPrevented)if("ArrowDown"===t){var g=d.next(c);g=this.shouldShowCreate()&&c===g||null===c?null:g,e.preventDefault(),s?this.setState(i({focusedItem:g},h)):this.open()}else if("ArrowUp"===t){var m=null===c?d.last():d.prev(c);e.preventDefault(),r?this.close():s&&this.setState(i({focusedItem:m},h))}else"End"===t?(e.preventDefault(),s?this.setState(i({focusedItem:d.last()},h)):p&&this.setState({focusedTag:p.last()})):"Home"===t?(e.preventDefault(),s?this.setState(i({focusedItem:d.first()},h)):p&&this.setState({focusedTag:p.first()})):s&&13===n?(e.preventDefault(),o&&this.props.onCreate||null===c?this.handleCreate(this.props.searchTerm):this.handleSelect(this.state.focusedItem)):"Escape"===t?s?this.close():p&&this.setState(h):a&&"ArrowLeft"===t?p&&this.setState({focusedTag:p.prev(u)}):a&&"ArrowRight"===t?p&&this.setState({focusedTag:p.next(u)}):a&&"Delete"===t?p&&p.remove(u):a&&"Backspace"===t&&p&&p.removeNext()},change:function(e){(0,_.notify)(this.props.onChange,[e]),(0,_.notify)(this.props.onSearch,[""])},focus:function(){this.refs.input&&this.refs.input.focus()},open:function(){this.props.open||(0,_.notify)(this.props.onToggle,!0)},close:function(){(0,_.notify)(this.props.onToggle,!1)},toggle:function(){this.props.open?this.close():this.open()},process:function(e,t,n){var r=this.props.valueField,i=e.filter((function(e){return!t.some((function(t){return(0,b.valueMatcher)(e,t,r)}))}));return this._lengthWithoutValues=i.length,n&&(i=this.filter(i,n)),i},shouldShowCreate:function(){var e=this.props,t=e.textField,n=e.searchTerm,r=e.onCreate,i=e.caseSensitive;if(!r||!n)return!1;var o=function(e){return i?e:e.toLowerCase()},a=function(e){return o((0,b.dataText)(e,t))===o(n)};return!this._data().some(a)&&!this.state.dataItems.some(a)},getPlaceholder:function(){return(this.props.value||[]).length?"":this.props.placeholder||""}},"handleInputInteraction",[x.widgetEditable],Object.getOwnPropertyDescriptor(r,"handleInputInteraction"),r),k(r,"handleSelect",[x.widgetEditable],Object.getOwnPropertyDescriptor(r,"handleSelect"),r),k(r,"handleCreate",[x.widgetEditable],Object.getOwnPropertyDescriptor(r,"handleCreate"),r),k(r,"handleKeyDown",[x.widgetEditable],Object.getOwnPropertyDescriptor(r,"handleKeyDown"),r),k(r,"change",[x.widgetEditable],Object.getOwnPropertyDescriptor(r,"change"),r),r));t.default=(0,c.default)(O,{open:"onToggle",value:"onChange",searchTerm:"onSearch"},["focus"]),e.exports=t.default},26183:(e,t,n)=>{"use strict";t.__esModule=!0;var r,i,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=f(n(67294)),s=f(n(45697)),l=f(n(13617)),u=f(n(86806)),c=f(n(43247));function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=(i=r=function(e){function t(){return d(this,t),p(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.disabled,n=e.readOnly,r=e.placeholder,i=e.onChange,s=e.value,u=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["disabled","readOnly","placeholder","onChange","value"]),c=u.inputSize?u.inputSize(s||r):Math.max((s||r).length,1)+1,f=l.default.omitOwnProps(this);return a.default.createElement("input",o({},f,{size:c,className:"rw-input",autoComplete:"off","aria-disabled":t,"aria-readonly":n,disabled:t,readOnly:n,placeholder:r,onChange:i,value:s}))},t.prototype.focus=function(){u.default.findDOMNode(this).focus()},t}(a.default.Component),r.propTypes={value:s.default.string,placeholder:s.default.string,maxLength:s.default.number,inputSize:s.default.func,onChange:s.default.func.isRequired,disabled:c.default.disabled,readOnly:c.default.readOnly},i);t.default=h,e.exports=t.default},64833:(e,t,n)=>{"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=p(n(67294)),o=p(n(45697)),a=p(n(72555)),s=p(n(13617)),l=p(n(94184)),u=p(n(43247)),c=n(91754),f=n(23205),d=n(20005);function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e,t){return e+"__option__"+t};t.default=(0,a.default)({displayName:"MultiselectTagList",mixins:[n(54338),n(43729)()],propTypes:{value:o.default.array,focused:o.default.number,valueField:o.default.string,textField:u.default.accessor,onDelete:o.default.func.isRequired,valueComponent:o.default.func,disabled:u.default.disabled.acceptsArray,readOnly:u.default.readOnly.acceptsArray},getDefaultProps:function(){return{ariaActiveDescendantKey:"taglist"}},componentDidUpdate:function(){var e=this.props.focused,t=h((0,c.instanceId)(this),e);this.ariaActiveDescendant(null==e||(0,d.isDisabledItem)(e,this.props)?null:t)},render:function(){var e=this,t=this.props,n=t.focused,o=t.value,a=t.textField,u=t.valueComponent,p=(0,c.instanceId)(this),g=s.default.omitOwnProps(this);return i.default.createElement("ul",r({},g,{role:"listbox",tabIndex:"-1",className:"rw-multiselect-taglist"}),o.map((function(t,r){var o=(0,d.isDisabledItem)(t,e.props),s=(0,d.isReadOnlyItem)(t,e.props),c=!o&&n===r,g=h(p,r);return i.default.createElement("li",{key:r,id:g,tabIndex:"-1",role:"option",className:(0,l.default)({"rw-state-focus":c,"rw-state-disabled":o,"rw-state-readonly":s})},u?i.default.createElement(u,{item:t}):(0,f.dataText)(t,a),i.default.createElement("span",{tabIndex:"-1",onClick:o||s?void 0:e._delete.bind(null,t),"aria-disabled":o,"aria-label":"Unselect",disabled:o},i.default.createElement("span",{className:"rw-tag-btn","aria-hidden":"true"},"×")))})))},_delete:function(e){this.props.onDelete(e)},remove:function(e){var t=this.props.value[e];!t||(0,d.isDisabledItem)(t,this.props)||(0,d.isReadOnlyItem)(t,this.props)||this.props.onDelete(t)},removeNext:function(){var e=this.props.value[this.props.value.length-1];!e||(0,d.isDisabledItem)(e,this.props)||(0,d.isReadOnlyItem)(e,this.props)||this.props.onDelete(e)},clear:function(){this.setState({focused:null})},first:function(){for(var e=0,t=this.props.value,n=t.length;e<n&&(0,d.isDisabledItem)(t[e],this.props);)e++;return e!==n?e:null},last:function(){for(var e=this.props.value,t=e.length-1;t>-1&&(0,d.isDisabledItem)(e[t],this.props);)t--;return t>=0?t:null},next:function(e){for(var t=e+1,n=this.props.value.length;t<n&&(0,d.isDisabledItem)(t,this.props);)t++;return null===e||t>=n?null:t},prev:function(e){var t=e,n=this.props.value;for(null!==t&&0!==t||(t=n.length),t--;t>-1&&(0,d.isDisabledItem)(n[t],this.props);)t--;return t>=0?t:null}}),e.exports=t.default},37791:(e,t,n)=>{"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=c(n(67294)),o=c(n(45697)),a=c(n(72555)),s=c(n(13617)),l=c(n(43247)),u=n(14462);function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){return u.number.getFormat("default",e.format)},d={value:o.default.number,editing:o.default.bool,placeholder:o.default.string,format:l.default.numberFormat,parse:o.default.func,culture:o.default.string,min:o.default.number,onChange:o.default.func.isRequired,onKeyDown:o.default.func};t.default=(0,a.default)({displayName:"NumberPickerInput",propTypes:d,getDefaultProps:function(){return{value:null,editing:!1}},getDefaultState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=e.value,n=u.number.decimalChar(null,e.culture),r=f(e);return{stringValue:""+(t=null==t||isNaN(e.value)?"":e.editing?(""+t).replace(".",n):u.number.format(t,r,e.culture))}},getInitialState:function(){return this.getDefaultState()},componentWillReceiveProps:function(e){this.setState(this.getDefaultState(e))},render:function(){var e=this.state.stringValue,t=s.default.omitOwnProps(this);return i.default.createElement("input",r({},t,{type:"text",className:"rw-input",onChange:this._change,onBlur:this._finish,"aria-disabled":this.props.disabled,"aria-readonly":this.props.readOnly,disabled:this.props.disabled,readOnly:this.props.readOnly,placeholder:this.props.placeholder,value:e}))},_change:function(e){var t=e.target.value,n=this._parse(e.target.value),r=this.isIntermediateValue(n,t);if(null==t||""===t.trim())return this.current(""),this.props.onChange(null);if(r)this.current(e.target.value);else if(n!==this.props.value)return this.props.onChange(n)},_finish:function(){var e=this.state.stringValue,t=this._parse(e);this.isIntermediateValue(t,e)&&(isNaN(t)&&(t=null),this.props.onChange(t))},_parse:function(e){var t=this.props.culture,n=u.number.decimalChar(null,t),r=this.props.parse;return r?r(e,t):(e=e.replace(n,"."),e=parseFloat(e))},isIntermediateValue:function(e,t){return!!(e<this.props.min||this.isSign(t)||this.isAtDelimiter(e,t)||this.isPaddedZeros(t))},isSign:function(e){return"-"===(e||"").trim()},isPaddedZeros:function(e){var t=u.number.decimalChar(null,this.props.culture),n=e.split(t),r=(n[0],n[1]);return!(!r||!r.match(/0+$/))},isAtDelimiter:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.props,i=u.number.decimalChar(null,r.culture),o=t.length-1;return!(t.length<1||(n=t[o])!==i||t.indexOf(n)!==o)},isValid:function(e){return"number"==typeof e&&!isNaN(e)&&e>=this.props.min},current:function(e){this.setState({stringValue:e})}}),e.exports=t.default},37786:(e,t,n)=>{"use strict";t.__esModule=!0;var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=x(n(67294)),a=x(n(45697)),s=x(n(72555)),l=x(n(94184)),u=x(n(13617)),c=x(n(86806)),f=x(n(43247)),d=x(n(33393)),p=n(27839),h=x(n(40127)),g=n(14462),m=x(n(37791)),y=x(n(80621)),v=n(20005),b=n(91754);function x(e){return e&&e.__esModule?e:{default:e}}function _(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var w={value:a.default.number,onChange:a.default.func,min:a.default.number,max:a.default.number,step:a.default.number,precision:a.default.number,culture:a.default.string,format:f.default.numberFormat,name:a.default.string,parse:a.default.func,autoFocus:a.default.bool,disabled:f.default.disabled,readOnly:f.default.readOnly,messages:a.default.shape({increment:a.default.string,decrement:a.default.string}),placeholder:a.default.string},k=(0,s.default)((_(r={displayName:"NumberPicker",mixins:[n(66145),n(54338),n(138),n(69793)({willHandle:function(e){e&&this.focus()}})],propTypes:w,getDefaultProps:function(){return{value:null,open:!1,min:-1/0,max:1/0,step:1,messages:{increment:"increment value",decrement:"decrement value"}}},getInitialState:function(){return{focused:!1,active:!1}},render:function(){var e=this,t=u.default.omitOwnProps(this),n=t.className,r=t.onKeyPress,a=t.onKeyUp,s=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["className","onKeyPress","onKeyUp"]),c=this.constrainValue(this.props.value);return o.default.createElement("div",i({},s,{ref:"element",onKeyDown:this._keyDown,onFocus:this.handleFocus,onBlur:this.handleBlur,tabIndex:"-1",className:(0,l.default)(n,"rw-numberpicker","rw-widget",{"rw-state-focus":this.state.focused,"rw-state-disabled":this.props.disabled,"rw-state-readonly":this.props.readOnly,"rw-rtl":this.isRtl()})}),o.default.createElement("span",{className:"rw-select"},o.default.createElement(y.default,{icon:"caret-up",onClick:this.handleFocus,label:this.props.messages.increment,active:this.state.active===p.directions.UP,disabled:c===this.props.max||this.props.disabled,onMouseUp:function(){return e.handleMouseUp(p.directions.UP)},onMouseDown:function(){return e.handleMouseDown(p.directions.UP)},onMouseLeave:function(){return e.handleMouseUp(p.directions.UP)}}),o.default.createElement(y.default,{icon:"caret-down",onClick:this.handleFocus,label:this.props.messages.decrement,active:this.state.active===p.directions.DOWN,disabled:c===this.props.min||this.props.disabled,onMouseUp:function(){return e.handleMouseUp(p.directions.DOWN)},onMouseDown:function(){return e.handleMouseDown(p.directions.DOWN)},onMouseLeave:function(){return e.handleMouseUp(p.directions.DOWN)}})),o.default.createElement(m.default,{ref:"input",tabIndex:s.tabIndex,placeholder:this.props.placeholder,value:c,autoFocus:this.props.autoFocus,editing:this.state.focused,format:this.props.format,parse:this.props.parse,name:this.props.name,role:"spinbutton",min:this.props.min,"aria-valuenow":c,"aria-valuemin":isFinite(this.props.min)?this.props.min:null,"aria-valuemax":isFinite(this.props.max)?this.props.max:null,"aria-disabled":this.props.disabled,"aria-readonly":this.props.readonly,disabled:this.props.disabled,readOnly:this.props.readOnly,onChange:this.change,onKeyPress:r,onKeyUp:a}))},handleMouseDown:function(e){var t=e===p.directions.UP?this.increment:this.decrement;this.setState({active:e});var n=t.call(this);e===p.directions.UP&&n===this.props.max||e===p.directions.DOWN&&n===this.props.min?this.handleMouseUp():this._cancelRepeater||(this._cancelRepeater=(0,h.default)(this.handleMouseDown.bind(null,e)))},handleMouseUp:function(){this.setState({active:!1}),this._cancelRepeater&&this._cancelRepeater(),this._cancelRepeater=null},_keyDown:function(e){var t=e.key;(0,b.notify)(this.props.onKeyDown,[e]),e.defaultPrevented||("End"===t&&isFinite(this.props.max)?this.change(this.props.max):"Home"===t&&isFinite(this.props.min)?this.change(this.props.min):"ArrowDown"===t?(e.preventDefault(),this.decrement()):"ArrowUp"===t&&(e.preventDefault(),this.increment()))},focus:function(){c.default.findDOMNode(this.refs.input).focus()},increment:function(){return this.step(this.props.step)},decrement:function(){return this.step(-this.props.step)},step:function(e){var t,n=(this.props.value||0)+e,r=null!=this.props.precision?this.props.precision:g.number.precision((t=this.props,g.number.getFormat("default",t.format)));return this.change(null!=r?function(e,t){return t=t||0,e=(""+e).split("e"),(e=+((e=(""+(e=Math.round(+(e[0]+"e"+(e[1]?+e[1]+t:t))))).split("e"))[0]+"e"+(e[1]?+e[1]-t:-t))).toFixed(t)}(n,r):n),n},change:function(e){e=this.constrainValue(e),this.props.value!==e&&(0,b.notify)(this.props.onChange,e)},constrainValue:function(e){var t=null==this.props.max?1/0:this.props.max,n=null==this.props.min?-1/0:this.props.min;return null==e||""===e?null:Math.max(Math.min(e,t),n)}},"handleMouseDown",[v.widgetEditable],Object.getOwnPropertyDescriptor(r,"handleMouseDown"),r),_(r,"handleMouseUp",[v.widgetEditable],Object.getOwnPropertyDescriptor(r,"handleMouseUp"),r),_(r,"_keyDown",[v.widgetEditable],Object.getOwnPropertyDescriptor(r,"_keyDown"),r),r));t.default=(0,d.default)(k,{value:"onChange"},["focus"]),e.exports=t.default},15052:(e,t,n)=>{"use strict";t.__esModule=!0;var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(67294),a=g(o),s=g(n(45697)),l=g(n(72555)),u=(g(n(13617)),g(n(28959))),c=g(n(8892)),f=g(n(38626)),d=g(n(19810)),p=g(n(94184)),h=g(n(86806));function g(e){return e&&e.__esModule?e:{default:e}}var m=(0,f.default)(d.default.animate.transform);function y(e,t){var n,r,i=d.default.animate.TRANSLATION_MAP;return i&&i[e]?((n={})[m]=i[e]+"("+t+")",n):((r={})[e]=t,r)}var v=((r={})[1]="hidden",r[0]="hidden",r[2]="hidden",r),b={open:s.default.bool,dropUp:s.default.bool,duration:s.default.number,onClosing:s.default.func,onOpening:s.default.func,onClose:s.default.func,onOpen:s.default.func};function x(e){var t=a.default.Children.map(e,(function(e){return e}));for(var n in t)return n}t.default=(0,l.default)({displayName:"Popup",propTypes:b,getInitialState:function(){return{initialRender:!0,status:this.props.open?2:1}},getDefaultProps:function(){return{duration:200,open:!1,onClosing:function(){},onOpening:function(){},onClose:function(){},onOpen:function(){}}},componentWillReceiveProps:function(e){this.setState({contentChanged:x(e.children)!==x(this.props.children)})},componentDidMount:function(){var e=this,t=2===this.state.status;h.default.batchedUpdates((function(){e.setState({initialRender:!1}),t&&e.open()}))},componentDidUpdate:function(e){var t=e.open&&!this.props.open,n=!e.open&&this.props.open,r=this.props.open,i=this.state.status;if(!!e.dropUp!=!!this.props.dropUp)return this.cancelNextCallback(),2===i&&this.open(),void(0===i&&this.close());if(n)this.open();else if(t)this.close();else if(r){var o=this.height(),a=Math.abs(o-this.state.height);(isNaN(a)||a>.1)&&this.setState({height:o})}},render:function(){var e=this.props,t=e.className,n=e.dropUp,r=e.style,o=this.state,s=o.status,l=o.height,u=v[s]||"visible",c=1===s?"none":"block";return a.default.createElement("div",{style:i({display:c,overflow:u,height:l},r),className:(0,p.default)(t,"rw-popup-container",n&&"rw-dropup",this.isTransitioning()&&"rw-popup-animating")},this.renderChildren())},renderChildren:function(){if(!this.props.children)return a.default.createElement("span",{className:"rw-popup rw-widget"});var e=this.getOffsetForStatus(this.state.status),t=a.default.Children.only(this.props.children);return(0,o.cloneElement)(t,{style:i({},t.props.style,e,{position:this.isTransitioning()?"absolute":void 0}),className:(0,p.default)(t.props.className,"rw-popup rw-widget")})},open:function(){var e=this;this.cancelNextCallback();var t=h.default.findDOMNode(this).firstChild,n=this.height();this.props.onOpening(),this.safeSetState({status:2,height:n},(function(){var n=e.getOffsetForStatus(3),r=e.props.duration;e.animate(t,n,r,"ease",(function(){e.safeSetState({status:3},(function(){e.props.onOpen()}))}))}))},close:function(){var e=this;this.cancelNextCallback();var t=h.default.findDOMNode(this).firstChild,n=this.height();this.props.onClosing(),this.safeSetState({status:0,height:n},(function(){var n=e.getOffsetForStatus(1),r=e.props.duration;e.animate(t,n,r,"ease",(function(){return e.safeSetState({status:1},(function(){e.props.onClose()}))}))}))},getOffsetForStatus:function(e){var t;if(this.state.initialRender)return{};var n=y("top",this.props.dropUp?"100%":"-100%"),r=y("top",0);return(t={},t[1]=n,t[0]=r,t[2]=n,t[3]=r,t)[e]||{}},height:function(){var e,t=h.default.findDOMNode(this),n=t.firstChild,r=parseInt((0,u.default)(n,"margin-top"),10)+parseInt((0,u.default)(n,"margin-bottom"),10),i=t.style.display;return t.style.display="block",e=((0,c.default)(n)||0)+(isNaN(r)?0:r),t.style.display=i,e},isTransitioning:function(){return 2===this.state.status||1===this.state.status},animate:function(e,t,n,r,i){this._transition=d.default.animate(e,t,n,r,this.setNextCallback(i))},cancelNextCallback:function(){this._transition&&this._transition.cancel&&(this._transition.cancel(),this._transition=null),this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},safeSetState:function(e,t){this.setState(e,this.setNextCallback(t))},setNextCallback:function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){return n=!1},this.nextCallback}}),e.exports=t.default},81849:(e,t,n)=>{"use strict";t.__esModule=!0;var r=f(n(67294)),i=f(n(45697)),o=f(n(72555)),a=f(n(28959)),s=f(n(8892)),l=f(n(71751)),u=f(n(86806)),c=f(n(13617));function f(e){return e&&e.__esModule?e:{default:e}}function d(e){return e&&e.key}t.default=(0,o.default)({displayName:"ReplaceTransitionGroup",propTypes:{component:i.default.oneOfType([i.default.element,i.default.string]),childFactory:i.default.func,onAnimating:i.default.func,onAnimate:i.default.func},getDefaultProps:function(){return{component:"span",childFactory:function(e){return e},onAnimating:c.default.noop,onAnimate:c.default.noop}},getInitialState:function(){return{children:c.default.splat(this.props.children)}},componentWillReceiveProps:function(e){var t,n=(t=e.children,r.default.Children.only(t)),i=this.state.children.slice(),o=i[1],a=i[0],s=a&&d(a)===d(n),l=o&&d(o)===d(n);a?!a||o||s?a&&o&&!s&&!l?(i.shift(),i.push(n),this.leaving=o,this.entering=n):s?i.splice(0,1,n):l&&i.splice(1,1,n):(i.push(n),this.leaving=a,this.entering=n):(i.push(n),this.entering=n),this.state.children[0]===i[0]&&this.state.children[1]===i[1]||this.setState({children:i})},componentWillMount:function(){this.animatingKeys={},this.leaving=null,this.entering=null},componentDidMount:function(){this._mounted=!0},componentWillUnmount:function(){this._mounted=!1},componentDidUpdate:function(){var e=this.entering,t=this.leaving,n=this.refs[d(e)||d(t)],r=u.default.findDOMNode(this),i=n&&u.default.findDOMNode(n);i&&(0,a.default)(r,{overflow:"hidden",height:(0,s.default)(i)+"px",width:(0,l.default)(i)+"px"}),this.props.onAnimating(),this.entering=null,this.leaving=null,e&&this.performEnter(d(e)),t&&this.performLeave(d(t))},performEnter:function(e){var t=this.refs[e];t&&(this.animatingKeys[e]=!0,t.componentWillEnter?t.componentWillEnter(this._handleDoneEntering.bind(this,e)):this._handleDoneEntering(e))},_tryFinish:function(){this.isTransitioning()||(this._mounted&&(0,a.default)(u.default.findDOMNode(this),{overflow:"visible",height:"",width:""}),this.props.onAnimate())},_handleDoneEntering:function(e){var t=this.refs[e];t&&t.componentDidEnter&&t.componentDidEnter(),delete this.animatingKeys[e],d(this.props.children)!==e&&this.performLeave(e),this._tryFinish()},performLeave:function(e){var t=this.refs[e];t&&(this.animatingKeys[e]=!0,t.componentWillLeave?t.componentWillLeave(this._handleDoneLeaving.bind(this,e)):this._handleDoneLeaving(e))},_handleDoneLeaving:function(e){var t=this.refs[e];t&&t.componentDidLeave&&t.componentDidLeave(),delete this.animatingKeys[e],d(this.props.children)===e?this.performEnter(e):this._mounted&&this.setState({children:this.state.children.filter((function(t){return d(t)!==e}))}),this._tryFinish()},isTransitioning:function(){return!!Object.keys(this.animatingKeys).length},render:function(){var e=this,t=this.props.component;return r.default.createElement(t,c.default.omitOwnProps(this),this.state.children.map((function(t){return e.props.childFactory(t,d(t))})))}}),e.exports=t.default},19809:(e,t,n)=>{"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=s(n(67294)),o=s(n(94184)),a=s(n(80621));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){return l(this,t),u(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["className"]);return i.default.createElement(a.default,r({},n,{className:(0,o.default)(t,"rw-select")}))},t}(i.default.Component);t.default=c,e.exports=t.default},24635:(e,t,n)=>{"use strict";t.__esModule=!0;var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=w(n(67294)),a=w(n(45697)),s=w(n(72555)),l=w(n(13617)),u=w(n(94184)),c=w(n(33393)),f=w(n(86806)),d=w(n(43247)),p=w(n(19607)),h=w(n(1086)),g=w(n(12765)),m=w(n(7145)),y=w(n(74452)),v=w(n(36979)),b=n(23205),x=n(20005),_=n(91754);function w(e){return e&&e.__esModule?e:{default:e}}function k(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var T=l.default.find,C={data:a.default.array,value:a.default.oneOfType([a.default.any,a.default.array]),onChange:a.default.func,onMove:a.default.func,multiple:a.default.bool,itemComponent:d.default.elementType,listComponent:d.default.elementType,valueField:a.default.string,textField:d.default.accessor,busy:a.default.bool,filter:a.default.string,delay:a.default.number,disabled:d.default.disabled.acceptsArray,readOnly:d.default.readOnly.acceptsArray,messages:a.default.shape({emptyList:a.default.string})},O=(0,s.default)((k(r={displayName:"SelectList",propTypes:C,mixins:[n(66145),n(71496),n(138),n(43729)(),n(69793)({didHandle:function(e){var t,n,r,i;e!==this.state.focused&&(e?e&&!this._clicking&&this.setState({focusedItem:(t=this.props,n=t.data,r=t.value,i=t.valueField,(r=l.default.splat(r)).length&&T(n,(function(e){return-1!==(0,b.dataIndexOf)(r,e,i)}))||null)}):this.setState({focusedItem:null}),this._clicking=!1)}})],getDefaultProps:function(){return{delay:250,value:[],data:[],ariaActiveDescendantKey:"selectlist",messages:{emptyList:"There are no items in this list"}}},getDefaultState:function(e){var t=e.data,n=e.value,r=e.valueField;return{dataItems:e.multiple&&l.default.splat(n).map((function(e){return(0,b.dataItem)(t,e,r)}))}},getInitialState:function(){var e,t=this.getDefaultState(this.props);return t.ListItem=(e=this,(0,s.default)({displayName:"SelectItem",handleChange:function(t){var n=this.props,r=n.disabled,i=n.readonly,o=n.dataItem;r||i||e.handleChange(o,t.target.checked)},handleMouseDown:function(){e._clicking=!0},render:function(){var t=this.props,n=t.children,r=t.disabled,a=t.readonly,s=t.dataItem,l=e.props,u=l.multiple,c=l.name,f=void 0===c?(0,_.instanceId)(e,"_name"):c,d=(0,x.contains)(s,e._values(),e.props.valueField),p=u?"checkbox":"radio";return o.default.createElement(g.default,i({},this.props,{role:p,"aria-checked":!!d}),o.default.createElement("label",{onMouseDown:this.handleMouseDown},o.default.createElement("input",{name:f,type:p,tabIndex:"-1",role:"presentation",checked:d,disabled:r||a,onChange:this.handleChange}),n))}})),t},componentWillReceiveProps:function(e){return this.setState(this.getDefaultState(e))},componentDidMount:function(){(0,y.default)(this.refs.list)},render:function(){var e=this.props,t=e.className,n=e.tabIndex,r=e.busy,a=e.groupBy,s=e.listComponent;s=s||a&&h.default||p.default;var c=l.default.omitOwnProps(this,s),f=l.default.pickProps(this.props,s),d=this.state,g=d.ListItem,y=d.focusedItem,v=d.focused,b=this._data();return y=v&&!(0,x.isDisabled)(this.props)&&!(0,x.isReadOnly)(this.props)&&y,o.default.createElement(m.default,i({},c,{onBlur:this.handleBlur,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,onKeyPress:this.handleKeyPress,disabled:(0,x.isDisabled)(this.props),readOnly:(0,x.isReadOnly)(this.props),role:"radiogroup","aria-busy":!!r,className:(0,u.default)(t,"rw-selectlist",r&&"rw-loading-mask")}),o.default.createElement(s,i({},f,{ref:"list",role:"radiogroup",tabIndex:n||"0",id:(0,_.instanceId)(this,"_listbox"),data:b,focused:y,optionComponent:g,itemComponent:this.props.itemComponent,onMove:this._scrollTo})))},_scrollTo:function(e,t){var n=this.props.onMove;n?n(e,t):(this._scrollCancel&&this._scrollCancel(),this._scrollCancel=(0,v.default)(e))},handleKeyDown:function(e){var t=this,n=e.key,r=this.props,i=r.valueField,o=r.multiple,a=this.refs.list,s=this.state.focusedItem,l=function(e){e&&t.handleChange(e,!o||!(0,x.contains)(e,t._values(),i))};(0,_.notify)(this.props.onKeyDown,[e]),e.defaultPrevented||("End"===n?(e.preventDefault(),s=a.last(),this.setState({focusedItem:s}),o||l(s)):"Home"===n?(e.preventDefault(),s=a.first(),this.setState({focusedItem:s}),o||l(s)):"Enter"===n||" "===n?(e.preventDefault(),l(s)):"ArrowDown"===n||"ArrowRight"===n?(e.preventDefault(),s=a.next(s),this.setState({focusedItem:s}),o||l(s)):"ArrowUp"===n||"ArrowLeft"===n?(e.preventDefault(),s=a.prev(s),this.setState({focusedItem:s}),o||l(s)):o&&65===e.keyCode&&e.ctrlKey&&(e.preventDefault(),this.selectAll()))},handleKeyPress:function(e){(0,_.notify)(this.props.onKeyPress,[e]),e.defaultPrevented||this.search(String.fromCharCode(e.which))},focus:function(){f.default.findDOMNode(this.refs.list).focus()},selectAll:function(){var e,t=this,n=this.props,r=n.disabled,i=n.readOnly,o=n.valueField,a=this.state.dataItems,s=this._data();r=r||i,r=Array.isArray(r)?r:[],e=r.filter((function(e){return!(0,x.contains)(e,a,o)})),(s=s.filter((function(t){return!(0,x.contains)(t,e,o)}))).length===a.length&&(s=(s=r.filter((function(e){return(0,x.contains)(e,a,o)}))).map((function(e){return(0,b.dataItem)(t._data(),e,o)}))),(0,_.notify)(this.props.onChange,[s])},handleChange:function(e,t){var n=this.props.multiple,r=this.state.dataItems;if(n=!!n,this.clearTimeout("focusedItem"),this.setState({focusedItem:e}),!n)return(0,_.notify)(this.props.onChange,t?e:null);r=t?r.concat(e):r.filter((function(t){return t!==e})),(0,_.notify)(this.props.onChange,[r||[]])},search:function(e){var t=this,n=((this._searchTerm||"")+e).toLowerCase(),r=this.refs.list,i=this.props.multiple;e&&(this._searchTerm=n,this.setTimeout("search",(function(){var e=r.next(t.state.focusedItem,n);t._searchTerm="",e&&(i?t.setState({focusedItem:e}):t.handleChange(e,!0))}),this.props.delay))},_data:function(){return this.props.data},_values:function(){return this.props.multiple?this.state.dataItems:this.props.value}},"handleKeyDown",[x.widgetEditable],Object.getOwnPropertyDescriptor(r,"handleKeyDown"),r),k(r,"handleKeyPress",[x.widgetEditable],Object.getOwnPropertyDescriptor(r,"handleKeyPress"),r),r));t.default=(0,c.default)(O,{value:"onChange"},["selectAll","focus"]),e.exports=t.default},96736:(e,t,n)=>{"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=p(n(67294)),o=p(n(45697)),a=p(n(72555)),s=p(n(81849)),l=p(n(86806)),u=p(n(28959)),c=p(n(71751)),f=p(n(19810)),d=p(n(13617));function p(e){return e&&e.__esModule?e:{default:e}}var h=(0,a.default)({displayName:"SlideChildGroup",propTypes:{direction:o.default.oneOf(["left","right"]),duration:o.default.number},componentWillEnter:function(e){var t=this,n=l.default.findDOMNode(this),r=(0,c.default)(n);r="left"===this.props.direction?r:-r,this.ORGINAL_POSITION=n.style.position,(0,u.default)(n,{position:"absolute",left:r+"px",top:0}),f.default.animate(n,{left:0},this.props.duration,(function(){(0,u.default)(n,{position:t.ORGINAL_POSITION,overflow:"hidden"}),t.ORGINAL_POSITION=null,e&&e()}))},componentWillLeave:function(e){var t=this,n=l.default.findDOMNode(this),r=(0,c.default)(n);r="left"===this.props.direction?-r:r,this.ORGINAL_POSITION=n.style.position,(0,u.default)(n,{position:"absolute",top:0,left:0}),f.default.animate(n,{left:r+"px"},this.props.duration,(function(){(0,u.default)(n,{position:t.ORGINAL_POSITION,overflow:"hidden"}),t.ORGINAL_POSITION=null,e&&e()}))},render:function(){return i.default.Children.only(this.props.children)}});e.exports=(0,a.default)({displayName:"exports",propTypes:{direction:o.default.oneOf(["left","right"]),duration:o.default.number},getDefaultProps:function(){return{direction:"left",duration:250}},_wrapChild:function(e,t){return i.default.createElement(h,{key:e.key,ref:t,direction:this.props.direction,duration:this.props.duration},e)},render:function(){var e=this.props,t=e.style,n=e.children;return t=r({},t,{position:"relative",overflow:"hidden"}),i.default.createElement(s.default,r({},d.default.omitOwnProps(this),{ref:"container",component:"div",childFactory:this._wrapChild,style:t}),n)}})},25450:(e,t,n)=>{"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=d(n(67294)),o=d(n(45697)),a=d(n(72555)),s=d(n(48030)),l=d(n(19607)),u=n(14462),c=d(n(43247)),f=d(n(13617));function d(e){return e&&e.__esModule?e:{default:e}}var p=function(e){return u.date.getFormat("time",e.format)};t.default=(0,a.default)({displayName:"TimeList",propTypes:{value:o.default.instanceOf(Date),step:o.default.number,min:o.default.instanceOf(Date),max:o.default.instanceOf(Date),currentDate:o.default.instanceOf(Date),itemComponent:c.default.elementType,format:c.default.dateFormat,onSelect:o.default.func,preserveDate:o.default.bool,culture:o.default.string,delay:o.default.number},mixins:[n(66145)],getDefaultProps:function(){return{step:30,onSelect:function(){},min:new Date(1900,0,1),max:new Date(2099,11,31),preserveDate:!0,delay:300,ariaActiveDescendantKey:"timelist"}},getInitialState:function(){var e=this._dates(this.props);return{focusedItem:this._closestDate(e,this.props.value||this.props.currentDate)||e[0],dates:e}},componentDidMount:function(){this._mounted=!0},componentWillUnmount:function(){this._mounted=!1},componentWillReceiveProps:function(e){var t=this._dates(e),n=this._closestDate(t,e.value||this.props.currentDate),r=!s.default.eq(e.value,this.props.value,"minutes"),i=!s.default.eq(e.min,this.props.min,"minutes"),o=!s.default.eq(e.max,this.props.max,"minutes"),a=this.props.format!==e.format||this.props.culture!==e.culture;(r||i||o||a)&&this.setState({focusedItem:n||t[0],dates:t})},render:function(){var e=this.props,t=e.value,n=e.onSelect,o=e.itemComponent,a=this.state.dates,s=this._closestDate(a,t);return i.default.createElement(l.default,r({},f.default.omitOwnProps(this),{ref:"list",data:a,textField:"label",valueField:"date",selected:s,onSelect:n,focused:this.state.focusedItem,itemComponent:o}))},_closestDate:function(e,t){var n,r=6e4*this.props.step,i=null;return t?(t=new Date(Math.floor(t.getTime()/r)*r),n=u.date.format(t,p(this.props),this.props.culture),e.some((function(e){if(e.label===n)return i=e})),i):null},_data:function(){return this.state.dates},_dates:function(e){for(var t=[],n=this._dateValues(e),r=n.min,i=s.default.date(r);s.default.date(r)===i&&s.default.lte(r,n.max);)t.push({date:r,label:u.date.format(r,p(e),e.culture)}),r=s.default.add(r,e.step||30,"minutes");return t},_dateValues:function(e){var t,n,r=e.value||e.currentDate||s.default.today(),i=e.preserveDate,o=e.min,a=e.max;return i?(t=s.default.today(),n=s.default.tomorrow(),{min:s.default.eq(r,o,"day")?s.default.merge(t,o,e.currentDate):t,max:s.default.eq(r,a,"day")?s.default.merge(t,a,e.currentDate):n}):(t=s.default.startOf(s.default.merge(new Date,o,e.currentDate),"minutes"),n=s.default.startOf(s.default.merge(new Date,a,e.currentDate),"minutes"),s.default.lte(n,t)&&s.default.gt(a,o,"day")&&(n=s.default.tomorrow()),{min:t,max:n})},handleKeyDown:function(e){var t=e.key,n=this.state.focusedItem,r=this.refs.list;"End"===t?(e.preventDefault(),this.setState({focusedItem:r.last()})):"Home"===t?(e.preventDefault(),this.setState({focusedItem:r.first()})):"Enter"===t?this.props.onSelect(n):"ArrowDown"===t?(e.preventDefault(),this.setState({focusedItem:r.next(n)})):"ArrowUp"===t&&(e.preventDefault(),this.setState({focusedItem:r.prev(n)}))},handleKeyPress:function(e){var t=this;e.preventDefault(),this.search(String.fromCharCode(e.which),(function(e){t._mounted&&t.setState({focusedItem:e})}))},scrollTo:function(){this.refs.list.move&&this.refs.list.move()},search:function(e,t){var n=this,r=((this._searchTerm||"")+e).toLowerCase();this._searchTerm=r,this.setTimeout("search",(function(){var e=n.refs.list.next(n.state.focusedItem,r);n._searchTerm="",e&&t(e)}),this.props.delay)}}),e.exports=t.default},7145:(e,t,n)=>{"use strict";t.__esModule=!0;var r,i,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=u(n(67294)),s=u(n(45697)),l=u(n(94184));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=(i=r=function(e){function t(){return c(this,t),f(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.tabIndex,r=e.open,i=e.dropUp,s=e.disabled,u=e.readOnly,c=e.focused,f=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["className","tabIndex","open","dropUp","disabled","readOnly","focused"]),d=!!this.context.isRtl,p="rw-open"+(i?"-up":"");return n=null!=n?n:"-1",a.default.createElement("div",o({},f,{tabIndex:n,className:(0,l.default)(t,"rw-widget",d&&"rw-rtl",r&&p,c&&"rw-state-focus",s&&"rw-state-disabled",u&&"rw-state-readonly")}))},t}(a.default.Component),r.propTypes={tabIndex:s.default.node,focused:s.default.bool,disabled:s.default.bool,readOnly:s.default.bool,open:s.default.bool,dropUp:s.default.bool},r.contextTypes={isRtl:s.default.bool},i);t.default=d,e.exports=t.default},17137:(e,t,n)=>{"use strict";t.__esModule=!0;var r=d(n(67294)),i=d(n(45697)),o=d(n(72555)),a=d(n(1562)),s=d(n(48030)),l=n(14462),u=d(n(13617)),c=d(n(43247)),f=n(91754);function d(e){return e&&e.__esModule?e:{default:e}}var p={culture:i.default.string,today:i.default.instanceOf(Date),value:i.default.instanceOf(Date),focused:i.default.instanceOf(Date),min:i.default.instanceOf(Date),max:i.default.instanceOf(Date),onChange:i.default.func.isRequired,monthFormat:c.default.dateFormat},h=function(e,t){return e+"__year_"+s.default.year(t)+"-"+s.default.month(t)},g=(0,o.default)({displayName:"YearView",mixins:[n(86402),n(43729)()],propTypes:p,componentDidUpdate:function(){var e=h((0,f.instanceId)(this),this.props.focused);this.ariaActiveDescendant(e)},render:function(){var e=this.props.focused,t=s.default.monthsInYear(s.default.year(e));return r.default.createElement(a.default,u.default.omitOwnProps(this),r.default.createElement("tbody",null,u.default.chunk(t,4).map(this.renderRow)))},renderRow:function(e,t){var n=this,i=this.props,o=i.focused,s=i.disabled,u=i.onChange,c=i.value,d=i.today,p=i.culture,g=i.min,m=i.max,y=(0,f.instanceId)(this),v=l.date.getFormat("header");return r.default.createElement(a.default.Row,{key:t},e.map((function(e,t){var i,f=l.date.format(e,v,p);return r.default.createElement(a.default.Cell,{key:t,id:h(y,e),label:f,date:e,now:d,min:g,max:m,unit:"month",onChange:u,focused:o,selected:c,disabled:s},l.date.format(e,(i=n.props,l.date.getFormat("month",i.monthFormat)),p))})))}});t.default=g,e.exports=t.default},77036:(e,t,n)=>{"use strict";t.__esModule=!0;var r,i=(r=n(19810))&&r.__esModule?r:{default:r},o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(14462));t.default={setAnimate:function(e){i.default.animate=e},setLocalizers:function(e){var t=e.date,n=e.number;t&&this.setDateLocalizer(t),n&&this.setNumberLocalizer(n)},setDateLocalizer:o.setDate,setNumberLocalizer:o.setNumber},e.exports=t.default},20:(e,t,n)=>{"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(77036);e.exports=r({},i,{DropdownList:n(72976),Combobox:n(41125),Calendar:n(85834),DateTimePicker:n(133),NumberPicker:n(37786),Multiselect:n(74190),SelectList:n(24635),utils:{ReplaceTransitionGroup:n(81849),SlideTransition:n(96736)}})},93054:(e,t,n)=>{"use strict";t.__esModule=!0,t.default=function(e){if("function"!=typeof e)throw new TypeError("You must provide a valid moment object");var t="function"==typeof e().locale?"locale":"lang";if(!e.localeData)throw new TypeError("The Moment localizer depends on the `localeData` api, please provide a moment object v2.2.0 or higher");function n(n,r,i){return n?e(r,i)[t](n):e(r,i)}var r={formats:{date:"L",time:"LT",default:"lll",header:"MMMM YYYY",footer:"LL",weekday:"dd",dayOfMonth:"DD",month:"MMM",year:"YYYY",decade:function(t,n,r){return r.format(t,"YYYY",n)+" - "+r.format(function(t){return e(t).add(10,"year").add(-1,"millisecond").toDate()}(t),"YYYY",n)},century:function(t,n,r){return r.format(t,"YYYY",n)+" - "+r.format(function(t){return e(t).add(100,"year").add(-1,"millisecond").toDate()}(t),"YYYY",n)}},firstOfWeek:function(t){return e.localeData(t).firstDayOfWeek()},parse:function(e,t,r){if(!e)return null;var i=n(r,e,t);return i.isValid()?i.toDate():null},format:function(e,t,r){return n(r,e).format(t)}};return i.default.setDateLocalizer(r),r};var r,i=(r=n(77036))&&r.__esModule?r:{default:r};e.exports=t.default},9886:(e,t,n)=>{"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e){var t=r({},l,e),n=t.decimal,s={formats:{default:"-#"+t.grouping+"##0"+n},parse:function(e,t,n){if(n){var r=(0,a.default)(n),i=r.negativeLeftSymbol&&-1!==e.indexOf(r.negativeLeftSymbol)||r.negativeRightSymbol&&-1!==e.indexOf(r.negativeRightSymbol),o=(e=e.replace(r.negativeLeftSymbol,"").replace(r.negativeRightSymbol,"").replace(r.prefix,"").replace(r.suffix,"")).split(r.decimalChar);r.integerSeperator&&(o[0]=o[0].replace(new RegExp("\\"+r.integerSeperator,"g"))),r.decimalsSeparator&&(o[1]=o[1].replace(new RegExp("\\"+r.decimalsSeparator,"g"))),""===o[1]&&o.pop(),e=+(e=o.join(".")),i&&(e*=-1)}else e=parseFloat(e);return isNaN(e)?null:e},format:function(e,t){return(0,o.default)(e,t)},decimalChar:function(e){return e&&(0,a.default)(e).decimalsSeparator||"."},precision:function(e){var t=(0,a.default)(e);return-1!==t.maxRight?t.maxRight:null}};return i.default.setNumberLocalizer(s),s};var i=s(n(77036)),o=s(n(95877)),a=s(n(69555));function s(e){return e&&e.__esModule?e:{default:e}}var l={decimal:".",grouping:","};e.exports=t.default},43729:(e,t,n)=>{"use strict";t.__esModule=!0,t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s;return{propTypes:{ariaActiveDescendantKey:r.default.string.isRequired},contextTypes:{activeDescendants:a},childContextTypes:{activeDescendants:a},ariaActiveDescendant:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props.ariaActiveDescendantKey,i=this.context.activeDescendants,o=this.__ariaActiveDescendantId;if(void 0===n)return o;void 0===(n=t.call(this,r,n))?n=o:(this.__ariaActiveDescendantId=n,l(n,e,this)),i&&i.reconcile(r,n)},getChildContext:function(){var e=this;return this._context||(this._context={activeDescendants:{reconcile:function(t,n){return e.ariaActiveDescendant(n,t)}}})}}};var r=o(n(45697)),i=o(n(86806));function o(e){return e&&e.__esModule?e:{default:e}}var a=r.default.shape({reconcile:r.default.func});function s(e,t){return t}function l(e,t,n){var r="function"==typeof t?t(n):"string"==typeof t?n.refs[t]:n;r&&(e?i.default.findDOMNode(r).setAttribute("aria-activedescendant",e):i.default.findDOMNode(r).removeAttribute("aria-activedescendant"))}e.exports=t.default},71496:(e,t,n)=>{"use strict";t.__esModule=!0;var r,i=(r=n(45697))&&r.__esModule?r:{default:r},o=n(73935);t.default={propTypes:{autoFocus:i.default.bool},componentDidMount:function(){this.props.autoFocus&&(this.focus?this.focus():(0,o.findDOMNode)(this).focus())}},e.exports=t.default},21625:(e,t,n)=>{"use strict";var r=s(n(45697)),i=s(n(72863)),o=s(n(43247)),a=n(23205);function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n){return t=n.props.caseSensitive?t:t.toLowerCase(),function(r){var i=(0,a.dataText)(r,n.props.textField);return n.props.caseSensitive||(i=i.toLowerCase()),e(i,t)}}e.exports={propTypes:{data:r.default.array,value:r.default.any,filter:o.default.filter,caseSensitive:r.default.bool,minLength:r.default.number},getDefaultProps:function(){return{caseSensitive:!1,minLength:1}},filterIndexOf:function(e,t){var n,r=-1,o="function"==typeof this.props.filter?this.props.filter:l(i.default[(n=this.props.filter,!0===n?"startsWith":n||"eq")],t,this);return!t||!t.trim()||this.props.filter&&t.length<(this.props.minLength||1)?-1:(e.every((function(e,n){return!o(e,t,n)||(r=n,!1)})),r)},filter:function(e,t){var n="string"==typeof this.props.filter?l(i.default[this.props.filter],t,this):this.props.filter;return!n||!t||!t.trim()||t.length<(this.props.minLength||1)?e:e.filter((function(e,r){return n(e,t,r)}))}}},69793:(e,t,n)=>{"use strict";t.__esModule=!0,t.default=function(e){var t,n=e.willHandle,r=e.didHandle;function l(e,t,o){var s=e.props[t?"onFocus":"onBlur"];s&&o&&o.persist(),n&&!1===n.call(e,t,o)||e.setTimeout("focus",(function(){a.default.batchedUpdates((function(){r&&r.call(e,t,o),t!==e.state.focused&&((0,i.notify)(s,o),e._mounted&&e.setState({focused:t}))}))}))}return s(t={handleBlur:function(e){l(this,!1,e)},handleFocus:function(e){l(this,!0,e)},componentDidMount:function(){this._mounted=!0},componentWillUnmount:function(){this._mounted=!1}},"handleBlur",[o.widgetEnabled],Object.getOwnPropertyDescriptor(t,"handleBlur"),t),s(t,"handleFocus",[o.widgetEnabled],Object.getOwnPropertyDescriptor(t,"handleFocus"),t),t};var r,i=n(91754),o=n(20005),a=(r=n(86806))&&r.__esModule?r:{default:r};function s(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}e.exports=t.default},51911:(e,t,n)=>{"use strict";t.__esModule=!0;var r=s(n(72863)),i=n(23205),o=s(n(43247)),a=n(20005);function s(e){return e&&e.__esModule?e:{default:e}}var l={},u=function(e,t){return(0,a.isDisabledItem)(e,t)||(0,a.isReadOnlyItem)(e,t)};function c(e,t,n){return e?(e=e.toLowerCase(),function(t){return r.default.startsWith((0,i.dataText)(t,n).toLowerCase(),e)}):function(){return!0}}t.default={propTypes:{textField:o.default.accessor,valueField:o.default.accessor,disabled:o.default.disabled.acceptsArray,readOnly:o.default.readOnly.acceptsArray},first:function(){return this.next(l)},last:function(){var e=this._data(),t=e[e.length-1];return u(t,this.props)?this.prev(t):t},prev:function(e,t){var n=this._data(),r=n.indexOf(e),i=c(t,0,this.props.textField);for((r<0||null==r)&&(r=0),r--;r>-1&&(u(n[r],this.props)||!i(n[r]));)r--;return r>=0?n[r]:e},next:function(e,t){for(var n=this._data(),r=n.indexOf(e)+1,i=n.length,o=c(t,0,this.props.textField);r<i&&(u(n[r],this.props)||!o(n[r]));)r++;return r<i?n[r]:e}},e.exports=t.default},2887:(e,t,n)=>{"use strict";t.__esModule=!0;var r,i=(r=n(36979))&&r.__esModule?r:{default:r};t.default={_scrollTo:function(e,t,n){var r,o=this._scrollState||(this._scrollState={}),a=this.props.onMove,s=o.visible,l=o.focused;o.visible=!(!t.offsetWidth||!t.offsetHeight),o.focused=n,r=l!==n,(o.visible&&!s||o.visible&&r)&&(a?a(e,t,n):(o.scrollCancel&&o.scrollCancel(),o.scrollCancel=(0,i.default)(e,t)))}},e.exports=t.default},54338:(e,t,n)=>{"use strict";var r=n(13617);e.exports={shouldComponentUpdate:function(e,t){return!r.isShallowEqual(this.props,e)||!r.isShallowEqual(this.state,t)}}},86402:(e,t,n)=>{"use strict";t.__esModule=!0;var r,i=(r=n(45697))&&r.__esModule?r:{default:r};t.default={contextTypes:{isRtl:i.default.bool},isRtl:function(){return!!this.context.isRtl}},e.exports=t.default},138:(e,t,n)=>{"use strict";var r=n(45697);e.exports={propTypes:{isRtl:r.bool},contextTypes:{isRtl:r.bool},childContextTypes:{isRtl:r.bool},getChildContext:function(){return{isRtl:!!(this.props.isRtl||this.context&&this.context.isRtl)}},isRtl:function(){return!!(this.props.isRtl||this.context&&this.context.isRtl)}}},66145:(e,t,n)=>{"use strict";var r=n(13617).has;e.exports={componentWillUnmount:function(){var e=this._timers||{};for(var t in this._unmounted=!0,e)r(e,t)&&this.clearTimeout(t)},clearTimeout:function(e){var t=this._timers||{};window.clearTimeout(t[e])},setTimeout:function(e,t,n){var r=this,i=this._timers||(this._timers=Object.create(null));this._unmounted||(this.clearTimeout(e),i[e]=window.setTimeout((function(){r._unmounted||t()}),n))}}},13617:e=>{"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=0,r=e.exports={has:i,result:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return"function"==typeof e?e.apply(void 0,n):e},isShallowEqual:function(e,n){return e===n||(e instanceof Date&&n instanceof Date?e.getTime()===n.getTime():"object"!==(void 0===e?"undefined":t(e))&&"object"!==(void 0===n?"undefined":t(n))?e===n:(void 0===e?"undefined":t(e))===(void 0===n?"undefined":t(n))&&function(e,t){if(null==e||null==t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var a=0;a<n.length;a++)if(!i(t,n[a])||!o(e[n[a]],t[n[a]]))return!1;return!0}(e,n))},transform:function(e,t,n){return r.each(e,t.bind(null,n=n||(Array.isArray(e)?[]:{}))),n},each:function(e,t,n){if(Array.isArray(e))return e.forEach(t,n);for(var r in e)i(e,r)&&t.call(n,e[r],r,e)},pick:function(e,t){return t=[].concat(t),r.transform(e,(function(e,n,r){-1!==t.indexOf(r)&&(e[r]=n)}),{})},pickProps:function(e,t){return r.pick(e,Object.keys(t.propTypes))},omit:function(e,t){return t=[].concat(t),r.transform(e,(function(e,n,r){-1===t.indexOf(r)&&(e[r]=n)}),{})},omitOwnProps:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var o=n.reduce((function(e,t){return e.concat(Object.keys(t.propTypes))}),Object.keys(e.constructor.propTypes));return r.omit(e.props,o)},find:function(e,t,n){var r;if(Array.isArray(e))return e.every((function(i,o){return!t.call(n,i,o,e)||(r=i,!1)})),r;for(var o in e)if(i(e,o)&&t.call(n,e[o],o,e))return e[o]},chunk:function(e,t){var n=0,r=e?e.length:0,i=[];for(t=Math.max(+t||1,1);n<r;)i.push(e.slice(n,n+=t));return i},splat:function(e){return null==e?[]:[].concat(e)},noop:function(){},uniqueId:function(e){return""+((null==e?"":e)+ ++n)}};function i(e,t){return!!e&&Object.prototype.hasOwnProperty.call(e,t)}function o(e,t){return e===t}},78600:(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e,t,n){if(void 0===t)return function(e){var t,n,r,i;if(void 0!==e.selectionStart)t=e.selectionStart,n=e.selectionEnd;else try{e.focus(),i=(r=e.createTextRange()).duplicate(),r.moveToBookmark(document.selection.createRange().getBookmark()),i.setEndPoint("EndToStart",r),n=(t=i.text.length)+r.text.length}catch(e){}return{start:t,end:n}}(e);!function(e,t,n){var r;try{void 0!==e.selectionStart?(e.focus(),e.setSelectionRange(t,n)):(e.focus(),(r=e.createTextRange()).collapse(!0),r.moveStart("character",t),r.moveEnd("character",n-t),r.select())}catch(e){}}(e,t,n)},e.exports=t.default},86806:(e,t,n)=>{"use strict";var r=o(n(67294)),i=o(n(73935));function o(e){return e&&e.__esModule?e:{default:e}}var a=r.default.version.split(".").map(parseFloat);e.exports={version:function(){return a},findDOMNode:function(e){return i.default.findDOMNode(e)},batchedUpdates:function(e){i.default.unstable_batchedUpdates(e)}}},19810:(e,t,n)=>{"use strict";t.__esModule=!0;var r,i=(r=n(88595))&&r.__esModule?r:{default:r};t.default={animate:i.default},e.exports=t.default},27839:(e,t)=>{"use strict";var n,r;t.__esModule=!0;var i={MONTH:"month",YEAR:"year",DECADE:"decade",CENTURY:"century"};t.directions={LEFT:"LEFT",RIGHT:"RIGHT",UP:"UP",DOWN:"DOWN"},t.datePopups={TIME:"time",CALENDAR:"calendar"},t.calendarViews=i,t.calendarViewHierarchy=((n={})[i.MONTH]=i.YEAR,n[i.YEAR]=i.DECADE,n[i.DECADE]=i.CENTURY,n),t.calendarViewUnits=((r={})[i.MONTH]="day",r[i.YEAR]=i.MONTH,r[i.DECADE]=i.YEAR,r[i.CENTURY]=i.DECADE,r)},23205:(e,t,n)=>{"use strict";t.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.dataValue=o,t.dataText=function(e,t){var n=function(e,t){var n=e;return"function"==typeof t?n=t(e):null==e?n=e:"string"==typeof t&&"object"===(void 0===e?"undefined":r(e))&&t in e&&(n=e[t]),n}(e,t);return null==n?"":n+""},t.dataIndexOf=a,t.valueMatcher=s,t.dataItem=function(e,t,n){var r=a(e,o(t,n),n);return-1!==r?e[r]:t};var i=n(13617);function o(e,t){return t&&e&&(0,i.has)(e,t)?e[t]:e}function a(e,t,n){for(var r=-1,i=e.length,o=function(e){return s(t,e,n)};++r<i;){var a=e[r];if(a===t||o(a))return r}return-1}function s(e,t,n){return(0,i.isShallowEqual)(o(e,n),o(t,n))}},48030:(e,t,n)=>{"use strict";t.__esModule=!0;var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=(r=n(7403))&&r.__esModule?r:{default:r},a=n(27839),s=n(14462),l=i({},o.default,{parse:function(e,t,n){return s.date.parse(e,t,n)},format:function(e,t,n){return s.date.format(e,t,n)},monthsInYear:function(e){var t=new Date(e,0,1);return[0,1,2,3,4,5,6,7,8,9,10,11].map((function(e){return l.month(t,e)}))},firstVisibleDay:function(e,t){var n=l.startOf(e,"month");return l.startOf(n,"week",s.date.startOfWeek(t))},lastVisibleDay:function(e,t){var n=l.endOf(e,"month");return l.endOf(n,"week",s.date.startOfWeek(t))},visibleDays:function(e,t){for(var n=l.firstVisibleDay(e,t),r=l.lastVisibleDay(e,t),i=[];l.lte(n,r,"day");)i.push(n),n=l.add(n,1,"day");return i},move:function(e,t,n,r,i){var o,s="month"===r,u=i===a.directions.UP||i===a.directions.DOWN,c=a.calendarViewUnits[r],f=s&&u?"week":a.calendarViewUnits[r],d=s||!u?1:4;return i!==a.directions.UP&&i!==a.directions.LEFT||(d*=-1),o=l.add(e,d,f),l.inRange(o,t,n,c)?o:e},merge:function(e,t,n){return null==t&&null==e?null:(null==t&&(t=n||new Date),null==e&&(e=n||new Date),e=l.startOf(e,"day"),e=l.hours(e,l.hours(t)),e=l.minutes(e,l.minutes(t)),e=l.seconds(e,l.seconds(t)),l.milliseconds(e,l.milliseconds(t)))},sameMonth:function(e,t){return l.eq(e,t,"month")},today:function(){return this.startOf(new Date,"day")},yesterday:function(){return this.add(this.startOf(new Date,"day"),-1,"day")},tomorrow:function(){return this.add(this.startOf(new Date,"day"),1,"day")}});t.default=l,e.exports=t.default},88595:(e,t,n)=>{"use strict";t.__esModule=!0,t.default=d;var r=l(n(47140)),i=l(n(28959)),o=l(n(92414)),a=l(n(80195)),s=l(n(28793));function l(e){return e&&e.__esModule?e:{default:e}}var u=Object.prototype.hasOwnProperty,c={},f={left:"translateX",right:"translateX",top:"translateY",bottom:"translateY"};function d(e,t,n,l,d){var p,h=[],g={target:e,currentTarget:e},m={},y="";for(var v in"function"==typeof l&&(d=l,l=null),s.default.end||(n=0),void 0===n&&(n=200),t)u.call(t,v)&&(/(top|bottom)/.test(v)?y+=f[v]+"("+t[v]+") ":(m[v]=t[v],h.push((0,r.default)(v))));return y&&(m[s.default.transform]=y,h.push(s.default.transform)),n>0&&(m[s.default.property]=h.join(", "),m[s.default.duration]=n/1e3+"s",m[s.default.delay]="0s",m[s.default.timing]=l||"linear",(0,o.default)(e,s.default.end,b),setTimeout((function(){p||b(g)}),n+500)),e.clientLeft,(0,i.default)(e,m),n<=0&&setTimeout(b.bind(null,g),0),{cancel:function(){p||(p=!0,(0,a.default)(e,s.default.end,b),(0,i.default)(e,c))}};function b(t){t.target===t.currentTarget&&(p=!0,(0,a.default)(t.target,s.default.end,b),(0,i.default)(e,c),d&&d.call(this))}}c[s.default.property]=c[s.default.duration]=c[s.default.delay]=c[s.default.timing]="",d.endEvent=s.default.end,d.transform=s.default.transform,d.TRANSLATION_MAP=f,e.exports=t.default},72863:(e,t)=>{"use strict";t.__esModule=!0,t.default={eq:function(e,t){return e===t},neq:function(e,t){return e!==t},gt:function(e,t){return e>t},gte:function(e,t){return e>=t},lt:function(e,t){return e<t},lte:function(e,t){return e<=t},contains:function(e,t){return-1!==e.indexOf(t)},startsWith:function(e,t){return 0===e.lastIndexOf(t,0)},endsWith:function(e,t){var n=e.length-t.length,r=e.indexOf(t,n);return-1!==r&&r===n}},e.exports=t.default},20005:(e,t,n)=>{"use strict";t.__esModule=!0,t.widgetEditable=t.widgetEnabled=void 0,t.isDisabled=i,t.isReadOnly=o,t.isDisabledItem=a,t.isReadOnlyItem=s,t.contains=l,t.move=function(e,t,n,r){for(var i=function(e){return a(e,n)||s(e,n)},o="next"===e?r.last():r.first(),l=r[e](t);l!==o&&i(l);)l=r[e](l);return i(l)?t:l};var r=n(23205);function i(e){return!0===e.disabled||"disabled"===e.disabled}function o(e){return!0===e.readOnly||"readOnly"===e.readOnly}function a(e,t){return i(t)||l(e,t.disabled,t.valueField)}function s(e,t){return o(t)||l(e,t.readOnly,t.valueField)}function l(e,t,n){return Array.isArray(t)?t.some((function(t){return(0,r.valueMatcher)(e,t,n)})):(0,r.valueMatcher)(e,t,n)}function u(e){function t(t){return function(){for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];if(!(i(this.props)||!e&&o(this.props)))return t.apply(this,r)}}return function(e,n,r){if(r.initializer){var i=r.initializer;r.initializer=function(){return t(i())}}else r.value=t(r.value);return r}}t.widgetEnabled=u(!0),t.widgetEditable=u(!1)},14462:(e,t,n)=>{"use strict";t.__esModule=!0,t.date=t.number=t.setNumber=void 0,t.setDate=function(e){(0,r.default)("function"==typeof e.format,"date localizer `format(..)` must be a function"),(0,r.default)("function"==typeof e.parse,"date localizer `parse(..)` must be a function"),(0,r.default)("function"==typeof e.firstOfWeek,"date localizer `firstOfWeek(..)` must be a function"),l(0,e.formats),c={formats:e.formats,propType:e.propType||a,startOfWeek:e.firstOfWeek,format:function(t,n,r){return s(this,e.format,t,n,r)},parse:function(t,n){var i=e.parse.call(this,t,n);return(0,r.default)(null==i||i instanceof Date&&!isNaN(i.getTime()),"date localizer `parse(..)` must return a valid Date, null, or undefined"),i}}};var r=o(n(41143)),i=(n(13617),o(n(45697)));function o(e){return e&&e.__esModule?e:{default:e}}var a=i.default.oneOfType([i.default.string,i.default.func]);function s(e,t,n,i,o){var a="function"==typeof i?i(n,o,e):t.call(e,n,i,o);return(0,r.default)(null==a||"string"==typeof a,"`localizer format(..)` must return a string, null, or undefined"),a}function l(e,t){}var u={};t.setNumber=function(e){var t=e.format,n=e.parse,i=e.decimalChar,o=void 0===i?function(){return"."}:i,l=e.precision,c=void 0===l?function(){return null}:l,f=e.formats,d=e.propType;(0,r.default)("function"==typeof t,"number localizer `format(..)` must be a function"),(0,r.default)("function"==typeof n,"number localizer `parse(..)` must be a function"),f.editFormat=f.editFormat||function(e){return parseFloat(e)},u={formats:f,precision:c,decimalChar:o,propType:d||a,format:function(e,n,r){return s(this,t,e,n,r)},parse:function(e,t,i){var o=n.call(this,e,t,i);return(0,r.default)(null==o||"number"==typeof o,"number localizer `parse(..)` must return a number, null, or undefined"),o}}};var c={},f=t.number={propType:function(){var e;return(e=u).propType.apply(e,arguments)},getFormat:function(e,t){return t||u.formats[e]},parse:function(){var e;return(e=u).parse.apply(e,arguments)},format:function(){var e;return(e=u).format.apply(e,arguments)},decimalChar:function(){var e;return(e=u).decimalChar.apply(e,arguments)},precision:function(){var e;return(e=u).precision.apply(e,arguments)}},d=t.date={propType:function(){var e;return(e=c).propType.apply(e,arguments)},getFormat:function(e,t){return t||c.formats[e]},parse:function(){var e;return(e=c).parse.apply(e,arguments)},format:function(){var e;return(e=c).format.apply(e,arguments)},startOfWeek:function(){var e;return(e=c).startOfWeek.apply(e,arguments)}};t.default={number:f,date:d}},43247:(e,t,n)=>{"use strict";var r=s(n(67294)),i=s(n(45697)),o=s(n(14462)),a=s(n(72863));function s(e){return e&&e.__esModule?e:{default:e}}var l=Object.keys(a.default).filter((function(e){return"filter"!==e}));function u(e){var t=[i.default.bool,i.default.oneOf([e])],n=i.default.oneOfType(t);return n.acceptsArray=i.default.oneOfType(t.concat(i.default.array)),n}function c(e){function t(t,n,r,i){i=i||"<<anonymous>>";for(var o=arguments.length,a=Array(o>4?o-4:0),s=4;s<o;s++)a[s-4]=arguments[s];return null!=n[r]?e.apply(void 0,[n,r,i].concat(a)):t?new Error("Required prop `"+r+"` was not specified in  `"+i+"`."):void 0}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}e.exports={elementType:c((function(e,t,n){if("function"!=typeof e[t]){if(r.default.isValidElement(e[t]))return new Error("Invalid prop `"+t+"` specified in  `"+n+"`. Expected an Element `type`, not an actual Element");if("string"!=typeof e[t])return new Error("Invalid prop `"+t+"` specified in  `"+n+"`. Expected an Element `type` such as a tag name or return value of createReactClass(...)")}return null})),numberFormat:c((function(){var e;return(e=o.default.number).propType.apply(e,arguments)})),dateFormat:c((function(){var e;return(e=o.default.date).propType.apply(e,arguments)})),disabled:u("disabled"),readOnly:u("readOnly"),accessor:i.default.oneOfType([i.default.string,i.default.func]),message:i.default.oneOfType([i.default.node,i.default.string]),filter:i.default.oneOfType([i.default.func,i.default.bool,i.default.oneOf(l)])}},40127:(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e){var t,n=function(){return clearInterval(t)};return t=setInterval((function(){n(),t=setInterval(e,35),e()}),500),n},e.exports=t.default},74452:(e,t,n)=>{"use strict";var r;t.__esModule=!0,t.default=function(e){},(r=n(41143))&&r.__esModule,e.exports=t.default},91754:(e,t,n)=>{"use strict";t.__esModule=!0,t.notify=function(e,t){e&&e.apply(null,[].concat(t))},t.instanceId=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.__id||(e.__id=(0,r.uniqueId)("rw_")),(e.props.id||e.__id)+t},t.isFirstFocusedRender=function(e){return e._firstFocus||e.state.focused&&(e._firstFocus=!0)};var r=n(13617)},29342:(e,t,n)=>{"use strict";var r=n(72373);t.__esModule=!0,t.default=function(){var e=void 0===arguments[0]?document:arguments[0];try{return e.activeElement}catch(e){}};var i=n(58453);r.interopRequireDefault(i),e.exports=t.default},80195:(e,t,n)=>{"use strict";var r=function(){};n(28384)&&(r=document.addEventListener?function(e,t,n,r){return e.removeEventListener(t,n,r||!1)}:document.attachEvent?function(e,t,n){return e.detachEvent("on"+t,n)}:void 0),e.exports=r},92414:(e,t,n)=>{"use strict";var r=function(){};n(28384)&&(r=document.addEventListener?function(e,t,n,r){return e.addEventListener(t,n,r||!1)}:document.attachEvent?function(e,t,n){return e.attachEvent("on"+t,n)}:void 0),e.exports=r},58453:(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e){return e&&e.ownerDocument||document},e.exports=t.default},48398:(e,t,n)=>{"use strict";var r,i=(r=n(28384)&&document.documentElement)&&r.contains?function(e,t){return e.contains(t)}:r&&r.compareDocumentPosition?function(e,t){return e===t||!!(16&e.compareDocumentPosition(t))}:function(e,t){if(t)do{if(t===e)return!0}while(t=t.parentNode);return!1};e.exports=i},8892:(e,t,n)=>{"use strict";var r=n(74511),i=n(39601);e.exports=function(e,t){var n=i(e);return n?n.innerHeight:t?e.clientHeight:r(e).height}},39601:e=>{"use strict";e.exports=function(e){return e===e.window?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}},74511:(e,t,n)=>{"use strict";var r=n(48398),i=n(39601),o=n(58453);e.exports=function(e){var t=o(e),n=i(t),a=t&&t.documentElement,s={top:0,left:0,height:0,width:0};if(t)return r(a,e)?(void 0!==e.getBoundingClientRect&&(s=e.getBoundingClientRect()),(s.width||s.height)&&(s={top:s.top+(n.pageYOffset||a.scrollTop)-(a.clientTop||0),left:s.left+(n.pageXOffset||a.scrollLeft)-(a.clientLeft||0),width:(null==s.width?e.offsetWidth:s.width)||0,height:(null==s.height?e.offsetHeight:s.height)||0}),s):s}},56880:(e,t,n)=>{"use strict";var r=n(28959),i=n(8892);e.exports=function(e){var t=r(e,"position"),n="absolute"===t,o=e.ownerDocument;if("fixed"===t)return o||document;for(;(e=e.parentNode)&&9!==e.nodeType;){var a=n&&"static"===r(e,"position"),s=r(e,"overflow")+r(e,"overflow-y")+r(e,"overflow-x");if(!a&&/(auto|scroll)/.test(s)&&i(e)<e.scrollHeight)return e}return document}},55915:(e,t,n)=>{"use strict";var r=n(39601);e.exports=function(e,t){var n=r(e);if(void 0===t)return n?"pageYOffset"in n?n.pageYOffset:n.document.documentElement.scrollTop:e.scrollTop;n?n.scrollTo("pageXOffset"in n?n.pageXOffset:n.document.documentElement.scrollLeft,t):e.scrollTop=t}},71751:(e,t,n)=>{"use strict";var r=n(74511),i=n(39601);e.exports=function(e,t){var n=i(e);return n?n.innerWidth:t?e.clientWidth:r(e).width}},29213:(e,t,n)=>{"use strict";var r=n(72373),i=n(38626),o=r.interopRequireDefault(i),a=/^(top|right|bottom|left)$/,s=/^([+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|))(?!px)[a-z%]+$/i;e.exports=function(e){if(!e)throw new TypeError("No Element passed to `getComputedStyle()`");var t=e.ownerDocument;return"defaultView"in t?t.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):window.getComputedStyle(e,null):{getPropertyValue:function(t){var n=e.style;"float"==(t=(0,o.default)(t))&&(t="styleFloat");var r=e.currentStyle[t]||null;if(null==r&&n&&n[t]&&(r=n[t]),s.test(r)&&!a.test(t)){var i=n.left,l=e.runtimeStyle,u=l&&l.left;u&&(l.left=e.currentStyle.left),n.left="fontSize"===t?"1em":r,r=n.pixelLeft+"px",n.left=i,u&&(l.left=u)}return r}}}},28959:(e,t,n)=>{"use strict";var r=n(38626),i=n(2564),o=n(29213),a=n(2714),s=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var l="",u=t;if("string"==typeof t){if(void 0===n)return e.style[r(t)]||o(e).getPropertyValue(i(t));(u={})[t]=n}for(var c in u)s.call(u,c)&&(u[c]||0===u[c]?l+=i(c)+":"+u[c]+";":a(e,i(c)));e.style.cssText+=";"+l}},2714:e=>{"use strict";e.exports=function(e,t){return"removeProperty"in e.style?e.style.removeProperty(t):e.style.removeAttribute(t)}},28793:(e,t,n)=>{"use strict";var r,i,o,a,s=n(28384),l=Object.prototype.hasOwnProperty,u="transform",c={};s&&(u=(c=function(){var e,t="",n={O:"otransitionend",Moz:"transitionend",Webkit:"webkitTransitionEnd",ms:"MSTransitionEnd"},r=document.createElement("div");for(var i in n)if(l.call(n,i)&&void 0!==r.style[i+"TransitionProperty"]){t="-"+i.toLowerCase()+"-",e=n[i];break}return e||void 0===r.style.transitionProperty||(e="transitionend"),{end:e,prefix:t}}()).prefix+u,o=c.prefix+"transition-property",i=c.prefix+"transition-duration",a=c.prefix+"transition-delay",r=c.prefix+"transition-timing-function"),e.exports={transform:u,end:c.end,property:o,timing:r,delay:a,duration:i}},72373:function(e,t){var n,r;void 0===(r="function"==typeof(n=function(e){var t=e;t.interopRequireDefault=function(e){return e&&e.__esModule?e:{default:e}},t._extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}})?n.apply(t,[t]):n)||(e.exports=r)},47025:e=>{"use strict";var t=/-(.)/g;e.exports=function(e){return e.replace(t,(function(e,t){return t.toUpperCase()}))}},38626:(e,t,n)=>{"use strict";var r=n(47025),i=/^-ms-/;e.exports=function(e){return r(e.replace(i,"ms-"))}},47140:e=>{"use strict";var t=/([A-Z])/g;e.exports=function(e){return e.replace(t,"-$1").toLowerCase()}},2564:(e,t,n)=>{"use strict";var r=n(47140),i=/^ms-/;e.exports=function(e){return r(e).replace(i,"-ms-")}},28384:e=>{"use strict";e.exports=!("undefined"==typeof window||!window.document||!window.document.createElement)},50446:(e,t,n)=>{"use strict";var r,i=n(28384),o="clearTimeout",a=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-l)),r=setTimeout(e,n);return l=t,r},s=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};i&&["","webkit","moz","o","ms"].some((function(e){var t=s(e,"request");if(t in window)return o=s(e,"cancel"),a=function(e){return window[t](e)}}));var l=(new Date).getTime();(r=function(e){return a(e)}).cancel=function(e){return window[o](e)},e.exports=r},36979:(e,t,n)=>{"use strict";var r=n(74511),i=n(8892),o=n(56880),a=n(55915),s=n(50446),l=n(39601);e.exports=function(e,t){var n,u,c,f,d,p,h,g=r(e),m={top:0,left:0};if(e){n=t||o(e),l(n),u=a(n),p=i(n,!0),(f=l(n))||(m=r(n)),d=(g={top:g.top-m.top,left:g.left-m.left,height:g.height,width:g.width}).height,h=(c=g.top+(f?0:u))+d,u=u>c?c:h>u+p?h-p:u;var y=s((function(){return a(n,u)}));return function(){return s.cancel(y)}}}},67544:e=>{"use strict";e.exports=function(){}},46362:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTickValuesFixedDomain=t.getTickValues=t.getNiceTickValues=void 0;var r,i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=n(17323),a=(r=n(14593))&&r.__esModule?r:{default:r};function s(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function l(e){var t=i(e,2),n=t[0],r=t[1],o=n,a=r;return n>r&&(o=r,a=n),[o,a]}function u(e,t,n){if(e<=0)return 0;var r=a.default.getDigitCount(e),i=e/Math.pow(10,r),o=1!==r?a.default.multiply(Math.ceil(i/.05)+n,.05):a.default.multiply(Math.ceil(i/.1)+n,.1),s=a.default.multiply(o,Math.pow(10,r));return t?s:Math.ceil(s)}function c(e,t,n){var r=a.default.isFloat(e),i=1,s=e;if(r&&n){var l=Math.abs(e);l<1?(i=Math.pow(10,a.default.getDigitCount(e)-1),s=a.default.multiply(Math.floor(e/i),i)):l>1&&(s=Math.floor(e))}else 0===e?s=Math.floor((t-1)/2):n||(s=Math.floor(e));var u=Math.floor((t-1)/2);return(0,o.compose)((0,o.map)((function(e){return a.default.sum(s,a.default.multiply(e-u,i))})),o.range)(0,t)}function f(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=u((t-e)/(n-1),r,i),s=void 0;e<=0&&t>=0?s=0:(s=a.default.divide(a.default.sum(e,t),2),s=a.default.minus(s,a.default.modulo(s,o)));var l=Math.ceil((s-e)/o),c=Math.ceil((t-s)/o),d=l+c+1;return d>n?f(e,t,n,r,i+1):(d<n&&(c=t>0?c+(n-d):c,l=t>0?l:l+(n-d)),{step:o,tickMin:a.default.minus(s,a.default.multiply(l,o)),tickMax:a.default.sum(s,a.default.multiply(c,o))})}t.getNiceTickValues=(0,o.memoize)((function(e){var t=i(e,2),n=t[0],r=t[1],s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,u=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],d=Math.max(s,2),p=l([n,r]),h=i(p,2),g=h[0],m=h[1];if(g===m)return c(g,s,u);var y=f(g,m,d,u),v=y.step,b=y.tickMin,x=y.tickMax,_=a.default.rangeStep(b,x+.1*v,v);return n>r?(0,o.reverse)(_):_})),t.getTickValues=(0,o.memoize)((function(e){var t=i(e,2),n=t[0],r=t[1],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],f=Math.max(a,2),d=l([n,r]),p=i(d,2),h=p[0],g=p[1];if(h===g)return c(h,a,s);var m=u((g-h)/(f-1),s,0),y=(0,o.compose)((0,o.map)((function(e){return h+e*m})),o.range),v=y(0,f).filter((function(e){return e>=h&&e<=g}));return n>r?(0,o.reverse)(v):v})),t.getTickValuesFixedDomain=(0,o.memoize)((function(e,t){var n=i(e,2),r=n[0],c=n[1],f=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],d=l([r,c]),p=i(d,2),h=p[0],g=p[1];if(h===g)return[h];var m=Math.max(t,2),y=u((g-h)/(m-1),f,0),v=[].concat(s(a.default.rangeStep(h,g-.99*y,y)),[g]);return r>c?(0,o.reverse)(v):v}))},38527:(e,t,n)=>{"use strict";var r=n(46362);Object.defineProperty(t,"Zj",{enumerable:!0,get:function(){return r.getNiceTickValues}}),Object.defineProperty(t,"wZ",{enumerable:!0,get:function(){return r.getTickValuesFixedDomain}})},14593:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17323);function i(e){var t=(e?""+e:"").split(".");return t.length>1?t[1].length:0}function o(e,t){var n=parseInt((""+e).replace(".",""),10),r=parseInt((""+t).replace(".",""),10),o=i(e)+i(t);return n*r/Math.pow(10,o)}function a(e,t){var n=Math.max(i(e),i(t));return(o(e,n=Math.pow(10,n))+o(t,n))/n}function s(e,t){return a(e,-t)}var l=(0,r.curry)((function(e,t,n){var r=+e;return r+n*(+t-r)})),u=(0,r.curry)((function(e,t,n){var r=t-+e;return(n-e)/(r||1/0)})),c=(0,r.curry)((function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))}));t.default={rangeStep:function(e,t,n){for(var r=e,i=[];r<t;)i.push(r),r=a(r,n);return i},isFloat:function(e){return/^([+-]?)\d*\.\d+$/.test(e)},getDigitCount:function(e){var t=Math.abs(e);return 0===e?1:t<1?Math.floor(Math.log(t)/Math.log(10))+1:(""+e).split(".")[0].length},getDecimalDigitCount:i,sum:a,minus:s,multiply:o,divide:function(e,t){var n=i(e),r=i(t);return parseInt((""+e).replace(".",""),10)/parseInt((""+t).replace(".",""),10)*Math.pow(10,r-n)},modulo:function(e,t){var n=Math.abs(t);return t<=0?e:s(e,o(n,Math.floor(e/n)))},interpolateNumber:l,uninterpolateNumber:u,uninterpolateTruncation:c}},17323:(e,t)=>{"use strict";function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e},i=t.PLACE_HOLDER={"@@functional/placeholder":!0},o=function(e){return e===i},a=function(e){return function t(){return 0===arguments.length||1===arguments.length&&o(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},s=function e(t,r){return 1===t?r:a((function(){for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=l.filter((function(e){return e!==i})).length;return c>=t?r.apply(void 0,l):e(t-c,a((function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];var a=l.map((function(e){return o(e)?t.shift():e}));return r.apply(void 0,n(a).concat(t))})))}))},l=t.curry=function(e){return s(e.length,e)};t.range=function(e,t){for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},t.map=l((function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map((function(e){return t[e]})).map(e)})),t.compose=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return r;var i=t.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce((function(e,t){return t(e)}),o.apply(void 0,arguments))}},t.reverse=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},t.memoize=function(e){var t=null,n=null;return function(){for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return t&&i.every((function(e,n){return e===t[n]}))?n:(t=i,n=e.apply(void 0,i))}}},80798:(e,t,n)=>{"use strict";n.d(t,{q3:()=>df,x1:()=>Af,wW:()=>up,u:()=>As,Kc:()=>od,B2:()=>dd});var r={};if(n.r(r),n.d(r,{interpolateCool:()=>Oi,interpolateCubehelixDefault:()=>Ti,interpolateInferno:()=>Di,interpolateMagma:()=>Pi,interpolatePlasma:()=>Li,interpolateRainbow:()=>Ai,interpolateViridis:()=>Ei,interpolateWarm:()=>Ci,scaleBand:()=>Q,scaleIdentity:()=>bt,scaleImplicit:()=>$,scaleLinear:()=>vt,scaleLog:()=>St,scaleOrdinal:()=>J,scalePoint:()=>te,scalePow:()=>Mt,scaleQuantile:()=>Pt,scaleQuantize:()=>Dt,scaleSequential:()=>Ri,scaleSqrt:()=>Et,scaleThreshold:()=>Lt,scaleTime:()=>Xr,scaleUtc:()=>ri,schemeCategory10:()=>oi,schemeCategory20:()=>li,schemeCategory20b:()=>ai,schemeCategory20c:()=>si}),n(45516),!Object.setPrototypeOf&&!{}.__proto__){var i=Object.getPrototypeOf;Object.getPrototypeOf=function(e){return e.__proto__?e.__proto__:i.call(Object,e)}}var o=n(67294),a=n.n(o),s=n(49683),l=n.n(s),u=n(94184),c=n.n(u),f=n(82920),d=n.n(f),p=n(37153),h=n.n(p),g=n(33716),m=n.n(g),y=n(72300),v=n.n(y),b=n(80643),x=n.n(b),_=n(57546),w=n.n(_),k=n(33398),T=n.n(k),C=n(33941),O=n.n(C),S=n(77263),A=n.n(S);function M(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function E(e){var t;return 1===e.length&&(t=e,e=function(e,n){return M(t(e),n)}),{left:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}}var P=E(M),D=P.right;P.left;const L=D;var R=Array.prototype,I=(R.slice,R.map,Math.sqrt(50)),N=Math.sqrt(10),j=Math.sqrt(2);function z(e,t,n){var r,i,o,a,s=-1;if(n=+n,(e=+e)==(t=+t)&&n>0)return[e];if((r=t<e)&&(i=e,e=t,t=i),0===(a=function(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=I?10:o>=N?5:o>=j?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=I?10:o>=N?5:o>=j?2:1)}(e,t,n))||!isFinite(a))return[];if(a>0)for(e=Math.ceil(e/a),t=Math.floor(t/a),o=new Array(i=Math.ceil(t-e+1));++s<i;)o[s]=(e+s)*a;else for(e=Math.floor(e*a),t=Math.ceil(t*a),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(e-s)/a;return r&&o.reverse(),o}function q(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=I?i*=10:o>=N?i*=5:o>=j&&(i*=2),t<e?-i:i}function F(e){return null===e?NaN:+e}function B(e,t,n){if(null==n&&(n=F),r=e.length){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e);return a+(+n(e[o+1],o+1,e)-a)*(i-o)}}var H="$";function U(){}function V(e,t){var n=new U;if(e instanceof U)e.each((function(e,t){n.set(t,e)}));else if(Array.isArray(e)){var r,i=-1,o=e.length;if(null==t)for(;++i<o;)n.set(i,e[i]);else for(;++i<o;)n.set(t(r=e[i],i,e),r)}else if(e)for(var a in e)n.set(a,e[a]);return n}U.prototype=V.prototype={constructor:U,has:function(e){return H+e in this},get:function(e){return this[H+e]},set:function(e,t){return this[H+e]=t,this},remove:function(e){var t=H+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]===H&&delete this[e]},keys:function(){var e=[];for(var t in this)t[0]===H&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)t[0]===H&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)t[0]===H&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)t[0]===H&&++e;return e},empty:function(){for(var e in this)if(e[0]===H)return!1;return!0},each:function(e){for(var t in this)t[0]===H&&e(this[t],t.slice(1),this)}};const W=V;function G(){}var K=W.prototype;G.prototype=function(e,t){var n=new G;if(e instanceof G)e.each((function(e){n.add(e)}));else if(e){var r=-1,i=e.length;if(null==t)for(;++r<i;)n.add(e[r]);else for(;++r<i;)n.add(t(e[r],r,e))}return n}.prototype={constructor:G,has:K.has,add:function(e){return this[H+(e+="")]=e,this},remove:K.remove,clear:K.clear,values:K.keys,size:K.size,empty:K.empty,each:K.each};var Y=Array.prototype,Z=Y.map,X=Y.slice,$={name:"implicit"};function J(e){var t=W(),n=[],r=$;function i(i){var o=i+"",a=t.get(o);if(!a){if(r!==$)return r;t.set(o,a=n.push(i))}return e[(a-1)%e.length]}return e=null==e?[]:X.call(e),i.domain=function(e){if(!arguments.length)return n.slice();n=[],t=W();for(var r,o,a=-1,s=e.length;++a<s;)t.has(o=(r=e[a])+"")||t.set(o,n.push(r));return i},i.range=function(t){return arguments.length?(e=X.call(t),i):e.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return J().domain(n).range(e).unknown(r)},i}function Q(){var e,t,n=J().unknown(void 0),r=n.domain,i=n.range,o=[0,1],a=!1,s=0,l=0,u=.5;function c(){var n=r().length,c=o[1]<o[0],f=o[c-0],d=o[1-c];e=(d-f)/Math.max(1,n-s+2*l),a&&(e=Math.floor(e)),f+=(d-f-e*(n-s))*u,t=e*(1-s),a&&(f=Math.round(f),t=Math.round(t));var p=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o}(n).map((function(t){return f+e*t}));return i(c?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),c()):r()},n.range=function(e){return arguments.length?(o=[+e[0],+e[1]],c()):o.slice()},n.rangeRound=function(e){return o=[+e[0],+e[1]],a=!0,c()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(a=!!e,c()):a},n.padding=function(e){return arguments.length?(s=l=Math.max(0,Math.min(1,e)),c()):s},n.paddingInner=function(e){return arguments.length?(s=Math.max(0,Math.min(1,e)),c()):s},n.paddingOuter=function(e){return arguments.length?(l=Math.max(0,Math.min(1,e)),c()):l},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),c()):u},n.copy=function(){return Q().domain(r()).range(o).round(a).paddingInner(s).paddingOuter(l).align(u)},c()}function ee(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return ee(t())},e}function te(){return ee(Q().paddingInner(1))}function ne(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function re(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function ie(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function oe(){}var ae=.7,se=1/ae,le="\\s*([+-]?\\d+)\\s*",ue="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",ce="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fe=/^#([0-9a-f]{3,8})$/,de=new RegExp("^rgb\\("+[le,le,le]+"\\)$"),pe=new RegExp("^rgb\\("+[ce,ce,ce]+"\\)$"),he=new RegExp("^rgba\\("+[le,le,le,ue]+"\\)$"),ge=new RegExp("^rgba\\("+[ce,ce,ce,ue]+"\\)$"),me=new RegExp("^hsl\\("+[ue,ce,ce]+"\\)$"),ye=new RegExp("^hsla\\("+[ue,ce,ce,ue]+"\\)$"),ve={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function be(){return this.rgb().formatHex()}function xe(){return this.rgb().formatRgb()}function _e(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=fe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?we(t):3===n?new Oe(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?ke(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?ke(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=de.exec(e))?new Oe(t[1],t[2],t[3],1):(t=pe.exec(e))?new Oe(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=he.exec(e))?ke(t[1],t[2],t[3],t[4]):(t=ge.exec(e))?ke(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=me.exec(e))?Ee(t[1],t[2]/100,t[3]/100,1):(t=ye.exec(e))?Ee(t[1],t[2]/100,t[3]/100,t[4]):ve.hasOwnProperty(e)?we(ve[e]):"transparent"===e?new Oe(NaN,NaN,NaN,0):null}function we(e){return new Oe(e>>16&255,e>>8&255,255&e,1)}function ke(e,t,n,r){return r<=0&&(e=t=n=NaN),new Oe(e,t,n,r)}function Te(e){return e instanceof oe||(e=_e(e)),e?new Oe((e=e.rgb()).r,e.g,e.b,e.opacity):new Oe}function Ce(e,t,n,r){return 1===arguments.length?Te(e):new Oe(e,t,n,null==r?1:r)}function Oe(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function Se(){return"#"+Me(this.r)+Me(this.g)+Me(this.b)}function Ae(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function Me(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function Ee(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new De(e,t,n,r)}function Pe(e){if(e instanceof De)return new De(e.h,e.s,e.l,e.opacity);if(e instanceof oe||(e=_e(e)),!e)return new De;if(e instanceof De)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=t===o?(n-r)/s+6*(n<r):n===o?(r-t)/s+2:(t-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new De(a,s,l,e.opacity)}function De(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Le(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function Re(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}function Ie(e){return function(){return e}}function Ne(e,t){return function(n){return e+n*t}}function je(e,t){var n=t-e;return n?Ne(e,n):Ie(isNaN(e)?t:e)}re(oe,_e,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:be,formatHex:be,formatHsl:function(){return Pe(this).formatHsl()},formatRgb:xe,toString:xe}),re(Oe,Ce,ie(oe,{brighter:function(e){return e=null==e?se:Math.pow(se,e),new Oe(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?ae:Math.pow(ae,e),new Oe(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Se,formatHex:Se,formatRgb:Ae,toString:Ae})),re(De,(function(e,t,n,r){return 1===arguments.length?Pe(e):new De(e,t,n,null==r?1:r)}),ie(oe,{brighter:function(e){return e=null==e?se:Math.pow(se,e),new De(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?ae:Math.pow(ae,e),new De(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Oe(Le(e>=240?e-240:e+120,i,r),Le(e,i,r),Le(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));const ze=function e(t){var n=function(e){return 1==(e=+e)?je:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):Ie(isNaN(t)?n:t)}}(t);function r(e,t){var r=n((e=Ce(e)).r,(t=Ce(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),a=je(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function qe(e){return function(t){var n,r,i=t.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=Ce(t[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=e(o),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=o(e),r.g=a(e),r.b=s(e),r+""}}}function Fe(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=Ke(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=o[n](e);return a}}function Be(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function He(e,t){var n,r={},i={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=Ke(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}qe((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,s=r<t-1?e[r+2]:2*o-i;return Re((n-r/t)*t,a,i,o,s)}})),qe((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return Re((n-r/t)*t,i,o,a,s)}}));var Ue=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ve=new RegExp(Ue.source,"g");function We(e,t){var n,r,i,o=Ue.lastIndex=Ve.lastIndex=0,a=-1,s=[],l=[];for(e+="",t+="";(n=Ue.exec(e))&&(r=Ve.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:ne(n,r)})),o=Ve.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function Ge(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}}function Ke(e,t){var n,r,i=typeof t;return null==t||"boolean"===i?Ie(t):("number"===i?ne:"string"===i?(n=_e(t))?(t=n,ze):We:t instanceof _e?ze:t instanceof Date?Be:(r=t,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(t)?Fe:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?He:ne:Ge))(e,t)}function Ye(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Ze(e){return function(){return e}}function Xe(e){return+e}var $e=[0,1];function Je(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Ze(t)}function Qe(e,t,n,r){var i=e[0],o=e[1],a=t[0],s=t[1];return o<i?(i=n(o,i),a=r(s,a)):(i=n(i,o),a=r(a,s)),function(e){return a(i(e))}}function et(e,t,n,r){var i=Math.min(e.length,t.length)-1,o=new Array(i),a=new Array(i),s=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<i;)o[s]=n(e[s],e[s+1]),a[s]=r(t[s],t[s+1]);return function(t){var n=L(e,t,1,i)-1;return a[n](o[n](t))}}function tt(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp())}function nt(e,t){var n,r,i,o=$e,a=$e,s=Ke,l=!1;function u(){return n=Math.min(o.length,a.length)>2?et:Qe,r=i=null,c}function c(t){return(r||(r=n(o,a,l?function(e){return function(t,n){var r=e(t=+t,n=+n);return function(e){return e<=t?0:e>=n?1:r(e)}}}(e):e,s)))(+t)}return c.invert=function(e){return(i||(i=n(a,o,Je,l?function(e){return function(t,n){var r=e(t=+t,n=+n);return function(e){return e<=0?t:e>=1?n:r(e)}}}(t):t)))(+e)},c.domain=function(e){return arguments.length?(o=Z.call(e,Xe),u()):o.slice()},c.range=function(e){return arguments.length?(a=X.call(e),u()):a.slice()},c.rangeRound=function(e){return a=X.call(e),s=Ye,u()},c.clamp=function(e){return arguments.length?(l=!!e,u()):l},c.interpolate=function(e){return arguments.length?(s=e,u()):s},u()}var rt,it=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ot(e){if(!(t=it.exec(e)))throw new Error("invalid format: "+e);var t;return new at({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function at(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function st(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function lt(e){return(e=st(Math.abs(e)))?e[1]:NaN}function ut(e,t){var n=st(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}ot.prototype=at.prototype,at.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const ct={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return ut(100*e,t)},r:ut,s:function(e,t){var n=st(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(rt=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+st(e,Math.max(0,t+o-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function ft(e){return e}var dt,pt,ht,gt=Array.prototype.map,mt=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function yt(e){var t=e.domain;return e.ticks=function(e){var n=t();return z(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){return function(e,t,n){var r,i=e[0],o=e[e.length-1],a=q(i,o,null==t?10:t);switch((n=ot(null==n?",f":n)).type){case"s":var s=Math.max(Math.abs(i),Math.abs(o));return null!=n.precision||isNaN(r=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(lt(t)/3)))-lt(Math.abs(e)))}(a,s))||(n.precision=r),ht(n,s);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(r=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,lt(t)-lt(e))+1}(a,Math.max(Math.abs(i),Math.abs(o))))||(n.precision=r-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(r=function(e){return Math.max(0,-lt(Math.abs(e)))}(a))||(n.precision=r-2*("%"===n.type))}return pt(n)}(t(),e,n)},e.nice=function(n){var r=t(),i=r.length-1,o=null==n?10:n,a=r[0],s=r[i],l=q(a,s,o);return l&&(l=q(Math.floor(a/l)*l,Math.ceil(s/l)*l,o),r[0]=Math.floor(a/l)*l,r[i]=Math.ceil(s/l)*l,t(r)),e},e}function vt(){var e=nt(Je,ne);return e.copy=function(){return tt(e,vt())},yt(e)}function bt(){var e=[0,1];function t(e){return+e}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=Z.call(n,Xe),t):e.slice()},t.copy=function(){return bt().domain(e)},yt(t)}function xt(e,t){var n,r=0,i=(e=e.slice()).length-1,o=e[r],a=e[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e}function _t(e,t){return(t=Math.log(t/e))?function(n){return Math.log(n/e)/t}:Ze(t)}function wt(e,t){return e<0?function(n){return-Math.pow(-t,n)*Math.pow(-e,1-n)}:function(n){return Math.pow(t,n)*Math.pow(e,1-n)}}function kt(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Tt(e){return 10===e?kt:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}function Ct(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}function Ot(e){return function(t){return-e(-t)}}function St(){var e=nt(_t,wt).domain([1,10]),t=e.domain,n=10,r=Ct(10),i=Tt(10);function o(){return r=Ct(n),i=Tt(n),t()[0]<0&&(r=Ot(r),i=Ot(i)),e}return e.base=function(e){return arguments.length?(n=+e,o()):n},e.domain=function(e){return arguments.length?(t(e),o()):t()},e.ticks=function(e){var o,a=t(),s=a[0],l=a[a.length-1];(o=l<s)&&(d=s,s=l,l=d);var u,c,f,d=r(s),p=r(l),h=null==e?10:+e,g=[];if(!(n%1)&&p-d<h){if(d=Math.round(d)-1,p=Math.round(p)+1,s>0){for(;d<p;++d)for(c=1,u=i(d);c<n;++c)if(!((f=u*c)<s)){if(f>l)break;g.push(f)}}else for(;d<p;++d)for(c=n-1,u=i(d);c>=1;--c)if(!((f=u*c)<s)){if(f>l)break;g.push(f)}}else g=z(d,p,Math.min(p-d,h)).map(i);return o?g.reverse():g},e.tickFormat=function(t,o){if(null==o&&(o=10===n?".0e":","),"function"!=typeof o&&(o=pt(o)),t===1/0)return o;null==t&&(t=10);var a=Math.max(1,n*t/e.ticks().length);return function(e){var t=e/i(Math.round(r(e)));return t*n<n-.5&&(t*=n),t<=a?o(e):""}},e.nice=function(){return t(xt(t(),{floor:function(e){return i(Math.floor(r(e)))},ceil:function(e){return i(Math.ceil(r(e)))}}))},e.copy=function(){return tt(e,St().base(n))},e}function At(e,t){return e<0?-Math.pow(-e,t):Math.pow(e,t)}function Mt(){var e=1,t=nt((function(t,n){return(n=At(n,e)-(t=At(t,e)))?function(r){return(At(r,e)-t)/n}:Ze(n)}),(function(t,n){return n=At(n,e)-(t=At(t,e)),function(r){return At(t+n*r,1/e)}})),n=t.domain;return t.exponent=function(t){return arguments.length?(e=+t,n(n())):e},t.copy=function(){return tt(t,Mt().exponent(e))},yt(t)}function Et(){return Mt().exponent(.5)}function Pt(){var e=[],t=[],n=[];function r(){var r=0,o=Math.max(1,t.length);for(n=new Array(o-1);++r<o;)n[r-1]=B(e,r/o);return i}function i(e){if(!isNaN(e=+e))return t[L(n,e)]}return i.invertExtent=function(r){var i=t.indexOf(r);return i<0?[NaN,NaN]:[i>0?n[i-1]:e[0],i<n.length?n[i]:e[e.length-1]]},i.domain=function(t){if(!arguments.length)return e.slice();e=[];for(var n,i=0,o=t.length;i<o;++i)null==(n=t[i])||isNaN(n=+n)||e.push(n);return e.sort(M),r()},i.range=function(e){return arguments.length?(t=X.call(e),r()):t.slice()},i.quantiles=function(){return n.slice()},i.copy=function(){return Pt().domain(e).range(t)},i}function Dt(){var e=0,t=1,n=1,r=[.5],i=[0,1];function o(e){if(e<=e)return i[L(r,e,0,n)]}function a(){var i=-1;for(r=new Array(n);++i<n;)r[i]=((i+1)*t-(i-n)*e)/(n+1);return o}return o.domain=function(n){return arguments.length?(e=+n[0],t=+n[1],a()):[e,t]},o.range=function(e){return arguments.length?(n=(i=X.call(e)).length-1,a()):i.slice()},o.invertExtent=function(o){var a=i.indexOf(o);return a<0?[NaN,NaN]:a<1?[e,r[0]]:a>=n?[r[n-1],t]:[r[a-1],r[a]]},o.copy=function(){return Dt().domain([e,t]).range(i)},yt(o)}function Lt(){var e=[.5],t=[0,1],n=1;function r(r){if(r<=r)return t[L(e,r,0,n)]}return r.domain=function(i){return arguments.length?(e=X.call(i),n=Math.min(e.length,t.length-1),r):e.slice()},r.range=function(i){return arguments.length?(t=X.call(i),n=Math.min(e.length,t.length-1),r):t.slice()},r.invertExtent=function(n){var r=t.indexOf(n);return[e[r-1],e[r]]},r.copy=function(){return Lt().domain(e).range(t)},r}dt=function(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?ft:(t=gt.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(e.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?ft:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(gt.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",u=void 0===e.minus?"-":e.minus+"",c=void 0===e.nan?"NaN":e.nan+"";function f(e){var t=(e=ot(e)).fill,n=e.align,f=e.sign,d=e.symbol,p=e.zero,h=e.width,g=e.comma,m=e.precision,y=e.trim,v=e.type;"n"===v?(g=!0,v="g"):ct[v]||(void 0===m&&(m=12),y=!0,v="g"),(p||"0"===t&&"="===n)&&(p=!0,t="0",n="=");var b="$"===d?i:"#"===d&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",x="$"===d?o:/[%p]/.test(v)?l:"",_=ct[v],w=/[defgprs%]/.test(v);function k(e){var i,o,l,d=b,k=x;if("c"===v)k=_(e)+k,e="";else{var T=(e=+e)<0||1/e<0;if(e=isNaN(e)?c:_(Math.abs(e),m),y&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),T&&0==+e&&"+"!==f&&(T=!1),d=(T?"("===f?f:u:"-"===f||"("===f?"":f)+d,k=("s"===v?mt[8+rt/3]:"")+k+(T&&"("===f?")":""),w)for(i=-1,o=e.length;++i<o;)if(48>(l=e.charCodeAt(i))||l>57){k=(46===l?a+e.slice(i+1):e.slice(i))+k,e=e.slice(0,i);break}}g&&!p&&(e=r(e,1/0));var C=d.length+e.length+k.length,O=C<h?new Array(h-C+1).join(t):"";switch(g&&p&&(e=r(O+e,O.length?h-k.length:1/0),O=""),n){case"<":e=d+e+k+O;break;case"=":e=d+O+e+k;break;case"^":e=O.slice(0,C=O.length>>1)+d+e+k+O.slice(C);break;default:e=O+d+e+k}return s(e)}return m=void 0===m?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),k.toString=function(){return e+""},k}return{format:f,formatPrefix:function(e,t){var n=f(((e=ot(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(lt(t)/3))),i=Math.pow(10,-r),o=mt[8+r/3];return function(e){return n(i*e)+o}}}}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),pt=dt.format,ht=dt.formatPrefix;var Rt=new Date,It=new Date;function Nt(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=function(t){return e(t=new Date(+t)),t},i.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},i.round=function(e){var t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return s;do{s.push(a=new Date(+n)),t(n,o),e(n)}while(a<n&&n<r);return s},i.filter=function(n){return Nt((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}))},n&&(i.count=function(t,r){return Rt.setTime(+t),It.setTime(+r),e(Rt),e(It),Math.floor(n(Rt,It))},i.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?function(t){return r(t)%e==0}:function(t){return i.count(0,t)%e==0}):i:null}),i}var jt=Nt((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()}));jt.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Nt((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};const zt=jt;jt.range;var qt=Nt((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()}));const Ft=qt;qt.range;var Bt=1e3,Ht=6e4,Ut=36e5,Vt=864e5,Wt=6048e5;function Gt(e){return Nt((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ht)/Wt}))}var Kt=Gt(0),Yt=Gt(1),Zt=Gt(2),Xt=Gt(3),$t=Gt(4),Jt=Gt(5),Qt=Gt(6),en=(Kt.range,Yt.range,Zt.range,Xt.range,$t.range,Jt.range,Qt.range,Nt((function(e){e.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ht)/Vt}),(function(e){return e.getDate()-1})));const tn=en;en.range;var nn=Nt((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*Bt-e.getMinutes()*Ht)}),(function(e,t){e.setTime(+e+t*Ut)}),(function(e,t){return(t-e)/Ut}),(function(e){return e.getHours()}));const rn=nn;nn.range;var on=Nt((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*Bt)}),(function(e,t){e.setTime(+e+t*Ht)}),(function(e,t){return(t-e)/Ht}),(function(e){return e.getMinutes()}));const an=on;on.range;var sn=Nt((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+t*Bt)}),(function(e,t){return(t-e)/Bt}),(function(e){return e.getUTCSeconds()}));const ln=sn;sn.range;var un=Nt((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e}));un.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?Nt((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):un:null};const cn=un;function fn(e){return Nt((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/Wt}))}un.range;var dn=fn(0),pn=fn(1),hn=fn(2),gn=fn(3),mn=fn(4),yn=fn(5),vn=fn(6),bn=(dn.range,pn.range,hn.range,gn.range,mn.range,yn.range,vn.range,Nt((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/Vt}),(function(e){return e.getUTCDate()-1})));const xn=bn;bn.range;var _n=Nt((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()}));_n.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Nt((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};const wn=_n;function kn(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Tn(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Cn(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}_n.range;var On,Sn,An,Mn={"-":"",_:" ",0:"0"},En=/^\s*\d+/,Pn=/^%/,Dn=/[\\^$*+?|[\]().{}]/g;function Ln(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function Rn(e){return e.replace(Dn,"\\$&")}function In(e){return new RegExp("^(?:"+e.map(Rn).join("|")+")","i")}function Nn(e){for(var t={},n=-1,r=e.length;++n<r;)t[e[n].toLowerCase()]=n;return t}function jn(e,t,n){var r=En.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function zn(e,t,n){var r=En.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function qn(e,t,n){var r=En.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Fn(e,t,n){var r=En.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Bn(e,t,n){var r=En.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Hn(e,t,n){var r=En.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Un(e,t,n){var r=En.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Vn(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Wn(e,t,n){var r=En.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function Gn(e,t,n){var r=En.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Kn(e,t,n){var r=En.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Yn(e,t,n){var r=En.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Zn(e,t,n){var r=En.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Xn(e,t,n){var r=En.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function $n(e,t,n){var r=En.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Jn(e,t,n){var r=En.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Qn(e,t,n){var r=En.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function er(e,t,n){var r=Pn.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function tr(e,t,n){var r=En.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function nr(e,t,n){var r=En.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function rr(e,t){return Ln(e.getDate(),t,2)}function ir(e,t){return Ln(e.getHours(),t,2)}function or(e,t){return Ln(e.getHours()%12||12,t,2)}function ar(e,t){return Ln(1+tn.count(zt(e),e),t,3)}function sr(e,t){return Ln(e.getMilliseconds(),t,3)}function lr(e,t){return sr(e,t)+"000"}function ur(e,t){return Ln(e.getMonth()+1,t,2)}function cr(e,t){return Ln(e.getMinutes(),t,2)}function fr(e,t){return Ln(e.getSeconds(),t,2)}function dr(e){var t=e.getDay();return 0===t?7:t}function pr(e,t){return Ln(Kt.count(zt(e)-1,e),t,2)}function hr(e){var t=e.getDay();return t>=4||0===t?$t(e):$t.ceil(e)}function gr(e,t){return e=hr(e),Ln($t.count(zt(e),e)+(4===zt(e).getDay()),t,2)}function mr(e){return e.getDay()}function yr(e,t){return Ln(Yt.count(zt(e)-1,e),t,2)}function vr(e,t){return Ln(e.getFullYear()%100,t,2)}function br(e,t){return Ln((e=hr(e)).getFullYear()%100,t,2)}function xr(e,t){return Ln(e.getFullYear()%1e4,t,4)}function _r(e,t){var n=e.getDay();return Ln((e=n>=4||0===n?$t(e):$t.ceil(e)).getFullYear()%1e4,t,4)}function wr(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ln(t/60|0,"0",2)+Ln(t%60,"0",2)}function kr(e,t){return Ln(e.getUTCDate(),t,2)}function Tr(e,t){return Ln(e.getUTCHours(),t,2)}function Cr(e,t){return Ln(e.getUTCHours()%12||12,t,2)}function Or(e,t){return Ln(1+xn.count(wn(e),e),t,3)}function Sr(e,t){return Ln(e.getUTCMilliseconds(),t,3)}function Ar(e,t){return Sr(e,t)+"000"}function Mr(e,t){return Ln(e.getUTCMonth()+1,t,2)}function Er(e,t){return Ln(e.getUTCMinutes(),t,2)}function Pr(e,t){return Ln(e.getUTCSeconds(),t,2)}function Dr(e){var t=e.getUTCDay();return 0===t?7:t}function Lr(e,t){return Ln(dn.count(wn(e)-1,e),t,2)}function Rr(e){var t=e.getUTCDay();return t>=4||0===t?mn(e):mn.ceil(e)}function Ir(e,t){return e=Rr(e),Ln(mn.count(wn(e),e)+(4===wn(e).getUTCDay()),t,2)}function Nr(e){return e.getUTCDay()}function jr(e,t){return Ln(pn.count(wn(e)-1,e),t,2)}function zr(e,t){return Ln(e.getUTCFullYear()%100,t,2)}function qr(e,t){return Ln((e=Rr(e)).getUTCFullYear()%100,t,2)}function Fr(e,t){return Ln(e.getUTCFullYear()%1e4,t,4)}function Br(e,t){var n=e.getUTCDay();return Ln((e=n>=4||0===n?mn(e):mn.ceil(e)).getUTCFullYear()%1e4,t,4)}function Hr(){return"+0000"}function Ur(){return"%"}function Vr(e){return+e}function Wr(e){return Math.floor(+e/1e3)}On=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,l=e.shortMonths,u=In(i),c=Nn(i),f=In(o),d=Nn(o),p=In(a),h=Nn(a),g=In(s),m=Nn(s),y=In(l),v=Nn(l),b={a:function(e){return a[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:rr,e:rr,f:lr,g:br,G:_r,H:ir,I:or,j:ar,L:sr,m:ur,M:cr,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:Vr,s:Wr,S:fr,u:dr,U:pr,V:gr,w:mr,W:yr,x:null,X:null,y:vr,Y:xr,Z:wr,"%":Ur},x={a:function(e){return a[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:kr,e:kr,f:Ar,g:qr,G:Br,H:Tr,I:Cr,j:Or,L:Sr,m:Mr,M:Er,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:Vr,s:Wr,S:Pr,u:Dr,U:Lr,V:Ir,w:Nr,W:jr,x:null,X:null,y:zr,Y:Fr,Z:Hr,"%":Ur},_={a:function(e,t,n){var r=p.exec(t.slice(n));return r?(e.w=h[r[0].toLowerCase()],n+r[0].length):-1},A:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=d[r[0].toLowerCase()],n+r[0].length):-1},b:function(e,t,n){var r=y.exec(t.slice(n));return r?(e.m=v[r[0].toLowerCase()],n+r[0].length):-1},B:function(e,t,n){var r=g.exec(t.slice(n));return r?(e.m=m[r[0].toLowerCase()],n+r[0].length):-1},c:function(e,n,r){return T(e,t,n,r)},d:Kn,e:Kn,f:Qn,g:Un,G:Hn,H:Zn,I:Zn,j:Yn,L:Jn,m:Gn,M:Xn,p:function(e,t,n){var r=u.exec(t.slice(n));return r?(e.p=c[r[0].toLowerCase()],n+r[0].length):-1},q:Wn,Q:tr,s:nr,S:$n,u:zn,U:qn,V:Fn,w:jn,W:Bn,x:function(e,t,r){return T(e,n,t,r)},X:function(e,t,n){return T(e,r,t,n)},y:Un,Y:Hn,Z:Vn,"%":er};function w(e,t){return function(n){var r,i,o,a=[],s=-1,l=0,u=e.length;for(n instanceof Date||(n=new Date(+n));++s<u;)37===e.charCodeAt(s)&&(a.push(e.slice(l,s)),null!=(i=Mn[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),a.push(r),l=s+1);return a.push(e.slice(l,s)),a.join("")}}function k(e,t){return function(n){var r,i,o=Cn(1900,void 0,1);if(T(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(t&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=Tn(Cn(o.y,0,1))).getUTCDay(),r=i>4||0===i?pn.ceil(r):pn(r),r=xn.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=kn(Cn(o.y,0,1))).getDay(),r=i>4||0===i?Yt.ceil(r):Yt(r),r=tn.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?Tn(Cn(o.y,0,1)).getUTCDay():kn(Cn(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Tn(o)):kn(o)}}function T(e,t,n,r){for(var i,o,a=0,s=t.length,l=n.length;a<s;){if(r>=l)return-1;if(37===(i=t.charCodeAt(a++))){if(i=t.charAt(a++),!(o=_[i in Mn?t.charAt(a++):i])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=w(n,b),b.X=w(r,b),b.c=w(t,b),x.x=w(n,x),x.X=w(r,x),x.c=w(t,x),{format:function(e){var t=w(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=k(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=w(e+="",x);return t.toString=function(){return e},t},utcParse:function(e){var t=k(e+="",!0);return t.toString=function(){return e},t}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),Sn=On.format,On.parse,An=On.utcFormat,On.utcParse;var Gr=31536e6;function Kr(e){return new Date(e)}function Yr(e){return e instanceof Date?+e:+new Date(+e)}function Zr(e,t,n,r,i,o,a,s,l){var u=nt(Je,ne),c=u.invert,f=u.domain,d=l(".%L"),p=l(":%S"),h=l("%I:%M"),g=l("%I %p"),m=l("%a %d"),y=l("%b %d"),v=l("%B"),b=l("%Y"),x=[[a,1,1e3],[a,5,5e3],[a,15,15e3],[a,30,3e4],[o,1,6e4],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,36e5],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,864e5],[r,2,1728e5],[n,1,6048e5],[t,1,2592e6],[t,3,7776e6],[e,1,Gr]];function _(s){return(a(s)<s?d:o(s)<s?p:i(s)<s?h:r(s)<s?g:t(s)<s?n(s)<s?m:y:e(s)<s?v:b)(s)}function w(t,n,r,i){if(null==t&&(t=10),"number"==typeof t){var o=Math.abs(r-n)/t,a=E((function(e){return e[2]})).right(x,o);a===x.length?(i=q(n/Gr,r/Gr,t),t=e):a?(i=(a=x[o/x[a-1][2]<x[a][2]/o?a-1:a])[1],t=a[0]):(i=q(n,r,t),t=s)}return null==i?t:t.every(i)}return u.invert=function(e){return new Date(c(e))},u.domain=function(e){return arguments.length?f(Z.call(e,Yr)):f().map(Kr)},u.ticks=function(e,t){var n,r=f(),i=r[0],o=r[r.length-1],a=o<i;return a&&(n=i,i=o,o=n),n=(n=w(e,i,o,t))?n.range(i,o+1):[],a?n.reverse():n},u.tickFormat=function(e,t){return null==t?_:l(t)},u.nice=function(e,t){var n=f();return(e=w(e,n[0],n[n.length-1],t))?f(xt(n,e)):u},u.copy=function(){return tt(u,Zr(e,t,n,r,i,o,a,s,l))},u}function Xr(){return Zr(zt,Ft,Kt,tn,rn,an,ln,cn,Sn).domain([new Date(2e3,0,1),new Date(2e3,0,2)])}var $r=Nt((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()}));const Jr=$r;$r.range;var Qr=Nt((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+t*Ut)}),(function(e,t){return(t-e)/Ut}),(function(e){return e.getUTCHours()}));const ei=Qr;Qr.range;var ti=Nt((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+t*Ht)}),(function(e,t){return(t-e)/Ht}),(function(e){return e.getUTCMinutes()}));const ni=ti;function ri(){return Zr(wn,Jr,dn,xn,ei,ni,ln,cn,An).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])}function ii(e){return e.match(/.{6}/g).map((function(e){return"#"+e}))}ti.range;const oi=ii("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),ai=ii("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),si=ii("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),li=ii("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5");var ui=Math.PI/180,ci=180/Math.PI,fi=-.14861,di=1.78277,pi=-.29227,hi=-.90649,gi=1.97294,mi=gi*hi,yi=gi*di,vi=di*pi-hi*fi;function bi(e){if(e instanceof _i)return new _i(e.h,e.s,e.l,e.opacity);e instanceof Oe||(e=Te(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(vi*r+mi*t-yi*n)/(vi+mi-yi),o=r-i,a=(gi*(n-i)-pi*o)/hi,s=Math.sqrt(a*a+o*o)/(gi*i*(1-i)),l=s?Math.atan2(a,o)*ci-120:NaN;return new _i(l<0?l+360:l,s,i,e.opacity)}function xi(e,t,n,r){return 1===arguments.length?bi(e):new _i(e,t,n,null==r?1:r)}function _i(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function wi(e){return function t(n){function r(t,r){var i=e((t=xi(t)).h,(r=xi(r)).h),o=je(t.s,r.s),a=je(t.l,r.l),s=je(t.opacity,r.opacity);return function(e){return t.h=i(e),t.s=o(e),t.l=a(Math.pow(e,n)),t.opacity=s(e),t+""}}return n=+n,r.gamma=t,r}(1)}re(_i,xi,ie(oe,{brighter:function(e){return e=null==e?se:Math.pow(se,e),new _i(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?ae:Math.pow(ae,e),new _i(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*ui,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new Oe(255*(t+n*(fi*r+di*i)),255*(t+n*(pi*r+hi*i)),255*(t+n*(gi*r)),this.opacity)}})),wi((function(e,t){var n=t-e;return n?Ne(e,n>180||n<-180?n-360*Math.round(n/360):n):Ie(isNaN(e)?t:e)}));var ki=wi(je);const Ti=ki(xi(300,.5,0),xi(-240,.5,1));var Ci=ki(xi(-100,.75,.35),xi(80,1.5,.8)),Oi=ki(xi(260,.75,.35),xi(80,1.5,.8)),Si=xi();function Ai(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return Si.h=360*e-100,Si.s=1.5-1.5*t,Si.l=.8-.9*t,Si+""}function Mi(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}const Ei=Mi(ii("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var Pi=Mi(ii("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Di=Mi(ii("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Li=Mi(ii("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Ri(e){var t=0,n=1,r=!1;function i(i){var o=(i-t)/(n-t);return e(r?Math.max(0,Math.min(1,o)):o)}return i.domain=function(e){return arguments.length?(t=+e[0],n=+e[1],i):[t,n]},i.clamp=function(e){return arguments.length?(r=!!e,i):r},i.interpolator=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return Ri(e).domain([t,n]).clamp(r)},yt(i)}var Ii=function(e){return 0===e?0:e>0?1:-1},Ni=function(e){return h()(e)&&e.indexOf("%")===e.length-1},ji=function(e){return A()(e)&&!O()(e)},zi=function(e){return ji(e)||h()(e)},qi=0,Fi=function(e){return""+(e||"")+ ++qi},Bi=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!ji(e)&&!h()(e))return n;var i=void 0;if(Ni(e)){var o=e.indexOf("%");i=t*parseFloat(e.slice(0,o))/100}else i=+e;return isNaN(i)&&(i=n),r&&i>t&&(i=t),i},Hi=/^dataMin[\s]*-[\s]*([\d]+)$/,Ui=/^dataMax[\s]*\+[\s]*([\d]+)$/,Vi=function(e,t,n){if(!x()(e))return t;var r=[];if(ji(e[0]))r[0]=n?e[0]:Math.min(e[0],t[0]);else if(Hi.test(e[0])){var i=+Hi.exec(e[0])[1];r[0]=t[0]-i}else r[0]=t[0];if(ji(e[1]))r[1]=n?e[1]:Math.max(e[1],t[1]);else if(Ui.test(e[1])){var o=+Ui.exec(e[1])[1];r[1]=t[1]+o}else r[1]=t[1];return r},Wi=function(e,t){if(!t)return!1;var n=t.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r},Gi=function(e,t){if(e&&e.scale&&e.scale.bandwidth)return e.scale.bandwidth();if(e&&t&&t.length>=2){for(var n=T()(t,(function(e){return e.coordinate})),r=1/0,i=1,o=n.length;i<o;i++){var a=n[i],s=n[i-1];r=Math.min((a.coordinate||0)-(s.coordinate||0),r)}return r===1/0?0:r}return 0},Ki=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},Yi=function(e,t,n){var r=void 0;return v()(n)?r=n:v()(t)&&(r=t),v()(e)||r?function(t,n,i,o){v()(e)&&e(t,n,i,o),v()(r)&&r(t,n,i,o)}:null},Zi=function(e,t){var n=e.scale,i=e.type;if("auto"===n)return"category"===i&&t&&(t.indexOf("LineChart")>=0||t.indexOf("AreaChart")>=0)?te():"category"===i?Q():vt();if(h()(n)){var o="scale"+n.slice(0,1).toUpperCase()+n.slice(1);return(r[o]||te)()}return v()(n)?n:te()},Xi=1e-4,$i=function(e,t,n){return d()(e)||d()(t)?n:zi(t)?w()(e,t,n):v()(t)?t(e):n},Ji=function(e,t){if(!e)return null;for(var n=0,r=e.length;n<r;n++)if(e[n].item===t)return e[n].position;return null};function Qi(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function eo(e,t){return!Qi(e,this.props)||!Qi(t,this.state)}function to(e){e.prototype.shouldComponentUpdate=eo}var no={alignmentBaseline:l().string,angle:l().number,baselineShift:l().string,clip:l().string,clipPath:l().string,clipRule:l().string,color:l().string,colorInterpolation:l().string,colorInterpolationFilters:l().string,colorProfile:l().string,colorRendering:l().string,cursor:l().string,direction:l().oneOf(["ltr","rtl","inherit"]),display:l().string,dominantBaseline:l().string,enableBackground:l().string,fill:l().string,fillOpacity:l().oneOfType([l().string,l().number]),fillRule:l().oneOf(["nonzero","evenodd","inherit"]),filter:l().string,floodColor:l().string,floodOpacity:l().oneOfType([l().string,l().number]),font:l().string,fontFamily:l().string,fontSize:l().oneOfType([l().number,l().string]),fontSizeAdjust:l().oneOfType([l().number,l().string]),fontStretch:l().oneOf(["normal","wider","narrower","ultra-condensed","extra-condensed","condensed","semi-condensed","semi-expanded","expanded","extra-expanded","ultra-expanded","inherit"]),fontStyle:l().oneOf(["normal","italic","oblique","inherit"]),fontVariant:l().oneOf(["normal","small-caps","inherit"]),fontWeight:l().oneOf(["normal","bold","bolder","lighter",100,200,300,400,500,600,700,800,900,"inherit"]),glyphOrientationHorizontal:l().string,glyphOrientationVertical:l().string,imageRendering:l().oneOf(["auto","optimizeSpeed","optimizeQuality","inherit"]),kerning:l().oneOfType([l().number,l().string]),letterSpacing:l().oneOfType([l().number,l().string]),lightingColor:l().string,markerEnd:l().string,markerMid:l().string,markerStart:l().string,mask:l().string,opacity:l().oneOfType([l().number,l().string]),overflow:l().oneOf(["visible","hidden","scroll","auto","inherit"]),pointerEvents:l().oneOf(["visiblePainted","visibleFill","visibleStroke","visible","painted","fill","stroke","all","none","inherit"]),shapeRendering:l().oneOf(["auto","optimizeSpeed","crispEdges","geometricPrecision","inherit"]),stopColor:l().string,stopOpacity:l().oneOfType([l().number,l().string]),stroke:l().oneOfType([l().number,l().string]),strokeDasharray:l().string,strokeDashoffset:l().oneOfType([l().number,l().string]),strokeLinecap:l().oneOf(["butt","round","square","inherit"]),strokeLinejoin:l().oneOf(["miter","round","bevel","inherit"]),strokeMiterlimit:l().oneOfType([l().number,l().string]),strokeOpacity:l().oneOfType([l().number,l().string]),strokeWidth:l().oneOfType([l().number,l().string]),textAnchor:l().oneOf(["start","middle","end","inherit"]),textDecoration:l().oneOf(["none","underline","overline","line-through","blink","inherit"]),textRendering:l().oneOf(["auto","optimizeSpeed","optimizeLegibility","geometricPrecision","inherit"]),unicodeBidi:l().oneOf(["normal","embed","bidi-override","inherit"]),visibility:l().oneOf(["visible","hidden","collapse","inherit"]),wordSpacing:l().oneOfType([l().number,l().string]),writingMode:l().oneOf(["lr-tb","rl-tb","tb-rl","lr","rl","tb","inherit"]),transform:l().string,style:l().object,width:l().number,height:l().number,dx:l().number,dy:l().number,x:l().number,y:l().number,r:l().number},ro={onClick:l().func,onMouseDown:l().func,onMouseUp:l().func,onMouseOver:l().func,onMouseMove:l().func,onMouseOut:l().func,onMouseEnter:l().func,onMouseLeave:l().func},io=["line","square","rect","circle","cross","diamond","star","triangle","wye","none"],oo=function(e){return e?"string"==typeof e?e:e.displayName||e.name||"Component":""},ao=function(e,t){var n=[],r=[];return r=x()(t)?t.map((function(e){return oo(e)})):[oo(t)],a().Children.forEach(e,(function(e){var t=e&&e.type&&(e.type.displayName||e.type.name);-1!==r.indexOf(t)&&n.push(e)})),n},so=function(e,t){var n=ao(e,t);return n&&n[0]},lo=function(e){if(!e||v()(e))return null;var t=a().isValidElement(e)?e.props:e;if(!m()(t))return null;var n=null;for(var r in t)({}).hasOwnProperty.call(t,r)&&no[r]&&(n||(n={}),n[r]=t[r]);return n},uo=function(e){if(!e||v()(e))return null;var t=a().isValidElement(e)?e.props:e;if(!m()(t))return null;var n=null;for(var r in t)({}).hasOwnProperty.call(t,r)&&ro[r]&&(n||(n={}),n[r]=t[r]);return n},co=function(e,t,n){return function(r){return e(t,n,r),null}},fo=function(e,t,n){if(!m()(e))return null;var r=null;for(var i in e)({}).hasOwnProperty.call(e,i)&&ro[i]&&v()(e[i])&&(r||(r={}),r[i]=co(e[i],t,n));return r},po=function(e){if(!e||!e.props)return!1;var t=e.props,n=t.width,r=t.height;return!(!ji(n)||n<=0||!ji(r)||r<=0)},ho=function(){return!("undefined"!=typeof window&&window.document&&window.document.createElement&&window.setTimeout)},go=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],mo=function(e){var t=[];return a().Children.forEach(e,(function(e){e&&e.type&&h()(e.type)&&go.indexOf(e.type)>=0&&t.push(e)})),t},yo=function(e,t){return!(!d()(e)||!d()(t))||!d()(e)&&!d()(t)&&Qi(e.props,t.props)},vo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bo={width:l().number.isRequired,height:l().number.isRequired,viewBox:l().shape({x:l().number,y:l().number,width:l().number,height:l().number}),className:l().string,style:l().object,children:l().oneOfType([l().arrayOf(l().node),l().node])};function xo(e){var t=e.children,n=e.width,r=e.height,i=e.viewBox,o=e.className,s=e.style,l=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["children","width","height","viewBox","className","style"]),u=i||{width:n,height:r,x:0,y:0},f=c()("recharts-surface",o),d=lo(l);return a().createElement("svg",vo({},d,{className:f,width:n,height:r,style:s,viewBox:u.x+" "+u.y+" "+u.width+" "+u.height,version:"1.1"}),t)}xo.propTypes=bo;const _o=xo;var wo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ko={className:l().string,children:l().oneOfType([l().arrayOf(l().node),l().node])};function To(e){var t=e.children,n=e.className,r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["children","className"]),i=c()("recharts-layer",n);return a().createElement("g",wo({className:i},r),t)}To.propTypes=ko;const Co=To;var Oo=Math.PI,So=2*Oo,Ao=Math.PI,Mo=2*Ao,Eo=1e-6,Po=Mo-Eo;function Do(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Lo(){return new Do}Do.prototype=Lo.prototype={constructor:Do,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,i,o){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(e,t,n,r,i){e=+e,t=+t,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-e,l=r-t,u=o-e,c=a-t,f=u*u+c*c;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(f>Eo)if(Math.abs(c*s-l*u)>Eo&&i){var d=n-o,p=r-a,h=s*s+l*l,g=d*d+p*p,m=Math.sqrt(h),y=Math.sqrt(f),v=i*Math.tan((Ao-Math.acos((h+f-g)/(2*m*y)))/2),b=v/y,x=v/m;Math.abs(b-1)>Eo&&(this._+="L"+(e+b*u)+","+(t+b*c)),this._+="A"+i+","+i+",0,0,"+ +(c*d>u*p)+","+(this._x1=e+x*s)+","+(this._y1=t+x*l)}else this._+="L"+(this._x1=e)+","+(this._y1=t)},arc:function(e,t,n,r,i,o){e=+e,t=+t,o=!!o;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),l=e+a,u=t+s,c=1^o,f=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+u:(Math.abs(this._x1-l)>Eo||Math.abs(this._y1-u)>Eo)&&(this._+="L"+l+","+u),n&&(f<0&&(f=f%Mo+Mo),f>Po?this._+="A"+n+","+n+",0,1,"+c+","+(e-a)+","+(t-s)+"A"+n+","+n+",0,1,"+c+","+(this._x1=l)+","+(this._y1=u):f>Eo&&(this._+="A"+n+","+n+",0,"+ +(f>=Ao)+","+c+","+(this._x1=e+n*Math.cos(i))+","+(this._y1=t+n*Math.sin(i))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};const Ro=Lo;function Io(e){return function(){return e}}function No(e){this._context=e}function jo(e){return new No(e)}function zo(e){return e[0]}function qo(e){return e[1]}function Fo(){var e=zo,t=qo,n=Io(!0),r=null,i=jo,o=null;function a(a){var s,l,u,c=a.length,f=!1;for(null==r&&(o=i(u=Ro())),s=0;s<=c;++s)!(s<c&&n(l=a[s],s,a))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+e(l,s,a),+t(l,s,a));if(u)return o=null,u+""||null}return a.x=function(t){return arguments.length?(e="function"==typeof t?t:Io(+t),a):e},a.y=function(e){return arguments.length?(t="function"==typeof e?e:Io(+e),a):t},a.defined=function(e){return arguments.length?(n="function"==typeof e?e:Io(!!e),a):n},a.curve=function(e){return arguments.length?(i=e,null!=r&&(o=i(r)),a):i},a.context=function(e){return arguments.length?(null==e?r=o=null:o=i(r=e),a):r},a}function Bo(){var e=zo,t=null,n=Io(0),r=qo,i=Io(!0),o=null,a=jo,s=null;function l(l){var u,c,f,d,p,h=l.length,g=!1,m=new Array(h),y=new Array(h);for(null==o&&(s=a(p=Ro())),u=0;u<=h;++u){if(!(u<h&&i(d=l[u],u,l))===g)if(g=!g)c=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),f=u-1;f>=c;--f)s.point(m[f],y[f]);s.lineEnd(),s.areaEnd()}g&&(m[u]=+e(d,u,l),y[u]=+n(d,u,l),s.point(t?+t(d,u,l):m[u],r?+r(d,u,l):y[u]))}if(p)return s=null,p+""||null}function u(){return Fo().defined(i).curve(a).context(o)}return l.x=function(n){return arguments.length?(e="function"==typeof n?n:Io(+n),t=null,l):e},l.x0=function(t){return arguments.length?(e="function"==typeof t?t:Io(+t),l):e},l.x1=function(e){return arguments.length?(t=null==e?null:"function"==typeof e?e:Io(+e),l):t},l.y=function(e){return arguments.length?(n="function"==typeof e?e:Io(+e),r=null,l):n},l.y0=function(e){return arguments.length?(n="function"==typeof e?e:Io(+e),l):n},l.y1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:Io(+e),l):r},l.lineX0=l.lineY0=function(){return u().x(e).y(n)},l.lineY1=function(){return u().x(e).y(r)},l.lineX1=function(){return u().x(t).y(n)},l.defined=function(e){return arguments.length?(i="function"==typeof e?e:Io(!!e),l):i},l.curve=function(e){return arguments.length?(a=e,null!=o&&(s=a(o)),l):a},l.context=function(e){return arguments.length?(null==e?o=s=null:s=a(o=e),l):o},l}function Ho(e){this._curve=e}No.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},Ho.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};const Uo={draw:function(e,t){var n=Math.sqrt(t/Oo);e.moveTo(n,0),e.arc(0,0,n,0,So)}},Vo={draw:function(e,t){var n=Math.sqrt(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}};var Wo=Math.sqrt(1/3),Go=2*Wo;const Ko={draw:function(e,t){var n=Math.sqrt(t/Go),r=n*Wo;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}};var Yo=Math.sin(Oo/10)/Math.sin(7*Oo/10),Zo=Math.sin(So/10)*Yo,Xo=-Math.cos(So/10)*Yo;const $o={draw:function(e,t){var n=Math.sqrt(.8908130915292852*t),r=Zo*n,i=Xo*n;e.moveTo(0,-n),e.lineTo(r,i);for(var o=1;o<5;++o){var a=So*o/5,s=Math.cos(a),l=Math.sin(a);e.lineTo(l*n,-s*n),e.lineTo(s*r-l*i,l*r+s*i)}e.closePath()}},Jo={draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}};var Qo=Math.sqrt(3);const ea={draw:function(e,t){var n=-Math.sqrt(t/(3*Qo));e.moveTo(0,2*n),e.lineTo(-Qo*n,-n),e.lineTo(Qo*n,-n),e.closePath()}};var ta=-.5,na=Math.sqrt(3)/2,ra=1/Math.sqrt(12),ia=3*(ra/2+1);const oa={draw:function(e,t){var n=Math.sqrt(t/ia),r=n/2,i=n*ra,o=r,a=n*ra+n,s=-o,l=a;e.moveTo(r,i),e.lineTo(o,a),e.lineTo(s,l),e.lineTo(ta*r-na*i,na*r+ta*i),e.lineTo(ta*o-na*a,na*o+ta*a),e.lineTo(ta*s-na*l,na*s+ta*l),e.lineTo(ta*r+na*i,ta*i-na*r),e.lineTo(ta*o+na*a,ta*a-na*o),e.lineTo(ta*s+na*l,ta*l-na*s),e.closePath()}};function aa(){}function sa(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function la(e){this._context=e}function ua(e){this._context=e}function ca(e){this._context=e}function fa(e,t){this._basis=new la(e),this._beta=t}function da(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function pa(e,t){this._context=e,this._k=(1-t)/6}function ha(e,t){this._context=e,this._k=(1-t)/6}function ga(e,t){this._context=e,this._k=(1-t)/6}function ma(e,t,n){var r=e._x1,i=e._y1,o=e._x2,a=e._y2;if(e._l01_a>1e-12){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>1e-12){var u=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*u+e._x1*e._l23_2a-t*e._l12_2a)/c,a=(a*u+e._y1*e._l23_2a-n*e._l12_2a)/c}e._context.bezierCurveTo(r,i,o,a,e._x2,e._y2)}function ya(e,t){this._context=e,this._alpha=t}function va(e,t){this._context=e,this._alpha=t}function ba(e,t){this._context=e,this._alpha=t}function xa(e){this._context=e}function _a(e){return e<0?-1:1}function wa(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(_a(o)+_a(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function ka(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Ta(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*n,o,a)}function Ca(e){this._context=e}function Oa(e){this._context=new Sa(e)}function Sa(e){this._context=e}function Aa(e){this._context=e}function Ma(e){var t,n,r=e.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function Ea(e,t){this._context=e,this._t=t}la.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:sa(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:sa(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},ua.prototype={areaStart:aa,areaEnd:aa,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:sa(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},ca.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:sa(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},fa.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r,i=e[0],o=t[0],a=e[n]-i,s=t[n]-o,l=-1;++l<=n;)r=l/n,this._basis.point(this._beta*e[l]+(1-this._beta)*(i+r*a),this._beta*t[l]+(1-this._beta)*(o+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}},function e(t){function n(e){return 1===t?new la(e):new fa(e,t)}return n.beta=function(t){return e(+t)},n}(.85),pa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:da(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:da(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}},function e(t){function n(e){return new pa(e,t)}return n.tension=function(t){return e(+t)},n}(0),ha.prototype={areaStart:aa,areaEnd:aa,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:da(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}},function e(t){function n(e){return new ha(e,t)}return n.tension=function(t){return e(+t)},n}(0),ga.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:da(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}},function e(t){function n(e){return new ga(e,t)}return n.tension=function(t){return e(+t)},n}(0),ya.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:ma(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}},function e(t){function n(e){return t?new ya(e,t):new pa(e,0)}return n.alpha=function(t){return e(+t)},n}(.5),va.prototype={areaStart:aa,areaEnd:aa,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:ma(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}},function e(t){function n(e){return t?new va(e,t):new ha(e,0)}return n.alpha=function(t){return e(+t)},n}(.5),ba.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ma(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}},function e(t){function n(e){return t?new ba(e,t):new ga(e,0)}return n.alpha=function(t){return e(+t)},n}(.5),xa.prototype={areaStart:aa,areaEnd:aa,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},Ca.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ta(this,this._t0,ka(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ta(this,ka(this,n=wa(this,e,t)),n);break;default:Ta(this,this._t0,n=wa(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(Oa.prototype=Object.create(Ca.prototype)).point=function(e,t){Ca.prototype.point.call(this,t,e)},Sa.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}},Aa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=Ma(e),i=Ma(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},Ea.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var Pa=Array.prototype.slice;function Da(e,t){if((r=e.length)>1)for(var n,r,i=1,o=e[t[0]],a=o.length;i<r;++i){n=o,o=e[t[i]];for(var s=0;s<a;++s)o[s][1]+=o[s][0]=isNaN(n[s][1])?n[s][0]:n[s][1]}}function La(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Ra(e,t){return e[t]}var Ia,Na,ja,za=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qa=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Fa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ba(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Ha={symbolCircle:Uo,symbolCross:Vo,symbolDiamond:Ko,symbolSquare:Jo,symbolStar:$o,symbolTriangle:ea,symbolWye:oa},Ua=Math.PI/180;const Va=to((ja=Na=function(e){function t(){return Fa(this,t),Ba(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),qa(t,[{key:"getPath",value:function(){var e=this.props,t=e.size,n=e.sizeType,r=e.type,i=function(e){var t="symbol"+e.slice(0,1).toUpperCase()+e.slice(1);return Ha[t]||Uo}(r);return function(){var e=Io(Uo),t=Io(64),n=null;function r(){var r;if(n||(n=r=Ro()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),r)return n=null,r+""||null}return r.type=function(t){return arguments.length?(e="function"==typeof t?t:Io(t),r):e},r.size=function(e){return arguments.length?(t="function"==typeof e?e:Io(+e),r):t},r.context=function(e){return arguments.length?(n=null==e?null:e,r):n},r}().type(i).size(function(e,t,n){if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*Ua;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.pow(Math.tan(r),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(t,n,r))()}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.cx,r=e.cy,i=e.size;return n===+n&&r===+r&&i===+i?a().createElement("path",za({},lo(this.props),uo(this.props),{className:c()("recharts-symbols",t),transform:"translate("+n+", "+r+")",d:this.getPath()})):null}}]),t}(o.Component),Na.displayName="Symbols",Na.propTypes=za({},no,{className:l().string,type:l().oneOf(["circle","cross","diamond","square","star","triangle","wye"]),cx:l().number,cy:l().number,size:l().number,sizeType:l().oneOf(["area","diameter"])}),Na.defaultProps={type:"circle",size:64,sizeType:"area"},Ia=ja))||Ia;var Wa,Ga,Ka,Ya=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Za=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Xa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Ja=io.filter((function(e){return"none"!==e}));const Qa=to((Ka=Ga=function(e){function t(){return Xa(this,t),$a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Za(t,[{key:"renderIcon",value:function(e){var t=e.color,n=32/6,r=32/3;return"line"===e.type?a().createElement("path",{strokeWidth:4,fill:"none",stroke:t,d:"M0,16h"+r+"\n            A"+n+","+n+",0,1,1,"+2*r+",16\n            H32M"+2*r+",16\n            A"+n+","+n+",0,1,1,"+r+",16",className:"recharts-legend-icon"}):"rect"===e.type?a().createElement("path",{stroke:"none",fill:t,d:"M0,4h32v24h-32z",className:"recharts-legend-icon"}):a().createElement(Va,{fill:t,cx:16,cy:16,size:32,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,t=this.props,n=t.payload,r=t.iconSize,i=t.layout,o=t.formatter,s={x:0,y:0,width:32,height:32},l={display:"horizontal"===i?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return n.map((function(t,n){var i=t.formatter||o;return"none"===t.type?null:a().createElement("li",Ya({className:"recharts-legend-item legend-item-"+n,style:l,key:"legend-item-"+n},fo(e.props,t,n)),a().createElement(_o,{width:r,height:r,viewBox:s,style:u},e.renderIcon(t,r)),a().createElement("span",{className:"recharts-legend-item-text"},i?i(t.value,t,n):t.value))}))}},{key:"render",value:function(){var e=this.props,t=e.payload,n=e.layout,r=e.align;if(!t||!t.length)return null;var i={padding:0,margin:0,textAlign:"horizontal"===n?r:"left"};return a().createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}]),t}(o.Component),Ga.displayName="Legend",Ga.propTypes={content:l().element,iconSize:l().number,iconType:l().oneOf(Ja),layout:l().oneOf(["horizontal","vertical"]),align:l().oneOf(["center","left","right"]),verticalAlign:l().oneOf(["top","bottom","middle"]),payload:l().arrayOf(l().shape({value:l().any,id:l().any,type:l().oneOf(io)})),formatter:l().func,onMouseEnter:l().func,onMouseLeave:l().func,onClick:l().func},Ga.defaultProps={iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle"},Wa=Ka))||Wa;var es,ts,ns,rs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},is=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function os(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function as(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var ss=io.filter((function(e){return"none"!==e}));const ls=to((ns=ts=function(e){function t(){var e,n,r;os(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=as(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={boxWidth:-1,boxHeight:-1},as(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),is(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){var e=this.state,t=e.boxWidth,n=e.boxHeight;return t>=0&&n>=0?{width:t,height:n}:null}},{key:"getDefaultPosition",value:function(e){var t=this.props,n=t.layout,r=t.align,i=t.verticalAlign,o=t.margin,a=t.chartWidth,s=t.chartHeight,l=void 0,u=void 0;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(l="center"===r&&"vertical"===n?{left:((a||0)-(this.getBBox()||{width:0}).width)/2}:"right"===r?{right:o&&o.right||0}:{left:o&&o.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(u="middle"===i?{top:((s||0)-(this.getBBox()||{height:0}).height)/2}:"bottom"===i?{bottom:o&&o.bottom||0}:{top:o&&o.top||0}),rs({},l,u)}},{key:"updateBBox",value:function(){var e=this.state,t=e.boxWidth,n=e.boxHeight,r=this.props.onBBoxUpdate;if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var i=this.wrapperNode.getBoundingClientRect();(Math.abs(i.width-t)>1||Math.abs(i.height-n)>1)&&this.setState({boxWidth:i.width,boxHeight:i.height},(function(){r&&r(i)}))}else-1===t&&-1===n||this.setState({boxWidth:-1,boxHeight:-1},(function(){r&&r(null)}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.content,r=t.width,i=t.height,o=t.wrapperStyle,s=rs({position:"absolute",width:r||"auto",height:i||"auto"},this.getDefaultPosition(o),o);return a().createElement("div",{className:"recharts-legend-wrapper",style:s,ref:function(t){e.wrapperNode=t}},function(e,t){return a().isValidElement(e)?a().cloneElement(e,t):v()(e)?e(t):a().createElement(Qa,t)}(n,this.props))}}],[{key:"getWithHeight",value:function(e,t){var n=e.props.layout;return"vertical"===n&&ji(e.props.height)?{height:e.props.height}:"horizontal"===n?{width:e.props.width||t}:null}}]),t}(o.Component),ts.displayName="Legend",ts.propTypes={content:l().oneOfType([l().element,l().func]),wrapperStyle:l().object,chartWidth:l().number,chartHeight:l().number,width:l().number,height:l().number,iconSize:l().number,iconType:l().oneOf(ss),layout:l().oneOf(["horizontal","vertical"]),align:l().oneOf(["center","left","right"]),verticalAlign:l().oneOf(["top","bottom","middle"]),margin:l().shape({top:l().number,left:l().number,bottom:l().number,right:l().number}),payload:l().arrayOf(l().shape({value:l().any,id:l().any,type:l().oneOf(io)})),formatter:l().func,onMouseEnter:l().func,onMouseLeave:l().func,onClick:l().func,onBBoxUpdate:l().func},ts.defaultProps={iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"},es=ns))||es;var us,cs,fs,ds=n(60765),ps=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hs=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function gs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ms(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var ys=function(e){return x()(e)&&zi(e[0])&&zi(e[1])?e.join(" ~ "):e};const vs=to((fs=cs=function(e){function t(){return gs(this,t),ms(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),hs(t,[{key:"renderContent",value:function(){var e=this.props,t=e.payload,n=e.separator,r=e.formatter,i=e.itemStyle,o=e.itemSorter;if(t&&t.length){var s=t.filter((function(e){return!d()(e.value)})).sort(o).map((function(e,t){var o=ps({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},i),s=e.formatter||r||ys;return a().createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-"+t,style:o},e.name?a().createElement("span",{className:"recharts-tooltip-item-name"},e.name):null,e.name?a().createElement("span",{className:"recharts-tooltip-item-separator"},n):null,a().createElement("span",{className:"recharts-tooltip-item-value"},s?s(e.value,e.name,e,t):e.value),a().createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))}));return a().createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},s)}return null}},{key:"render",value:function(){var e=this.props,t=e.labelStyle,n=e.label,r=e.labelFormatter,i=e.wrapperStyle,o=ps({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),s=ps({margin:0},t),l=zi(n),u=l?n:"";return l&&r&&(u=r(n)),a().createElement("div",{className:"recharts-default-tooltip",style:o},a().createElement("p",{className:"recharts-tooltip-label",style:s},u),this.renderContent())}}]),t}(o.Component),cs.displayName="DefaultTooltipContent",cs.propTypes={separator:l().string,formatter:l().func,wrapperStyle:l().object,itemStyle:l().object,labelStyle:l().object,labelFormatter:l().func,label:l().any,payload:l().arrayOf(l().shape({name:l().any,value:l().oneOfType([l().number,l().string,l().array]),unit:l().any})),itemSorter:l().func},cs.defaultProps={separator:" : ",itemStyle:{},labelStyle:{}},us=fs))||us;var bs,xs,_s,ws=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ks=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Ts(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cs(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Os={content:l().oneOfType([l().element,l().func]),viewBox:l().shape({x:l().number,y:l().number,width:l().number,height:l().number}),active:l().bool,separator:l().string,formatter:l().func,offset:l().number,itemStyle:l().object,labelStyle:l().object,wrapperStyle:l().object,cursor:l().oneOfType([l().bool,l().element,l().object]),coordinate:l().shape({x:l().number,y:l().number}),position:l().shape({x:l().number,y:l().number}),label:l().any,payload:l().arrayOf(l().shape({name:l().any,value:l().oneOfType([l().number,l().string,l().array]),unit:l().any})),isAnimationActive:l().bool,animationDuration:l().number,animationEasing:l().oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),itemSorter:l().func},Ss={active:!1,offset:10,viewBox:{x1:0,x2:0,y1:0,y2:0},coordinate:{x:0,y:0},cursorStyle:{},separator:" : ",wrapperStyle:{},itemStyle:{},labelStyle:{},cursor:!0,isAnimationActive:!ho(),animationEasing:"ease",animationDuration:400,itemSorter:function(){return-1}};const As=to((_s=xs=function(e){function t(){var e,n,r;Ts(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=Cs(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={boxWidth:-1,boxHeight:-1},Cs(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),ks(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"updateBBox",value:function(){var e=this.state,t=e.boxWidth,n=e.boxHeight;if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-t)>1||Math.abs(r.height-n)>1)&&this.setState({boxWidth:r.width,boxHeight:r.height})}else-1===t&&-1===n||this.setState({boxWidth:-1,boxHeight:-1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.payload,r=t.isAnimationActive,i=t.animationDuration,o=t.animationEasing,s=n&&n.length&&n.filter((function(e){return!d()(e.value)})).length,l=this.props,u=l.content,c=l.viewBox,f=l.coordinate,p=l.position,h=l.active,g=l.offset,m=l.wrapperStyle,y=ws({pointerEvents:"none",visibility:h&&s?"visible":"hidden",position:"absolute",top:0},m),b=void 0,x=void 0;if(p&&ji(p.x)&&ji(p.y))b=p.x,x=p.y;else{var _=this.state,w=_.boxWidth,k=_.boxHeight;w>0&&k>0&&f?(b=p&&ji(p.x)?p.x:Math.max(f.x+w+g>c.x+c.width?f.x-w-g:f.x+g,c.x),x=p&&ji(p.y)?p.y:Math.max(f.y+k+g>c.y+c.height?f.y-k-g:f.y+g,c.y)):y.visibility="hidden"}return y=ws({},y,(0,ds.bO)({transform:"translate("+b+"px, "+x+"px)"})),r&&h&&(y=ws({},y,(0,ds.bO)({transition:"transform "+i+"ms "+o}))),a().createElement("div",{className:"recharts-tooltip-wrapper",style:y,ref:function(t){e.wrapperNode=t}},function(e,t){return a().isValidElement(e)?a().cloneElement(e,t):v()(e)?e(t):a().createElement(vs,t)}(u,this.props))}}]),t}(o.Component),xs.displayName="Tooltip",xs.propTypes=Os,xs.defaultProps=Ss,bs=_s))||bs;var Ms,Es=n(67460),Ps=n.n(Es),Ds=n(53172),Ls=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Ms=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.updateDimensionsImmediate=function(){if(n.mounted){var e=n.getContainerSize();if(e){var t=n.state,r=t.containerWidth,i=t.containerHeight,o=e.containerWidth,a=e.containerHeight;o===r&&a===i||n.setState({containerWidth:o,containerHeight:a})}}},n.state={containerWidth:-1,containerHeight:-1},n.handleResize=e.debounce>0?Ps()(n.updateDimensionsImmediate,e.debounce):n.updateDimensionsImmediate,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Ls(t,[{key:"componentDidMount",value:function(){this.mounted=!0;var e=this.getContainerSize();e&&this.setState(e)}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"getContainerSize",value:function(){return this.container?{containerWidth:this.container.clientWidth,containerHeight:this.container.clientHeight}:null}},{key:"renderChart",value:function(){var e=this.state,t=e.containerWidth,n=e.containerHeight;if(t<0||n<0)return null;var r=this.props,i=r.aspect,o=r.width,s=r.height,l=(r.minWidth,r.minHeight,r.maxHeight),u=r.children;Ni(o)||Ni(s);var c=Ni(o)?t:o,f=Ni(s)?n:s;return i&&i>0&&(f=c/i,l&&f>l&&(f=l)),a().cloneElement(u,{width:c,height:f})}},{key:"render",value:function(){var e=this,t=this.props,n=t.minWidth,r=t.minHeight,i={width:t.width,height:t.height,minWidth:n,minHeight:r,maxHeight:t.maxHeight};return a().createElement("div",{className:"recharts-responsive-container",style:i,ref:function(t){e.container=t}},this.renderChart(),a().createElement(Ds.Z,{handleWidth:!0,handleHeight:!0,onResize:this.handleResize}))}}]),t}(o.Component),Ms.displayName="ResponsiveContainer",Ms.propTypes={aspect:l().number,width:l().oneOfType([l().string,l().number]),height:l().oneOfType([l().string,l().number]),minHeight:l().number,minWidth:l().number,maxHeight:l().number,children:l().node.isRequired,debounce:l().number},Ms.defaultProps={width:"100%",height:"100%",debounce:0};var Rs,Is,Ns=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},js=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function zs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qs(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}const Fs=(Is=Rs=function(e){function t(){return zs(this,t),qs(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),js(t,[{key:"render",value:function(){return null}}]),t}(o.Component),Rs.displayName="Cell",Rs.propTypes=Ns({},no),Is);var Bs=n(26488),Hs=n.n(Bs),Us=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function Vs(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var Ws,Gs,Ks={widthCache:{},cacheCount:0},Ys={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Zs=["minWidth","maxWidth","width","minHeight","maxHeight","height","top","left","fontSize","lineHeight","padding","margin","paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom"],Xs="recharts_measurement_span",$s=function(e){return Object.keys(e).reduce((function(t,n){return t+(n.split("").reduce((function(e,t){return t===t.toUpperCase()?[].concat(Vs(e),["-",t.toLowerCase()]):[].concat(Vs(e),[t])}),[]).join("")+":")+function(e,t){return Zs.indexOf(e)>=0&&t===+t?t+"px":t}(n,e[n])+";"}),"")},Js=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==e||ho())return{width:0,height:0};var n=""+e,r=$s(t),i=n+"-"+r;if(Ks.widthCache[i])return Ks.widthCache[i];try{var o=document.getElementById(Xs);o||((o=document.createElement("span")).setAttribute("id",Xs),document.body.appendChild(o)),o.setAttribute("style",$s(Us({},Ys,t))),o.textContent=n;var a=o.getBoundingClientRect(),s={width:a.width,height:a.height};return Ks.widthCache[i]=s,++Ks.cacheCount>2e3&&(Ks.cacheCount=0,Ks.widthCache={}),s}catch(e){return{width:0,height:0}}},Qs=function(e){var t=e.ownerDocument.documentElement,n={top:0,left:0};return void 0!==e.getBoundingClientRect&&(n=e.getBoundingClientRect()),{top:n.top+window.pageYOffset-t.clientTop,left:n.left+window.pageXOffset-t.clientLeft}},el=function(e,t){return{chartX:Math.round(e.pageX-t.left),chartY:Math.round(e.pageY-t.top)}},tl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nl=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function rl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function il(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}const ol=(Gs=Ws=function(e){function t(){var e,n,r;rl(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=il(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={wordsByLines:[]},il(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),nl(t,[{key:"componentWillMount",value:function(){this.updateWordsByLines(this.props,!0)}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.children!==e.children||this.props.style!==e.style;this.updateWordsByLines(e,t)}},{key:"updateWordsByLines",value:function(e,t){if(!e.width&&!e.scaleToFit||ho())this.updateWordsWithoutCalculate(e);else{if(t){var n=function(e){try{return{wordsWithComputedWidth:(d()(e.children)?[]:e.children.toString().split(/\s+/)).map((function(t){return{word:t,width:Js(t,e.style).width}})),spaceWidth:Js(" ",e.style).width}}catch(e){return null}}(e);if(!n)return void this.updateWordsWithoutCalculate(e);var r=n.wordsWithComputedWidth,i=n.spaceWidth;this.wordsWithComputedWidth=r,this.spaceWidth=i}var o=this.calculateWordsByLines(this.wordsWithComputedWidth,this.spaceWidth,e.width);this.setState({wordsByLines:o})}}},{key:"updateWordsWithoutCalculate",value:function(e){var t=d()(e.children)?[]:e.children.toString().split(/\s+/);this.setState({wordsByLines:[{words:t}]})}},{key:"calculateWordsByLines",value:function(e,t,n){var r=this.props.scaleToFit;return e.reduce((function(e,i){var o=i.word,a=i.width,s=e[e.length-1];if(s&&(null==n||r||s.width+a+t<n))s.words.push(o),s.width+=a+t;else{var l={words:[o],width:a};e.push(l)}return e}),[])}},{key:"render",value:function(){var e=this.props,t=e.dx,n=e.dy,r=e.textAnchor,i=e.verticalAnchor,o=e.scaleToFit,s=e.angle,l=e.lineHeight,u=e.capHeight,f=e.className,d=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["dx","dy","textAnchor","verticalAnchor","scaleToFit","angle","lineHeight","capHeight","className"]),p=this.state.wordsByLines;if(!zi(d.x)||!zi(d.y))return null;var h=d.x+(ji(t)?t:0),g=d.y+(ji(n)?n:0),m=void 0;switch(i){case"start":m=Hs()("calc("+u+")");break;case"middle":m=Hs()("calc("+(p.length-1)/2+" * -"+l+" + ("+u+" / 2))");break;default:m=Hs()("calc("+(p.length-1)+" * -"+l+")")}var y=[];if(o){var v=p[0].width;y.push("scale("+this.props.width/v+")")}return s&&y.push("rotate("+s+", "+h+", "+g+")"),y.length&&(d.transform=y.join(" ")),a().createElement("text",tl({},lo(d),{x:h,y:g,className:c()("recharts-text",f),textAnchor:r}),p.map((function(e,t){return a().createElement("tspan",{x:h,dy:0===t?m:l,key:t},e.words.join(" "))})))}}]),t}(o.Component),Ws.propTypes=tl({},no,{scaleToFit:l().bool,angle:l().number,textAnchor:l().oneOf(["start","middle","end","inherit"]),verticalAnchor:l().oneOf(["start","middle","end"]),style:l().object}),Ws.defaultProps={x:0,y:0,lineHeight:"1em",capHeight:"0.71em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end"},Gs);var al,sl,ll,ul=Math.PI/180,cl=function(e,t,n,r){return{x:e+Math.cos(-ul*r)*n,y:t+Math.sin(-ul*r)*n}},fl=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(t-(n.left||0)-(n.right||0)))/2},dl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pl=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function hl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gl(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var ml=function(e){var t=e.cx,n=e.cy,r=e.radius,i=e.angle,o=e.sign,a=e.isExternal,s=e.cornerRadius,l=s*(a?1:-1)+r,u=Math.asin(s/l)/ul,c=i+o*u;return{center:cl(t,n,l,c),circleTangency:cl(t,n,r,c),lineTangency:cl(t,n,l*Math.cos(u*ul),i),theta:u}},yl=function(e){var t=e.cx,n=e.cy,r=e.innerRadius,i=e.outerRadius,o=e.startAngle,a=function(e,t){return Ii(t-e)*Math.min(Math.abs(t-e),359.999)}(o,e.endAngle),s=o+a,l=cl(t,n,i,o),u=cl(t,n,i,s),c="M "+l.x+","+l.y+"\n    A "+i+","+i+",0,\n    "+ +(Math.abs(a)>180)+","+ +(o>s)+",\n    "+u.x+","+u.y+"\n  ";if(r>0){var f=cl(t,n,r,o),d=cl(t,n,r,s);c+="L "+d.x+","+d.y+"\n            A "+r+","+r+",0,\n            "+ +(Math.abs(a)>180)+","+ +(o<=s)+",\n            "+f.x+","+f.y+" Z"}else c+="L "+t+","+n+" Z";return c};const vl=to((ll=sl=function(e){function t(){return hl(this,t),gl(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),pl(t,[{key:"render",value:function(){var e=this.props,t=e.cx,n=e.cy,r=e.innerRadius,i=e.outerRadius,o=e.cornerRadius,s=e.startAngle,l=e.endAngle,u=e.className;if(i<r||s===l)return null;var f,d=c()("recharts-sector",u),p=i-r,h=Bi(o,p,0,!0);return f=h>0&&Math.abs(s-l)<360?function(e){var t=e.cx,n=e.cy,r=e.innerRadius,i=e.outerRadius,o=e.cornerRadius,a=e.startAngle,s=e.endAngle,l=Ii(s-a),u=ml({cx:t,cy:n,radius:i,angle:a,sign:l,cornerRadius:o}),c=u.circleTangency,f=u.lineTangency,d=u.theta,p=ml({cx:t,cy:n,radius:i,angle:s,sign:-l,cornerRadius:o}),h=p.circleTangency,g=p.lineTangency,m=p.theta,y=Math.abs(a-s)-d-m;if(y<0)return yl({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:s});var v="M "+f.x+","+f.y+"\n    A"+o+","+o+",0,0,"+ +(l<0)+","+c.x+","+c.y+"\n    A"+i+","+i+",0,"+ +(y>180)+","+ +(l<0)+","+h.x+","+h.y+"\n    A"+o+","+o+",0,0,"+ +(l<0)+","+g.x+","+g.y+"\n  ";if(r>0){var b=ml({cx:t,cy:n,radius:r,angle:a,sign:l,isExternal:!0,cornerRadius:o}),x=b.circleTangency,_=b.lineTangency,w=b.theta,k=ml({cx:t,cy:n,radius:r,angle:s,sign:-l,isExternal:!0,cornerRadius:o}),T=k.circleTangency,C=k.lineTangency,O=k.theta,S=Math.abs(a-s)-w-O;if(S<0)return v+"L"+t+","+n+"Z";v+="L"+C.x+","+C.y+"\n      A"+o+","+o+",0,0,"+ +(l<0)+","+T.x+","+T.y+"\n      A"+r+","+r+",0,"+ +(S>180)+","+ +(l>0)+","+x.x+","+x.y+"\n      A"+o+","+o+",0,0,"+ +(l<0)+","+_.x+","+_.y+"Z"}else v+="L"+t+","+n+"Z";return v}({cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:Math.min(h,p/2),startAngle:s,endAngle:l}):yl({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:l}),a().createElement("path",dl({},lo(this.props),uo(this.props),{className:d,d:f}))}}]),t}(o.Component),sl.displayName="Sector",sl.propTypes=dl({},no,{className:l().string,cx:l().number,cy:l().number,innerRadius:l().number,outerRadius:l().number,startAngle:l().number,endAngle:l().number,cornerRadius:l().oneOfType([l().number,l().string])}),sl.defaultProps={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0},al=ll))||al;var bl,xl,_l,wl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kl=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Tl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cl(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Ol={curveBasisClosed:function(e){return new ua(e)},curveBasisOpen:function(e){return new ca(e)},curveBasis:function(e){return new la(e)},curveLinearClosed:function(e){return new xa(e)},curveLinear:jo,curveMonotoneX:function(e){return new Ca(e)},curveMonotoneY:function(e){return new Oa(e)},curveNatural:function(e){return new Aa(e)},curveStep:function(e){return new Ea(e,.5)},curveStepAfter:function(e){return new Ea(e,1)},curveStepBefore:function(e){return new Ea(e,0)}},Sl=function(e){return e.x===+e.x&&e.y===+e.y},Al=function(e){return e.x},Ml=function(e){return e.y};const El=to((_l=xl=function(e){function t(){return Tl(this,t),Cl(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),kl(t,[{key:"getPath",value:function(){var e=this.props,t=e.type,n=e.points,r=e.baseLine,i=e.layout,o=e.connectNulls,a=function(e,t){if(v()(e))return e;var n="curve"+e.slice(0,1).toUpperCase()+e.slice(1);return"curveMonotone"===n&&t?Ol[n+("vertical"===t?"Y":"X")]:Ol[n]||jo}(t,i),s=o?n.filter((function(e){return Sl(e)})):n,l=void 0;if(x()(r)){var u=s.map((function(e,t){return wl({},e,{base:r[t]})}));return(l="vertical"===i?Bo().y(Ml).x1(Al).x0((function(e){return e.base.x})):Bo().x(Al).y1(Ml).y0((function(e){return e.base.y}))).defined(Sl).curve(a),l(u)}return(l="vertical"===i&&ji(r)?Bo().y(Ml).x1(Al).x0(r):ji(r)?Bo().x(Al).y1(Ml).y0(r):Fo().x(Al).y(Ml)).defined(Sl).curve(a),l(s)}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.points,r=e.pathRef;return n&&n.length?a().createElement("path",wl({},lo(this.props),uo(this.props),{className:c()("recharts-curve",t),d:this.getPath(),ref:r})):null}}]),t}(o.Component),xl.displayName="Curve",xl.propTypes=wl({},no,{className:l().string,type:l().oneOfType([l().oneOf(["basis","basisClosed","basisOpen","linear","linearClosed","natural","monotoneX","monotoneY","monotone","step","stepBefore","stepAfter"]),l().func]),layout:l().oneOf(["horizontal","vertical"]),baseLine:l().oneOfType([l().number,l().array]),points:l().arrayOf(l().object),connectNulls:l().bool,pathRef:l().func}),xl.defaultProps={type:"linear",points:[],connectNulls:!1},bl=_l))||bl;var Pl,Dl,Ll,Rl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Il=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Nl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jl(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var zl=function(e,t,n,r,i){var o=Math.min(Math.abs(n)/2,Math.abs(r)/2),a=r>=0?1:-1,s=r>=0?1:0,l=void 0;if(o>0&&i instanceof Array){for(var u=[],c=0;c<4;c++)u[c]=i[c]>o?o:i[c];l="M"+e+","+(t+a*u[0]),u[0]>0&&(l+="A "+u[0]+","+u[0]+",0,0,"+s+","+(e+u[0])+","+t),l+="L "+(e+n-u[1])+","+t,u[1]>0&&(l+="A "+u[1]+","+u[1]+",0,0,"+s+",\n        "+(e+n)+","+(t+a*u[1])),l+="L "+(e+n)+","+(t+r-a*u[2]),u[2]>0&&(l+="A "+u[2]+","+u[2]+",0,0,"+s+",\n        "+(e+n-u[2])+","+(t+r)),l+="L "+(e+u[3])+","+(t+r),u[3]>0&&(l+="A "+u[3]+","+u[3]+",0,0,"+s+",\n        "+e+","+(t+r-a*u[3])),l+="Z"}else if(o>0&&i===+i&&i>0){var f=Math.min(o,i);l="M "+e+","+(t+a*f)+"\n            A "+f+","+f+",0,0,"+s+","+(e+f)+","+t+"\n            L "+(e+n-f)+","+t+"\n            A "+f+","+f+",0,0,"+s+","+(e+n)+","+(t+a*f)+"\n            L "+(e+n)+","+(t+r-a*f)+"\n            A "+f+","+f+",0,0,"+s+","+(e+n-f)+","+(t+r)+"\n            L "+(e+f)+","+(t+r)+"\n            A "+f+","+f+",0,0,"+s+","+e+","+(t+r-a*f)+" Z"}else l="M "+e+","+t+" h "+n+" v "+r+" h "+-n+" Z";return l};const ql=to((Ll=Dl=function(e){function t(){var e,n,r;Nl(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=jl(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={totalLength:-1},jl(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Il(t,[{key:"componentDidMount",value:function(){if(this.node&&this.node.getTotalLength){var e=this.node.getTotalLength();e&&this.setState({totalLength:e})}}},{key:"render",value:function(){var e=this,t=this.props,n=t.x,r=t.y,i=t.width,o=t.height,s=t.radius,l=t.className,u=this.state.totalLength,f=this.props,d=f.animationEasing,p=f.animationDuration,h=f.animationBegin,g=f.isAnimationActive,m=f.isUpdateAnimationActive;if(n!==+n||r!==+r||i!==+i||o!==+o)return null;var y=c()("recharts-rectangle",l);return m?a().createElement(ds.ZP,{canBegin:u>0,from:{width:i,height:o,x:n,y:r},to:{width:i,height:o,x:n,y:r},duration:p,animationEasing:d,isActive:m},(function(t){var n=t.width,r=t.height,i=t.x,o=t.y;return a().createElement(ds.ZP,{canBegin:u>0,from:"0px "+(-1===u?1:u)+"px",to:u+"px 0px",attributeName:"strokeDasharray",begin:h,duration:p,isActive:g,easing:d},a().createElement("path",Rl({},lo(e.props),uo(e.props),{className:y,d:zl(i,o,n,r,s),ref:function(t){e.node=t}})))})):a().createElement("path",Rl({},lo(this.props),uo(this.props),{className:y,d:zl(n,r,i,o,s)}))}}]),t}(o.Component),Dl.displayName="Rectangle",Dl.propTypes=Rl({},no,ro,{className:l().string,x:l().number,y:l().number,width:l().number,height:l().number,radius:l().oneOfType([l().number,l().array]),isAnimationActive:l().bool,isUpdateAnimationActive:l().bool,animationBegin:l().number,animationDuration:l().number,animationEasing:l().oneOf(["ease","ease-in","ease-out","ease-in-out","linear"])}),Dl.defaultProps={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Pl=Ll))||Pl;var Fl,Bl,Hl,Ul=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vl=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Wl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gl(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Kl=function(e){return e.reduce((function(e,t){return t.x===+t.x&&t.y===+t.y&&e.push([t.x,t.y]),e}),[]).join(" ")};const Yl=to((Hl=Bl=function(e){function t(){return Wl(this,t),Gl(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Vl(t,[{key:"render",value:function(){var e=this.props,t=e.points,n=e.className;if(!t||!t.length)return null;var r=c()("recharts-polygon",n);return a().createElement("polygon",Ul({},lo(this.props),uo(this.props),{className:r,points:Kl(t)}))}}]),t}(o.Component),Bl.displayName="Polygon",Bl.propTypes=Ul({},no,{className:l().string,points:l().arrayOf(l().shape({x:l().number,y:l().number}))}),Fl=Hl))||Fl;var Zl,Xl,$l,Jl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ql=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function eu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tu(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}const nu=to(($l=Xl=function(e){function t(){return eu(this,t),tu(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Ql(t,[{key:"render",value:function(){var e=this.props,t=e.cx,n=e.cy,r=e.r,i=e.className,o=c()("recharts-dot",i);return t===+t&&n===+n&&r===+r?a().createElement("circle",Jl({},lo(this.props),uo(this.props),{className:o,cx:t,cy:n,r})):null}}]),t}(o.Component),Xl.displayName="Dot",Xl.propTypes={className:l().string,cx:l().number,cy:l().number,r:l().number},Zl=$l))||Zl;var ru,iu,ou,au=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},su=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function lu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uu(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}const cu=to((ou=iu=function(e){function t(){return lu(this,t),uu(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),su(t,[{key:"getPath",value:function(e,t,n,r,i,o){return"M"+e+","+i+"v"+r+"M"+o+","+t+"h"+n}},{key:"render",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,i=e.height,o=e.top,s=e.left,l=e.className;return ji(t)&&ji(n)&&ji(r)&&ji(i)&&ji(o)&&ji(s)?a().createElement("path",au({},lo(this.props),{className:c()("recharts-cross",l),d:this.getPath(t,n,r,i,o,s)})):null}}]),t}(o.Component),iu.displayName="Cross",iu.propTypes=au({},no,{x:l().number,y:l().number,width:l().number,height:l().number,top:l().number,left:l().number,className:l().string}),iu.defaultProps={x:0,y:0,top:0,left:0,width:0,height:0},ru=ou))||ru;var fu,du,pu,hu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gu=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function mu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yu(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}const vu=to((pu=du=function(e){function t(){return mu(this,t),yu(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),gu(t,[{key:"getPolygonPath",value:function(e){var t=this.props,n=t.cx,r=t.cy,i=t.polarAngles,o="";return i.forEach((function(t,i){var a=cl(n,r,e,t);o+=i?"L "+a.x+","+a.y:"M "+a.x+","+a.y})),o+="Z"}},{key:"renderPolarAngles",value:function(){var e=this.props,t=e.cx,n=e.cy,r=e.innerRadius,i=e.outerRadius,o=e.polarAngles;if(!o||!o.length)return null;var s=hu({stroke:"#ccc"},lo(this.props));return a().createElement("g",{className:"recharts-polar-grid-angle"},o.map((function(e,o){var l=cl(t,n,r,e),u=cl(t,n,i,e);return a().createElement("line",hu({},s,{key:"line-"+o,x1:l.x,y1:l.y,x2:u.x,y2:u.y}))})))}},{key:"renderConcentricCircle",value:function(e,t,n){var r=this.props,i=r.cx,o=r.cy,s=hu({stroke:"#ccc"},lo(this.props),{fill:"none"},n);return a().createElement("circle",hu({},s,{className:"recharts-polar-grid-concentric-circle",key:"circle-"+t,cx:i,cy:o,r:e}))}},{key:"renderConcentricPolygon",value:function(e,t,n){var r=hu({stroke:"#ccc"},lo(this.props),{fill:"none"},n);return a().createElement("path",hu({},r,{className:"recharts-polar-grid-concentric-polygon",key:"path-"+t,d:this.getPolygonPath(e)}))}},{key:"renderConcentricPath",value:function(){var e=this,t=this.props,n=t.polarRadius,r=t.gridType;return n&&n.length?a().createElement("g",{className:"recharts-polar-grid-concentric"},n.map((function(t,n){return"circle"===r?e.renderConcentricCircle(t,n):e.renderConcentricPolygon(t,n)}))):null}},{key:"render",value:function(){return this.props.outerRadius<=0?null:a().createElement("g",{className:"recharts-polar-grid"},this.renderPolarAngles(),this.renderConcentricPath())}}]),t}(o.Component),du.displayName="PolarGrid",du.propTypes=hu({},no,{cx:l().number,cy:l().number,innerRadius:l().number,outerRadius:l().number,polarAngles:l().arrayOf(l().number),polarRadius:l().arrayOf(l().number),gridType:l().oneOf(["polygon","circle"])}),du.defaultProps={cx:0,cy:0,innerRadius:0,outerRadius:0,gridType:"polygon"},fu=pu))||fu;var bu,xu,_u,wu=n(93110),ku=n.n(wu),Tu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cu=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Ou(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function Su(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Au(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}const Mu=to((_u=xu=function(e){function t(){return Su(this,t),Au(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Cu(t,[{key:"getTickValueCoord",value:function(e){var t=e.radius,n=this.props,r=n.angle,i=n.cx,o=n.cy;return cl(i,o,t,r)}},{key:"getTickTextAnchor",value:function(){var e=void 0;switch(this.props.orientation){case"left":e="end";break;case"right":e="start";break;default:e="middle"}return e}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,n=e.cy,r=e.angle,i=e.ticks,o=e.axisLine,s=Ou(e,["cx","cy","angle","ticks","axisLine"]),l=i.reduce((function(e,t){return[Math.min(e[0],t.radius),Math.max(e[1],t.radius)]}),[1/0,-1/0]),u=cl(t,n,l[0],r),c=cl(t,n,l[1],r),f=Tu({},lo(s),{fill:"none"},lo(o),{x1:u.x,y1:u.y,x2:c.x,y2:c.y});return a().createElement("line",Tu({className:"recharts-polar-radius-axis-line"},f))}},{key:"renderTickItem",value:function(e,t,n){return a().isValidElement(e)?a().cloneElement(e,t):v()(e)?e(t):a().createElement(ol,Tu({},t,{className:"recharts-polar-radius-axis-tick-value"}),n)}},{key:"renderTicks",value:function(){var e=this,t=this.props,n=t.ticks,r=t.tick,i=t.angle,o=t.tickFormatter,s=t.stroke,l=Ou(t,["ticks","tick","angle","tickFormatter","stroke"]),u=this.getTickTextAnchor(),c=lo(l),f=lo(r),d=n.map((function(t,n){var l=e.getTickValueCoord(t),d=Tu({textAnchor:u,transform:"rotate("+(90-i)+", "+l.x+", "+l.y+")"},c,{stroke:"none",fill:s},f,{index:n},l,{payload:t});return a().createElement(Co,Tu({className:"recharts-polar-radius-axis-tick",key:"tick-"+n},fo(e.props,t,n)),e.renderTickItem(r,d,o?o(t.value):t.value))}));return a().createElement(Co,{className:"recharts-polar-radius-axis-ticks"},d)}},{key:"renderLabel",value:function(){var e=this.props.label,t=this.props,n=t.ticks,r=t.angle,i=t.stroke,o=Ou(t,["ticks","angle","stroke"]),s=ku()(n,(function(e){return e.radius||0})).radius||0,l=this.getTickValueCoord({radius:s+10}),u=Tu({},o,{stroke:"none",fill:i},l,{textAnchor:"middle",transform:"rotate("+(90-r)+", "+l.x+", "+l.y+")"});return a().isValidElement(e)?a().cloneElement(e,u):v()(e)?e(u):zi(e)?a().createElement(Co,{className:"recharts-polar-radius-axis-label"},a().createElement(ol,u,e)):null}},{key:"render",value:function(){var e=this.props,t=e.ticks,n=e.axisLine,r=e.tick;return t&&t.length?a().createElement(Co,{className:"recharts-polar-radius-axis"},n&&this.renderAxisLine(),r&&this.renderTicks(),this.renderLabel()):null}}]),t}(o.Component),xu.displayName="PolarRadiusAxis",xu.propTypes=Tu({},no,ro,{cx:l().number,cy:l().number,hide:l().bool,angle:l().number,tickCount:l().number,ticks:l().arrayOf(l().shape({value:l().any,radius:l().value})),orientation:l().oneOf(["left","right","middle"]),axisLine:l().oneOfType([l().bool,l().object]),label:l().oneOfType([l().number,l().string,l().element,l().func]),tick:l().oneOfType([l().bool,l().object,l().element,l().func]),stroke:l().string,tickFormatter:l().func,domain:l().arrayOf(l().oneOfType([l().number,l().oneOf(["auto","dataMin","dataMax"])])),scale:l().oneOfType([l().oneOf(["auto","linear","pow","sqrt","log","identity","time","band","point","ordinal","quantile","quantize","utcTime","sequential","threshold"]),l().func]),allowDataOverflow:l().bool}),xu.defaultProps={cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,domain:[0,"auto"],allowDataOverflow:!1,scale:"auto"},bu=_u))||bu;var Eu,Pu,Du,Lu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ru=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Iu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nu(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var ju=Math.PI/180,zu=1e-5;const qu=to((Du=Pu=function(e){function t(){return Iu(this,t),Nu(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Ru(t,[{key:"getTickLineCoord",value:function(e){var t=this.props,n=t.cx,r=t.cy,i=t.radius,o=t.orientation,a=t.tickLine,s=a&&a.size||8,l=cl(n,r,i,e.angle),u=cl(n,r,i+("inner"===o?-1:1)*s,e.angle);return{x1:l.x,y1:l.y,x2:u.x,y2:u.y}}},{key:"getTickTextAnchor",value:function(e){var t=this.props.orientation,n=Math.cos(-e.angle*ju);return n>zu?"outer"===t?"start":"end":n<-zu?"outer"===t?"end":"start":"middle"}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,n=e.cy,r=e.radius,i=e.axisLine,o=e.axisLineType,s=Lu({},lo(this.props),{fill:"none"},lo(i));if("circle"===o)return a().createElement(nu,Lu({className:"recharts-polar-angle-axis-line"},s,{cx:t,cy:n,r}));var l=this.props.ticks.map((function(e){return cl(t,n,r,e.angle)}));return a().createElement(Yl,Lu({className:"recharts-polar-angle-axis-line"},s,{points:l}))}},{key:"renderTickItem",value:function(e,t,n){return a().isValidElement(e)?a().cloneElement(e,t):v()(e)?e(t):a().createElement(ol,Lu({},t,{className:"recharts-polar-angle-axis-tick-value"}),n)}},{key:"renderTicks",value:function(){var e=this,t=this.props,n=t.ticks,r=t.tick,i=t.tickLine,o=t.tickFormatter,s=t.stroke,l=lo(this.props),u=lo(r),c=Lu({},l,{fill:"none"},lo(i)),f=n.map((function(t,n){var f=e.getTickLineCoord(t),d=e.getTickTextAnchor(t),p=Lu({textAnchor:d},l,{stroke:"none",fill:s},u,{index:n,payload:t,x:f.x2,y:f.y2});return a().createElement(Co,Lu({className:"recharts-polar-angle-axis-tick",key:"tick-"+n},fo(e.props,t,n)),i&&a().createElement("line",Lu({className:"recharts-polar-angle-axis-tick-line"},c,f)),r&&e.renderTickItem(r,p,o?o(t.value):t.value))}));return a().createElement(Co,{className:"recharts-polar-angle-axis-ticks"},f)}},{key:"render",value:function(){var e=this.props,t=e.ticks,n=e.radius,r=e.axisLine;return n<=0||!t||!t.length?null:a().createElement(Co,{className:"recharts-polar-angle-axis"},r&&this.renderAxisLine(),this.renderTicks())}}]),t}(o.Component),Pu.displayName="PolarAngleAxis",Pu.propTypes=Lu({},no,ro,{dataKey:l().oneOfType([l().number,l().string,l().func]),cx:l().number,cy:l().number,radius:l().oneOfType([l().number,l().string]),hide:l().bool,axisLine:l().oneOfType([l().bool,l().object]),axisLineType:l().oneOf(["polygon","circle"]),tickLine:l().oneOfType([l().bool,l().object]),tick:l().oneOfType([l().bool,l().func,l().object,l().element]),ticks:l().arrayOf(l().shape({value:l().any,angle:l().number})),stroke:l().string,orientation:l().oneOf(["inner","outer"]),tickFormatter:l().func}),Pu.defaultProps={cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tick:!0,hide:!1},Eu=Du))||Eu;var Fu=n(53893),Bu=n.n(Fu),Hu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uu=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Vu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wu(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Gu(e){var t,n;return n=t=function(t){function n(){var e,t,r;Vu(this,n);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=r=Wu(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(o))),r.state={animationId:0},Wu(r,t)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),Uu(n,[{key:"componentWillReceiveProps",value:function(e){var t=this.state.animationId;this.props.data!==e.data&&this.setState({animationId:t+1})}},{key:"render",value:function(){return a().createElement(e,Hu({},this.props,{animationId:this.state.animationId}))}}]),n}(o.Component),t.displayName="AnimationDecorator("+oo(e)+")",t.propTypes=Hu({},e.propTypes,{data:l().array}),t.WrappedComponent=e,t.defaultProps=e.defaultProps,n}var Ku,Yu,Zu,Xu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Ju(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qu(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}const ec=Gu(Ku=to((Zu=Yu=function(e){function t(){var e,n,r;Ju(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=Qu(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={isAnimationFinished:!1},r.id=Fi("recharts-pie-"),r.handleAnimationEnd=function(){r.setState({isAnimationFinished:!0})},Qu(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),$u(t,[{key:"getDeltaAngle",value:function(){var e=this.props,t=e.startAngle,n=e.endAngle;return Ii(n-t)*Math.min(Math.abs(n-t),360)}},{key:"getSectors",value:function(e){var t=this.props,n=t.cx,r=t.cy,i=t.innerRadius,o=t.outerRadius,a=t.cornerRadius,s=t.startAngle,l=t.paddingAngle,u=t.minAngle,c=t.nameKey,f=t.valueKey,d=e.length,p=this.getDeltaAngle(),h=Math.abs(p),g=(h>=360?d:d-1)*l,m=e.reduce((function(e,t){return e+$i(t,f,0)}),0),y=[],v=void 0;return m>0&&(y=e.map((function(e,t){var y,b=$i(e,f,0)/m,x=(y=t?(p<0?v.endAngle:v.startAngle)+Ii(p)*l:s)+Ii(p)*(u+b*(h-d*u-g));return v=Xu({percent:b,cornerRadius:a},e,{cx:n,cy:r,innerRadius:i,outerRadius:o,name:$i(e,c),value:$i(e,f),startAngle:p<0?y:x,endAngle:p<0?x:y,midAngle:(y+x)/2})}))),y}},{key:"getTextAnchor",value:function(e,t){return e>t?"start":e<t?"end":"middle"}},{key:"isActiveIndex",value:function(e){var t=this.props.activeIndex;return Array.isArray(t)?-1!==t.indexOf(e):e===t}},{key:"renderClipPath",value:function(){var e=this.props,t=e.cx,n=e.cy,r=e.maxRadius,i=e.startAngle,o=e.isAnimationActive,s=e.animationDuration,l=e.animationEasing,u=e.animationBegin,c=e.animationId;return a().createElement("defs",null,a().createElement("clipPath",{id:this.id},a().createElement(ds.ZP,{easing:l,isActive:o,duration:s,key:c,animationBegin:u,onAnimationEnd:this.handleAnimationEnd,from:{endAngle:i},to:{outerRadius:Math.max(this.props.outerRadius,r||0),innerRadius:0,endAngle:this.props.endAngle}},(function(e){var r=e.outerRadius,o=e.innerRadius,s=e.endAngle;return a().createElement(vl,{cx:t,cy:n,outerRadius:r,innerRadius:o,startAngle:i,endAngle:s})}))))}},{key:"renderLabelLineItem",value:function(e,t){return a().isValidElement(e)?a().cloneElement(e,t):v()(e)?e(t):a().createElement(El,Xu({},t,{type:"linear",className:"recharts-pie-label-line"}))}},{key:"renderLabelItem",value:function(e,t,n){if(a().isValidElement(e))return a().cloneElement(e,t);var r=n;return v()(e)&&(r=e(t),a().isValidElement(r))?r:a().createElement(ol,Xu({},t,{alignmentBaseline:"middle",className:"recharts-pie-label-text"}),r)}},{key:"renderLabels",value:function(e){var t=this;if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,r=n.label,i=n.labelLine,o=n.valueKey,s=lo(this.props),l=lo(r),u=lo(i),c=r&&r.offsetRadius||20,f=e.map((function(e,n){var f=(e.startAngle+e.endAngle)/2,d=cl(e.cx,e.cy,e.outerRadius+c,f),p=Xu({},s,e,{stroke:"none"},l,{index:n,textAnchor:t.getTextAnchor(d.x,e.cx)},d),h=Xu({},s,e,{fill:"none",stroke:e.fill},u,{points:[cl(e.cx,e.cy,e.outerRadius,f),d]});return a().createElement(Co,{key:"label-"+n},i&&t.renderLabelLineItem(i,h),t.renderLabelItem(r,p,$i(e,o)))}));return a().createElement(Co,{className:"recharts-pie-labels"},f)}},{key:"renderSectorItem",value:function(e,t){return a().isValidElement(e)?a().cloneElement(e,t):v()(e)?e(t):Bu()(e)?a().createElement(vl,Xu({},t,e)):a().createElement(vl,t)}},{key:"renderSectors",value:function(e){var t=this,n=this.props.activeShape;return e.map((function(e,r){return a().createElement(Co,Xu({className:"recharts-pie-sector"},fo(t.props,e,r),{key:"sector-"+r}),t.renderSectorItem(t.isActiveIndex(r)?n:null,e))}))}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.composedData,r=e.className,i=e.label,o=e.cx,s=e.cy,l=e.innerRadius,u=e.outerRadius,f=n||t;if(!(f&&f.length&&ji(o)&&ji(s)&&ji(l)&&ji(u)))return null;var d=this.getSectors(f),p=c()("recharts-pie",r);return a().createElement(Co,{className:p},this.renderClipPath(),a().createElement("g",{clipPath:"url(#"+this.id+")"},this.renderSectors(d)),i&&this.renderLabels(d))}}]),t}(o.Component),Yu.displayName="Pie",Yu.propTypes=Xu({},no,ro,{className:l().string,animationId:l().number,cx:l().oneOfType([l().number,l().string]),cy:l().oneOfType([l().number,l().string]),startAngle:l().number,endAngle:l().number,paddingAngle:l().number,innerRadius:l().oneOfType([l().number,l().string]),outerRadius:l().oneOfType([l().number,l().string]),cornerRadius:l().oneOfType([l().number,l().string]),nameKey:l().oneOfType([l().number,l().string]),valueKey:l().oneOfType([l().number,l().string]),data:l().arrayOf(l().object),composedData:l().arrayOf(l().object),minAngle:l().number,legendType:l().oneOf(io),maxRadius:l().number,labelLine:l().oneOfType([l().object,l().func,l().element,l().bool]),label:l().oneOfType([l().shape({offsetRadius:l().number}),l().func,l().element,l().bool]),activeShape:l().oneOfType([l().object,l().func,l().element]),activeIndex:l().oneOfType([l().number,l().arrayOf(l().number)]),isAnimationActive:l().bool,animationBegin:l().number,animationDuration:l().number,animationEasing:l().oneOf(["ease","ease-in","ease-out","ease-in-out","spring","linear"])}),Yu.defaultProps={stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,nameKey:"name",valueKey:"value",labelLine:!0,data:[],minAngle:0,isAnimationActive:!ho(),animationBegin:400,animationDuration:1500,animationEasing:"ease"},Ku=Zu))||Ku)||Ku;var tc,nc,rc,ic=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oc=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function ac(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sc(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}const lc=to((rc=nc=function(e){function t(){var e,n,r;ac(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=sc(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.handleMouseEnter=function(e){var t=r.props.onMouseEnter;t&&t(r.props,e)},r.handleMouseLeave=function(e){var t=r.props.onMouseLeave;t&&t(r.props,e)},sc(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),oc(t,[{key:"renderPolygon",value:function(){var e=this.props,t=e.shape,n=e.points,r=e.animationDuration,i=e.animationEasing,o=e.animationBegin,s=e.isAnimationActive,l=e.animationId,u=(e.dataKey,e.className,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["shape","points","animationDuration","animationEasing","animationBegin","isAnimationActive","animationId","dataKey","className"]));if(a().isValidElement(t))return a().cloneElement(t,ic({},u,{points:n}));if(v()(t))return t(this.props);var c=n[0],f=n.map((function(e){return{x:e.x-c.cx,y:e.y-c.cy}}));return a().createElement(Co,{className:"recharts-radar-polygon",transform:"translate("+c.cx+", "+c.cy+")"},a().createElement(ds.ZP,{from:"scale(0)",to:"scale(1)",attributeName:"transform",isActive:s,begin:o,easing:i,duration:r,key:l},a().createElement(Yl,ic({onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},lo(this.props),{points:f}))))}},{key:"renderLabelItem",value:function(e,t,n){return a().isValidElement(e)?a().cloneElement(e,t):v()(e)?e(t):a().createElement(ol,ic({key:t.key},t,{className:"recharts-radar-label"}),n)}},{key:"renderLabels",value:function(){var e=this,t=this.props,n=t.points,r=t.label,i=lo(this.props),o=lo(r),s=n.map((function(t,n){var a=ic({textAnchor:"middle"},i,{stroke:"none",fill:i&&i.stroke||"#666"},o,t,{index:n,key:"label-"+n,payload:t});return e.renderLabelItem(r,a,t.value)}));return a().createElement(Co,{className:"recharts-radar-labels"},s)}},{key:"renderDotItem",value:function(e,t){return a().isValidElement(e)?a().cloneElement(e,t):v()(e)?e(t):a().createElement(nu,ic({},t,{className:"recharts-radar-dot"}))}},{key:"renderDots",value:function(){var e=this,t=this.props,n=t.dot,r=t.points,i=lo(this.props),o=lo(n),s=r.map((function(t,r){var a=ic({key:"dot-"+r,r:3},i,o,{cx:t.x,cy:t.y,index:r,playload:t});return e.renderDotItem(n,a)}));return a().createElement(Co,{className:"recharts-radar-dots"},s)}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.points,r=e.label,i=e.dot;if(!n||!n.length)return null;var o=c()("recharts-radar",t);return a().createElement(Co,{className:o},this.renderPolygon(),r&&this.renderLabels(),i&&this.renderDots())}}]),t}(o.Component),nc.displayName="Radar",nc.propTypes=ic({},no,{className:l().string,dataKey:l().oneOfType([l().number,l().string,l().func]).isRequired,points:l().arrayOf(l().shape({x:l().number,y:l().number,cx:l().number,cy:l().number,angle:l().number,radius:l().number,value:l().number,payload:l().object})),shape:l().oneOfType([l().element,l().func]),dot:l().oneOfType([l().element,l().func,l().object,l().bool]),label:l().oneOfType([l().element,l().func,l().object,l().bool]),legendType:l().oneOf(io),onMouseEnter:l().func,onMouseLeave:l().func,onClick:l().func,isAnimationActive:l().bool,animationId:l().number,animationBegin:l().number,animationDuration:l().number,animationEasing:l().oneOf(["ease","ease-in","ease-out","ease-in-out","linear"])}),nc.defaultProps={dot:!1,label:!1,legendType:"rect",isAnimationActive:!ho(),animationBegin:0,animationDuration:1500,animationEasing:"ease"},tc=rc))||tc;var uc,cc,fc,dc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pc=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function hc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gc(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var mc=Math.PI/180;const yc=to((fc=cc=function(e){function t(){var e,n,r;hc(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=gc(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={isAnimationFinished:!1},r.handleAnimationEnd=function(){r.setState({isAnimationFinished:!0})},r.handleAnimationStart=function(){r.setState({isAnimationFinished:!1})},gc(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),pc(t,[{key:"getDeltaAngle",value:function(){var e=this.props,t=e.startAngle,n=e.endAngle;return Ii(n-t)*Math.min(Math.abs(n-t),360)}},{key:"getSectors",value:function(){var e=this.props,t=e.cx,n=e.cy,r=e.startAngle,i=e.data,o=e.minAngle,a=e.maxAngle,s=Math.max.apply(null,i.map((function(e){return Math.abs(e.value)}))),l=Math.abs(o),u=Math.abs(a),c=this.getDeltaAngle(),f=Math.min(Math.abs(u-l),360);return i.map((function(e){var i=e.value,o=0===s?r:r+Ii(i*c)*(l+f*Math.abs(e.value)/s);return dc({},e,{cx:t,cy:n,startAngle:r,endAngle:o,payload:e})}))}},{key:"getLabelPathArc",value:function(e,t,n){var r=this.props.label,i=a().isValidElement(r)?r.props:r,o=i.offsetRadius||2,s=i.orientation||"inner",l=e.cx,u=e.cy,c=e.innerRadius,f=e.outerRadius,d=e.startAngle,p=e.endAngle,h=this.getDeltaAngle()<0&&e.value>0,g=h?c+o:Math.max(f-o,0);if(g<=0)return"";var m,y=Js(t,n).width/(g*mc),v=void 0;m=h?(v="inner"===s?Math.min(p+y,d):p)-y:(v="inner"===s?Math.max(p-y,d):p)+y;var b=cl(l,u,g,v),x=cl(l,u,g,m);return"M"+b.x+","+b.y+"\n            A"+g+","+g+",0,\n            "+(y>=180?1:0)+",\n            "+(h?1:0)+",\n            "+x.x+","+x.y}},{key:"renderSectorShape",value:function(e,t){return a().isValidElement(e)?a().cloneElement(e,t):v()(e)?e(t):a().createElement(vl,t)}},{key:"renderSectors",value:function(e){var t=this,n=this.props,r=n.shape,i=n.activeShape,o=n.activeIndex,s=n.cornerRadius,l=this.props,u=l.animationEasing,c=l.animationDuration,f=l.animationBegin,d=l.isAnimationActive,p=lo(this.props);return e.map((function(e,n){var l=e.startAngle,h=e.endAngle;return a().createElement(ds.ZP,{from:{angle:l},to:{angle:h},begin:f,isActive:d,duration:c,easing:u,shouldReAnimate:!0,key:"aniamte-"+n,onAnimationStart:t.handleAnimationStart,onAnimationEnd:t.handleAnimationEnd},(function(a){var l=a.angle,u=dc({},p,{cornerRadius:s},e,fo(t.props,e,n),{endAngle:l,key:"sector-"+n,className:"recharts-radial-bar-sector"});return t.renderSectorShape(n===o?i:r,u)}))}))}},{key:"renderBackground",value:function(e){var t=this,n=this.props,r=n.startAngle,i=n.endAngle,o=n.background,a=n.cornerRadius,s=lo(o);return e.map((function(e,n){e.value;var l=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["value"]),u=dc({cornerRadius:a},l,{fill:"#eee"},s,fo(t.props,e,n),{startAngle:r,endAngle:i,index:n,key:"sector-"+n,className:"recharts-radial-bar-background-sector"});return t.renderSectorShape(o,u)}))}},{key:"renderLabelItem",value:function(e,t,n){var r=void 0;if(a().isValidElement(e))r=a().cloneElement(e,t);else if(v()(e))r=e(t);else{var i=Fi("recharts-defs-"),o=lo(t),s=this.getLabelPathArc(t,n,o);r=a().createElement("text",dc({},o,{key:t.key,className:"recharts-radial-bar-label"}),a().createElement("defs",null,a().createElement("path",{id:i,d:s})),a().createElement("textPath",{xlinkHref:"#"+i},n))}return r}},{key:"renderLabels",value:function(e){var t=this;if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props.label;return e.map((function(e,r){var i=dc({fontSize:10},e,lo(n),{index:r,key:"label-"+r});return t.renderLabelItem(n,i,e.value)}))}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.className,r=e.background,i=e.label;if(!t||!t.length)return null;var o=this.getSectors(),s=c()("recharts-area",n);return a().createElement(Co,{className:s},r&&a().createElement(Co,{className:"recharts-radial-bar-background"},this.renderBackground(o)),a().createElement(Co,{className:"recharts-radial-bar-sectors"},this.renderSectors(o)),i&&a().createElement(Co,{className:"recharts-radial-bar-labels"},this.renderLabels(o)))}}]),t}(o.Component),cc.displayName="RadialBar",cc.propTypes=dc({},no,{className:l().string,shape:l().oneOfType([l().func,l().element]),activeShape:l().oneOfType([l().object,l().func,l().element]),activeIndex:l().number,cornerRadius:l().oneOfType([l().number,l().string]),cx:l().number,cy:l().number,startAngle:l().number,endAngle:l().number,maxAngle:l().number,minAngle:l().number,data:l().arrayOf(l().shape({cx:l().number,cy:l().number,innerRadius:l().number,outerRadius:l().number,value:l().value})),legendType:l().oneOf(io),label:l().oneOfType([l().bool,l().func,l().element,l().object]),background:l().oneOfType([l().bool,l().func,l().object,l().element]),onMouseEnter:l().func,onMouseLeave:l().func,onClick:l().func,isAnimationActive:l().bool,animationBegin:l().number,animationDuration:l().number,animationEasing:l().oneOf(["ease","ease-in","ease-out","ease-in-out","linear","spring"])}),cc.defaultProps={startAngle:180,endAngle:0,maxAngle:135,minAngle:0,legendType:"rect",data:[],isAnimationActive:!ho(),animationBegin:0,animationDuration:1500,animationEasing:"ease"},uc=fc))||uc;var vc,bc,xc,_c=n(83647),wc=n.n(_c),kc=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Tc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Cc=to((xc=bc=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleDrag=function(e){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(e):n.state.isSlideMoving&&n.handleSlideDrag(e)},n.handleTouchMove=function(e){null!=e.changedTouches&&e.changedTouches.length>0&&n.handleDrag(e.changedTouches[0])},n.handleDragEnd=function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1})},n.handleLeaveWrapper=function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=setTimeout(n.handleDragEnd,1e3))},n.handleEnterSlideOrTraveller=function(){n.setState({isTextActive:!0})},n.handleLeaveSlideOrTraveller=function(){n.setState({isTextActive:!1})},n.handleSlideDragStart=function(e){var t=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:t.pageX})},n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},e.data&&e.data.length?n.updateScale(e):n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),kc(t,[{key:"componentWillReceiveProps",value:function(e){var t=this,n=this.props,r=n.data,i=n.width,o=n.x,a=n.travellerWidth,s=n.updateId;e.data!==r||e.updateId!==s?this.updateScale(e):e.width===i&&e.x===o&&e.travellerWidth===a||(this.scale.range([e.x,e.x+e.width-e.travellerWidth]),this.scaleValues=this.scale.domain().map((function(e){return t.scale(e)})),this.setState({startX:this.scale(e.startIndex),endX:this.scale(e.endIndex)}))}},{key:"componentWillUnmount",value:function(){this.scale=null,this.scaleValues=null,this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null)}},{key:"getIndexInRange",value:function(e,t){for(var n=0,r=e.length-1;r-n>1;){var i=Math.floor((n+r)/2);e[i]>t?r=i:n=i}return t>=e[r]?r:n}},{key:"getIndex",value:function(e){var t=e.startX,n=e.endX,r=Math.min(t,n),i=Math.max(t,n);return{startIndex:this.getIndexInRange(this.scaleValues,r),endIndex:this.getIndexInRange(this.scaleValues,i)}}},{key:"getTextOfTick",value:function(e){var t=this.props,n=t.data,r=t.tickFormatter,i=t.dataKey,o=$i(n[e],i,e);return v()(r)?r(o):o}},{key:"handleSlideDrag",value:function(e){var t=this.state,n=t.slideMoveStartX,r=t.startX,i=t.endX,o=this.props,a=o.x,s=o.width,l=o.travellerWidth,u=o.startIndex,c=o.endIndex,f=o.onChange,d=e.pageX-n;d>0?d=Math.min(d,a+s-l-i,a+s-l-r):d<0&&(d=Math.max(d,a-r,a-i));var p=this.getIndex({startX:r+d,endX:i+d});p.startIndex===u&&p.endIndex===c||!f||f(p),this.setState({startX:r+d,endX:i+d,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var n=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:n.pageX})}},{key:"handleTravellerMove",value:function(e){var t,n=this.state,r=n.brushMoveStartX,i=n.movingTravellerId,o=this.state[i],a=this.props,s=a.x,l=a.width,u=a.travellerWidth,c=a.onChange,f={startX:this.state.startX,endX:this.state.endX},d=e.pageX-r;d>0?d=Math.min(d,s+l-u-o):d<0&&(d=Math.max(d,s-o)),f[i]=o+d;var p=this.getIndex(f);this.setState((Tc(t={},i,o+d),Tc(t,"brushMoveStartX",e.pageX),t),(function(){c&&c(p)}))}},{key:"updateScale",value:function(e){var t=this,n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,a=e.width,s=e.travellerWidth;if(n&&n.length){var l=n.length;this.scale=te().domain(wc()(0,l)).range([o,o+a-s]),this.scaleValues=this.scale.domain().map((function(e){return t.scale(e)})),this.state={isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,startX:this.scale(r),endX:this.scale(i)}}}},{key:"renderBackground",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,i=e.height,o=e.fill,s=e.stroke;return a().createElement("rect",{stroke:s,fill:o,x:t,y:n,width:r,height:i})}},{key:"renderPanorama",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,i=e.height,s=e.data,l=e.children,u=e.padding,c=o.Children.only(l);return c?a().cloneElement(c,{x:t,y:n,width:r,height:i,margin:u,compact:!0,data:s}):null}},{key:"renderTraveller",value:function(e,t){var n=this.props,r=n.y,i=n.travellerWidth,o=n.height,s=n.stroke,l=Math.floor(r+o/2)-1,u=Math.max(e,this.props.x);return a().createElement(Co,{className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[t],onTouchStart:this.travellerDragStartHandlers[t],style:{cursor:"col-resize"}},a().createElement("rect",{x:u,y:r,width:i,height:o,fill:s,stroke:"none"}),a().createElement("line",{x1:u+1,y1:l,x2:u+i-1,y2:l,fill:"none",stroke:"#fff"}),a().createElement("line",{x1:u+1,y1:l+2,x2:u+i-1,y2:l+2,fill:"none",stroke:"#fff"}))}},{key:"renderSlide",value:function(e,t){var n=this.props,r=n.y,i=n.height,o=n.stroke;return a().createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:o,fillOpacity:.2,x:Math.min(e,t),y:r,width:Math.abs(t-e),height:i})}},{key:"renderText",value:function(){var e=this.props,t=e.startIndex,n=e.endIndex,r=e.y,i=e.height,o=e.travellerWidth,s=e.stroke,l=this.state,u=l.startX,c=l.endX,f={pointerEvents:"none",fill:s};return a().createElement(Co,{className:"recharts-brush-texts"},a().createElement(ol,{textAnchor:"end",verticalAnchor:"middle",style:f,x:Math.min(u,c)-5,y:r+i/2},this.getTextOfTick(t)),a().createElement(ol,{textAnchor:"start",verticalAnchor:"middle",style:f,x:Math.max(u,c)+o+5,y:r+i/2},this.getTextOfTick(n)))}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.className,r=e.children,i=this.state,o=i.startX,s=i.endX,l=i.isTextActive,u=i.isSlideMoving,f=i.isTravellerMoving;if(!t||!t.length)return null;var d=c()("recharts-brush",n),p=1===a().Children.count(r);return a().createElement(Co,{className:d,onMouseMove:this.handleDrag,onMouseLeave:this.handleLeaveWrapper,onMouseUp:this.handleDragEnd,onTouchEnd:this.handleDragEnd,onTouchMove:this.handleTouchMove},this.renderBackground(),p&&this.renderPanorama(),this.renderSlide(o,s),this.renderTraveller(o,"startX"),this.renderTraveller(s,"endX"),(l||u||f)&&this.renderText())}}]),t}(o.Component),bc.displayName="Brush",bc.propTypes={className:l().string,fill:l().string,stroke:l().string,x:l().number.isRequired,y:l().number.isRequired,width:l().number.isRequired,height:l().number.isRequired,travellerWidth:l().number,padding:l().shape({top:l().number,right:l().number,bottom:l().number,left:l().number}),dataKey:l().oneOfType([l().string,l().number,l().func]),data:l().array,startIndex:l().number,endIndex:l().number,tickFormatter:l().func,children:l().node,onChange:l().func,updateId:l().oneOfType([l().string,l().number])},bc.defaultProps={x:0,y:0,width:0,height:40,travellerWidth:5,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1}},vc=xc))||vc;var Oc,Sc,Ac,Mc=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ec=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function Pc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dc(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}const Lc=to((Ac=Sc=function(e){function t(){return Pc(this,t),Dc(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Mc(t,[{key:"getEndPoints",value:function(e,t){var n=this.props,r=n.xAxis,i=n.yAxis,o=n.viewBox,a=o.x,s=o.y,l=o.width,u=o.height;if(t){var c=this.props.y,f=i.scale,d=f.bandwidth?f.bandwidth()/2:0,p=f(c)+d;if(Wi(p,f))return"left"===i.orientation?[{x:a,y:p},{x:a+l,y:p}]:[{x:a+l,y:p},{x:a,y:p}]}else if(e){var h=this.props.x,g=r.scale,m=g.bandwidth?g.bandwidth()/2:0,y=g(h)+m;if(Wi(y,g))return"top"===r.orientation?[{x:y,y:s},{x:y,y:s+u}]:[{x:y,y:s+u},{x:y,y:s}]}return null}},{key:"getLabelProps",value:function(e,t){var n=this.props,r=n.xAxis,i=n.yAxis,o=n.labelPosition;if(t){var a=i;return"left"===a.orientation&&"end"===o||"right"===a.orientation&&"start"===o?{dx:6,dy:6,textAnchor:"start"}:{dx:-6,dy:6,textAnchor:"end"}}return e?"top"===r.orientation?{dy:6,textAnchor:"middle"}:{dy:-6,textAnchor:"middle"}:null}},{key:"renderLabel",value:function(e,t,n){var r=this.props,i=r.label,o=r.stroke,s=Ec({},lo(i),{stroke:"none",fill:o},n,this.getLabelProps(e,t));return a().isValidElement(i)?a().cloneElement(i,s):v()(i)?i(s):zi(i)?a().createElement("g",{className:"recharts-reference-line-label"},a().createElement(ol,s,i)):null}},{key:"render",value:function(){var e=this.props,t=e.x,n=e.y,r=e.labelPosition,i=e.shape,o=zi(t),s=zi(n);if(!o&&!s)return null;var l=this.getEndPoints(o,s);if(!l)return null;var u=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(l,2),c=u[0],f=u[1],d=Ec({},lo(this.props),uo(this.props),{x1:c.x,y1:c.y,x2:f.x,y2:f.y});return a().createElement(Co,{className:"recharts-reference-line"},function(e,t){return a().isValidElement(e)?a().cloneElement(e,t):v()(e)?e(t):a().createElement("line",Ec({},t,{className:"recharts-reference-line-line"}))}(i,d),this.renderLabel(o,s,"start"===r?c:f))}}]),t}(o.Component),Sc.displayName="ReferenceLine",Sc.propTypes=Ec({},no,{viewBox:l().shape({x:l().number,y:l().number,width:l().number,height:l().number}),label:l().oneOfType([l().number,l().string,l().element,l().func]),xAxis:l().object,yAxis:l().object,isFront:l().bool,alwaysShow:l().bool,x:l().oneOfType([l().number,l().string]),y:l().oneOfType([l().number,l().string]),yAxisId:l().oneOfType([l().string,l().number]),xAxisId:l().oneOfType([l().string,l().number]),labelPosition:l().oneOf(["start","end"]),shape:l().func}),Sc.defaultProps={isFront:!1,alwaysShow:!1,xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,labelPosition:"end"},Oc=Ac))||Oc;var Rc,Ic,Nc,jc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zc=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function qc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fc(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}const Bc=to((Nc=Ic=function(e){function t(){return qc(this,t),Fc(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),zc(t,[{key:"getCoordinate",value:function(){var e=this.props,t=e.x,n=e.y,r=e.xAxis,i=e.yAxis,o=r.scale,a=i.scale,s={cx:o(t)+(o.bandwidth?o.bandwidth()/2:0),cy:a(n)+(a.bandwidth?a.bandwidth()/2:0)};return Wi(s.cx,o)&&Wi(s.cy,a)?s:null}},{key:"renderLabel",value:function(e){var t=this.props,n=t.label,r=t.stroke,i=jc({},lo(n),{stroke:"none",fill:r,x:e.cx,y:e.cy,textAnchor:"middle",verticalAnchor:"middle"});return a().isValidElement(n)?a().cloneElement(n,i):v()(n)?n(i):zi(n)?a().createElement("g",{className:"recharts-reference-dot-label"},a().createElement(ol,i,n)):null}},{key:"renderDot",value:function(e,t){return a().isValidElement(e)?a().cloneElement(e,t):v()(e)?e(t):a().createElement(nu,jc({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"}))}},{key:"render",value:function(){var e=this.props,t=e.x,n=e.y,r=zi(t),i=zi(n);if(!r||!i)return null;var o=this.getCoordinate();if(!o)return null;var s=this.props.shape,l=jc({},lo(this.props),uo(this.props),o);return a().createElement(Co,{className:"recharts-reference-dot"},this.renderDot(s,l),this.renderLabel(o))}}]),t}(o.Component),Ic.displayName="ReferenceDot",Ic.propTypes=jc({},no,ro,{r:l().number,label:l().oneOfType([l().number,l().string,l().func,l().element]),xAxis:l().shape({scale:l().func}),yAxis:l().shape({scale:l().func}),isFront:l().bool,alwaysShow:l().bool,x:l().oneOfType([l().number,l().string]),y:l().oneOfType([l().number,l().string]),yAxisId:l().oneOfType([l().string,l().number]),xAxisId:l().oneOfType([l().string,l().number]),shape:l().oneOfType([l().func,l().element])}),Ic.defaultProps={isFront:!1,alwaysShow:!1,xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1},Rc=Nc))||Rc;var Hc,Uc,Vc,Wc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gc=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Kc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yc(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}const Zc=to((Vc=Uc=function(e){function t(){return Kc(this,t),Yc(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Gc(t,[{key:"getRect",value:function(e,t){var n=this.props,r=n.x1,i=n.x2,o=n.y1,a=n.y2,s=n.xAxis,l=n.yAxis,u=s.scale,c=l.scale,f=u.bandwidth?u.bandwidth()/2:0,d=c.bandwidth?c.bandwidth()/2:0,p=u.range(),h=c.range(),g=void 0,m=void 0,y=void 0,v=void 0;return e&&zi(r)?g=u(r)+f:t&&(g=p[0]),e&&zi(i)?m=u(i)+f:t&&(m=p[1]),t&&zi(o)?y=c(o)+d:e&&(y=h[0]),t&&zi(a)?v=c(a)+d:e&&(v=h[1]),Wi(g,u)&&Wi(m,u)&&Wi(y,c)&&Wi(v,c)?{x:Math.min(g,m),y:Math.min(y,v),width:Math.abs(m-g),height:Math.abs(v-y)}:null}},{key:"renderLabel",value:function(e){var t=e.x,n=e.y,r=e.width,i=e.height,o=this.props,s=o.label,l=o.stroke,u=Wc({},s,{stroke:"none",fill:l,x:t+r/2,y:n+i/2,textAnchor:"middle"});return a().isValidElement(s)?a().cloneElement(s,u):v()(s)?s(u):zi(s)?a().createElement("g",{className:"recharts-reference-area-label"},a().createElement(ol,u,s)):null}},{key:"renderRect",value:function(e,t){return a().isValidElement(e)?a().cloneElement(e,t):v()(e)?e(t):a().createElement(ql,Wc({},t,{className:"recharts-reference-area-rect"}))}},{key:"render",value:function(){var e=this.props,t=e.x1,n=e.x2,r=e.y1,i=e.y2,o=zi(t)&&zi(n),s=zi(r)&&zi(i);if(!o&&!s)return null;var l=this.getRect(o,s);if(!l)return null;var u=this.props.shape;return a().createElement(Co,{className:"recharts-reference-area"},this.renderRect(u,Wc({},this.props,l)),this.renderLabel(l))}}]),t}(o.Component),Uc.displayName="ReferenceArea",Uc.propTypes=Wc({},no,{viewBox:l().shape({x:l().number,y:l().number,width:l().number,height:l().number}),label:l().oneOfType([l().number,l().string,l().func,l().element]),xAxis:l().object,yAxis:l().object,isFront:l().bool,alwaysShow:l().bool,x1:l().oneOfType([l().number,l().string]),x2:l().oneOfType([l().number,l().string]),y1:l().oneOfType([l().number,l().string]),y2:l().oneOfType([l().number,l().string]),yAxisId:l().oneOfType([l().string,l().number]),xAxisId:l().oneOfType([l().string,l().number]),shape:l().oneOfType([l().func,l().element])}),Uc.defaultProps={isFront:!1,alwaysShow:!1,xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1},Hc=Vc))||Hc;var Xc,$c,Jc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qc=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function ef(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function tf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nf(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}const rf=($c=Xc=function(e){function t(){return tf(this,t),nf(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Qc(t,[{key:"shouldComponentUpdate",value:function(e,t){var n=e.viewBox,r=ef(e,["viewBox"]),i=this.props,o=i.viewBox,a=ef(i,["viewBox"]);return!Qi(n,o)||!Qi(r,a)||!Qi(t,this.state)}},{key:"getTickLineCoord",value:function(e){var t=this.props,n=t.x,r=t.y,i=t.width,o=t.height,a=t.orientation,s=t.tickSize,l=t.mirror,u=void 0,c=void 0,f=void 0,d=void 0,p=void 0,h=void 0,g=l?-1:1,m=e.tickSize||s,y=ji(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":u=c=e.coordinate,f=h=(d=r+!l*o)-g*m,p=y;break;case"left":f=d=e.coordinate,u=p=(c=n+!l*i)-g*m,h=y;break;case"right":f=d=e.coordinate,u=p=(c=n+l*i)+g*m,h=y;break;default:u=c=e.coordinate,f=h=(d=r+l*o)+g*m,p=y}return{line:{x1:u,y1:f,x2:c,y2:d},tick:{x:p,y:h}}}},{key:"getTickTextAnchor",value:function(){var e=this.props,t=e.orientation,n=e.mirror,r=void 0;switch(t){case"left":r=n?"start":"end";break;case"right":r=n?"end":"start";break;default:r="middle"}return r}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,n=e.mirror,r="end";switch(t){case"left":case"right":r="middle";break;case"top":r=n?"start":"end";break;default:r=n?"end":"start"}return r}},{key:"getLabelProps",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,i=e.height;switch(e.orientation){case"left":return{x:t+r,y:n-6,textAnchor:"middle"};case"right":return{x:t,y:n-6,textAnchor:"middle"};case"top":return{x:t+r+6,y:n+i+6,textAnchor:"start"};default:return{x:t+r+6,y:n+6,textAnchor:"start"}}}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,i=e.height,o=e.orientation,s=e.axisLine,l=e.mirror,u=Jc({},lo(this.props),{fill:"none"},lo(s));if("top"===o||"bottom"===o){var c="top"===o&&!l||"bottom"===o&&l;u=Jc({},u,{x1:t,y1:n+c*i,x2:t+r,y2:n+c*i})}else{var f="left"===o&&!l||"right"===o&&l;u=Jc({},u,{x1:t+f*r,y1:n,x2:t+f*r,y2:n+i})}return a().createElement("line",Jc({className:"recharts-cartesian-axis-line"},u))}},{key:"renderTickItem",value:function(e,t,n){return a().isValidElement(e)?a().cloneElement(e,t):v()(e)?e(t):a().createElement(ol,Jc({},t,{className:"recharts-cartesian-axis-tick-value"}),n)}},{key:"renderTicks",value:function(e){var n=this,r=this.props,i=r.tickLine,o=r.stroke,s=r.tick,l=r.tickFormatter,u=t.getTicks(Jc({},this.props,{ticks:e})),c=this.getTickTextAnchor(),f=this.getTickVerticalAnchor(),d=lo(this.props),p=lo(s),h=Jc({},d,{fill:"none"},lo(i)),g=u.map((function(e,t){var r=n.getTickLineCoord(e),u=r.line,g=r.tick,m=Jc({textAnchor:c,verticalAnchor:f},d,{stroke:"none",fill:o},p,g,{index:t,payload:e});return a().createElement(Co,Jc({className:"recharts-cartesian-axis-tick",key:"tick-"+t},fo(n.props,e,t)),i&&a().createElement("line",Jc({className:"recharts-cartesian-axis-tick-line"},h,u)),s&&n.renderTickItem(s,m,v()(l)?l(e.value):e.value))}));return a().createElement("g",{className:"recharts-cartesian-axis-ticks"},g)}},{key:"renderLabel",value:function(){var e=this.props,t=e.label,n=e.stroke,r=e.orientation,i=e.viewBox,o=lo(this.props);if(a().isValidElement(t))return a().cloneElement(t,Jc({},o,{orientation:r,viewBox:i}));if(v()(t))return t(this.props);if(zi(t)){var s=Jc({},o,{stroke:"none",fill:n},this.getLabelProps());return a().createElement("g",{className:"recharts-cartesian-axis-label"},a().createElement(ol,s,t))}return null}},{key:"render",value:function(){var e=this.props,t=e.axisLine,n=e.width,r=e.height,i=e.ticksGenerator,o=this.props,s=o.ticks,l=ef(o,["ticks"]),u=s;return v()(i)&&(u=s&&s.length>0?i(this.props):i(l)),n<=0||r<=0||!u||!u.length?null:a().createElement(Co,{className:"recharts-cartesian-axis"},t&&this.renderAxisLine(),this.renderTicks(u),this.renderLabel())}}],[{key:"getTicks",value:function(e){var n=e.ticks,r=e.viewBox,i=e.minTickGap,o=e.orientation,a=e.interval,s=e.tickFormatter;return n&&n.length?ji(a)||ho()?t.getNumberIntervalTicks(n,ji(a)?a:0):"preserveStartEnd"===a?t.getTicksStart({ticks:n,tickFormatter:s,viewBox:r,orientation:o,minTickGap:i},!0):"preserveStart"===a?t.getTicksStart({ticks:n,tickFormatter:s,viewBox:r,orientation:o,minTickGap:i}):t.getTicksEnd({ticks:n,tickFormatter:s,viewBox:r,orientation:o,minTickGap:i}):[]}},{key:"getNumberIntervalTicks",value:function(e,t){return e.filter((function(e,n){return n%(t+1)==0}))}},{key:"getTicksStart",value:function(e,t){var n=e.ticks,r=e.tickFormatter,i=e.viewBox,o=e.orientation,a=e.minTickGap,s=i.x,l=i.y,u=i.width,c=i.height,f="top"===o||"bottom"===o?"width":"height",d=(n||[]).slice(),p=d.length,h=p>=2?Ii(d[1].coordinate-d[0].coordinate):1,g=void 0,m=void 0;if(1===h?(g="width"===f?s:l,m="width"===f?s+u:l+c):(g="width"===f?s+u:l+c,m="width"===f?s:l),t){var y=n[p-1],b=v()(r)?r(y.value):y.value,x=Js(b)[f],_=h*(y.coordinate+h*x/2-m);d[p-1]=y=Jc({},y,{tickCoord:_>0?y.coordinate-_*h:y.coordinate}),h*(y.tickCoord-h*x/2-g)>=0&&h*(y.tickCoord+h*x/2-m)<=0&&(m=y.tickCoord-h*(x/2+a),d[p-1]=Jc({},y,{isShow:!0}))}for(var w=t?p-1:p,k=0;k<w;k++){var T=d[k],C=v()(r)?r(T.value):T.value,O=Js(C)[f];if(0===k){var S=h*(T.coordinate-h*O/2-g);d[k]=T=Jc({},T,{tickCoord:S<0?T.coordinate-S*h:T.coordinate})}else d[k]=T=Jc({},T,{tickCoord:T.coordinate});h*(T.tickCoord-h*O/2-g)>=0&&h*(T.tickCoord+h*O/2-m)<=0&&(g=T.tickCoord+h*(O/2+a),d[k]=Jc({},T,{isShow:!0}))}return d.filter((function(e){return e.isShow}))}},{key:"getTicksEnd",value:function(e){var t=e.ticks,n=e.tickFormatter,r=e.viewBox,i=e.orientation,o=e.minTickGap,a=r.x,s=r.y,l=r.width,u=r.height,c="top"===i||"bottom"===i?"width":"height",f=(t||[]).slice(),d=f.length,p=d>=2?Ii(f[1].coordinate-f[0].coordinate):1,h=void 0,g=void 0;1===p?(h="width"===c?a:s,g="width"===c?a+l:s+u):(h="width"===c?a+l:s+u,g="width"===c?a:s);for(var m=d-1;m>=0;m--){var y=f[m],b=v()(n)?n(y.value):y.value,x=Js(b)[c];if(m===d-1){var _=p*(y.coordinate+p*x/2-g);f[m]=y=Jc({},y,{tickCoord:_>0?y.coordinate-_*p:y.coordinate})}else f[m]=y=Jc({},y,{tickCoord:y.coordinate});p*(y.tickCoord-p*x/2-h)>=0&&p*(y.tickCoord+p*x/2-g)<=0&&(g=y.tickCoord-p*(x/2+o),f[m]=Jc({},y,{isShow:!0}))}return f.filter((function(e){return e.isShow}))}}]),t}(o.Component),Xc.displayName="CartesianAxis",Xc.propTypes=Jc({},no,ro,{x:l().number,y:l().number,width:l().number,height:l().number,orientation:l().oneOf(["top","bottom","left","right"]),viewBox:l().shape({x:l().number,y:l().number,width:l().number,height:l().number}),label:l().oneOfType([l().number,l().string,l().func,l().element]),tick:l().oneOfType([l().bool,l().func,l().object,l().element]),axisLine:l().oneOfType([l().bool,l().object]),tickLine:l().oneOfType([l().bool,l().object]),mirror:l().bool,minTickGap:l().number,ticks:l().array,tickSize:l().number,stroke:l().string,tickFormatter:l().func,ticksGenerator:l().func,interval:l().oneOfType([l().number,l().oneOf(["preserveStart","preserveEnd","preserveStartEnd"])])}),Xc.defaultProps={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,interval:"preserveEnd"},$c);var of,af,sf,lf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uf=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function cf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ff(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}const df=to((sf=af=function(e){function t(){return cf(this,t),ff(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),uf(t,[{key:"renderLineItem",value:function(e,t){var n=void 0;if(a().isValidElement(e))n=a().cloneElement(e,t);else if(v()(e))n=e(t);else{var r=t.x1,i=t.y1,o=t.x2,s=t.y2,l=t.key,u=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["x1","y1","x2","y2","key"]);n=a().createElement("line",lf({},lo(u),{x1:r,y1:i,x2:o,y2:s,fill:"none",key:l}))}return n}},{key:"renderHorizontal",value:function(e){var t=this,n=this.props,r=n.x,i=n.width,o=n.horizontal;if(!e||!e.length)return null;var s=e.map((function(e,n){var a=lf({},t.props,{x1:r,y1:e,x2:r+i,y2:e,key:"line-"+n,index:n});return t.renderLineItem(o,a)}));return a().createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}},{key:"renderVertical",value:function(e){var t=this,n=this.props,r=n.y,i=n.height,o=n.vertical;if(!e||!e.length)return null;var s=e.map((function(e,n){var a=lf({},t.props,{x1:e,y1:r,x2:e,y2:r+i,key:"line-"+n,index:n});return t.renderLineItem(o,a)}));return a().createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}},{key:"renderBackground",value:function(){var e=this.props.fill;if(!e||"none"===e)return null;var t=this.props,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,s=t.height;return a().createElement("rect",{x:r,y:i,width:o,height:s,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})}},{key:"render",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,i=e.height,o=e.horizontal,s=e.vertical,l=e.horizontalCoordinatesGenerator,u=e.verticalCoordinatesGenerator,c=e.xAxis,f=e.yAxis,d=e.offset,p=e.chartWidth,h=e.chartHeight;if(r<=0||i<=0||t!==+t||n!==+n)return null;var g=this.props,m=g.horizontalPoints,y=g.verticalPoints;return v()(l)&&(m=l({yAxis:f,width:p,height:h,offset:d})),v()(u)&&(y=u({xAxis:c,width:p,height:h,offset:d})),a().createElement("g",{className:"recharts-cartesian-grid"},this.renderBackground(),o&&this.renderHorizontal(m),s&&this.renderVertical(y))}}]),t}(o.Component),af.displayName="CartesianGrid",af.propTypes=lf({},no,{x:l().number,y:l().number,width:l().number,height:l().number,horizontal:l().oneOfType([l().object,l().element,l().func,l().bool]),vertical:l().oneOfType([l().object,l().element,l().func,l().bool]),horizontalPoints:l().arrayOf(l().number),verticalPoints:l().arrayOf(l().number),horizontalCoordinatesGenerator:l().func,verticalCoordinatesGenerator:l().func,xAxis:l().object,yAxis:l().object,offset:l().object,chartWidth:l().number,chartHeight:l().number}),af.defaultProps={x:0,y:0,width:0,height:0,horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none"},of=sf))||of;var pf,hf,gf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mf=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function yf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vf(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}const bf=(hf=pf=function(e){function t(){return yf(this,t),vf(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),mf(t,[{key:"renderErrorBars",value:function(){var e=this.props,t=e.offset,n=e.layout,r=e.width,i=e.dataKey,o=e.data,s=e.dataPointFormatter,l=e.xAxis,u=e.yAxis,c=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"]),f=lo(c);return o.map((function(e,o){var c=s(e,i),d=c.x,p=c.y,h=c.value,g=c.errorVal;if(!g)return null;var m=void 0,y=void 0,v=void 0,b=void 0,x=void 0,_=void 0,w=void 0,k=void 0,T=void 0,C=void 0,O=void 0,S=void 0;return Array.isArray(g)?(O=g[0],S=g[1]):(O=g,S=g),"vertical"===n?(w=l.scale,y=p+t,v=w((m=h)-O),b=y+r,k={x1:x=w(m+S),y1:b,x2:x,y2:_=y-r},T={x1:v,y1:y,x2:x,y2:y},C={x1:v,y1:b,x2:v,y2:_}):"horizontal"===n&&(w=u.scale,v=(m=d+t)-r,x=m+r,b=w((y=h)-O),k={x1:v,y1:_=w(y+S),x2:x,y2:_},T={x1:m,y1:b,x2:m,y2:_},C={x1:v,y1:b,x2:x,y2:b}),a().createElement(Co,gf({className:"recharts-errorBar",key:o},f),a().createElement("line",k),";",a().createElement("line",T),";",a().createElement("line",C),";")}))}},{key:"render",value:function(){return a().createElement(Co,{className:"recharts-errorBars"},this.renderErrorBars())}}]),t}(o.Component),pf.propTypes={dataKey:l().oneOfType([l().string,l().number,l().func]).isRequired,data:l().array,xAxis:l().object,yAxis:l().object,layout:l().string,dataPointFormatter:l().func,stroke:l().string,strokeWidth:l().number,width:l().number,offset:l().number},pf.defaultProps={stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"},hf);var xf,_f,wf,kf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tf=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Cf(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function Of(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sf(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}const Af=to((wf=_f=function(e){function t(){var e,n,r;Of(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=Sf(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={isAnimationFinished:!0,totalLength:0},r.id=Fi("recharts-line-"),r.pathRef=function(e){r.animate=e},r.handleAnimationEnd=function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd()},r.handleAnimationStart=function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart()},Sf(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Tf(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"componentDidUpdate",value:function(e,t){if(this.props.animationId!==e.animationId){var n=this.getTotalLength(),r=t.totalLength;this.setState({totalLength:n===r?1.0000001*n:n})}}},{key:"getTotalLength",value:function(){var e=this.animate;return e&&e.getTotalLength&&e.getTotalLength()||0}},{key:"getStrokeDasharray",value:function(e,t,n){for(var r=n.reduce((function(e,t){return e+t})),i=parseInt(e/r,10),o=e%r,a=t-e,s=[],l=0,u=0;;u+=n[l],++l)if(u+n[l]>o){s=[].concat(Cf(n.slice(0,l)),[o-u]);break}var c=s.length%2==0?[0,a]:[a];return[].concat(Cf(this.repeat(n,i)),Cf(s),c).map((function(e){return e+"px"})).join(", ")}},{key:"repeat",value:function(e,t){for(var n=e.length%2!=0?[].concat(Cf(e),[0]):e,r=[],i=0;i<t;++i)r=[].concat(Cf(r),Cf(n));return r}},{key:"renderLabelItem",value:function(e,t,n){return a().isValidElement(e)?a().cloneElement(e,t):v()(e)?e(t):a().createElement(ol,kf({key:t.key},t,{className:"recharts-line-label"}),n)}},{key:"renderLabels",value:function(){var e=this;if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var t=this.props,n=t.points,r=t.label,i=lo(this.props),o=lo(r),s=n.map((function(t,n){var a=kf({textAnchor:"middle"},t,i,o,{index:n,key:"label-"+n});return e.renderLabelItem(r,a,t.value)}));return a().createElement(Co,{className:"recharts-line-labels"},s)}},{key:"renderErrorBar",value:function(){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var e=this.props,t=e.points,n=e.xAxis,r=e.yAxis,i=e.layout,o=e.children,s=so(o,bf);return s?a().cloneElement(s,{data:t,xAxis:n,yAxis:r,layout:i,dataPointFormatter:function(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:$i(e.payload,t)}}}):null}},{key:"renderDotItem",value:function(e,t){var n=void 0;if(a().isValidElement(e))n=a().cloneElement(e,t);else if(v()(e))n=e(t);else{var r=c()("recharts-line-dot",e.className);n=a().createElement(nu,kf({},t,{className:r}))}return n}},{key:"renderDots",value:function(){var e=this;if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var t=this.props,n=t.dot,r=t.points,i=lo(this.props),o=lo(n),s=r.map((function(t,r){var a=kf({key:"dot-"+r,r:3},i,o,{value:t.value,cx:t.x,cy:t.y,index:r,payload:t.payload});return e.renderDotItem(n,a)}));return a().createElement(Co,{className:"recharts-line-dots",key:"dots"},s)}},{key:"renderCurve",value:function(e){var t=this,n=this.props,r=n.points,i=n.strokeDasharray,o=n.isAnimationActive,s=n.animationBegin,l=n.animationDuration,u=n.animationEasing,c=n.onClick,f=n.onMouseEnter,d=n.onMouseLeave,p=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(n,["points","strokeDasharray","isAnimationActive","animationBegin","animationDuration","animationEasing","onClick","onMouseEnter","onMouseLeave"]),h=this.state.totalLength,g={isActive:o,begin:s,canBegin:h>0,easing:u,duration:l,onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart,shouldReAnimate:!0,pathRef:this.pathRef},m=kf({},p,{fill:"none",className:"recharts-line-curve",clipPath:e?"url(#clipPath-"+this.id+")":null,onClick:c,onMouseEnter:f,onMouseLeave:d,points:r});if(!o)return a().createElement(El,kf({},m,{strokeDasharray:i}));if(i&&h){var y=i.split(/[,\s]+/gim).map((function(e){return parseFloat(e)}));return a().createElement(ds.ZP,kf({},g,{from:{curveLen:0},to:{curveLen:h}}),(function(e){var n=e.curveLen;return a().createElement(El,kf({},m,{strokeDasharray:t.getStrokeDasharray(n,h,y)}))}))}return i?a().createElement(El,kf({},m,{pathRef:this.pathRef,strokeDasharray:i})):a().createElement(ds.ZP,kf({},g,{from:"0px "+(0===h?1:h)+"px",to:h+"px 0px",attributeName:"strokeDasharray"}),a().createElement(El,m))}},{key:"render",value:function(){var e=this.props,t=e.dot,n=e.points,r=e.label,i=e.className,o=e.xAxis,s=e.yAxis,l=e.top,u=e.left,f=e.width,d=e.height;if(!n||!n.length)return null;var p=1===n.length,h=c()("recharts-line",i),g=o&&o.allowDataOverflow||s&&s.allowDataOverflow;return a().createElement(Co,{className:h},g?a().createElement("defs",null,a().createElement("clipPath",{id:"clipPath-"+this.id},a().createElement("rect",{x:u,y:l,width:f,height:d}))):null,!p&&this.renderCurve(g),this.renderErrorBar(),(p||t)&&this.renderDots(),r&&this.renderLabels())}}]),t}(o.Component),_f.displayName="Line",_f.propTypes=kf({},no,ro,{className:l().string,type:l().oneOfType([l().oneOf(["basis","basisClosed","basisOpen","linear","linearClosed","natural","monotoneX","monotoneY","monotone","step","stepBefore","stepAfter"]),l().func]),unit:l().oneOfType([l().string,l().number]),name:l().oneOfType([l().string,l().number]),yAxisId:l().oneOfType([l().string,l().number]),xAxisId:l().oneOfType([l().string,l().number]),yAxis:l().object,xAxis:l().object,legendType:l().oneOf(io),layout:l().oneOf(["horizontal","vertical"]),connectNulls:l().bool,activeDot:l().oneOfType([l().object,l().element,l().func,l().bool]),dot:l().oneOfType([l().object,l().element,l().func,l().bool]),label:l().oneOfType([l().object,l().element,l().func,l().bool]),top:l().number,left:l().number,width:l().number,height:l().number,points:l().arrayOf(l().shape({x:l().number,y:l().number,value:l().value})),onAnimationStart:l().func,onAnimationEnd:l().func,isAnimationActive:l().bool,animationBegin:l().number,animationDuration:l().number,animationEasing:l().oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),animationId:l().number}),_f.defaultProps={xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ho(),animationBegin:0,animationDuration:1500,animationEasing:"ease",onAnimationStart:function(){},onAnimationEnd:function(){}},xf=wf))||xf;var Mf,Ef,Pf,Df=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lf=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Rf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function If(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}const Nf=to((Pf=Ef=function(e){function t(){var e,n,r;Rf(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=If(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={isAnimationFinished:!0},r.id=Fi("recharts-area-"),r.handleAnimationEnd=function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd()},r.handleAnimationStart=function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart()},If(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Lf(t,[{key:"renderCurve",value:function(){var e=this.props,t=e.layout,n=e.type,r=e.stroke,i=e.points,o=e.baseLine,s=e.connectNulls,l=e.isRange;return a().createElement("g",null,"none"!==r&&a().createElement(El,Df({},lo(this.props),{className:"recharts-area-curve",layout:t,type:n,connectNulls:s,fill:"none",points:i})),"none"!==r&&l&&a().createElement(El,Df({},lo(this.props),{className:"recharts-area-curve",layout:t,type:n,connectNulls:s,fill:"none",points:o})),a().createElement(El,Df({},this.props,{stroke:"none",className:"recharts-area-area"})))}},{key:"renderHorizontalRect",value:function(e){var t=this.props,n=t.baseLine,r=t.points,i=t.strokeWidth,o=r[0].x,s=r[r.length-1].x,l=e*Math.abs(o-s),u=Math.max.apply(null,r.map((function(e){return e.y||0})));return u=ji(n)?Math.max(n,u):Math.max(Math.max.apply(null,n.map((function(e){return e.y||0}))),u),a().createElement("rect",{x:o<s?o:o-l,y:0,width:l,height:u+(i||1)})}},{key:"renderVerticalRect",value:function(e){var t=this.props,n=t.baseLine,r=t.points,i=t.strokeWidth,o=r[0].y,s=r[r.length-1].y,l=e*Math.abs(o-s),u=Math.max.apply(null,r.map((function(e){return e.x||0})));return u=ji(n)?Math.max(n,u):Math.max(Math.max.apply(null,n.map((function(e){return e.x||0}))),u),a().createElement("rect",{x:0,y:o<s?o:o-l,width:u+(i||1),height:l})}},{key:"renderClipRect",value:function(e){return"vertical"===this.props.layout?this.renderVerticalRect(e):this.renderHorizontalRect(e)}},{key:"renderClipPath",value:function(){var e=this,t=this.props,n=t.isAnimationActive,r=t.animationDuration,i=t.animationEasing,o=t.animationBegin,s=t.animationId;return a().createElement("defs",null,a().createElement("clipPath",{id:"animationClipPath-"+this.id},a().createElement(ds.ZP,{easing:i,isActive:n,duration:r,key:s,animationBegin:o,onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd,from:{alpha:0},to:{alpha:1}},(function(t){var n=t.alpha;return e.renderClipRect(n)}))))}},{key:"renderDotItem",value:function(e,t){return a().isValidElement(e)?a().cloneElement(e,t):v()(e)?e(t):a().createElement(nu,Df({},t,{className:"recharts-area-dot"}))}},{key:"renderDots",value:function(){var e=this;if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var t=this.props,n=t.dot,r=t.points,i=lo(this.props),o=lo(n),s=r.map((function(t,r){var a=Df({key:"dot-"+r,r:3},i,o,{cx:t.x,cy:t.y,index:r,value:t.value,payload:t.payload});return e.renderDotItem(n,a)}));return a().createElement(Co,{className:"recharts-area-dots"},s)}},{key:"renderLabelItem",value:function(e,t,n){return a().isValidElement(e)?a().cloneElement(e,t):v()(e)?e(t):a().createElement(ol,Df({key:t.key},t,{className:"recharts-area-label"}),x()(n)?n[1]:n)}},{key:"renderLabels",value:function(){var e=this;if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var t=this.props,n=t.points,r=t.label,i=lo(this.props),o=lo(r),s=n.map((function(t,n){var a=Df({textAnchor:"middle"},t,i,o,{index:n,key:"label-"+n,value:t.value,payload:t.payload});return e.renderLabelItem(r,a,t.value)}));return a().createElement(Co,{className:"recharts-area-labels"},s)}},{key:"render",value:function(){var e=this.props,t=e.dot,n=e.label,r=e.points,i=e.className,o=e.top,s=e.left,l=e.xAxis,u=e.yAxis,f=e.width,d=e.height;if(!r||!r.length)return null;var p=1===r.length,h=c()("recharts-area",i),g=l&&l.allowDataOverflow||u&&u.allowDataOverflow;return a().createElement(Co,{className:h},g?a().createElement("defs",null,a().createElement("clipPath",{id:"clipPath-"+this.id},a().createElement("rect",{x:s,y:o,width:f,height:d}))):null,p?null:this.renderClipPath(),p?null:a().createElement(Co,{clipPath:g?"url(#clipPath-"+this.id+")":null},a().createElement(Co,{clipPath:"url(#animationClipPath-"+this.id+")"},this.renderCurve())),(t||p)&&this.renderDots(),n&&this.renderLabels())}}]),t}(o.Component),Ef.displayName="Area",Ef.propTypes=Df({},no,ro,{className:l().string,dataKey:l().oneOfType([l().string,l().number,l().func]).isRequired,type:l().oneOfType([l().oneOf(["basis","basisClosed","basisOpen","linear","linearClosed","natural","monotoneX","monotoneY","monotone","step","stepBefore","stepAfter"]),l().func]),unit:l().oneOfType([l().string,l().number]),name:l().oneOfType([l().string,l().number]),yAxisId:l().oneOfType([l().string,l().number]),xAxisId:l().oneOfType([l().string,l().number]),yAxis:l().object,xAxis:l().object,stackId:l().oneOfType([l().number,l().string]),legendType:l().oneOf(io),connectNulls:l().bool,activeDot:l().oneOfType([l().object,l().element,l().func,l().bool]),dot:l().oneOfType([l().func,l().element,l().object,l().bool]),label:l().oneOfType([l().func,l().element,l().object,l().bool]),layout:l().oneOf(["horizontal","vertical"]),baseLine:l().oneOfType([l().number,l().array]),isRange:l().bool,points:l().arrayOf(l().shape({x:l().number,y:l().number,value:l().oneOfType([l().number,l().array])})),onAnimationStart:l().func,onAnimationEnd:l().func,animationId:l().number,isAnimationActive:l().bool,animationBegin:l().number,animationDuration:l().number,animationEasing:l().oneOf(["ease","ease-in","ease-out","ease-in-out","linear"])}),Ef.defaultProps={stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,label:!1,activeDot:!0,isAnimationActive:!ho(),animationBegin:0,animationDuration:1500,animationEasing:"ease",onAnimationStart:function(){},onAnimationEnd:function(){}},Mf=Pf))||Mf;var jf,zf,qf,Ff=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bf=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Hf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uf(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}const Vf=to((qf=zf=function(e){function t(){var e,n,r;Hf(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=Uf(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={isAnimationFinished:!1},r.id=Fi("recharts-bar-"),r.handleAnimationEnd=function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd()},r.handleAnimationStart=function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart()},Uf(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Bf(t,[{key:"renderRectangle",value:function(e,t){return a().isValidElement(e)?a().cloneElement(e,t):v()(e)?e(t):a().createElement(ql,t)}},{key:"renderRectangles",value:function(){var e=this,t=this.props,n=t.data,r=t.shape,i=t.layout,o=t.isAnimationActive,s=t.animationBegin,l=t.animationDuration,u=t.animationEasing,c=t.animationId,f=lo(this.props),p=function(e){return{transform:"scale"+("vertical"===i?"X":"Y")+"("+(e?0:1)+")"}};return n.map((function(t,n){var h=t.x,g=t.y,m=t.width,y=t.height,v=Ff({},f,t,{index:n});if(d()(t.value)||!o)return a().createElement(Co,Ff({className:"recharts-bar-rectangle"},fo(e.props,t,n),{key:"rectangle-"+n}),e.renderRectangle(r,v));var b;return b="vertical"===i?h+"px "+(g+y/2)+"px":h+m/2+"px "+(g+y)+"px",a().createElement(ds.ZP,{begin:s,duration:l,isActive:o,easing:u,from:p(!0),to:p(!1),key:"rectangle-"+n+"-"+c,onAnimationEnd:e.handleAnimationEnd,onAnimationStart:e.handleAnimationStart},a().createElement(Co,Ff({className:"recharts-bar-rectangle",style:(0,ds.bO)({transformOrigin:b})},fo(e.props,t,n),{key:"rectangle-"+n}),e.renderRectangle(r,v)))}))}},{key:"renderLabelItem",value:function(e,t,n){return a().isValidElement(e)?a().cloneElement(e,t):v()(e)?e(t):a().createElement(ol,Ff({},t,{key:t.key,className:"recharts-bar-label"}),x()(n)?n[1]:n)}},{key:"renderLabels",value:function(){var e=this;if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var t=this.props,n=t.data,r=t.label,i=t.layout,o=lo(this.props),s=lo(r),l=n.map((function(t,n){var a="middle",l="central",u=0,c=0;"vertical"===i?(a=t.width<0?"end":"start",u=t.x+t.width+5*(t.width<0?-1:1),c=t.y+t.height/2):(l=t.height<0?"hanging":"inherit",u=t.x+t.width/2,c=t.y-5*(t.height<0?-1:1));var f=Ff({dominantBaseline:l,textAnchor:a},o,t,s,{x:u,y:c,index:n,key:"label-"+n,payload:t.payload}),d=t.value;return!0===r&&t.value&&f.label&&(d=f.label),e.renderLabelItem(r,f,d)}));return a().createElement(Co,{className:"recharts-bar-labels"},l)}},{key:"renderErrorBar",value:function(){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var e=this.props,t=e.data,n=e.xAxis,r=e.yAxis,i=e.layout,o=e.children,s=so(o,bf);if(!s)return null;var l="vertical"===i?t[0].height/2:t[0].width/2;return a().cloneElement(s,{data:t,xAxis:n,yAxis:r,layout:i,offset:l,dataPointFormatter:function(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:$i(e,t)}}})}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.className,r=e.label,i=e.xAxis,o=e.yAxis,s=e.left,l=e.top,u=e.width,f=e.height;if(!t||!t.length)return null;var d=c()("recharts-bar",n),p=i&&i.allowDataOverflow||o&&o.allowDataOverflow;return a().createElement(Co,{className:d},p?a().createElement("defs",null,a().createElement("clipPath",{id:"clipPath-"+this.id},a().createElement("rect",{x:s,y:l,width:u,height:f}))):null,a().createElement(Co,{className:"recharts-bar-rectangles",clipPath:p?"url(#clipPath-"+this.id+")":null},this.renderRectangles()),r&&a().createElement(Co,{className:"recharts-bar-rectangle-labels"},this.renderLabels()),this.renderErrorBar())}}]),t}(o.Component),zf.displayName="Bar",zf.propTypes=Ff({},no,ro,{className:l().string,layout:l().oneOf(["vertical","horizontal"]),xAxisId:l().oneOfType([l().number,l().string]),yAxisId:l().oneOfType([l().number,l().string]),yAxis:l().object,xAxis:l().object,stackId:l().oneOfType([l().number,l().string]),barSize:l().number,unit:l().oneOfType([l().string,l().number]),name:l().oneOfType([l().string,l().number]),dataKey:l().oneOfType([l().string,l().number,l().func]).isRequired,legendType:l().oneOf(io),minPointSize:l().number,maxBarSize:l().number,shape:l().oneOfType([l().func,l().element]),label:l().oneOfType([l().bool,l().func,l().object,l().element]),data:l().arrayOf(l().shape({x:l().number,y:l().number,width:l().number,height:l().number,radius:l().oneOfType([l().number,l().array]),value:l().oneOfType([l().number,l().array])})),onAnimationStart:l().func,onAnimationEnd:l().func,animationId:l().number,isAnimationActive:l().bool,animationBegin:l().number,animationDuration:l().number,animationEasing:l().oneOf(["ease","ease-in","ease-out","ease-in-out","linear"])}),zf.defaultProps={xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,data:[],layout:"vertical",isAnimationActive:!ho(),animationBegin:0,animationDuration:1500,animationEasing:"ease",onAnimationStart:function(){},onAnimationEnd:function(){}},jf=qf))||jf;var Wf,Gf,Kf,Yf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zf=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Xf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}const Jf=Gu(Wf=to((Kf=Gf=function(e){function t(){var e,n,r;Xf(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=$f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={activeIndex:-1,isAnimationFinished:!1},r.id=Fi("recharts-scatter-"),$f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Zf(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.animationDuration;window.setTimeout((function(){return e.setState({isAnimationFinished:!0})}),t)}},{key:"renderSymbolItem",value:function(e,t){return a().isValidElement(e)?a().cloneElement(e,t):v()(e)?e(t):a().createElement(Va,Yf({},t,{type:e}))}},{key:"renderSymbols",value:function(){var e=this,t=this.props,n=t.points,r=t.shape,i=t.activeShape,o=t.activeIndex,s=t.animationBegin,l=t.animationDuration,u=t.isAnimationActive,c=t.animationEasing,f=t.animationId,d=lo(this.props);return n.map((function(t,n){var p=Yf({key:"symbol-"+n},d,t);return a().createElement(Co,Yf({className:"recharts-scatter-symbol"},fo(e.props,t,n),{key:"symbol-"+n}),a().createElement(ds.ZP,{from:{size:0},to:{size:p.size},duration:l,begin:s,isActive:u,key:f,easing:c},(function(t){var a=t.size,s=Yf({},p,{size:a});return e.renderSymbolItem(o===n?i:r,s)})))}))}},{key:"renderErrorBar",value:function(){if(!this.state.isAnimationFinished)return null;var e=this.props,t=e.points,n=e.xAxis,r=e.yAxis,i=e.children,o=ao(i,bf);if(!o)return null;function s(e,t){return{x:e.cx,y:e.cy,value:e.y,errorVal:$i(e,t)}}function l(e,t){return{x:e.cx,y:e.cy,value:e.x,errorVal:$i(e,t)}}return o.map((function(e,i){var o=e.props.direction;return a().cloneElement(e,{key:i,data:t,xAxis:n,yAxis:r,layout:"x"===o?"vertical":"horizontal",dataPointFormatter:"x"===o?l:s})}))}},{key:"renderLine",value:function(){var e,t=this.props,n=t.points,r=t.line,i=t.lineType,o=t.lineJointType,s=lo(this.props),l=lo(r),u=void 0;"joint"===i&&(u=n.map((function(e){return{x:e.cx,y:e.cy}})));var c=Yf({},s,{fill:"none",stroke:s&&s.fill},l,{points:u});return e=a().isValidElement(r)?a().cloneElement(r,c):v()(r)?r(c):a().createElement(El,Yf({},c,{type:o})),a().createElement(Co,{className:"recharts-scatter-line",key:"recharts-scatter-line"},e)}},{key:"render",value:function(){var e=this.props,t=e.points,n=e.line,r=e.className,i=e.xAxis,o=e.yAxis,s=e.left,l=e.top,u=e.width,f=e.height;if(!t||!t.length)return null;var d=c()("recharts-scatter",r),p=i&&i.allowDataOverflow||o&&o.allowDataOverflow;return a().createElement(Co,{className:d,clipPath:p?"url(#clipPath-"+this.id+")":null},p?a().createElement("defs",null,a().createElement("clipPath",{id:"clipPath-"+this.id},a().createElement("rect",{x:s,y:l,width:u,height:f}))):null,n&&this.renderLine(),this.renderErrorBar(),a().createElement(Co,{key:"recharts-scatter-symbols"},this.renderSymbols()))}}]),t}(o.Component),Gf.displayName="Scatter",Gf.propTypes=Yf({},ro,no,{xAxisId:l().oneOfType([l().string,l().number]),yAxisId:l().oneOfType([l().string,l().number]),zAxisId:l().oneOfType([l().string,l().number]),line:l().oneOfType([l().bool,l().object,l().func,l().element]),lineType:l().oneOf(["fitting","joint"]),lineJointType:l().oneOfType([l().oneOf(["basis","basisClosed","basisOpen","linear","linearClosed","natural","monotoneX","monotoneY","monotone","step","stepBefore","stepAfter"]),l().func]),legendType:l().oneOf(io),className:l().string,activeIndex:l().number,activeShape:l().oneOfType([l().object,l().func,l().element]),shape:l().oneOfType([l().oneOf(["circle","cross","diamond","square","star","triangle","wye"]),l().element,l().func]),points:l().arrayOf(l().shape({cx:l().number,cy:l().number,size:l().number,node:l().shape({x:l().number,y:l().number,z:l().oneOfType([l().number,l().string])}),payload:l().any})),isAnimationActive:l().bool,animationId:l().number,animationBegin:l().number,animationDuration:l().number,animationEasing:l().oneOf(["ease","ease-in","ease-out","ease-in-out","linear"])}),Gf.defaultProps={xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",isAnimationActive:!ho(),animationBegin:0,animationDuration:400,animationEasing:"linear"},Wf=Kf))||Wf)||Wf;var Qf,ed,td,nd=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function rd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function id(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}const od=to((td=ed=function(e){function t(){return rd(this,t),id(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),nd(t,[{key:"render",value:function(){return null}}]),t}(o.Component),ed.displayName="XAxis",ed.propTypes={allowDecimals:l().bool,hide:l().bool,name:l().oneOfType([l().string,l().number]),unit:l().oneOfType([l().string,l().number]),xAxisId:l().oneOfType([l().string,l().number]),domain:l().arrayOf(l().oneOfType([l().string,l().number,l().oneOf(["auto","dataMin","dataMax"])])),dataKey:l().oneOfType([l().string,l().number,l().func]),width:l().number,height:l().number,mirror:l().bool,orientation:l().oneOf(["top","bottom"]),type:l().oneOf(["number","category"]),ticks:l().array,tickCount:l().number,tickFormatter:l().func,padding:l().shape({left:l().number,right:l().number}),allowDataOverflow:l().bool,scale:l().oneOfType([l().oneOf(["auto","linear","pow","sqrt","log","identity","time","band","point","ordinal","quantile","quantize","utcTime","sequential","threshold"]),l().func]),label:l().oneOfType([l().number,l().string,l().func,l().element]),tick:l().oneOfType([l().bool,l().func,l().object,l().element]),axisLine:l().oneOfType([l().bool,l().object]),tickLine:l().oneOfType([l().bool,l().object]),minTickGap:l().number,tickSize:l().number,interval:l().oneOfType([l().number,l().oneOf(["preserveStart","preserveEnd","preserveStartEnd"])]),reversed:l().bool},ed.defaultProps={allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",domain:[0,"auto"],padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1},Qf=td))||Qf;var ad,sd,ld,ud=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function cd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fd(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}const dd=to((ld=sd=function(e){function t(){return cd(this,t),fd(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),ud(t,[{key:"render",value:function(){return null}}]),t}(o.Component),sd.displayName="YAxis",sd.propTypes={allowDecimals:l().bool,hide:l().bool,name:l().oneOfType([l().string,l().number]),unit:l().oneOfType([l().string,l().number]),yAxisId:l().oneOfType([l().string,l().number]),domain:l().arrayOf(l().oneOfType([l().string,l().number,l().oneOf(["auto","dataMin","dataMax"])])),dataKey:l().oneOfType([l().string,l().number,l().func]),ticks:l().array,tickCount:l().number,tickFormatter:l().func,width:l().number,height:l().number,mirror:l().bool,orientation:l().oneOf(["left","right"]),type:l().oneOf(["number","category"]),padding:l().shape({top:l().number,bottom:l().number}),allowDataOverflow:l().bool,scale:l().oneOfType([l().oneOf(["auto","linear","pow","sqrt","log","identity","time","band","point","ordinal","quantile","quantize","utcTime","sequential","threshold"]),l().func]),label:l().oneOfType([l().number,l().string,l().func,l().element]),tick:l().oneOfType([l().bool,l().func,l().object,l().element]),axisLine:l().oneOfType([l().bool,l().object]),tickLine:l().oneOfType([l().bool,l().object]),minTickGap:l().number,tickSize:l().number,interval:l().oneOfType([l().number,l().oneOf(["preserveStart","preserveEnd","preserveStartEnd"])]),reversed:l().bool},sd.defaultProps={allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",domain:[0,"auto"],padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1},ad=ld))||ad;var pd,hd,gd,md=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function yd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vd(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}const bd=to((gd=hd=function(e){function t(){return yd(this,t),vd(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),md(t,[{key:"render",value:function(){return null}}]),t}(o.Component),hd.displayName="ZAxis",hd.propTypes={name:l().oneOfType([l().string,l().number]),unit:l().oneOfType([l().string,l().number]),zAxisId:l().oneOfType([l().string,l().number]),dataKey:l().oneOfType([l().string,l().number,l().func]),range:l().arrayOf(l().number),scale:l().oneOfType([l().oneOf(["auto","linear","pow","sqrt","log","identity","time","band","point","ordinal","quantile","quantize","utcTime","sequential","threshold"]),l().func])},hd.defaultProps={zAxisId:0,range:[64,64],scale:"auto"},pd=gd))||pd;var xd=n(98140),_d=n.n(xd),wd=n(38527),kd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function Td(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function Cd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Od={sign:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0,a=0;a<t;++a){var s=isNaN(e[a][n][1])?e[a][n][0]:e[a][n][1];s>=0?(e[a][n][0]=i,e[a][n][1]=i+s,i=e[a][n][1]):(e[a][n][0]=o,e[a][n][1]=o+s,o=e[a][n][1])}},expand:function(e,t){if((r=e.length)>0){for(var n,r,i,o=0,a=e[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=e[n][o][1]||0;if(i)for(n=0;n<r;++n)e[n][o][1]/=i}Da(e,t)}},none:Da,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,i=e[t[0]],o=i.length;r<o;++r){for(var a=0,s=0;a<n;++a)s+=e[a][r][1]||0;i[r][1]+=i[r][0]=-s/2}Da(e,t)}},wiggle:function(e,t){if((i=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,i,o=0,a=1;a<r;++a){for(var s=0,l=0,u=0;s<i;++s){for(var c=e[t[s]],f=c[a][1]||0,d=(f-(c[a-1][1]||0))/2,p=0;p<s;++p){var h=e[t[p]];d+=(h[a][1]||0)-(h[a-1][1]||0)}l+=f,u+=d*f}n[a-1][1]+=n[a-1][0]=o,l&&(o-=u/l)}n[a-1][1]+=n[a-1][0]=o,Da(e,t)}}},Sd=function(e,t,n,r){var i=ao(e,Lc),o=ao(e,Bc),a=i.concat(o),s=ao(e,Zc),l=r+"Id",u=r[0],c=t;if(a.length&&(c=a.reduce((function(e,t){if(t.props[l]===n&&t.props.alwaysShow&&ji(t.props[u])){var r=t.props[u];return[Math.min(e[0],r),Math.max(e[1],r)]}return e}),c)),s.length){var f=u+"1",d=u+"2";c=s.reduce((function(e,t){if(t.props[l]===n&&t.props.alwaysShow&&ji(t.props[f])&&ji(t.props[d])){var r=t.props[f],i=t.props[d];return[Math.min(e[0],r,i),Math.max(e[1],r,i)]}return e}),c)}return c},Ad=function(e,t,n){var r=t.map((function(e){return e.props.dataKey}));return function(){var e=Io([]),t=La,n=Da,r=Ra;function i(i){var o,a,s=e.apply(this,arguments),l=i.length,u=s.length,c=new Array(u);for(o=0;o<u;++o){for(var f,d=s[o],p=c[o]=new Array(l),h=0;h<l;++h)p[h]=f=[0,+r(i[h],d,h,i)],f.data=i[h];p.key=d}for(o=0,a=t(c);o<u;++o)c[a[o]].index=o;return n(c,a),c}return i.keys=function(t){return arguments.length?(e="function"==typeof t?t:Io(Pa.call(t)),i):e},i.value=function(e){return arguments.length?(r="function"==typeof e?e:Io(+e),i):r},i.order=function(e){return arguments.length?(t=null==e?La:"function"==typeof e?e:Io(Pa.call(e)),i):t},i.offset=function(e){return arguments.length?(n=null==e?Da:e,i):n},i}().keys(r).value((function(e,t){return+$i(e,t,0)})).order(La).offset(Od[n])(e)},Md=function(e,t,n,r){var i=e.reduce((function(e,n){var r=$i(n,t);return x()(r)?[].concat(Td(e),Td(r)):[].concat(Td(e),[r])}),[]);if("number"===n){var o=i.filter(ji);return[Math.min.apply(null,o),Math.max.apply(null,o)]}return(r?i.filter((function(e){return!d()(e)})):i).map((function(e){return zi(e)?e:""}))},Ed=function(e,t,n){return Object.keys(e).reduce((function(r,i){var o=e[i].stackedData.reduce((function(e,r){var i=r.slice(t,n+1).reduce((function(e,t){return[Math.min.apply(null,t.concat([e[0]]).filter(ji)),Math.max.apply(null,t.concat([e[1]]).filter(ji))]}),[1/0,-1/0]);return[Math.min(e[0],i[0]),Math.max(e[1],i[1])]}),[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]}),[1/0,-1/0]).map((function(e){return e===1/0||e===-1/0?0:e}))},Pd=function(e,t,n,r){var i=t.map((function(t){return Md(e,t.props.dataKey,n,r)}));if("number"===n)return i.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0]);var o={};return i.reduce((function(e,t){for(var n=0,r=t.length;n<r;n++)o[t[n]]||(o[t[n]]=!0,e.push(t[n]));return e}),[])},Dd=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t},Ld=function(e,t,n){var r=void 0,i=void 0,o=e.map((function(e){return e.coordinate===t&&(r=!0),e.coordinate===n&&(i=!0),e.coordinate}));return r||o.push(t),i||o.push(n),o},Rd=function(e,t,n){if(!e)return null;var r=e.scale,i=e.duplicateDomain,o=e.type,a=(t||n)&&"category"===o&&r.bandwidth?r.bandwidth()/2:0;return t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map((function(e){var t=i?i.indexOf(e):e;return{coordinate:r(t)+a,value:e}})):e.isCategorial&&e.categoricalDomain?e.categoricalDomain.map((function(e,t){return{coordinate:r(e),value:e,index:t}})):r.ticks&&!n?r.ticks(e.tickCount).map((function(e){return{coordinate:r(e)+a,value:e}})):r.domain().map((function(e,t){return{coordinate:r(e)+a,value:i?i[e]:e,index:t}}))},Id=function(e){var t=void 0;switch(e.type.displayName){case"Line":case"Area":t=e.props.stroke;break;default:t=e.props.fill}return t},Nd=function(e,t,n){var r=so(e,ls);if(!r)return null;var i=r.props&&r.props.payload||t.map((function(e){var t=e.props,n=t.dataKey,i=t.name,o=t.legendType;return{dataKey:n,type:r.props.iconType||o||"square",color:Id(e),value:i||n,payload:e.props}}));return kd({},r.props,ls.getWithHeight(r,n),{payload:i})},jd=function(e,t){var n=t.type,r=t.tickCount,i=t.originalDomain,o=t.allowDecimals;if("auto"!==t.scale&&"linear"!==t.scale)return null;if(r&&"number"===n&&i&&("auto"===i[0]||"auto"===i[1])){var a=e.domain(),s=(0,wd.Zj)(a,r,o);return e.domain(function(e,t){return"number"===t?[Math.min.apply(null,e),Math.max.apply(null,e)]:e}(s,n)),{niceTicks:s}}if(r&&"number"===n){var l=e.domain();return{niceTicks:(0,wd.wZ)(l,r,o)}}return null},zd=function(e,t,n,r){var i=n.children,o=n.width,a=(n.height,n.margin),s=o-(a.left||0)-(a.right||0),l=(a.top,a.bottom,Nd(i,t,s)),u=e;if(l){var c=r||{},f=l.align,d=l.verticalAlign,p=l.layout;("vertical"===p||"horizontal"===p&&"center"===d)&&ji(e[f])&&(u=kd({},e,Cd({},f,u[f]+(c.width||0)))),("horizontal"===p||"vertical"===p&&"center"===f)&&ji(e[d])&&(u=kd({},e,Cd({},d,u[d]+(c.height||0))))}return u},qd=n(17187),Fd=new(n.n(qd)());Fd.setMaxListeners&&Fd.setMaxListeners(10);var Bd="recharts.syncMouseEvents",Hd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ud=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Vd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wd={xAxis:["bottom","top"],yAxis:["left","right"]},Gd={x:0,y:0};const Kd=function(e,t){var n,r;return r=n=function(n){function r(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));t.handleLegendBBoxUpdate=function(e){if(e&&t.legendInstance){var n=t.state,r=n.dataStartIndex,i=n.dataEndIndex;t.setState(t.updateStateOfAxisMapsOffsetAndStackGroups({props:t.props,dataStartIndex:r,dataEndIndex:i}))}},t.handleReceiveSyncEvent=function(e,n,r){var i=t.props,o=i.syncId,a=i.layout;if(o===e&&n!==t.uniqueChartId){var s=r.dataStartIndex,l=r.dataEndIndex;if(d()(r.dataStartIndex)&&d()(r.dataEndIndex))if(d()(r.activeTooltipIndex))t.setState(r);else{var u=r.chartX,c=r.chartY,f=r.activeTooltipIndex,p=t.state,h=p.offset,g=p.tooltipTicks;if(!h)return;var m=Hd({},h,{x:h.left,y:h.top}),y=Math.min(u,m.x+m.width),v=Math.min(c,m.y+m.height),b=g[f]&&g[f].value,x=t.getTooltipContent(f),_=g[f]?{x:"horizontal"===a?g[f].coordinate:y,y:"horizontal"===a?v:g[f].coordinate}:Gd;t.setState(Hd({},r,{activeLabel:b,activeCoordinate:_,activePayload:x}))}else t.setState(Hd({dataStartIndex:s,dataEndIndex:l},t.updateStateOfAxisMapsOffsetAndStackGroups({props:t.props,dataStartIndex:s,dataEndIndex:l})))}},t.handleBrushChange=function(e){var n=e.startIndex,r=e.endIndex;n===t.state.dataStartIndex&&r===t.state.dataEndIndex||(t.setState(Hd({dataStartIndex:n,dataEndIndex:r},t.updateStateOfAxisMapsOffsetAndStackGroups({props:t.props,dataStartIndex:n,dataEndIndex:r}))),t.triggerSyncEvent({dataStartIndex:n,dataEndIndex:r}))},t.handleMouseEnter=function(e){var n=t.props.onMouseEnter,r=t.getMouseInfo(e);if(r){var i=Hd({},r,{isTooltipActive:!0});t.setState(i),t.triggerSyncEvent(i),v()(n)&&n(i,e)}},t.triggeredAfterMouseMove=function(e){var n=t.props.onMouseMove,r=t.getMouseInfo(e),i=r?Hd({},r,{isTooltipActive:!0}):{isTooltipActive:!1};t.setState(i),t.triggerSyncEvent(i),v()(n)&&n(i,e)},t.handleMouseMove=function(e){e&&v()(e.persist)&&(e.persist(),t.triggeredAfterMouseMove(e))},t.handleMouseLeave=function(e){var n=t.props.onMouseLeave,r={isTooltipActive:!1};t.setState(r),t.triggerSyncEvent(r),v()(n)&&n(r,e)},t.handleClick=function(e){var n=t.props.onClick;v()(n)&&n(t.getMouseInfo(e),e)},t.handleMouseDown=function(e){var n=t.props.onMouseDown;v()(n)&&n(t.getMouseInfo(e),e)},t.handleMouseUp=function(e){var n=t.props.onMouseUp;v()(n)&&n(t.getMouseInfo(e),e)},t.handleTouchMove=function(e){null!=e.changedTouches&&e.changedTouches.length>0&&t.handleMouseMove(e.changedTouches[0])},t.verticalCoordinatesGenerator=function(e){var t=e.xAxis,n=e.width,r=e.height,i=e.offset;return Ld(rf.getTicks(Hd({},rf.defaultProps,t,{ticks:Rd(t,!0),viewBox:{x:0,y:0,width:n,height:r}})),i.left,i.left+i.width)},t.horizontalCoordinatesGenerator=function(e){var t=e.yAxis,n=e.width,r=e.height,i=e.offset;return Ld(rf.getTicks(Hd({},rf.defaultProps,t,{ticks:Rd(t,!0),viewBox:{x:0,y:0,width:n,height:r}})),i.top,i.top+i.height)},t.axesTicksGenerator=function(e){return Rd(e,!0)},t.tooltipTicksGenerator=function(e){var t=e.layout,n=e.xAxisMap,r=e.yAxisMap,i=Ki("horizontal"===t?n:r),o=Rd(i,!1,!0);return{tooltipTicks:o,orderedTooltipTicks:T()(o,(function(e){return e.coordinate})),tooltipAxis:i}};var n=t.createDefaultState(e);return t.state=Hd({},n,{updateId:0},t.updateStateOfAxisMapsOffsetAndStackGroups(Hd({props:e},n))),t.validateAxes(),t.uniqueChartId=Fi("recharts"),e.throttleDelay&&(t.triggeredAfterMouseMove=_d()(t.triggeredAfterMouseMove,e.throttleDelay)),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,n),Ud(r,[{key:"componentDidMount",value:function(){d()(this.props.syncId)||this.addListener()}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.data,r=t.children,i=t.width,a=t.height,s=t.layout,l=t.stackOffset,u=t.margin;if(e.data===n&&e.width===i&&e.height===a&&e.layout===s&&e.stackOffset===l&&Qi(e.margin,u)){if(!function(e,t){if(e===t)return!0;if(o.Children.count(e)!==o.Children.count(t))return!1;var n=o.Children.count(e);if(0===n)return!0;if(1===n)return yo(e,t);for(var r=0;r<n;r++){var i=e[r],a=t[r];if(!yo(i,a))return!1}return!0}(e.children,r)){var c=this.state,f=c.dataStartIndex,p=c.dataEndIndex,h=Hd({},this.createDefaultState(e),{dataEndIndex:p,dataStartIndex:f});this.setState(Hd({},h,this.updateStateOfAxisMapsOffsetAndStackGroups(Hd({props:e},h))))}}else{var g=this.createDefaultState(e);this.setState(Hd({},g,{updateId:this.state.updateId+1},this.updateStateOfAxisMapsOffsetAndStackGroups(Hd({props:e},g))))}d()(this.props.syncId)&&!d()(e.syncId)&&this.addListener(),!d()(this.props.syncId)&&d()(e.syncId)&&this.removeListener()}},{key:"componentWillUnmount",value:function(){d()(this.props.syncId)||this.removeListener(),"function"==typeof this.triggeredAfterMouseMove.cancel&&this.triggeredAfterMouseMove.cancel()}},{key:"getAxisMap",value:function(e,t){var n=t.axisType,r=void 0===n?"xAxis":n,i=t.graphicalItems,o=t.stackGroups,a=t.dataStartIndex,s=t.dataEndIndex,l=e.children,u="xAxis"===r?od:dd,c="xAxis"===r?"xAxisId":"yAxisId",f=ao(l,u),d={};return f&&f.length?d=this.getAxisMapByAxes(e,{axes:f,graphicalItems:i,axisType:r,axisIdKey:c,stackGroups:o,dataStartIndex:a,dataEndIndex:s}):i&&i.length&&(d=this.getAxisMapByItems(e,{graphicalItems:i,Axis:u,axisType:r,axisIdKey:c,stackGroups:o,dataStartIndex:a,dataEndIndex:s})),d}},{key:"getAxisMapByAxes",value:function(e,t){var n=t.axes,r=t.graphicalItems,i=t.axisType,o=t.axisIdKey,a=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,u=e.layout,c=e.children,f=e.data,p=e.stackOffset,h=f.slice(s,l+1),g=h.length,m=Dd(u,i);return n.reduce((function(e,t){var n=t.props,u=n.type,f=n.dataKey,y=n.allowDataOverflow,v=n.scale,b=t.props[o];if(!e[b]){var _=void 0,w=void 0,k=void 0;if(f){if(_=Md(h,f,u),"category"===u&&m){var T=function(e){if(!x()(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1}(_);w=T?_:null,_=T?wc()(0,g):_}else"category"===u&&(_=_.filter((function(e){return""!==e&&!d()(e)})));!m||"number"!==u&&"auto"===v||(k=Md(h,f,"category"))}else _=m?wc()(0,g):a&&a[b]&&a[b].hasStack&&"number"===u?"expand"===p?[0,1]:Ed(a[b].stackGroups,s,l):Pd(h,r.filter((function(e){return e.props[o]===b})),u,!0);return"number"===u&&(_=Sd(c,_,b,i),t.props.domain&&(_=Vi(t.props.domain,_,y))),Hd({},e,Vd({},b,Hd({},t.props,{axisType:i,domain:_,categoricalDomain:k,duplicateDomain:w,originalDomain:t.props.domain,isCategorial:m})))}return e}),{})}},{key:"getAxisMapByItems",value:function(e,t){var n=t.graphicalItems,r=t.Axis,i=t.axisType,o=t.axisIdKey,a=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,u=e.layout,c=e.children,f=e.data.slice(s,l+1),d=f.length,p=Dd(u,i),h=-1;return n.reduce((function(e,t){var u=t.props[o];if(!e[u]){h++;var g=void 0;return p?g=wc()(0,d):a&&a[u]&&a[u].hasStack?(g=Ed(a[u].stackGroups,s,l),g=Sd(c,g,u,i)):(g=Vi(r.defaultProps.domain,Pd(f,n.filter((function(e){return e.props[o]===u})),"number"),r.defaultProps.allowDataOverflow),g=Sd(c,g,u,i)),Hd({},e,Vd({},u,Hd({axisType:i},r.defaultProps,{hide:!0,orientation:Wd[i][h%2],domain:g,originalDomain:r.defaultProps.domain,isCategorial:p})))}return e}),{})}},{key:"getFormatAxisMap",value:function(e,t,n,r){var i=e.width,o=e.height,a=e.layout,s=this.constructor.displayName,l=Object.keys(t),u={left:n.left,leftMirror:n.left,right:i-n.right,rightMirror:i-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom};return l.reduce((function(e,i){var o=t[i],l=o.orientation,c=o.domain,f=o.padding,d=void 0===f?{}:f,p=o.mirror,h=o.reversed,g=l+(p?"Mirror":""),m=void 0,y=void 0,v=void 0,b=void 0;m="xAxis"===r?[n.left+(d.left||0),n.left+n.width-(d.right||0)]:"horizontal"===a?[n.top+n.height-(d.bottom||0),n.top+(d.top||0)]:[n.top+(d.top||0),n.top+n.height-(d.bottom||0)],h&&(m=[m[1],m[0]]);var x=Zi(o,s);x.domain(c).range(m),function(e){var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-Xi,o=Math.max(r[0],r[1])+Xi,a=e(t[0]),s=e(t[n-1]);(a<i||a>o||s<i||s>o)&&e.domain([t[0],t[n-1]])}}(x);var _=jd(x,o);"xAxis"===r?(b="top"===l&&!p||"bottom"===l&&p,y=n.left,v=u[g]-b*o.height):(b="left"===l&&!p||"right"===l&&p,y=u[g]-b*o.width,v=n.top);var w=Hd({},o,_,{range:m,x:y,y:v,scale:x,width:"xAxis"===r?n.width:o.width,height:"yAxis"===r?n.height:o.height});return o.hide||"xAxis"!==r?o.hide||(u[g]+=(b?-1:1)*w.width):u[g]+=(b?-1:1)*w.height,Hd({},e,Vd({},i,w))}),{})}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t=this.state.offset,n=Qs(this.container),r=el(e,n);if(!(r.chartX>=t.left&&r.chartX<=t.left+t.width&&r.chartY>=t.top&&r.chartY<=t.top+t.height))return null;var i=this.props.layout,o=this.state,a=o.orderedTooltipTicks,s=(o.tooltipAxis,o.tooltipTicks),l=function(e,t){var n=-1,r=t.length;if(r>1){for(var i=0;i<r;i++)if(0===i&&e<=(t[i].coordinate+t[i+1].coordinate)/2||i>0&&i<r-1&&e>(t[i].coordinate+t[i-1].coordinate)/2&&e<=(t[i].coordinate+t[i+1].coordinate)/2||i===r-1&&e>(t[i].coordinate+t[i-1].coordinate)/2){n=t[i].index;break}}else n=0;return n}("horizontal"===i?r.chartX:r.chartY,a);if(l>=0){var u=s[l]&&s[l].value,c=this.getTooltipContent(l),f=s[l]?{x:"horizontal"===i?s[l].coordinate:r.chartX,y:"horizontal"===i?r.chartY:s[l].coordinate}:Gd;return Hd({},r,{activeTooltipIndex:l,activeLabel:u,activePayload:c,activeCoordinate:f})}return null}},{key:"getTooltipContent",value:function(e){var t=this.state,n=t.dataStartIndex,r=t.dataEndIndex,i=t.graphicalItems,o=this.props.data.slice(n,r+1);return e<0||!i||!i.length||e>=o.length?null:i.map((function(t){var n=t.props,r=n.dataKey,i=n.name,a=n.unit,s=n.formatter;return Hd({},lo(t),{dataKey:r,unit:a,formatter:s,name:i||r,color:Id(t),value:$i(o[e],r),payload:o[e]})}))}},{key:"updateStateOfAxisMapsOffsetAndStackGroups",value:function(e){var n=e.props,r=e.dataStartIndex,i=e.dataEndIndex,o=n.data;if(!po({props:n})||!o||!o.length)return null;var a=n.children,s=n.layout,l=n.stackOffset,u="horizontal"===s?"yAxis":"xAxis",c="horizontal"===s?"xAxis":"yAxis",f=ao(a,t),d=function(e,t,n,r,i){var o=t.reduce((function(e,t){var i=t.props.stackId,o=t.props[n],a=e[o]||{hasStack:!1,stackGroups:{}};if(zi(i)){var s=a.stackGroups[i]||{numericAxisId:n,cateAxisId:r,items:[]};s.items=[t].concat(s.items),a.hasStack=!0,a.stackGroups[i]=s}else a.stackGroups[Fi("_stackId_")]={numericAxisId:n,cateAxisId:r,items:[t]};return kd({},e,Cd({},o,a))}),{});return Object.keys(o).reduce((function(t,a){var s=o[a];return s.hasStack&&(s.stackGroups=Object.keys(s.stackGroups).reduce((function(t,o){var a=s.stackGroups[o];return kd({},t,Cd({},o,{numericAxisId:n,cateAxisId:r,items:a.items,stackedData:Ad(e,a.items,i)}))}),{})),kd({},t,Cd({},a,s))}),{})}(o,f,u+"Id",c+"Id",l),p=this.getAxisMap(n,{axisType:"xAxis",graphicalItems:f,stackGroups:"xAxis"===u&&d,dataStartIndex:r,dataEndIndex:i}),h=this.getAxisMap(n,{axisType:"yAxis",graphicalItems:f,stackGroups:"yAxis"===u&&d,dataStartIndex:r,dataEndIndex:i}),g=this.calculateOffset(n,f,p,h);p=this.getFormatAxisMap(n,p,g,"xAxis"),h=this.getFormatAxisMap(n,h,g,"yAxis");var m=this.tooltipTicksGenerator({layout:s,xAxisMap:p,yAxisMap:h});return Hd({graphicalItems:f,xAxisMap:p,yAxisMap:h,offset:g,stackGroups:d},m)}},{key:"addListener",value:function(){Fd.on(Bd,this.handleReceiveSyncEvent),Fd.setMaxListeners&&Fd._maxListeners&&Fd.setMaxListeners(Fd._maxListeners+1)}},{key:"removeListener",value:function(){Fd.removeListener(Bd,this.handleReceiveSyncEvent),Fd.setMaxListeners&&Fd._maxListeners&&Fd.setMaxListeners(Fd._maxListeners-1)}},{key:"createDefaultState",value:function(e){var t=e.children,n=so(t,Cc);return{chartX:0,chartY:0,dataStartIndex:n&&n.props&&n.props.startIndex||0,dataEndIndex:n&&n.props&&n.props.endIndex||e.data&&e.data.length-1||0,activeTooltipIndex:-1,isTooltipActive:!1}}},{key:"calculateOffset",value:function(e,t,n,r){var i=e.width,o=e.height,a=e.children,s=e.margin||{},l=so(a,Cc),u=so(a,ls),c=Object.keys(r).reduce((function(e,t){var n=r[t],i=n.orientation;return n.mirror||n.hide?e:Hd({},e,Vd({},i,e[i]+n.width))}),{left:s.left||0,right:s.right||0}),f=Object.keys(n).reduce((function(e,t){var r=n[t],i=r.orientation;return r.mirror||r.hide?e:Hd({},e,Vd({},i,e[i]+r.height))}),{top:s.top||0,bottom:s.bottom||0}),d=Hd({},f,c),p=d.bottom;if(l&&(d.bottom+=l.props.height||Cc.defaultProps.height),u&&this.legendInstance){var h=this.legendInstance.getBBox();d=zd(d,t,e,h)}return Hd({brushBottom:p},d,{width:i-d.left-d.right,height:o-d.top-d.bottom})}},{key:"validateAxes",value:function(){var e=this.props,t=e.layout,n=e.children,r=ao(n,od),i=ao(n,dd);return"horizontal"===t&&r&&r.length?r.forEach((function(e){"category"===e.props.type||"number"===e.props.type&&d()(e.props.dataKey)})):"vertical"===t&&(this.constructor.displayName,i&&i.length,r&&r.length,i&&i.length&&i.forEach((function(e){"category"===e.props.type||"number"===e.props.type&&d()(e.props.dataKey)}))),null}},{key:"triggerSyncEvent",value:function(e){var t=this.props.syncId;d()(t)||Fd.emit(Bd,t,this.uniqueChartId,e)}},{key:"renderAxes",value:function(e,t){var n=this.props,r=n.width,i=n.height,o=e&&Object.keys(e);if(o&&o.length){for(var s=[],l=0,u=o.length;l<u;l++){var c=e[o[l]];c.hide||s.push(a().createElement(rf,Hd({},c,{key:t+"-"+o[l],viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:this.axesTicksGenerator})))}return s.length?a().createElement(Co,{key:t+"-layer",className:"recharts-"+t},s):null}return null}},{key:"renderGrid",value:function(){var e=this.state,t=e.xAxisMap,n=e.yAxisMap,r=e.offset,i=this.props,o=i.children,s=i.width,l=i.height,u=so(o,df);if(!u)return null;var c=Ki(t),f=Ki(n);return a().cloneElement(u,{key:"grid",x:r.left,y:r.top,width:r.width,height:r.height,xAxis:c,yAxis:f,offset:r,chartWidth:s,chartHeight:l,verticalCoordinatesGenerator:this.verticalCoordinatesGenerator,horizontalCoordinatesGenerator:this.horizontalCoordinatesGenerator})}},{key:"renderLegend",value:function(){var e=this,t=this.state.graphicalItems,n=this.props,r=n.children,i=n.width,o=n.height,s=this.props.margin||{},l=i-(s.left||0)-(s.right||0),u=(s.top,s.bottom,Nd(r,t,l));return u?a().createElement(ls,Hd({},u,{chartWidth:i,chartHeight:o,margin:s,ref:function(t){e.legendInstance=t},onBBoxUpdate:this.handleLegendBBoxUpdate})):null}},{key:"renderTooltip",value:function(){var e=this.props.children,t=so(e,As);if(!t)return null;var n=this.state,r=n.isTooltipActive,i=n.activeCoordinate,o=n.activePayload,s=n.activeLabel,l=n.offset;return a().cloneElement(t,{viewBox:Hd({},l,{x:l.left,y:l.top}),active:r,label:s,payload:r?o:[],coordinate:i})}},{key:"renderBrush",value:function(){var e=this.props,t=e.children,n=e.margin,r=e.data,i=this.state,o=i.offset,s=i.dataStartIndex,l=i.dataEndIndex,u=i.updateId,c=so(t,Cc);return c?a().cloneElement(c,{onChange:Yi(this.handleBrushChange,null,c.props.onChange),data:r,x:o.left,y:o.top+o.height+o.brushBottom-(n.bottom||0),width:o.width,startIndex:s,endIndex:l,updateId:"brush-"+u}):null}},{key:"renderReferenceElements",value:function(e,t){var n=this.props.children,r=ao(n,t);if(!r||!r.length)return null;var i=this.state,o=i.xAxisMap,s=i.yAxisMap,l=i.offset,u=oo(t)+"-"+(e?"front":"back");return r.filter((function(t){return e===t.props.isFront})).map((function(e,t){var n=e.props,r=n.xAxisId,i=n.yAxisId;return a().cloneElement(e,{key:u+"-"+t,xAxis:o[r],yAxis:s[i],viewBox:{x:l.left,y:l.top,width:l.width,height:l.height}})}))}},{key:"renderChart",value:function(){var t=this.props,n=t.children,r=t.width,i=t.height,o=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["children","width","height"]),s=this.state,l=s.xAxisMap,u=s.yAxisMap,c=lo(o);return a().createElement(_o,Hd({},c,{width:r,height:i}),this.renderGrid(),this.renderReferenceElements(!1,Zc),this.renderReferenceElements(!1,Lc),this.renderReferenceElements(!1,Bc),this.renderAxes(l,"x-axis"),this.renderAxes(u,"y-axis"),a().createElement(e,Hd({},this.props,this.state)),this.renderReferenceElements(!0,Zc),this.renderReferenceElements(!0,Lc),this.renderReferenceElements(!0,Bc),this.renderBrush(),mo(n))}},{key:"render",value:function(){var e=this,t=this.props.data;if(!po(this)||!t||!t.length)return null;var n=this.props,r=n.className,i=n.width,o=n.height,s=n.style,l=n.compact,u={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onClick:this.handleClick,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onTouchMove:this.handleTouchMove};return l?this.renderChart():a().createElement("div",Hd({className:c()("recharts-wrapper",r),style:Hd({},s,{position:"relative",cursor:"default",width:i,height:o})},u,{ref:function(t){e.container=t}}),this.renderChart(),this.renderLegend(),this.renderTooltip())}}]),r}(o.Component),n.displayName=oo(e),n.propTypes=Hd({},e.propTypes,{syncId:l().oneOfType([l().string,l().number]),compact:l().bool,width:l().number,height:l().number,data:l().arrayOf(l().object),layout:l().oneOf(["horizontal","vertical"]),stackOffset:l().oneOf(["sign","expand","none","wiggle","silhouette"]),throttleDelay:l().number,margin:l().shape({top:l().number,right:l().number,bottom:l().number,left:l().number}),style:l().object,className:l().string,children:l().oneOfType([l().arrayOf(l().node),l().node]),onClick:l().func,onMouseLeave:l().func,onMouseEnter:l().func,onMouseMove:l().func}),n.defaultProps={layout:"horizontal",stackOffset:"none",margin:{top:5,right:5,bottom:5,left:5}},r};var Yd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zd=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Xd(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function $d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jd(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}const Qd=function(e){var t=e.getComposedData,n=e.ChildComponent;return function(e){var r,i;return i=r=function(r){function i(){var e,t,n;$d(this,i);for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=n=Jd(this,(e=i.__proto__||Object.getPrototypeOf(i)).call.apply(e,[this].concat(o))),n.state=n.calculateExpensiveState({props:n.props}),Jd(n,t)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,r),Zd(i,[{key:"calculateExpensiveState",value:function(e){var r=e.props,i=r.children,o=r.graphicalItems,a=r.xAxisMap,s=r.yAxisMap,l=r.stackGroups,u=r.layout,c=r.offset,f=r.barSize,p=r.barGap,h=r.barCategoryGap,g=r.maxBarSize,m=o||ao(i,n),y=function(e){for(var t=e.barSize,n=e.stackGroups,r=void 0===n?{}:n,i={},o=Object.keys(r),a=0,s=o.length;a<s;a++)for(var l=r[o[a]].stackGroups,u=Object.keys(l),c=0,f=u.length;c<f;c++){var p=l[u[c]],h=p.items,g=p.cateAxisId,m=h.filter((function(e){return"Bar"===e.type.displayName}));if(m&&m.length){var y=m[0].props.barSize,v=m[0].props[g];i[v]||(i[v]=[]),i[v].push({item:m[0],stackList:m.slice(1),barSize:d()(y)?t:y})}}return i}({barSize:f,stackGroups:l}),v=void 0,b=[];return m.forEach((function(e){var n=e.props,i=n.xAxisId,o=n.yAxisId,f=n.dataKey,m=n.maxBarSize,x=void 0,_=void 0,w=void 0,k=void 0,T=void 0,C=void 0,O=void 0;if(a||s){x=a[i],_=s[o],w=Rd(x),k=Rd(_),v=v||("horizontal"===u?w:k);var S="horizontal"===u?o:i,A="horizontal"===u?i:o,M="horizontal"===u?x:_,E="horizontal"===u?w:k;C=l&&l[S]&&l[S].hasStack&&function(e,t){var n=e.props.stackId;if(zi(n)){var r=t[n];if(r&&r.items.length){for(var i=-1,o=0,a=r.items.length;o<a;o++)if(r.items[o]===e){i=o;break}return i>=0?r.stackedData[i]:null}}return null}(e,l[S].stackGroups),O=Gi(M,E);var P=d()(m)?g:m;T=function(e){var t=e.barGap,n=e.barCategoryGap,r=e.bandSize,i=e.sizeList,o=void 0===i?[]:i,a=e.maxBarSize,s=o.length;if(s<1)return null;var l=Bi(t,r,0,!0),u=void 0;if(o[0].barSize===+o[0].barSize){var c=!1,f=r/s,d=o.reduce((function(e,t){return e+t.barSize||0}),0);(d+=(s-1)*l)>=r&&(d-=(s-1)*l,l=0),d>=r&&f>0&&(c=!0,d=s*(f*=.9));var p={offset:((r-d)/2>>0)-l,size:0};u=o.reduce((function(e,t){var n=[].concat(Td(e),[{item:t.item,position:{offset:p.offset+p.size+l,size:c?f:t.barSize}}]);return p=n[n.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){n.push({item:e,position:p})})),n}),[])}else{var h=Bi(n,r,0,!0);r-2*h-(s-1)*l<=0&&(l=0);var g=(r-2*h-(s-1)*l)/s;g>1&&(g>>=0);var m=a===+a?Math.min(g,a):g;u=o.reduce((function(e,t,n){var r=[].concat(Td(e),[{item:t.item,position:{offset:h+(g+l)*n+(g-m)/2,size:m}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){r.push({item:e,position:r[r.length-1].position})})),r}),[])}return u}({barGap:p,barCategoryGap:h,bandSize:O,sizeList:y[A],maxBarSize:P})}var D=t&&t({props:r,xAxis:x,yAxis:_,xTicks:w,yTicks:k,dataKey:f,item:e,bandSize:O,barPosition:T,offset:c,stackedData:C})||{};b.push(D)})),{axisTicks:v,allComposedData:b}}},{key:"componentWillReceiveProps",value:function(e){var t=e.graphicalItems,n=e.children,r=(e.chartX,e.chartY,e.activeTooltipIndex,e.activeLabel,e.activeCoordinate,e.activePayload,e.isTooltipActive,Xd(e,["graphicalItems","children","chartX","chartY","activeTooltipIndex","activeLabel","activeCoordinate","activePayload","isTooltipActive"])),i=this.props,o=i.graphicalItems,a=i.children,s=(i.chartX,i.chartY,i.activeTooltipIndex,i.activeLabel,i.activeCoordinate,i.activePayload,i.isTooltipActive,Xd(i,["graphicalItems","children","chartX","chartY","activeTooltipIndex","activeLabel","activeCoordinate","activePayload","isTooltipActive"]));Qi(t,o)&&Qi(n,a)&&Qi(r,s)||this.setState(this.calculateExpensiveState({props:e}))}},{key:"shouldComponentUpdate",value:function(e,t){var n=e.graphicalItems,r=Xd(e,["graphicalItems"]),i=this.props,o=i.graphicalItems,a=Xd(i,["graphicalItems"]);return!Qi(n,o)||!Qi(r,a)||!Qi(t,this.state)}},{key:"render",value:function(){return a().createElement(e,Yd({},this.props,this.state))}}]),i}(o.Component),r.displayName="ComposedDataDecorator("+oo(e)+")",r.propTypes=Yd({},e.propTypes,{chartX:l().number,chartY:l().number,data:l().array}),r.defaultProps=e.defaultProps,i}};var ep,tp,np,rp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ip=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function op(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ap(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var sp=function(e){var t=e.axis,n=e.ticks,r=e.bandSize,i=e.entry,o=e.index;if("category"===t.type)return n[o]?n[o].coordinate+r/2:null;var a=$i(i,t.dataKey);return d()(a)?null:t.scale(a)},lp=Gu(ep=Qd({getComposedData:function(e){var t=e.props,n=e.xAxis,r=e.yAxis,i=e.xTicks,o=e.yTicks,a=e.dataKey,s=e.bandSize,l=t.layout,u=t.dataStartIndex,c=t.dataEndIndex;return t.data.slice(u,c+1).map((function(e,t){var u=$i(e,a);return"horizontal"===l?{x:sp({axis:n,ticks:i,bandSize:s,entry:e,index:t}),y:d()(u)?null:r.scale(u),value:u,payload:e}:{x:d()(u)?null:n.scale(u),y:sp({axis:r,ticks:o,bandSize:s,entry:e,index:t}),value:u,payload:e}}))}})((np=tp=function(e){function t(){return op(this,t),ap(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),ip(t,[{key:"renderCursor",value:function(e){var t=e.offset,n=this.props,r=n.children,i=n.isTooltipActive,o=n.layout,s=n.activeTooltipIndex,l=n.axisTicks,u=so(r,As);if(!u||!u.props.cursor||!i||s<0)return null;var c=l;if(!c||!c[s])return null;var f=c[s].coordinate,d="horizontal"===o?f:t.left,p="horizontal"===o?t.top:f,h="horizontal"===o?f:t.left+t.width,g="horizontal"===o?t.top+t.height:f,m=rp({stroke:"#ccc"},lo(u.props.cursor),{points:[{x:d,y:p},{x:h,y:g}]});return a().isValidElement(u.props.cursor)?a().cloneElement(u.props.cursor,m):a().createElement(El,rp({},m,{type:"linear",className:"recharts-tooltip-cursor"}))}},{key:"renderActiveDot",value:function(e,t,n){var r=void 0;if(a().isValidElement(e))r=a().cloneElement(e,t);else if(v()(e))r=e(t);else{var i=c()("recharts-line-active-dot",e.className);r=a().createElement(nu,rp({},t,{className:i}))}return a().createElement(ds.ZP,{from:"scale(0)",to:"scale(1)",duration:400,key:"dot-"+n,attributeName:"transform"},a().createElement(Co,{style:{transformOrigin:"center center"}},r))}},{key:"renderItems",value:function(e,t,n,r){var i=this,o=this.props,s=o.children,l=o.layout,u=o.isTooltipActive,c=o.activeTooltipIndex,f=o.animationId,d=o.allComposedData,p=so(s,As)&&u,h=[],g=e.map((function(e,o){var s=e.props,u=s.dataKey,g=s.stroke,m=s.activeDot,y=d[o],v=y[c];if(p&&m&&v){var b=rp({index:c,dataKey:u,cx:v.x,cy:v.y,r:4,fill:g,strokeWidth:2,stroke:"#fff",payload:v.payload,value:v.value},lo(m));h.push(i.renderActiveDot(m,b,o))}return a().cloneElement(e,rp({key:e.key||"line-"+o},r,{layout:l,points:y,animationId:f,xAxis:t[e.props.xAxisId],yAxis:n[e.props.yAxisId]}))}),this);return a().createElement(Co,{className:"recharts-line-chart-wrapper"},a().createElement(Co,{className:"recharts-line-chart"},g),a().createElement(Co,{className:"recharts-line-chart-dot"},h))}},{key:"render",value:function(){var e=this.props,t=e.isComposed,n=e.xAxisMap,r=e.yAxisMap,i=e.offset,o=e.graphicalItems;return a().createElement(Co,{className:"recharts-line-graphical"},!t&&this.renderCursor({offset:i}),this.renderItems(o,n,r,i))}}]),t}(o.Component),tp.displayName="LineChart",tp.propTypes={allComposedData:l().array,axisTicks:l().array,layout:l().oneOf(["horizontal","vertical"]),dataStartIndex:l().number,dataEndIndex:l().number,data:l().array,isTooltipActive:l().bool,activeTooltipIndex:l().number,xAxisMap:l().object,yAxisMap:l().object,offset:l().object,graphicalItems:l().array,children:l().oneOfType([l().arrayOf(l().node),l().node]),isComposed:l().bool,animationId:l().number},ep=np))||ep)||ep;const up=Kd(lp,Af);var cp,fp,dp,pp=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),hp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function gp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mp(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var yp=function(e){var t=e.axis,n=e.ticks,r=e.offset,i=e.bandSize,o=e.entry,a=e.index;if("category"===t.type)return n[a]?n[a].coordinate+r:null;var s=$i(o,t.dataKey);return d()(s)?null:t.scale(s)-i/2+r},vp=Gu(cp=Qd({getComposedData:function(e){var t=e.props,n=e.item,r=e.barPosition,i=e.bandSize,o=e.xAxis,a=e.yAxis,s=e.xTicks,l=e.yTicks,u=e.stackedData,c=t.layout,f=t.dataStartIndex,d=t.dataEndIndex,p=n.props,h=p.dataKey,g=p.children,m=p.minPointSize,y=Ji(r,n),v=u&&"horizontal"===c?a.scale.domain():o.scale.domain();if(!y)return[];var b=t.data.slice(f,d+1),_=function(e){var t=e.xAxis,n=e.yAxis,r="horizontal"===e.props.layout?n:t,i=r.scale.domain();if("number"===r.type){var o=Math.min(i[0],i[1]),a=Math.max(i[0],i[1]);return o<=0&&a>=0?0:a<0?a:o}return i[0]}({props:t,xAxis:o,yAxis:a}),w=ao(g,Fs);return b.map((function(e,t){var n=void 0,r=void 0,d=void 0,p=void 0,g=void 0;if(u?n=function(e,t){if(!t||2!==t.length||!ji(t[0])||!ji(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!ji(e[0])||e[0]<n)&&(i[0]=n),(!ji(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i}(u[f+t],v):(n=$i(e,h),x()(n)||(n=[_,n])),"horizontal"===c){if(r=yp({axis:o,ticks:s,bandSize:i,offset:y.offset,entry:e,index:t}),d=a.scale(n[1]),p=y.size,g=a.scale(n[0])-a.scale(n[1]),Math.abs(m)>0&&Math.abs(g)<Math.abs(m)){var b=Ii(g||m)*(Math.abs(m)-Math.abs(g));d-=b,g+=b}}else r=o.scale(n[0]),d=yp({axis:a,ticks:l,bandSize:i,offset:y.offset,entry:e,index:t}),p=o.scale(n[1])-o.scale(n[0]),g=y.size,Math.abs(m)>0&&Math.abs(p)<Math.abs(m)&&(p+=Ii(p||m)*(Math.abs(m)-Math.abs(p)));return hp({},e,{x:r,y:d,width:p,height:g,value:u?n:n[1],payload:e},w&&w[t]&&w[t].props)}))}})((dp=fp=function(e){function t(){return gp(this,t),mp(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),pp(t,[{key:"renderCursor",value:function(e){var t=e.xAxisMap,n=e.yAxisMap,r=e.offset,i=this.props,o=i.children,s=i.isTooltipActive,l=i.layout,u=i.activeTooltipIndex,c=i.axisTicks,f=so(o,As);if(!f||!f.props.cursor||!s||u<0)return null;var d=Ki("horizontal"===l?t:n),p=c;if(!p||!p[u])return null;var h=Gi(d),g=p[u].coordinate,m=hp({fill:"#f1f1f1"},lo(f.props.cursor),{x:"horizontal"===l?g:r.left+.5,y:"horizontal"===l?r.top+.5:g,width:"horizontal"===l?h:r.width-1,height:"horizontal"===l?r.height-1:h});return a().isValidElement(f.props.cursor)?a().cloneElement(f.props.cursor,m):a().createElement(ql,hp({},m,{className:"recharts-bar-cursor"}))}},{key:"renderItems",value:function(e,t){if(!e||!e.length)return null;var n=this.props,r=n.layout,i=n.xAxisMap,o=n.yAxisMap,s=this.props,l=s.animationId,u=s.allComposedData;return e.map((function(e,n){return a().cloneElement(e,hp({key:e.key||"bar-"+n,layout:r,animationId:l},t,{data:u[n],xAxis:i[e.props.xAxisId],yAxis:o[e.props.yAxisId]}))}),this)}},{key:"render",value:function(){var e=this.props,t=e.isComposed,n=e.graphicalItems,r=e.xAxisMap,i=e.yAxisMap,o=e.offset;return a().createElement(Co,{className:"recharts-bar-graphical"},!t&&this.renderCursor({xAxisMap:r,yAxisMap:i,offset:o}),this.renderItems(n,o))}}]),t}(o.Component),fp.displayName="BarChart",fp.propTypes={allComposedData:l().array,axisTicks:l().array,layout:l().oneOf(["horizontal","vertical"]),dataStartIndex:l().number,dataEndIndex:l().number,data:l().array,isTooltipActive:l().bool,activeTooltipIndex:l().number,xAxisMap:l().object,yAxisMap:l().object,offset:l().object,graphicalItems:l().array,children:l().oneOfType([l().arrayOf(l().node),l().node]),stackGroups:l().object,barCategoryGap:l().oneOfType([l().number,l().string]),barGap:l().oneOfType([l().number,l().string]),barSize:l().oneOfType([l().number,l().string]),maxBarSize:l().number,isComposed:l().bool,animationId:l().number},fp.defaultProps={barCategoryGap:"10%",barGap:4},cp=dp))||cp)||cp;Kd(vp,Vf);var bp,xp,_p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),wp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function kp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tp(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Qd({getComposedData:function(e){var t=e.item,n=t.props,r=n.data,i=n.children,o=lo(t.props),a=ao(i,Fs);return r&&r.length?r.map((function(e,t){return wp({payload:e},o,e,a&&a[t]&&a[t].props)})):a&&a.length?a.map((function(e){return wp({},o,e.props)})):[]},ChildComponent:ec})((xp=bp=function(e){function t(){var e,n,r;kp(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=Tp(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={activeTooltipLabel:"",activeTooltipCoord:{x:0,y:0},activeTooltipPayload:[],isTooltipActive:!1},r.handleMouseEnter=function(e){var t=r.props.children,n=e.cx,i=e.cy,o=e.outerRadius,a=e.midAngle;so(t,As)&&r.setState({isTooltipActive:!0,activeTooltipCoord:cl(n,i,o,a),activeTooltipPayload:[e]})},r.handleMouseLeave=function(){var e=r.props.children;so(e,As)&&r.setState({isTooltipActive:!1})},Tp(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),_p(t,[{key:"renderLegend",value:function(e){var t=this.props,n=t.children,r=t.allComposedData,i=so(n,ls);if(!i)return null;var o=this.props,s=o.width,l=o.height,u=o.margin,c=i.props&&i.props.payload||e.reduce((function(e,t,n){var o=t.props.nameKey,a=r[n];return e.concat(a.map((function(e){return{type:i.props.iconType||t.props.legendType,value:e[o],color:e.fill,payload:e}})))}),[]);return a().cloneElement(i,wp({},ls.getWithHeight(i,s),{payload:c,chartWidth:s,chartHeight:l,margin:u}))}},{key:"renderTooltip",value:function(){var e=this.props.children,t=so(e,As);if(!t)return null;var n=this.props,r=n.width,i=n.height,o=this.state,s=o.isTooltipActive,l=o.activeTooltipLabel,u=o.activeTooltipCoord,c=o.activeTooltipPayload,f={x:0,y:0,width:r,height:i};return a().cloneElement(t,{viewBox:f,active:s,label:l,payload:c,coordinate:u})}},{key:"renderItems",value:function(e){var t=this,n=this.props,r=n.width,i=n.height,o=n.margin,s=n.allComposedData,l=n.onMouseEnter,u=n.onMouseLeave,c=n.onClick;return e.map((function(e,n){var f=e.props,d=f.innerRadius,p=f.outerRadius,h=f.onMouseEnter,g=f.onMouseLeave,m=f.onClick,y=Bi(e.props.cx,r,r/2),v=Bi(e.props.cy,i,i/2),b=fl(r,i,o);return a().cloneElement(e,{key:e.key||"recharts-pie-"+n,cx:y,cy:v,maxRadius:e.props.maxRadius||Math.sqrt(r*r+i*i)/2,innerRadius:Bi(d,b,0),outerRadius:Bi(p,b,.8*b),composedData:s[n],onMouseEnter:Yi(t.handleMouseEnter,l,h),onMouseLeave:Yi(t.handleMouseLeave,u,g),onClick:Yi(null,c,m)})}))}},{key:"render",value:function(){if(!po(this))return null;var e=this.props,t=e.style,n=e.children,r=e.className,i=e.width,o=e.height,s=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["style","children","className","width","height"]),l=ao(n,ec),u=lo(s);return a().createElement("div",{className:c()("recharts-wrapper",r),style:wp({},t,{position:"relative",cursor:"default",width:i,height:o})},a().createElement(_o,wp({},u,{width:i,height:o}),this.renderItems(l),mo(n)),this.renderLegend(l),this.renderTooltip())}}]),t}(o.Component),bp.displayName="PieChart",bp.propTypes={allComposedData:l().array,width:l().number,height:l().number,margin:l().shape({top:l().number,right:l().number,bottom:l().number,left:l().number}),title:l().string,style:l().object,children:l().oneOfType([l().arrayOf(l().node),l().node]),className:l().string,onMouseEnter:l().func,onMouseLeave:l().func,onClick:l().func},bp.defaultProps={style:{},margin:{top:0,right:0,bottom:0,left:0}},xp));var Cp,Op,Sp=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ap=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function Mp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ep(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Pp=function e(t){var n,r=t.depth,i=t.node,o=t.index,a=t.valueKey,s=i.children,l=r+1,u=s&&s.length?s.map((function(t,n){return e({depth:l,node:t,index:n,valueKey:a})})):null;return n=s&&s.length?u.reduce((function(e,t){return e+t.value}),0):isNaN(i[a])||i[a]<=0?0:i[a],Ap({},i,{children:u,value:n,depth:r,index:o})},Dp=function(e,t,n){var r=t*t,i=e.area*e.area,o=e.reduce((function(e,t){return{min:Math.min(e.min,t.area),max:Math.max(e.max,t.area)}}),{min:1/0,max:0}),a=o.min,s=o.max;return i?Math.max(r*s*n/i,i/(r*a*n)):1/0},Lp=function(e,t,n,r){return t===n.width?function(e,t,n,r){var i=t?Math.round(e.area/t):0;(r||i>n.height)&&(i=n.height);for(var o=n.x,a=void 0,s=0,l=e.length;s<l;s++)(a=e[s]).x=o,a.y=n.y,a.height=i,a.width=Math.min(i?Math.round(a.area/i):0,n.x+n.width-o),o+=a.width;return a.z=!0,a.width+=n.x+n.width-o,Ap({},n,{y:n.y+i,height:n.height-i})}(e,t,n,r):function(e,t,n,r){var i=t?Math.round(e.area/t):0;(r||i>n.width)&&(i=n.width);for(var o=n.y,a=void 0,s=0,l=e.length;s<l;s++)(a=e[s]).x=n.x,a.y=o,a.width=i,a.height=Math.min(i?Math.round(a.area/i):0,n.y+n.height-o),o+=a.height;return a.z=!1,a.height+=n.y+n.height-o,Ap({},n,{x:n.x+i,width:n.width-i})}(e,t,n,r)},Rp=function e(t,n){var r=t.children;if(r&&r.length){var i=function(e){return{x:e.x,y:e.y,width:e.width,height:e.height}}(t),o=[],a=1/0,s=void 0,l=void 0,u=Math.min(i.width,i.height),c=function(e,t){var n=t<0?0:t;return e.map((function(e){var t=e.value*n;return Ap({},e,{area:isNaN(t)||t<=0?0:t})}))}(r,i.width*i.height/t.value),f=c.slice();for(o.area=0;f.length>0;)o.push(s=f[0]),o.area+=s.area,(l=Dp(o,u,n))<=a?(f.shift(),a=l):(o.area-=o.pop().area,i=Lp(o,u,i,!1),u=Math.min(i.width,i.height),o.length=o.area=0,a=1/0);return o.length&&(i=Lp(o,u,i,!0),o.length=o.area=0),Ap({},t,{children:c.map((function(t){return e(t,n)}))})}return t};to((Op=Cp=function(e){function t(){var e,n,r;Mp(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=Ep(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state=r.createDefaultState(),Ep(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Sp(t,[{key:"componentWillReceiveProps",value:function(e){e.data!==this.props.data&&this.setState(this.createDefaultState())}},{key:"createDefaultState",value:function(){return{isTooltipActive:!1,activeNode:null}}},{key:"handleMouseEnter",value:function(e,t){var n=this.props,r=n.onMouseEnter,i=n.children;so(i,As)?this.setState({isTooltipActive:!0,activeNode:e},(function(){r&&r(e,t)})):r&&r(e,t)}},{key:"handleMouseLeave",value:function(e,t){var n=this.props,r=n.onMouseLeave,i=n.children;so(i,As)?this.setState({isTooltipActive:!1,activeNode:null},(function(){r&&r(e,t)})):r&&r(e,t)}},{key:"handleClick",value:function(e){var t=this.props.onClick;t&&t(e)}},{key:"renderAnimatedItem",value:function(e,t,n){var r=this,i=this.props,o=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,u=i.animationEasing,c=i.isUpdateAnimationActive,f=t.width,d=t.height,p=t.x,h=t.y,g=parseInt((2*Math.random()-1)*f,10),m={};return n&&(m={onMouseEnter:this.handleMouseEnter.bind(this,t),onMouseLeave:this.handleMouseLeave.bind(this,t),onClick:this.handleClick.bind(this,t)}),a().createElement(ds.ZP,{from:{x:p,y:h,width:f,height:d},to:{x:p,y:h,width:f,height:d},duration:l,easing:u,isActive:c},(function(n){var i=n.x,f=n.y,d=n.width,p=n.height;return a().createElement(ds.ZP,{from:"translate("+g+"px, "+g+"px)",to:"translate(0, 0)",attributeName:"transform",begin:s,easing:u,isActive:o,duration:l},a().createElement(Co,m,r.renderContentItem(e,Ap({},t,{isAnimationActive:o,isUpdateAnimationActive:!c,width:d,height:p,x:i,y:f}))))}))}},{key:"renderContentItem",value:function(e,t){return a().isValidElement(e)?a().cloneElement(e,t):v()(e)?e(t):a().createElement(ql,Ap({fill:"#fff",stroke:"#000"},t))}},{key:"renderNode",value:function(e,t,n){var r=this,i=this.props.content,o=Ap({},lo(this.props),t,{root:e}),s=!t.children||!t.children.length;return a().createElement(Co,{key:"recharts-treemap-node-"+n,className:"recharts-treemap-depth-"+t.depth},this.renderAnimatedItem(i,o,s),t.children&&t.children.length?t.children.map((function(e,n){return r.renderNode(t,e,n)})):null)}},{key:"renderAllNodes",value:function(){var e=this.props,t=e.width,n=e.height,r=e.data,i=e.dataKey,o=e.aspectRatio,a=Pp({depth:0,node:{children:r,x:0,y:0,width:t,height:n},index:0,valueKey:i}),s=Rp(a,o);return this.renderNode(s,s,0)}},{key:"renderTooltip",value:function(){var e=this.props,t=e.children,n=e.nameKey,r=so(t,As);if(!r)return null;var i=this.props,o=i.width,s=i.height,l=i.dataKey,u=this.state,c=u.isTooltipActive,f=u.activeNode,d={x:0,y:0,width:o,height:s},p=f?{x:f.x+f.width/2,y:f.y+f.height/2}:null,h=c&&f?[{payload:f,name:$i(f,n,""),value:$i(f,l)}]:[];return a().cloneElement(r,{viewBox:d,active:c,coordinate:p,label:"",payload:h})}},{key:"render",value:function(){if(!po(this))return null;var e=this.props,t=e.width,n=e.height,r=e.className,i=e.style,o=e.children,s=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["width","height","className","style","children"]),l=lo(s);return a().createElement("div",{className:c()("recharts-wrapper",r),style:Ap({},i,{position:"relative",cursor:"default",width:t,height:n})},a().createElement(_o,Ap({},l,{width:t,height:n}),this.renderAllNodes(),mo(o)),this.renderTooltip())}}]),t}(o.Component),Cp.displayName="Treemap",Cp.propTypes={width:l().number,height:l().number,data:l().array,style:l().object,aspectRatio:l().number,content:l().oneOfType([l().element,l().func]),fill:l().string,stroke:l().string,className:l().string,nameKey:l().oneOfType([l().string,l().number,l().func]),dataKey:l().oneOfType([l().string,l().number,l().func]),children:l().oneOfType([l().arrayOf(l().node),l().node]),onMouseEnter:l().func,onMouseLeave:l().func,onClick:l().func,isAnimationActive:l().bool,isUpdateAnimationActive:l().bool,animationBegin:l().number,animationDuration:l().number,animationEasing:l().oneOf(["ease","ease-in","ease-out","ease-in-out","linear"])},Cp.defaultProps={dataKey:"value",aspectRatio:.5*(1+Math.sqrt(5)),isAnimationActive:!ho(),isUpdateAnimationActive:!ho(),animationBegin:0,animationDuration:1500,animationEasing:"linear"},Op));var Ip,Np,jp=n(75175),zp=n.n(jp),qp=n(36262),Fp=n.n(qp),Bp=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Hp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function Up(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var Vp={x:0,y:0},Wp=function(e){return e.y+e.dy/2},Gp=function(e){return e&&e.value||0},Kp=function(e,t){return t.reduce((function(t,n){return t+Gp(e[n])}),0)},Yp=function(e,t,n){return n.reduce((function(n,r){var i=t[r],o=e[i.source];return n+Wp(o)*Gp(t[r])}),0)},Zp=function(e,t,n){return n.reduce((function(n,r){var i=t[r],o=e[i.target];return n+Wp(o)*Gp(t[r])}),0)},Xp=function(e,t){return e.y-t.y},$p=function e(t,n){for(var r=n.targetNodes,i=0,o=r.length;i<o;i++){var a=t[r[i]];a&&(a.depth=Math.max(n.depth+1,a.depth),e(t,a))}},Jp=function(e,t,n){for(var r=0,i=e.length;r<i;r++){var o=e[r],a=o.length;o.sort(Xp);for(var s=0,l=0;l<a;l++){var u=o[l],c=s-u.y;c>0&&(u.y+=c),s=u.y+u.dy+n}s=t+n;for(var f=a-1;f>=0;f--){var d=o[f],p=d.y+d.dy+n-s;if(!(p>0))break;d.y-=p,s=d.y}}},Qp=function(e,t,n,r){for(var i=0,o=t.length;i<o;i++)for(var a=t[i],s=0,l=a.length;s<l;s++){var u=a[s];if(u.sourceLinks.length){var c=Kp(n,u.sourceLinks),f=Yp(e,n,u.sourceLinks)/c;u.y+=(f-Wp(u))*r}}},eh=function(e,t,n,r){for(var i=t.length-1;i>=0;i--)for(var o=t[i],a=0,s=o.length;a<s;a++){var l=o[a];if(l.targetLinks.length){var u=Kp(n,l.targetLinks),c=Zp(e,n,l.targetLinks)/u;l.y+=(c-Wp(l))*r}}};to((Np=Ip=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state=n.createDefaultState(e),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Bp(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.data,r=t.width,i=t.height,o=t.margin,a=t.iterations,s=t.nodeWidth,l=t.nodePadding,u=t.nameKey;e.data===n&&e.width===r&&e.height===i&&Qi(e.margin,o)&&e.iterations===a&&e.nodeWidth===s&&e.nodePadding===l&&e.nameKey===u||this.setState(this.createDefaultState(this.props))}},{key:"createDefaultState",value:function(e){var t=e.data,n=e.width,r=e.height,i=e.margin,o=e.iterations,a=e.nodeWidth,s=e.nodePadding,l=function(e){var t=e.data,n=e.width,r=e.height,i=e.iterations,o=e.nodeWidth,a=e.nodePadding,s=t.links,l=function(e,t,n){for(var r=e.nodes,i=e.links,o=r.map((function(e,t){var n=function(e,t){for(var n=[],r=[],i=[],o=[],a=0,s=e.length;a<s;a++){var l=e[a];l.source===t&&(i.push(l.target),o.push(a)),l.target===t&&(n.push(l.source),r.push(a))}return{sourceNodes:n,sourceLinks:r,targetLinks:o,targetNodes:i}}(i,t);return Hp({},e,n,{value:Math.max(Kp(i,n.sourceLinks),Kp(i,n.targetLinks)),depth:0})})),a=0,s=o.length;a<s;a++){var l=o[a];l.sourceNodes.length||$p(o,l)}var u=ku()(o,(function(e){return e.depth})).depth;if(u>=1)for(var c=(t-n)/u,f=0,d=o.length;f<d;f++){var p=o[f];p.targetNodes.length||(p.depth=u),p.x=p.depth*c,p.dx=n}return{tree:o,maxDepth:u}}(t,n,o).tree,u=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];t[i.depth]||(t[i.depth]=[]),t[i.depth].push(i)}return t}(l),c=function(e,t,n,r){for(var i=Fp()(e.map((function(e){return(t-(e.length-1)*n)/zp()(e,Gp)}))),o=0,a=e.length;o<a;o++)for(var s=0,l=e[o].length;s<l;s++){var u=e[o][s];u.y=s,u.dy=u.value*i}return r.map((function(e){return Hp({},e,{dy:Gp(e)*i})}))}(u,r,a,s);Jp(u,r,a);for(var f=1,d=1;d<=i;d++)eh(l,u,c,f*=.99),Jp(u,r,a),Qp(l,u,c,f),Jp(u,r,a);return function(e,t){for(var n=0,r=e.length;n<r;n++){var i=e[n],o=0,a=0;i.targetLinks.sort((function(n,r){return e[t[n].target].y-e[t[r].target].y})),i.sourceLinks.sort((function(n,r){return e[t[n].source].y-e[t[r].source].y}));for(var s=0,l=i.targetLinks.length;s<l;s++){var u=t[i.targetLinks[s]];u&&(u.sy=o,o+=u.dy)}for(var c=0,f=i.sourceLinks.length;c<f;c++){var d=t[i.sourceLinks[c]];d&&(d.ty=a,a+=d.dy)}}}(l,c),{nodes:l,links:c}}({data:t,width:n-(i&&i.left||0)-(i&&i.right||0),height:r-(i&&i.top||0)-(i&&i.bottom||0),iterations:o,nodeWidth:a,nodePadding:s}),u=l.links;return{activeElement:null,activeElementType:null,isTooltipActive:!1,nodes:l.nodes,links:u}}},{key:"handleMouseEnter",value:function(e,t,n){var r=this.props,i=r.onMouseEnter,o=r.children;so(o,As)?this.setState({activeElement:e,activeElementType:t,isTooltipActive:!0},(function(){i&&i(e,t,n)})):i&&i(e,t,n)}},{key:"handleMouseLeave",value:function(e,t,n){var r=this.props,i=r.onMouseLeave,o=r.children;so(o,As)?this.setState({isTooltipActive:!1},(function(){i&&i(e,t,n)})):i&&i(e,t,n)}},{key:"renderLinkItem",value:function(e,t){if(a().isValidElement(e))return a().cloneElement(e,t);if(v()(e))return e(t);var n=t.sourceX,r=t.sourceY,i=t.sourceControlX,o=t.targetX,s=t.targetY,l=t.targetControlX,u=t.linkWidth,c=Up(t,["sourceX","sourceY","sourceControlX","targetX","targetY","targetControlX","linkWidth"]);return a().createElement("path",Hp({className:"recharts-sankey-link",d:"\n          M"+n+","+r+"\n          C"+i+","+r+" "+l+","+s+" "+o+","+s+"\n        ",fill:"none",stroke:"#333",strokeWidth:u,strokeOpacity:"0.2"},lo(c)))}},{key:"renderLinks",value:function(e,t){var n=this,r=this.props,i=r.linkCurvature,o=r.link,s=r.margin,l=s.top||0,u=s.left||0;return a().createElement(Co,{className:"recharts-sankey-links",key:"recharts-sankey-links"},e.map((function(e,r){var s=e.sy,c=e.ty,f=e.dy,d=t[e.source],p=t[e.target],h=d.x+d.dx+u,g=p.x+u,m=function(e,t){var n=+e,r=t-n;return function(e){return n+r*e}}(h,g),y=m(i),v=m(1-i),b=d.y+s+f/2+l,x=p.y+c+f/2+l,_=Hp({sourceX:h,targetX:g,sourceY:b,targetY:x,sourceControlX:y,targetControlX:v,sourceRelativeY:s,targetRelativeY:c,linkWidth:f,index:r,payload:Hp({},e,{source:d,target:p})},lo(o)),w={onMouseEnter:n.handleMouseEnter.bind(n,_,"link"),onMouseLeave:n.handleMouseLeave.bind(n,_,"link")};return a().createElement(Co,Hp({key:"link"+r},w),n.renderLinkItem(o,_))})))}},{key:"renderNodeItem",value:function(e,t){return a().isValidElement(e)?a().cloneElement(e,t):v()(e)?e(t):a().createElement(ql,Hp({className:"recharts-sankey-node",fill:"#0088fe",fillOpacity:"0.8"},t))}},{key:"renderNodes",value:function(e){var t=this,n=this.props,r=n.node,i=n.margin,o=i.top||0,s=i.left||0;return a().createElement(Co,{className:"recharts-sankey-nodes",key:"recharts-sankey-nodes"},e.map((function(e,n){var i=e.x,l=e.y,u=e.dx,c=e.dy,f=Hp({},lo(r),{x:i+s,y:l+o,width:u,height:c,index:n,payload:e}),d={onMouseEnter:t.handleMouseEnter.bind(t,f,"node"),onMouseLeave:t.handleMouseLeave.bind(t,f,"node")};return a().createElement(Co,Hp({key:"node"+n},d),t.renderNodeItem(r,f))})))}},{key:"renderTooltip",value:function(){var e=this.props,t=e.children,n=e.width,r=e.height,i=e.nameKey,o=so(t,As);if(!o)return null;var s,l=this.state,u=l.isTooltipActive,c=l.activeElement,f=l.activeElementType,d={x:0,y:0,width:n,height:r},p=c?(s=c,"node"===f?{x:s.x+s.width/2,y:s.y+s.height/2}:{x:(s.sourceX+s.targetX)/2,y:(s.sourceY+s.targetY)/2}):Vp,h=c?function(e,t,n){var r=e.payload;return"node"===t?[{payload:e,name:$i(r,n,""),value:$i(r,"value")}]:r.source&&r.target?[{payload:e,name:$i(r.source,n,"")+" - "+$i(r.target,n,""),value:$i(r,"value")}]:[]}(c,f,i):[];return a().cloneElement(o,{viewBox:d,active:u,coordinate:p,label:"",payload:h})}},{key:"render",value:function(){if(!po(this))return null;var e=this.props,t=e.width,n=e.height,r=e.className,i=e.style,o=e.children,s=Up(e,["width","height","className","style","children"]),l=this.state,u=l.links,f=l.nodes,d=lo(s);return a().createElement("div",{className:c()("recharts-wrapper",r),style:Hp({},i,{position:"relative",cursor:"default",width:t,height:n})},a().createElement(_o,Hp({},d,{width:t,height:n}),mo(o),this.renderLinks(u,f),this.renderNodes(f)),this.renderTooltip())}}]),t}(o.Component),Ip.displayName="Sankey",Ip.propTypes=Hp({},no,ro,{nameKey:l().oneOfType([l().string,l().number,l().func]),dataKey:l().oneOfType([l().string,l().number,l().func]),width:l().number,height:l().number,data:l().shape({nodes:l().array,links:l().arrayOf(l().shape({target:l().number,source:l().number,value:l().number}))}),nodePadding:l().number,nodeWidth:l().number,linkCurvature:l().number,iterations:l().number,node:l().oneOfType([l().object,l().element,l().func]),link:l().oneOfType([l().object,l().element,l().func]),style:l().object,className:l().string,children:l().oneOfType([l().arrayOf(l().node),l().node]),margin:l().shape({top:l().number,right:l().number,bottom:l().number,left:l().number})}),Ip.defaultProps={nodePadding:10,nodeWidth:10,nameKey:"name",dataKey:"value",linkCurvature:.5,iterations:32,margin:{top:5,right:5,bottom:5,left:5}},Np));var th,nh,rh,ih=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oh=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function ah(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sh(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Gu(th=to((rh=nh=function(e){function t(){var e,n,r;ah(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=sh(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state=r.createDefaultState(),r.handleMouseEnter=function(e,t){var n=r.props.children,i=e.points;if(so(n,As)&&i.length){var o=r.container,a=Qs(o),s=el(t,a);r.setState({isTooltipActive:!0,activeTooltipLabel:e.name||e.dataKey,activeTooltipCoord:{x:s.chartX,y:s.chartY},activeTooltipPayload:r.getTooltipContent(e)})}},r.handleMouseLeave=function(){var e=r.props.children;so(e,As)&&r.setState({isTooltipActive:!1})},sh(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),oh(t,[{key:"componentWillReceiveProps",value:function(e){e.data!==this.props.data&&this.setState(this.createDefaultState())}},{key:"getTooltipContent",value:function(e){var t=e.points,n=e.dataKey,r=e.unit;return t.map((function(t){var i=t.name,o=t.value,a=t.payload;return ih({},lo(e),{dataKey:n,unit:r,name:i,value:o,payload:a})}))}},{key:"getRadiusAxisCfg",value:function(e,t,n){var r=e?e.props:Mu.defaultProps,i=void 0,o=void 0,a=void 0;return e&&e.props.ticks?(o=(a=e.props.ticks).length,i=[Math.min.apply(null,a),Math.max.apply(null,a)]):(o=Math.max(e&&e.props.tickCount||Mu.defaultProps.tickCount,2),a=this.getTicksByItems(e,o),i=[Math.min.apply(null,a),Math.max.apply(null,a)]),{tickCount:o,ticks:a,scale:Zi(r).domain(i).range([t,n])}}},{key:"getTicksByItems",value:function(e,t){var n=this.props,r=n.data,i=n.children,o=e?e.props:Mu.defaultProps,a=o.domain,s=o.allowDataOverflow,l=ao(i,lc).map((function(e){return e.props.dataKey})),u=r.reduce((function(e,t){var n=l.map((function(e){return $i(t,e,0)})),r=Math.max.apply(null,n),i=Math.min.apply(null,n);return[Math.min(e[0],i),Math.max(e[1],r)]}),[1/0,-1/0]),c=Vi(a,u,s);return!a||"auto"!==a[0]&&"auto"!==a[1]?c:(0,wd.Zj)(c,t)}},{key:"getGridRadius",value:function(e,t,n){var r=wc()(0,e),i=te().domain(r).range([t,n]);return r.map((function(e){return i(e)}))}},{key:"getAngle",value:function(e,t,n,r){return n+e*(r?-1:1)*(360/t)}},{key:"getAngleTicks",value:function(e,t,n){for(var r=[],i=0;i<e;i++)r.push(this.getAngle(i,e,t,n));return r}},{key:"getRadiusTicks",value:function(e){var t=e.ticks,n=e.scale;if(t&&t.length)return t.map((function(e){return{radius:n(e),value:e}}));var r=e.tickCount,i=n.domain();return wc()(0,r).map((function(e,t){var o=i[0]+t*(i[1]-i[0])/(r-1);return{value:o,radius:n(o)}}))}},{key:"getComposedData",value:function(e,t,n,r){var i=this,o=e.props.dataKey,a=this.props,s=a.data,l=a.startAngle,u=a.clockWise,c=a.children,f=so(c,qu),d=f&&f.props.dataKey,p=s.length;return s.map((function(e,a){var s=$i(e,o,0),c=i.getAngle(a,p,l,u),f=t(s);return ih({},cl(n,r,f,c),{value:s,name:d&&e[d]||a,cx:n,cy:r,radius:f,angle:c,payload:e})}))}},{key:"createDefaultState",value:function(){return{activeTooltipLabel:"",activeTooltipCoord:{x:0,y:0},isTooltipActive:!1}}},{key:"renderRadars",value:function(e,t,n,r){var i=this;if(!e||!e.length)return null;var o=this.props,s=o.onMouseEnter,l=o.onMouseLeave,u=o.onClick,c=lo(this.props);return e.map((function(e,o){return a().cloneElement(e,ih({},c,lo(e),{animationId:i.props.animationId,points:i.getComposedData(e,t,n,r),key:e.key||"radar-"+o,onMouseEnter:Yi(i.handleMouseEnter,s,e.props.onMouseEnter),onMouseLeave:Yi(i.handleMouseLeave,l,e.props.onMouseLeave),onClick:Yi(null,u,e.props.onClick)}))}))}},{key:"renderGrid",value:function(e,t,n,r,i){var o=this.props.children,s=so(o,vu);if(!s)return null;var l=this.props,u=l.startAngle,c=l.clockWise,f=l.data.length,d=e.tickCount;return a().cloneElement(s,{polarAngles:this.getAngleTicks(f,u,c),polarRadius:this.getGridRadius(d,r,i),cx:t,cy:n,innerRadius:r,outerRadius:i,key:"layer-grid"})}},{key:"renderAngleAxis",value:function(e,t,n,r){var i=this,o=this.props.children,s=so(o,qu);if(!s||s.props.hide)return null;var l=this.props,u=l.data,c=l.startAngle,f=l.clockWise,d=u.length,p=so(o,vu),h=Bi(s.props.radius,r,n),g=s.props.dataKey;return a().cloneElement(s,{ticks:u.map((function(e,t){return{value:$i(e,g,t),angle:i.getAngle(t,d,c,f)}})),cx:e,cy:t,radius:h,axisLineType:p&&p.props&&p.props.gridType||vu.defaultProps.gridType,key:"layer-angle-axis"})}},{key:"renderRadiusAxis",value:function(e,t,n,r){if(!e||e.props.hide)return null;var i=this.props.startAngle;return a().cloneElement(e,{angle:e.props.angle||i,ticks:this.getRadiusTicks(t),cx:n,cy:r})}},{key:"renderTooltip",value:function(){var e=this.props.children,t=so(e,As);if(!t)return null;var n=this.props,r=n.width,i=n.height,o=this.state,s=o.isTooltipActive,l=o.activeTooltipLabel,u=o.activeTooltipCoord,c=o.activeTooltipPayload,f={x:0,y:0,width:r,height:i};return a().cloneElement(t,{viewBox:f,active:s,label:l,payload:c,coordinate:u})}},{key:"renderLegend",value:function(e){var t=this.props.children,n=so(t,ls);if(!n)return null;var r=this.props,i=r.width,o=r.height,s=r.margin,l=n.props&&n.props.payload||e.map((function(e){var t=e.props,r=t.dataKey,i=t.name,o=t.legendType;return{dataKey:r,type:n.props.iconType||o||"square",color:e.props.stroke||e.props.fill,value:i||r,payload:e.props}}),this);return a().cloneElement(n,ih({},ls.getWithHeight(n,i),{payload:l,chartWidth:i,chartHeight:o,margin:s}))}},{key:"render",value:function(){var e=this;if(!po(this))return null;var t=this.props,n=t.className,r=t.data,i=t.width,o=t.height,s=t.margin,l=t.children,u=t.style,f=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["className","data","width","height","margin","children","style"]),d=Bi(this.props.cx,i,i/2),p=Bi(this.props.cy,o,o/2),h=fl(i,o,s),g=Bi(this.props.innerRadius,h,0),m=Bi(this.props.outerRadius,h,.8*h);if(m<=0||!r||!r.length)return null;var y=ao(l,lc),v=so(l,Mu),b=this.getRadiusAxisCfg(v,g,m),x=lo(f);return a().createElement("div",{className:c()("recharts-wrapper",n),style:ih({},u,{position:"relative",cursor:"default",width:i,height:o}),ref:function(t){e.container=t}},a().createElement(_o,ih({},x,{width:i,height:o}),this.renderGrid(b,d,p,g,m),this.renderRadiusAxis(v,b,d,p),this.renderAngleAxis(d,p,m,h),this.renderRadars(y,b.scale,d,p),mo(l)),this.renderLegend(y),this.renderTooltip())}}]),t}(o.Component),nh.displayName="RadarChart",nh.propTypes={width:l().number,height:l().number,margin:l().shape({top:l().number,right:l().number,bottom:l().number,left:l().number}),cx:l().oneOfType([l().number,l().string]),cy:l().oneOfType([l().number,l().string]),startAngle:l().number,innerRadius:l().oneOfType([l().number,l().string]),outerRadius:l().oneOfType([l().number,l().string]),clockWise:l().bool,data:l().array,style:l().object,children:l().oneOfType([l().arrayOf(l().node),l().node]),className:l().string,animationId:l().number,onMouseEnter:l().func,onMouseLeave:l().func,onClick:l().func},nh.defaultProps={width:0,height:0,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%",startAngle:90,clockWise:!0,data:[],margin:{top:0,right:0,bottom:0,left:0}},th=rh))||th);var lh,uh,ch=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fh=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function dh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ph(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}to((uh=lh=function(e){function t(){var e,n,r;dh(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=ph(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={activeTooltipCoord:{x:0,y:0},isTooltipActive:!1,activeItem:null},r.handleLegendBBoxUpdate=function(e){e&&r.legendInstance&&r.forceUpdate()},r.handleScatterMouseEnter=function(e){r.setState({isTooltipActive:!0,activeItem:e,activeTooltipCoord:{x:e.cx,y:e.cy}})},r.handleScatterMouseLeave=function(){r.setState({isTooltipActive:!1})},ph(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),fh(t,[{key:"getComposedData",value:function(e,t,n,r,i){var o=e.props.children,a=n.dataKey,s=r.dataKey,l=i.dataKey,u=ao(o,Fs);return t.map((function(e,t){return ch({},e,{cx:ji(e[a])?n.scale(e[a]):null,cy:ji(e[s])?r.scale(e[s]):null,size:void 0!==l&&ji(e[l])?i.scale(e[l]):i.range[0],node:{x:e[a],y:e[s],z:void 0!==l&&e[l]||"-"},payload:e},u&&u[t]&&u[t].props)}))}},{key:"getDomain",value:function(e,t,n,r){var i=e.reduce((function(e,n){return e.concat(n.props.data.map((function(e){return $i(e,t)})))}),[]);return"xAxis"!==r&&"yAxis"!==r||(i=Sd(this.props.children,i,n,r)),[Math.min.apply(null,i),Math.max.apply(null,i)]}},{key:"getAxis",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"xAxis",t=arguments[1],n=this.props.children,r="xAxis"===e?od:dd,i=so(n,r);if(r.displayName,i){var o=Vi(i.props.domain,this.getDomain(t,i.props.dataKey,i.props[e+"Id"],e),i.props.allowDataOverflow);return ch({},i.props,{axisType:e,domain:o,type:"number",originalDomain:i.props.domain})}return null}},{key:"getZAxis",value:function(e){var t=this.props.children,n=so(t,bd),r=n&&n.props||bd.defaultProps,i=r.dataKey?this.getDomain(e,r.dataKey):[-1,1];return ch({},r,{domain:i,scale:Zi(r).domain(i).range(r.range)})}},{key:"getOffset",value:function(e,t,n){var r=this.props,i=r.width,o=r.height,a=r.margin,s=r.children,l=so(s,ls),u={left:a.left||0,right:a.right||0,top:a.top||0,bottom:a.bottom||0};if(t.hide||t.mirror||(u[t.orientation]+=t.height),n.hide||n.mirror||(u[n.orientation]+=n.width),l&&this.legendInstance){var c=this.legendInstance.getBBox();u=zd(u,e,this.props,c)}return ch({},u,{width:i-u.left-u.right,height:o-u.top-u.bottom})}},{key:"getFormatAxis",value:function(e,t,n){var r=e.orientation,i=e.domain,o=e.mirror,a=e.tickFormat,s=e.padding,l=void 0===s?{}:s,u={left:t.left,right:t.left+t.width,top:t.top,bottom:t.top+t.height},c="xAxis"===n?[t.left+(l.left||0),t.left+t.width-(l.right||0)]:[t.top+t.height-(l.bottom||0),t.top+(l.top||0)],f=Zi(e).domain(i).range(c),d=jd(f,e);a&&f.tickFormat(a);var p=void 0,h=void 0;if("xAxis"===n){var g="top"===r&&!o||"bottom"===r&&o;p=t.left,h=u[r]-g*e.height}else p=u[r]-("left"===r&&!o||"right"===r&&o)*e.width,h=t.top;return ch({},e,d,{scale:f,width:"xAxis"===n?t.width:e.width,height:"yAxis"===n?t.height:e.height,x:p,y:h})}},{key:"getTooltipContent",value:function(e,t,n,r){if(!e)return null;var i=e.payload,o=e.node,a=[{name:t.name||t.dataKey,unit:t.unit||"",value:o.x,payload:i},{name:n.name||n.dataKey,unit:n.unit||"",value:o.y,payload:i}];return o.z&&"-"!==o.z&&a.push({name:r.name||r.dataKey,unit:r.unit||"",value:o.z,payload:i}),a}},{key:"renderTooltip",value:function(e,t,n,r,i){var o=this.props.children,s=so(o,As);if(!s)return null;var l=this.state,u=l.isTooltipActive,c=l.activeItem,f=l.activeTooltipCoord,d={x:i.left,y:i.top,width:i.width,height:i.height};return a().cloneElement(s,{viewBox:d,active:u,label:"",payload:this.getTooltipContent(c,t,n,r),coordinate:f})}},{key:"renderGrid",value:function(e,t,n){var r=this.props,i=r.children,o=r.width,s=r.height,l=so(i,df);if(!l)return null;var u=Ld(rf.getTicks(ch({},rf.defaultProps,e,{ticks:Rd(e,!0),viewBox:{x:0,y:0,width:o,height:s}})),n.left,n.left+n.width),c=Ld(rf.getTicks(ch({},rf.defaultProps,t,{ticks:Rd(t,!0),viewBox:{x:0,y:0,width:o,height:s}})),n.top,n.top+n.height);return a().cloneElement(l,{key:"grid",x:n.left,y:n.top,width:n.width,height:n.height,verticalPoints:u,horizontalPoints:c})}},{key:"renderLegend",value:function(e){var t=this,n=this.props,r=n.children,i=n.width,o=n.height,s=n.margin,l=i-(s.left||0)-(s.right||0),u=(s.top,s.bottom,Nd(r,e,l));return u?a().createElement(ls,ch({},u,{chartWidth:i,chartHeight:o,margin:s,ref:function(e){t.legendInstance=e},onBBoxUpdate:this.handleLegendBBoxUpdate})):null}},{key:"renderAxis",value:function(e,t){var n=this.props,r=n.width,i=n.height;return e&&!e.hide?a().createElement(Co,{key:t,className:t},a().createElement(rf,ch({},e,{viewBox:{x:0,y:0,width:r,height:i},ticks:Rd(e,!0)}))):null}},{key:"renderCursor",value:function(e,t,n){var r=this.props.children,i=so(r,As);if(!i||!i.props.cursor||!this.state.isTooltipActive)return null;var o=this.state.activeItem,s=ch({stroke:"#ccc",strokeDasharray:"5 5"},lo(i.props.cursor),n,{x:o.cx,y:o.cy,payload:o});return a().isValidElement(i.props.cursor)?a().cloneElement(i.props.cursor,s):a().createElement(cu,s)}},{key:"renderItems",value:function(e,t,n,r,i){var o=this,s=this.state.activeGroupId;return e.map((function(e,l){var u=e.props,c=u.strokeWidth,f=u.data,d=c===+c?c:1;return d=s==="scatter-"+l?d+2:d,a().cloneElement(e,ch({key:e.key||"scatter-"+l,groupId:"scatter-"+l,strokeWidth:d,onMouseLeave:o.handleScatterMouseLeave,onMouseEnter:o.handleScatterMouseEnter,points:o.getComposedData(e,f,t,n,r)},i,{xAxis:t,yAxis:n}))}),this)}},{key:"renderReferenceElements",value:function(e,t,n,r,i){var o=this.props.children,s=ao(o,i);if(!s||!s.length)return null;var l=oo(i)+"-"+(r?"front":"back");return s.filter((function(e){return r===e.props.isFront})).map((function(r,i){return a().cloneElement(r,{key:l+"-"+i,xAxis:e,yAxis:t,viewBox:{x:n.left,y:n.top,width:n.width,height:n.height}})}))}},{key:"render",value:function(){if(!po(this))return null;var e=this.props,t=(e.style,e.children),n=e.className,r=e.width,i=e.height,o=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["style","children","className","width","height"]),s=ao(t,Jf),l=this.getZAxis(s),u=this.getAxis("xAxis",s),f=this.getAxis("yAxis",s),d=this.getOffset(s,u,f);u=this.getFormatAxis(u,d,"xAxis"),f=this.getFormatAxis(f,d,"yAxis");var p=uo(this.props),h=lo(o);return a().createElement("div",ch({className:c()("recharts-wrapper",n),style:{position:"relative",cursor:"default",width:r,height:i}},p),a().createElement(_o,ch({},h,{width:r,height:i}),this.renderGrid(u,f,d),this.renderReferenceElements(u,f,d,!1,Zc),this.renderReferenceElements(u,f,d,!1,Lc),this.renderReferenceElements(u,f,d,!1,Bc),this.renderAxis(u,"recharts-x-axis"),this.renderAxis(f,"recharts-y-axis"),this.renderCursor(u,f,d),this.renderItems(s,u,f,l,d),this.renderReferenceElements(u,f,d,!0,Zc),this.renderReferenceElements(u,f,d,!0,Lc),this.renderReferenceElements(u,f,d,!0,Bc),mo(t)),this.renderLegend(s),this.renderTooltip(s,u,f,l,d))}}]),t}(o.Component),lh.displayName="ScatterChart",lh.propTypes=ch({},ro,{width:l().number,height:l().number,margin:l().shape({top:l().number,right:l().number,bottom:l().number,left:l().number}),title:l().string,style:l().object,children:l().oneOfType([l().arrayOf(l().node),l().node]),className:l().string}),lh.defaultProps={style:{},margin:{top:5,right:5,bottom:5,left:5}},uh));var hh,gh,mh,yh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vh=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function bh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xh(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var _h=function(e){var t=e.axis,n=e.ticks,r=e.bandSize,i=e.entry,o=e.index;if("category"===t.type)return n[o]?n[o].coordinate+r/2:null;var a=$i(i,t.dataKey);return d()(a)?null:t.scale(a)},wh=Gu(hh=Qd({getComposedData:function(e){var t,n=e.props,r=e.xAxis,i=e.yAxis,o=e.xTicks,a=e.yTicks,s=e.bandSize,l=e.dataKey,u=e.stackedData,c=n.layout,f=n.dataStartIndex,p=n.dataEndIndex,h=n.data.slice(f,p+1),g=u&&u.length,m=function(e,t,n){var r=e.layout,i=e.baseValue;if(ji(i))return i;var o="horizontal"===r?n:t,a=o.scale.domain();if("number"===o.type){var s=Math.max(a[0],a[1]),l=Math.min(a[0],a[1]);return"dataMin"===i?l:"dataMax"===i||s<0?s:Math.max(Math.min(a[0],a[1]),0)}return"dataMin"===i?a[0]:"dataMax"===i?a[1]:a[0]}(n,r,i),y=!1,v=h.map((function(e,t){var n=void 0;return g?n=u[f+t]:(n=$i(e,l),x()(n)?y=!0:n=[m,n]),"horizontal"===c?{x:_h({axis:r,ticks:o,bandSize:s,entry:e,index:t}),y:d()(n[1])?null:i.scale(n[1]),value:n,payload:e}:{x:d()(n[1])?null:r.scale(n[1]),y:_h({axis:i,ticks:a,bandSize:s,entry:e,index:t}),value:n,payload:e}}));return t=g||y?v.map((function(e){return{x:"horizontal"===c?e.x:r.scale(e&&e.value[0]),y:"horizontal"===c?i.scale(e&&e.value[0]):e.y}})):"horizontal"===c?i.scale(m):r.scale(m),{points:v,baseLine:t,layout:c,isRange:y}}})((mh=gh=function(e){function t(){return bh(this,t),xh(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),vh(t,[{key:"renderCursor",value:function(e){var t=e.offset,n=this.props,r=n.children,i=n.isTooltipActive,o=n.layout,s=n.activeTooltipIndex,l=n.axisTicks,u=so(r,As);if(!u||!u.props.cursor||!i||s<0)return null;var c=l;if(!c||!c[s])return null;var f=c[s].coordinate,d="horizontal"===o?f:t.left,p="horizontal"===o?t.top:f,h="horizontal"===o?f:t.left+t.width,g="horizontal"===o?t.top+t.height:f,m=yh({stroke:"#ccc"},lo(u.props.cursor),{points:[{x:d,y:p},{x:h,y:g}]});return a().isValidElement(u.props.cursor)?a().cloneElement(u.props.cursor,m):a().createElement(El,yh({},m,{type:"linear",className:"recharts-tooltip-cursor"}))}},{key:"renderActiveDot",value:function(e,t,n){var r;return r=a().isValidElement(e)?a().cloneElement(e,t):v()(e)?e(t):a().createElement(nu,t),a().createElement(ds.ZP,{from:"scale(0)",to:"scale(1)",duration:400,key:"dot-"+n+"-"+t.pointType,attributeName:"transform"},a().createElement(Co,{style:{transformOrigin:"center center"}},r))}},{key:"renderItems",value:function(e,t,n,r,i){var o=this,s=this.props,l=s.children,u=s.layout,c=s.isTooltipActive,f=s.activeTooltipIndex,d=so(l,As)&&c,p=[],h=this.props.animationId,g=e.reduce((function(e,s,l){var c=s.props,g=c.dataKey,m=c.activeDot,y=i[l],v=y.isRange,b=y.points&&y.points[f],x=v&&y.baseLine&&y.baseLine[f];if(d&&m&&b){var _=yh({index:f,dataKey:g,animationId:h,cx:b.x,cy:b.y,r:4,fill:Id(s),strokeWidth:2,stroke:"#fff",payload:b.payload,value:b.value,pointType:"activePoint"},lo(m));p.push(o.renderActiveDot(m,_,l)),x&&p.push(o.renderActiveDot(m,yh({},_,{cx:x.x,cy:x.y,pointType:"basePoint"}),l))}var w=a().cloneElement(s,yh({key:s.key||"area-"+l},y,r,{animationId:h,layout:u,xAxis:t[s.props.xAxisId],yAxis:n[s.props.yAxisId]}));return[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e),[w])}),[]);return a().createElement(Co,{className:"recharts-area-chart-group"},a().createElement(Co,{className:"recharts-area-chart-shapes"},g),a().createElement(Co,{className:"recharts-area-chart-dots"},p))}},{key:"render",value:function(){var e=this.props,t=e.isComposed,n=e.graphicalItems,r=e.xAxisMap,i=e.yAxisMap,o=e.offset,s=e.allComposedData;return a().createElement(Co,{className:"recharts-area-graphical"},!t&&this.renderCursor({xAxisMap:r,yAxisMap:i,offset:o}),this.renderItems(n,r,i,o,s))}}]),t}(o.Component),gh.displayName="AreaChart",gh.propTypes={allComposedData:l().array,axisTicks:l().array,layout:l().oneOf(["horizontal","vertical"]),dataStartIndex:l().number,dataEndIndex:l().number,data:l().array,isTooltipActive:l().bool,activeTooltipIndex:l().number,xAxisMap:l().object,yAxisMap:l().object,offset:l().object,graphicalItems:l().array,children:l().oneOfType([l().arrayOf(l().node),l().node]),stackGroups:l().object,baseValue:l().oneOfType([l().number,l().oneOf(["dataMin","dataMax","auto"])]),isComposed:l().bool,animationId:l().number},gh.defaultProps={baseValue:"auto"},hh=mh))||hh)||hh;Kd(wh,Nf);var kh,Th,Ch=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oh=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Sh(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function Ah(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mh(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}to((Th=kh=function(e){function t(){var e,n,r;Ah(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=Mh(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state=r.createDefaultState(),r.handleMouseEnter=function(e){var t=r.props.children,n=e.cx,i=e.cy,o=e.endAngle,a=e.outerRadius;so(t,As)&&r.setState({isTooltipActive:!0,activeTooltipCoord:cl(n,i,a,o),activeTooltipPayload:[e.payload]})},r.handleMouseLeave=function(){var e=r.props.children;so(e,As)&&r.setState({isTooltipActive:!1})},Mh(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Oh(t,[{key:"componentWillReceiveProps",value:function(e){e.data!==this.props.data&&this.setState(this.createDefaultState())}},{key:"getComposedData",value:function(e,t,n,r,i){var o=this.props.data,a=Ji(t,e),s=ao(e.props.children,Fs);return o.map((function(e,t){var o=$i(e,i),l=n(t);return Ch({},e,r,{value:o,innerRadius:l-a.offset,outerRadius:l-a.offset+a.radius,payload:e},s&&s[t]&&s[t].props)}))}},{key:"getRadiusList",value:function(e){var t=this.props.barSize;return e.map((function(e){return Ch({},e.props,{item:e,barSize:e.props.barSize||t})}))}},{key:"getRadiusScale",value:function(e,t){var n=this.props.data,r=Math.max(n.length,1),i=[t,e];return Q().domain(wc()(0,r)).range(i)}},{key:"getBarPosition",value:function(e,t){var n=this.props,r=n.barGap,i=n.barCategoryGap,o=t.length,a=void 0;if(o&&t[0].barSize===+t[0].barSize){var s=t.reduce((function(e,t){return e+t.barSize}),0),l={offset:(-(s+=(o-1)*r)/2>>0)-r,radius:0};a=t.reduce((function(e,t){return l={offset:l.offset+l.radius+r,radius:t.barSize},[].concat(Sh(e),[{item:t.item,position:l}])}),[])}else{var u=Bi(i,e),c=(e-2*u-(o-1)*r)/o>>0;u=-Math.max((c*o+(o-1)*r)/2>>0,0),a=t.reduce((function(e,t,n){return[].concat(Sh(e),[{item:t.item,position:{offset:u+(c+r)*n,radius:c}}])}),[])}return a}},{key:"createDefaultState",value:function(){return{activeTooltipLabel:"",activeTooltipPayload:[],activeTooltipCoord:{x:0,y:0},isTooltipActive:!1}}},{key:"renderLegend",value:function(){var e=this.props.children,t=so(e,ls);if(!t)return null;var n=this.props,r=n.data,i=n.width,o=n.height,s=n.margin,l=t.props&&t.props.payload||r.map((function(e){return{type:t.props.iconType||"square",color:e.fill||"#000",value:e.name,payload:e}}));return a().cloneElement(t,Ch({},ls.getWithHeight(t,i),{payload:l,chartWidth:i,chartHeight:o,margin:s}))}},{key:"renderTooltip",value:function(){var e=this.props.children,t=so(e,As);if(!t)return null;var n=this.props,r=n.width,i=n.height,o=this.state,s=o.isTooltipActive,l=o.activeTooltipLabel,u=o.activeTooltipCoord,c=o.activeTooltipPayload,f={x:0,y:0,width:r,height:i};return a().cloneElement(t,{viewBox:f,active:s,label:l,payload:c,coordinate:u})}},{key:"renderItems",value:function(e,t,n){var r=this;if(!e||!e.length)return null;var i=this.props,o=i.onMouseEnter,s=i.onMouseLeave,l=i.onClick,u=this.getRadiusList(e),c=t.bandwidth(),f=this.getBarPosition(c,u);return e.map((function(e,i){var u=e.props,c=u.dataKey,d=u.onMouseEnter,p=u.onMouseLeave,h=u.onClick;return a().cloneElement(e,Ch({},n,{key:e.key||"radial-bar-"+i,onMouseEnter:Yi(r.handleMouseEnter,o,d),onMouseLeave:Yi(r.handleMouseLeave,s,p),onClick:Yi(null,l,h),data:r.getComposedData(e,f,t,n,c)}))}),this)}},{key:"render",value:function(){var e=this.props.data;if(!po(this)||!e||!e.length)return null;var t=this.props,n=t.style,r=t.children,i=t.className,o=t.width,s=t.height,l=t.margin,u=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["style","children","className","width","height","margin"]),f=ao(r,yc),d=Bi(this.props.cx,o,o/2),p=Bi(this.props.cy,s,s/2),h=fl(o,s,l),g=Bi(this.props.innerRadius,h,0),m=Bi(this.props.outerRadius,h,.8*h),y=this.getRadiusScale(g,m),v=lo(u);return a().createElement("div",{className:c()("recharts-wrapper",i),style:Ch({},n,{cursor:"default",position:"relative",width:o,height:s})},a().createElement(_o,Ch({},v,{width:o,height:s}),this.renderItems(f,y,{cx:d,cy:p}),mo(r)),this.renderLegend(),this.renderTooltip(f))}}]),t}(o.Component),kh.displayName="RadialBarChart",kh.propTypes={width:l().number,height:l().number,margin:l().shape({top:l().number,right:l().number,bottom:l().number,left:l().number}),cy:l().oneOfType([l().number,l().string]),cx:l().oneOfType([l().number,l().string]),data:l().array,innerRadius:l().oneOfType([l().number,l().string]),outerRadius:l().oneOfType([l().number,l().string]),barCategoryGap:l().oneOfType([l().number,l().string]),barGap:l().number,barSize:l().number,title:l().string,style:l().object,onMouseEnter:l().func,onMouseLeave:l().func,onClick:l().func,children:l().oneOfType([l().arrayOf(l().node),l().node]),className:l().string},kh.defaultProps={cx:"50%",cy:"50%",innerRadius:"30%",outerRadius:"90%",barGap:2,barCategoryGap:"10%",style:{},margin:{top:0,right:0,bottom:0,left:0}},Th));var Eh,Ph,Dh,Lh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rh=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Ih(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function Nh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jh(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var zh=["Area","Bar","Line"],qh={Area:wh,Bar:vp,Line:lp};Kd(to(Eh=Qd({})((Dh=Ph=function(e){function t(){return Nh(this,t),jh(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Rh(t,[{key:"filterGraphicalItems",value:function(){for(var e=this.props.graphicalItems,t={},n=[],r=0,i=e.length;r<i;r++){var o=e[r],a=o.type.displayName;if(zh.indexOf(a)>=0)if(d()(t[a]))t[a]=n.length,n.push({items:[o],type:a});else{var s=t[a];n[s].items=[].concat(Ih(n[s].items),[o])}}return n}},{key:"renderCursor",value:function(e){var t=e.xAxisMap,n=e.yAxisMap,r=e.offset,i=this.props,o=i.children,s=i.isTooltipActive,l=i.layout,u=i.activeTooltipIndex,c=i.axisTicks,f=so(o,As);if(!f||!f.props.cursor||!s||u<0)return null;var d=Ki("horizontal"===l?t:n),p=c;if(!p||!p[u])return null;var h=Gi(d),g=p[u].coordinate,m=Lh({fill:"#f1f1f1"},lo(f.props.cursor),{x:"horizontal"===l?g:r.left+.5,y:"horizontal"===l?r.top+.5:g,width:"horizontal"===l?h:r.width-1,height:"horizontal"===l?r.height-1:h});return a().isValidElement(f.props.cursor)?a().cloneElement(f.props.cursor,m):a().createElement(ql,m)}},{key:"render",value:function(){var e=this,t=this.props,n=t.xAxisMap,r=t.yAxisMap,i=t.offset,o=this.filterGraphicalItems();return a().createElement(Co,{className:"recharts-composed"},this.renderCursor({xAxisMap:n,yAxisMap:r,offset:i}),o.map((function(t){var n=t.items,r=t.type,i=qh[r];return a().createElement(i,Lh({key:r},e.props,{graphicalItems:n,isComposed:!0}))})))}}]),t}(o.Component),Ph.displayName="ComposedChart",Ph.propTypes={allComposedData:l().array,axisTicks:l().array,layout:l().oneOf(["horizontal","vertical"]),dataStartIndex:l().number,dataEndIndex:l().number,isTooltipActive:l().bool,activeTooltipIndex:l().number,xAxisMap:l().object,yAxisMap:l().object,offset:l().object,graphicalItems:l().array,stackGroups:l().object,children:l().oneOfType([l().arrayOf(l().node),l().node])},Eh=Dh))||Eh)||Eh,[Af,Nf,Vf])},45516:(e,t,n)=>{n(63752),n(64664),n(88547),n(17369),n(5002),n(55238),n(75145),n(66668),n(19519),n(86933),n(84056),n(30658),n(31033),n(24142),n(72157),n(89138),n(98333),n(51121).Math},90509:e=>{e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},82522:(e,t,n)=>{var r=n(28489);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},51121:e=>{var t=e.exports={version:"2.4.0"};"number"==typeof __e&&(__e=t)},19389:(e,t,n)=>{var r=n(90509);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},42501:(e,t,n)=>{e.exports=!n(15979)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},49920:(e,t,n)=>{var r=n(28489),i=n(7094).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},22032:(e,t,n)=>{var r=n(7094),i=n(51121),o=n(82342),a=n(59702),s=n(19389),l=function(e,t,n){var u,c,f,d,p=e&l.F,h=e&l.G,g=e&l.S,m=e&l.P,y=e&l.B,v=h?r:g?r[t]||(r[t]={}):(r[t]||{}).prototype,b=h?i:i[t]||(i[t]={}),x=b.prototype||(b.prototype={});for(u in h&&(n=t),n)f=((c=!p&&v&&void 0!==v[u])?v:n)[u],d=y&&c?s(f,r):m&&"function"==typeof f?s(Function.call,f):f,v&&a(v,u,f,e&l.U),b[u]!=f&&o(b,u,d),m&&x[u]!=f&&(x[u]=f)};r.core=i,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},15979:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},7094:e=>{var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},40490:e=>{var t={}.hasOwnProperty;e.exports=function(e,n){return t.call(e,n)}},82342:(e,t,n)=>{var r=n(12028),i=n(81558);e.exports=n(42501)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},13334:(e,t,n)=>{e.exports=!n(42501)&&!n(15979)((function(){return 7!=Object.defineProperty(n(49920)("div"),"a",{get:function(){return 7}}).a}))},28489:e=>{e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},49271:e=>{var t=Math.expm1;e.exports=!t||t(10)>22025.465794806718||t(10)<22025.465794806718||-2e-17!=t(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:t},57924:e=>{e.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},72178:e=>{e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},12028:(e,t,n)=>{var r=n(82522),i=n(13334),o=n(72854),a=Object.defineProperty;t.f=n(42501)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},81558:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},59702:(e,t,n)=>{var r=n(7094),i=n(82342),o=n(40490),a=n(40876)("src"),s="toString",l=Function.toString,u=(""+l).split(s);n(51121).inspectSource=function(e){return l.call(e)},(e.exports=function(e,t,n,s){var l="function"==typeof n;l&&(o(n,"name")||i(n,"name",t)),e[t]!==n&&(l&&(o(n,a)||i(n,a,e[t]?""+e[t]:u.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:i(e,t,n):(delete e[t],i(e,t,n)))})(Function.prototype,s,(function(){return"function"==typeof this&&this[a]||l.call(this)}))},72854:(e,t,n)=>{var r=n(28489);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},40876:e=>{var t=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++t+n).toString(36))}},63752:(e,t,n)=>{var r=n(22032),i=n(57924),o=Math.sqrt,a=Math.acosh;r(r.S+r.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:i(e-1+o(e-1)*o(e+1))}})},64664:(e,t,n)=>{var r=n(22032),i=Math.asinh;r(r.S+r.F*!(i&&1/i(0)>0),"Math",{asinh:function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):Math.log(t+Math.sqrt(t*t+1)):t}})},88547:(e,t,n)=>{var r=n(22032),i=Math.atanh;r(r.S+r.F*!(i&&1/i(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},17369:(e,t,n)=>{var r=n(22032),i=n(72178);r(r.S,"Math",{cbrt:function(e){return i(e=+e)*Math.pow(Math.abs(e),1/3)}})},5002:(e,t,n)=>{var r=n(22032);r(r.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},55238:(e,t,n)=>{var r=n(22032),i=Math.exp;r(r.S,"Math",{cosh:function(e){return(i(e=+e)+i(-e))/2}})},75145:(e,t,n)=>{var r=n(22032),i=n(49271);r(r.S+r.F*(i!=Math.expm1),"Math",{expm1:i})},66668:(e,t,n)=>{var r=n(22032),i=n(72178),o=Math.pow,a=o(2,-52),s=o(2,-23),l=o(2,127)*(2-s),u=o(2,-126);r(r.S,"Math",{fround:function(e){var t,n,r=Math.abs(e),o=i(e);return r<u?o*(r/u/s+1/a-1/a)*u*s:(n=(t=(1+s/a)*r)-(t-r))>l||n!=n?o*(1/0):o*n}})},19519:(e,t,n)=>{var r=n(22032),i=Math.abs;r(r.S,"Math",{hypot:function(e,t){for(var n,r,o=0,a=0,s=arguments.length,l=0;a<s;)l<(n=i(arguments[a++]))?(o=o*(r=l/n)*r+1,l=n):o+=n>0?(r=n/l)*r:n;return l===1/0?1/0:l*Math.sqrt(o)}})},86933:(e,t,n)=>{var r=n(22032),i=Math.imul;r(r.S+r.F*n(15979)((function(){return-5!=i(4294967295,5)||2!=i.length})),"Math",{imul:function(e,t){var n=65535,r=+e,i=+t,o=n&r,a=n&i;return 0|o*a+((n&r>>>16)*a+o*(n&i>>>16)<<16>>>0)}})},84056:(e,t,n)=>{var r=n(22032);r(r.S,"Math",{log10:function(e){return Math.log(e)/Math.LN10}})},30658:(e,t,n)=>{var r=n(22032);r(r.S,"Math",{log1p:n(57924)})},31033:(e,t,n)=>{var r=n(22032);r(r.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},24142:(e,t,n)=>{var r=n(22032);r(r.S,"Math",{sign:n(72178)})},72157:(e,t,n)=>{var r=n(22032),i=n(49271),o=Math.exp;r(r.S+r.F*n(15979)((function(){return-2e-17!=!Math.sinh(-2e-17)})),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(i(e)-i(-e))/2:(o(e-1)-o(-e-1))*(Math.E/2)}})},89138:(e,t,n)=>{var r=n(22032),i=n(49271),o=Math.exp;r(r.S,"Math",{tanh:function(e){var t=i(e=+e),n=i(-e);return t==1/0?1:n==1/0?-1:(t-n)/(o(e)+o(-e))}})},98333:(e,t,n)=>{var r=n(22032);r(r.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},66022:(e,t,n)=>{"use strict";var r=n(60139),i=n(73759),o=n(3709);e.exports=function(){function e(e,t,n,r,a,s){s!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return n.checkPropTypes=r,n.PropTypes=n,n}},49683:(e,t,n)=>{e.exports=n(66022)()},3709:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},77916:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(67294),s=c(a),l=c(n(49683)),u=n(54056);function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={expandChildHeight:0,expandChildWidth:0,expandScrollLeft:0,expandScrollTop:0,shrinkScrollTop:0,shrinkScrollLeft:0,lastWidth:0,lastHeight:0},e.reset=e.reset.bind(e),e.handleScroll=e.handleScroll.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentWillMount",value:function(){this.forceUpdate()}},{key:"componentDidMount",value:function(){var e=this.containerSize(),t=i(e,2),n=t[0],r=t[1];this.reset(n,r)}},{key:"shouldComponentUpdate",value:function(e){return this.props!==e}},{key:"componentDidUpdate",value:function(){this.expand.scrollLeft=this.expand.scrollWidth,this.expand.scrollTop=this.expand.scrollHeight,this.shrink.scrollLeft=this.shrink.scrollWidth,this.shrink.scrollTop=this.shrink.scrollHeight}},{key:"containerSize",value:function(){return[this.props.handleWidth&&this.container.parentElement.offsetWidth,this.props.handleHeight&&this.container.parentElement.offsetHeight]}},{key:"reset",value:function(e,t){if("undefined"!=typeof window){var n=this.container.parentElement,r="static";n.currentStyle?r=n.currentStyle.position:window.getComputedStyle&&(r=window.getComputedStyle(n).position),"static"===r&&(n.style.position="relative"),this.setState({expandChildHeight:this.expand.offsetHeight+10,expandChildWidth:this.expand.offsetWidth+10,lastWidth:e,lastHeight:t})}}},{key:"handleScroll",value:function(){if("undefined"!=typeof window){var e=this.state,t=this.containerSize(),n=i(t,2),r=n[0],o=n[1];r===e.lastWidth&&o===e.lastHeight||this.props.onResize(r,o),this.reset(r,o)}}},{key:"render",value:function(){var e=this,t=this.state,n=r({},u.expandChildStyle,{width:t.expandChildWidth,height:t.expandChildHeight});return s.default.createElement("div",{style:u.parentStyle,ref:function(t){e.container=t}},s.default.createElement("div",{style:u.parentStyle,onScroll:this.handleScroll,ref:function(t){e.expand=t}},s.default.createElement("div",{style:n})),s.default.createElement("div",{style:u.parentStyle,onScroll:this.handleScroll,ref:function(t){e.shrink=t}},s.default.createElement("div",{style:u.shrinkChildStyle})))}}]),t}(a.Component);t.default=f,f.propTypes={handleWidth:l.default.bool,handleHeight:l.default.bool,onResize:l.default.func},f.defaultProps={handleWidth:!1,handleHeight:!1,onResize:function(e){return e}}},54056:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parentStyle={position:"absolute",left:0,top:0,right:0,bottom:0,overflow:"scroll",zIndex:-1,visibility:"hidden"},t.shrinkChildStyle={position:"absolute",left:0,top:0,width:"200%",height:"200%"},t.expandChildStyle={position:"absolute",left:0,top:0,width:"100%",height:"100%"}},53172:(e,t,n)=>{"use strict";var r,i=(r=n(77916))&&r.__esModule?r:{default:r};t.Z=i.default},26488:(e,t,n)=>{var r,i=n(5623),o=n(86913),a=n(22087),s=/(\+|\-|\*|\\|[^a-z]|)(\s*)(\()/g;e.exports=function(e,t){return r=0,t=Math.pow(10,void 0===t?5:t),e=e.replace(/\n+/g," "),o(e,/((?:\-[a-z]+\-)?calc)\(/,(function e(n,o,l){if(r++>100)throw r=0,new Error("Call stack overflow for "+l);if(""===n)throw new Error(o+"(): '"+l+"' must contain a non-whitespace string");var u=function(e){for(var t=[],n=[],r=/[\.0-9]([%a-z]+)/gi,i=r.exec(e);i;)i&&i[1]&&(-1===n.indexOf(i[1].toLowerCase())&&(t.push(i[1]),n.push(i[1].toLowerCase())),i=r.exec(e));return t}(n=function(t,n){for(var r,o="",a=t=t.replace(/((?:\-[a-z]+\-)?calc)/g,"");r=s.exec(a);){r[0].index>0&&(o+=a.substring(0,r[0].index));var l=i("(",")",a.substring([0].index));if(""===l.body)throw new Error("'"+t+"' must contain a non-whitespace string");var u=e(l.body,"",n);o+=l.pre+u,a=l.post}return o+a}(n,l));if(u.length>1||n.indexOf("var(")>-1)return o+"("+n+")";var c=u[0]||"";"%"===c&&(n=n.replace(/\b[0-9\.]+%/g,(function(e){return.01*parseFloat(e.slice(0,-1))})));var f,d=n.replace(new RegExp(c,"gi"),"");try{f=a.eval(d)}catch(e){return o+"("+n+")"}return"%"===c&&(f*=100),(o.length||"%"===c)&&(f=Math.round(f*t)/t),f+c}))}},86913:(e,t,n)=>{var r=n(12076);e.exports=function e(t,n,i){var o=t;return function(e,t){var n=[],i="string"==typeof t?new RegExp("\\b("+t+")\\("):t;do{var o=i.exec(e);if(!o)return n;if(void 0===o[1])throw new Error("Missing the first couple of parenthesis to get the function identifier in "+t);var a=o[1],s=o.index,l=r("(",")",e.substring(s));if(!l||l.start!==o[0].length-1)throw new SyntaxError(a+"(): missing closing ')' in the value '"+e+"'");n.push({matches:l,functionIdentifier:a}),e=l.post}while(i.test(e));return n}(t,n).reduce((function(t,r){return t.replace(r.functionIdentifier+"("+r.matches.body+")",function(t,n,r,i,o){return r(e(t,o,r),n,i)}(r.matches.body,r.functionIdentifier,i,o,n))}),t)}},12076:e=>{"use strict";function t(e,t,i){e instanceof RegExp&&(e=n(e,i)),t instanceof RegExp&&(t=n(t,i));var o=r(e,t,i);return o&&{start:o[0],end:o[1],pre:i.slice(0,o[0]),body:i.slice(o[0]+e.length,o[1]),post:i.slice(o[1]+t.length)}}function n(e,t){var n=t.match(e);return n?n[0]:null}function r(e,t,n){var r,i,o,a,s,l=n.indexOf(e),u=n.indexOf(t,l+1),c=l;if(l>=0&&u>0){for(r=[],o=n.length;c>=0&&!s;)c==l?(r.push(c),l=n.indexOf(e,c+1)):1==r.length?s=[r.pop(),u]:((i=r.pop())<o&&(o=i,a=u),u=n.indexOf(t,c+1)),c=l<u&&l>=0?l:u;r.length&&(s=[o,a])}return s}e.exports=t,t.range=r},26131:e=>{e.exports=function(e){this.ok=!1,this.alpha=1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e=(e=e.replace(/ /g,"")).toLowerCase();var t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};e=t[e]||e;for(var n=[{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*((?:\d?\.)?\d)\)$/,example:["rgba(123, 234, 45, 0.8)","rgba(255,234,245,1.0)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3]),parseFloat(e[4])]}},{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,o=n[r].process,a=i.exec(e);if(a){var s=o(a);this.r=s[0],this.g=s[1],this.b=s[2],s.length>3&&(this.alpha=s[3]),this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.alpha=this.alpha<0?0:this.alpha>1||isNaN(this.alpha)?1:this.alpha,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),n=this.b.toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==n.length&&(n="0"+n),"#"+e+t+n},this.getHelpXML=function(){for(var e=new Array,r=0;r<n.length;r++)for(var i=n[r].example,o=0;o<i.length;o++)e[e.length]=i[o];for(var a in t)e[e.length]=a;var s=document.createElement("ul");for(s.setAttribute("id","rgbcolor-examples"),r=0;r<e.length;r++)try{var l=document.createElement("li"),u=new RGBColor(e[r]),c=document.createElement("div");c.style.cssText="margin: 3px; border: 1px solid black; background:"+u.toHex()+"; color:"+u.toHex(),c.appendChild(document.createTextNode("test"));var f=document.createTextNode(" "+e[r]+" -> "+u.toRGB()+" -> "+u.toHex());l.appendChild(c),l.appendChild(f),s.appendChild(l)}catch(e){}return s}}},94830:(e,t,n)=>{"use strict";var r=n(48764).Buffer,i=n(43389);e.exports=function(e){return new i((function(t,n){var i=e.slice(-3),o=new XMLHttpRequest;o.open("GET",e,!0),"prj"!==i&&"cpg"!==i&&(o.responseType="arraybuffer"),o.addEventListener("load",(function(){return o.status>399?"prj"===i||"cpg"===i?t(!1):n(new Error(o.status)):t("prj"!==i&&"cpg"!==i?new r(o.response):o.response)}),!1),o.send()}))}},39902:(e,t,n)=>{"use strict";var r=n(48764).Buffer,i=n(90173);i.default&&(i=i.default);var o=n(32555),a=n(94830),s=n(76415),l=n(9462),u=n(43389),c=new(n(5387))({max:20});function f(e){if(!e)throw new Error("forgot to pass buffer");return r.isBuffer(e)?e:e instanceof n.g.ArrayBuffer?new r(e):e.buffer instanceof n.g.ArrayBuffer?1===e.BYTES_PER_ELEMENT?new r(e):new r(e.buffer):void 0}function d(e,t){return"string"==typeof e&&c.has(e)?u.resolve(c.get(e)):d.getShapefile(e,t).then((function(t){return"string"==typeof e&&c.set(e,t),t}))}d.combine=function(e){for(var t={type:"FeatureCollection",features:[]},n=0,r=e[0].length;n<r;)t.features.push({type:"Feature",geometry:e[0][n],properties:e[1][n]}),n++;return t},d.parseZip=function(e,t){var n;e=f(e);var r=o(e),a=[];for(n in t=t||[],r)-1===n.indexOf("__MACOSX")&&("shp"===n.slice(-3).toLowerCase()?(a.push(n.slice(0,-4)),r[n.slice(0,-3)+n.slice(-3).toLowerCase()]=r[n]):"prj"===n.slice(-3).toLowerCase()?r[n.slice(0,-3)+n.slice(-3).toLowerCase()]=i(r[n]):"json"===n.slice(-4).toLowerCase()||t.indexOf(n.split(".").pop())>-1?a.push(n.slice(0,-3)+n.slice(-3).toLowerCase()):"dbf"!==n.slice(-3).toLowerCase()&&"cpg"!==n.slice(-3).toLowerCase()||(r[n.slice(0,-3)+n.slice(-3).toLowerCase()]=r[n]));if(!a.length)throw new Error("no layers founds");var u=a.map((function(e){var n,i,o=e.lastIndexOf(".");return o>-1&&e.slice(o).indexOf("json")>-1?(n=JSON.parse(r[e])).fileName=e.slice(0,o):t.indexOf(e.slice(o+1))>-1?(n=r[e]).fileName=e:(r[e+".dbf"]&&(i=l(r[e+".dbf"],r[e+".cpg"])),(n=d.combine([s(r[e+".shp"],r[e+".prj"]),i])).fileName=e),n}));return 1===u.length?u[0]:u},d.getShapefile=function(e,t){return"string"==typeof e?".zip"===e.slice(-4).toLowerCase()?function(e,t){return a(e).then((function(e){return d.parseZip(e,t)}))}(e,t):u.all([u.all([a(e+".shp"),a(e+".prj")]).then((function(e){return s(e[0],!!e[1]&&i(e[1]))})),u.all([a(e+".dbf"),a(e+".cpg")]).then((function(e){return l(e[0],e[1])}))]).then(d.combine):new u((function(t){t(d.parseZip(e))}))},d.parseShp=function(e,t){return e=f(e),r.isBuffer(t)&&(t=t.toString()),"string"==typeof t?(t=i(t),s(e,t)):s(e)},d.parseDbf=function(e,t){return e=f(e),l(e,t)},e.exports=d},76415:e=>{"use strict";function t(e,t){return!function(e){for(var t,n,r=0,i=1,o=e.length;i<o;)t=n||e[0],r+=((n=e[i])[0]-t[0])*(n[1]+t[1]),i++;return r>0}(t)&&e.length?e[e.length-1].push(t):e.push([t]),e}r.prototype.parsePoint=function(e){return{type:"Point",coordinates:this.parseCoord(e,0)}},r.prototype.parseZPoint=function(e){var t=this.parsePoint(e);return t.coordinates.push(this.parseCoord(e,16)),t},r.prototype.parsePointArray=function(e,t,n){for(var r=[],i=0;i<n;)r.push(this.parseCoord(e,t)),t+=16,i++;return r},r.prototype.parseZPointArray=function(e,t,n,r){for(var i=0;i<n;)r[i].push(e.readDoubleLE(t)),i++,t+=8;return r},r.prototype.parseArrayGroup=function(e,t,n,r,i){for(var o,a,s=[],l=0,u=0;l<r;)n+=4,o=u,(a=(u=++l===r?i:e.readInt32LE(n))-o)&&(s.push(this.parsePointArray(e,t,a)),t+=a<<4);return s},r.prototype.parseZArrayGroup=function(e,t,n,r){for(var i=0;i<n;)r[i]=this.parseZPointArray(e,t,r[i].length,r[i]),t+=r[i].length<<3,i++;return r},r.prototype.parseMultiPoint=function(e){var t={},n=this.parseCoord(e,0),r=this.parseCoord(e,16);t.bbox=[n[0],n[1],r[0],r[1]];var i=e.readInt32LE(32,!0);return 1===i?(t.type="Point",t.coordinates=this.parseCoord(e,36)):(t.type="MultiPoint",t.coordinates=this.parsePointArray(e,36,i)),t},r.prototype.parseZMultiPoint=function(e){var t,n=this.parseMultiPoint(e);if("Point"===n.type)return n.coordinates.push(e.readDoubleLE(72)),n;var r=52+((t=n.coordinates.length)<<4);return n.coordinates=this.parseZPointArray(e,r,t,n.coordinates),n},r.prototype.parsePolyline=function(e){var t={},n=this.parseCoord(e,0),r=this.parseCoord(e,16);t.bbox=[n[0],n[1],r[0],r[1]];var i,o=e.readInt32LE(32),a=e.readInt32LE(36);return 1===o?(t.type="LineString",i=44,t.coordinates=this.parsePointArray(e,i,a)):(t.type="MultiLineString",i=40+(o<<2),t.coordinates=this.parseArrayGroup(e,i,40,o,a)),t},r.prototype.parseZPolyline=function(e){var t,n=this.parsePolyline(e),r=n.coordinates.length;return"LineString"===n.type?(t=60+(r<<4),n.coordinates=this.parseZPointArray(e,t,r,n.coordinates),n):(t=56+(n.coordinates.reduce((function(e,t){return e+t.length}),0)<<4)+(r<<2),n.coordinates=this.parseZArrayGroup(e,t,r,n.coordinates),n)},r.prototype.polyFuncs=function(e){return"LineString"===e.type?(e.type="Polygon",e.coordinates=[e.coordinates],e):(e.coordinates=e.coordinates.reduce(t,[]),1===e.coordinates.length?(e.type="Polygon",e.coordinates=e.coordinates[0],e):(e.type="MultiPolygon",e))},r.prototype.parsePolygon=function(e){return this.polyFuncs(this.parsePolyline(e))},r.prototype.parseZPolygon=function(e){return this.polyFuncs(this.parseZPolyline(e))};var n={1:"parsePoint",3:"parsePolyline",5:"parsePolygon",8:"parseMultiPoint",11:"parseZPoint",13:"parseZPolyline",15:"parseZPolygon",18:"parseZMultiPoint"};function r(e,t){if(!(this instanceof r))return new r(e,t);this.buffer=e,this.shpFuncs(t),this.rows=this.getRows()}r.prototype.shpFuncs=function(e){var t,r=this.getShpCode();if(r>20&&(r-=20),!(r in n))throw new Error("I don't know that shp type");this.parseFunc=this[n[r]],this.parseCoord=(t=e)?function(e,n){return t.inverse([e.readDoubleLE(n),e.readDoubleLE(n+8)])}:function(e,t){return[e.readDoubleLE(t),e.readDoubleLE(t+8)]}},r.prototype.getShpCode=function(){return this.parseHeader().shpCode},r.prototype.parseHeader=function(){var e=this.buffer.slice(0,100);return{length:e.readInt32BE(24),version:e.readInt32LE(28),shpCode:e.readInt32LE(32),bbox:[e.readDoubleLE(36),e.readDoubleLE(44),e.readDoubleLE(52),e.readDoubleLE(52)]}},r.prototype.getRows=function(){for(var e,t=100,n=this.buffer.byteLength,r=[];t<n;)e=this.getRow(t),t+=8,t+=e.len,e.type&&r.push(this.parseFunc(e.data));return r},r.prototype.getRow=function(e){var t=this.buffer.slice(e,e+12),n=t.readInt32BE(4)<<1,r=this.buffer.slice(e+12,e+n+8);return{id:t.readInt32BE(0),len:n,data:r,type:t.readInt32LE(8)}},e.exports=function(e,t){return new r(e,t).rows}},32555:(e,t,n)=>{"use strict";var r=n(24938);e.exports=function(e){var t=new r(e).file(/.+/),n={};return t.forEach((function(e){"shp"===e.name.slice(-3).toLowerCase()||"dbf"===e.name.slice(-3).toLowerCase()?n[e.name]=e.asNodeBuffer():n[e.name]=e.asText()})),n}},83386:(e,t,n)=>{"use strict";var r=n(14352);function i(e){if(e){this.data=e,this.length=this.data.length,this.index=0,this.zero=0;for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}}i.prototype=new r,i.prototype.byteAt=function(e){return this.data[this.zero+e]},i.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),i=e.charCodeAt(3),o=this.length-4;o>=0;--o)if(this.data[o]===t&&this.data[o+1]===n&&this.data[o+2]===r&&this.data[o+3]===i)return o-this.zero;return-1},i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=i},59307:(e,t)=>{"use strict";var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.encode=function(e,t){for(var r,i,o,a,s,l,u,c="",f=0;f<e.length;)a=(r=e.charCodeAt(f++))>>2,s=(3&r)<<4|(i=e.charCodeAt(f++))>>4,l=(15&i)<<2|(o=e.charCodeAt(f++))>>6,u=63&o,isNaN(i)?l=u=64:isNaN(o)&&(u=64),c=c+n.charAt(a)+n.charAt(s)+n.charAt(l)+n.charAt(u);return c},t.decode=function(e,t){var r,i,o,a,s,l,u="",c=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");c<e.length;)r=n.indexOf(e.charAt(c++))<<2|(a=n.indexOf(e.charAt(c++)))>>4,i=(15&a)<<4|(s=n.indexOf(e.charAt(c++)))>>2,o=(3&s)<<6|(l=n.indexOf(e.charAt(c++))),u+=String.fromCharCode(r),64!=s&&(u+=String.fromCharCode(i)),64!=l&&(u+=String.fromCharCode(o));return u}},22117:e=>{"use strict";function t(){this.compressedSize=0,this.uncompressedSize=0,this.crc32=0,this.compressionMethod=null,this.compressedContent=null}t.prototype={getContent:function(){return null},getCompressedContent:function(){return null}},e.exports=t},47404:(e,t,n)=>{"use strict";t.STORE={magic:"\0\0",compress:function(e,t){return e},uncompress:function(e){return e},compressInputType:null,uncompressInputType:null},t.DEFLATE=n(43484)},14073:(e,t,n)=>{"use strict";var r=n(74570),i=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];e.exports=function(e,t){if(void 0===e||!e.length)return 0;var n="string"!==r.getTypeOf(e);void 0===t&&(t=0);var o=0;t^=-1;for(var a=0,s=e.length;a<s;a++)o=n?e[a]:e.charCodeAt(a),t=t>>>8^i[255&(t^o)];return-1^t}},14352:(e,t,n)=>{"use strict";var r=n(74570);function i(e){this.data=null,this.length=0,this.index=0,this.zero=0}i.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return r.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1)}},e.exports=i},34977:(e,t)=>{"use strict";t.base64=!1,t.binary=!1,t.dir=!1,t.createFolders=!1,t.date=null,t.compression=null,t.compressionOptions=null,t.comment=null,t.unixPermissions=null,t.dosPermissions=null},11455:(e,t,n)=>{"use strict";var r=n(74570);t.string2binary=function(e){return r.string2binary(e)},t.string2Uint8Array=function(e){return r.transformTo("uint8array",e)},t.uint8Array2String=function(e){return r.transformTo("string",e)},t.string2Blob=function(e){var t=r.transformTo("arraybuffer",e);return r.arrayBuffer2Blob(t)},t.arrayBuffer2Blob=function(e){return r.arrayBuffer2Blob(e)},t.transformTo=function(e,t){return r.transformTo(e,t)},t.getTypeOf=function(e){return r.getTypeOf(e)},t.checkSupport=function(e){return r.checkSupport(e)},t.MAX_VALUE_16BITS=r.MAX_VALUE_16BITS,t.MAX_VALUE_32BITS=r.MAX_VALUE_32BITS,t.pretty=function(e){return r.pretty(e)},t.findCompression=function(e){return r.findCompression(e)},t.isRegExp=function(e){return r.isRegExp(e)}},43484:(e,t,n)=>{"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,i=n(99591);t.uncompressInputType=r?"uint8array":"array",t.compressInputType=r?"uint8array":"array",t.magic="\b\0",t.compress=function(e,t){return i.deflateRaw(e,{level:t.level||-1})},t.uncompress=function(e){return i.inflateRaw(e)}},24938:(e,t,n)=>{"use strict";var r=n(59307);function i(e,t){if(!(this instanceof i))return new i(e,t);this.files={},this.comment=null,this.root="",e&&this.load(e,t),this.clone=function(){var e=new i;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}i.prototype=n(67659),i.prototype.load=n(36072),i.support=n(13752),i.defaults=n(34977),i.utils=n(11455),i.base64={encode:function(e){return r.encode(e)},decode:function(e){return r.decode(e)}},i.compressions=n(47404),e.exports=i},36072:(e,t,n)=>{"use strict";var r=n(59307),i=n(73097),o=n(74570),a=n(76727);e.exports=function(e,t){var n,s,l,u;for((t=o.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:i.utf8decode})).base64&&(e=r.decode(e)),n=(s=new a(e,t)).files,l=0;l<n.length;l++)u=n[l],this.file(u.fileNameStr,u.decompressed,{binary:!0,optimizedBinaryString:!0,date:u.date,dir:u.dir,comment:u.fileCommentStr.length?u.fileCommentStr:null,unixPermissions:u.unixPermissions,dosPermissions:u.dosPermissions,createFolders:t.createFolders});return s.zipComment.length&&(this.comment=s.zipComment),this}},43348:(e,t,n)=>{"use strict";var r=n(48764).Buffer;e.exports=function(e,t){return new r(e,t)},e.exports.test=function(e){return r.isBuffer(e)}},11830:(e,t,n)=>{"use strict";var r=n(17677);function i(e){this.data=e,this.length=this.data.length,this.index=0,this.zero=0}i.prototype=new r,i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=i},67659:(e,t,n)=>{"use strict";var r=n(13752),i=n(74570),o=n(14073),a=n(39407),s=n(34977),l=n(59307),u=n(47404),c=n(22117),f=n(43348),d=n(73097),p=n(57568),h=n(88367),g=function(e){if(e._data instanceof c&&(e._data=e._data.getContent(),e.options.binary=!0,e.options.base64=!1,"uint8array"===i.getTypeOf(e._data))){var t=e._data;e._data=new Uint8Array(t.length),0!==t.length&&e._data.set(t,0)}return e._data},m=function(e){var t=g(e);return"string"===i.getTypeOf(t)?!e.options.binary&&r.nodebuffer?f(t,"utf-8"):e.asBinary():t},y=function(e){var t=g(this);return null==t?"":(this.options.base64&&(t=l.decode(t)),t=e&&this.options.binary?O.utf8decode(t):i.transformTo("string",t),e||this.options.binary||(t=i.transformTo("string",O.utf8encode(t))),t)},v=function(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this.options=n,this._initialMetadata={dir:n.dir,date:n.date}};v.prototype={asText:function(){return y.call(this,!0)},asBinary:function(){return y.call(this,!1)},asNodeBuffer:function(){var e=m(this);return i.transformTo("nodebuffer",e)},asUint8Array:function(){var e=m(this);return i.transformTo("uint8array",e)},asArrayBuffer:function(){return this.asUint8Array().buffer}};var b=function(e,t){var n,r="";for(n=0;n<t;n++)r+=String.fromCharCode(255&e),e>>>=8;return r},x=function(e,t,n){var r,o=i.getTypeOf(t);if("string"==typeof(n=function(e){return!0!==(e=e||{}).base64||null!==e.binary&&void 0!==e.binary||(e.binary=!0),(e=i.extend(e,s)).date=e.date||new Date,null!==e.compression&&(e.compression=e.compression.toUpperCase()),e}(n)).unixPermissions&&(n.unixPermissions=parseInt(n.unixPermissions,8)),n.unixPermissions&&16384&n.unixPermissions&&(n.dir=!0),n.dosPermissions&&16&n.dosPermissions&&(n.dir=!0),n.dir&&(e=w(e)),n.createFolders&&(r=_(e))&&k.call(this,r,!0),n.dir||null==t)n.base64=!1,n.binary=!1,t=null,o=null;else if("string"===o)n.binary&&!n.base64&&!0!==n.optimizedBinaryString&&(t=i.string2binary(t));else{if(n.base64=!1,n.binary=!0,!(o||t instanceof c))throw new Error("The data of '"+e+"' is in an unsupported format !");"arraybuffer"===o&&(t=i.transformTo("uint8array",t))}var a=new v(e,t,n);return this.files[e]=a,a},_=function(e){"/"==e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return t>0?e.substring(0,t):""},w=function(e){return"/"!=e.slice(-1)&&(e+="/"),e},k=function(e,t){return t=void 0!==t&&t,e=w(e),this.files[e]||x.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]},T=function(e,t,n){var r,a=new c;return e._data instanceof c?(a.uncompressedSize=e._data.uncompressedSize,a.crc32=e._data.crc32,0===a.uncompressedSize||e.dir?(t=u.STORE,a.compressedContent="",a.crc32=0):e._data.compressionMethod===t.magic?a.compressedContent=e._data.getCompressedContent():(r=e._data.getContent(),a.compressedContent=t.compress(i.transformTo(t.compressInputType,r),n))):((r=m(e))&&0!==r.length&&!e.dir||(t=u.STORE,r=""),a.uncompressedSize=r.length,a.crc32=o(r),a.compressedContent=t.compress(i.transformTo(t.compressInputType,r),n)),a.compressedSize=a.compressedContent.length,a.compressionMethod=t.magic,a},C=function(e,t,n,r,s,l){n.compressedContent;var u,c,f,p,h=l!==d.utf8encode,g=i.transformTo("string",l(t.name)),m=i.transformTo("string",d.utf8encode(t.name)),y=t.comment||"",v=i.transformTo("string",l(y)),x=i.transformTo("string",d.utf8encode(y)),_=m.length!==t.name.length,w=x.length!==y.length,k=t.options,T="",C="",O="";f=t._initialMetadata.dir!==t.dir?t.dir:k.dir,p=t._initialMetadata.date!==t.date?t.date:k.date;var S,A,M=0,E=0;f&&(M|=16),"UNIX"===s?(E=798,M|=(A=S=t.unixPermissions,S||(A=f?16893:33204),(65535&A)<<16)):(E=20,M|=63&(t.dosPermissions||0)),u=p.getHours(),u<<=6,u|=p.getMinutes(),u<<=5,u|=p.getSeconds()/2,c=p.getFullYear()-1980,c<<=4,c|=p.getMonth()+1,c<<=5,c|=p.getDate(),_&&(C=b(1,1)+b(o(g),4)+m,T+="up"+b(C.length,2)+C),w&&(O=b(1,1)+b(this.crc32(v),4)+x,T+="uc"+b(O.length,2)+O);var P="";return P+="\n\0",P+=h||!_&&!w?"\0\0":"\0\b",P+=n.compressionMethod,P+=b(u,2),P+=b(c,2),P+=b(n.crc32,4),P+=b(n.compressedSize,4),P+=b(n.uncompressedSize,4),P+=b(g.length,2),P+=b(T.length,2),{fileRecord:a.LOCAL_FILE_HEADER+P+g+T,dirRecord:a.CENTRAL_FILE_HEADER+b(E,2)+P+b(v.length,2)+"\0\0\0\0"+b(M,4)+b(r,4)+g+T+v,compressedObject:n}},O={load:function(e,t){throw new Error("Load method is not defined. Is the file jszip-load.js included ?")},filter:function(e){var t,n,r,o,a=[];for(t in this.files)this.files.hasOwnProperty(t)&&(r=this.files[t],o=new v(r.name,r._data,i.extend(r.options)),n=t.slice(this.root.length,t.length),t.slice(0,this.root.length)===this.root&&e(n,o)&&a.push(o));return a},file:function(e,t,n){if(1===arguments.length){if(i.isRegExp(e)){var r=e;return this.filter((function(e,t){return!t.dir&&r.test(e)}))}return this.filter((function(t,n){return!n.dir&&t===e}))[0]||null}return e=this.root+e,x.call(this,e,t,n),this},folder:function(e){if(!e)return this;if(i.isRegExp(e))return this.filter((function(t,n){return n.dir&&e.test(t)}));var t=this.root+e,n=k.call(this,t),r=this.clone();return r.root=n.name,r},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!=e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter((function(t,n){return n.name.slice(0,e.length)===e})),r=0;r<n.length;r++)delete this.files[n[r].name];return this},generate:function(e){e=i.extend(e||{},{base64:!0,compression:"STORE",compressionOptions:null,type:"base64",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:d.utf8encode}),i.checkSupport(e.type),"darwin"!==e.platform&&"freebsd"!==e.platform&&"linux"!==e.platform&&"sunos"!==e.platform||(e.platform="UNIX"),"win32"===e.platform&&(e.platform="DOS");var t,n,r,o=[],s=0,c=0,f=i.transformTo("string",e.encodeFileName(e.comment||this.comment||""));for(var g in this.files)if(this.files.hasOwnProperty(g)){var m=this.files[g],y=m.options.compression||e.compression.toUpperCase(),v=u[y];if(!v)throw new Error(y+" is not a valid compression method !");var x=m.options.compressionOptions||e.compressionOptions||{},_=T.call(this,m,v,x),w=C.call(this,g,m,_,s,e.platform,e.encodeFileName);s+=w.fileRecord.length+_.compressedSize,c+=w.dirRecord.length,o.push(w)}r=a.CENTRAL_DIRECTORY_END+"\0\0\0\0"+b(o.length,2)+b(o.length,2)+b(c,4)+b(s,4)+b(f.length,2)+f;var k=e.type.toLowerCase();for(t="uint8array"===k||"arraybuffer"===k||"blob"===k||"nodebuffer"===k?new h(s+c+r.length):new p(s+c+r.length),n=0;n<o.length;n++)t.append(o[n].fileRecord),t.append(o[n].compressedObject.compressedContent);for(n=0;n<o.length;n++)t.append(o[n].dirRecord);t.append(r);var O=t.finalize();switch(e.type.toLowerCase()){case"uint8array":case"arraybuffer":case"nodebuffer":return i.transformTo(e.type.toLowerCase(),O);case"blob":return i.arrayBuffer2Blob(i.transformTo("arraybuffer",O),e.mimeType);case"base64":return e.base64?l.encode(O):O;default:return O}},crc32:function(e,t){return o(e,t)},utf8encode:function(e){return i.transformTo("string",d.utf8encode(e))},utf8decode:function(e){return d.utf8decode(e)}};e.exports=O},39407:(e,t)=>{"use strict";t.LOCAL_FILE_HEADER="PK",t.CENTRAL_FILE_HEADER="PK",t.CENTRAL_DIRECTORY_END="PK",t.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",t.ZIP64_CENTRAL_DIRECTORY_END="PK",t.DATA_DESCRIPTOR="PK\b"},92804:(e,t,n)=>{"use strict";var r=n(14352),i=n(74570);function o(e,t){this.data=e,t||(this.data=i.string2binary(this.data)),this.length=this.data.length,this.index=0,this.zero=0}o.prototype=new r,o.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},o.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},o.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=o},57568:(e,t,n)=>{"use strict";var r=n(74570),i=function(){this.data=[]};i.prototype={append:function(e){e=r.transformTo("string",e),this.data.push(e)},finalize:function(){return this.data.join("")}},e.exports=i},13752:(e,t,n)=>{"use strict";var r=n(48764).Buffer;if(t.base64=!0,t.array=!0,t.string=!0,t.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,t.nodebuffer=void 0!==r,t.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)t.blob=!1;else{var i=new ArrayBuffer(0);try{t.blob=0===new Blob([i],{type:"application/zip"}).size}catch(e){try{var o=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder);o.append(i),t.blob=0===o.getBlob("application/zip").size}catch(e){t.blob=!1}}}},17677:(e,t,n)=>{"use strict";var r=n(83386);function i(e){e&&(this.data=e,this.length=this.data.length,this.index=0,this.zero=0)}i.prototype=new r,i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=i},88367:(e,t,n)=>{"use strict";var r=n(74570),i=function(e){this.data=new Uint8Array(e),this.index=0};i.prototype={append:function(e){0!==e.length&&(e=r.transformTo("uint8array",e),this.data.set(e,this.index),this.index+=e.length)},finalize:function(){return this.data}},e.exports=i},73097:(e,t,n)=>{"use strict";for(var r=n(74570),i=n(13752),o=n(43348),a=new Array(256),s=0;s<256;s++)a[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;a[254]=a[254]=1;var l=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+a[e[n]]>t?n:t},u=function(e){var t,n,i,o,s=e.length,l=new Array(2*s);for(n=0,t=0;t<s;)if((i=e[t++])<128)l[n++]=i;else if((o=a[i])>4)l[n++]=65533,t+=o-1;else{for(i&=2===o?31:3===o?15:7;o>1&&t<s;)i=i<<6|63&e[t++],o--;o>1?l[n++]=65533:i<65536?l[n++]=i:(i-=65536,l[n++]=55296|i>>10&1023,l[n++]=56320|1023&i)}return l.length!==n&&(l.subarray?l=l.subarray(0,n):l.length=n),r.applyFromCharCode(l)};t.utf8encode=function(e){return i.nodebuffer?o(e,"utf-8"):function(e){var t,n,r,o,a,s=e.length,l=0;for(o=0;o<s;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=i.uint8array?new Uint8Array(l):new Array(l),a=0,o=0;a<l;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|63&n):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t}(e)},t.utf8decode=function(e){if(i.nodebuffer)return r.transformTo("nodebuffer",e).toString("utf-8");for(var t=[],n=0,o=(e=r.transformTo(i.uint8array?"uint8array":"array",e)).length;n<o;){var a=l(e,Math.min(n+65536,o));i.uint8array?t.push(u(e.subarray(n,a))):t.push(u(e.slice(n,a))),n=a}return t.join("")}},74570:(e,t,n)=>{"use strict";var r=n(13752),i=n(47404),o=n(43348);function a(e){return e}function s(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}function l(e){var n=65536,r=[],i=e.length,a=t.getTypeOf(e),s=0,l=!0;try{switch(a){case"uint8array":String.fromCharCode.apply(null,new Uint8Array(0));break;case"nodebuffer":String.fromCharCode.apply(null,o(0))}}catch(e){l=!1}if(!l){for(var u="",c=0;c<e.length;c++)u+=String.fromCharCode(e[c]);return u}for(;s<i&&n>1;)try{"array"===a||"nodebuffer"===a?r.push(String.fromCharCode.apply(null,e.slice(s,Math.min(s+n,i)))):r.push(String.fromCharCode.apply(null,e.subarray(s,Math.min(s+n,i)))),s+=n}catch(e){n=Math.floor(n/2)}return r.join("")}function u(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}t.string2binary=function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(255&e.charCodeAt(n));return t},t.arrayBuffer2Blob=function(e,n){t.checkSupport("blob"),n=n||"application/zip";try{return new Blob([e],{type:n})}catch(t){try{var r=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder);return r.append(e),r.getBlob(n)}catch(e){throw new Error("Bug : can't construct the Blob.")}}},t.applyFromCharCode=l;var c={};c.string={string:a,array:function(e){return s(e,new Array(e.length))},arraybuffer:function(e){return c.string.uint8array(e).buffer},uint8array:function(e){return s(e,new Uint8Array(e.length))},nodebuffer:function(e){return s(e,o(e.length))}},c.array={string:l,array:a,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o(e)}},c.arraybuffer={string:function(e){return l(new Uint8Array(e))},array:function(e){return u(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:a,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o(new Uint8Array(e))}},c.uint8array={string:l,array:function(e){return u(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:a,nodebuffer:function(e){return o(e)}},c.nodebuffer={string:l,array:function(e){return u(e,new Array(e.length))},arraybuffer:function(e){return c.nodebuffer.uint8array(e).buffer},uint8array:function(e){return u(e,new Uint8Array(e.length))},nodebuffer:a},t.transformTo=function(e,n){if(n||(n=""),!e)return n;t.checkSupport(e);var r=t.getTypeOf(n);return c[r][e](n)},t.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":r.nodebuffer&&o.test(e)?"nodebuffer":r.uint8array&&e instanceof Uint8Array?"uint8array":r.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},t.checkSupport=function(e){if(!r[e.toLowerCase()])throw new Error(e+" is not supported by this browser")},t.MAX_VALUE_16BITS=65535,t.MAX_VALUE_32BITS=-1,t.pretty=function(e){var t,n,r="";for(n=0;n<(e||"").length;n++)r+="\\x"+((t=e.charCodeAt(n))<16?"0":"")+t.toString(16).toUpperCase();return r},t.findCompression=function(e){for(var t in i)if(i.hasOwnProperty(t)&&i[t].magic===e)return i[t];return null},t.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},t.extend=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&void 0===n[t]&&(n[t]=arguments[e][t]);return n}},76727:(e,t,n)=>{"use strict";var r=n(92804),i=n(11830),o=n(17677),a=n(83386),s=n(74570),l=n(39407),u=n(23226),c=n(13752);function f(e,t){this.files=[],this.loadOptions=t,e&&this.load(e)}n(67659),f.prototype={checkSignature:function(e){var t=this.reader.readString(4);if(t!==e)throw new Error("Corrupted zip or bug : unexpected signature ("+s.pretty(t)+", expected "+s.pretty(e)+")")},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e);var r=this.reader.readString(4)===t;return this.reader.setIndex(n),r},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=c.uint8array?"uint8array":"array",n=s.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.versionMadeBy=this.reader.readString(2),this.versionNeeded=this.reader.readInt(2),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,r=this.zip64EndOfCentralSize-44;0<r;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readString(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(l.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readString(4)===l.CENTRAL_FILE_HEADER;)(e=new u({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(l.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,l.LOCAL_FILE_HEADER)?new Error("Corrupted zip : can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see http://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(l.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip : can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,l.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip : can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var r=t-n;if(r>0)this.isSignature(t,l.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(r<0)throw new Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")},prepareReader:function(e){var t=s.getTypeOf(e);if(s.checkSupport(t),"string"!==t||c.uint8array)if("nodebuffer"===t)this.reader=new i(e);else if(c.uint8array)this.reader=new o(s.transformTo("uint8array",e));else{if(!c.array)throw new Error("Unexpected error: unsupported type '"+t+"'");this.reader=new a(s.transformTo("array",e))}else this.reader=new r(e,this.loadOptions.optimizedBinaryString)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=f},23226:(e,t,n)=>{"use strict";var r=n(92804),i=n(74570),o=n(22117),a=n(67659),s=n(13752);function l(e,t){this.options=e,this.loadOptions=t}l.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},prepareCompressedContent:function(e,t,n){return function(){var r=e.index;e.setIndex(t);var i=e.readData(n);return e.setIndex(r),i}},prepareContent:function(e,t,n,r,o){return function(){var e=i.transformTo(r.uncompressInputType,this.getCompressedContent()),t=r.uncompress(e);if(t.length!==o)throw new Error("Bug : uncompressed data size mismatch");return t}},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),-1==this.compressedSize||-1==this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize == -1 || uncompressedSize == -1)");if(null===(t=i.findCompression(this.compressionMethod)))throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+i.transformTo("string",this.fileName)+")");if(this.decompressed=new o,this.decompressed.compressedSize=this.compressedSize,this.decompressed.uncompressedSize=this.uncompressedSize,this.decompressed.crc32=this.crc32,this.decompressed.compressionMethod=this.compressionMethod,this.decompressed.getCompressedContent=this.prepareCompressedContent(e,e.index,this.compressedSize,t),this.decompressed.getContent=this.prepareContent(e,e.index,this.compressedSize,t,this.uncompressedSize),this.loadOptions.checkCRC32&&(this.decompressed=i.transformTo("string",this.decompressed.getContent()),a.crc32(this.decompressed)!==this.crc32))throw new Error("Corrupted zip : CRC32 mismatch")},readCentralPart:function(e){if(this.versionMadeBy=e.readInt(2),this.versionNeeded=e.readInt(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4),this.fileNameLength=e.readInt(2),this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");this.fileName=e.readData(this.fileNameLength),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===e&&(this.dosPermissions=63&this.externalFileAttributes),3===e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(e){if(this.extraFields[1]){var t=new r(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(e){var t,n,r,i=e.index;for(this.extraFields=this.extraFields||{};e.index<i+this.extraFieldsLength;)t=e.readInt(2),n=e.readInt(2),r=e.readString(n),this.extraFields[t]={id:t,length:n,value:r}},handleUTF8:function(){var e=s.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=a.utf8decode(this.fileName),this.fileCommentStr=a.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var n=i.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var r=this.findExtraFieldUnicodeComment();if(null!==r)this.fileCommentStr=r;else{var o=i.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(o)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=new r(e.value);return 1!==t.readInt(1)||a.crc32(this.fileName)!==t.readInt(4)?null:a.utf8decode(t.readString(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=new r(e.value);return 1!==t.readInt(1)||a.crc32(this.fileComment)!==t.readInt(4)?null:a.utf8decode(t.readString(e.length-5))}return null}},e.exports=l},24216:e=>{var t=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],n=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function r(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}e.exports=function(e,i,o,a){if(!(isNaN(a)||a<1)){var s,l,u,c,f,d,p,h,g,m,y,v,b,x,_,w,k,T,C,O,S,A,M,E,P=(a|=0)+a+1,D=i-1,L=o-1,R=a+1,I=R*(R+1)/2,N=new r,j=N;for(u=1;u<P;u++)if(j=j.next=new r,u==R)var z=j;j.next=N;var q=null,F=null;p=d=0;var B=t[a],H=n[a];for(l=0;l<o;l++){for(w=k=T=C=h=g=m=y=0,v=R*(O=e[d]),b=R*(S=e[d+1]),x=R*(A=e[d+2]),_=R*(M=e[d+3]),h+=I*O,g+=I*S,m+=I*A,y+=I*M,j=N,u=0;u<R;u++)j.r=O,j.g=S,j.b=A,j.a=M,j=j.next;for(u=1;u<R;u++)c=d+((D<u?D:u)<<2),h+=(j.r=O=e[c])*(E=R-u),g+=(j.g=S=e[c+1])*E,m+=(j.b=A=e[c+2])*E,y+=(j.a=M=e[c+3])*E,w+=O,k+=S,T+=A,C+=M,j=j.next;for(q=N,F=z,s=0;s<i;s++)e[d+3]=M=y*B>>H,0!=M?(M=255/M,e[d]=(h*B>>H)*M,e[d+1]=(g*B>>H)*M,e[d+2]=(m*B>>H)*M):e[d]=e[d+1]=e[d+2]=0,h-=v,g-=b,m-=x,y-=_,v-=q.r,b-=q.g,x-=q.b,_-=q.a,c=p+((c=s+a+1)<D?c:D)<<2,h+=w+=q.r=e[c],g+=k+=q.g=e[c+1],m+=T+=q.b=e[c+2],y+=C+=q.a=e[c+3],q=q.next,v+=O=F.r,b+=S=F.g,x+=A=F.b,_+=M=F.a,w-=O,k-=S,T-=A,C-=M,F=F.next,d+=4;p+=i}for(s=0;s<i;s++){for(k=T=C=w=g=m=y=h=0,v=R*(O=e[d=s<<2]),b=R*(S=e[d+1]),x=R*(A=e[d+2]),_=R*(M=e[d+3]),h+=I*O,g+=I*S,m+=I*A,y+=I*M,j=N,u=0;u<R;u++)j.r=O,j.g=S,j.b=A,j.a=M,j=j.next;for(f=i,u=1;u<=a;u++)d=f+s<<2,h+=(j.r=O=e[d])*(E=R-u),g+=(j.g=S=e[d+1])*E,m+=(j.b=A=e[d+2])*E,y+=(j.a=M=e[d+3])*E,w+=O,k+=S,T+=A,C+=M,j=j.next,u<L&&(f+=i);for(d=s,q=N,F=z,l=0;l<o;l++)e[3+(c=d<<2)]=M=y*B>>H,M>0?(M=255/M,e[c]=(h*B>>H)*M,e[c+1]=(g*B>>H)*M,e[c+2]=(m*B>>H)*M):e[c]=e[c+1]=e[c+2]=0,h-=v,g-=b,m-=x,y-=_,v-=q.r,b-=q.g,x-=q.b,_-=q.a,c=s+((c=l+R)<L?c:L)*i<<2,h+=w+=q.r=e[c],g+=k+=q.g=e[c+1],m+=T+=q.b=e[c+2],y+=C+=q.a=e[c+3],q=q.next,v+=O=F.r,b+=S=F.g,x+=A=F.b,_+=M=F.a,w-=O,k-=S,T-=A,C-=M,F=F.next,d+=i}}}},43657:(e,t,n)=>{var r=n(98303);"string"==typeof r&&(r=[[e.id,r,""]]),n(14246)(r,{}),r.locals&&(e.exports=r.locals)},76752:(e,t,n)=>{var r=n(73488);"string"==typeof r&&(r=[[e.id,r,""]]),n(14246)(r,{}),r.locals&&(e.exports=r.locals)},2903:(e,t,n)=>{var r=n(84609);"string"==typeof r&&(r=[[e.id,r,""]]),n(14246)(r,{}),r.locals&&(e.exports=r.locals)},78908:(e,t,n)=>{var r=n(28022);"string"==typeof r&&(r=[[e.id,r,""]]),n(14246)(r,{}),r.locals&&(e.exports=r.locals)},29718:(e,t,n)=>{e.exports=n(59141)},59141:function(e,t,n){!function(t){"use strict";function r(e,t,n){return t<=e&&e<=n}e.exports&&!t["encoding-indexes"]&&n(72810);var i=Math.floor;function o(e){if(void 0===e)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}function a(e){return 0<=e&&e<=127}var s=a,l=-1;function u(e){this.tokens=[].slice.call(e),this.tokens.reverse()}u.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.pop():l},prepend:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.push(t.pop());else this.tokens.push(e)},push:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.unshift(t.shift());else this.tokens.unshift(e)}};var c=-1;function f(e,t){if(e)throw TypeError("Decoder error");return t||65533}function d(e){throw TypeError("The code point "+e+" could not be encoded.")}function p(e){return e=String(e).trim().toLowerCase(),Object.prototype.hasOwnProperty.call(g,e)?g[e]:null}var h=[{encodings:[{labels:["unicode-1-1-utf-8","utf-8","utf8"],name:"UTF-8"}],heading:"The Encoding"},{encodings:[{labels:["866","cp866","csibm866","ibm866"],name:"IBM866"},{labels:["csisolatin2","iso-8859-2","iso-ir-101","iso8859-2","iso88592","iso_8859-2","iso_8859-2:1987","l2","latin2"],name:"ISO-8859-2"},{labels:["csisolatin3","iso-8859-3","iso-ir-109","iso8859-3","iso88593","iso_8859-3","iso_8859-3:1988","l3","latin3"],name:"ISO-8859-3"},{labels:["csisolatin4","iso-8859-4","iso-ir-110","iso8859-4","iso88594","iso_8859-4","iso_8859-4:1988","l4","latin4"],name:"ISO-8859-4"},{labels:["csisolatincyrillic","cyrillic","iso-8859-5","iso-ir-144","iso8859-5","iso88595","iso_8859-5","iso_8859-5:1988"],name:"ISO-8859-5"},{labels:["arabic","asmo-708","csiso88596e","csiso88596i","csisolatinarabic","ecma-114","iso-8859-6","iso-8859-6-e","iso-8859-6-i","iso-ir-127","iso8859-6","iso88596","iso_8859-6","iso_8859-6:1987"],name:"ISO-8859-6"},{labels:["csisolatingreek","ecma-118","elot_928","greek","greek8","iso-8859-7","iso-ir-126","iso8859-7","iso88597","iso_8859-7","iso_8859-7:1987","sun_eu_greek"],name:"ISO-8859-7"},{labels:["csiso88598e","csisolatinhebrew","hebrew","iso-8859-8","iso-8859-8-e","iso-ir-138","iso8859-8","iso88598","iso_8859-8","iso_8859-8:1988","visual"],name:"ISO-8859-8"},{labels:["csiso88598i","iso-8859-8-i","logical"],name:"ISO-8859-8-I"},{labels:["csisolatin6","iso-8859-10","iso-ir-157","iso8859-10","iso885910","l6","latin6"],name:"ISO-8859-10"},{labels:["iso-8859-13","iso8859-13","iso885913"],name:"ISO-8859-13"},{labels:["iso-8859-14","iso8859-14","iso885914"],name:"ISO-8859-14"},{labels:["csisolatin9","iso-8859-15","iso8859-15","iso885915","iso_8859-15","l9"],name:"ISO-8859-15"},{labels:["iso-8859-16"],name:"ISO-8859-16"},{labels:["cskoi8r","koi","koi8","koi8-r","koi8_r"],name:"KOI8-R"},{labels:["koi8-ru","koi8-u"],name:"KOI8-U"},{labels:["csmacintosh","mac","macintosh","x-mac-roman"],name:"macintosh"},{labels:["dos-874","iso-8859-11","iso8859-11","iso885911","tis-620","windows-874"],name:"windows-874"},{labels:["cp1250","windows-1250","x-cp1250"],name:"windows-1250"},{labels:["cp1251","windows-1251","x-cp1251"],name:"windows-1251"},{labels:["ansi_x3.4-1968","ascii","cp1252","cp819","csisolatin1","ibm819","iso-8859-1","iso-ir-100","iso8859-1","iso88591","iso_8859-1","iso_8859-1:1987","l1","latin1","us-ascii","windows-1252","x-cp1252"],name:"windows-1252"},{labels:["cp1253","windows-1253","x-cp1253"],name:"windows-1253"},{labels:["cp1254","csisolatin5","iso-8859-9","iso-ir-148","iso8859-9","iso88599","iso_8859-9","iso_8859-9:1989","l5","latin5","windows-1254","x-cp1254"],name:"windows-1254"},{labels:["cp1255","windows-1255","x-cp1255"],name:"windows-1255"},{labels:["cp1256","windows-1256","x-cp1256"],name:"windows-1256"},{labels:["cp1257","windows-1257","x-cp1257"],name:"windows-1257"},{labels:["cp1258","windows-1258","x-cp1258"],name:"windows-1258"},{labels:["x-mac-cyrillic","x-mac-ukrainian"],name:"x-mac-cyrillic"}],heading:"Legacy single-byte encodings"},{encodings:[{labels:["chinese","csgb2312","csiso58gb231280","gb2312","gb_2312","gb_2312-80","gbk","iso-ir-58","x-gbk"],name:"GBK"},{labels:["gb18030"],name:"gb18030"}],heading:"Legacy multi-byte Chinese (simplified) encodings"},{encodings:[{labels:["big5","big5-hkscs","cn-big5","csbig5","x-x-big5"],name:"Big5"}],heading:"Legacy multi-byte Chinese (traditional) encodings"},{encodings:[{labels:["cseucpkdfmtjapanese","euc-jp","x-euc-jp"],name:"EUC-JP"},{labels:["csiso2022jp","iso-2022-jp"],name:"ISO-2022-JP"},{labels:["csshiftjis","ms932","ms_kanji","shift-jis","shift_jis","sjis","windows-31j","x-sjis"],name:"Shift_JIS"}],heading:"Legacy multi-byte Japanese encodings"},{encodings:[{labels:["cseuckr","csksc56011987","euc-kr","iso-ir-149","korean","ks_c_5601-1987","ks_c_5601-1989","ksc5601","ksc_5601","windows-949"],name:"EUC-KR"}],heading:"Legacy multi-byte Korean encodings"},{encodings:[{labels:["csiso2022kr","hz-gb-2312","iso-2022-cn","iso-2022-cn-ext","iso-2022-kr"],name:"replacement"},{labels:["utf-16be"],name:"UTF-16BE"},{labels:["utf-16","utf-16le"],name:"UTF-16LE"},{labels:["x-user-defined"],name:"x-user-defined"}],heading:"Legacy miscellaneous encodings"}],g={};h.forEach((function(e){e.encodings.forEach((function(e){e.labels.forEach((function(t){g[t]=e}))}))}));var m,y,v={},b={};function x(e,t){return t&&t[e]||null}function _(e,t){var n=t.indexOf(e);return-1===n?null:n}function w(e){if(!("encoding-indexes"in t))throw Error("Indexes missing. Did you forget to include encoding-indexes.js first?");return t["encoding-indexes"][e]}var k="utf-8";function T(e,t){if(!(this instanceof T))throw TypeError("Called as a function. Did you forget 'new'?");e=void 0!==e?String(e):k,t=o(t),this._encoding=null,this._decoder=null,this._ignoreBOM=!1,this._BOMseen=!1,this._error_mode="replacement",this._do_not_flush=!1;var n=p(e);if(null===n||"replacement"===n.name)throw RangeError("Unknown encoding: "+e);if(!b[n.name])throw Error("Decoder not present. Did you forget to include encoding-indexes.js first?");var r=this;return r._encoding=n,Boolean(t.fatal)&&(r._error_mode="fatal"),Boolean(t.ignoreBOM)&&(r._ignoreBOM=!0),Object.defineProperty||(this.encoding=r._encoding.name.toLowerCase(),this.fatal="fatal"===r._error_mode,this.ignoreBOM=r._ignoreBOM),r}function C(e,n){if(!(this instanceof C))throw TypeError("Called as a function. Did you forget 'new'?");n=o(n),this._encoding=null,this._encoder=null,this._do_not_flush=!1,this._fatal=Boolean(n.fatal)?"fatal":"replacement";var r=this;if(Boolean(n.NONSTANDARD_allowLegacyEncoding)){var i=p(e=void 0!==e?String(e):k);if(null===i||"replacement"===i.name)throw RangeError("Unknown encoding: "+e);if(!v[i.name])throw Error("Encoder not present. Did you forget to include encoding-indexes.js first?");r._encoding=i}else r._encoding=p("utf-8"),void 0!==e&&"console"in t&&console.warn("TextEncoder constructor called with encoding label, which is ignored.");return Object.defineProperty||(this.encoding=r._encoding.name.toLowerCase()),r}function O(e){var t=e.fatal,n=0,i=0,o=0,a=128,s=191;this.handler=function(e,u){if(u===l&&0!==o)return o=0,f(t);if(u===l)return c;if(0===o){if(r(u,0,127))return u;if(r(u,194,223))o=1,n=31&u;else if(r(u,224,239))224===u&&(a=160),237===u&&(s=159),o=2,n=15&u;else{if(!r(u,240,244))return f(t);240===u&&(a=144),244===u&&(s=143),o=3,n=7&u}return null}if(!r(u,a,s))return n=o=i=0,a=128,s=191,e.prepend(u),f(t);if(a=128,s=191,n=n<<6|63&u,(i+=1)!==o)return null;var d=n;return n=o=i=0,d}}function S(e){e.fatal,this.handler=function(e,t){if(t===l)return c;if(s(t))return t;var n,i;r(t,128,2047)?(n=1,i=192):r(t,2048,65535)?(n=2,i=224):r(t,65536,1114111)&&(n=3,i=240);for(var o=[(t>>6*n)+i];n>0;){var a=t>>6*(n-1);o.push(128|63&a),n-=1}return o}}function A(e,t){var n=t.fatal;this.handler=function(t,r){if(r===l)return c;if(a(r))return r;var i=e[r-128];return null===i?f(n):i}}function M(e,t){t.fatal,this.handler=function(t,n){if(n===l)return c;if(s(n))return n;var r=_(n,e);return null===r&&d(n),r+128}}function E(e){var t=e.fatal,n=0,i=0,o=0;this.handler=function(e,s){if(s===l&&0===n&&0===i&&0===o)return c;var u;if(s!==l||0===n&&0===i&&0===o||(n=0,i=0,o=0,f(t)),0!==o){u=null,r(s,48,57)&&(u=function(e){if(e>39419&&e<189e3||e>1237575)return null;if(7457===e)return 59335;var t,n=0,r=0,i=w("gb18030-ranges");for(t=0;t<i.length;++t){var o=i[t];if(!(o[0]<=e))break;n=o[0],r=o[1]}return r+e-n}(10*(126*(10*(n-129)+i-48)+o-129)+s-48));var d=[i,o,s];return n=0,i=0,o=0,null===u?(e.prepend(d),f(t)):u}if(0!==i)return r(s,129,254)?(o=s,null):(e.prepend([i,s]),n=0,i=0,f(t));if(0!==n){if(r(s,48,57))return i=s,null;var p=n,h=null;n=0;var g=s<127?64:65;return(r(s,64,126)||r(s,128,254))&&(h=190*(p-129)+(s-g)),null===(u=null===h?null:x(h,w("gb18030")))&&a(s)&&e.prepend(s),null===u?f(t):u}return a(s)?s:128===s?8364:r(s,129,254)?(n=s,null):f(t)}}function P(e,t){e.fatal,this.handler=function(e,n){if(n===l)return c;if(s(n))return n;if(58853===n)return d(n);if(t&&8364===n)return 128;var r=_(n,w("gb18030"));if(null!==r){var o=r%190;return[i(r/190)+129,o+(o<63?64:65)]}if(t)return d(n);r=function(e){if(59335===e)return 7457;var t,n=0,r=0,i=w("gb18030-ranges");for(t=0;t<i.length;++t){var o=i[t];if(!(o[1]<=e))break;n=o[1],r=o[0]}return r+e-n}(n);var a=i(r/10/126/10),u=i((r-=10*a*126*10)/10/126),f=i((r-=10*u*126)/10);return[a+129,u+48,f+129,r-10*f+48]}}function D(e){var t=e.fatal,n=0;this.handler=function(e,i){if(i===l&&0!==n)return n=0,f(t);if(i===l&&0===n)return c;if(0!==n){var o=n,s=null;n=0;var u=i<127?64:98;switch((r(i,64,126)||r(i,161,254))&&(s=157*(o-129)+(i-u)),s){case 1133:return[202,772];case 1135:return[202,780];case 1164:return[234,772];case 1166:return[234,780]}var d=null===s?null:x(s,w("big5"));return null===d&&a(i)&&e.prepend(i),null===d?f(t):d}return a(i)?i:r(i,129,254)?(n=i,null):f(t)}}function L(e){e.fatal,this.handler=function(e,t){if(t===l)return c;if(s(t))return t;var n=function(e){var t=y=y||w("big5").map((function(e,t){return t<5024?null:e}));return 9552===e||9566===e||9569===e||9578===e||21313===e||21317===e?t.lastIndexOf(e):_(e,t)}(t);if(null===n)return d(t);var r=i(n/157)+129;if(r<161)return d(t);var o=n%157;return[r,o+(o<63?64:98)]}}function R(e){var t=e.fatal,n=!1,i=0;this.handler=function(e,o){if(o===l&&0!==i)return i=0,f(t);if(o===l&&0===i)return c;if(142===i&&r(o,161,223))return i=0,65216+o;if(143===i&&r(o,161,254))return n=!0,i=o,null;if(0!==i){var s=i;i=0;var u=null;return r(s,161,254)&&r(o,161,254)&&(u=x(94*(s-161)+(o-161),w(n?"jis0212":"jis0208"))),n=!1,r(o,161,254)||e.prepend(o),null===u?f(t):u}return a(o)?o:142===o||143===o||r(o,161,254)?(i=o,null):f(t)}}function I(e){e.fatal,this.handler=function(e,t){if(t===l)return c;if(s(t))return t;if(165===t)return 92;if(8254===t)return 126;if(r(t,65377,65439))return[142,t-65377+161];8722===t&&(t=65293);var n=_(t,w("jis0208"));return null===n?d(t):[i(n/94)+161,n%94+161]}}function N(e){var t=e.fatal,n=0,i=0,o=!1;this.handler=function(e,a){switch(n){default:case 0:return 27===a?(n=5,null):r(a,0,127)&&14!==a&&15!==a&&27!==a?(o=!1,a):a===l?c:(o=!1,f(t));case 1:return 27===a?(n=5,null):92===a?(o=!1,165):126===a?(o=!1,8254):r(a,0,127)&&14!==a&&15!==a&&27!==a&&92!==a&&126!==a?(o=!1,a):a===l?c:(o=!1,f(t));case 2:return 27===a?(n=5,null):r(a,33,95)?(o=!1,65344+a):a===l?c:(o=!1,f(t));case 3:return 27===a?(n=5,null):r(a,33,126)?(o=!1,i=a,n=4,null):a===l?c:(o=!1,f(t));case 4:if(27===a)return n=5,f(t);if(r(a,33,126)){n=3;var s=x(94*(i-33)+a-33,w("jis0208"));return null===s?f(t):s}return a===l?(n=3,e.prepend(a),f(t)):(n=3,f(t));case 5:return 36===a||40===a?(i=a,n=6,null):(e.prepend(a),o=!1,n=0,f(t));case 6:var u=i;i=0;var d=null;if(40===u&&66===a&&(d=0),40===u&&74===a&&(d=1),40===u&&73===a&&(d=2),36!==u||64!==a&&66!==a||(d=3),null!==d){n=n=d;var p=o;return o=!0,p?f(t):null}return e.prepend([u,a]),o=!1,n=0,f(t)}}}function j(e){e.fatal;var t=0;this.handler=function(e,n){if(n===l&&0!==t)return e.prepend(n),t=0,[27,40,66];if(n===l&&0===t)return c;if(!(0!==t&&1!==t||14!==n&&15!==n&&27!==n))return d(65533);if(0===t&&s(n))return n;if(1===t&&(s(n)&&92!==n&&126!==n||165==n||8254==n)){if(s(n))return n;if(165===n)return 92;if(8254===n)return 126}if(s(n)&&0!==t)return e.prepend(n),t=0,[27,40,66];if((165===n||8254===n)&&1!==t)return e.prepend(n),t=1,[27,40,74];8722===n&&(n=65293);var r=_(n,w("jis0208"));return null===r?d(n):2!==t?(e.prepend(n),t=2,[27,36,66]):[i(r/94)+33,r%94+33]}}function z(e){var t=e.fatal,n=0;this.handler=function(e,i){if(i===l&&0!==n)return n=0,f(t);if(i===l&&0===n)return c;if(0!==n){var o=n,s=null;n=0;var u=i<127?64:65,d=o<160?129:193;if((r(i,64,126)||r(i,128,252))&&(s=188*(o-d)+i-u),r(s,8836,10715))return 48508+s;var p=null===s?null:x(s,w("jis0208"));return null===p&&a(i)&&e.prepend(i),null===p?f(t):p}return a(i)||128===i?i:r(i,161,223)?65216+i:r(i,129,159)||r(i,224,252)?(n=i,null):f(t)}}function q(e){e.fatal,this.handler=function(e,t){if(t===l)return c;if(s(t)||128===t)return t;if(165===t)return 92;if(8254===t)return 126;if(r(t,65377,65439))return t-65377+161;8722===t&&(t=65293);var n=function(e){return(m=m||w("jis0208").map((function(e,t){return r(t,8272,8835)?null:e}))).indexOf(e)}(t);if(null===n)return d(t);var o=i(n/188),a=n%188;return[o+(o<31?129:193),a+(a<63?64:65)]}}function F(e){var t=e.fatal,n=0;this.handler=function(e,i){if(i===l&&0!==n)return n=0,f(t);if(i===l&&0===n)return c;if(0!==n){var o=n,s=null;n=0,r(i,65,254)&&(s=190*(o-129)+(i-65));var u=null===s?null:x(s,w("euc-kr"));return null===s&&a(i)&&e.prepend(i),null===u?f(t):u}return a(i)?i:r(i,129,254)?(n=i,null):f(t)}}function B(e){e.fatal,this.handler=function(e,t){if(t===l)return c;if(s(t))return t;var n=_(t,w("euc-kr"));return null===n?d(t):[i(n/190)+129,n%190+65]}}function H(e,t){var n=e>>8,r=255&e;return t?[n,r]:[r,n]}function U(e,t){var n=t.fatal,i=null,o=null;this.handler=function(t,a){if(a===l&&(null!==i||null!==o))return f(n);if(a===l&&null===i&&null===o)return c;if(null===i)return i=a,null;var s;if(s=e?(i<<8)+a:(a<<8)+i,i=null,null!==o){var u=o;return o=null,r(s,56320,57343)?65536+1024*(u-55296)+(s-56320):(t.prepend(H(s,e)),f(n))}return r(s,55296,56319)?(o=s,null):r(s,56320,57343)?f(n):s}}function V(e,t){t.fatal,this.handler=function(t,n){if(n===l)return c;if(r(n,0,65535))return H(n,e);var i=H(55296+(n-65536>>10),e),o=H(56320+(n-65536&1023),e);return i.concat(o)}}function W(e){e.fatal,this.handler=function(e,t){return t===l?c:a(t)?t:63360+t-128}}function G(e){e.fatal,this.handler=function(e,t){return t===l?c:s(t)?t:r(t,63360,63487)?t-63360+128:d(t)}}Object.defineProperty&&(Object.defineProperty(T.prototype,"encoding",{get:function(){return this._encoding.name.toLowerCase()}}),Object.defineProperty(T.prototype,"fatal",{get:function(){return"fatal"===this._error_mode}}),Object.defineProperty(T.prototype,"ignoreBOM",{get:function(){return this._ignoreBOM}})),T.prototype.decode=function(e,t){var n;n="object"==typeof e&&e instanceof ArrayBuffer?new Uint8Array(e):"object"==typeof e&&"buffer"in e&&e.buffer instanceof ArrayBuffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(0),t=o(t),this._do_not_flush||(this._decoder=b[this._encoding.name]({fatal:"fatal"===this._error_mode}),this._BOMseen=!1),this._do_not_flush=Boolean(t.stream);for(var r,i=new u(n),a=[];;){var s=i.read();if(s===l)break;if((r=this._decoder.handler(i,s))===c)break;null!==r&&(Array.isArray(r)?a.push.apply(a,r):a.push(r))}if(!this._do_not_flush){do{if((r=this._decoder.handler(i,i.read()))===c)break;null!==r&&(Array.isArray(r)?a.push.apply(a,r):a.push(r))}while(!i.endOfStream());this._decoder=null}return function(e){var t,n;return t=["UTF-8","UTF-16LE","UTF-16BE"],n=this._encoding.name,-1===t.indexOf(n)||this._ignoreBOM||this._BOMseen||(e.length>0&&65279===e[0]?(this._BOMseen=!0,e.shift()):e.length>0&&(this._BOMseen=!0)),function(e){for(var t="",n=0;n<e.length;++n){var r=e[n];r<=65535?t+=String.fromCharCode(r):(r-=65536,t+=String.fromCharCode(55296+(r>>10),56320+(1023&r)))}return t}(e)}.call(this,a)},Object.defineProperty&&Object.defineProperty(C.prototype,"encoding",{get:function(){return this._encoding.name.toLowerCase()}}),C.prototype.encode=function(e,t){e=void 0===e?"":String(e),t=o(t),this._do_not_flush||(this._encoder=v[this._encoding.name]({fatal:"fatal"===this._fatal})),this._do_not_flush=Boolean(t.stream);for(var n,r=new u(function(e){for(var t=String(e),n=t.length,r=0,i=[];r<n;){var o=t.charCodeAt(r);if(o<55296||o>57343)i.push(o);else if(56320<=o&&o<=57343)i.push(65533);else if(55296<=o&&o<=56319)if(r===n-1)i.push(65533);else{var a=t.charCodeAt(r+1);if(56320<=a&&a<=57343){var s=1023&o,l=1023&a;i.push(65536+(s<<10)+l),r+=1}else i.push(65533)}r+=1}return i}(e)),i=[];;){var a=r.read();if(a===l)break;if((n=this._encoder.handler(r,a))===c)break;Array.isArray(n)?i.push.apply(i,n):i.push(n)}if(!this._do_not_flush){for(;(n=this._encoder.handler(r,r.read()))!==c;)Array.isArray(n)?i.push.apply(i,n):i.push(n);this._encoder=null}return new Uint8Array(i)},v["UTF-8"]=function(e){return new S(e)},b["UTF-8"]=function(e){return new O(e)},"encoding-indexes"in t&&h.forEach((function(e){"Legacy single-byte encodings"===e.heading&&e.encodings.forEach((function(e){var t=e.name,n=w(t.toLowerCase());b[t]=function(e){return new A(n,e)},v[t]=function(e){return new M(n,e)}}))})),b.GBK=function(e){return new E(e)},v.GBK=function(e){return new P(e,!0)},v.gb18030=function(e){return new P(e)},b.gb18030=function(e){return new E(e)},v.Big5=function(e){return new L(e)},b.Big5=function(e){return new D(e)},v["EUC-JP"]=function(e){return new I(e)},b["EUC-JP"]=function(e){return new R(e)},v["ISO-2022-JP"]=function(e){return new j(e)},b["ISO-2022-JP"]=function(e){return new N(e)},v.Shift_JIS=function(e){return new q(e)},b.Shift_JIS=function(e){return new z(e)},v["EUC-KR"]=function(e){return new B(e)},b["EUC-KR"]=function(e){return new F(e)},v["UTF-16BE"]=function(e){return new V(!0,e)},b["UTF-16BE"]=function(e){return new U(!0,e)},v["UTF-16LE"]=function(e){return new V(!1,e)},b["UTF-16LE"]=function(e){return new U(!1,e)},v["x-user-defined"]=function(e){return new G(e)},b["x-user-defined"]=function(e){return new W(e)},t.TextEncoder||(t.TextEncoder=C),t.TextDecoder||(t.TextDecoder=T),e.exports&&(e.exports={TextEncoder:t.TextEncoder,TextDecoder:t.TextDecoder,EncodingIndexes:t["encoding-indexes"]})}(this||{})},80893:(e,t,n)=>{"use strict";var r=n(48764).Buffer;function i(e){return"[object Arguments]"===Object.prototype.toString.call(e)}e.exports=function(e,t){return a(e,t,[],[])};var o=/\btmatch\b/.test({NODE_ENV:"production"}.NODE_DEBUG||"")?console.error:function(){};function a(e,t,n,s){if(o("TMATCH",typeof e,t),e==t)return o("TMATCH same object or simple value, or problem"),null===e||null===t||"object"==typeof e&&"object"==typeof t||("object"!=typeof e||"object"==typeof t)&&("object"==typeof e||"object"!=typeof t);if(null===e||null===t)return o("TMATCH null test, already failed =="),!1;if("string"==typeof e&&t instanceof RegExp)return o("TMATCH string~=regexp test"),t.test(e);if("string"==typeof e&&"string"==typeof t&&t)return o("TMATCH string~=string test"),-1!==e.indexOf(t);if(e instanceof Date&&t instanceof Date)return o("TMATCH date test"),e.getTime()===t.getTime();if(e instanceof Date&&"string"==typeof t)return o("TMATCH date~=string test"),e.getTime()===new Date(t).getTime();if(i(e)||i(t)){o("TMATCH arguments test");var l=Array.prototype.slice;return a(l.call(e),l.call(t),n,s)}if(t===r)return o("TMATCH Buffer ctor"),r.isBuffer(e);if(t===Function)return o("TMATCH Function ctor"),"function"==typeof e;if(t===Number)return o("TMATCH Number ctor (finite, not NaN)"),"number"==typeof e&&e==e&&isFinite(e);if(t!=t)return o("TMATCH NaN"),e!=e;if(t===String)return o("TMATCH String ctor"),"string"==typeof e;if(t===Boolean)return o("TMATCH Boolean ctor"),"boolean"==typeof e;if(t===Array)return o("TMATCH Array ctor",t,Array.isArray(e)),Array.isArray(e);if("function"==typeof t&&"object"==typeof e)return o("TMATCH object~=function"),e instanceof t;if("object"!=typeof e||"object"!=typeof t)return o("TMATCH obj is not object, pattern is not object, false"),!1;if(e instanceof RegExp&&t instanceof RegExp)return o("TMATCH regexp~=regexp test"),e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(r.isBuffer(e)&&r.isBuffer(t)){if(o("TMATCH buffer test"),e.equals)return e.equals(t);if(e.length!==t.length)return!1;for(var u=0;u<e.length;u++)if(e[u]!=t[u])return!1;return!0}o("TMATCH object~=object test");var c=Object.keys(e),f=Object.keys(t);if(o("  TMATCH patternkeys=%j objkeys=%j",f,c),0===c.length&&0===f.length)return!0;o("  TMATCH check seen objects...");for(var d,p=n.length;p--;)if(n[p]===e&&s[p]===t)return!0;n.push(e),s.push(t),o("  TMATCH not seen previously");for(var h=f.length-1;h>=0;h--)if(d=f[h],o("  TMATCH test obj[%j]",d,e[d],t[d]),!a(e[d],t[d],n,s))return!1;return n.pop(),s.pop(),o("  TMATCH object pass"),!0}},11742:e=>{e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach((function(t){e.addRange(t)})),t&&t.focus()}}}}]);