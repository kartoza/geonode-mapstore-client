(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[9173,5701],{8026:(e,t,r)=>{var n={"./cesium/plugins/index":72531,"./leaflet/index":73653,"./leaflet/plugins/index":35701,"./openlayers/index":39190,"./openlayers/plugins/index":3498,"./popups/index":21751};function o(e){var t=i(e);return r(t)}function i(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=i,e.exports=o,o.id=8026},14807:(e,t,r)=>{var n={"./cesium/plugins/index":72531,"./leaflet/plugins/index":35701,"./openlayers/plugins/index":3498};function o(e){var t=i(e);return r(t)}function i(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=i,e.exports=o,o.id=14807},73653:(e,t,r)=>{"use strict";r.r(t),r.d(t,{LLayer:()=>m,LMap:()=>d,MeasurementSupport:()=>h,Overview:()=>g,ScaleBar:()=>b,Feature:()=>v,default:()=>O});var n=r(52792),o=r(39726),i=r.n(o),a=r(42047),l=r.n(a),s=r(21975),c=r.n(s),p=r(20564),u=r.n(p),f=r(44948),y=r.n(f),m=n.Z,d=i(),h=l(),g=c(),b=u(),v=y();const O={LLayer:m,LMap:d,MeasurementSupport:h,Overview:g,ScaleBar:b,Feature:v}},61444:(e,t,r)=>{"use strict";r.r(t);var n=r(56307),o=r.n(n),i=r(44712),a=r.n(i),l=(r(71851),r(27418)),s=r.n(l);o().BingLayer.prototype.loadMetadata=function(){if(!this.metaRequested){this.metaRequested=!0;var e=this,t="_bing_metadata_"+o().Util.stamp(this);window[t]=function(r){e.meta=r,window[t]=void 0;var n=document.getElementById(t);return n.parentNode.removeChild(n),r.errorDetails?(e.fire("load",{layer:e}),e.onError(r)):(e.initMetadata(r),null)};var r="file:"===document.location.protocol?"https":document.location.protocol.slice(0,-1),n=r+"://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+this.options.type+"?include=ImageryProviders&jsonp="+t+"&key="+this._key+"&UriScheme="+r,i=document.createElement("script");i.type="text/javascript",i.src=n,i.id=t,document.getElementsByTagName("head")[0].appendChild(i)}},o().BingLayer.prototype.onError=function(e){return this.options.onError?this.options.onError(e):null},a().registerType("bing",{create:function(e){var t=e.apiKey,r={subdomains:[0,1,2,3],type:e.name,attribution:"Bing",culture:"",onError:e.onError,maxNativeZoom:e.maxNativeZoom||19,maxZoom:e.maxZoom||23};return e.zoomOffset&&(r=s()({},r,{zoomOffset:e.zoomOffset})),new(o().BingLayer)(t,r)},isValid:function(e){return!e.meta||!e.meta.statusCode||200===e.meta.statusCode}})},51735:(e,t,r)=>{var n=r(56307);e.exports=n.TileLayer.extend({initialize:function(e){n.TileLayer.prototype.initialize.call(this,this.url,e)}})},26696:(e,t,r)=>{"use strict";r.r(t);var n=r(44712),o=r.n(n),i=r(56307),a=r.n(i);r(14767),o().registerType("google",(function(e){return a().gridLayer.googleMutant({type:e.name.toLowerCase(),maxNativeZoom:e.maxNativeZoom||18,maxZoom:e.maxZoom||20})}))},90671:(e,t,r)=>{"use strict";r.r(t);var n=r(44712),o=r.n(n),i=r(71305),a=r.n(i),l=r(27418),s=r.n(l);r(17820),o().registerType("graticule",{create:function(e){var t=s()({interval:20,showOriginLabel:!0,redraw:"move"},e);return a()?new(a())(t):null},isValid:function(){return!!a()}})},52031:(e,t,r)=>{"use strict";r.r(t);var n=r(44712),o=r.n(n),i=r(57167),a=r.n(i);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}o().registerType("mapquest",{create:function(e){return a()?a().mapLayer(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({maxZoom:23},e)):(e&&e.onError&&e.onError(),!1)},isValid:function(){return!!a()}})},51254:(e,t,r)=>{"use strict";r.r(t);var n=r(44712),o=r.n(n),i=r(56307),a=r.n(i);o().registerType("osm",(function(e){return a().tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',zoomOffset:e.zoomOffset||0,maxNativeZoom:e.maxNativeZoom||19,maxZoom:e.maxZoom||23})}))},35659:(e,t,r)=>{"use strict";r.r(t);var n=r(44712),o=r.n(n),i=r(56307),a=r.n(i);o().registerType("tms",(function(e){return a().tileLayer("".concat(e.tileMapUrl,"/{z}/{x}/{y}.").concat(e.extension),{hideErrors:e.hideErrors||!0,tms:!0})}))},70826:(e,t,r)=>{"use strict";r.r(t);var n=r(44712),o=r.n(n),i=r(56307),a=r.n(i),l=r(45992);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}o().registerType("tileprovider",(function(e){var t,r,n=(t=l.Z.getLayerConfig(e.provider,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({maxZoom:23},e)),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(o)throw i}}return r}}(t,r)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[0],i=n[1];return a().tileLayer(o,i)}))},10733:(e,t,r)=>{"use strict";r.r(t);var n=r(44712),o=r.n(n),i=r(61545),a=r(56307),l=r.n(a),s=function e(t,r){t.eachLayer&&t.eachLayer((function(t){t.setOpacity&&t.setOpacity(r),e(t,r)}))};o().registerType("vector",{create:function(e){var t=function(e){var t=e.hideLoading,r=l().geoJson([],{pointToLayer:"marker"!==e.styleName?function(t,r){return l().circleMarker(r,t.style||e.style)}:null,hideLoading:t});return r.setOpacity=function(e){s(r,e)},r.on("layeradd",(function(t){var n=t.layer;r.setOpacity((0,i.isNil)(r.opacity)?e.opacity:r.opacity,n)})),r}(e);return t.opacity=(0,i.isNil)(e.opacity)?1:e.opacity,t},update:function(e,t,r){t.opacity!==r.opacity&&(e.opacity=t.opacity)},render:function(){return null}})},32755:(e,t,r)=>{"use strict";var n=r(61545),o=r(56307),i=r.n(o),a=r(43143),l=r(90183),s=r(44712),c=r.n(s),p=r(43378),u=r(32420),f=r(38848);function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=function(e,t){e.fireEvent("loading");var r=(0,p.optionsToVendorParams)(t),n=function(){e.fireEvent("loadError")};return(0,u.getFeature)(t.url,t.name,m({outputFormat:"application/json",maxFeatures:1e3,srsname:(0,l.normalizeSRS)("EPSG:4326")},r)).then((function(t){return 200===t.status?(e.clearLayers(),e.addData(t.data),e.fireEvent("load")):(console.error(t),n(new Error("status code of response:"+t.status))),e})).catch((function(e){n()}))},g=function(e){var t=e||{},r=t.color,n=t.fillColor;return m(m({},function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(t,["color","fillColor"])),{},{color:(0,a.qq)(r,1),fillColor:(0,a.qq)(n,1)})},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.style&&e.style[0]||e.style;return g(t)},v=function(e,t){var r=b(t);e.setStyle(r),e.options.style=r,e.styleName=t.styleName},O=function e(t,r){t.eachLayer&&t.eachLayer((function(t){t.setOpacity&&t.setOpacity(r),e(t,r)}))},S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=b(e),o=function(t,n){return"marker"===e.styleName?i().marker(n,r):i().circleMarker(n,r)},a=new(i().GeoJSON)(t,{pointToLayer:o,style:r});return a.setOpacity=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=m({},a.options.style||{}),r=t.fillOpacity,n=void 0===r?1:r,o=t.opacity,i=void 0===o?1:o,l=m(m({},t),{},{opacity:i*e,fillOpacity:n*e});a.setStyle(g(l)),O(a,e)},a.on("layeradd",(function(){v(a,e),a.setOpacity((0,n.isNil)(a.opacity)?e.opacity:a.opacity)})),a};c().registerType("wfs",{create:function(e){var t=S(e);return h(t,e),t.opacity=(0,n.isNil)(e.opacity)?1:e.opacity,t},update:function(e,t,r){if(t.opacity!==r.opacity&&(e.opacity=t.opacity),(0,f.needsReload)(r,t)&&h(e,t),(0,n.isEqual)(t.style,r.style)||v(e,t),t.styleName!==r.styleName){var o=e.toGeoJSON().features;return S(t,o)}return null},render:function(){return null}})},36366:(e,t,r)=>{"use strict";r.r(t);var n=r(67294),o=r.n(n),i=r(5346),a=r(44712),l=r.n(a),s=r(43378),c=r(95784),p=r.n(c),u=r(56307),f=r.n(u),y=r(27418),m=r.n(y),d=r(61545),h=r(33044),g=r(3901),b=r(24262),v=r(33358);function O(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r(12787),f().NonTiledLayer.WMSCustom=f().NonTiledLayer.WMS.extend({initialize:function(e,t){this._wmsUrl=e;var r=f().extend({},this.defaultWmsParams);for(var n in t)this.options.hasOwnProperty(n)||"CRS"===n.toUpperCase()||"maxNativeZoom"===n||(r[n]=t[n]);this.wmsParams=r,f().setOptions(this,t)},removeParams:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0;return t.forEach((function(t){return delete e.wmsParams[t]})),r||this.redraw(),this}}),f().nonTiledLayer.wmsCustom=function(e,t){return new(f().NonTiledLayer.WMSCustom)(e,t)},f().TileLayer.MultipleUrlWMS=f().TileLayer.WMS.extend({initialize:function(e,t){this._url=e[0],this._urls=e,this._urlsIndex=0;var r=f().extend({},this.defaultWmsParams),n=t.tileSize||this.options.tileSize;for(var o in t.detectRetina&&f().Browser.retina?r.width=r.height=2*n:r.width=r.height=n,t)this.options.hasOwnProperty(o)||"CRS"===o.toUpperCase()||"maxNativeZoom"===o||(r[o]=t[o]);this.wmsParams=r,f().setOptions(this,t)},getTileUrl:function(e){var t=this._map,r=this.options.tileSize,n=e.multiplyBy(r),o=n.add([r,r]),i=this._crs.project(t.unproject(n,e.z)),a=this._crs.project(t.unproject(o,e.z)),l=this._wmsVersion>=1.3&&this._crs===f().CRS.EPSG4326?[a.y,i.x,i.y,a.x].join(","):[i.x,a.y,a.x,i.y].join(",");this._urlsIndex++,this._urlsIndex===this._urls.length&&(this._urlsIndex=0);var s=f().Util.template(this._urls[this._urlsIndex],{s:this._getSubdomain(e)});return s+f().Util.getParamString(this.wmsParams,s,!0)+"&BBOX="+l},removeParams:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0;return t.forEach((function(t){return delete e.wmsParams[t]})),r||this.redraw(),this}}),f().tileLayer.multipleUrlWMS=function(e,t){return new(f().TileLayer.MultipleUrlWMS)(e,t)},f().TileLayer.ElevationWMS=f().TileLayer.MultipleUrlWMS.extend({initialize:function(e,t,r){this._tiles={},this._nodata=r,f().TileLayer.MultipleUrlWMS.prototype.initialize.apply(this,arguments)},_addTile:function(e){var t=this.getTileUrl(e);(0,g.qR)(t,e,this._tileCoordsToKey(e))},getElevation:function(e,t){try{var r=this._getTileFromCoords(e),n=(0,g.yQ)(this._tileCoordsToKey(r),this._getTileRelativePixel(r,t),this.getTileSize().x,this._nodata);return n.available?n.value:o().createElement(i.Z,{msgId:n.message})}catch(e){return o().createElement(i.Z,{msgId:"elevationLoadingError"})}},_getTileFromCoords:function(e){var t=this._map.project(e).divideBy(256).floor();return m()(t,{z:this._tileZoom})},_getTileRelativePixel:function(e,t){var r=Math.floor(t.x-this._getTilePos(e).x-this._map._getMapPanePos().x),n=Math.min(this.getTileSize().x-1,Math.floor(t.y-this._getTilePos(e).y-this._map._getMapPanePos().y));return new(f().Point)(r,n)},_removeTile:function(){},_abortLoading:function(){}}),f().tileLayer.elevationWMS=function(e,t,r){return new(f().TileLayer.ElevationWMS)(e,t,r)};var S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,r){return(0,d.isNil)(e[r])?t:m()(t,O({},r,e[r]))}),{})};function w(e){var t=void 0!==e.opacity?e.opacity:1,r=(0,s.optionsToVendorParams)(e),n=m()({},e.baseParams,{attribution:e.credits&&(0,b.creditsToAttribution)(e.credits),layers:e.name,styles:e.style||"",format:((0,v.isVectorFormat)(e.format)?"image/png":e.format)||"image/png",transparent:void 0===e.transparent||e.transparent,tiled:void 0===e.tiled||e.tiled,opacity:t,zIndex:e.zIndex,version:e.version||"1.3.0",tileSize:e.tileSize||256,maxZoom:e.maxZoom||23,maxNativeZoom:e.maxNativeZoom||18},m()(e._v_?{_v_:e._v_}:{},r||{}));return(0,h.addAuthenticationToSLD)(n,e)}function x(e){return e.map((function(e){return e.split("?")[0]}))}l().registerType("wms",{create:function(e){var t=x((0,d.isArray)(e.url)?e.url:[e.url]),r=S(w(e)||{});return t.forEach((function(t){return(0,h.addAuthenticationParameter)(t,r,e.securityToken)})),e.useForElevation?f().tileLayer.elevationWMS(t,r,e.nodata||-9999):e.singleTile?f().nonTiledLayer.wmsCustom(t[0],r):f().tileLayer.multipleUrlWMS(t,r)},update:function(e,t,r){if(r.singleTile!==t.singleTile||r.tileSize!==t.tileSize||r.securityToken!==t.securityToken&&t.visibility){var n=x((0,d.isArray)(t.url)?t.url:[t.url]),o=w(t)||{};return n.forEach((function(e){return(0,h.addAuthenticationParameter)(e,o,t.securityToken)})),t.singleTile?f().nonTiledLayer.wmsCustom(n[0],o):f().tileLayer.multipleUrlWMS(n,o)}var i=m()({},p().filterWMSParamOptions(w(r)),(0,h.addAuthenticationToSLD)(r.params||{},r)),a=m()({},p().filterWMSParamOptions(w(t)),(0,h.addAuthenticationToSLD)(t.params||{},t)),l=Object.keys(a).filter((function(e){return a[e]!==i[e]})),s=Object.keys(i).filter((function(e){return i[e]!==a[e]})),c={};return s.length>0&&e.removeParams(s,l.length>0),l.length>0&&(c=l.reduce((function(e,t){return m()({},e,O({},t,a[t]))}),c),e.setParams(S(m()(c,c.params,(0,h.addAuthenticationToSLD)(t.params||{},t))))),null}})},49825:(e,t,r)=>{"use strict";r.r(t);var n=r(44712),o=r.n(n),i=r(90183),a=r(56307),l=r.n(a),s=r(27418),c=r.n(s),p=r(33044),u=r(7294),f=r(24961),y=r.n(f),m=r(61545),d=r(33358);l().tileLayer.wmts=function(e,t,r){return new(y())(e,t,r)};var h=function(e){var t=function(e){return e.map((function(e){return e.split("?")[0]}))}((0,m.isArray)(e.url)?e.url:[e.url]),r=function(e){var t=(0,i.normalizeSRS)(e.srs||"EPSG:3857",e.allowedSRS),r=u.getTileMatrixSet(e.tileMatrixSet,t,e.allowedSRS,e.matrixIds);return c()({requestEncoding:e.requestEncoding,layer:e.name,style:e.style||"",format:((0,d.isVectorFormat)(e.format)?"image/png":e.format)||"image/png",tileMatrixSet:r,version:e.version||"1.0.0",tileSize:e.tileSize||256,CRS:(0,i.normalizeSRS)(e.srs||"EPSG:3857",e.allowedSRS),maxZoom:e.maxZoom||23,maxNativeZoom:e.maxNativeZoom||18},e.params||{})}(e)||{};t.forEach((function(t){return(0,p.addAuthenticationParameter)(t,r,e.securityToken)}));var n=(0,i.normalizeSRS)(e.srs||"EPSG:3857",e.allowedSRS),o=u.getTileMatrix(e,n),a=o.tileMatrixSet,s=o.matrixIds;return l().tileLayer.wmts(t,r,{tileMatrixPrefix:e.tileMatrixPrefix||r.tileMatrixSet+":"||n+":",originY:e.originY||20037508.3428,originX:e.originX||-20037508.3428,ignoreErrors:e.ignoreErrors||!1,matrixIds:s,matrixSet:a})};o().registerType("wmts",{create:h,update:function(e,t,r){return r.securityToken!==t.securityToken||r.format!==t.format?h(t):null}})},35701:(e,t,r)=>{e.exports={BingLayer:r(61444),Commons:r(51735),GraticuleLayer:r(90671),GoogleLayer:r(26696),MapQuest:r(52031),OSMLayer:r(51254),TMSLayer:r(35659),TileProviderLayer:r(70826),WFSLayer:r(32755).default,WMSLayer:r(36366),WMTSLayer:r(49825),VectorLayer:r(10733)}},39190:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Feature:()=>c,LLayer:()=>p,LMap:()=>u,MeasurementSupport:()=>f,Overview:()=>y,ScaleBar:()=>m,default:()=>d});var n=r(30072),o=r(44054),i=r(9713),a=r(5904),l=r(22404),s=r(9056),c=n.Z,p=o.Z,u=i.Z,f=a.Z,y=l.Z,m=s.Z;const d={LLayer:p,LMap:u,MeasurementSupport:f,Overview:y,ScaleBar:m,Feature:c}},75964:(e,t,r)=>{"use strict";r.d(t,{Z:()=>v});var n=r(61545),o=r(45697),i=r.n(o),a=r(67294),l=r.n(a),s=r(30294),c=r(52259);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(c,e);var t,r,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=h(o);if(i){var r=h(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return m(this,e)});function c(){var e;u(this,c);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return g(d(e=a.call.apply(a,[this].concat(r))),"onComboChange",(function(t){var r=parseInt(t.nativeEvent.target.value,10);e.props.onChange(r,e.props.scales[r])})),g(d(e),"getOptions",(function(){return e.props.scales.map((function(t,r){return l().createElement("option",{value:r,key:r},e.props.template(t,r))})).filter((function(t,r){return r>=e.props.minZoom}))})),e}return t=c,(r=[{key:"shouldComponentUpdate",value:function(e){return!(0,n.isEqual)(e,this.props)}},{key:"render",value:function(){var e;return e=this.props.readOnly?l().createElement("label",null,this.props.template(this.props.scales[this.props.currentZoomLvl],this.props.currentZoomLvl)):this.props.useRawInput?l().createElement("select",{label:this.props.label,onChange:this.onComboChange,bsSize:"small",value:this.props.currentZoomLvl||""},this.getOptions()):l().createElement(s.Form,{inline:!0},l().createElement(s.FormGroup,{bsSize:"small"},l().createElement(s.ControlLabel,null,this.props.label),l().createElement(s.FormControl,{componentClass:"select",onChange:this.onComboChange,value:this.props.currentZoomLvl||""},this.getOptions()))),l().createElement("div",{id:this.props.id,style:this.props.style},e)}}])&&f(t.prototype,r),c}(l().Component);g(b,"propTypes",{id:i().string,style:i().object,scales:i().array,currentZoomLvl:i().number,minZoom:i().number,onChange:i().func,readOnly:i().bool,label:i().oneOfType([i().func,i().string,i().object]),template:i().func,useRawInput:i().bool}),g(b,"defaultProps",{id:"mapstore-scalebox",scales:(0,c.getGoogleMercatorScales)(0,28),currentZoomLvl:0,minZoom:0,onChange:function(){},readOnly:!1,template:function(e){return e<1?Math.round(1/e)+" : 1":"1 : "+Math.round(e)},useRawInput:!1});const v=b},7472:(e,t,r)=>{"use strict";r.d(t,{Z:()=>E});var n=r(27418),o=r.n(n),i=r(45697),a=r.n(i),l=r(67294),s=r.n(l),c=r(85294),p=r.n(c),u=r(72986),f=r.n(u),y=r(5346);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?S(e):t}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(l,e);var t,r,n,i,a=(n=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=w(n);if(i){var r=w(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return O(this,e)});function l(){var e;g(this,l);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return x(S(e=a.call.apply(a,[this].concat(r))),"renderLoading",(function(){return e.props.maskLoading?s().createElement("div",{style:{width:"100%",height:"100%",position:"absolute",overflow:"visible",margin:"auto",verticalAlign:"center",left:"0",background:"rgba(255, 255, 255, 0.5)",zIndex:2}},s().createElement("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -40%)"}},s().createElement(y.Z,{msgId:"loading"}),s().createElement(f(),{spinnerName:"circle",noFadeIn:!0,overrideSpinnerClassName:"spinner"}))):null})),x(S(e),"renderRole",(function(t){return s().Children.toArray(e.props.children).filter((function(e){return e.props.role===t}))})),x(S(e),"hasRole",(function(t){return s().Children.toArray(e.props.children).filter((function(e){return e.props.role===t})).length>0})),x(S(e),"onClickOut",(function(t){e.props.onClickOut&&e.mask===t.target&&e.props.onClickOut(t)})),e}return t=l,(r=[{key:"render",value:function(){var e=this,t=s().createElement("div",{id:this.props.id,style:h({zIndex:3},this.props.style),className:"".concat(this.props.draggable?"modal-dialog-draggable":""," ").concat(this.props.className," modal-dialog-container")},s().createElement("div",{className:this.props.headerClassName+" draggable-header"},this.renderRole("header")),s().createElement("div",{className:this.props.bodyClassName},this.renderLoading(),this.renderRole("body")),this.hasRole("footer")?s().createElement("div",{className:this.props.footerClassName},this.renderRole("footer")):s().createElement("span",null)),r=this.props.draggable?s().createElement(p(),{defaultPosition:this.props.start,bounds:this.props.bounds,handle:".draggable-header, .draggable-header *"},t):t,n=o()({},this.props.style.display?{display:this.props.style.display}:{},this.props.backgroundStyle);return this.props.modal?s().createElement("div",{ref:function(t){e.mask=t},onClick:this.onClickOut,style:n,className:"fade in modal "+this.props.containerClassName,role:"dialog"},r):r}}])&&b(t.prototype,r),l}(s().Component);x(P,"propTypes",{id:a().string.isRequired,style:a().object,backgroundStyle:a().object,className:a().string,maskLoading:a().bool,containerClassName:a().string,headerClassName:a().string,bodyClassName:a().string,footerClassName:a().string,onClickOut:a().func,modal:a().bool,start:a().object,draggable:a().bool,bounds:a().oneOfType([a().string,a().object])}),x(P,"defaultProps",{style:{},backgroundStyle:{background:"rgba(0,0,0,.5)"},start:{x:0,y:150},className:"modal-dialog modal-content",maskLoading:!1,containerClassName:"",headerClassName:"modal-header",bodyClassName:"modal-body",footerClassName:"modal-footer",modal:!1,draggable:!0,bounds:"parent"});const E=P},57167:e=>{e.exports=window.MQ},10947:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AntiAliasingOption:()=>ht,DefaultBackgroundOption:()=>vt,Description:()=>ct,Font:()=>Ot,ForceLabelsOption:()=>dt,IconSizeOption:()=>gt,LandscapeOption:()=>mt,LegendDpiOption:()=>bt,LegendOption:()=>ft,MapPreview:()=>St,MultiPageOption:()=>yt,Name:()=>st,PrintPreview:()=>xt,PrintSubmit:()=>wt,Resolution:()=>pt,Sheet:()=>ut,TextWithLabel:()=>lt,default:()=>Pt});var n=r(67294),o=r.n(n),i=r(30294),a=r(33664),l=r(3523),s=r(82904),c=r(86069),p=r(45697),u=r.n(p);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(s,e);var t,r,n,a,l=(n=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=b(n);if(a){var r=b(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return h(this,e)});function s(){var e;y(this,s);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return v(g(e=l.call.apply(l,[this].concat(r))),"onChange",(function(t){e.props.onChange(t.target.value)})),e}return t=s,(r=[{key:"render",value:function(){var e=this.props.items.map((function(e){return o().createElement("option",{key:e.value,value:e.value},e.name)}));return o().createElement(i.FormGroup,null,this.props.label?o().createElement(i.ControlLabel,null,this.props.label):null,o().createElement(i.FormControl,{ref:"input",value:this.props.selected,componentClass:"select",onChange:this.onChange},e))}}])&&m(t.prototype,r),s}(o().Component);v(O,"propTypes",{items:u().array,label:u().string,onChange:u().func,selected:u().string}),v(O,"defaultProps",{items:[],label:"Choice",onChange:function(){},selected:""});const S=O;var w=r(38560),x=r(73378);function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function L(e,t){return!t||"object"!==P(t)&&"function"!=typeof t?R(e):t}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(s,e);var t,r,n,a,l=(n=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=T(n);if(a){var r=T(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return L(this,e)});function s(){var e;E(this,s);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return _(R(e=l.call.apply(l,[this].concat(r))),"onChangeFamily",(function(t){e.props.onChangeFamily(t)})),_(R(e),"onChangeSize",(function(t){e.props.onChangeSize(parseInt(t,10))})),_(R(e),"toggleBold",(function(){e.props.onChangeBold(!e.props.bold)})),_(R(e),"toggleItalic",(function(){e.props.onChangeItalic(!e.props.italic)})),e}return t=s,(r=[{key:"render",value:function(){return o().createElement(i.Grid,{fluid:!0},o().createElement(i.Row,null,o().createElement(i.Col,{xs:12},o().createElement("label",{className:"control-label"},this.props.label))),o().createElement(i.Row,null,o().createElement(i.Col,{xs:5},o().createElement(S,{ref:"family",onChange:this.onChangeFamily,label:"",items:this.props.fonts.map((function(e){return{name:e,value:e}})),selected:this.props.family})),o().createElement(i.Col,{xs:3},o().createElement(x.Z,{ref:"size",type:"number",value:this.props.size,min:0,precision:0,onChange:this.onChangeSize})),o().createElement(i.Col,{xs:2},o().createElement(w.Z,{bsStyle:"primary",bsSize:"small",active:this.props.bold,onClick:this.toggleBold},o().createElement(i.Glyphicon,{glyph:"bold"}))),o().createElement(i.Col,{xs:2},o().createElement(w.Z,{bsStyle:"primary",bsSize:"small",active:this.props.italic,onClick:this.toggleItalic},o().createElement(i.Glyphicon,{glyph:"italic"})))))}}])&&j(t.prototype,r),s}(o().Component);_(k,"propTypes",{fonts:u().array,label:u().string,onChangeFamily:u().func,onChangeSize:u().func,onChangeBold:u().func,onChangeItalic:u().func,family:u().string,size:u().number,bold:u().bool,italic:u().bool}),_(k,"defaultProps",{fonts:["Verdana","Serif","SansSerif","Arial","Courier New","Tahoma","Times New Roman"],label:"Font",onChangeFamily:function(){},onChangeSize:function(){},family:"",size:8,bold:!1,italic:!1});const M=k;var z,N,A,F=r(27418),D=r.n(F),Z=r(34049),I=r(75964),q=r(82920),U=r.n(q);function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(){return(G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(Object(r),!0).forEach((function(t){K(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function $(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function H(e,t){return(H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function J(e,t){return!t||"object"!==W(t)&&"function"!=typeof t?Y(e):t}function Y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q(e){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function K(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ee=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(c,e);var t,n,a,l,s=(a=c,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Q(a);if(l){var r=Q(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return J(this,e)});function c(){var e;$(this,c);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return K(Y(e=s.call.apply(s,[this].concat(r))),"getRatio",(function(){return e.props.width&&e.props.layoutSize&&e.props.resolutions?e.props.layoutSize.width/e.props.width*e.props.printRatio:1})),K(Y(e),"getResolutions",(function(){return e.props.width&&e.props.layoutSize&&e.props.resolutions?e.props.resolutions.map((function(t){return t*e.getRatio()})):e.props.resolutions})),K(Y(e),"adjustResolution",(function(t){var r=e.getRatio(),n=Math.round(96/r);return D()({},t,V(V(V({},!U()(null==t?void 0:t.minResolution)&&{minResolution:t.minResolution*r}),!U()(null==t?void 0:t.maxResolution)&&{maxResolution:t.maxResolution*r}),{},{params:D()({},t.params,{format_options:"dpi:"+n,"MAP.RESOLUTION":n})}))})),K(Y(e),"renderLayerContent",(function(e,t){return e.features&&"vector"===e.type?e.features.map((function(r){return o().createElement(A,{crs:t,key:r.id,type:r.type,geometry:r.geometry,features:r.features,msId:r.id,featuresCrs:e.featuresCrs||"EPSG:4326",layerStyle:e.style,style:r.style||e.style||null,properties:r.properties})})):null})),e}return t=c,(n=[{key:"UNSAFE_componentWillMount",value:function(){var e=r(8026)("./"+this.props.mapType+"/index").default;z=e.LMap,N=e.LLayer,A=e.Feature,r(14807)("./"+this.props.mapType+"/plugins/index").default}},{key:"render",value:function(){var e=this,t=D()({},this.props.style,{width:this.props.width+"px",height:this.props.height+"px"}),r=this.getResolutions(),n=r?{view:{resolutions:r}}:{},a=this.props.map&&this.props.map.projection||"EPSG:3857";return this.props.map&&this.props.map.center?o().createElement("div",{className:"print-map-preview"},o().createElement(z,G({ref:"mappa"},this.props.map,{resize:this.props.height,style:t,interactive:!1,onMapViewChanges:this.props.onMapViewChanges,zoomControl:!1,zoom:this.props.useFixedScales&&this.props.scales?(0,Z.getMapZoom)(this.props.map.scaleZoom,this.props.scales):this.props.map.zoom,center:this.props.map.center,id:"print_preview",registerHooks:!1,mapOptions:n}),this.props.layers.map((function(t,r){return o().createElement(N,{key:t.id||t.name,position:r,type:t.type,options:D()({},e.adjustResolution(t),{srs:a}),env:e.props.env},e.renderLayerContent(t,a))}))),this.props.enableScalebox?o().createElement(I.Z,{id:"mappreview-scalebox",currentZoomLvl:this.props.map.scaleZoom,scales:this.props.scales,onChange:this.props.onChangeZoomLevel}):null,this.props.enableRefresh?o().createElement(w.Z,{bsStyle:"primary",onClick:this.props.onMapRefresh,className:"print-mappreview-refresh"},o().createElement(i.Glyphicon,{glyph:"refresh"})):null):null}}])&&X(t.prototype,n),c}(o().Component);K(ee,"propTypes",{map:u().object,layers:u().array,style:u().object,scales:u().array,onChangeZoomLevel:u().func,onMapViewChanges:u().func,onMapRefresh:u().func,height:u().number,width:u().number,mapType:u().string,enableRefresh:u().bool,enableScalebox:u().bool,resolutions:u().array,printRatio:u().number,layout:u().string,layoutSize:u().object,useFixedScales:u().bool,env:u().object}),K(ee,"defaultProps",{map:null,layers:[],mapType:"leaflet",style:{display:"block",border:"1px solid black",position:"relative"},onChangeZoomLevel:function(){},onMapViewChanges:function(){},onMapRefresh:function(){},width:370,height:270,enableRefresh:!0,enableScalebox:!0,printRatio:96/72,useFixedScales:!1});const te=ee;function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ie(e,t){return(ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ae(e,t){return!t||"object"!==re(t)&&"function"!=typeof t?le(e):t}function le(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function se(e){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ce(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var pe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ie(e,t)}(s,e);var t,r,n,a,l=(n=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=se(n);if(a){var r=se(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return ae(this,e)});function s(){var e;ne(this,s);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return ce(le(e=l.call.apply(l,[this].concat(r))),"onChange",(function(){e.props.onChange(!e.refs.input.props.checked)})),ce(le(e),"isEnabled",(function(){return e.props.isEnabled?e.props.isEnabled(e.props.layouts):0===e.props.layouts.length||e.props.layouts.some((function(t){return t.name.match(e.props.enableRegex)}))})),e}return t=s,(r=[{key:"render",value:function(){return o().createElement(i.Checkbox,{disabled:!this.isEnabled(),ref:"input",checked:this.props.checked,onChange:this.onChange},this.props.label)}}])&&oe(t.prototype,r),s}(o().Component);ce(pe,"propTypes",{layouts:u().array,enableRegex:u().oneOfType([u().object,u().string]),label:u().string,onChange:u().func,checked:u().bool,isEnabled:u().func}),ce(pe,"defaultProps",{layouts:[],enableRegex:/^.*$/,label:"Option",onChange:function(){},checked:!1});const ue=pe;var fe=r(86638);function ye(e){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function me(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function de(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function he(e,t){return(he=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ge(e,t){return!t||"object"!==ye(t)&&"function"!=typeof t?be(e):t}function be(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ve(e){return(ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Oe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Se=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&he(e,t)}(s,e);var t,r,n,a,l=(n=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ve(n);if(a){var r=ve(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return ge(this,e)});function s(){var e;me(this,s);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Oe(be(e=l.call.apply(l,[this].concat(r))),"onChange",(function(t){e.props.onChange(t.target.value)})),Oe(be(e),"renderOptions",(function(){return e.props.options.map((function(t){return o().createElement(i.Radio,{key:t.label,disabled:!e.isEnabled(),ref:"input"+t.value,checked:e.props.selected===t.value,onChange:e.onChange,value:t.value},(0,fe.S$)(e.context.messages,t.label))}))})),Oe(be(e),"isEnabled",(function(){return e.props.isEnabled?e.props.isEnabled(e.props.layouts):0===e.props.layouts.length||e.props.layouts.some((function(t){return t.name.match(e.props.enableRegex)}))})),e}return t=s,(r=[{key:"render",value:function(){return o().createElement("span",{className:"form-inline"},this.renderOptions())}}])&&de(t.prototype,r),s}(o().Component);Oe(Se,"propTypes",{layouts:u().array,enableRegex:u().oneOfType([u().object,u().string]),options:u().array,onChange:u().func,selected:u().string,isEnabled:u().func}),Oe(Se,"contextTypes",{messages:u().object}),Oe(Se,"defaultProps",{layouts:[],enableRegex:/^.*$/,options:[{label:"Option1",value:"Option1"},{label:"Option2",value:"Option2"}],onChange:function(){},selected:"Option1"});const we=Se;var xe=r(35533);function Pe(e){return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function je(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ce(e,t){return(Ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Le(e,t){return!t||"object"!==Pe(t)&&"function"!=typeof t?Re(e):t}function Re(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Te(e){return(Te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _e(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ke=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ce(e,t)}(s,e);var t,r,n,a,l=(n=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Te(n);if(a){var r=Te(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return Le(this,e)});function s(){var e;Ee(this,s);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return _e(Re(e=l.call.apply(l,[this].concat(r))),"onDocumentComplete",(function(t){e.props.setPages(t&&t.numPages||0)})),_e(Re(e),"firstPage",(function(){e.props.currentPage>0&&e.props.setPage(0)})),_e(Re(e),"lastPage",(function(){e.props.currentPage<e.props.pages-1&&e.props.setPage(e.props.pages-1)})),_e(Re(e),"prevPage",(function(){e.props.currentPage>0&&e.props.setPage(e.props.currentPage-1)})),_e(Re(e),"nextPage",(function(){e.props.currentPage<e.props.pages-1&&e.props.setPage(e.props.currentPage+1)})),_e(Re(e),"zoomIn",(function(){e.props.setScale(e.props.scale*e.props.zoomFactor)})),_e(Re(e),"zoomOut",(function(){e.props.setScale(e.props.scale/e.props.zoomFactor)})),e}return t=s,(r=[{key:"render",value:function(){return o().createElement("div",null,o().createElement("div",{style:this.props.style},o().createElement(xe.BB,{file:this.props.url,onLoadSuccess:this.onDocumentComplete},o().createElement(xe.T3,{pageNumber:this.props.currentPage+1,scale:this.props.scale}))),o().createElement("div",{style:{marginTop:"10px"}},o().createElement(w.Z,{bsStyle:this.props.buttonStyle,style:{marginRight:"10px"},onClick:this.props.back},o().createElement(i.Glyphicon,{glyph:"arrow-left"})),o().createElement(w.Z,{bsStyle:this.props.buttonStyle,disabled:this.props.scale>=this.props.maxScale,onClick:this.zoomIn},o().createElement(i.Glyphicon,{glyph:"zoom-in"})),o().createElement(w.Z,{bsStyle:this.props.buttonStyle,disabled:this.props.scale<=this.props.minScale,onClick:this.zoomOut},o().createElement(i.Glyphicon,{glyph:"zoom-out"})),o().createElement("label",{style:{marginLeft:"10px",marginRight:"10px"}},this.props.scale,"x"),o().createElement("div",{className:"print-download btn btn-"+this.props.buttonStyle},o().createElement("a",{href:this.props.url,target:"_blank"},o().createElement(i.Glyphicon,{glyph:"save"}))),o().createElement(w.Z,{bsStyle:this.props.buttonStyle,disabled:0===this.props.currentPage,onClick:this.firstPage},o().createElement(i.Glyphicon,{glyph:"step-backward"})),o().createElement(w.Z,{bsStyle:this.props.buttonStyle,disabled:0===this.props.currentPage,onClick:this.prevPage},o().createElement(i.Glyphicon,{glyph:"chevron-left"})),o().createElement("label",{style:{marginLeft:"10px",marginRight:"10px"}},this.props.currentPage+1," / ",this.props.pages),o().createElement(w.Z,{bsStyle:this.props.buttonStyle,disabled:this.props.currentPage===this.props.pages-1,onClick:this.nextPage},o().createElement(i.Glyphicon,{glyph:"chevron-right"})),o().createElement(w.Z,{bsStyle:this.props.buttonStyle,disabled:this.props.currentPage===this.props.pages-1,onClick:this.lastPage},o().createElement(i.Glyphicon,{glyph:"step-forward"}))))}}])&&je(t.prototype,r),s}(o().Component);_e(ke,"propTypes",{url:u().string,scale:u().number,currentPage:u().number,pages:u().number,zoomFactor:u().number,minScale:u().number,maxScale:u().number,back:u().func,setScale:u().func,setPage:u().func,setPages:u().func,style:u().object,buttonStyle:u().string}),_e(ke,"defaultProps",{url:null,scale:1,minScale:.25,maxScale:8,currentPage:0,pages:1,zoomFactor:2,back:function(){},setScale:function(){},setPage:function(){},setPages:function(){},style:{height:"500px",width:"800px",overflow:"auto",backgroundColor:"#888",padding:"10px"},buttonStyle:"default"});const Me=ke;var ze=r(72986),Ne=r.n(ze),Ae=r(5346);function Fe(e){return(Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function De(){return(De=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ie(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function qe(e,t){return(qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ue(e,t){return!t||"object"!==Fe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function We(e){return(We=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ge(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Be=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qe(e,t)}(s,e);var t,r,n,a,l=(n=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=We(n);if(a){var r=We(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return Ue(this,e)});function s(){return Ze(this,s),l.apply(this,arguments)}return t=s,(r=[{key:"render",value:function(){var e=this.props.glyph?o().createElement(i.Glyphicon,{glyph:this.props.glyph}):o().createElement("span",null);return o().createElement(w.Z,De({className:"print-submit",disabled:this.props.disabled},this.props.buttonConfig,{style:{marginTop:"10px",marginRight:"5px"},onClick:this.props.onPrint}),this.props.loading?o().createElement(Ne(),{spinnerName:"circle",overrideSpinnerClassName:"spinner",noFadeIn:!0}):e," ",o().createElement(Ae.Z,{msgId:"print.submit"}))}}])&&Ie(t.prototype,r),s}(o().Component);Ge(Be,"propTypes",{loading:u().bool,onPrint:u().func,disabled:u().bool,buttonConfig:u().object,glyph:u().string}),Ge(Be,"defaultProps",{loading:!1,onPrint:function(){},disabled:!1,buttonConfig:{bsSize:"large"},glyph:"print"});const Ve=Be;var $e=r(61545);function Xe(e){return(Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function He(){return(He=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Je(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ye(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Qe(e,t){return(Qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ke(e,t){return!t||"object"!==Xe(t)&&"function"!=typeof t?et(e):t}function et(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tt(e){return(tt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var nt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qe(e,t)}(l,e);var t,r,n,i,a=(n=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=tt(n);if(i){var r=tt(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return Ke(this,e)});function l(){var e;Je(this,l);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return rt(et(e=a.call.apply(a,[this].concat(r))),"getLayoutName",(function(t){return e.props.layoutNames?(0,$e.isFunction)(e.props.layoutNames)?e.props.layoutNames(t):e.props.layoutNames[t]||t:t})),rt(et(e),"getSheetFormats",(function(){return e.props.layouts.reduce((function(t,r){var n=r.name.match(e.props.sheetRegex);return n&&n.length>0&&-1===t.indexOf(n[n.length-1])&&t.concat([n[n.length-1]])||t}),[]).map((function(t){return{name:e.getLayoutName(t),value:t}}))})),e}return t=l,(r=[{key:"render",value:function(){var e=this.props,t=(e.children,e.sheetRegex,e.layouts,function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["children","sheetRegex","layouts"]));return o().createElement(S,He({},t,{items:this.getSheetFormats()}))}}])&&Ye(t.prototype,r),l}(o().Component);rt(nt,"propTypes",{layouts:u().array,sheetRegex:u().oneOfType([u().object,u().string]),label:u().string,onChange:u().func,selected:u().string,layoutNames:u().oneOfType([u().object,u().func])}),rt(nt,"defaultProps",{layouts:[],sheetRegex:/^[^_]+/,label:"Sheet Size",onChange:function(){},selected:""});const ot=nt;var it=function(e){return e.print&&e.print.capabilities&&e.print.capabilities.layouts.filter((function(t){return 0===t.name.indexOf(e.print.spec.sheet)}))||[]},at=r(37275),lt=function(e){return o().createElement(i.FormGroup,null,e.label&&o().createElement(i.ControlLabel,null,e.label)||null,o().createElement(i.FormControl,e))},st=(0,a.connect)((function(e){return{value:e.print&&e.print.spec&&e.print.spec.name||"",type:"text"}}),{onChange:(0,l.qC)(c.d$.bind(null,"name"),(function(e){return e.target.value}))})(lt),ct=(0,a.connect)((function(e){return{value:e.print&&e.print.spec&&e.print.spec.description||"",componentClass:"textarea"}}),{onChange:(0,l.qC)(c.d$.bind(null,"description"),(function(e){return e.target.value}))})(lt),pt=(0,a.connect)((function(e){return{selected:e.print&&e.print.spec&&e.print.spec.resolution||"",items:e.print&&e.print.capabilities&&e.print.capabilities.dpis.map((function(e){return{name:e.name+" dpi",value:e.value}}))||[]}}),{onChange:c.d$.bind(null,"resolution")})(S),ut=(0,a.connect)((function(e){return{selected:e.print&&e.print.spec&&e.print.spec.sheet}}),{onChange:c.d$.bind(null,"sheet")})(ot),ft=(0,a.connect)((function(e){return{checked:e.print&&e.print.spec&&!!e.print.spec.includeLegend,layouts:it(e)}}),{onChange:c.d$.bind(null,"includeLegend")})(ue),yt=(0,a.connect)((function(e){return{checked:e.print&&e.print.spec.includeLegend&&e.print.spec&&!!e.print.spec.twoPages,layouts:it(e),isEnabled:function(){return function(e){return e.print&&e.print.spec&&e.print.spec.includeLegend}(e)}}}),{onChange:c.d$.bind(null,"twoPages")})(ue),mt=(0,a.connect)((function(e){return{selected:e.print&&e.print.spec&&e.print.spec.landscape?"landscape":"portrait",layouts:it(e),options:[{label:"print.alternatives.landscape",value:"landscape"},{label:"print.alternatives.portrait",value:"portrait"}]}}),{onChange:(0,l.qC)(c.d$.bind(null,"landscape"),(function(e){return"landscape"===e}))})(we),dt=(0,a.connect)((function(e){return{checked:e.print&&e.print.spec&&!!e.print.spec.forceLabels}}),{onChange:c.d$.bind(null,"forceLabels")})(ue),ht=(0,a.connect)((function(e){return{checked:e.print&&e.print.spec&&!!e.print.spec.antiAliasing}}),{onChange:c.d$.bind(null,"antiAliasing")})(ue),gt=(0,a.connect)((function(e){return{value:e.print&&e.print.spec&&e.print.spec.iconSize,type:"number"}}),{onChange:(0,l.qC)(c.d$.bind(null,"iconSize"),(function(e){return parseInt(e.target.value,10)}))})(lt),bt=(0,a.connect)((function(e){return{value:e.print&&e.print.spec&&e.print.spec.legendDpi,type:"number"}}),{onChange:(0,l.qC)(c.d$.bind(null,"legendDpi"),(function(e){return parseInt(e.target.value,10)}))})(lt),vt=(0,a.connect)((function(e){return{checked:e.print&&e.print.spec&&!!e.print.spec.defaultBackground}}),{onChange:c.d$.bind(null,"defaultBackground")})(ue),Ot=(0,a.connect)((function(e){return{family:e.print&&e.print.spec&&e.print.spec.fontFamily,size:e.print&&e.print.spec&&e.print.spec.fontSize,bold:e.print&&e.print.spec&&e.print.spec.bold,italic:e.print&&e.print.spec&&e.print.spec.italic}}),{onChangeFamily:c.d$.bind(null,"fontFamily"),onChangeSize:c.d$.bind(null,"fontSize"),onChangeBold:c.d$.bind(null,"bold"),onChangeItalic:c.d$.bind(null,"italic")})(M),St=(0,a.connect)((function(e){return{map:e.print&&e.print.map,layers:e.print&&e.print.map&&e.print.map.layers||[],scales:e.print&&e.print.capabilities&&e.print.capabilities.scales.slice(0).reverse().map((function(e){return parseFloat(e.value)}))||[]}}),{onChangeZoomLevel:c.pQ,onMapViewChanges:c.z})(te),wt=(0,a.connect)((function(e){return{loading:e.print&&e.print.isLoading||!1}}))(Ve),xt=(0,a.connect)((function(e){return{url:e.print&&at.ZP.getProxiedUrl(e.print.pdfUrl),scale:e.controls&&e.controls.print&&e.controls.print.viewScale||.5,currentPage:e.controls&&e.controls.print&&e.controls.print.currentPage||0,pages:e.controls&&e.controls.print&&e.controls.print.pages||1}}),{back:c._4,setPage:s.Xg.bind(null,"print","currentPage"),setPages:s.Xg.bind(null,"print","pages"),setScale:s.Xg.bind(null,"print","viewScale")})(Me);const Pt={Name:st,Description:ct,Resolution:pt,DefaultBackgroundOption:vt,Sheet:ut,LegendOption:ft,MultiPageOption:yt,LandscapeOption:mt,ForceLabelsOption:dt,AntiAliasingOption:ht,IconSizeOption:gt,LegendDpiOption:bt,Font:Ot,MapPreview:St,PrintSubmit:wt,PrintPreview:xt}},45959:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var n=r(86069),o=r(82904),i=r(61545),a=r(27418),l=r.n(a);function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c={antiAliasing:!0,iconSize:24,legendDpi:96,fontFamily:"Verdana",fontSize:8,bold:!1,italic:!1,resolution:96,name:"",description:""},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.split("_")[0]};const u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{spec:c,capabilities:null,map:null,isLoading:!1,pdfUrl:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.kM:return"print"===t.control?l()({},e,{pdfUrl:null,isLoading:!1,error:null}):e;case n.qp:var r=(0,i.get)(t,"capabilities.layouts",[{name:"A4"}]),a=r.filter((function(t){return p(t.name)===e.spec.sheet})).length?e.spec.sheet:p(r[0].name);return l()({},e,{capabilities:t.capabilities,spec:l()({},e.spec||{},{sheet:a,resolution:t.capabilities&&t.capabilities.dpis&&t.capabilities.dpis.length&&t.capabilities.dpis[0].value})});case n.U6:return l()({},e,{spec:l()({},e.spec,s({},t.name,t.value))});case n.PB:var u=t.layers.map((function(e){return e.title?l()({},e,{title:(0,i.isObject)(e.title)&&t.currentLocale&&e.title[t.currentLocale]||(0,i.isObject)(e.title)&&e.title.default||e.title}):e}));return l()({},e,{map:{center:t.center,zoom:t.zoom,scaleZoom:t.scaleZoom,scale:t.scale,layers:u,projection:t.projection},error:null});case n.HA:var f=t.zoom-e.map.scaleZoom;return l()({},e,{map:l()({},e.map,{scaleZoom:t.zoom,zoom:e.map.zoom+f,scale:t.scale})});case n.Yk:return l()({},e,{map:l()({},e.map,{size:t.size})});case n.Fp:return l()({},e,{isLoading:!0,pdfUrl:null,error:null});case n.EZ:return l()({},e,{isLoading:!1,pdfUrl:t.url,error:null});case n.WB:case n.aN:return l()({},e,{isLoading:!1,pdfUrl:null,error:t.error});case n.qH:return l()({},e,{isLoading:!1,pdfUrl:null,error:null});default:return e}}},8797:(e,t,r)=>{"use strict";r.r(t),r.d(t,{degToDms:()=>o,getFormattedBearingValue:()=>i,CONVERSION_RATE:()=>a,convertUom:()=>l,validateCoord:()=>s,validateFeatureCoordinates:()=>c,isValidGeometry:()=>p});var n=r(61545);function o(e){var t=Math.floor(e),r=60*(e-t),n=Math.floor(r),o=60*(r-n);return t+"° "+n+"' "+Math.floor(o)+"'' "}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.measureTrueBearing,n=void 0!==r&&r,i=t.fractionDigits,a=void 0===i?0:i,l="";if(n){var s="";e>=0&&e<10?s="00":e>10&&e<100&&(s="0");var c=a>0?e.toFixed(a):Math.floor(e);l=s+c+"°"}else e>=0&&e<90?l="N "+o(e)+"E":e>90&&e<=180?l="S "+o(180-e)+"E":e>180&&e<270?l="S "+o(e-180)+"W":e>=270&&e<=360&&(l="N "+o(360-e)+"W");return l}var a={yd:{ft:3,m:.9144,km:9144e-7,yd:1,mi:.00056818181818,nm:.00049373650107},ft:{ft:1,m:.3048,km:3048e-7,yd:.33333333333334,mi:.0001893932,nm:164579e-9},m:{ft:3.28084,m:1,km:.001,yd:1.0936132983377,mi:621371e-9,nm:.000539956803},km:{ft:3280.84,m:1e3,km:1,yd:1093.6132983377,mi:.62137121212121,nm:.5399568207343395},mi:{ft:5280.000168959982,m:1609.3440514990027,km:1.6093440514990027,yd:1760,mi:1,nm:.8689762697078849},nm:{ft:6076.115679999979,m:1852.0000592639938,km:1.8520000592639938,yd:2025.3718285214,mi:1.150779484848481,nm:1},sqft:{sqft:1,sqm:.09290304,sqkm:9.2903043596611e-8,sqmi:3.587e-8,sqnm:2.7051601137505e-8},sqyd:{sqft:8.9999247491639,sqm:.83612040133779,sqkm:8.3612040133779e-7,sqyd:1,sqmi:3.228278917579e-7,sqnm:2.4346237458194e-7},sqm:{sqft:10.76391,sqm:1,sqkm:1e-6,sqyd:1.196,sqmi:3.8610215854245e-7,sqnm:2.91181e-7},sqkm:{sqft:10763910,sqm:1e6,sqkm:1,sqyd:1196e3,sqmi:.38610215854245,sqnm:.291181},sqmi:{sqft:27878398.920726,sqm:2589988.110336,sqkm:2.589988110336,sqyd:27878398.920726,sqmi:1,sqnm:.75415532795574},sqnm:{sqft:36966388.603652,sqm:3434290.0120544,sqkm:3.4342900120544,sqyd:36966388.603652,sqmi:1.325986786715,sqnm:1}};function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"m",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"m";return a[t]&&a[t][r]?e*a[t][r]:e}var s=function(e){return!(0,n.isNaN)(parseFloat(e[0]))&&!(0,n.isNaN)(parseFloat(e[1]))},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.coordinates,r=e.type,o=t;if("LineString"===r){if((o=t.filter(s)).length<2)return[]}else if("Polygon"===r){if((o=(0,n.head)(t).filter(s)).length<3)return[[]];o=[o.concat([(0,n.head)(o)])]}return o},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.coordinates,r=e.type;if(!r||!t||t&&(0,n.isArray)(t)&&0===t.length)return!1;var o=c({coordinates:t,type:r});return(o="Polygon"===r?(0,n.head)(o):o).length>0}},34049:(e,t,r)=>{"use strict";r.r(t),r.d(t,{getGeomType:()=>j,isAnnotationLayer:()=>C,getOpacity:()=>L,preloadData:()=>R,toAbsoluteURL:()=>T,normalizeUrl:()=>_,getLayoutName:()=>k,getPrintScales:()=>M,getNearestZoom:()=>z,getMapZoom:()=>N,getMapSize:()=>A,getMapfishPrintSpecification:()=>F,getMapfishLayersSpecification:()=>D,specCreators:()=>Z,getWMTSMatrixIds:()=>I,rgbaTorgb:()=>q,toOpenLayers2Style:()=>U,getOlDefaultStyle:()=>W});var n=r(90183),o=r(33044),i=r(52259),a=r(43378),l=r(58767),s=r(43143),c=r(45992),p=r(18056),u=r(7294),f=r(93201),y=r(18672),m=r(61545),d=r(32420),h=r(53231),g=r(8575),b=r(27418),v=r.n(b);function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function x(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var P,E=(0,i.getGoogleMercatorScales)(0,21),j=function(e){return e.features&&e.features[0]&&e.features[0].geometry?e.features[0].geometry.type:e.features&&e.features[0].features&&e.features[0].style&&e.features[0].style.type?e.features[0].style.type:void 0},C=function(e){return"annotations"===e.id||"Measurements"===e.name},L=function(e){return e.opacity||(0===e.opacity?0:1)},R=function(e){var t=(0,m.filter)(e.layers,{type:"wfs"});return t.length>0?Promise.all(t.map((function(t){return(0,d.getFeature)(t.url,t.name,w({outputFormat:"application/json",srsName:e.projection},(0,a.optionsToVendorParams)(t)||{})).then((function(e){var r=e.data;return{id:t.id,geoJson:r}}))}))).then((function(t){return w(w({},e),{},{layers:(e.layers||[]).map((function(e){var r=(0,m.find)(t,{id:e.id});return"wfs"===e.type&&r?w(w({},e),r):e}))})})):new Promise((function(t){t(e)}))},T=function(e,t){return-1!==e.search(/^\/\//)?window.location.protocol+e:-1!==e.search(/:\/\//)?e:-1!==e.search(/^\//)?(t||window.location.origin)+e:e},_=function(e){var t=(0,m.isArray)(e)?e[0]:e;return-1!==t.indexOf("?")&&(t=t.substring(0,t.indexOf("?"))),P.toAbsoluteURL(t)},k=function(e){var t=[e.sheet];return e.includeLegend?e.twoPages&&t.push("2_pages_legend"):t.push("no_legend"),e.landscape&&t.push("landscape"),t.join("_")},M=function(e){return e.scales.slice(0).reverse().map((function(e){return parseFloat(e.value)}))||[]},z=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:E,n=r[Math.round(e)];return t.reduce((function(e,t,r){return t<n?e:r}),0)},N=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:E,n=t[Math.round(e)];return r.reduce((function(e,t,r){return t<n?e:r}),0)+1},A=function(e,t){if(e){var r=e.rotation?e.map.height:e.map.width;return{width:t,height:(e.rotation?e.map.width:e.map.height)/r*t}}return{width:100,height:100}},F=function(e){var t=(0,n.reproject)(e.center,"EPSG:4326",e.projection);return{units:(0,n.getUnits)(e.projection),srs:(0,n.normalizeSRS)(e.projection||"EPSG:3857"),layout:P.getLayoutName(e),dpi:parseInt(e.resolution,10),outputFilename:"mapstore-print",geodetic:!1,mapTitle:e.name||"",comment:e.description||"",layers:P.getMapfishLayersSpecification(e.layers,e,"map"),pages:[{center:[t.x,t.y],scale:e.scale||E[Math.round(e.scaleZoom)],rotation:0}],legends:P.getMapfishLayersSpecification(e.layers,e,"legend")}},D=function(e,t,r){return e.filter((function(e){return P.specCreators[e.type]&&P.specCreators[e.type][r]})).map((function(e){return P.specCreators[e.type][r](e,t)}))},Z={wms:{map:function(e,t){return{baseURL:P.normalizeUrl(e.url)+"?",opacity:L(e),singleTile:!1,type:"WMS",layers:[e.name],format:e.format||"image/png",styles:[e.style||""],customParams:(0,o.addAuthenticationParameter)(P.normalizeUrl(e.url),v()({TRANSPARENT:!0,TILED:!0,EXCEPTIONS:"application/vnd.ogc.se_inimage",scaleMethod:"accurate",ENV:(0,h.generateEnvString)(t.env)},e.baseParams||{},e.params||{},w({},(0,a.optionsToVendorParams)({layerFilter:e.layerFilter,filterObj:e.filterObj}))))}},legend:function(e,t){return{name:e.title||e.name,classes:[{name:"",icons:[P.normalizeUrl(e.url)+g.format({query:(0,o.addAuthenticationParameter)(P.normalizeUrl(e.url),w({TRANSPARENT:!0,EXCEPTIONS:"application/vnd.ogc.se_xml",VERSION:"1.1.1",SERVICE:"WMS",REQUEST:"GetLegendGraphic",LAYER:e.name,LANGUAGE:t.language||"",STYLE:e.style||"",SCALE:t.scale,height:t.iconSize,width:t.iconSize,minSymbolSize:t.iconSize,LEGEND_OPTIONS:"forceLabels:"+(t.forceLabels?"on":"")+";fontAntialiasing:"+t.antiAliasing+";dpi:"+t.legendDpi+";fontStyle:"+((t.bold?"bold":t.italic&&"italic")||"")+";fontName:"+t.fontFamily+";fontSize:"+t.fontSize,format:"image/png"},v()({},e.params)))})]}]}}},vector:{map:function(e,t){return{type:"Vector",name:e.name,opacity:L(e),styleProperty:"ms_style",styles:{1:P.toOpenLayers2Style(e,e.style),Polygon:P.toOpenLayers2Style(e,e.style,"Polygon"),LineString:P.toOpenLayers2Style(e,e.style,"LineString"),Point:P.toOpenLayers2Style(e,e.style,"Point"),FeatureCollection:P.toOpenLayers2Style(e,e.style,"FeatureCollection")},geoJson:(0,n.reprojectGeoJson)({type:"FeatureCollection",features:C(e)&&(0,l._P)(e.features)||e.features.map((function(e){return w(w({},e),{},{properties:w(w({},e.properties),{},{ms_style:e&&e.geometry&&e.geometry.type&&e.geometry.type.replace("Multi","")||1})})}))},"EPSG:4326",t.projection)}}},wfs:{map:function(e){return{type:"Vector",name:e.name,opacity:L(e),styleProperty:"ms_style",styles:{1:P.toOpenLayers2Style(e,e.style),Polygon:P.toOpenLayers2Style(e,e.style,"Polygon"),LineString:P.toOpenLayers2Style(e,e.style,"LineString"),Point:P.toOpenLayers2Style(e,e.style,"Point"),FeatureCollection:P.toOpenLayers2Style(e,e.style,"FeatureCollection")},geoJson:e.geoJson&&{type:"FeatureCollection",features:e.geoJson.features.map((function(e){return w(w({},e),{},{properties:w(w({},e.properties),{},{ms_style:e&&e.geometry&&e.geometry.type&&e.geometry.type.replace("Multi","")||1})})}))}}}},osm:{map:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{baseURL:"http://a.tile.openstreetmap.org/",opacity:L(e),singleTile:!1,type:"OSM",maxExtent:[-20037508.3392,-20037508.3392,20037508.3392,20037508.3392],tileSize:[256,256],extension:"png",resolutions:[156543.03390625,78271.516953125,39135.7584765625,19567.87923828125,9783.939619140625,4891.9698095703125,2445.9849047851562,1222.9924523925781,611.4962261962891,305.74811309814453,152.87405654907226,76.43702827453613,38.218514137268066,19.109257068634033,9.554628534317017,4.777314267158508,2.388657133579254,1.194328566789627,.5971642833948135]}}},mapquest:{map:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{baseURL:"http://otile1.mqcdn.com/tiles/1.0.0/map/",opacity:L(e),singleTile:!1,type:"OSM",maxExtent:[-20037508.3392,-20037508.3392,20037508.3392,20037508.3392],tileSize:[256,256],extension:"png",resolutions:[156543.03390625,78271.516953125,39135.7584765625,19567.87923828125,9783.939619140625,4891.9698095703125,2445.9849047851562,1222.9924523925781,611.4962261962891,305.74811309814453,152.87405654907226,76.43702827453613,38.218514137268066,19.109257068634033,9.554628534317017,4.777314267158508,2.388657133579254,1.194328566789627,.5971642833948135]}}},wmts:{map:function(e,t){var r=t.projection,n=(0,u.getTileMatrix)(e,r),i=n.tileMatrixSet,a=n.tileMatrixSetName;if(!i)throw Error("tile matrix not found for pdf EPSG"+r);var l=P.getWMTSMatrixIds(e,i),s=P.normalizeUrl((0,m.castArray)(e.url)[0]),c={};return s.indexOf("{Style}")>=0&&(c={dimensions:["Style"],params:{STYLE:e.style}}),w(w({baseURL:encodeURI(s),format:e.format||"image/png",type:"WMTS",layer:e.name,"customParams ":(0,o.addAuthenticationParameter)(e.capabilitiesURL,v()({TRANSPARENT:!0}))},c),{},{matrixIds:l,matrixSet:a,style:e.style,name:e.name,requestEncoding:"RESTful"===e.requestEncoding?"REST":e.requestEncoding,opacity:L(e),version:e.version||"1.0.0"})}},tileprovider:{map:function(e){var t,r,n=(t=(0,c.h)(e.provider,e),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(o)throw i}}return r}}(t,r)||function(e,t){if(e){if("string"==typeof e)return O(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?O(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[0],i=n[1];if(!(0,m.isEmpty)(i)){var a,l=(0,p.ut)(w(w({},i),{},{url:null!==(a=null==i?void 0:i.url)&&void 0!==a?a:o}));if(!l)throw Error("No base URL found for this layer");var s=l.indexOf("{");return{baseURL:l.slice(0,s),path_format:l.slice(s).replace("{x}","${x}").replace("{y}","${y}").replace("{z}","${z}"),type:"xyz",extension:l.split(".").pop()||"png",opacity:L(e),tileSize:[256,256],maxExtent:[-20037508.3392,-20037508.3392,20037508.3392,20037508.3392],resolutions:[156543.03390625,78271.516953125,39135.7584765625,19567.87923828125,9783.939619140625,4891.9698095703125,2445.9849047851562,1222.9924523925781,611.4962261962891,305.74811309814453,152.87405654907226,76.43702827453613,38.218514137268066,19.109257068634033,9.554628534317017,4.777314267158508,2.388657133579254,1.194328566789627,.5971642833948135].filter((function(e,t){var r=!0;return i.maxNativeZoom&&(r=r&&t<=i.maxNativeZoom),r}))}}return{}}},tms:{map:function(e){var t=e.tileMapUrl.split(e.tileMapService+"/")[1];return{type:"tms",opacity:L(e),layer:t,baseURL:e.tileMapService.substring(0,e.tileMapService.lastIndexOf("/1.0.0")),tileSize:e.tileSize,format:(0,f.A)(e.tileMapUrl),maxExtent:[-20037508.3392,-20037508.3392,20037508.3392,20037508.3392],resolutions:e.tileSets.map((function(e){return e.resolution}))}}}},I=function(e,t){var r=[],o=(0,n.normalizeSRS)(e.srs||"EPSG:3857",e.allowedSRS),i=(0,y.U2)(o).getMetersPerUnit();return t&&t.TileMatrix.map((function(e){var t=e["ows:Identifier"],n=28e-5*e.ScaleDenominator/i,o=[(0,m.toNumber)(e.TileWidth),(0,m.toNumber)(e.TileHeight)],a=e.TopLeftCorner&&e.TopLeftCorner.split(" ").map((function(e){return(0,m.toNumber)(e)})),l=[(0,m.toNumber)(e.MatrixWidth),(0,m.toNumber)(e.MatrixHeight)];return r.push({identifier:t,matrixSize:l,resolution:n,tileSize:o,topLeftCorner:a})})),r},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return-1!==e.indexOf("rgba")?"rgb".concat(e.slice(e.indexOf("("),e.lastIndexOf(",")),")"):e},U=function(e,t,r){return t&&"marker"!==e.styleName?{fillColor:(0,s.qj)(t.fillColor),fillOpacity:t.fillOpacity,externalGraphic:t.iconUrl,pointRadius:t.radius,strokeColor:(0,s.qj)(t.color),strokeOpacity:t.opacity,strokeWidth:t.weight}:P.getOlDefaultStyle(e,r)},W=function(e,t){switch(t||j(e)||""){case"Polygon":case"MultiPolygon":return{fillColor:"#0000FF",fillOpacity:.1,strokeColor:"#0000FF",strokeOpacity:1,strokeWidth:3,strokeDashstyle:"dash",strokeLinecap:"round"};case"MultiLineString":case"LineString":return{strokeColor:"#0000FF",strokeOpacity:1,strokeWidth:3};case"Point":case"MultiPoint":return"marker"===e.styleName?{externalGraphic:"http://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.3/images/marker-icon.png",graphicWidth:25,graphicHeight:41,graphicXOffset:-12,graphicYOffset:-41}:{fillColor:"#FF0000",fillOpacity:0,strokeColor:"#FF0000",pointRadius:5,strokeOpacity:1,strokeWidth:1};default:return{fillColor:"#0000FF",fillOpacity:.1,strokeColor:"#0000FF",pointRadius:5,strokeOpacity:1,strokeWidth:1}}};P={toAbsoluteURL:T,getLayoutName:k,getMapfishLayersSpecification:D,specCreators:Z,normalizeUrl:_,toOpenLayers2Style:U,getWMTSMatrixIds:I,getOlDefaultStyle:W}},93201:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(61545),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.split("?")[0].split("@");if(t.length>1){var r=t[t.length-1];if((0,n.includes)(["png","png8","jpeg","vnd.jpeg-png","gif"],r))return r}return null}},95784:(e,t,r)=>{var n=r(27418),o={PARAM_OPTIONS:["layers","styles","format","transparent","version","tiled","zindex","_v_","cql_filter","sld"],wmsToLeafletOptions:function(e){var t=void 0!==e.opacity?e.opacity:1;return n({layers:e.name,styles:e.style||"",format:e.format||"image/png",transparent:void 0===e.transparent||e.transparent,tiled:void 0===e.tiled||e.tiled,opacity:t},e.params||{})},getWMSURL:function(e){return e.split("?")[0]},filterWMSParamOptions:function(e){var t={};return Object.keys(e).forEach((function(r){r&&r.toLowerCase&&o.PARAM_OPTIONS.indexOf(r.toLowerCase())>=0&&(t[r]=e[r])})),t}};e.exports=o},24961:(e,t,r)=>{function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i=r(56307),a=r(52259).getScales,l=r(90183).parseString,s=r(61545),c=s.head,p=s.isNumber,u=i.TileLayer.extend({defaultWmtsParams:{service:"WMTS",request:"GetTile",version:"1.3.0",layer:"",style:"",tileMatrixSet:"",format:"image/jpeg"},initialize:function(e,t,r){this._url=e[0],this._urls=e,this._urlsIndex=0;var n=i.extend({},this.defaultWmtsParams),o=t.tileSize||this.options.tileSize;for(var a in t.detectRetina&&i.Browser.retina?n.width=n.height=2*o:n.width=n.height=o,t)this.options.hasOwnProperty(a)||"crs"===a||(n[a]=t[a]);this.wmtsParams=n,this.matrixIds=r.matrixIds&&this.getMatrix(r.matrixIds,r)||this.getDefaultMatrix(r),this.matrixSet=r.matrixSet&&r.matrixSet.TileMatrix||[],this.ignoreErrors=r.ignoreErrors||!1,i.setOptions(this,t)},getWMTSParams:function(e,t,r,n,o){var i=a()[r],s=c(e.map((function(t,r){if(r===e.length-1)return null;var n=parseFloat(t.ScaleDenominator),o=parseFloat(e[r+1].ScaleDenominator);return n>=i&&o<i?i-o>(n-o)/2?{id:r,data:t}:{id:r+1,data:e[r+1]}:null})).filter((function(e){return e}))),u=s&&p(s.id)&&s.id+""||0===e.length&&r||null;if(!t[u])return null;var f=t[u].identifier,y=s.data&&s.data.TopLeftCorner&&l(s.data.TopLeftCorner)||t[u].topLeftCorner,m=y.lng||y.x,d=y.lat||y.y,h=Math.round((n.x-m)/o),g=-Math.round((n.y-d)/o),b=s.data&&s.data.MatrixWidth&&s.data.MatrixHeight&&{cols:{min:0,max:s.data.MatrixWidth-1},rows:{min:0,max:s.data.MatrixHeight-1}},v=t[u].ranges||b;return v&&!function(e,t,r){return!(e<r.cols.min||e>r.cols.max||t<r.rows.min||t>r.rows.max)}(h,g,v)?null:{ident:f,tilecol:h,tilerow:g}},getTileUrl:function(e){var t=this._map,r=t.options.crs,o=this.options.tileSize,a=e.multiplyBy(o);a.x+=1,a.y-=1;var l=a.add([o,o]),s=r.project(t.unproject(a,e.z)),c=r.project(t.unproject(l,e.z)).x-s.x,p=this.getWMTSParams(n(this.matrixSet),n(this.matrixIds),e.z,s,c);if(!p)return"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";this._urlsIndex++,this._urlsIndex===this._urls.length&&(this._urlsIndex=0);var u=i.Util.template(this._urls[this._urlsIndex],{s:this._getSubdomain(e),TileRow:p.tilerow,TileCol:p.tilecol,TileMatrixSet:this.options.tileMatrixSet,TileMatrix:p.ident,Style:this.options.style});return"RESTful"===this.options.requestEncoding?u:u+i.Util.getParamString(this.wmtsParams,u,!0)+"&tilematrix="+p.ident+"&tilerow="+p.tilerow+"&tilecol="+p.tilecol},getMatrix:function(e,t){return e.map((function(e){return{identifier:e.identifier,topLeftCorner:new i.LatLng(t.originY,t.originX),ranges:e.ranges||null}}))},getDefaultMatrix:function(e){for(var t=new Array(22),r=0;r<22;r++)t[r]={identifier:e.tileMatrixPrefix+r,topLeftCorner:new i.LatLng(e.originY,e.originX)};return t},onError:function(){return!this.ignoreErrors}});e.exports=u},43248:(e,t,r)=>{(e.exports=r(9252)()).push([e.id,".msgapi #mappreview-scalebox {\r\n    position: relative;\r\n    top: -36px;\r\n    width: 150px;\r\n    left: 10px;\r\n}\r\n\r\n.msgapi .print-error {\r\n    height: 100px;\r\n    color: #600;\r\n    background-color: #E8BABA;\r\n    border: solid #600 1px;\r\n    border-radius: 10px;\r\n    padding: 10px;\r\n}\r\n.msgapi .print-error span, .msgapi .print-warning span {\r\n    display: inline-block;\r\n    max-height: 80px;\r\n    overflow: auto;\r\n    width: 100%;\r\n}\r\n.msgapi .print-warning {\r\n    height: 50px;\r\n    color: #660;\r\n    background-color: #E6E8BA;\r\n    border: solid #660 1px;\r\n    border-radius: 10px;\r\n    padding: 10px;\r\n}\r\n.msgapi .print-preview-panel .spinner {\r\n    display: inline-block;\r\n}\r\n\r\n.msgapi .print-mappreview-refresh {\r\n    position: relative;\r\n    top: -83px;\r\n    right: -155px;\r\n    z-index: 1000;\r\n}\r\n.msgapi #mapstore-print-panel.modal-dialog {\r\n    z-index: 2000;\r\n}\r\n\r\n.msgapi #mapstore-print-panel .modal-body {\r\n    max-height: calc(100vh - 190px);\r\n    overflow-y: auto;\r\n}\r\n\r\n.msgapi .mapstore-print-panel {\r\n    width: 850px;\r\n    position: absolute;\r\n    top: 50px;\r\n    right: 60px;\r\n    zIndex: 100;\r\n}\r\n\r\n.msgapi .mapstore-print-panel .form-inline label {\r\n    margin-right: 20px;\r\n}\r\n\r\n.msgapi .mapstore-print-panel .print-download {\r\n    margin-right: 10px;\r\n    display: inline-block;\r\n    width: 30px;\r\n    height: 34px;\r\n    border: solid 1px #CCC;\r\n    padding: 7px;\r\n    border-radius: 4px;\r\n    padding-right: 25px;\r\n    padding-left: 11px;\r\n    top: 2px;\r\n    position: relative;\r\n}\r\n\r\n.msgapi .print-layout .panel-title {\r\n    padding-left: 10px;\r\n}\r\n\r\n.msgapi .print-layout .panel-title a{\r\n    text-decoration: none;\r\n}\r\n\r\n.msgapi .print-layout .panel-title a:hover{\r\n    color: #d6d6d6;\r\n}\r\n\r\n.msgapi .print-legend-options .panel-title {\r\n    padding-left: 10px;\r\n}\r\n\r\n.msgapi .print-legend-options .panel-title a{\r\n    text-decoration: none;\r\n}\r\n\r\n.msgapi .print-legend-options .panel-title a:hover{\r\n    color: #d6d6d6;\r\n}\r\n\r\n\r\n@media (min-width: 992px) {\r\n    .msgapi #mapstore-print-panel {\r\n        width: 825px;\r\n    }\r\n}\r\n\r\n@media (max-width: 991px) {\r\n    .msgapi #mapstore-print-panel {\r\n        width: 700px;\r\n    }\r\n}\r\n\r\n@media (max-width: 767px) {\r\n    .msgapi #mapstore-print-panel {\r\n        width: 98%;\r\n    }\r\n}\r\n\r\n.msgapi #mapstore-print-panel .modal-body .print-mappreview-refresh {\r\n    top: -96px;\r\n}\r\n\r\n.msgapi #mapstore-print-panel .print-submit {\r\n    float: right;\r\n}\r\n\r\n@media (min-width: 768px) {\r\n    .msgapi #mapstore-print-panel input[type=radio] {\r\n        margin: 0 8px 0 20px;\r\n    }\r\n}\r\n\r\n.msgapi #mapstore-print-panel .print-map-preview {\r\n    margin-bottom: 15px;\r\n}\r\n\r\n.msgapi #mapstore-print-panel .panel-default {\r\n    border: none;\r\n}\r\n\r\n.msgapi #mapstore-print-panel .panel-heading .panel-title {\r\n    font-weight: bold;\r\n}\r\n\r\n.msgapi #mapstore-print-panel .panel-heading {\r\n    padding-left: 0;\r\n    background-color: transparent;\r\n}\r\n\r\n.msgapi #mapstore-print-panel .panel-body {\r\n    padding: 10px;\r\n}\r\n\r\n.msgapi #mapstore-print-panel .form-control {\r\n    padding: 0 10px;\r\n    height: 25px;\r\n}\r\n\r\n.msgapi #mapstore-print-panel .print-download {\r\n    margin-right: 10px;\r\n}\r\n\r\n.msgapi #mapstore-print-panel .print-download a {\r\n    color: white;\r\n}\r\n\r\n.msgapi #mapstore-print-panel .print-legend-options .container-fluid {\r\n    padding-left: 0;\r\n    padding-right: 0;\r\n}\r\n",""])},97142:(e,t,r)=>{var n=r(43248);"string"==typeof n&&(n=[[e.id,n,""]]),r(14246)(n,{}),n.locals&&(e.exports=n.locals)},12993:()=>{},58618:()=>{},120:()=>{},66355:()=>{},45804:()=>{}}]);