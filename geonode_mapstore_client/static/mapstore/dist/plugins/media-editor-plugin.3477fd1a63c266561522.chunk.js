(window.webpackJsonp=window.webpackJsonp||[]).push([["plugins/media-editor-plugin","plugins/geostory-navigation-plugin~plugins/metadata-plugin~plugins/share-plugin"],{"./MapStore2/node_modules/deepmerge/dist/cjs.js":function(e,t,r){"use strict";var n=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===o}(e)}(e)};var o="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function i(e,t){return!1!==t.clone&&t.isMergeableObject(e)?s((r=e,Array.isArray(r)?[]:{}),e,t):e;var r}function a(e,t,r){return e.concat(t).map((function(e){return i(e,r)}))}function c(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function l(e,t){try{return t in e}catch(e){return!1}}function u(e,t,r){var n={};return r.isMergeableObject(e)&&c(e).forEach((function(t){n[t]=i(e[t],r)})),c(t).forEach((function(o){(function(e,t){return l(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,o)||(l(e,o)&&r.isMergeableObject(t[o])?n[o]=function(e,t){if(!t.customMerge)return s;var r=t.customMerge(e);return"function"==typeof r?r:s}(o,r)(e[o],t[o],r):n[o]=i(t[o],r))})),n}function s(e,t,r){(r=r||{}).arrayMerge=r.arrayMerge||a,r.isMergeableObject=r.isMergeableObject||n,r.cloneUnlessOtherwiseSpecified=i;var o=Array.isArray(t);return o===Array.isArray(e)?o?r.arrayMerge(e,t,r):u(e,t,r):i(t,r)}s.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,r){return s(e,r,t)}),{})};var p=s;e.exports=p},"./MapStore2/node_modules/load-script/index.js":function(e,t){function r(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function n(e,t){e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,t(null,e))}}e.exports=function(e,t,o){var i=document.head||document.getElementsByTagName("head")[0],a=document.createElement("script");"function"==typeof t&&(o=t,t={}),t=t||{},o=o||function(){},a.type=t.type||"text/javascript",a.charset=t.charset||"utf8",a.async=!("async"in t)||!!t.async,a.src=e,t.attrs&&function(e,t){for(var r in t)e.setAttribute(r,t[r])}(a,t.attrs),t.text&&(a.text=""+t.text),("onload"in a?r:n)(a,o),a.onload||r(a,o),i.appendChild(a)}},"./MapStore2/node_modules/lodash/_baseFindKey.js":function(e,t){e.exports=function(e,t,r){var n;return r(e,(function(e,r,o){if(t(e,r,o))return n=r,!1})),n}},"./MapStore2/node_modules/lodash/debounce.js":function(e,t,r){var n=r("./MapStore2/node_modules/lodash/isObject.js"),o=r("./MapStore2/node_modules/lodash/now.js"),i=r("./MapStore2/node_modules/lodash/toNumber.js"),a=Math.max,c=Math.min;e.exports=function(e,t,r){var l,u,s,p,f,d,y=0,m=!1,b=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var r=l,n=u;return l=u=void 0,y=t,p=e.apply(n,r)}function g(e){return y=e,f=setTimeout(j,t),m?v(e):p}function O(e){var r=e-d;return void 0===d||r>=t||r<0||b&&e-y>=s}function j(){var e=o();if(O(e))return P(e);f=setTimeout(j,function(e){var r=t-(e-d);return b?c(r,s-(e-y)):r}(e))}function P(e){return f=void 0,h&&l?v(e):(l=u=void 0,p)}function w(){var e=o(),r=O(e);if(l=arguments,u=this,d=e,r){if(void 0===f)return g(d);if(b)return clearTimeout(f),f=setTimeout(j,t),v(d)}return void 0===f&&(f=setTimeout(j,t)),p}return t=i(t)||0,n(r)&&(m=!!r.leading,s=(b="maxWait"in r)?a(i(r.maxWait)||0,t):s,h="trailing"in r?!!r.trailing:h),w.cancel=function(){void 0!==f&&clearTimeout(f),y=0,l=d=u=f=void 0},w.flush=function(){return void 0===f?p:P(o())},w}},"./MapStore2/node_modules/lodash/findKey.js":function(e,t,r){var n=r("./MapStore2/node_modules/lodash/_baseFindKey.js"),o=r("./MapStore2/node_modules/lodash/_baseForOwn.js"),i=r("./MapStore2/node_modules/lodash/_baseIteratee.js");e.exports=function(e,t){return n(e,i(t,3),o)}},"./MapStore2/node_modules/lodash/now.js":function(e,t,r){var n=r("./MapStore2/node_modules/lodash/_root.js");e.exports=function(){return n.Date.now()}},"./MapStore2/node_modules/react-player/lib/Player.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==c(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r("./MapStore2/node_modules/react/index.js")),o=r("./MapStore2/node_modules/react-player/lib/props.js"),i=r("./MapStore2/node_modules/react-player/lib/utils.js");function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(h,e);var t,r,o,a,c=(t=h,function(){var e,r=y(t);if(d()){var n=y(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return p(this,e)});function h(){var e;u(this,h);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return b(f(e=c.call.apply(c,[this].concat(r))),"mounted",!1),b(f(e),"isReady",!1),b(f(e),"isPlaying",!1),b(f(e),"isLoading",!0),b(f(e),"loadOnReady",null),b(f(e),"startOnPlay",!0),b(f(e),"seekOnPlay",null),b(f(e),"onDurationCalled",!1),b(f(e),"getInternalPlayer",(function(t){return e.player?e.player[t]:null})),b(f(e),"progress",(function(){if(e.props.url&&e.player&&e.isReady){var t=e.getCurrentTime()||0,r=e.getSecondsLoaded(),n=e.getDuration();if(n){var o={playedSeconds:t,played:t/n};null!==r&&(o.loadedSeconds=r,o.loaded=r/n),o.playedSeconds===e.prevPlayed&&o.loadedSeconds===e.prevLoaded||e.props.onProgress(o),e.prevPlayed=o.playedSeconds,e.prevLoaded=o.loadedSeconds}}e.progressTimeout=setTimeout(e.progress,e.props.progressFrequency||e.props.progressInterval)})),b(f(e),"handleReady",(function(){if(e.mounted){e.isReady=!0,e.isLoading=!1;var t=e.props,r=t.onReady,n=t.playing,o=t.volume,i=t.muted;r(),i||null===o||e.player.setVolume(o),e.loadOnReady?(e.player.load(e.loadOnReady,!0),e.loadOnReady=null):n&&e.player.play(),e.handleDurationCheck()}})),b(f(e),"handlePlay",(function(){e.isPlaying=!0,e.isLoading=!1;var t=e.props,r=t.onStart,n=t.onPlay,o=t.playbackRate;e.startOnPlay&&(e.player.setPlaybackRate&&1!==o&&e.player.setPlaybackRate(o),r(),e.startOnPlay=!1),n(),e.seekOnPlay&&(e.seekTo(e.seekOnPlay),e.seekOnPlay=null),e.handleDurationCheck()})),b(f(e),"handlePause",(function(t){e.isPlaying=!1,e.isLoading||e.props.onPause(t)})),b(f(e),"handleEnded",(function(){var t=e.props,r=t.activePlayer,n=t.loop,o=t.onEnded;r.loopOnEnded&&n&&e.seekTo(0),n||(e.isPlaying=!1,o())})),b(f(e),"handleError",(function(){var t;e.isLoading=!1,(t=e.props).onError.apply(t,arguments)})),b(f(e),"handleDurationCheck",(function(){clearTimeout(e.durationCheckTimeout);var t=e.getDuration();t?e.onDurationCalled||(e.props.onDuration(t),e.onDurationCalled=!0):e.durationCheckTimeout=setTimeout(e.handleDurationCheck,100)})),b(f(e),"handleLoaded",(function(){e.isLoading=!1})),b(f(e),"ref",(function(t){t&&(e.player=t)})),e}return r=h,(o=[{key:"componentDidMount",value:function(){this.mounted=!0,this.player.load(this.props.url),this.progress()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.player.stop(),this.player.disablePIP&&this.player.disablePIP(),this.mounted=!1}},{key:"componentDidUpdate",value:function(e){var t=this,r=this.props,n=r.url,o=r.playing,a=r.volume,c=r.muted,l=r.playbackRate,u=r.pip,s=r.loop,p=r.activePlayer;if(!(0,i.isEqual)(e.url,n)){if(this.isLoading&&!p.forceLoad)return console.warn("ReactPlayer: the attempt to load ".concat(n," is being deferred until the player has loaded")),void(this.loadOnReady=n);this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(n,this.isReady)}e.playing||!o||this.isPlaying||this.player.play(),e.playing&&!o&&this.isPlaying&&this.player.pause(),!e.pip&&u&&this.player.enablePIP&&this.player.enablePIP(),e.pip&&!u&&this.player.disablePIP&&this.player.disablePIP(),e.volume!==a&&null!==a&&this.player.setVolume(a),e.muted!==c&&(c?this.player.mute():(this.player.unmute(),null!==a&&setTimeout((function(){return t.player.setVolume(a)})))),e.playbackRate!==l&&this.player.setPlaybackRate&&this.player.setPlaybackRate(l),e.loop!==s&&this.player.setLoop&&this.player.setLoop(s)}},{key:"getDuration",value:function(){return this.isReady?this.player.getDuration():null}},{key:"getCurrentTime",value:function(){return this.isReady?this.player.getCurrentTime():null}},{key:"getSecondsLoaded",value:function(){return this.isReady?this.player.getSecondsLoaded():null}},{key:"seekTo",value:function(e,t){var r=this;if(!this.isReady&&0!==e)return this.seekOnPlay=e,void setTimeout((function(){r.seekOnPlay=null}),5e3);if(t?"fraction"===t:e>0&&e<1){var n=this.player.getDuration();return n?void this.player.seekTo(n*e):void console.warn("ReactPlayer: could not seek using fraction – duration not yet available")}this.player.seekTo(e)}},{key:"render",value:function(){var e=this.props.activePlayer;return e?n.default.createElement(e,l({},this.props,{ref:this.ref,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError})):null}}])&&s(r.prototype,o),a&&s(r,a),h}(n.Component);t.default=h,b(h,"displayName","Player"),b(h,"propTypes",o.propTypes),b(h,"defaultProps",o.defaultProps)},"./MapStore2/node_modules/react-player/lib/Preview.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var c=n?Object.getOwnPropertyDescriptor(e,a):null;c&&(c.get||c.set)?Object.defineProperty(r,a,c):r[a]=e[a]}r.default=e,t&&t.set(e,r);return r}(r("./MapStore2/node_modules/react/index.js"));function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(b,e);var t,r,o,i,a=(t=b,function(){var e,r=d(t);if(f()){var n=d(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return s(this,e)});function b(){var e;l(this,b);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return m(p(e=a.call.apply(a,[this].concat(r))),"mounted",!1),m(p(e),"state",{image:null}),e}return r=b,(o=[{key:"componentDidMount",value:function(){this.mounted=!0,this.fetchImage(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.url,n=t.light;e.url===r&&e.light===n||this.fetchImage(this.props)}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"fetchImage",value:function(e){var t=this,r=e.url,n=e.light;if("string"!=typeof n)return this.setState({image:null}),window.fetch("https://noembed.com/embed?url=".concat(r)).then((function(e){return e.json()})).then((function(e){if(e.thumbnail_url&&t.mounted){var r=e.thumbnail_url.replace("height=100","height=480");t.setState({image:r})}}));this.setState({image:n})}},{key:"render",value:function(){var e=this.props,t=e.onClick,r=e.playIcon,o=this.state.image,i={display:"flex",alignItems:"center",justifyContent:"center"},a={preview:c({width:"100%",height:"100%",backgroundImage:o?"url(".concat(o,")"):void 0,backgroundSize:"cover",backgroundPosition:"center",cursor:"pointer"},i),shadow:c({background:"radial-gradient(rgb(0, 0, 0, 0.3), rgba(0, 0, 0, 0) 60%)",borderRadius:"64px",width:"64px",height:"64px"},i),playIcon:{borderStyle:"solid",borderWidth:"16px 0 16px 26px",borderColor:"transparent transparent transparent white",marginLeft:"7px"}},l=n.default.createElement("div",{style:a.shadow,className:"react-player__shadow"},n.default.createElement("div",{style:a.playIcon,className:"react-player__play-icon"}));return n.default.createElement("div",{style:a.preview,className:"react-player__preview",onClick:t},r||l)}}])&&u(r.prototype,o),i&&u(r,i),b}(n.Component);t.default=b},"./MapStore2/node_modules/react-player/lib/ReactPlayer.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"FilePlayer",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"YouTube",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"SoundCloud",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"Vimeo",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"Facebook",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(t,"Streamable",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"Wistia",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(t,"Twitch",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"DailyMotion",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(t,"Mixcloud",{enumerable:!0,get:function(){return g.default}}),t.default=void 0;var n=P(r("./MapStore2/node_modules/react/index.js")),o=r("./MapStore2/node_modules/react-player/lib/props.js"),i=r("./MapStore2/node_modules/react-player/lib/utils.js"),a=O(r("./MapStore2/node_modules/react-player/lib/players/index.js")),c=O(r("./MapStore2/node_modules/react-player/lib/Player.js")),l=O(r("./MapStore2/node_modules/react-player/lib/Preview.js")),u=P(r("./MapStore2/node_modules/react-player/lib/players/FilePlayer.js")),s=O(r("./MapStore2/node_modules/react-player/lib/preload.js")),p=O(r("./MapStore2/node_modules/react-player/lib/players/YouTube.js")),f=O(r("./MapStore2/node_modules/react-player/lib/players/SoundCloud.js")),d=O(r("./MapStore2/node_modules/react-player/lib/players/Vimeo.js")),y=O(r("./MapStore2/node_modules/react-player/lib/players/Facebook.js")),m=O(r("./MapStore2/node_modules/react-player/lib/players/Streamable.js")),b=O(r("./MapStore2/node_modules/react-player/lib/players/Wistia.js")),h=O(r("./MapStore2/node_modules/react-player/lib/players/Twitch.js")),v=O(r("./MapStore2/node_modules/react-player/lib/players/DailyMotion.js")),g=O(r("./MapStore2/node_modules/react-player/lib/players/Mixcloud.js"));function O(e){return e&&e.__esModule?e:{default:e}}function j(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return j=function(){return e},e}function P(e){if(e&&e.__esModule)return e;if(null===e||"object"!==w(e)&&"function"!=typeof e)return{default:e};var t=j();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){N(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function x(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?I(e):t}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var L=Object.keys(o.propTypes),z=[],F=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(y,e);var t,r,p,f,d=(t=y,function(){var e,r=R(t);if(C()){var n=R(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return x(this,e)});function y(){var e;T(this,y);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return N(I(e=d.call.apply(d,[this].concat(r))),"config",(0,i.getConfig)(e.props,o.defaultProps,!0)),N(I(e),"state",{showPreview:!!e.props.light}),N(I(e),"handleClickPreview",(function(){e.setState({showPreview:!1})})),N(I(e),"showPreview",(function(){e.setState({showPreview:!0})})),N(I(e),"getDuration",(function(){return e.player?e.player.getDuration():null})),N(I(e),"getCurrentTime",(function(){return e.player?e.player.getCurrentTime():null})),N(I(e),"getSecondsLoaded",(function(){return e.player?e.player.getSecondsLoaded():null})),N(I(e),"getInternalPlayer",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"player";return e.player?e.player.getInternalPlayer(t):null})),N(I(e),"seekTo",(function(t,r){if(!e.player)return null;e.player.seekTo(t,r)})),N(I(e),"handleReady",(function(){e.props.onReady(I(e))})),N(I(e),"wrapperRef",(function(t){e.wrapper=t})),N(I(e),"activePlayerRef",(function(t){e.player=t})),e}return r=y,(p=[{key:"componentDidMount",value:function(){this.props.progressFrequency&&console.warn("ReactPlayer: %cprogressFrequency%c is deprecated, please use %cprogressInterval%c instead","font-weight: bold","","font-weight: bold","")}},{key:"shouldComponentUpdate",value:function(e,t){return!(0,i.isEqual)(this.props,e)||!(0,i.isEqual)(this.state,t)}},{key:"componentDidUpdate",value:function(e){var t=this.props.light;this.config=(0,i.getConfig)(this.props,o.defaultProps),!e.light&&t&&this.setState({showPreview:!0}),e.light&&!t&&this.setState({showPreview:!1})}},{key:"getActivePlayer",value:function(e){for(var t=0,r=[].concat(_(z),_(a.default));t<r.length;t++){var n=r[t];if(n.canPlay(e))return n}return u.FilePlayer}},{key:"renderActivePlayer",value:function(e,t){return e?n.default.createElement(c.default,M({},this.props,{key:t.displayName,ref:this.activePlayerRef,config:this.config,activePlayer:t,onReady:this.handleReady})):null}},{key:"sortPlayers",value:function(e,t){return e&&t?e.key<t.key?-1:1:0}},{key:"render",value:function(){var e=this.props,t=e.url,r=e.controls,a=e.style,c=e.width,u=e.height,p=e.light,f=e.playIcon,d=e.wrapper,y=this.state.showPreview&&t,m=(0,i.omit)(this.props,L,o.DEPRECATED_CONFIG_PROPS),b=this.getActivePlayer(t),h=this.renderActivePlayer(t,b),v=(0,s.default)(t,r,this.config),g=[h].concat(_(v)).sort(this.sortPlayers),O=n.default.createElement(l.default,{url:t,light:p,playIcon:f,onClick:this.handleClickPreview});return n.default.createElement(d,M({ref:this.wrapperRef,style:E({},a,{width:c,height:u})},m),y?O:g)}}])&&D(r.prototype,p),f&&D(r,f),y}(n.Component);t.default=F,N(F,"addCustomPlayer",(function(e){z.push(e)})),N(F,"removeCustomPlayers",(function(){z=[]})),N(F,"displayName","ReactPlayer"),N(F,"propTypes",o.propTypes),N(F,"defaultProps",o.defaultProps),N(F,"canPlay",(function(e){for(var t=0,r=[].concat(_(z),_(a.default));t<r.length;t++){if(r[t].canPlay(e))return!0}return!1})),N(F,"canEnablePIP",(function(e){for(var t=0,r=[].concat(_(z),_(a.default));t<r.length;t++){var n=r[t];if(n.canEnablePIP&&n.canEnablePIP(e))return!0}return!1}))},"./MapStore2/node_modules/react-player/lib/players/DailyMotion.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.DailyMotion=void 0;var n,o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==l(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r("./MapStore2/node_modules/react/index.js")),i=r("./MapStore2/node_modules/react-player/lib/utils.js"),a=(n=r("./MapStore2/node_modules/react-player/lib/singlePlayer.js"))&&n.__esModule?n:{default:n};function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){O(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(n=(a=c.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var j=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?$/,P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(l,e);var t,r,n,a,c=(t=l,function(){var e,r=v(t);if(h()){var n=v(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return m(this,e)});function l(){var e;d(this,l);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return O(b(e=c.call.apply(c,[this].concat(r))),"callPlayer",i.callPlayer),O(b(e),"onDurationChange",(function(){var t=e.getDuration();e.props.onDuration(t)})),O(b(e),"mute",(function(){e.callPlayer("setMuted",!0)})),O(b(e),"unmute",(function(){e.callPlayer("setMuted",!1)})),O(b(e),"ref",(function(t){e.container=t})),e}return r=l,(n=[{key:"load",value:function(e){var t=this,r=this.props,n=r.controls,o=r.config,a=r.onError,c=r.playing,l=p(e.match(j),2)[1];this.player?this.player.load(l,{start:(0,i.parseStartTime)(e),autoplay:c}):(0,i.getSDK)("https://api.dmcdn.net/all.js","DM","dmAsyncInit",(function(e){return e.player})).then((function(r){if(t.container){var c=r.player;t.player=new c(t.container,{width:"100%",height:"100%",video:l,params:s({controls:n,autoplay:t.props.playing,mute:t.props.muted,start:(0,i.parseStartTime)(e),origin:window.location.origin},o.dailymotion.params),events:{apiready:t.props.onReady,seeked:function(){return t.props.onSeek(t.player.currentTime)},video_end:t.props.onEnded,durationchange:t.onDurationChange,pause:t.props.onPause,playing:t.props.onPlay,waiting:t.props.onBuffer,error:function(e){return a(e)}}})}}),a)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(e){this.callPlayer("seek",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",e)}},{key:"getDuration",value:function(){return this.player.duration||null}},{key:"getCurrentTime",value:function(){return this.player.currentTime}},{key:"getSecondsLoaded",value:function(){return this.player.bufferedTime}},{key:"render",value:function(){var e={width:"100%",height:"100%",display:this.props.display};return o.default.createElement("div",{style:e},o.default.createElement("div",{ref:this.ref}))}}])&&y(r.prototype,n),a&&y(r,a),l}(o.Component);t.DailyMotion=P,O(P,"displayName","DailyMotion"),O(P,"canPlay",(function(e){return j.test(e)})),O(P,"loopOnEnded",!0);var w=(0,a.default)(P);t.default=w},"./MapStore2/node_modules/react-player/lib/players/Facebook.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Facebook=void 0;var n,o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==l(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r("./MapStore2/node_modules/react/index.js")),i=r("./MapStore2/node_modules/react-player/lib/utils.js"),a=(n=r("./MapStore2/node_modules/react-player/lib/singlePlayer.js"))&&n.__esModule?n:{default:n};function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h="https://connect.facebook.net/en_US/sdk.js",v=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/,g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(l,e);var t,r,n,a,c=(t=l,function(){var e,r=y(t);if(d()){var n=y(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return p(this,e)});function l(){var e;u(this,l);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return b(f(e=c.call.apply(c,[this].concat(r))),"callPlayer",i.callPlayer),b(f(e),"playerID",e.props.config.facebook.playerId||"".concat("facebook-player-").concat((0,i.randomString)())),b(f(e),"mute",(function(){e.callPlayer("mute")})),b(f(e),"unmute",(function(){e.callPlayer("unmute")})),e}return r=l,(n=[{key:"load",value:function(e,t){var r=this;t?(0,i.getSDK)(h,"FB","fbAsyncInit").then((function(e){return e.XFBML.parse()})):(0,i.getSDK)(h,"FB","fbAsyncInit").then((function(e){e.init({appId:r.props.config.facebook.appId,xfbml:!0,version:r.props.config.facebook.version}),e.Event.subscribe("xfbml.render",(function(e){r.props.onLoaded()})),e.Event.subscribe("xfbml.ready",(function(e){"video"===e.type&&e.id===r.playerID&&(r.player=e.instance,r.player.subscribe("startedPlaying",r.props.onPlay),r.player.subscribe("paused",r.props.onPause),r.player.subscribe("finishedPlaying",r.props.onEnded),r.player.subscribe("startedBuffering",r.props.onBuffer),r.player.subscribe("finishedBuffering",r.props.onBufferEnd),r.player.subscribe("error",r.props.onError),r.props.muted||r.callPlayer("unmute"),r.props.onReady(),document.getElementById(r.playerID).querySelector("iframe").style.visibility="visible")}))}))}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(e){this.callPlayer("seek",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",e)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentPosition")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){return o.default.createElement("div",{style:{width:"100%",height:"100%"},id:this.playerID,className:"fb-video","data-href":this.props.url,"data-autoplay":this.props.playing?"true":"false","data-allowfullscreen":"true","data-controls":this.props.controls?"true":"false"})}}])&&s(r.prototype,n),a&&s(r,a),l}(o.Component);t.Facebook=g,b(g,"displayName","Facebook"),b(g,"canPlay",(function(e){return v.test(e)})),b(g,"loopOnEnded",!0);var O=(0,a.default)(g);t.default=O},"./MapStore2/node_modules/react-player/lib/players/FilePlayer.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FilePlayer=void 0;var n,o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==l(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r("./MapStore2/node_modules/react/index.js")),i=r("./MapStore2/node_modules/react-player/lib/utils.js"),a=(n=r("./MapStore2/node_modules/react-player/lib/singlePlayer.js"))&&n.__esModule?n:{default:n};function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g(e,t)}(e))){var t=0,r=function(){};return{s:r,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,o,i=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw o}}}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var O="undefined"!=typeof navigator&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,j=/\.(m4a|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,P=/\.(mp4|og[gv]|webm|mov|m4v)($|\?)/i,w=/\.(m3u8)($|\?)/i,S=/\.(mpd)($|\?)/i,E=/www\.dropbox\.com\/.+/;function M(e){if(e instanceof Array){var t,r=v(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;if("string"==typeof n&&M(n))return!0;if(M(n.src))return!0}}catch(e){r.e(e)}finally{r.f()}return!1}return!!(0,i.isMediaStream)(e)||(j.test(e)||P.test(e)||w.test(e)||S.test(e))}function _(e){return e||(e=document.createElement("video")),e.webkitSupportsPresentationMode&&"function"==typeof e.webkitSetPresentationMode&&!/iPhone|iPod/.test(navigator.userAgent)}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(l,e);var t,r,n,a,c=(t=l,function(){var e,r=m(t);if(y()){var n=m(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return f(this,e)});function l(){var e;s(this,l);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return h(d(e=c.call.apply(c,[this].concat(r))),"onReady",(function(){var t;return(t=e.props).onReady.apply(t,arguments)})),h(d(e),"onPlay",(function(){var t;return(t=e.props).onPlay.apply(t,arguments)})),h(d(e),"onBuffer",(function(){var t;return(t=e.props).onBuffer.apply(t,arguments)})),h(d(e),"onBufferEnd",(function(){var t;return(t=e.props).onBufferEnd.apply(t,arguments)})),h(d(e),"onPause",(function(){var t;return(t=e.props).onPause.apply(t,arguments)})),h(d(e),"onEnded",(function(){var t;return(t=e.props).onEnded.apply(t,arguments)})),h(d(e),"onError",(function(){var t;return(t=e.props).onError.apply(t,arguments)})),h(d(e),"onEnablePIP",(function(){var t;return(t=e.props).onEnablePIP.apply(t,arguments)})),h(d(e),"onDisablePIP",(function(t){var r=e.props,n=r.onDisablePIP,o=r.playing;n(t),o&&e.play()})),h(d(e),"onPresentationModeChange",(function(t){if(e.player&&_(e.player)){var r=e.player.webkitPresentationMode;"picture-in-picture"===r?e.onEnablePIP(t):"inline"===r&&e.onDisablePIP(t)}})),h(d(e),"onSeek",(function(t){e.props.onSeek(t.target.currentTime)})),h(d(e),"mute",(function(){e.player.muted=!0})),h(d(e),"unmute",(function(){e.player.muted=!1})),h(d(e),"renderSourceElement",(function(e,t){return"string"==typeof e?o.default.createElement("source",{key:t,src:e}):o.default.createElement("source",u({key:t},e))})),h(d(e),"renderTrack",(function(e,t){return o.default.createElement("track",u({key:t},e))})),h(d(e),"ref",(function(t){e.player&&(e.prevPlayer=e.player),e.player=t})),e}return r=l,(n=[{key:"componentDidMount",value:function(){this.addListeners(this.player),O&&this.player.load()}},{key:"componentDidUpdate",value:function(e){this.shouldUseAudio(this.props)!==this.shouldUseAudio(e)&&(this.removeListeners(this.prevPlayer),this.addListeners(this.player))}},{key:"componentWillUnmount",value:function(){this.removeListeners(this.player),this.hls&&this.hls.destroy()}},{key:"addListeners",value:function(e){var t=this.props.playsinline;e.addEventListener("canplay",this.onReady),e.addEventListener("play",this.onPlay),e.addEventListener("waiting",this.onBuffer),e.addEventListener("playing",this.onBufferEnd),e.addEventListener("pause",this.onPause),e.addEventListener("seeked",this.onSeek),e.addEventListener("ended",this.onEnded),e.addEventListener("error",this.onError),e.addEventListener("enterpictureinpicture",this.onEnablePIP),e.addEventListener("leavepictureinpicture",this.onDisablePIP),e.addEventListener("webkitpresentationmodechanged",this.onPresentationModeChange),t&&(e.setAttribute("playsinline",""),e.setAttribute("webkit-playsinline",""),e.setAttribute("x5-playsinline",""))}},{key:"removeListeners",value:function(e){e.removeEventListener("canplay",this.onReady),e.removeEventListener("play",this.onPlay),e.removeEventListener("waiting",this.onBuffer),e.removeEventListener("playing",this.onBufferEnd),e.removeEventListener("pause",this.onPause),e.removeEventListener("seeked",this.onSeek),e.removeEventListener("ended",this.onEnded),e.removeEventListener("error",this.onError),e.removeEventListener("enterpictureinpicture",this.onEnablePIP),e.removeEventListener("leavepictureinpicture",this.onDisablePIP),e.removeEventListener("webkitpresentationmodechanged",this.onPresentationModeChange)}},{key:"shouldUseAudio",value:function(e){return!e.config.file.forceVideo&&!e.config.file.attributes.poster&&(j.test(e.url)||e.config.file.forceAudio)}},{key:"shouldUseHLS",value:function(e){return w.test(e)&&!O||this.props.config.file.forceHLS}},{key:"shouldUseDASH",value:function(e){return S.test(e)||this.props.config.file.forceDASH}},{key:"load",value:function(e){var t=this,r=this.props.config.file,n=r.hlsVersion,o=r.dashVersion;if(this.shouldUseHLS(e)&&(0,i.getSDK)("https://cdn.jsdelivr.net/npm/hls.js@VERSION/dist/hls.min.js".replace("VERSION",n),"Hls").then((function(r){t.hls=new r(t.props.config.file.hlsOptions),t.hls.on(r.Events.ERROR,(function(e,n){t.props.onError(e,n,t.hls,r)})),t.hls.loadSource(e),t.hls.attachMedia(t.player)})),this.shouldUseDASH(e)&&(0,i.getSDK)("https://cdnjs.cloudflare.com/ajax/libs/dashjs/VERSION/dash.all.min.js".replace("VERSION",o),"dashjs").then((function(r){t.dash=r.MediaPlayer().create(),t.dash.initialize(t.player,e,t.props.playing),t.dash.on("error",t.props.onError),t.dash.getDebug().setLogToBrowserConsole(!1)})),e instanceof Array)this.player.load();else if((0,i.isMediaStream)(e))try{this.player.srcObject=e}catch(t){this.player.src=window.URL.createObjectURL(e)}}},{key:"play",value:function(){var e=this.player.play();e&&e.catch(this.props.onError)}},{key:"pause",value:function(){this.player.pause()}},{key:"stop",value:function(){this.player.removeAttribute("src"),this.dash&&this.dash.reset()}},{key:"seekTo",value:function(e){this.player.currentTime=e}},{key:"setVolume",value:function(e){this.player.volume=e}},{key:"enablePIP",value:function(){this.player.requestPictureInPicture&&document.pictureInPictureElement!==this.player?this.player.requestPictureInPicture():_(this.player)&&"picture-in-picture"!==this.player.webkitPresentationMode&&this.player.webkitSetPresentationMode("picture-in-picture")}},{key:"disablePIP",value:function(){document.exitPictureInPicture&&document.pictureInPictureElement===this.player?document.exitPictureInPicture():_(this.player)&&"inline"!==this.player.webkitPresentationMode&&this.player.webkitSetPresentationMode("inline")}},{key:"setPlaybackRate",value:function(e){this.player.playbackRate=e}},{key:"getDuration",value:function(){if(!this.player)return null;var e=this.player,t=e.duration,r=e.seekable;return t===1/0&&r.length>0?r.end(r.length-1):t}},{key:"getCurrentTime",value:function(){return this.player?this.player.currentTime:null}},{key:"getSecondsLoaded",value:function(){if(!this.player)return null;var e=this.player.buffered;if(0===e.length)return 0;var t=e.end(e.length-1),r=this.getDuration();return t>r?r:t}},{key:"getSource",value:function(e){var t=this.shouldUseHLS(e),r=this.shouldUseDASH(e);if(!(e instanceof Array||(0,i.isMediaStream)(e)||t||r))return E.test(e)?e.replace("www.dropbox.com","dl.dropboxusercontent.com"):e}},{key:"render",value:function(){var e=this.props,t=e.url,r=e.playing,n=e.loop,i=e.controls,a=e.muted,c=e.config,l=e.width,s=e.height,p=this.shouldUseAudio(this.props)?"audio":"video",f={width:"auto"===l?l:"100%",height:"auto"===s?s:"100%"};return o.default.createElement(p,u({ref:this.ref,src:this.getSource(t),style:f,preload:"auto",autoPlay:r||void 0,controls:i,muted:a,loop:n},c.file.attributes),t instanceof Array&&t.map(this.renderSourceElement),c.file.tracks.map(this.renderTrack))}}])&&p(r.prototype,n),a&&p(r,a),l}(o.Component);t.FilePlayer=k,h(k,"displayName","FilePlayer"),h(k,"canPlay",M),h(k,"canEnablePIP",(function(e){return M(e)&&(!!document.pictureInPictureEnabled||_())&&!j.test(e)}));var T=(0,a.default)(k);t.default=T},"./MapStore2/node_modules/react-player/lib/players/Mixcloud.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Mixcloud=void 0;var n,o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==l(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r("./MapStore2/node_modules/react/index.js")),i=r("./MapStore2/node_modules/react-player/lib/utils.js"),a=(n=r("./MapStore2/node_modules/react-player/lib/singlePlayer.js"))&&n.__esModule?n:{default:n};function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var v=/mixcloud\.com\/([^/]+\/[^/]+)/,g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(l,e);var t,r,n,a,c=(t=l,function(){var e,r=m(t);if(y()){var n=m(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return f(this,e)});function l(){var e;s(this,l);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return h(d(e=c.call.apply(c,[this].concat(r))),"callPlayer",i.callPlayer),h(d(e),"duration",null),h(d(e),"currentTime",null),h(d(e),"secondsLoaded",null),h(d(e),"mute",(function(){})),h(d(e),"unmute",(function(){})),h(d(e),"ref",(function(t){e.iframe=t})),e}return r=l,(n=[{key:"load",value:function(e){var t=this;(0,i.getSDK)("https://widget.mixcloud.com/media/js/widgetApi.js","Mixcloud").then((function(e){t.player=e.PlayerWidget(t.iframe),t.player.ready.then((function(){t.player.events.play.on(t.props.onPlay),t.player.events.pause.on(t.props.onPause),t.player.events.ended.on(t.props.onEnded),t.player.events.error.on(t.props.error),t.player.events.progress.on((function(e,r){t.currentTime=e,t.duration=r})),t.props.onReady()}))}),this.props.onError)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(e){this.callPlayer("seek",e)}},{key:"setVolume",value:function(e){}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var e=this.props,t=e.url,r=e.config,n=t.match(v)[1],a=(0,i.queryString)(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},r.mixcloud.options,{feed:"/".concat(n,"/")}));return o.default.createElement("iframe",{key:n,ref:this.ref,style:{width:"100%",height:"100%"},src:"https://www.mixcloud.com/widget/iframe/?".concat(a),frameBorder:"0"})}}])&&p(r.prototype,n),a&&p(r,a),l}(o.Component);t.Mixcloud=g,h(g,"displayName","Mixcloud"),h(g,"canPlay",(function(e){return v.test(e)})),h(g,"loopOnEnded",!0);var O=(0,a.default)(g);t.default=O},"./MapStore2/node_modules/react-player/lib/players/SoundCloud.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.SoundCloud=void 0;var n,o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==l(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r("./MapStore2/node_modules/react/index.js")),i=r("./MapStore2/node_modules/react-player/lib/utils.js"),a=(n=r("./MapStore2/node_modules/react-player/lib/singlePlayer.js"))&&n.__esModule?n:{default:n};function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var v=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/,g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(l,e);var t,r,n,a,c=(t=l,function(){var e,r=m(t);if(y()){var n=m(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return f(this,e)});function l(){var e;s(this,l);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return h(d(e=c.call.apply(c,[this].concat(r))),"callPlayer",i.callPlayer),h(d(e),"duration",null),h(d(e),"currentTime",null),h(d(e),"fractionLoaded",null),h(d(e),"mute",(function(){e.setVolume(0)})),h(d(e),"unmute",(function(){null!==e.props.volume&&e.setVolume(e.props.volume)})),h(d(e),"ref",(function(t){e.iframe=t})),e}return r=l,(n=[{key:"load",value:function(e,t){var r=this;(0,i.getSDK)("https://w.soundcloud.com/player/api.js","SC").then((function(n){if(r.iframe){var o=n.Widget.Events,i=o.PLAY,a=o.PLAY_PROGRESS,c=o.PAUSE,l=o.FINISH,s=o.ERROR;t||(r.player=n.Widget(r.iframe),r.player.bind(i,r.props.onPlay),r.player.bind(c,r.props.onPause),r.player.bind(a,(function(e){r.currentTime=e.currentPosition/1e3,r.fractionLoaded=e.loadedProgress})),r.player.bind(l,(function(){return r.props.onEnded()})),r.player.bind(s,(function(e){return r.props.onError(e)}))),r.player.load(e,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},r.props.config.soundcloud.options,{callback:function(){r.player.getDuration((function(e){r.duration=e/1e3,r.props.onReady()}))}}))}}))}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(e){this.callPlayer("seekTo",1e3*e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",100*e)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.fractionLoaded*this.duration}},{key:"render",value:function(){var e={width:"100%",height:"100%",display:this.props.display};return o.default.createElement("iframe",{ref:this.ref,src:"https://w.soundcloud.com/player/?url=".concat(encodeURIComponent(this.props.url)),style:e,frameBorder:0,allow:"autoplay"})}}])&&p(r.prototype,n),a&&p(r,a),l}(o.Component);t.SoundCloud=g,h(g,"displayName","SoundCloud"),h(g,"canPlay",(function(e){return v.test(e)})),h(g,"loopOnEnded",!0);var O=(0,a.default)(g);t.default=O},"./MapStore2/node_modules/react-player/lib/players/Streamable.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Streamable=void 0;var n,o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==l(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r("./MapStore2/node_modules/react/index.js")),i=r("./MapStore2/node_modules/react-player/lib/utils.js"),a=(n=r("./MapStore2/node_modules/react-player/lib/singlePlayer.js"))&&n.__esModule?n:{default:n};function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=/streamable\.com\/([a-z0-9]+)$/,v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(l,e);var t,r,n,a,c=(t=l,function(){var e,r=y(t);if(d()){var n=y(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return p(this,e)});function l(){var e;u(this,l);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return b(f(e=c.call.apply(c,[this].concat(r))),"callPlayer",i.callPlayer),b(f(e),"duration",null),b(f(e),"currentTime",null),b(f(e),"secondsLoaded",null),b(f(e),"mute",(function(){e.callPlayer("mute")})),b(f(e),"unmute",(function(){e.callPlayer("unmute")})),b(f(e),"ref",(function(t){e.iframe=t})),e}return r=l,(n=[{key:"load",value:function(e){var t=this;(0,i.getSDK)("https://cdn.embed.ly/player-0.1.0.min.js","playerjs").then((function(e){t.iframe&&(t.player=new e.Player(t.iframe),t.player.setLoop(t.props.loop),t.player.on("ready",t.props.onReady),t.player.on("play",t.props.onPlay),t.player.on("pause",t.props.onPause),t.player.on("seeked",t.props.onSeek),t.player.on("ended",t.props.onEnded),t.player.on("error",t.props.onError),t.player.on("timeupdate",(function(e){var r=e.duration,n=e.seconds;t.duration=r,t.currentTime=n})),t.player.on("buffered",(function(e){var r=e.percent;t.duration&&(t.secondsLoaded=t.duration*r)})),t.props.muted&&t.player.mute())}),this.props.onError)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(e){this.callPlayer("setCurrentTime",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",100*e)}},{key:"setLoop",value:function(e){this.callPlayer("setLoop",e)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.secondsLoaded}},{key:"render",value:function(){var e=this.props.url.match(h)[1];return o.default.createElement("iframe",{ref:this.ref,src:"https://streamable.com/o/".concat(e),frameBorder:"0",scrolling:"no",style:{width:"100%",height:"100%"},allowFullScreen:!0})}}])&&s(r.prototype,n),a&&s(r,a),l}(o.Component);t.Streamable=v,b(v,"displayName","Streamable"),b(v,"canPlay",(function(e){return h.test(e)}));var g=(0,a.default)(v);t.default=g},"./MapStore2/node_modules/react-player/lib/players/Twitch.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Twitch=void 0;var n,o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==l(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r("./MapStore2/node_modules/react/index.js")),i=r("./MapStore2/node_modules/react-player/lib/utils.js"),a=(n=r("./MapStore2/node_modules/react-player/lib/singlePlayer.js"))&&n.__esModule?n:{default:n};function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var v=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/,g=/(?:www\.|go\.)?twitch\.tv\/([a-z0-9_]+)($|\?)/,O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(l,e);var t,r,n,a,c=(t=l,function(){var e,r=m(t);if(y()){var n=m(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return f(this,e)});function l(){var e;s(this,l);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return h(d(e=c.call.apply(c,[this].concat(r))),"callPlayer",i.callPlayer),h(d(e),"playerID",e.props.config.twitch.playerId||"".concat("twitch-player-").concat((0,i.randomString)())),h(d(e),"mute",(function(){e.callPlayer("setMuted",!0)})),h(d(e),"unmute",(function(){e.callPlayer("setMuted",!1)})),e}return r=l,(n=[{key:"load",value:function(e,t){var r=this,n=this.props,o=n.playsinline,a=n.onError,c=n.config,l=n.controls,s=g.test(e),p=s?e.match(g)[1]:e.match(v)[1];t?s?this.player.setChannel(p):this.player.setVideo("v"+p):(0,i.getSDK)("https://player.twitch.tv/js/embed/v1.js","Twitch").then((function(e){r.player=new e.Player(r.playerID,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({video:s?"":p,channel:s?p:"",height:"100%",width:"100%",playsinline:o,autoplay:r.props.playing,muted:r.props.muted,controls:!!s||l},c.twitch.options));var t=e.Player,n=t.READY,i=t.PLAYING,a=t.PAUSE,f=t.ENDED,d=t.ONLINE,y=t.OFFLINE;r.player.addEventListener(n,r.props.onReady),r.player.addEventListener(i,r.props.onPlay),r.player.addEventListener(a,r.props.onPause),r.player.addEventListener(f,r.props.onEnded),r.player.addEventListener(d,r.props.onLoaded),r.player.addEventListener(y,r.props.onLoaded)}),a)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){this.callPlayer("pause")}},{key:"seekTo",value:function(e){this.callPlayer("seek",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",e)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentTime")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){return o.default.createElement("div",{style:{width:"100%",height:"100%"},id:this.playerID})}}])&&p(r.prototype,n),a&&p(r,a),l}(o.Component);t.Twitch=O,h(O,"displayName","Twitch"),h(O,"canPlay",(function(e){return v.test(e)||g.test(e)})),h(O,"loopOnEnded",!0);var j=(0,a.default)(O);t.default=j},"./MapStore2/node_modules/react-player/lib/players/Vimeo.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Vimeo=void 0;var n,o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==l(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r("./MapStore2/node_modules/react/index.js")),i=r("./MapStore2/node_modules/react-player/lib/utils.js"),a=(n=r("./MapStore2/node_modules/react-player/lib/singlePlayer.js"))&&n.__esModule?n:{default:n};function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var v=/vimeo\.com\/.+/,g=/vimeo\.com\/external\/[0-9]+\..+/,O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(l,e);var t,r,n,a,c=(t=l,function(){var e,r=m(t);if(y()){var n=m(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return f(this,e)});function l(){var e;s(this,l);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return h(d(e=c.call.apply(c,[this].concat(r))),"callPlayer",i.callPlayer),h(d(e),"duration",null),h(d(e),"currentTime",null),h(d(e),"secondsLoaded",null),h(d(e),"mute",(function(){e.setVolume(0)})),h(d(e),"unmute",(function(){null!==e.props.volume&&e.setVolume(e.props.volume)})),h(d(e),"ref",(function(t){e.container=t})),e}return r=l,(n=[{key:"load",value:function(e){var t=this;this.duration=null,(0,i.getSDK)("https://player.vimeo.com/api/player.js","Vimeo").then((function(r){t.container&&(t.player=new r.Player(t.container,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({url:e,autoplay:t.props.playing,muted:t.props.muted,loop:t.props.loop,playsinline:t.props.playsinline,controls:t.props.controls},t.props.config.vimeo.playerOptions)),t.player.ready().then((function(){var e=t.container.querySelector("iframe");e.style.width="100%",e.style.height="100%"})).catch(t.props.onError),t.player.on("loaded",(function(){t.props.onReady(),t.refreshDuration()})),t.player.on("play",(function(){t.props.onPlay(),t.refreshDuration()})),t.player.on("pause",t.props.onPause),t.player.on("seeked",(function(e){return t.props.onSeek(e.seconds)})),t.player.on("ended",t.props.onEnded),t.player.on("error",t.props.onError),t.player.on("timeupdate",(function(e){var r=e.seconds;t.currentTime=r})),t.player.on("progress",(function(e){var r=e.seconds;t.secondsLoaded=r})))}),this.props.onError)}},{key:"refreshDuration",value:function(){var e=this;this.player.getDuration().then((function(t){e.duration=t}))}},{key:"play",value:function(){var e=this.callPlayer("play");e&&e.catch(this.props.onError)}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){this.callPlayer("unload")}},{key:"seekTo",value:function(e){this.callPlayer("setCurrentTime",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",e)}},{key:"setLoop",value:function(e){this.callPlayer("setLoop",e)}},{key:"setPlaybackRate",value:function(e){this.callPlayer("setPlaybackRate",e)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.secondsLoaded}},{key:"render",value:function(){var e={width:"100%",height:"100%",overflow:"hidden",display:this.props.display};return o.default.createElement("div",{key:this.props.url,ref:this.ref,style:e})}}])&&p(r.prototype,n),a&&p(r,a),l}(o.Component);t.Vimeo=O,h(O,"displayName","Vimeo"),h(O,"forceLoad",!0),h(O,"canPlay",(function(e){return!g.test(e)&&v.test(e)}));var j=(0,a.default)(O);t.default=j},"./MapStore2/node_modules/react-player/lib/players/Wistia.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Wistia=void 0;var n,o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==l(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r("./MapStore2/node_modules/react/index.js")),i=r("./MapStore2/node_modules/react-player/lib/utils.js"),a=(n=r("./MapStore2/node_modules/react-player/lib/singlePlayer.js"))&&n.__esModule?n:{default:n};function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g=/(?:wistia\.com|wi\.st)\/(?:medias|embed)\/(.*)$/,O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(l,e);var t,r,n,a,c=(t=l,function(){var e,r=b(t);if(m()){var n=b(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return d(this,e)});function l(){var e;p(this,l);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return v(y(e=c.call.apply(c,[this].concat(r))),"callPlayer",i.callPlayer),v(y(e),"onPlay",(function(){var t;return(t=e.props).onPlay.apply(t,arguments)})),v(y(e),"onPause",(function(){var t;return(t=e.props).onPause.apply(t,arguments)})),v(y(e),"onSeek",(function(){var t;return(t=e.props).onSeek.apply(t,arguments)})),v(y(e),"onEnded",(function(){var t;return(t=e.props).onEnded.apply(t,arguments)})),v(y(e),"mute",(function(){e.callPlayer("mute")})),v(y(e),"unmute",(function(){e.callPlayer("unmute")})),e}return r=l,(n=[{key:"getID",value:function(e){return e&&e.match(g)[1]}},{key:"load",value:function(e){var t=this,r=this.props,n=r.playing,o=r.muted,a=r.controls,c=r.onReady,l=r.config,u=r.onError;(0,i.getSDK)("https://fast.wistia.com/assets/external/E-v1.js","Wistia").then((function(){window._wq=window._wq||[],window._wq.push({id:t.getID(e),options:s({autoPlay:n,silentAutoPlay:"allow",muted:o,controlsVisibleOnLoad:a},l.wistia.options),onReady:function(e){t.player=e,t.unbind(),t.player.bind("play",t.onPlay),t.player.bind("pause",t.onPause),t.player.bind("seek",t.onSeek),t.player.bind("end",t.onEnded),c()}})}),u)}},{key:"unbind",value:function(){this.player.unbind("play",this.onPlay),this.player.unbind("pause",this.onPause),this.player.unbind("seek",this.onSeek),this.player.unbind("end",this.onEnded)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){this.unbind(),this.callPlayer("remove")}},{key:"seekTo",value:function(e){this.callPlayer("time",e)}},{key:"setVolume",value:function(e){this.callPlayer("volume",e)}},{key:"setPlaybackRate",value:function(e){this.callPlayer("playbackRate",e)}},{key:"getDuration",value:function(){return this.callPlayer("duration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("time")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var e=this.getID(this.props.url),t="wistia_embed wistia_async_".concat(e);return o.default.createElement("div",{key:e,className:t,style:{width:"100%",height:"100%"}})}}])&&f(r.prototype,n),a&&f(r,a),l}(o.Component);t.Wistia=O,v(O,"displayName","Wistia"),v(O,"canPlay",(function(e){return g.test(e)})),v(O,"loopOnEnded",!0);var j=(0,a.default)(O);t.default=j},"./MapStore2/node_modules/react-player/lib/players/YouTube.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.YouTube=void 0;var n,o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==l(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r("./MapStore2/node_modules/react/index.js")),i=r("./MapStore2/node_modules/react-player/lib/utils.js"),a=(n=r("./MapStore2/node_modules/react-player/lib/singlePlayer.js"))&&n.__esModule?n:{default:n};function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(n=(a=c.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var j=/(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})|youtube\.com\/playlist\?list=/,P=/list=([a-zA-Z0-9_-]+)/;function w(e){return P.test(e)?{listType:"playlist",list:g(e.match(P),2)[1]}:{}}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(l,e);var t,r,n,a,c=(t=l,function(){var e,r=b(t);if(m()){var n=b(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return d(this,e)});function l(){var e;p(this,l);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return v(y(e=c.call.apply(c,[this].concat(r))),"callPlayer",i.callPlayer),v(y(e),"onStateChange",(function(t){var r=t.data,n=e.props,o=n.onPlay,i=n.onPause,a=n.onBuffer,c=n.onBufferEnd,l=n.onEnded,u=n.onReady,s=n.loop,p=window.YT.PlayerState,f=p.PLAYING,d=p.PAUSED,y=p.BUFFERING,m=p.ENDED,b=p.CUED;if(r===f&&(o(),c()),r===d&&i(),r===y&&a(),r===m){var h=!!e.callPlayer("getPlaylist");s&&!h&&e.play(),l()}r===b&&u()})),v(y(e),"mute",(function(){e.callPlayer("mute")})),v(y(e),"unmute",(function(){e.callPlayer("unMute")})),v(y(e),"ref",(function(t){e.container=t})),e}return r=l,(n=[{key:"load",value:function(e,t){var r=this,n=this.props,o=n.playing,a=n.muted,c=n.playsinline,l=n.controls,u=n.loop,p=n.config,f=n.onError,d=p.youtube,y=d.playerVars,m=d.embedOptions,b=e&&e.match(j)[1];if(t)return P.test(e)?void this.player.loadPlaylist(w(e)):void this.player.cueVideoById({videoId:b,startSeconds:(0,i.parseStartTime)(e)||y.start,endSeconds:(0,i.parseEndTime)(e)||y.end});(0,i.getSDK)("https://www.youtube.com/iframe_api","YT","onYouTubeIframeAPIReady",(function(e){return e.loaded})).then((function(t){r.container&&(r.player=new t.Player(r.container,s({width:"100%",height:"100%",videoId:b,playerVars:s({autoplay:o?1:0,mute:a?1:0,controls:l?1:0,start:(0,i.parseStartTime)(e),end:(0,i.parseEndTime)(e),origin:window.location.origin,playsinline:c},w(e),{},y),events:{onReady:function(){u&&r.player.setLoop(!0),r.props.onReady()},onStateChange:r.onStateChange,onError:function(e){return f(e.data)}}},m)))}),f)}},{key:"play",value:function(){this.callPlayer("playVideo")}},{key:"pause",value:function(){this.callPlayer("pauseVideo")}},{key:"stop",value:function(){document.body.contains(this.callPlayer("getIframe"))&&this.callPlayer("stopVideo")}},{key:"seekTo",value:function(e){this.callPlayer("seekTo",e),this.props.playing||this.pause()}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",100*e)}},{key:"setPlaybackRate",value:function(e){this.callPlayer("setPlaybackRate",e)}},{key:"setLoop",value:function(e){this.callPlayer("setLoop",e)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentTime")}},{key:"getSecondsLoaded",value:function(){return this.callPlayer("getVideoLoadedFraction")*this.getDuration()}},{key:"render",value:function(){var e={width:"100%",height:"100%",display:this.props.display};return o.default.createElement("div",{style:e},o.default.createElement("div",{ref:this.ref}))}}])&&f(r.prototype,n),a&&f(r,a),l}(o.Component);t.YouTube=S,v(S,"displayName","YouTube"),v(S,"canPlay",(function(e){return j.test(e)}));var E=(0,a.default)(S);t.default=E},"./MapStore2/node_modules/react-player/lib/players/index.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r("./MapStore2/node_modules/react-player/lib/players/YouTube.js"),o=r("./MapStore2/node_modules/react-player/lib/players/SoundCloud.js"),i=r("./MapStore2/node_modules/react-player/lib/players/Vimeo.js"),a=r("./MapStore2/node_modules/react-player/lib/players/Facebook.js"),c=r("./MapStore2/node_modules/react-player/lib/players/Streamable.js"),l=r("./MapStore2/node_modules/react-player/lib/players/Wistia.js"),u=r("./MapStore2/node_modules/react-player/lib/players/Twitch.js"),s=r("./MapStore2/node_modules/react-player/lib/players/DailyMotion.js"),p=r("./MapStore2/node_modules/react-player/lib/players/Mixcloud.js"),f=r("./MapStore2/node_modules/react-player/lib/players/FilePlayer.js"),d=[n.YouTube,o.SoundCloud,i.Vimeo,a.Facebook,c.Streamable,l.Wistia,u.Twitch,s.DailyMotion,p.Mixcloud,f.FilePlayer];t.default=d},"./MapStore2/node_modules/react-player/lib/preload.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){var i,a=[],c=function(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e))){var t=0,r=function(){};return{s:r,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,o,i=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw o}}}}(p);try{for(c.s();!(i=c.n()).done;){var l=i.value;!l.Player.canPlay(e)&&r[l.configKey].preload&&a.push(n.default.createElement(o.default,{key:l.Player.displayName,activePlayer:l.Player,url:l.url,controls:t,playing:!0,muted:!0,display:"none"}))}}catch(e){c.e(e)}finally{c.f()}return a};var n=u(r("./MapStore2/node_modules/react/index.js")),o=u(r("./MapStore2/node_modules/react-player/lib/Player.js")),i=r("./MapStore2/node_modules/react-player/lib/players/YouTube.js"),a=r("./MapStore2/node_modules/react-player/lib/players/SoundCloud.js"),c=r("./MapStore2/node_modules/react-player/lib/players/Vimeo.js"),l=r("./MapStore2/node_modules/react-player/lib/players/DailyMotion.js");function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var p=[{Player:i.YouTube,configKey:"youtube",url:"https://www.youtube.com/watch?v=GlCmAC4MHek"},{Player:a.SoundCloud,configKey:"soundcloud",url:"https://soundcloud.com/seucheu/john-cage-433-8-bit-version"},{Player:c.Vimeo,configKey:"vimeo",url:"https://vimeo.com/300970506"},{Player:l.DailyMotion,configKey:"dailymotion",url:"http://www.dailymotion.com/video/xqdpyk"}]},"./MapStore2/node_modules/react-player/lib/props.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEPRECATED_CONFIG_PROPS=t.defaultProps=t.propTypes=void 0;var n,o=(n=r("./MapStore2/node_modules/prop-types/index.js"))&&n.__esModule?n:{default:n};var i=o.default.string,a=o.default.bool,c=o.default.number,l=o.default.array,u=o.default.oneOfType,s=o.default.shape,p=o.default.object,f=o.default.func,d=o.default.node,y={url:u([i,l,p]),playing:a,loop:a,controls:a,volume:c,muted:a,playbackRate:c,width:u([i,c]),height:u([i,c]),style:p,progressInterval:c,playsinline:a,pip:a,light:u([a,i]),playIcon:d,wrapper:u([i,f,s({render:f.isRequired})]),config:s({soundcloud:s({options:p,preload:a}),youtube:s({playerVars:p,embedOptions:p,preload:a}),facebook:s({appId:i,version:i,playerId:i}),dailymotion:s({params:p,preload:a}),vimeo:s({playerOptions:p,preload:a}),file:s({attributes:p,tracks:l,forceVideo:a,forceAudio:a,forceHLS:a,forceDASH:a,hlsOptions:p,hlsVersion:i,dashVersion:i}),wistia:s({options:p}),mixcloud:s({options:p}),twitch:s({options:p,playerId:i})}),onReady:f,onStart:f,onPlay:f,onPause:f,onBuffer:f,onBufferEnd:f,onEnded:f,onError:f,onDuration:f,onSeek:f,onProgress:f,onEnablePIP:f,onDisablePIP:f};t.propTypes=y;t.defaultProps={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,light:!1,wrapper:"div",config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},preload:!1},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null},dailymotion:{params:{api:1,"endscreen-enable":!1},preload:!1},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1},preload:!1},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,hlsOptions:{},hlsVersion:"0.13.1",dashVersion:"2.9.2"},wistia:{options:{}},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null}},onReady:function(){},onStart:function(){},onPlay:function(){},onPause:function(){},onBuffer:function(){},onBufferEnd:function(){},onEnded:function(){},onError:function(){},onDuration:function(){},onSeek:function(){},onProgress:function(){},onEnablePIP:function(){},onDisablePIP:function(){}};t.DEPRECATED_CONFIG_PROPS=["soundcloudConfig","youtubeConfig","facebookConfig","dailymotionConfig","vimeoConfig","fileConfig","wistiaConfig"]},"./MapStore2/node_modules/react-player/lib/singlePlayer.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,r;return r=t=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(l,t);var r,n=(r=l,function(){var e,t=v(r);if(h()){var n=v(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m(this,e)});function l(){var e;d(this,l);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return O(b(e=n.call.apply(n,[this].concat(r))),"config",(0,a.getConfig)(e.props,i.defaultProps,!0)),O(b(e),"getDuration",(function(){return e.player?e.player.getDuration():null})),O(b(e),"getCurrentTime",(function(){return e.player?e.player.getCurrentTime():null})),O(b(e),"getSecondsLoaded",(function(){return e.player?e.player.getSecondsLoaded():null})),O(b(e),"getInternalPlayer",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"player";return e.player?e.player.getInternalPlayer(t):null})),O(b(e),"seekTo",(function(t,r){if(!e.player)return null;e.player.seekTo(t,r)})),O(b(e),"ref",(function(t){e.player=t})),e}return function(e,t,r){t&&y(e.prototype,t);r&&y(e,r)}(l,[{key:"shouldComponentUpdate",value:function(e){return!(0,a.isEqual)(this.props,e)}},{key:"componentDidUpdate",value:function(){this.config=(0,a.getConfig)(this.props,i.defaultProps)}},{key:"render",value:function(){var t=this.config.file,r=t.forceVideo,n=t.forceAudio,l=t.forceHLS,u=t.forceDASH,p=r||n||l||u;if(!e.canPlay(this.props.url)&&!p)return null;var d=this.props,y=d.style,m=d.width,b=d.height,h=d.wrapper,v=(0,a.omit)(this.props,j,i.DEPRECATED_CONFIG_PROPS);return o.default.createElement(h,s({style:f({},y,{width:m,height:b})},v),o.default.createElement(c.default,s({},this.props,{ref:this.ref,activePlayer:e,config:this.config})))}}]),l}(o.Component),O(t,"displayName","".concat(e.displayName,"Player")),O(t,"propTypes",i.propTypes),O(t,"defaultProps",i.defaultProps),O(t,"canPlay",e.canPlay),r};var n,o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==u(e)&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r("./MapStore2/node_modules/react/index.js")),i=r("./MapStore2/node_modules/react-player/lib/props.js"),a=r("./MapStore2/node_modules/react-player/lib/utils.js"),c=(n=r("./MapStore2/node_modules/react-player/lib/Player.js"))&&n.__esModule?n:{default:n};function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){O(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var j=Object.keys(i.propTypes)},"./MapStore2/node_modules/react-player/lib/utils.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseStartTime=function(e){return h(e,d)},t.parseEndTime=function(e){return h(e,y)},t.randomString=function(){return Math.random().toString(36).substr(2,5)},t.queryString=function(e){return Object.keys(e).map((function(t){return"".concat(t,"=").concat(e[t])})).join("&")},t.getSDK=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){return!0},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:o.default;if(window[t]&&n(window[t]))return Promise.resolve(window[t]);return new Promise((function(n,o){if(v[e])v[e].push({resolve:n,reject:o});else{v[e]=[{resolve:n,reject:o}];var a=function(t){v[e].forEach((function(e){return e.resolve(t)}))};if(r){var c=window[r];window[r]=function(){c&&c(),a(window[t])}}i(e,(function(n){n?(v[e].forEach((function(e){return e.reject(n)})),v[e]=null):r||a(window[t])}))}}))},t.getConfig=function(e,t,r){var n,o=(0,i.default)(t.config,e.config),c=function(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=p(e))){var t=0,r=function(){};return{s:r,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,o,i=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw o}}}}(a.DEPRECATED_CONFIG_PROPS);try{for(c.s();!(n=c.n()).done;){var l=n.value;if(e[l]){var s=l.replace(/Config$/,"");if(o=(0,i.default)(o,u({},s,e[l])),r){var f="ReactPlayer: %c".concat(l," %cis deprecated, please use the config prop instead – ").concat("https://github.com/CookPete/react-player#config-prop");console.warn(f,"font-weight: bold","")}}}}catch(e){c.e(e)}finally{c.f()}return o},t.omit=function(e){for(var t,r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];for(var i=(t=[]).concat.apply(t,n),a={},c=Object.keys(e),l=0,u=c;l<u.length;l++){var s=u[l];-1===i.indexOf(s)&&(a[s]=e[s])}return a},t.callPlayer=function(e){var t;if(!this.player||!this.player[e]){var r="ReactPlayer: ".concat(this.constructor.displayName," player could not call %c").concat(e,"%c – ");return this.player?this.player[e]||(r+="The method was not available"):r+="The player was not available",console.warn(r,"font-weight: bold",""),null}for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return(t=this.player)[e].apply(t,o)},t.isObject=g,t.isEqual=function e(t,r){if("function"==typeof t&&"function"==typeof r)return!0;if((0,n.isValidElement)(t)&&(0,n.isValidElement)(r))return!0;if(t instanceof Array&&r instanceof Array){if(t.length!==r.length)return!1;for(var o=0;o!==t.length;o++)if(!e(t[o],r[o]))return!1;return!0}if(g(t)&&g(r)){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(var i=0,a=Object.keys(t);i<a.length;i++){var c=a[i];if(!e(t[c],r[c]))return!1}return!0}return t===r},t.isMediaStream=function(e){return"undefined"!=typeof window&&void 0!==window.MediaStream&&e instanceof window.MediaStream};var n=r("./MapStore2/node_modules/react/index.js"),o=c(r("./MapStore2/node_modules/load-script/index.js")),i=c(r("./MapStore2/node_modules/deepmerge/dist/cjs.js")),a=r("./MapStore2/node_modules/react-player/lib/props.js");function c(e){return e&&e.__esModule?e:{default:e}}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(n=(a=c.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return r}(e,t)||p(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){if(e){if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var d=/[?&#](?:start|t)=([0-9hms]+)/,y=/[?&#]end=([0-9hms]+)/,m=/(\d+)(h|m|s)/g,b=/^\d+$/;function h(e,t){var r=e.match(t);if(r){var n=r[1];if(n.match(m))return function(e){var t=0,r=m.exec(e);for(;null!==r;){var n=s(r,3),o=n[1],i=n[2];"h"===i&&(t+=60*parseInt(o,10)*60),"m"===i&&(t+=60*parseInt(o,10)),"s"===i&&(t+=parseInt(o,10)),r=m.exec(e)}return t}(n);if(b.test(n))return parseInt(n)}}var v={};function g(e){return null!==e&&"object"===l(e)}},"./MapStore2/node_modules/react-resize-detector/lib/esm/components/ResizeDetector.js":function(e,t,r){"use strict";var n=r("./MapStore2/node_modules/react/index.js"),o=r.n(n),i=r("./MapStore2/node_modules/react-dom/index.js"),a=r("./MapStore2/node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js"),c=function(e){var t=[],r=null,n=function(){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];t=o,r||(r=requestAnimationFrame((function(){r=null,e.apply(void 0,t)})))};return n.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},n},l=r("./MapStore2/node_modules/prop-types/index.js");var u=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},s=r("./MapStore2/node_modules/lodash-es/_root.js"),p=function(){return s.a.Date.now()},f=r("./MapStore2/node_modules/lodash-es/_baseGetTag.js"),d=r("./MapStore2/node_modules/lodash-es/isObjectLike.js");var y=function(e){return"symbol"==typeof e||Object(d.a)(e)&&"[object Symbol]"==Object(f.a)(e)},m=/^\s+|\s+$/g,b=/^[-+]0x[0-9a-f]+$/i,h=/^0b[01]+$/i,v=/^0o[0-7]+$/i,g=parseInt;var O=function(e){if("number"==typeof e)return e;if(y(e))return NaN;if(u(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=u(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(m,"");var r=h.test(e);return r||v.test(e)?g(e.slice(2),r?2:8):b.test(e)?NaN:+e},j=Math.max,P=Math.min;var w=function(e,t,r){var n,o,i,a,c,l,s=0,f=!1,d=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function m(t){var r=n,i=o;return n=o=void 0,s=t,a=e.apply(i,r)}function b(e){return s=e,c=setTimeout(v,t),f?m(e):a}function h(e){var r=e-l;return void 0===l||r>=t||r<0||d&&e-s>=i}function v(){var e=p();if(h(e))return g(e);c=setTimeout(v,function(e){var r=t-(e-l);return d?P(r,i-(e-s)):r}(e))}function g(e){return c=void 0,y&&n?m(e):(n=o=void 0,a)}function w(){var e=p(),r=h(e);if(n=arguments,o=this,l=e,r){if(void 0===c)return b(l);if(d)return clearTimeout(c),c=setTimeout(v,t),m(l)}return void 0===c&&(c=setTimeout(v,t)),a}return t=O(t)||0,u(r)&&(f=!!r.leading,i=(d="maxWait"in r)?j(O(r.maxWait)||0,t):i,y="trailing"in r?!!r.trailing:y),w.cancel=function(){void 0!==c&&clearTimeout(c),s=0,n=l=o=c=void 0},w.flush=function(){return void 0===c?a:g(p())},w};var S=function(e,t,r){var n=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return u(r)&&(n="leading"in r?!!r.leading:n,o="trailing"in r?!!r.trailing:o),w(e,t,{leading:n,maxWait:t,trailing:o})},E={debounce:w,throttle:S},M=function(e){return"function"==typeof e},_=function(){return"undefined"==typeof window};function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function x(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var R=function(e){function t(){return T(this,t),x(this,I(t).apply(this,arguments))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){return this.props.children}}])&&D(r.prototype,n),o&&D(r,o),t}(n.PureComponent);function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e,t){return(F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function V(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var U=function(e){function t(e){var r,o,l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,l=L(t).call(this,e),r=!l||"object"!==A(l)&&"function"!=typeof l?z(o):l,V(z(r),"cancelHandler",(function(){r.resizeHandler&&r.resizeHandler.cancel&&(r.resizeHandler.cancel(),r.resizeHandler=null)})),V(z(r),"rafClean",(function(){r.raf&&r.raf.cancel&&(r.raf.cancel(),r.raf=null)})),V(z(r),"toggleObserver",(function(e){var t=r.getElement();t&&r.resizeObserver[e]&&r.resizeObserver[e](t)})),V(z(r),"getElement",(function(){var e=r.props,t=e.querySelector,n=e.targetDomEl;if(!_()){if(t)return document.querySelector(t);if(n&&((o=n)instanceof Element||o instanceof HTMLDocument))return n;var o,a=r.element&&Object(i.findDOMNode)(r.element);if(a)return a.parentElement}})),V(z(r),"createUpdater",(function(){return r.rafClean(),r.raf=c((function(e){var t=e.width,n=e.height,o=r.props.onResize;M(o)&&o(t,n),r.setState({width:t,height:n})})),r.raf})),V(z(r),"createResizeHandler",(function(e){var t=r.state,n=t.width,o=t.height,i=r.props,a=i.handleWidth,c=i.handleHeight;if(a||c){var l=r.createUpdater();e.forEach((function(e){var t=e&&e.contentRect||{},i=t.width,u=t.height,s=a&&n!==i||c&&o!==u;!r.skipOnMount&&s&&!_()&&l({width:i,height:u}),r.skipOnMount=!1}))}})),V(z(r),"onRef",(function(e){r.element=e})),V(z(r),"getRenderType",(function(){var e=r.props,t=e.render,o=e.children;return M(t)?"renderProp":M(o)?"childFunction":Object(n.isValidElement)(o)?"child":Array.isArray(o)?"childArray":"parent"})),V(z(r),"getTargetComponent",(function(){var e=r.props,t=e.render,o=e.children,i=e.nodeType,a=r.state,c={width:a.width,height:a.height};switch(r.getRenderType()){case"renderProp":return Object(n.cloneElement)(t(c),{key:"resize-detector"});case"childFunction":return Object(n.cloneElement)(o(c));case"child":return Object(n.cloneElement)(o,c);case"childArray":return o.map((function(e){return!!e&&Object(n.cloneElement)(e,c)}));default:return Object(n.createElement)(i)}}));var u=e.skipOnMount,s=e.refreshMode,p=e.refreshRate,f=e.refreshOptions;r.state={width:void 0,height:void 0},r.skipOnMount=u,r.raf=null,r.element=null,r.unmounted=!1;var d=E[s];return r.resizeHandler=d?d(r.createResizeHandler,p,f):r.createResizeHandler,r.resizeObserver=new a.a(r.resizeHandler),r}var r,l,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}(t,e),r=t,(l=[{key:"componentDidMount",value:function(){this.toggleObserver("observe")}},{key:"componentWillUnmount",value:function(){this.toggleObserver("unobserve"),this.rafClean(),this.cancelHandler(),this.unmounted=!0}},{key:"render",value:function(){return o.a.createElement(R,{ref:this.onRef},this.getTargetComponent())}}])&&N(r.prototype,l),u&&N(r,u),t}(n.PureComponent);U.propTypes={handleWidth:l.bool,handleHeight:l.bool,skipOnMount:l.bool,refreshRate:l.number,refreshMode:l.string,refreshOptions:Object(l.shape)({leading:l.bool,trailing:l.bool}),querySelector:l.string,targetDomEl:l.any,onResize:l.func,render:l.func,children:l.any,nodeType:l.node},U.defaultProps={handleWidth:!1,handleHeight:!1,skipOnMount:!1,refreshRate:1e3,refreshMode:void 0,refreshOptions:void 0,querySelector:null,targetDomEl:null,onResize:null,render:void 0,children:null,nodeType:"div"};t.a=U},"./MapStore2/node_modules/react-resize-detector/lib/esm/hoc/withResizeDetector.js":function(e,t,r){"use strict";var n=r("./MapStore2/node_modules/react/index.js"),o=r.n(n),i=r("./MapStore2/node_modules/react-resize-detector/lib/esm/components/ResizeDetector.js");function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t,r){return t&&l(e.prototype,t),r&&l(e,r),e}function s(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{handleWidth:!0,handleHeight:!0};return function(r){function n(){return c(this,n),s(this,p(n).apply(this,arguments))}return f(n,r),u(n,[{key:"render",value:function(){return o.a.createElement(i.a,t,o.a.createElement(e,this.props))}}]),n}(n.Component)}},"./MapStore2/web/client/actions/mapEditor.js":function(e,t,r){"use strict";r.d(t,"c",(function(){return n})),r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return i})),r.d(t,"e",(function(){return a})),r.d(t,"d",(function(){return c}));var n="MAP_EDITOR:SHOW",o="MAP_EDITOR:HIDE",i="MAP_EDITOR:SAVE",a=function(e,t){return{type:n,owner:e,map:t}},c=function(e){return{type:o,owner:e}}},"./MapStore2/web/client/actions/mediaEditor.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return c})),r.d(t,"d",(function(){return l})),r.d(t,"i",(function(){return u})),r.d(t,"j",(function(){return s})),r.d(t,"e",(function(){return p})),r.d(t,"l",(function(){return f})),r.d(t,"o",(function(){return d})),r.d(t,"n",(function(){return y})),r.d(t,"m",(function(){return m})),r.d(t,"p",(function(){return b})),r.d(t,"q",(function(){return h})),r.d(t,"f",(function(){return v})),r.d(t,"k",(function(){return g})),r.d(t,"h",(function(){return O})),r.d(t,"g",(function(){return j})),r.d(t,"r",(function(){return P})),r.d(t,"t",(function(){return w})),r.d(t,"v",(function(){return S})),r.d(t,"w",(function(){return E})),r.d(t,"A",(function(){return M})),r.d(t,"B",(function(){return _})),r.d(t,"C",(function(){return k})),r.d(t,"I",(function(){return T})),r.d(t,"D",(function(){return D})),r.d(t,"F",(function(){return x})),r.d(t,"G",(function(){return I})),r.d(t,"E",(function(){return C})),r.d(t,"H",(function(){return R})),r.d(t,"s",(function(){return A})),r.d(t,"u",(function(){return N})),r.d(t,"z",(function(){return L})),r.d(t,"y",(function(){return z})),r.d(t,"x",(function(){return F}));var n=r("./MapStore2/node_modules/lodash/lodash.js"),o=r("./MapStore2/web/client/utils/MediaEditorUtils.js"),i="MEDIA_EDITOR:ADDING_MEDIA",a="MEDIA_EDITOR:CHOOSE_MEDIA",c="MEDIA_EDITOR:EDITING_MEDIA",l="GEOSTORY:EDIT_MEDIA",u="MEDIA_EDITOR:LOAD_MEDIA",s="MEDIA_EDITOR:LOAD_MEDIA_SUCCESS",p="MEDIA_EDITOR:HIDE",f="MEDIA_EDITOR:SAVE_MEDIA",d="MEDIA_EDITOR:SET_MEDIA_TYPE",y="MEDIA_EDITOR:SET_MEDIA_SERVICE",m="MEDIA_EDITOR:SELECT_ITEM",b="MEDIA_EDITOR:SHOW",h="MEDIA_EDITOR:UPDATE_ITEM",v="MEDIA_EDITOR:IMPORT_IN_LOCAL",g="MEDIA_EDITOR:REMOVE_MEDIA",O="MEDIA_EDITOR:LOADING_SELECTED_MEDIA",j="MEDIA_EDITOR:LOADING_MEDIA_LIST",P=function(e){return{type:a,resource:e}},w=function(){return{type:p}},S=function(e,t,r){return{type:u,params:e,mediaType:t,sourceId:r}},E=function(e){var t=e.mediaType,r=e.sourceId,n=e.params,o=e.resultData;return{type:s,mediaType:t,sourceId:r,params:n,resultData:o}},M=function(e){var t=e.type,r=e.source,n=e.data;return{type:f,mediaType:t,source:r,data:n}},_=function(e){return{type:"MEDIA_EDITOR:SAVE_MEDIA_SUCCESS",mediaType:e.mediaType,source:e.source,data:e.data,id:e.id}},k=function(e){return{type:m,id:e}},T=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"merge";return{type:h,item:e,mode:t}},D=function(e){return{type:i,adding:e}},x=function(e){return{type:y,id:Object(n.isObject)(e)?e.value:e}},I=function(e){return{type:d,mediaType:e}},C=function(e){return{type:c,editing:e}},R=function(e,t){return{type:b,owner:e,settings:t}},A=function(e){var t=e.path,r=e.owner;return{type:l,path:t,owner:void 0===r?"geostory":r}},N=function(e){var t=e.resource,r=e.sourceType,n=void 0===r?o.a.GEOSTORY:r,i=e.owner;return{type:v,resource:t,sourceType:n,owner:void 0===i?"geostory":i}},L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"geostory";return{type:g,mediaType:e,owner:t}},z=function(e){return{type:O,loading:e}},F=function(){return{type:j}}},"./MapStore2/web/client/components/I18N/HTML.jsx":function(e,t,r){"use strict";var n=r("./MapStore2/node_modules/prop-types/index.js"),o=r.n(n),i=r("./MapStore2/node_modules/react/index.js"),a=r.n(i);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return f(this,r)}}function f(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=r("./MapStore2/node_modules/react-intl/lib/index.es.js").FormattedHTMLMessage,b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(i,e);var t,r,n,o=p(i);function i(){return l(this,i),o.apply(this,arguments)}return t=i,(r=[{key:"render",value:function(){return this.context.intl?a.a.createElement(m,{id:this.props.msgId,values:this.props.msgParams}):a.a.createElement("span",null,this.props.msgId||"")}}])&&u(t.prototype,r),n&&u(t,n),i}(a.a.Component);y(b,"propTypes",{msgId:o.a.string.isRequired,msgParams:o.a.object}),y(b,"contextTypes",{intl:o.a.object}),t.a=b},"./MapStore2/web/client/components/geostory/media/Video.jsx":function(e,t,r){"use strict";var n=r("./MapStore2/node_modules/react/index.js"),o=r.n(n),i=r("./MapStore2/node_modules/react-player/lib/ReactPlayer.js"),a=r.n(i),c=r("./MapStore2/web/client/components/misc/Loader.jsx"),l=r("./MapStore2/node_modules/react-resize-detector/lib/esm/hoc/withResizeDetector.js"),u=r("./MapStore2/node_modules/react-bootstrap/es/index.js"),s=r("./MapStore2/web/client/utils/GeoStoryUtils.js");function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(n=(a=c.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var b=Object(l.a)((function(e){var t=e.src,r=e.width,i=e.height,l=e.resolution,s=e.thumbnail,p=e.controls,d=e.play,m=e.onPlay,b=void 0===m?function(){}:m,h=e.onStart,v=void 0===h?function(){}:h,g=e.fit,O=e.loop,j=e.volume,P=void 0===j?1:j,w=e.muted,S=d,E=y(Object(n.useState)(S),2),M=E[0],_=E[1],k=y(Object(n.useState)(),2),T=k[0],D=k[1],x=y(Object(n.useState)(d),2),I=x[0],C=x[1],R="cover"===g;Object(n.useEffect)((function(){!M&&S&&(_(!0),C(!0)),M&&v(M)}),[M,S]);var A,N=(A=r/i,R?A<l?[i*l,i]:[r,r/l]:"contain"===g?A<l?[r,r/l]:[i*l,i]:[r,r/l]),L="contain"===g||R?i:N[1],z=!R&&p,F=!!R||O;return o.a.createElement("div",{className:"ms-video",style:{position:"relative",width:r,height:L,display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"}},t&&o.a.createElement(o.a.Fragment,null,M&&o.a.createElement(a.a,{url:t,width:N[0],height:N[1],playing:S,loop:F,volume:P,muted:w,style:R?{left:"50%",top:"50%",transform:"translate(-50%, -50%)",position:"absolute"}:{},controls:z,pip:!1,fileConfig:{attributes:{controlsList:"nodownload",disablePictureInPicture:!0}},youtubeConfig:{playerVars:{controls:z?2:0,modestbranding:1,rel:0}},onReady:function(){return C(!1)},onError:function(e){return D(e)},onPause:function(){return b(!1)},onPlay:function(){return b(!0)}}),(!M||M&&(I||T))&&o.a.createElement("div",{className:"ms-video-cover",style:f(f({position:"absolute",width:N[0],height:N[1],display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0, 0, 0, 1.0)"},!(I||T)&&{cursor:"pointer"}),!S&&s&&{backgroundImage:"url(".concat(s,")"),backgroundSize:R?"cover":"640px auto",backgroundPosition:"center",backgroundRepeat:"no-repeat"}),onClick:function(){_(!0),C(!0),b(!0)}},I&&o.a.createElement(c.a,{size:70}),T&&"Error",!(I||T)&&!S&&o.a.createElement(u.Glyphicon,{glyph:"play",style:{fontSize:N[1]/4>100?100:N[1]/4,mixBlendMode:"difference",color:"#ffffff"}}))),!z&&o.a.createElement("div",{className:"ms-video-mask-cover",style:{position:"absolute",width:N[0],height:N[1]}}))}));t.a=function(e){var t=e.id,r=e.src,i=e.resolution,a=void 0===i?16/9:i,c=e.autoplay,l=e.inView,u=e.description,p=e.showCaption,f=e.caption,d=void 0===f?u:f,m=e.thumbnail,h=e.credits,v=e.controls,g=void 0===v||v,O=e.fit,j=e.loop,P=e.muted,w=e.onPlay,S=void 0===w?function(){}:w,E=e.mode,M=e.containerInView,_=(void 0===M||M)&&l,k=y(Object(n.useState)(!1),2),T=k[0],D=k[1],x=function(e){D(e),S(e)};return Object(n.useEffect)((function(){E===s.f.EDIT&&x(!1)}),[E]),Object(n.useEffect)((function(){E===s.f.VIEW&&_&&(c||"cover"===O)&&x(!0)}),[_,c,O,E]),Object(n.useEffect)((function(){E===s.f.VIEW&&!_&&T&&x(!1)}),[_,T,E]),o.a.createElement("div",{id:t,key:"".concat(t,"-").concat(O,"-").concat(E),className:"ms-media ms-media-video"},o.a.createElement(b,{src:r,play:T&&E===s.f.VIEW,resolution:a,thumbnail:m,controls:g&&E===s.f.VIEW,onPlay:x,fit:O,loop:j,muted:P}),h&&o.a.createElement("div",{className:"ms-media-credits"},o.a.createElement("small",null,h)),p&&d&&o.a.createElement("div",{className:"ms-media-caption"},o.a.createElement("small",null,d)))}},"./MapStore2/web/client/components/map/BaseMap.jsx":function(e,t,r){"use strict";var n=r("./MapStore2/node_modules/react/index.js"),o=r.n(n),i=r("./MapStore2/node_modules/prop-types/index.js"),a=r.n(i),c=r("./MapStore2/node_modules/lodash/lodash.js");function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function s(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){O(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=g(e);if(t){var o=g(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return h(this,r)}}function h(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(a,e);var t,r,n,i=b(a);function a(){var e;d(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return O(v(e=i.call.apply(i,[this].concat(r))),"getTool",(function(t){var r=e.props.plugins;return Object(c.isString)(t)?{name:t,impl:r.tools[t]}:f({name:t.name,impl:r.tools[t.name]},t)})),O(v(e),"renderLayers",(function(){var t=e.props.map&&e.props.map.projection||"EPSG:3857",r=e.props.plugins.Layer;return e.props.layers.map((function(n,i){return o.a.createElement(r,{type:n.type,srs:t,position:i,key:n.id||n.name,options:n,env:n.localizedLayerStyles?e.props.env:[]},e.renderLayerContent(n,t))}))})),O(v(e),"renderLayerContent",(function(t,r){if(t.features&&"vector"===t.type){var n=e.props.plugins.Feature;return t.features.map((function(e){return o.a.createElement(n,{key:e.id,msId:e.id,type:e.type,crs:r,geometry:e.geometry,features:e.features,featuresCrs:t.featuresCrs||"EPSG:4326",layerStyle:t.style,style:e.style||t.style||null,properties:e.properties})}))}return null})),O(v(e),"renderTools",(function(){return e.props.tools.map((function(t){var r=e.getTool(t),n=r.impl,i=r.name,a=s(r,["impl","name"]);return o.a.createElement(n,u({key:i},a))}))})),e}return t=a,(r=[{key:"render",value:function(){var e=this.props.plugins.Map,t=this.props.map&&this.props.map.projection||"EPSG:3857";return this.props.map&&e?o.a.createElement(e,u({projectionDefs:this.props.projectionDefs,style:this.props.styleMap,id:this.props.id,zoomControl:!1,center:{x:0,y:0},zoom:1,hookRegister:this.props.hookRegister,mapStateSource:this.props.mapStateSource||this.props.id},this.props.options,this.props.map,{projection:t},this.props.eventHandlers),this.renderLayers(),this.renderTools(),this.props.children):null}}])&&y(t.prototype,r),n&&y(t,n),a}(o.a.Component);O(j,"propTypes",{id:a.a.string,options:a.a.object,map:a.a.object,mapStateSource:a.a.string,eventHandlers:a.a.object,styleMap:a.a.object,layers:a.a.array,hookRegister:a.a.object,projectionDefs:a.a.array,plugins:a.a.any,tools:a.a.array,getLayerProps:a.a.func,env:a.a.array}),O(j,"defaultProps",{id:"__base_map__",options:{},map:{},styleMap:{},tools:[],projectionDefs:[],eventHandlers:{onMapViewChanges:function(){},onClick:function(){},onMouseMove:function(){},onLayerLoading:function(){},onLayerError:function(){}},env:[]}),t.a=j},"./MapStore2/web/client/components/map/enhancers/autoMapType.js":function(e,t,r){"use strict";var n=r("./MapStore2/node_modules/react-redux/es/index.js"),o=r("./MapStore2/node_modules/reselect/es/index.js"),i=r("./MapStore2/web/client/selectors/maptype.js");t.a=Object(n.connect)(Object(o.a)(i.c,(function(e){return{mapType:e}})))},"./MapStore2/web/client/components/map/enhancers/autoResize.js":function(e,t,r){"use strict";var n=r("./MapStore2/node_modules/recompose/es/Recompose.js"),o=r("./MapStore2/web/client/components/misc/enhancers/withResizeSpy.js");function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Object(n.compose)(Object(n.withStateHandlers)((function(){return{resize:0}}),{onResize:function(e){var t=e.resize,r=void 0===t?0:t;return function(){return{resize:r+1}}}}),Object(o.a)({debounceTime:e}),Object(n.withProps)((function(e){var t=e.options,r=e.resize;return{options:a(a({},t),{},{resize:r})}})))}},"./MapStore2/web/client/components/map/enhancers/getProjectionDefs.js":function(e,t,r){"use strict";var n=r("./MapStore2/node_modules/recompose/es/Recompose.js"),o=r("./MapStore2/web/client/utils/ConfigUtils.js"),i=r("./MapStore2/node_modules/lodash/lodash.js"),a=Object(n.withProps)((function(e){var t=e.projectionDefs;return{projectionDefs:Object(i.isArray)(t)&&t.length?t:o.default.getConfigProp("projectionDefs")||[]}}));t.a=a},"./MapStore2/web/client/components/map/enhancers/handlingUnsupportedProjection.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r("./MapStore2/node_modules/recompose/es/Recompose.js"),o=r("./MapStore2/web/client/components/misc/enhancers/emptyState.jsx"),i=r("./MapStore2/web/client/components/I18N/Message.jsx"),a=r("./MapStore2/node_modules/react/index.js"),c=r.n(a),l=r("./MapStore2/web/client/utils/ConfigUtils.js"),u=Object(n.withProps)((function(e){var t=e.map;return{projection:e.projection||(t.data&&t.data.map?t.data.map.projection:t&&t.projection)}})),s=Object(n.compose)(u,Object(o.a)((function(e){var t=e.projectionDefs,r=void 0===t?l.default.getConfigProp("projectionDefs")||[]:t,n=e.projection;return n&&0===r.concat([{code:"EPSG:4326"},{code:"EPSG:3857"},{code:"EPSG:900913"}]).filter((function(e){return e.code===n})).length}),(function(e){var t=e.projection;return{glyph:"1-map",style:{width:"100%",height:"100%",display:"flex"},title:c.a.createElement(i.default,{msgId:"map.errors.loading.title"}),mainViewStyle:{margin:"auto"},imageStyle:{height:120,width:120,margin:"auto"},description:c.a.createElement(i.default,{msgId:"map.errors.loading.projectionError",msgParams:{projection:t}})}})))},"./MapStore2/web/client/components/map/enhancers/mapType.js":function(e,t,r){"use strict";var n=r("./MapStore2/node_modules/react/index.js"),o=r.n(n),i=r("./MapStore2/node_modules/prop-types/index.js"),a=r.n(i);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m(e);if(t){var o=m(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return d(this,r)}}function d(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}t.a=function(e){var t=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(d,t);var n,i,a,c=f(d);function d(){var e;u(this,d);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return b(y(e=c.call.apply(c,[this].concat(r))),"state",{plugins:{}}),e}return n=d,(i=[{key:"componentDidMount",value:function(){this.setPlugins(this.props),this._isMounted=!0}},{key:"componentWillUpdate",value:function(e){e.mapType!==this.props.mapType&&this.setPlugins(e)}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var t=this.state.plugins;return o.a.createElement(e,l({},this.props,{plugins:t}))}},{key:"setPlugins",value:function(e){var t=this;e.mapType&&r("./MapStore2/web/client/components/map/plugins lazy recursive ^\\.\\/.*\\.js$")("./"+e.mapType+".js").then((function(e){t._isMounted&&(t.setState({plugins:e.default()}),t.props.onMapTypeLoaded())}))}}])&&s(n.prototype,i),a&&s(n,a),d}(o.a.Component);return b(t,"propTypes",{mapType:a.a.string,onMapTypeLoaded:a.a.func}),b(t,"defaultProps",{onMapTypeLoaded:function(){}}),t.displayName="".concat(e.displayName,"WithMapType"),t}},"./MapStore2/web/client/components/map/enhancers/onMapViewChanges.js":function(e,t,r){"use strict";var n=r("./MapStore2/node_modules/recompose/es/Recompose.js");function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}t.a=Object(n.compose)(Object(n.withHandlers)({onMapViewChanges:function(e){var t=e.map,r=void 0===t?{}:t,n=e.onMapViewChanges,o=void 0===n?function(){}:n;return function(e,t,n,a,c,l){o(i(i({},r),{},{center:e,bbox:i(i({},r.bbox),n),zoom:t,size:a,mapStateSource:c,projection:l}))}}}),Object(n.withPropsOnChange)(["onMapViewChanges","eventHandlers"],(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onMapViewChanges,r=void 0===t?function(){}:t,n=e.eventHandlers,o=void 0===n?{}:n;return{eventHandlers:i(i({},o),{},{onMapViewChanges:r})}})))},"./MapStore2/web/client/components/map/plugins lazy recursive ^\\.\\/.*\\.js$":function(e,t,r){var n={"./cesium.js":["./MapStore2/web/client/components/map/plugins/cesium.js","vendors~map-library-cesium-js~map-library-leaflet-js~map-library-openlayers-js~plugins/geostory-plug~5a52f4ec",7,12,"map-library-cesium-js"],"./leaflet.js":["./MapStore2/web/client/components/map/plugins/leaflet.js",0,"vendors~map-library-cesium-js~map-library-leaflet-js~map-library-openlayers-js~plugins/geostory-plug~5a52f4ec",3,10,"map-library-leaflet-js"],"./openlayers.js":["./MapStore2/web/client/components/map/plugins/openlayers.js",0,"vendors~map-library-cesium-js~map-library-leaflet-js~map-library-openlayers-js~plugins/geostory-plug~5a52f4ec",3,4,"map-library-openlayers-js"],"./sink.js":["./MapStore2/web/client/components/map/plugins/sink.js","map-library-sink-js"]};function o(e){if(!r.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],o=t[0];return Promise.all(t.slice(1).map(r.e)).then((function(){return r(o)}))}o.keys=function(){return Object.keys(n)},o.id="./MapStore2/web/client/components/map/plugins lazy recursive ^\\.\\/.*\\.js$",e.exports=o},"./MapStore2/web/client/components/misc/ConfirmDialog.jsx":function(e,t,r){"use strict";var n=r("./MapStore2/node_modules/object-assign/index.js"),o=r.n(n),i=r("./MapStore2/node_modules/prop-types/index.js"),a=r.n(i),c=r("./MapStore2/node_modules/react/index.js"),l=r.n(c),u=r("./MapStore2/node_modules/react-bootstrap/es/index.js"),s=r("./MapStore2/web/client/components/I18N/Message.jsx"),p=r("./MapStore2/web/client/components/misc/Dialog.jsx");function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=v(e);if(t){var o=v(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return h(this,r)}}function h(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(a,e);var t,r,n,i=b(a);function a(){return d(this,a),i.apply(this,arguments)}return t=a,(r=[{key:"render",value:function(){return l.a.createElement(p.a,{draggable:this.props.draggable,onClickOut:this.props.onClose,id:"confirm-dialog",modal:this.props.modal,style:o()({},this.props.style,{display:this.props.show?"block":"none"})},l.a.createElement("span",{role:"header"},l.a.createElement("span",{className:"user-panel-title"},this.props.title),l.a.createElement("button",{onClick:this.props.onClose,className:"login-panel-close close"},this.props.closeGlyph?l.a.createElement(u.Glyphicon,{glyph:this.props.closeGlyph}):l.a.createElement("span",null,"×"))),l.a.createElement("div",{role:"body"},this.props.children),l.a.createElement("div",{role:"footer"},l.a.createElement(u.ButtonGroup,null,l.a.createElement(u.Button,{onClick:this.props.onConfirm,disabled:this.props.confirmButtonDisabled,bsStyle:this.props.confirmButtonBSStyle},this.props.confirmButtonContent),l.a.createElement(u.Button,{onClick:this.props.onClose},this.props.closeText))))}}])&&y(t.prototype,r),n&&y(t,n),a}(l.a.Component);g(O,"propTypes",{show:a.a.bool,draggable:a.a.bool,onClose:a.a.func,onConfirm:a.a.func,onSave:a.a.func,modal:a.a.bool,closeGlyph:a.a.string,style:a.a.object,buttonSize:a.a.string,inputStyle:a.a.object,title:a.a.node,confirmButtonContent:a.a.node,confirmButtonDisabled:a.a.bool,closeText:a.a.node,confirmButtonBSStyle:a.a.string}),g(O,"defaultProps",{onClose:function(){},onChange:function(){},modal:!0,title:l.a.createElement(s.default,{msgId:"confirmTitle"}),closeGlyph:"",confirmButtonBSStyle:"danger",confirmButtonDisabled:!1,confirmButtonContent:l.a.createElement(s.default,{msgId:"confirm"})||"Confirm",closeText:l.a.createElement(s.default,{msgId:"close"}),includeCloseButton:!0}),t.a=O},"./MapStore2/web/client/components/misc/Dialog.jsx":function(e,t,r){"use strict";var n=r("./MapStore2/node_modules/object-assign/index.js"),o=r.n(n),i=r("./MapStore2/node_modules/prop-types/index.js"),a=r.n(i),c=r("./MapStore2/node_modules/react/index.js"),l=r.n(c),u=r("./MapStore2/node_modules/react-draggable/dist/react-draggable.js"),s=r.n(u),p=r("./MapStore2/node_modules/react-spinkit/dist/index.js"),f=r.n(p),d=r("./MapStore2/web/client/components/I18N/Message.jsx");function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){S(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=w(e);if(t){var o=w(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return j(this,r)}}function j(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?P(e):t}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(a,e);var t,r,n,i=O(a);function a(){var e;h(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return S(P(e=i.call.apply(i,[this].concat(r))),"renderLoading",(function(){return e.props.maskLoading?l.a.createElement("div",{style:{width:"100%",height:"100%",position:"absolute",overflow:"visible",margin:"auto",verticalAlign:"center",left:"0",background:"rgba(255, 255, 255, 0.5)",zIndex:2}},l.a.createElement("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -40%)"}},l.a.createElement(d.default,{msgId:"loading"}),l.a.createElement(f.a,{spinnerName:"circle",noFadeIn:!0,overrideSpinnerClassName:"spinner"}))):null})),S(P(e),"renderRole",(function(t){return l.a.Children.toArray(e.props.children).filter((function(e){return e.props.role===t}))})),S(P(e),"hasRole",(function(t){return l.a.Children.toArray(e.props.children).filter((function(e){return e.props.role===t})).length>0})),S(P(e),"onClickOut",(function(t){e.props.onClickOut&&e.mask===t.target&&e.props.onClickOut(t)})),e}return t=a,(r=[{key:"render",value:function(){var e=this,t=l.a.createElement("div",{id:this.props.id,style:b({zIndex:3},this.props.style),className:"".concat(this.props.draggable?"modal-dialog-draggable":""," ").concat(this.props.className," modal-dialog-container")},l.a.createElement("div",{className:this.props.headerClassName+" draggable-header"},this.renderRole("header")),l.a.createElement("div",{className:this.props.bodyClassName},this.renderLoading(),this.renderRole("body")),this.hasRole("footer")?l.a.createElement("div",{className:this.props.footerClassName},this.renderRole("footer")):l.a.createElement("span",null)),r=this.props.draggable?l.a.createElement(s.a,{defaultPosition:this.props.start,bounds:this.props.bounds,handle:".draggable-header, .draggable-header *"},t):t,n=o()({},this.props.style.display?{display:this.props.style.display}:{},this.props.backgroundStyle);return this.props.modal?l.a.createElement("div",{ref:function(t){e.mask=t},onClick:this.onClickOut,style:n,className:"fade in modal "+this.props.containerClassName,role:"dialog"},r):r}}])&&v(t.prototype,r),n&&v(t,n),a}(l.a.Component);S(E,"propTypes",{id:a.a.string.isRequired,style:a.a.object,backgroundStyle:a.a.object,className:a.a.string,maskLoading:a.a.bool,containerClassName:a.a.string,headerClassName:a.a.string,bodyClassName:a.a.string,footerClassName:a.a.string,onClickOut:a.a.func,modal:a.a.bool,start:a.a.object,draggable:a.a.bool,bounds:a.a.oneOfType([a.a.string,a.a.object])}),S(E,"defaultProps",{style:{},backgroundStyle:{background:"rgba(0,0,0,.5)"},start:{x:0,y:150},className:"modal-dialog modal-content",maskLoading:!1,containerClassName:"",headerClassName:"modal-header",bodyClassName:"modal-body",footerClassName:"modal-footer",modal:!1,draggable:!0,bounds:"parent"}),t.a=E},"./MapStore2/web/client/components/misc/Filter.jsx":function(e,t,r){"use strict";r("./MapStore2/web/client/components/misc/style/filter.css");var n=r("./MapStore2/node_modules/prop-types/index.js"),o=r.n(n),i=r("./MapStore2/node_modules/react/index.js"),a=r.n(i),c=r("./MapStore2/node_modules/react-bootstrap/es/index.js");function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m(e);if(t){var o=m(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return d(this,r)}}function d(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(i,e);var t,r,n,o=f(i);function i(){var e;u(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return b(y(e=o.call.apply(o,[this].concat(r))),"onFilter",(function(t){e.props.onFilter(t.target.value)})),b(y(e),"onClear",(function(){e.props.onFilter("")})),e}return t=i,(r=[{key:"render",value:function(){var e=this.props.filterText?a.a.createElement(c.OverlayTrigger,{placement:"bottom",overlay:a.a.createElement(c.Tooltip,{id:"mapstore-toc-filter"},this.props.tooltipClear)},a.a.createElement(c.Glyphicon,{glyph:"1-close",className:"text-primary close-filter",onClick:this.onClear})):a.a.createElement(c.Glyphicon,{className:"text-primary",glyph:"filter"});return a.a.createElement(c.FormGroup,{className:"mapstore-filter"},a.a.createElement(c.InputGroup,null,a.a.createElement(c.FormControl,{value:this.props.filterText,placeholder:this.props.filterPlaceholder,onChange:this.onFilter,onFocus:this.props.onFocus,type:"text"}),a.a.createElement(c.InputGroup.Addon,{className:"square-button-md"},this.props.loading?a.a.createElement("div",{className:"toc-inline-loader"}):e)))}}])&&s(t.prototype,r),n&&s(t,n),i}(a.a.Component);b(h,"propTypes",{loading:o.a.bool,filterText:o.a.string,filterPlaceholder:o.a.oneOfType([o.a.object,o.a.string]),onFilter:o.a.func,onFocus:o.a.func,tooltipClear:o.a.oneOfType([o.a.object,o.a.string])}),b(h,"defaultProps",{loading:!1,filterText:"",filterPlaceholder:"",onFilter:function(){},onFocus:function(){},tooltipClear:"Clear"}),t.a=h},"./MapStore2/web/client/components/misc/FitIcon.jsx":function(e,t,r){"use strict";var n=r("./MapStore2/node_modules/react/index.js"),o=r.n(n),i=r("./MapStore2/node_modules/react-bootstrap/es/index.js"),a=r("./MapStore2/node_modules/react-container-dimensions/lib/index.js"),c=r.n(a),l=r("./MapStore2/web/client/components/misc/enhancers/tooltip.jsx"),u=Object(l.a)(i.Glyphicon);t.a=function(e){var t=e.glyph,r=void 0===t?"info-sign":t,n=e.tooltip,i=e.tooltipId,a=e.iconFit,l=e.padding,s=void 0===l?0:l,p=e.margin,f=void 0===p?0:p;return o.a.createElement(c.a,null,(function(e){var t=e.width,c=e.height;return o.a.createElement(u,{glyph:r,tooltip:n,tooltipId:i,style:{display:"inline-block",padding:s+"px",margin:f+"px",textAlign:"center",fontSize:a?Math.min(t,c)-2*s-2*f:t-2*s-2*f}})}))}},"./MapStore2/web/client/components/misc/Loader.jsx":function(e,t,r){"use strict";var n=r("./MapStore2/node_modules/prop-types/index.js"),o=r.n(n),i=r("./MapStore2/node_modules/react/index.js"),a=r.n(i);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=function(e){return e>100?"full":e>40?"medium":"small"},p=function(e){var t=e.size,r=e.style,n=void 0===r?{}:r,o=e.className,i=e.hidden;return a.a.createElement("div",{className:o,style:l({width:t,height:t,overflow:"hidden"},n)},!i&&a.a.createElement("div",{className:"mapstore-".concat(s(t),"-size-loader")}))};p.propTypes={size:o.a.number,className:o.a.string,style:o.a.object},t.a=p},"./MapStore2/web/client/components/misc/LoadingSpinner.jsx":function(e,t,r){"use strict";var n=r("./MapStore2/node_modules/react/index.js"),o=r.n(n);t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.style,r=void 0===t?{display:"inline-block"}:t;return o.a.createElement("div",{style:r,className:"mapstore-inline-loader"})}},"./MapStore2/web/client/components/misc/OverlayTrigger.jsx":function(e,t,r){"use strict";var n=r("./MapStore2/web/client/components/misc/WithContainer.jsx"),o=r("./MapStore2/node_modules/react-bootstrap/es/index.js");t.a=Object(n.a)(o.OverlayTrigger)},"./MapStore2/web/client/components/misc/Portal.jsx":function(e,t,r){"use strict";var n=r("./MapStore2/web/client/components/misc/WithContainer.jsx"),o=r("./MapStore2/node_modules/react-overlays/es/index.js"),i=Object(n.a)(o.a);t.a=i},"./MapStore2/web/client/components/misc/ResizableModal.jsx":function(e,t,r){"use strict";var n=r("./MapStore2/node_modules/react/index.js"),o=r.n(n),i=r("./MapStore2/node_modules/react-bootstrap/es/index.js"),a=r("./MapStore2/web/client/components/misc/Dialog.jsx"),c=r("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx"),l=r("./MapStore2/node_modules/recompose/es/Recompose.js"),u=r("./MapStore2/node_modules/react-addons-css-transition-group/index.js"),s=r.n(u),p=r("./MapStore2/web/client/components/misc/LoadingSpinner.jsx"),f={xs:" ms-xs",sm:" ms-sm",md:"",lg:" ms-lg"},d={className:{vertical:" ms-fullscreen-v",horizontal:" ms-fullscreen-h",full:" ms-fullscreen"},glyph:{expanded:{vertical:"resize-vertical",horizontal:"resize-horizontal",full:"resize-small"},collapsed:{vertical:"resize-vertical",horizontal:"resize-horizontal",full:"resize-full"}}},y=Object(l.withState)("fullscreenState","onFullscreen",(function(e){var t=e.initialFullscreenState;return void 0===t?"collapsed":t}))((function(e){var t=e.show,r=void 0!==t&&t,n=e.loading,l=e.loadingText,u=e.onClose,y=void 0===u?function(){}:u,m=e.title,b=void 0===m?"":m,h=e.clickOutEnabled,v=void 0===h||h,g=e.showClose,O=void 0===g||g,j=e.disabledClose,P=void 0!==j&&j,w=e.showFullscreen,S=void 0!==w&&w,E=e.fullscreenType,M=void 0===E?"full":E,_=e.buttons,k=void 0===_?[]:_,T=e.size,D=void 0===T?"":T,x=e.bodyClassName,I=void 0===x?"":x,C=e.children,R=e.draggable,A=void 0!==R&&R,N=e.fullscreenState,L=e.onFullscreen,z=e.fade,F=void 0!==z&&z,V=e.fitContent,U=e.modalClassName,W=void 0===U?"":U,B=e.dialogClassName,G=void 0===B?"":B,H=e.enableFooter,q=void 0===H||H,$=f[D]||"",Y=S&&"expanded"===N&&d.className[M]||"",K=r?o.a.createElement("div",{className:"modal-fixed ".concat(W," ")+(A?"ms-draggable":"")},o.a.createElement(a.a,{id:"ms-resizable-modal",style:{display:"flex"},onClickOut:v?y:function(){},containerClassName:"ms-resizable-modal",draggable:A,modal:!0,className:"modal-dialog modal-content"+$+Y+G+(V?" ms-fit-content":"")},o.a.createElement("span",{role:"header"},o.a.createElement("h4",{className:"modal-title"},o.a.createElement("div",{className:"ms-title"},b),S&&d.className[M]&&o.a.createElement(i.Glyphicon,{className:"ms-header-btn",onClick:function(){return L("expanded"===N?"collapsed":"expanded")},glyph:d.glyph[N][M]}),O&&y&&o.a.createElement(i.Glyphicon,{glyph:"1-close",className:"ms-header-btn",onClick:y,disabled:P}))),o.a.createElement("div",{role:"body",className:I},C),q&&o.a.createElement("div",{style:{display:"flex"},role:"footer"},o.a.createElement("div",{className:"ms-resizable-modal-loading-spinner-container"},n?o.a.createElement(p.a,null):null),o.a.createElement("div",{className:"ms-resizable-modal-loading-text"},n?l:null),o.a.createElement(c.a,{buttons:k})))):null;return F?o.a.createElement(s.a,{transitionName:"ms-resizable-modal-fade",transitionEnterTimeout:300,transitionLeaveTimeout:300},K):K}));t.a=y},"./MapStore2/web/client/components/misc/Thumbnail.jsx":function(e,t,r){"use strict";var n=r("./MapStore2/node_modules/react/index.js"),o=r.n(n),i=r("./MapStore2/node_modules/react-dropzone/dist/index.js"),a=r.n(i),c=r("./MapStore2/web/client/components/misc/Loader.jsx"),l=r("./MapStore2/web/client/utils/ThumbnailUtils.js"),u=r("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx");function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function p(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(n=(a=c.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return r}(e,t)||d(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(e){if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var m=Object(n.forwardRef)((function(e,t){var r=e.className,i=void 0===r?"ms-thumbnail":r,d=e.label,y=e.loading,m=e.message,b=e.error,h=e.thumbnail,v=e.removeGlyph,g=void 0===v?"trash":v,O=e.removeTooltipId,j=void 0===O?"removeThumbnail":O,P=e.style,w=void 0===P?{}:P,S=e.maxFileSize,E=void 0===S?5e5:S,M=e.supportedImageTypes,_=void 0===M?["image/png","image/jpeg","image/jpg"]:M,k=e.thumbnailOptions,T=e.dropZoneProps,D=void 0===T?{className:"ms-thumbnail-dropzone",activeClassName:"ms-thumbnail-dropzone-active",rejectClassName:"ms-thumbnail-dropzone-reject"}:T,x=e.onUpdate,I=void 0===x?function(){}:x,C=e.onError,R=void 0===C?function(){}:C,A=e.onRemove,N=e.toolbarButtons,L=Object(n.useRef)(),z=f(Object(n.useState)(),2),F=z[0],V=z[1];Object(n.useEffect)((function(){return L.current=!0,function(){L.current=!1}}),[]);if(y||F)return o.a.createElement("div",{className:"dropzone-thumbnail-container".concat(i?" ".concat(i):""," ms-loading")},o.a.createElement(c.a,{size:70}));var U=o.a.createElement(u.a,{btnDefaultProps:{className:"square-button-md no-border"},buttons:N||[{glyph:g,visible:!(!A||!h),tooltipId:j,onClick:function(e){var t;null==e||null===(t=e.stopPropagation)||void 0===t||t.call(e),null==A||A()}}]});return o.a.createElement("div",{className:"dropzone-thumbnail-container".concat(i?" ".concat(i):""),style:w},d,o.a.createElement(a.a,s({},D,{multiple:!1,onDrop:function(e){var t,r=null==e||null===(t=e[0])||void 0===t?void 0:t.type,n=-1!==_.indexOf(r);V(!0),function(e,t){return new Promise((function(r){var n=e;if(null==n?void 0:n[0]){var o=n[0],i=new FileReader;return i.onload=function(e){return r(t?Object(l.a)(e.target.result,t).then((function(e){return{data:e,size:e.length}})):{data:e.target.result,size:o.size})},i.readAsDataURL(o)}return r({data:null})}))}(e,k).then((function(t){var r=t.data,o=t.size;return L.current?(V(!1),n&&r&&o<E?I(r,e):R([].concat(p(n?[]:["FORMAT"]),p(r&&o>=E?["SIZE"]:[])),e)):null})).catch((function(e){return L.current?(V(!1),R(e)):null}))}}),h?o.a.createElement("div",{style:{position:"relative",width:"100%",height:"100%"}},o.a.createElement("div",{ref:t,style:{position:"relative",width:"100%",height:"100%",backgroundImage:"url(".concat(h,")"),backgroundSize:(null==k?void 0:k.contain)?"contain":"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}}),o.a.createElement("div",{className:"dropzone-content-image-added"},m),U):o.a.createElement("div",{className:"dropzone-content-image"},m,U,b&&o.a.createElement("div",{className:"dropzone-errors"},b))))}));t.a=m},"./MapStore2/web/client/components/misc/WithContainer.jsx":function(e,t,r){"use strict";var n=r("./MapStore2/node_modules/react/index.js"),o=r.n(n),i=r("./MapStore2/web/client/utils/ConfigUtils.js");function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}t.a=function(e){return function(t){return o.a.createElement(e,a({},t,{container:document.querySelector("."+(i.default.getConfigProp("themePrefix")||"ms2")+" > div")||document.body}))}}},"./MapStore2/web/client/components/misc/cardgrids/SideCard.jsx":function(e,t,r){"use strict";var n=r("./MapStore2/node_modules/react/index.js"),o=r.n(n),i=r("./MapStore2/node_modules/lodash/lodash.js"),a=r("./MapStore2/web/client/components/misc/Loader.jsx");function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.body,r=e.caption,n=e.infoExtra,c=e.className,u=void 0===c?"":c,p=e.description,f=e.fullText,d=e.onClick,y=void 0===d?function(){}:d,m=e.onMouseEnter,b=void 0===m?function(){}:m,h=e.onMouseLeave,v=void 0===h?function(){}:h,g=e.preview,O=e.selected,j=e.size,P=e.style,w=void 0===P?{}:P,S=e.stylePreview,E=void 0===S?{}:S,M=e.styleTools,_=void 0===M?{}:M,k=e.title,T=e.loading,D=e.dragSymbol,x=void 0===D?"+":D,I=e.tools,C=s(e,["body","caption","infoExtra","className","description","fullText","onClick","onMouseEnter","onMouseLeave","preview","selected","size","style","stylePreview","styleTools","title","loading","dragSymbol","tools"]);return o.a.createElement("div",{className:"mapstore-side-card".concat(O?" selected":"").concat(j?" ms-"+j:"").concat(u?" ".concat(u):"").concat(f?" full-text":""),onClick:function(e){return y(l({title:k,preview:g,description:p,caption:r,tools:I},C),e)},onMouseEnter:b,onMouseLeave:v,style:w},o.a.createElement("div",{className:"ms-head"},C.isDraggable&&C.connectDragSource&&C.connectDragSource(o.a.createElement("div",{className:"mapstore-side-card-tool text-center"},o.a.createElement("div",{style:{width:10,overflow:"hidden"}},x))),g&&o.a.createElement("div",{className:"mapstore-side-preview",style:E},g),o.a.createElement("div",{className:"mapstore-side-card-container"},o.a.createElement("div",{className:"mapstore-side-card-inner"},o.a.createElement("div",{className:"mapstore-side-card-left-container"},o.a.createElement("div",{className:"mapstore-side-card-info"},k&&o.a.createElement("div",{className:"mapstore-side-card-title"},o.a.createElement("span",null,k)),p&&o.a.createElement("div",{className:"mapstore-side-card-desc"},Object(i.isObject)(p)?p:o.a.createElement("span",null,p)),r&&o.a.createElement("div",{className:"mapstore-side-card-caption"},o.a.createElement("span",null,r))),n),o.a.createElement("div",{className:"mapstore-side-card-right-container"},o.a.createElement("div",{className:"mapstore-side-card-tool text-center",style:_},I),"sm"!==j&&o.a.createElement("div",{className:"mapstore-side-card-loading"},o.a.createElement(a.a,{className:"mapstore-side-card-loader",size:12,hidden:!T})))))),t&&o.a.createElement("div",{className:"ms-body"},t))}},"./MapStore2/web/client/components/misc/cardgrids/SideGrid.jsx":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/node_modules/prop-types/index.js"),o=r.n(n),i=r("./MapStore2/node_modules/react/index.js"),a=r.n(i),c=r("./MapStore2/node_modules/react-bootstrap/es/index.js"),l=r("./MapStore2/web/client/components/misc/cardgrids/SideCard.jsx");function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=b(e);if(t){var o=b(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return m(this,r)}}function m(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(i,e);var t,r,n,o=y(i);function i(){return p(this,i),o.apply(this,arguments)}return t=i,(r=[{key:"render",value:function(){var e=this.props,t=e.cardComponent,r=e.items,n=e.colProps,o=e.onItemClick,i=e.size,u=t||l.a;return a.a.createElement("div",{className:"msSideGrid"+(this.props.className?" "+this.props.className:"")},a.a.createElement(c.Row,{className:"items-list"},r.map((function(e,t){return a.a.createElement(c.Col,s({key:e.id||t},n),a.a.createElement(u,s({onClick:function(){return o(e)},size:i},e)))}))))}}])&&f(t.prototype,r),n&&f(t,n),i}(a.a.Component);h(v,"propTypes",{size:o.a.string,onItemClick:o.a.func,colProps:o.a.object,items:o.a.array,cardComponent:o.a.oneOfType([o.a.string,o.a.func]),className:o.a.string}),h(v,"defaultProps",{size:"",onItemClick:function(){},colProps:{xs:12},className:"",items:[]}),t.default=v},"./MapStore2/web/client/components/misc/enhancers/buttonTooltip.jsx":function(e,t,r){"use strict";var n=r("./MapStore2/node_modules/react/index.js"),o=r.n(n),i=r("./MapStore2/node_modules/recompose/es/Recompose.js"),a=r("./MapStore2/node_modules/lodash/lodash.js"),c=r("./MapStore2/web/client/components/misc/enhancers/tooltip.jsx");t.a=Object(i.branch)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disabled,r=e.noTooltipWhenDisabled,n=void 0!==r&&r;return!(n&&t)}),c.a,(function(e){return function(t){return o.a.createElement(e,Object(a.omit)(t,["tooltipId","tooltip","noTooltipWhenDisabled"]),t.children)}}))},"./MapStore2/web/client/components/misc/enhancers/emptyState.jsx":function(e,t,r){"use strict";var n=r("./MapStore2/node_modules/react/index.js"),o=r.n(n),i=r("./MapStore2/node_modules/lodash/lodash.js"),a=r("./MapStore2/node_modules/recompose/es/Recompose.js"),c=r("./MapStore2/web/client/components/misc/FitIcon.jsx");function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.style,r=void 0===t?{}:t,n=e.mainViewStyle,i=void 0===n?{}:n,a=e.contentStyle,l=void 0===a?{}:a,s=e.imageStyle,p=void 0===s?{}:s,f=e.glyph,d=void 0===f?"info-sign":f,y=e.iconFit,m=e.title,b=e.tooltip,h=e.tooltipId,v=e.description,g=e.content;return o.a.createElement("div",{className:"empty-state-container",style:u({height:y?"100%":void 0},r)},o.a.createElement("div",{key:"main-view",className:"empty-state-main-view",style:u({height:y?"100%":void 0},i)},d?o.a.createElement("div",{key:"glyph",className:"empty-state-image",style:u({height:y?"100%":void 0},p)},o.a.createElement(c.a,{iconFit:y,tooltip:b,tooltipId:h,glyph:d})):null,m?o.a.createElement("h1",{key:"title"},m):null,v?o.a.createElement("p",{key:"description",className:"empty-state-description"},v):null),o.a.createElement("div",{key:"content",className:"empty-state-content",style:l},g))};t.a=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p;return Object(a.branch)(e,(function(){return function(e){return o.a.createElement(r,t&&Object(i.isFunction)(t)?t(e):t)}}))}},"./MapStore2/web/client/components/misc/enhancers/infiniteScroll/withScrollSpy.js":function(e,t,r){"use strict";var n=r("./MapStore2/node_modules/react/index.js"),o=r.n(n),i=r("./MapStore2/node_modules/prop-types/index.js"),a=r.n(i),c=r("./MapStore2/node_modules/react-dom/index.js"),l=r.n(c);r("./MapStore2/node_modules/rxjs/Rx.js");function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){j(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e,t,r){return t&&d(e.prototype,t),r&&d(e,r),e}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=O(e);if(t){var o=O(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v(this,r)}}function v(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dataProp,r=void 0===t?"items":t,n=e.querySelector,i=e.closest,c=void 0!==i&&i,u=e.loadingProp,s=void 0===u?"loading":u,d=e.skip,b=void 0===d?0:d,v=e.pageSize,O=void 0===v?10:v,P=e.offsetSize,w=void 0===P?200:P;return function(e){var t,i;return i=t=function(t){m(a,t);var i=h(a);function a(){var e;f(this,a);for(var t=arguments.length,o=new Array(t),u=0;u<t;u++)o[u]=arguments[u];return j(g(e=i.call.apply(i,[this].concat(o))),"findScrollDomNode",(function(){if(!e.isMounded)return null;var t=l.a.findDOMNode(g(e));return t&&c&&n?t.closest(n||"*"):t&&(n?t.querySelector(n):t)})),j(g(e),"onScroll",(function(){var t=p({skip:b,pageSize:O,offsetSize:w},e.props.scrollOptions),n=e.findScrollDomNode();n&&e.props.isScrolled({div:n,offset:t.offsetSize})&&(!r||e.props[r]&&e.props[r].length)&&(!s||!e.props[s])&&e.props.hasMore(e.props)&&e.props.onLoadMore(r?Math.ceil((e.props[r].length-t.skip)/t.pageSize):null)})),e}return y(a,[{key:"componentDidMount",value:function(){this.isMounded=!0;var e=this.findScrollDomNode();e&&(this.listenerAdded=!0,e.addEventListener("scroll",this.onScroll,!1),this.onScroll())}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.findScrollDomNode();n&&!this.listenerAdded&&(n.addEventListener("scroll",this.onScroll,!1),this.listenerAdded=!0),!n||r&&this.props[r]&&this.props[r]===e[r]||setTimeout((function(){return t.onScroll()}),300)}},{key:"componentWillUnmount",value:function(){this.isMounded=!1,this.listenerAdded=!1;var e=this.findScrollDomNode();e&&e.removeEventListener("scroll",this.onScroll,!1)}},{key:"render",value:function(){return o.a.createElement(e,this.props)}}]),a}(o.a.Component),j(t,"propTypes",{hasMore:a.a.func,onLoadMore:a.a.func,isScrolled:a.a.func,scrollOptions:a.a.object}),j(t,"defaultProps",{onLoadMore:function(){},hasMore:function(){return!0},isScrolled:function(e){var t=e.div,r=e.offset;return t.scrollTop+t.clientHeight>=t.scrollHeight-r}}),i}}},"./MapStore2/web/client/components/misc/enhancers/localizedProps.js":function(e,t,r){"use strict";var n=r("./MapStore2/web/client/utils/LocaleUtils.js"),o=r("./MapStore2/node_modules/prop-types/index.js"),i=r.n(o),a=r("./MapStore2/node_modules/lodash/lodash.js"),c=r("./MapStore2/node_modules/recompose/es/Recompose.js");function l(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"label";if(Object(a.isArray)(t))return t.map((function(o){var i=Object(n.f)(e,o[r]||Object(a.isString)(o)&&o||"");return s(s({},o),{},p({},r,Object(a.isNil)(i)?t:i))}));var o=Object(n.f)(e,t);return Object(a.isNil)(o)?t:o},d=function(e,t,r){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;return s(s({},n),{},p({},o,e[o]&&f(t,e[o],r)))}};t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"label";return Object(c.compose)(Object(c.getContext)({messages:i.a.object}),Object(c.mapProps)((function(r){var n=r.messages,o=l(r,["messages"]);return s(s({},o),Object(a.castArray)(e).reduce(d(o,n,t),{}))})))}},"./MapStore2/web/client/components/misc/enhancers/popover.js":function(e,t,r){"use strict";var n=r("./MapStore2/node_modules/react/index.js"),o=r.n(n),i=r("./MapStore2/node_modules/recompose/es/Recompose.js"),a=r("./MapStore2/node_modules/prop-types/index.js"),c=r.n(a),l=r("./MapStore2/node_modules/lodash/lodash.js"),u=r("./MapStore2/node_modules/react-bootstrap/es/index.js"),s=r("./MapStore2/web/client/components/misc/OverlayTrigger.jsx");function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=h(e);if(t){var o=h(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return b(this,r)}}function b(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}t.a=Object(i.branch)((function(e){return e.popover}),(function(e){var t,r;return r=t=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(p,t);var r,n,a,c=m(p);function p(){return f(this,p),c.apply(this,arguments)}return r=p,(n=[{key:"renderPopover",value:function(){return o.a.createElement(u.Popover,Object(l.omit)(this.props.popover,["trigger","placement","text"]),this.props.popover.text)}},{key:"renderContent",value:function(){var t=Object(i.toClass)(e);return o.a.createElement(t,Object(l.omit)(this.props,["popover"]))}},{key:"render",value:function(){var e=!0===this.props.popover.trigger?["hover","focus"]:this.props.popover.trigger;return o.a.createElement("span",null,o.a.createElement(s.a,{trigger:e,placement:this.props.popover.placement,overlay:this.renderPopover()},this.renderContent()))}}])&&d(r.prototype,n),a&&d(r,a),p}(o.a.Component),v(t,"propTypes",{popover:c.a.object}),v(t,"defaultProps",{popover:{trigger:!0}}),r}))},"./MapStore2/web/client/components/misc/enhancers/tooltip.jsx":function(e,t,r){"use strict";var n=r("./MapStore2/node_modules/react/index.js"),o=r.n(n),i=r("./MapStore2/node_modules/recompose/es/Recompose.js"),a=r("./MapStore2/node_modules/react-bootstrap/es/index.js"),c=r("./MapStore2/web/client/components/misc/OverlayTrigger.jsx"),l=r("./MapStore2/web/client/components/I18N/Message.jsx"),u=r("./MapStore2/node_modules/lodash/lodash.js");function s(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}t.a=Object(i.branch)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.tooltip,r=e.tooltipId;return t||r}),(function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.tooltip,n=t.tooltipId,i=t.tooltipPosition,u=void 0===i?"top":i,p=t.tooltipTrigger,f=t.keyProp,d=t.idDropDown,y=t.args,m=t.customOverlayTrigger,b=void 0===m?c.a:m,h=s(t,["tooltip","tooltipId","tooltipPosition","tooltipTrigger","keyProp","idDropDown","args","customOverlayTrigger"]);return o.a.createElement(b,{trigger:p,id:d,key:f,placement:u,overlay:o.a.createElement(a.Tooltip,{id:"tooltip-"+f},n?o.a.createElement(l.default,{msgId:n,msgParams:{data:y}}):r)},o.a.createElement(e,h))}}),(function(e){return function(t){return o.a.createElement(e,Object(u.omit)(t,["tooltipId","tooltip"]),t.children)}}))},"./MapStore2/web/client/components/misc/enhancers/withResizeSpy.js":function(e,t,r){"use strict";var n=r("./MapStore2/node_modules/react/index.js"),o=r.n(n),i=r("./MapStore2/node_modules/lodash/lodash.js"),a=r("./MapStore2/node_modules/prop-types/index.js"),c=r.n(a),l=r("./MapStore2/node_modules/react-dom/index.js"),u=r.n(l),s=r("./MapStore2/node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js");function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e,t,r){return t&&d(e.prototype,t),r&&d(e,r),e}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=O(e);if(t){var o=O(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v(this,r)}}function v(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.debounceTime,r=e.querySelector,n=e.closest,a=void 0!==n&&n;return function(e){var n,l;return l=n=function(n){m(l,n);var c=h(l);function l(e){var n;return f(this,l),j(g(n=c.call(this,e)),"findDomNode",(function(){if(!n.isMounded)return null;var e=u.a.findDOMNode(g(n));return e&&a&&r?e.closest(r||"*"):e&&(r?e.querySelector(r):e)})),n.width=void 0,n.height=void 0,n.skipOnMount=e.skipOnMount,n.onResize=Object(i.debounce)((function(){var e;return(e=n.props).onResize.apply(e,arguments)}),void 0!==t?t:e.debounceTime||1e3),n.ro=new s.a((function(e){e.forEach((function(e){var t=e.contentRect,r=t.width,o=t.height,i=n.props.handleWidth&&n.width!==r,a=n.props.handleHeight&&n.height!==o;n.skipOnMount||!i&&!a||n.onResize({width:r,height:o}),n.width=r,n.height=o,n.skipOnMount=!1}))})),n}return y(l,[{key:"componentDidMount",value:function(){this.isMounded=!0;var e=this.findDomNode();e&&this.ro.observe(e)}},{key:"componentWillUnmount",value:function(){var e=this.findDomNode();e&&this.ro&&this.ro.unobserve&&this.ro.unobserve(e)}},{key:"render",value:function(){return o.a.createElement(e,this.props)}}]),l}(o.a.Component),j(n,"propTypes",{handleWidth:c.a.bool,handleHeight:c.a.bool,onResize:c.a.func}),j(n,"defaultProps",{onResize:function(){},handleWidth:!0,handleHeight:!0}),l}}},"./MapStore2/web/client/components/misc/style/filter.css":function(e,t,r){var n=r("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/misc/style/filter.css");"string"==typeof n&&(n=[[e.i,n,""]]);r("./node_modules/style-loader/addStyles.js")(n,{});n.locals&&(e.exports=n.locals)},"./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx":function(e,t,r){"use strict";var n=r("./MapStore2/node_modules/react/index.js"),o=r.n(n),i=r("./MapStore2/node_modules/react-addons-css-transition-group/index.js"),a=r.n(i),c=r("./MapStore2/node_modules/react-bootstrap/es/index.js"),l=r("./MapStore2/web/client/components/misc/toolbar/ToolbarButton.jsx");function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function s(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.buttons,r=void 0===t?[]:t,n=e.btnGroupProps,i=void 0===n?{}:n,p=e.btnDefaultProps,f=void 0===p?{}:p,d=e.transitionProps,y=void 0===d?{transitionName:"toolbar-btn-transition",transitionEnterTimeout:300,transitionLeaveTimeout:300}:d,m=function(){return r.map((function(e,t){var r=e.visible,n=void 0===r||r,i=e.Element,a=e.renderButton,c=s(e,["visible","Element","renderButton"]);return n?a||(i&&o.a.createElement(i,u({key:c.key||t},c))||o.a.createElement(l.a,u({key:c.key||t},f,c))):null}))};return o.a.createElement(c.ButtonGroup,i,y?o.a.createElement(a.a,y,m()):m())}},"./MapStore2/web/client/components/misc/toolbar/ToolbarButton.jsx":function(e,t,r){"use strict";var n=r("./MapStore2/node_modules/react/index.js"),o=r.n(n),i=r("./MapStore2/node_modules/recompose/es/Recompose.js"),a=r("./MapStore2/web/client/components/I18N/Message.jsx"),c=r("./MapStore2/node_modules/lodash/lodash.js"),l=r("./MapStore2/node_modules/react-bootstrap/es/index.js"),u=r("./MapStore2/web/client/components/misc/Loader.jsx"),s=r("./MapStore2/web/client/components/misc/enhancers/buttonTooltip.jsx"),p=r("./MapStore2/web/client/components/misc/enhancers/popover.js");function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}t.a=Object(i.compose)(s.a,p.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.glyph,r=e.loading,n=e.text,i=void 0===n?"":n,s=e.textId,p=e.glyphClassName,y=void 0===p?"":p,m=e.loaderProps,b=void 0===m?{}:m,h=e.children,v=d(e,["glyph","loading","text","textId","glyphClassName","loaderProps","children"]);return o.a.createElement(l.Button,Object(c.omit)(v,["pullRight","confirmNo","confirmYes"]),t&&!r?o.a.createElement(l.Glyphicon,{glyph:t,className:y}):null,s?o.a.createElement(a.default,{msgId:s}):i,r?o.a.createElement(u.a,f({className:"ms-loader".concat(v.bsStyle&&" ms-loader-"+v.bsStyle||"").concat(v.bsSize&&" ms-loader-"+v.bsSize||"")},b)):null,h)}))},"./MapStore2/web/client/components/misc/withConfirm.jsx":function(e,t,r){"use strict";var n=r("./MapStore2/node_modules/react/index.js"),o=r.n(n),i=r("./MapStore2/web/client/components/misc/ConfirmDialog.jsx"),a=r("./MapStore2/web/client/components/misc/Portal.jsx"),c=r("./MapStore2/web/client/components/I18N/Message.jsx"),l=r("./MapStore2/node_modules/recompose/es/Recompose.js");function u(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var s=Object(l.compose)(Object(l.withProps)((function(e){var t=e.setConfirming;return{onClose:function(){return t(!1)}}})))((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.confirmYes,r=void 0===t?o.a.createElement(c.default,{msgId:"yes"}):t,n=e.confirmNo,l=void 0===n?o.a.createElement(c.default,{msgId:"no"}):n,u=e.confirmTitle,s=void 0===u?o.a.createElement(c.default,{msgId:"confirm"}):u,p=e.confirmContent,f=e.confirmButtonBSStyle,d=void 0===f?"primary":f,y=e.show,m=void 0!==y&&y,b=e.confirmModal,h=void 0===b||b,v=e.draggable,g=void 0!==v&&v,O=e.onClose,j=void 0===O?function(){}:O,P=e.onConfirm,w=void 0===P?function(){}:P;return m?o.a.createElement(a.a,null,o.a.createElement("div",{className:"with-confirm-modal"},o.a.createElement(i.a,{draggable:g,show:m,modal:h,onClose:j,onConfirm:w,title:s,confirmButtonContent:r,closeText:l,confirmButtonBSStyle:d,closeGlyph:"1-close"},p))):null})),p=function(e){return function(t){var r=t.confirming,n=t.confirmYes,i=t.confirmNo,a=t.confirmTitle,c=t.confirmContent,l=t.confirmModal,p=t.draggable,f=t.onConfirm,d=t.setConfirming,y=u(t,["confirming","confirmYes","confirmNo","confirmTitle","confirmContent","confirmModal","draggable","onConfirm","setConfirming"]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(s,{show:r,setConfirming:d,confirmYes:n,confirmNo:i,confirmTitle:a,confirmContent:c,confirmModal:l,draggable:p,onConfirm:f}),o.a.createElement(e,y))}};t.a=function(e){return Object(l.compose)(Object(l.withState)("confirming","setConfirming",!1),Object(l.withHandlers)({onClick:function(e){var t=e.setConfirming,r=void 0===t?function(){}:t,n=e.onClick,o=void 0===n?function(){}:n,i=e.confirmPredicate,a=void 0===i||i;return function(){a?r(!0):o.apply(void 0,arguments)}},onConfirm:function(e){var t=e.onClick,r=void 0===t?function(){}:t,n=e.setConfirming,o=void 0===n?function(){}:n;return function(){o(!1),r.apply(void 0,arguments)}}}),p)(e)}},"./MapStore2/web/client/components/widgets/builder/wizard/map/PreviewMap.jsx":function(e,t,r){"use strict";var n=r("./MapStore2/web/client/components/widgets/widget/MapView.jsx"),o=r("./MapStore2/node_modules/recompose/es/Recompose.js"),i=Object(o.compose)(Object(o.withHandlers)({onMapViewChanges:function(e){var t=e.onChange,r=void 0===t?function(){}:t;return function(e){r("map",e),r("mapStateSource",e.mapStateSource)}}}));t.a=i(n.a)},"./MapStore2/web/client/components/widgets/widget/MapView.jsx":function(e,t,r){"use strict";var n=r("./MapStore2/node_modules/recompose/es/Recompose.js"),o=r("./MapStore2/web/client/components/map/enhancers/autoMapType.js"),i=r("./MapStore2/web/client/components/map/enhancers/autoResize.js"),a=r("./MapStore2/web/client/components/map/enhancers/getProjectionDefs.js"),c=r("./MapStore2/web/client/components/map/enhancers/handlingUnsupportedProjection.js"),l=r("./MapStore2/web/client/components/map/enhancers/mapType.js"),u=r("./MapStore2/web/client/components/map/enhancers/onMapViewChanges.js"),s=r("./MapStore2/web/client/components/map/BaseMap.jsx");t.a=Object(n.compose)(u.a,Object(i.a)(0),o.a,l.a,a.a,c.a)(s.a)},"./MapStore2/web/client/plugins/MediaEditor.jsx":function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"loadMediaEditorDataEpic",(function(){return w})),r.d(n,"editorSaveUpdateMediaEpic",(function(){return S})),r.d(n,"mediaEditorNewMap",(function(){return E})),r.d(n,"mediaEditorEditMap",(function(){return M})),r.d(n,"reloadMediaResources",(function(){return _})),r.d(n,"importInLocalSource",(function(){return k})),r.d(n,"editRemoteMap",(function(){return T})),r.d(n,"removeMediaEpic",(function(){return D})),r.d(n,"updateSelectedItem",(function(){return x}));var o=r("./MapStore2/node_modules/react-redux/es/index.js"),i=r("./MapStore2/node_modules/reselect/es/index.js"),a=r("./MapStore2/web/client/utils/PluginsUtils.js"),c=r("./MapStore2/web/client/actions/mediaEditor.js"),l=r("./MapStore2/node_modules/rxjs/Rx.js"),u=r("./MapStore2/node_modules/uuid/index.js"),s=r.n(u),p=r("./MapStore2/node_modules/lodash/findKey.js"),f=r.n(p),d=r("./MapStore2/web/client/actions/mapEditor.js"),y=r("./MapStore2/web/client/selectors/mediaEditor.js"),m=r("./MapStore2/web/client/utils/GeoStoryUtils.js"),b=r("./MapStore2/web/client/utils/MediaEditorUtils.js"),h=r("./MapStore2/web/client/api/media/index.js");function v(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){P(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function P(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var w=function(e,t){return e.ofType(c.p,c.i,c.o,c.n).switchMap((function(e){var r,n=t.getState(),o=e.sourceId||Object(y.p)(n),i=e.mediaType||Object(y.c)(n),a=Object(y.d)(t.getState())||[],u=Object(y.m)(n),s=(null===(r=e.params)||void 0===r?void 0:r.page)?e.params.page:1,p=j(j({},e.params),{},{page:s,pageSize:10}),f=1===s?[]:a,d=j(j({},Object(y.o)(n)),{},{store:t});return Object(h.a)(d).load({mediaType:i,sourceId:o,params:p,selectedId:u}).switchMap((function(e){return e?l.Observable.of(Object(c.w)({mediaType:i,sourceId:o,params:j(j({},p),{},{mediaType:i}),resultData:j(j({},e),{},{resources:[].concat(v(f),v(e.resources))})})):l.Observable.empty()})).startWith(Object(c.x)())}))},S=function(e,t){return e.ofType(c.l).switchMap((function(e){var r=e.mediaType,n=void 0===r?"image":r,o=e.source,i=e.data,a=Object(y.e)(t.getState()),u=j(j({},Object(y.o)(t.getState())),{},{store:t}),s=a?Object(h.a)(u).edit({mediaType:n,source:o,data:i}):Object(h.a)(u).save({mediaType:n,source:o,data:i}),p=a?Object(c.E)(!1):Object(c.D)(!1);return s.switchMap((function(e){var t=e.id;return l.Observable.of(Object(c.B)({mediaType:n,source:o,data:i,id:t}),p,Object(c.C)(t))}))}))},E=function(e,t){var r=t.getState;return e.ofType(d.c).filter((function(e){var t=e.owner,r=e.map;return"mediaEditor"===t&&!r})).switchMap((function(){var t=e.ofType(d.b).switchMap((function(e){var t=e.map,n=Object(y.d)(r())||[],o=s()();return l.Observable.from([Object(c.w)({mediaType:m.e.MAP,sourceId:b.a.GEOSTORY,params:{mediaType:m.e.MAP},resultData:{resources:[{id:o,type:"map",data:j({type:"map",id:o},t)}].concat(v(n)),totalCount:n.length+1}}),Object(c.C)(o),Object(d.d)()])})).takeUntil(e.ofType(d.a)),n=e.ofType(d.a).map((function(){return Object(c.D)(!1)})).takeUntil(e.ofType(d.b));return l.Observable.merge(n,t)}))},M=function(e,t){var r=t.getState;return e.ofType(d.c).filter((function(e){var t=e.owner,r=e.map;return"mediaEditor"===t&&!!r})).switchMap((function(){return e.ofType(d.b).switchMap((function(e){var t=e.map,n=Object(y.n)(r());return l.Observable.from([Object(c.I)(j(j({},n),{},{data:j({},t)}),"replace"),Object(d.d)()])})).takeUntil(e.ofType(d.a))}))},_=function(e,t){var r=t.getState;return e.ofType(c.c,c.a).filter((function(e){var t=e.editing,r=void 0===t||t,n=e.adding;return!1===r||!1===(void 0===n||n)})).map((function(){return Object(c.v)(void 0,Object(y.c)(r()),b.a.GEOSTORY)}))},k=function(e,t){return e.ofType(c.f).switchMap((function(e){var r=e.resource,n=e.sourceType,o=Object(y.q)(t.getState()),i=f()(o,(function(e){var t=e.type;return n===t})),a=j(j({},o[i]),{},{store:t});return Object(h.a)(a).save({mediaType:r.type,source:o[i],data:r}).switchMap((function(e){var t=e.id;return l.Observable.of(Object(c.F)(i),Object(c.B)({mediaType:r.type,source:o[i],data:r,id:t}),Object(c.v)(void 0,r.type,i),Object(c.C)(t))}))}))},T=function(e,t){return e.ofType(d.c).filter((function(e){var t=e.owner,r=e.map;return"mediaEditorEditRemote"===t&&!!r})).switchMap((function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.map,o=(n=void 0===n?{}:n).data;return e.ofType(d.b).switchMap((function(e){var r=e.map,n=Object(y.q)(t.getState()),i=f()(n,(function(e){var t=e.type;return b.a.GEOSTORY===t})),a=j(j({},n[i]),{},{store:t});return Object(h.a)(a).save({mediaType:o.type,source:n[i],data:j(j({},o),r)}).switchMap((function(e){var t=e.id;return l.Observable.of(Object(c.F)(i),Object(c.B)({mediaType:o.type,source:n[i],data:o,id:t}),Object(c.v)(void 0,o.type,i),Object(c.C)(t),Object(d.d)())}))})).takeUntil(e.ofType(d.a))}))},D=function(e,t){return e.ofType(c.k).switchMap((function(e){var r=e.mediaType,n=j(j({},Object(y.o)(t.getState())),{},{store:t});return Object(h.a)(n).remove({mediaType:r}).switchMap((function(){return l.Observable.of(Object(c.v)(void 0,Object(y.c)(t.getState()),b.a.GEOSTORY))}))}))},x=function(e,t){return e.ofType(c.m).switchMap((function(){var e=t.getState(),r=Object(y.n)(e),n=j(j({},Object(y.o)(t.getState())),{},{store:t});return Object(h.a)(n).getData({selectedItem:r}).switchMap((function(e){return null===e?l.Observable.of(Object(c.y)(!1)):l.Observable.of(Object(c.I)(j(j({},r),{},{data:j({},e)}),"replace"),Object(c.y)(!1))})).catch((function(){return l.Observable.of(Object(c.y)(!1))})).startWith(Object(c.y)(!0))}))},I=r("./MapStore2/node_modules/lodash/lodash.js"),C=r("./MapStore2/node_modules/connected-react-router/esm/actions.js"),R=r("./MapStore2/web/client/utils/ImmutableUtils.js");function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){L(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function L(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var z={open:!1,data:{},settings:{mediaType:m.e.IMAGE,sourceId:"geostory",mediaTypes:{image:{defaultSource:"geostory",sources:["geostory"]},video:{defaultSource:"geostory",sources:["geostory"]},map:{defaultSource:"geostory",sources:["geostory","geostoreMap"]}},sources:{geostory:{name:"geostory.storyResources",type:b.a.GEOSTORY,addMediaEnabled:{image:!0,video:!0,map:!0},editMediaEnabled:{image:!0,video:!0,map:!0},removeMediaEnabled:{image:!0,video:!0,map:!0}},geostoreMap:{name:"geostory.geostoreMap",type:b.a.GEOSTORE,baseURL:"rest/geostore/",category:"MAP",editMediaEnabled:{map:!0}}}}},F=r("./MapStore2/node_modules/react/index.js"),V=r.n(F),U=r("./MapStore2/node_modules/recompose/es/Recompose.js"),W=r("./MapStore2/web/client/components/misc/withConfirm.jsx"),B=r("./MapStore2/web/client/components/I18N/Message.jsx"),G=Object(U.compose)(Object(U.defaultProps)({confirmContent:V.a.createElement(B.default,{msgId:"mediaEditor.confirmExitContent"}),confirmTitle:V.a.createElement(B.default,{msgId:"mediaEditor.confirmExitTitle"})}),Object(U.withPropsOnChange)(["adding"],(function(e){return{confirmPredicate:e.adding}})),Object(U.withHandlers)({onClick:function(e){var t=e.hide,r=e.owner;return function(){return t(r)}}}),W.a,Object(U.withHandlers)({hide:function(e){var t=e.onClick;return function(){return t.apply(void 0,arguments)}}})),H=r("./MapStore2/web/client/components/misc/ResizableModal.jsx"),q=r("./MapStore2/web/client/components/misc/Portal.jsx"),$=r("./MapStore2/node_modules/react-select/dist/react-select.es.js"),Y=r("./MapStore2/web/client/components/layout/BorderLayout.jsx"),K=r("./MapStore2/web/client/components/misc/enhancers/localizedProps.js"),Z=r("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx"),J=r("./MapStore2/web/client/components/misc/enhancers/emptyState.jsx"),X=Object(J.a)((function(e){var t=e.mediaType,r=e.selectedItem;return t===m.e.IMAGE&&!r}),{style:{width:"100%",height:"100%",boxShadow:"inset 0px 0px 30px -5px rgba(0,0,0,0.16)"},iconFit:!0,glyph:"picture",imageStyle:{display:"flex",flexDirection:"column",justifyContent:"center"}})((function(e){var t=e.selectedItem,r=t&&t.data&&t.data.src;return r&&V.a.createElement("img",{src:r,style:{objectFit:"contain",width:"100%",height:"100%"}})})),Q=r("./MapStore2/web/client/components/geostory/media/Video.jsx"),ee=Object(J.a)((function(e){var t=e.mediaType,r=e.selectedItem;return t===m.e.VIDEO&&!r}),{style:{width:"100%",height:"100%",boxShadow:"inset 0px 0px 30px -5px rgba(0,0,0,0.16)"},iconFit:!0,glyph:"play",imageStyle:{display:"flex",flexDirection:"column",justifyContent:"center"}})((function(e){var t,r,n=e.selectedItem,o=null==n||null===(t=n.data)||void 0===t?void 0:t.src,i=null==n||null===(r=n.data)||void 0===r?void 0:r.thumbnail;return V.a.createElement("div",{key:"preview",className:"ms-video-preview",style:{width:"100%",height:"100%",boxShadow:"inset 0px 0px 30px -5px rgba(0,0,0,0.16)"}},o&&V.a.createElement(Q.a,{key:o,thumbnail:i,fit:"contain",src:o,inView:!0,mode:m.f.VIEW}))})),te=r("./MapStore2/web/client/components/widgets/builder/wizard/map/PreviewMap.jsx");function re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?re(Object(r),!0).forEach((function(t){oe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function oe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ie(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var ae=Object(J.a)((function(e){var t=e.mediaType,r=e.selectedItem;return t===m.e.MAP&&(!r||Object(I.isEmpty)(r))}),{iconFit:!0,glyph:"1-map",imageStyle:{display:"flex",flexDirection:"column",justifyContent:"center"}})((function(e){var t=e.selectedItem,r=t.data?t.data:t,n=r.layers,o=void 0===n?[]:n,i=(r.mapOptions,ie(r,["layers","mapOptions"]));return[V.a.createElement(te.a,{key:i.id||i.mapId,styleMap:{height:"100%"},map:ne(ne({},i),{},{id:"map"+i.id}),id:"preview"+t.id,layers:o||[b.b],options:Object(m.j)({})})]})),ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.mediaType&&V.a.createElement("div",{className:"ms-media-preview",key:"preview",style:{width:"100%",height:"100%",boxShadow:"inset 0px 0px 30px -5px rgba(0,0,0,0.16)"}},e.mediaType===m.e.IMAGE&&V.a.createElement(X,e),e.mediaType===m.e.VIDEO&&V.a.createElement(ee,e),e.mediaType===m.e.MAP&&V.a.createElement(ae,e))||null},le=Object(K.a)(["placeholder","clearValueText","noResultsText"])($.default),ue=Object(U.compose)(Object(o.connect)(null,{openMapEditor:d.e,importInLocal:c.u}),Object(U.withHandlers)({setAddingMedia:function(e){var t=e.setAddingMedia,r=e.openMapEditor,n=e.mediaType;return function(e,o){n===m.e.MAP&&r("mediaEditor",o),t(e)}},editRemoteMap:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.openMapEditor,r=e.selectedItem,n=void 0===r?{}:r;return function(){t("mediaEditorEditRemote",n)}}})),se=r("./MapStore2/web/client/selectors/geostory.js"),pe=Object(U.compose)(Object(o.connect)((function(e){return{isUsed:Object(se.l)(e,Object(y.m)(e))}}),{removeMedia:c.z}),Object(U.withHandlers)({onClick:function(e){var t=e.removeMedia,r=e.mediaType;return function(){t(r)}}}),Object(U.withProps)((function(e){var t=e.isUsed;return{confirmTitle:V.a.createElement(B.default,{msgId:"mediaEditor.mediaList.removeResourceTitle"}),confirmContent:V.a.createElement(B.default,{msgId:t?"mediaEditor.mediaList.confirmRemoveUsedResource":"mediaEditor.mediaList.confirmRemoveResource"})}})),W.a,Object(U.renameProp)("onClick","removeMedia")),fe=r("./MapStore2/web/client/components/misc/Filter.jsx"),de=r("./MapStore2/web/client/components/misc/Loader.jsx"),ye=r("./MapStore2/web/client/components/misc/cardgrids/SideGrid.jsx"),me=r("./MapStore2/web/client/components/I18N/HTML.jsx"),be=r("./MapStore2/node_modules/prop-types/index.js"),he=r.n(be),ve=r("./MapStore2/node_modules/lodash/debounce.js"),ge=r.n(ve);function Oe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function je(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(r),!0).forEach((function(t){Pe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Pe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function we(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(n=(a=c.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Se(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Se(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Se(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ee,Me=function(e,t){return function(r){function n(n){var o,i=Object(F.useRef)(),a=we(Object(F.useState)(n[t]),2),c=a[0],l=a[1],u=Object(F.useRef)();u.current=c,Object(F.useEffect)((function(){u.current!==n[t]&&l(n[t])}),[n[t]]),Object(F.useEffect)((function(){return i.current=ge()((function(t){var r=t.newProps,n=t.newValue;r[e](n)}),n.debounceTime),function(){i.current.cancel()}}),[n.debounceTime]);var s=je(je({},n),{},(Pe(o={},t,c),Pe(o,e,(function(e){l(e),i.current&&(i.current.cancel(),i.current({newProps:n,newValue:e}))})),o));return V.a.createElement(r,s)}return n.propTypes={debounceTime:he.a.number},n.defaultProps={debounceTime:300},n.displayName=r.displayName+"WithDebounceOnCallback",n}},_e=r("./MapStore2/web/client/components/misc/enhancers/infiniteScroll/withScrollSpy.js"),ke=r("./MapStore2/web/client/components/misc/FitIcon.jsx");function Te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function De(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(r),!0).forEach((function(t){xe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Te(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ie=Object(_e.a)()(ye.default),Ce=Object(K.a)("filterPlaceholder")(Me("onFilter","filterText")(fe.a)),Re=(xe(Ee={},m.e.IMAGE,{glyph:"image",emptyMessageId:"mediaEditor.imageList.emptyList",filterPlaceholderMessageId:"mediaEditor.mediaPicker.imageFilter"}),xe(Ee,m.e.VIDEO,{glyph:"play",emptyMessageId:"mediaEditor.videoList.emptyList",filterPlaceholderMessageId:"mediaEditor.mediaPicker.videoFilter"}),xe(Ee,m.e.MAP,{glyph:"1-map",emptyMessageId:"mediaEditor.mapList.emptyList",filterPlaceholderMessageId:"mediaEditor.mediaPicker.mapFilter"}),Ee),Ae=Object(U.compose)(ue,pe)((function(e){var t,r,n,o,i,a=e.resources,c=void 0===a?[]:a,l=e.services,u=void 0===l?[]:l,s=e.selectedItem,p=e.selectedSource,f=void 0===p?{}:p,d=e.selectedService,y=e.mediaType,h=e.selectItem,v=void 0===h?function(){}:h,g=e.setAddingMedia,O=void 0===g?function(){}:g,j=e.setEditingMedia,P=void 0===j?function(){}:j,w=e.editRemoteMap,S=void 0===w?function(){}:w,E=e.removeMedia,M=void 0===E?function(){}:E,_=e.params,k=e.totalCount,T=e.onLoad,D=e.loadingSelected,x=e.loading,C=e.buttons,R=void 0===C?[{glyph:"plus",tooltipId:"mediaEditor.mediaPicker.add",visible:!!(null==f||null===(t=f.addMediaEnabled)||void 0===t?void 0:t[y]),onClick:function(){return O(!0)}},{glyph:"pencil",tooltipId:"mediaEditor.mediaPicker.edit",visible:!(void 0!==(null==s||null===(r=s.data)||void 0===r?void 0:r.sourceId)&&(null==s||null===(n=s.data)||void 0===n?void 0:n.sourceId)!==d||!(null==f||null===(o=f.editMediaEnabled)||void 0===o?void 0:o[y])||Object(I.isNil)(s)),onClick:function(){f.type===b.a.GEOSTORY?P(!0):f.type===b.a.GEOSTORE&&S()}},{glyph:"trash",tooltipId:"mediaEditor.mediaPicker.trash",visible:!(!(null==f||null===(i=f.removeMediaEnabled)||void 0===i?void 0:i[y])||Object(I.isNil)(s)),onClick:M}]:C,A=(null==_?void 0:_.q)||"";function N(e){T(De(De({},_),e),y,d)}var L=Re[y]||{},z=L.glyph,F=L.emptyMessageId,U=L.filterPlaceholderMessageId,W=0===c.length&&x;return V.a.createElement("div",{style:{position:"relative"},className:"ms-media-list"},R.filter((function(e){return!!Object(I.isNil)(e.visible)||e.visible})).length>0&&V.a.createElement("div",{className:"ms-media-toolbar",key:"toolbar"},V.a.createElement(Z.a,{btnDefaultProps:{bsStyle:"primary",className:"square-button-md"},buttons:R})),V.a.createElement(Ce,{filterPlaceholder:U,filterText:A,onFilter:function(e){N({page:1,q:e})}}),c.length>0?V.a.createElement(Ie,{loading:x,scrollOptions:{pageSize:_.pageSize},items:c.map((function(e){var t=e.id,r=e.data,n=void 0===r?{}:r,o=null==u?void 0:u.find((function(e){return e.id===n.sourceId}));return{preview:n.thumbnail||y===m.e.IMAGE&&n.src?V.a.createElement("div",{style:{backgroundImage:'url("'.concat(n.thumbnail||n.src,'")'),backgroundSize:"cover",backgroundPosition:"center",height:"100%",overflow:"hidden"}}):V.a.createElement(ke.a,{glyph:z,padding:20}),title:n.title||n.name,onClick:function(){return v(t)},selected:s&&s.id&&t===s.id,description:n.description,caption:o&&V.a.createElement(B.default,{msgId:o.name})}})),hasMore:function(){return k>c.length},onLoadMore:function(e){N({page:e+1})}}):!W&&V.a.createElement("div",{className:"msEmptyListMessage"},V.a.createElement(me.a,{msgId:F})),V.a.createElement("div",{className:"ms-media-list-pagination"},V.a.createElement("div",null,c.length&&k?V.a.createElement(me.a,{msgId:"mediaEditor.mediaList.resultsCount",msgParams:{count:c.length,total:k}}):null),x&&V.a.createElement(de.a,{size:20})),(D||W)&&V.a.createElement("div",{className:"ms-media-list-loading"},V.a.createElement(de.a,{size:70})))})),Ne=r("./MapStore2/node_modules/react-bootstrap/es/index.js"),Le=r("./MapStore2/web/client/utils/LocaleUtils.js");function ze(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Fe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(r),!0).forEach((function(t){Ve(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ze(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ve(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ue=[{placeholder:"mediaEditor.mediaPicker.sourcePlaceholder",type:"text",id:"src",label:V.a.createElement(B.default,{msgId:"mediaEditor.mediaPicker.source"}),validation:function(e){var t=e.src;return void 0!==t&&""===t?"error":t?"success":void 0}},{placeholder:"mediaEditor.mediaPicker.titlePlaceholder",type:"text",id:"title",label:V.a.createElement(B.default,{msgId:"mediaEditor.mediaPicker.title"}),validation:function(e){var t=e.title;return void 0!==t&&""===t?"error":t?"success":void 0}},{placeholder:"mediaEditor.mediaPicker.altTextPlaceholder",type:"text",id:"alt",label:V.a.createElement(B.default,{msgId:"mediaEditor.mediaPicker.altText"})},{placeholder:"mediaEditor.mediaPicker.descriptionPlaceholder",type:"text",id:"description",label:V.a.createElement(B.default,{msgId:"mediaEditor.mediaPicker.description"})},{placeholder:"mediaEditor.mediaPicker.creditsPlaceholder",type:"text",id:"credits",label:V.a.createElement(B.default,{msgId:"mediaEditor.mediaPicker.credits"})}],We=Object(U.compose)(Object(U.defaultProps)({confirmTitle:V.a.createElement(B.default,{msgId:"mediaEditor.mediaform.confirmExitTitle"}),confirmContent:V.a.createElement(B.default,{msgId:"mediaEditor.mediaform.confirmExitContent"}),getImageDimensionsFunc:function(e,t){var r=new Image;r.onload=function(){t({imgWidth:r.naturalWidth,imgHeight:r.naturalHeight})},r.onerror=function(){t({})},r.src=e}}),Object(U.withStateHandlers)((function(e){var t=e.selectedItem,r=void 0===t?{}:t;return{properties:e.editing?Fe({},r.data):{},confirmPredicate:!1}}),{setProperties:function(e){return function(t){return{properties:Fe(Fe({},e.properties),t),confirmPredicate:!0}}}}),Object(U.withHandlers)({onClick:function(e){var t=e.setAddingMedia,r=e.setEditingMedia,n=e.editing;return function(){n&&r(!1)||t(!1)}}}),W.a,Object(U.getContext)({messages:{}}))((function(e){var t=e.properties,r=void 0===t?{}:t,n=e.onClick,o=void 0===n?function(){}:n,i=e.setProperties,a=void 0===i?function(){}:i,c=e.onSave,l=void 0===c?function(){}:c,u=e.messages,s=e.getImageDimensionsFunc;return V.a.createElement(Y.a,{className:"ms-imageForm",header:V.a.createElement("div",{className:"text-center",key:"toolbar",style:{borderBottom:"1px solid #ddd",padding:8}},V.a.createElement(Z.a,{btnGroupProps:{style:{marginBottom:8}},btnDefaultProps:{bsStyle:"primary",className:"square-button-md"},buttons:[{glyph:"arrow-left",tooltipId:"mediaEditor.mediaPicker.back",onClick:o},{glyph:"floppy-disk",tooltipId:"mediaEditor.mediaPicker.save",disabled:!r.src||!r.title,onClick:function(){s(r.src,(function(e){return l(Fe(Fe({},r),e))}))}}]}))},V.a.createElement(Ne.Form,{style:{padding:8}},Ue.map((function(e){return V.a.createElement(Ne.FormGroup,{key:e.id,validationState:e.validation&&e.validation(r)},V.a.createElement(Ne.ControlLabel,null,e.label),V.a.createElement(Ne.FormControl,{type:e.type,placeholder:Object(Le.f)(u,e.placeholder),value:r[e.id]||"",onChange:function(t){a(Fe(Fe({},r),{},Ve({},e.id,t.target.value)))}}))}))))})),Be=r("./MapStore2/web/client/components/misc/toolbar/ToolbarButton.jsx"),Ge=r("./MapStore2/web/client/components/misc/Thumbnail.jsx");function He(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function qe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $e(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(r),!0).forEach((function(t){Ye(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ye(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ke(){return(Ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var Ze=Object(W.a)(Be.a),Je=function(e){return V.a.createElement(Ze,Ke({confirmTitle:V.a.createElement(B.default,{msgId:"mediaEditor.mapForm.confirmMapSaveTitle"}),confirmContent:V.a.createElement(B.default,{msgId:"mediaEditor.mapForm.confirmMapSaveContent"})},e))},Xe=[{placeholder:"mediaEditor.mediaPicker.titlePlaceholder",type:"text",id:"name",label:V.a.createElement(B.default,{msgId:"mediaEditor.mediaPicker.title"}),validation:function(e){var t=e.name;return void 0!==t&&""===t?"error":t?"success":void 0}},{placeholder:"mediaEditor.mediaPicker.descriptionPlaceholder",type:"text",id:"description",label:V.a.createElement(B.default,{msgId:"mediaEditor.mediaPicker.description"})}],Qe=Object(U.compose)(Object(o.connect)((function(e,t){var r=(t||{}).selectedItem,n=(r=void 0===r?{}:r).id;return{isResourceUsed:r.type===m.e.MAP&&Object(se.l)(e,n)}}),{openMapEditor:d.e}),Object(U.defaultProps)({confirmTitle:V.a.createElement(B.default,{msgId:"mediaEditor.mediaform.confirmExitTitle"}),confirmContent:V.a.createElement(B.default,{msgId:"mediaEditor.mediaform.confirmExitContent"})}),Object(U.withState)("properties","setProperties",(function(e){var t=e.selectedItem,r=(t=void 0===t?{}:t).data;return{name:(r=void 0===r?{}:r).name,thumbnail:r.thumbnail,description:r.description}})),Object(U.withState)("initialResource",null,(function(e){var t=e.properties,r=e.selectedItem,n=(r=void 0===r?{}:r).data;return $e($e({},void 0===n?{}:n),t)})),Object(U.withHandlers)({openMapEditor:function(e){var t=e.selectedItem,r=e.openMapEditor;return function(){var e=t.data,n=e.id,o=He(e,["id"]);r("mediaEditor",{data:o,id:n})}},onSave:function(e){var t=e.onSave,r=e.selectedItem,n=(r=void 0===r?{}:r).data,o=void 0===n?{}:n,i=e.properties;return function(){return t($e($e({},o),i))}},updateThumb:function(e){var t=e.setProperties,r=e.properties;return function(e){return t($e($e({},r),{},{thumbnail:e}))}},onClick:function(e){var t=e.setAddingMedia,r=e.setEditingMedia,n=e.editing;return function(){n&&r(!1)||t(!1)}}}),Object(U.withPropsOnChange)(["selectedItem","initialResource","properties"],(function(e){var t=e.initialResource,r=e.selectedItem,n=(r=void 0===r?{}:r).data,o=void 0===n?{}:n,i=e.properties;return{confirmPredicate:!Object(I.isEqual)(t,$e($e({},o),i))}})),W.a,Object(U.defaultProps)({errorMessages:{FORMAT:V.a.createElement(B.default,{msgId:"map.errorFormat"}),SIZE:V.a.createElement(B.default,{msgId:"map.errorCustomSize",msgParams:{maxFileSize:"50kb"}})}}),Object(U.withState)("thumbnailErrors","setErrors",(function(){return[]})),Object(U.getContext)({messages:{}}))((function(e){var t=e.properties,r=void 0===t?{}:t,n=e.setProperties,o=void 0===n?function(){}:n,i=e.onSave,a=void 0===i?function(){}:i,c=e.updateThumb,l=void 0===c?function(){}:c,u=e.messages,s=e.openMapEditor,p=e.setErrors,f=e.thumbnailErrors,d=void 0===f?[]:f,y=e.errorMessages,m=e.onClick,b=void 0===m?function(){}:m,h=e.confirmPredicate,v=e.isResourceUsed,g=void 0!==v&&v;return V.a.createElement(Y.a,{className:"ms-mapForm",header:V.a.createElement("div",{className:"text-center",key:"toolbar",style:{borderBottom:"1px solid #ddd",padding:8}},V.a.createElement(Z.a,{btnGroupProps:{style:{marginBottom:8}},btnDefaultProps:{bsStyle:"primary",className:"square-button-md"},buttons:[{glyph:"arrow-left",tooltipId:"mediaEditor.mediaPicker.back",onClick:b},{renderButton:V.a.createElement(Je,{glyph:"floppy-disk",tooltipId:"mediaEditor.mediaPicker.save",disabled:!r.name||!h,onClick:a,bsStyle:"primary",className:"square-button-md",confirmPredicate:h&&g})},{glyph:"pencil",tooltipId:"mediaEditor.mediaPicker.edit",onClick:s}]}))},V.a.createElement(Ne.Form,{style:{padding:8}},V.a.createElement(Ge.a,{thumbnail:r.thumbnail,thumbnailOptions:{width:300,height:180,type:"image/jpeg",quality:.5},message:V.a.createElement(B.default,{msgId:"mediaEditor.mediaPicker.thumbnail"}),onUpdate:function(e){l(e),p(void 0)},onRemove:function(){l(void 0),p(void 0)},onError:function(e){return p(e)}}),d&&d.length>0&&V.a.createElement(Ne.Alert,{bsStyle:"danger",className:"text-center"},V.a.createElement("div",null,V.a.createElement(B.default,{msgId:"map.error"})),d.map((function(e){return V.a.createElement("div",null," ",y[e])}))),Xe.map((function(e){return V.a.createElement(Ne.FormGroup,{key:e.id,validationState:e.validation&&e.validation(r)},V.a.createElement(Ne.ControlLabel,null,e.label),V.a.createElement(Ne.FormControl,{type:e.type,placeholder:Object(Le.f)(u,e.placeholder),value:r[e.id]||"",onChange:function(t){o($e($e({},r),{},Ye({},e.id,t.target.value)))}}))}))))})),et=r("./MapStore2/web/client/utils/ThumbnailUtils.js");function tt(){return(tt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function rt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function nt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rt(Object(r),!0).forEach((function(t){ot(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ot(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function it(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(n=(a=c.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return at(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return at(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function at(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ct=[{placeholder:"mediaEditor.mediaPicker.videoUrlPlaceholder",type:"text",id:"src",label:V.a.createElement(B.default,{msgId:"mediaEditor.mediaPicker.videoUrl"}),validation:function(e){var t=e.src;return void 0!==t&&""===t?"error":t?"success":void 0}},{placeholder:"mediaEditor.mediaPicker.titlePlaceholder",type:"text",id:"title",label:V.a.createElement(B.default,{msgId:"mediaEditor.mediaPicker.title"}),validation:function(e){var t=e.title;return void 0!==t&&""===t?"error":t?"success":void 0}},{placeholder:"mediaEditor.mediaPicker.descriptionPlaceholder",type:"text",id:"description",label:V.a.createElement(B.default,{msgId:"mediaEditor.mediaPicker.description"})},{placeholder:"mediaEditor.mediaPicker.creditsPlaceholder",type:"text",id:"credits",label:V.a.createElement(B.default,{msgId:"mediaEditor.mediaPicker.credits"})}],lt=function(e){var t=e.src,r=e.thumbnail,n=e.onUpdate,o=Object(F.useRef)();Object(F.useEffect)((function(){return o.current=!0,function(){o.current=!1}}),[]);var i=it(Object(F.useState)(),2),a=i[0],c=i[1],l=it(Object(F.useState)(),2),u=l[0],s=l[1],p=it(Object(F.useState)(!r),2),f=p[0],d=p[1];return Object(F.useEffect)((function(){t&&f&&(c(void 0),s(!0),Object(et.b)(t,{width:640,height:360,type:"image/jpeg",quality:.5}).then((function(e){o.current&&(n(e),d(!1),s(!1))})).catch((function(){o.current&&(d(!1),c(["CREATE"]),s(!1))})))}),[t,f]),V.a.createElement(V.a.Fragment,null,V.a.createElement(Ge.a,{thumbnail:r,thumbnailOptions:{width:640,height:360,type:"image/jpeg",quality:.5},loading:u,message:V.a.createElement(B.default,{msgId:"mediaEditor.mediaPicker.thumbnail"}),onUpdate:function(e){n(e),c(void 0)},onError:function(e){return c(e)},toolbarButtons:[{glyph:"refresh",tooltipId:"mediaEditor.mediaPicker.createVideoThumbnail",visible:!r,onClick:function(e){e.stopPropagation(),d(!0)}},{glyph:"trash",tooltipId:"removeThumbnail",visible:!!r,onClick:function(e){e.stopPropagation(),n(void 0),c(void 0)}}]}),a&&a.length>0&&V.a.createElement(Ne.Alert,{bsStyle:"danger",className:"text-center"},-1===a.indexOf("CREATE")&&V.a.createElement("div",null,V.a.createElement(B.default,{msgId:"map.error"})),-1!==a.indexOf("FORMAT")&&V.a.createElement("div",null,V.a.createElement(B.default,{msgId:"map.errorFormat"})),-1!==a.indexOf("SIZE")&&V.a.createElement("div",null,V.a.createElement(B.default,{msgId:"map.errorSize"})),-1!==a.indexOf("CREATE")&&V.a.createElement("div",null,V.a.createElement(B.default,{msgId:"mediaEditor.mediaPicker.thumbnailCreateError"}))))},ut=function(e,t){var r=e.properties,n=e.setProperties,o=void 0===n?function(){}:n,i=e.onSave,a=void 0===i?function(){}:i,c=e.onClick,l=void 0===c?function(){}:c,u=(t||{}).messages,s=void 0===u?{}:u,p=r.src,f=r.thumbnail;return V.a.createElement(Y.a,{className:"ms-video-form",header:V.a.createElement("div",{className:"text-center",key:"toolbar",style:{borderBottom:"1px solid #ddd",padding:8}},V.a.createElement(Z.a,{btnGroupProps:{style:{marginBottom:8}},btnDefaultProps:{bsStyle:"primary",className:"square-button-md"},buttons:[{glyph:"arrow-left",tooltipId:"mediaEditor.mediaPicker.back",onClick:l},{glyph:"floppy-disk",tooltipId:"mediaEditor.mediaPicker.save",disabled:!r.src||!r.title,onClick:function(){return a(r)}}]}))},V.a.createElement(Ne.Form,{style:{padding:8}},V.a.createElement(lt,{src:p,thumbnail:f,onUpdate:function(e){return o(nt(nt({},r),{},{thumbnail:e}))}}),ct.map((function(e){return V.a.createElement(Ne.FormGroup,{key:e.id,validationState:e.validation&&e.validation(r)},V.a.createElement(Ne.ControlLabel,null,e.label),V.a.createElement(Ne.FormControl,{type:e.type,placeholder:Object(Le.f)(s,e.placeholder),value:r[e.id]||"",onChange:function(t){o(nt(nt({},r),{},ot({},e.id,t.target.value)))}}))}))))};ut.contextTypes={messages:he.a.object};var st,pt=Object(W.a)(ut);function ft(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var dt=(ft(st={},m.e.IMAGE,We),ft(st,m.e.MAP,Qe),ft(st,m.e.VIDEO,(function(e){var t=it(Object(F.useState)(!1),2),r=t[0],n=t[1],o=it(Object(F.useState)((null==e?void 0:e.editing)?nt({},null==e?void 0:e.selectedItem.data):{}),2),i=o[0],a=o[1];return V.a.createElement(pt,tt({},e,{confirmTitle:V.a.createElement(B.default,{msgId:"mediaEditor.mediaform.confirmExitTitle"}),confirmContent:V.a.createElement(B.default,{msgId:"mediaEditor.mediaform.confirmExitContent"}),confirmPredicate:r,properties:i,setProperties:function(e){a(e),n(!0)},onClick:function(){return(null==e?void 0:e.editing)&&(null==e?void 0:e.setEditingMedia(!1))||(null==e?void 0:e.setAddingMedia(!1))}}))})),st),yt=Object(U.compose)(Object(U.withHandlers)({onSave:function(e){var t=e.mediaType,r=e.source,n=e.saveMedia,o=void 0===n?function(){}:n;return function(e){return o({type:t,source:r,data:e})}}}),Object(U.branch)((function(e){return e.addingMedia}),Object(U.renderComponent)((function(e){var t=dt[e.mediaType||m.e.IMAGE];return V.a.createElement(t,e)}))))(Ae);function mt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function bt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ht=Object(o.connect)(Object(i.a)([y.d,y.n,y.p,y.o,y.e,y.f,y.g,y.i,y.h,y.l,y.b],(function(e,t,r,n,o,i,a,c,l,u,s){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mt(Object(r),!0).forEach((function(t){bt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({resources:e,selectedItem:t,selectedService:r,selectedSource:n,editing:o,services:s,params:i,totalCount:a,loadingSelected:c,loading:l},u)})),{selectItem:c.C,setAddingMedia:c.D,setEditingMedia:c.E,saveMedia:c.A,onLoad:c.v,setMediaService:c.F})(yt),vt=Object(o.connect)(Object(i.c)({selectedItem:y.n,selectedService:y.p,services:y.b,editing:y.e,saveState:y.l}),{setMediaService:c.F,setMediaType:c.G})((function(e){var t=e.mediaType,r=void 0===t?"image":t,n=e.saveState,o=e.selectedItem,i=e.selectedService,a=e.services,c=void 0===a?[{name:"Currently used",id:"geostory"},{name:"Geostore",id:"geostore"}]:a,l=e.setMediaType,u=void 0===l?function(){}:l,s=e.setMediaService,p=void 0===s?function(){}:s,f=e.mediaSelector;return V.a.createElement(Y.a,{className:"ms-mediaEditor",header:V.a.createElement("div",{className:"ms-border-layout-header",style:{padding:4,zIndex:2}},V.a.createElement(Z.a,{btnDefaultProps:{bsSize:"sm"},buttons:[{text:V.a.createElement(B.default,{msgId:"mediaEditor.images"}),active:"image"===r,bsStyle:"image"===r?"primary":"default",onClick:function(){u("image")},disabled:n&&n.addingMedia},{text:V.a.createElement(B.default,{msgId:"mediaEditor.videos"}),active:"video"===r,bsStyle:"video"===r?"primary":"default",onClick:function(){u("video")},disabled:n&&n.addingMedia},{text:V.a.createElement(B.default,{msgId:"mediaEditor.maps"}),active:"map"===r,bsStyle:"map"===r?"primary":"default",onClick:function(){u("map")},disabled:n&&n.addingMedia}]}),V.a.createElement("div",{className:"ms-mediaEditor-services"},V.a.createElement("div",{className:"ms-mediaEditor-label"},V.a.createElement("strong",null,V.a.createElement(B.default,{msgId:"mediaEditor.mediaPicker.services"}))),V.a.createElement(le,{disabled:n&&n.addingMedia,noResultsText:"mediaEditor.mediaPicker.noResults",placeholder:"mediaEditor.mediaPicker.selectService",options:c.map((function(e){return{label:V.a.createElement(B.default,{msgId:e.name}),value:e.id}})),onChange:p,value:i,clearable:!1}))),columns:[V.a.createElement("div",{key:"selector",className:"ms-mediaSelector"},f)]},V.a.createElement(ce,{selectedItem:o,mediaType:r}))})),gt=G((function(e){var t=e.open,r=e.mediaType,n=e.chooseMedia,o=e.selectedItem,i=e.editing,a=e.adding,c=e.hide,l=void 0===c?function(){}:c,u=e.disableAddMedia,s=e.disableEditMedia;return V.a.createElement(q.a,null,V.a.createElement(H.a,{title:V.a.createElement(B.default,{msgId:"mediaEditor.modalTitle"}),show:t,clickOutEnabled:!1,onClose:l,size:"lg",modalClassName:"media-editor-modal",buttons:[{text:V.a.createElement(B.default,{msgId:"mediaEditor.apply"}),bsSize:"sm",disabled:a||i,onClick:function(){return n(o)}}]},V.a.createElement(vt,{mediaType:r,mediaSelector:V.a.createElement(ht,{mediaType:r,disableAddMedia:u,disableEditMedia:s})})))}));t.default=Object(a.d)("MediaEditor",{component:Object(o.connect)(Object(i.c)({mediaType:y.c,editing:y.e,adding:y.a,open:y.j,selectedItem:y.n}),{hide:c.t,chooseMedia:c.r})(gt),reducers:{mediaEditor:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case c.a:return Object(R.d)(Object(R.e)("saveState.addingMedia",r.adding),Object(R.e)("selected",""))(t);case c.c:return Object(R.d)(Object(R.e)("saveState.addingMedia",r.editing),Object(R.e)("saveState.editing",r.editing))(t);case c.e:return Object(R.d)(Object(R.e)("open",!1),Object(R.e)("owner",void 0),Object(R.e)("saveState.addingMedia",!1),Object(R.e)("saveState.editing",!1),Object(R.e)("settings",N(N({},t.stashedSettings||z.settings),(null===(e=t.settings)||void 0===e?void 0:e.mediaType)&&{mediaType:t.settings.mediaType})),Object(R.e)("stashedSettings",void 0),Object(R.f)("selected"))(t);case c.j:var n=r.resultData,o=r.params,i=r.mediaType,a=r.sourceId;return Object(R.d)(Object(R.e)('data["'.concat(i,'"]["').concat(a,'"]'),{params:o,resultData:n}),Object(R.e)("loadingList",!1))(t);case c.q:var l=r.item,u=r.mode,s=Object(y.p)({mediaEditor:t}),p=Object(y.c)({mediaEditor:t}),f=Object(y.k)({mediaEditor:t}).resources,d=Object(I.findIndex)(f,{id:l.id}),m=Object(I.find)(f,{id:l.id}),b="merge"===u?Object(I.merge)({},Object(I.merge)({},m),Object(I.merge)({},l)):l;return Object(R.e)('data["'.concat(p,'"]["').concat(s,'"].resultData.resources[').concat(d,"]"),b,t);case c.m:return r.id===t.selected?Object(R.e)("selected","",t):Object(R.e)("selected",r.id,t);case c.o:var h=Object(I.get)(t,"settings.mediaTypes[".concat(r.mediaType,"].defaultSource"),"geostory");return Object(R.d)(Object(R.e)("settings.sourceId",h),Object(R.e)("settings.mediaType",r.mediaType))(t);case c.n:return Object(R.e)("settings.sourceId",r.id,t);case c.p:var v=r.settings&&N(N({},r.settings),t.settings.mediaType&&{mediaType:t.settings.mediaType});return Object(R.d)(Object(R.e)("open",!0),Object(R.e)("owner",r.owner),Object(R.e)("settings",v||t.settings),Object(R.e)("stashedSettings",t.settings))(t);case C.b:return N(N({},z),{},{settings:N(N({},t.settings),{},{mediaType:z.settings.mediaType})});case c.h:return Object(R.e)("loadingSelected",r.loading,t);case c.g:return Object(R.e)("loadingList",!0,t);default:return t}}},epics:n})},"./MapStore2/web/client/selectors/maptype.js":function(e,t,r){"use strict";r.d(t,"c",(function(){return n})),r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return i}));var n=function(e){return e&&e.maptype&&e.maptype.mapType||"leaflet"},o=function(e){return"cesium"===n(e)},i=function(e){return"openlayers"===n(e)}},"./MapStore2/web/client/utils/MediaEditorUtils.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n={GEOSTORY:"geostory",GEOSTORE:"geostore"},o={type:"osm",title:"Open Street Map",name:"mapnik",source:"osm",group:"background",visibility:!0,id:"mapnik__0",loading:!1,loadingError:!1}},"./MapStore2/web/client/utils/ThumbnailUtils.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i}));var n=function(e,t){return new Promise((function(r,n){var o=t||{},i=o.width,a=void 0===i?64:i,c=o.height,l=void 0===c?64:c,u=o.contain,s=o.type,p=void 0===s?"image/jpeg":s,f=o.quality,d=void 0===f?.5:f,y=new Image;y.crossOrigin="anonymous",y.onload=function(){var e=y.naturalWidth/y.naturalHeight,t=a,n=l,o=a/l,i=document.createElement("canvas");i.setAttribute("width",a),i.setAttribute("height",l),i.style.width=a+"px",i.style.height=l+"px";var c=i.getContext("2d"),s=!u&&e<o||u&&e>o?[t,t/e]:[n*e,n];c.save(),c.translate(t/2,n/2),c.drawImage(y,-s[0]/2,-s[1]/2,s[0],s[1]),c.restore();var f=i.toDataURL(p,d);r(f)},y.onerror=function(e){n(e)},y.src=e}))},o=function(e,t){return new Promise((function(r,n){var o=t||{},i=o.type,a=void 0===i?"image/jpeg":i,c=o.quality,l=void 0===c?.5:c,u=document.createElement("video");u.crossOrigin="anonymous";var s=document.createElement("source"),p=document.createElement("canvas");u.addEventListener("loadedmetadata",(function(){var e=u.videoWidth,t=u.videoHeight;p.setAttribute("width",e),p.setAttribute("height",t),p.style.width=e+"px",p.style.height=t+"px"}),!0),u.addEventListener("loadeddata",(function(){u.currentTime=1}),!0),u.addEventListener("seeked",(function(){p.getContext("2d").drawImage(u,0,0);try{var e=p.toDataURL(a,l);r(e)}catch(e){n(e)}}),!0),u.addEventListener("error",(function(e){n(e)}),!0),u.appendChild(s),u.setAttribute("src",e)}))},i=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1?arguments[1]:void 0,i=/(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})|youtube\.com\/playlist\?list=/,a=null===(e=t.match(i))||void 0===e?void 0:e[1];return a?new Promise((function(e){return e("http://img.youtube.com/vi/".concat(a,"/sddefault.jpg"))})):t.match(/\.(mp4|og[gv]|webm|mov|m4v)($|\?)/i)?o(t).then((function(e){return n(e,r)})):new Promise((function(e,t){return t("Cannot create a thumbnail from the provided source")}))}},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/misc/style/filter.css":function(e,t,r){(e.exports=r("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi .mapstore-filter input::-ms-clear,\n.msgapi .mapstore-filter input::-ms-reveal {\n  display: none;\n}\n",""])}}]);