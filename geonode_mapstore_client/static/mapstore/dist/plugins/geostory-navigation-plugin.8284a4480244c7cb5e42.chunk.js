(window.webpackJsonp=window.webpackJsonp||[]).push([["plugins/geostory-navigation-plugin"],{"./MapStore2/web/client/components/geostory/navigation/ScrollMenu.jsx":function(e,t,n){"use strict";n.d(t,"b",(function(){return h}));var r=n("./MapStore2/node_modules/react/index.js"),o=n.n(r),a=n("./MapStore2/node_modules/react-bootstrap/es/index.js"),i=n("./MapStore2/node_modules/lodash/debounce.js"),c=n.n(i),s=n("./MapStore2/node_modules/react-swipeable/es/index.js"),l=n("./MapStore2/node_modules/react-resize-detector/lib/esm/hoc/withResizeDetector.js"),u=n("./MapStore2/web/client/components/misc/Button.jsx");function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g=function(e){var t=e.tabindex,n=e.text,r=e.selected,a=e.style;return o.a.createElement(u.a,{tabindex:t,className:"".concat(r?"active":"btn-tray"," btn-xs btn-default"),style:a},n)},h=function(e){var t=e.direction,n=void 0===t?"horizontal":t,o=e.deltaScroll,a=e.width,i=e.height,c=e.transition,l=b(Object(r.useState)(0),2),u=l[0],d=l[1],f=b(Object(r.useState)(0),2),v=f[0],g=f[1],h=Object(r.useRef)({x:0,y:0}),y=b(Object(r.useState)(!1),2),j=y[0],w=y[1],O=b(Object(r.useState)("start"),2),S=O[0],E=O[1],x=b(Object(r.useState)(),2),C=x[0],P=x[1],M=Object(r.useRef)(),I=Object(r.useRef)({});function k(e,t){P("move:start");var r=M.current,o=r.parentNode,a=r.getBoundingClientRect(),i=o.getBoundingClientRect();if("horizontal"===n){var s=e+a.width;e<0&&s>i.width?(d(e),h.current.x=e,E("center")):e>=0?(d(0),h.current.x=0,E("start")):s<=i.width&&(d(i.width-a.width),h.current.x=i.width-a.width,E("end"))}if("vertical"===n){var l=t+a.height;t<0&&l>i.height?(g(t),h.current.y=t,E("center")):t>=0?(g(0),h.current.y=0,E("start")):l<=i.height&&(g(i.height-a.height),h.current.y=i.height-a.height,E("end"))}setTimeout((function(){P("move:end")}),c)}function N(){var e=M.current,t=e.parentNode,r=e.getBoundingClientRect(),o=t.getBoundingClientRect();return!("horizontal"===n&&o.width>=r.width||"vertical"===n&&o.height>=r.height)}Object(r.useEffect)((function(){function e(e){var t=N();return w(N()),t?k(h.current.x-(e.deltaY>0?o:-o),h.current.y-(e.deltaY>0?o:-o)):null}var t=N();w(t);var n=M.current.parentNode;return t&&k(h.current.x,h.current.y),t&&n&&n.addEventListener&&n.addEventListener("wheel",e),function(){t&&n&&n.removeEventListener&&n.removeEventListener("wheel",e)}}),[a,i]);var D=Object(s.a)({onSwiping:function(e){e.event.stopPropagation();var t=N();return w(N()),t?k(u-e.deltaX*e.velocity,v-e.deltaY*e.velocity):null},trackTouch:!0,trackMouse:!0});function R(e,t){I.current=p(p({},I.current),{},m({},e,t))}function T(e){var t=I.current[e];if(t){var r=M.current,o=(r&&r.parentNode).getBoundingClientRect(),a=t.getBoundingClientRect();if("horizontal"===n){var i=o.width,c=o.left,s=a.width,l=a.left,u=c+i,d=l+s;return c<=l&&u>=l||c<=d&&u>=d}}return!1}return{status:C,canSwipe:j,isStartControlActive:j&&("end"===S||"center"===S),isEndControlActive:j&&("start"===S||"center"===S),positionLabel:S,coordinates:{x:u,y:v},containerPropsHandlers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.style,n=void 0===t?{}:t;return p(p({},D),{},{style:p({position:"relative",overflow:"hidden",width:"100%",height:"100%"},n)})},contentPropsHandlers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.style,r=void 0===t?{}:t;return{ref:M,style:p(p(p(p({position:"absolute",display:"flex"},c&&{transition:"transform ".concat(c,"ms ease 0s")}),{},{flexDirection:"horizontal"===n?"row":"column"},j&&"horizontal"===n&&{transform:"translateX(".concat(u,"px)")}),j&&"vertical"===n&&{transform:"translateY(".concat(v,"px)")}),r)}},itemPropsHandlers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,n=e.onClick;return p({key:t,ref:function(e){return e&&R(t,e)}},n?{onClick:n,tabindex:T(t)?0:-1,onKeyDown:function(e){"Enter"===e.key&&n()}}:{tabindex:-1})},updateCoordinates:k,moveItemInViewById:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.margin,o=void 0===r?0:r,a=I.current[e];if(a){var i=M.current,c=i&&i.parentNode,s=c.getBoundingClientRect(),l=a.getBoundingClientRect();if("horizontal"===n){var u=s.width,d=s.left,f=l.width,p=l.left,m=d+u,b=p+f,v=d<=p&&m>=b;if(!v){var g=i.getBoundingClientRect(),h=g.left;k(-(p-h)+o,void 0)}}}},moveToDeltaSize:function(e){k(u+e,v+e)}}};t.a=Object(l.a)((function(e){var t=e.currentPage,n=e.items,i=e.scrollTo,s=void 0===i?function(){}:i,l=e.width,f=e.height,p=e.deltaSwipeSize,m=void 0===p?200:p,b=e.transition,v=void 0===b?300:b,y=e.updateTimeDebounceTime,j=void 0===y?500:y,w=e.getItemStyle,O=void 0===w?function(){return{}}:w,S=h({direction:"horizontal",width:l,height:f,transition:v,deltaScroll:m}),E=S.isStartControlActive,x=S.isEndControlActive,C=S.containerPropsHandlers,P=S.contentPropsHandlers,M=S.itemPropsHandlers,I=S.moveToDeltaSize,k=S.moveItemInViewById,N=t&&t.columns&&t.sectionId&&t.columns[t.sectionId]||t&&t.sectionId,D=Object(r.useRef)(null);return Object(r.useEffect)((function(){return D.current=c()((function(e){k(e,{margin:32})}),j),function(){D.current&&(D.current.cancel(),D.current=null)}}),[]),Object(r.useEffect)((function(){D.current&&(D.current.cancel(),D.current(N))}),[N]),o.a.createElement("div",d({},C(),{className:"ms-horizontal-menu"}),o.a.createElement("div",P(),n.map((function(e){var n=e.title,r=e.id,a=M({id:r,onClick:function(){t&&t.sectionId!==r&&s(r)}});return o.a.createElement("div",d({},a,{className:"ms-menu-item"}),o.a.createElement(g,{tabindex:"-1",id:r,text:n||"title",selected:r===N,style:O(r===N)}))}))),E&&o.a.createElement(u.a,{className:"square-button-md no-border",style:{position:"absolute"},onClick:function(){return I(m)}},o.a.createElement(a.Glyphicon,{glyph:"chevron-left"})),x&&o.a.createElement(u.a,{className:"square-button-md no-border",style:{position:"absolute",right:0},onClick:function(){return I(-m)}},o.a.createElement(a.Glyphicon,{glyph:"chevron-right"})))}))},"./MapStore2/web/client/plugins/GeoStoryNavigation.jsx":function(e,t,n){"use strict";n.r(t);var r=n("./MapStore2/node_modules/react/index.js"),o=n.n(r),a=n("./MapStore2/node_modules/react-redux/es/index.js"),i=n("./MapStore2/node_modules/reselect/es/index.js"),c=n("./MapStore2/web/client/utils/PluginsUtils.js"),s=n("./MapStore2/web/client/utils/GeoStoryUtils.js"),l=n("./MapStore2/web/client/selectors/geostory.js"),u=n("./MapStore2/web/client/selectors/router.js"),d=n("./MapStore2/web/client/reducers/geostory.js"),f=n("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx"),p=n("./MapStore2/web/client/components/geostory/navigation/ScrollMenu.jsx"),m=n("./MapStore2/web/client/components/misc/Button.jsx"),b=n("./MapStore2/node_modules/prop-types/index.js"),v=n.n(b),g=n("./MapStore2/node_modules/react-bootstrap/es/index.js"),h=n("./MapStore2/web/client/components/misc/OverlayTrigger.jsx"),y=n("./MapStore2/web/client/components/I18N/Message.jsx"),j=n("./MapStore2/web/client/components/misc/ResizableModal.jsx");function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function S(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k(e);if(t){var o=k(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return M(this,n)}}function M(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?I(e):t}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(i,e);var t,n,r,a=P(i);function i(){var e;E(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return N(I(e=a.call.apply(a,[this].concat(n))),"checkUnsavedChanges",(function(){e.props.renderUnsavedMapChangesDialog?e.props.onCheckMapChanges(e.goHome):(e.props.onCloseUnsavedDialog(),e.goHome())})),N(I(e),"goHome",(function(){e.context.router.history.push("/")})),e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.tooltipPosition,n=S(e,["tooltipPosition"]),r=o.a.createElement(g.Tooltip,{id:"toolbar-home-button"},o.a.createElement(y.default,{msgId:"gohome"}));return o.a.createElement(o.a.Fragment,null,o.a.createElement(h.a,{overlay:r,placement:t},o.a.createElement(m.a,O({id:"home-button",className:"square-button",bsStyle:"primary",onClick:this.checkUnsavedChanges,tooltip:r},n),this.props.icon)),o.a.createElement(j.a,{ref:"unsavedMapModal",show:this.props.displayUnsavedDialog||!1,onClose:this.props.onCloseUnsavedDialog,title:o.a.createElement(y.default,{msgId:"resources.maps.unsavedMapConfirmTitle"}),buttons:[{bsStyle:"primary",text:o.a.createElement(y.default,{msgId:"resources.maps.unsavedMapConfirmButtonText"}),onClick:this.goHome},{text:o.a.createElement(y.default,{msgId:"resources.maps.unsavedMapCancelButtonText"}),onClick:this.props.onCloseUnsavedDialog}],fitContent:!0},o.a.createElement("div",{className:"ms-detail-body"},o.a.createElement(y.default,{msgId:"resources.maps.unsavedMapConfirmMessage"}))))}}])&&x(t.prototype,n),r&&x(t,r),i}(o.a.Component);N(D,"propTypes",{icon:v.a.node,onCheckMapChanges:v.a.func,onCloseUnsavedDialog:v.a.func,displayUnsavedDialog:v.a.bool,renderUnsavedMapChangesDialog:v.a.bool,tooltipPosition:v.a.string}),N(D,"contextTypes",{router:v.a.object,messages:v.a.object}),N(D,"defaultProps",{icon:o.a.createElement(g.Glyphicon,{glyph:"home"}),onCheckMapChanges:function(){},onCloseUnsavedDialog:function(){},renderUnsavedMapChangesDialog:!0,tooltipPosition:"left"});var R=D,T=n("./MapStore2/web/client/utils/URLUtils.js"),_=n("./MapStore2/node_modules/lodash/isObject.js"),U=n.n(_);function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){B(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var H=function(e){var t,n=e.settings,r=e.scrollTo,a=void 0===r?function(){}:r,i=e.navigableItems,c=void 0===i?[]:i,s=e.currentPage,l=void 0===s?{}:s,u=e.totalItems,d=void 0===u?1:u,m=e.currentPosition,b=void 0===m?0:m,v=e.router,g=e.buttons,h=void 0===g?[]:g,y=null==n||null===(t=n.theme)||void 0===t?void 0:t.general,j=U()(y)&&y||{},w=j.fontFamily,O=j.borderColor,S=j.color,E=j.backgroundColor,x=n||{},C=x.isTitleEnabled,P=x.isLogoEnabled,M=x.isNavbarEnabled,I=h.length>0,k=v&&v.pathname&&v.search&&"true"===Object(T.a)(v.search).showHome&&v.pathname.includes("/geostory/shared"),N=M&&(null==c?void 0:c.length)>0,D=C||P||N||I||k;return o.a.createElement("div",{className:"ms-geostory-navigation-bar",style:z(z({color:S,backgroundColor:E},O&&{borderBottom:"1px solid ".concat(O)}),{},{fontFamily:w})},o.a.createElement("div",{className:"progress-bar",key:"progress-bar",style:{backgroundColor:O}},o.a.createElement("div",{className:"progress-percent",style:{width:"".concat((b+1)/d*100,"%"),backgroundColor:S}})),D&&o.a.createElement("div",{className:"ms-geostory-navigation-tools"},o.a.createElement("div",{className:"ms-geostory-navigation-toolbar"},o.a.createElement(f.a,{buttons:h}),k&&o.a.createElement(R,{bsStyle:"default",className:"square-button-md no-border",tooltipPosition:"right",renderUnsavedMapChangesDialog:!1})),o.a.createElement("div",{className:"ms-geostory-navigation-elements"},N?o.a.createElement("div",{className:"ms-geostory-navigation-navigable-items"},o.a.createElement(p.a,{items:c,currentPage:l,scrollTo:a,getItemStyle:function(e){return e?{color:E,backgroundColor:S}:{outlineColor:S,borderColor:S}}})):null,o.a.createElement("div",{className:"ms-geostory-navigation-metadata"},C&&o.a.createElement("div",{className:"ms-geostory-navigation-title",style:{fontSize:n.storyTitleFontSize||"14px"}},n.storyTitle),P&&o.a.createElement("div",{className:"ms-geostory-navigation-logo"},o.a.createElement("img",{src:n.thumbnail&&(n.thumbnail.data||n.thumbnail.url)||"",height:32}))))))};t.default=Object(c.d)("GeoStoryNavigation",{component:Object(a.connect)(Object(i.c)({mode:l.p,settings:l.x,currentPage:l.b,currentPosition:l.c,totalItems:l.y,navigableItems:Object(l.q)({includeAlways:!1}),pathname:u.a,search:u.b}))((function(e){var t=e.mode,n=void 0===t?s.f.VIEW:t,r=e.currentPage,a=e.currentPosition,i=e.totalItems,c=e.settings,l=e.navigableItems,u=void 0===l?[]:l,d=e.pathname,f=e.search,p=e.items,m=(void 0===p?[]:p).filter((function(e){return e.tool})).map((function(e){return{Element:e.tool}}));return n===s.f.VIEW?o.a.createElement("div",{key:"geostory-navigation",className:"ms-geostory-navigation",style:{width:"100%",position:"relative"}},o.a.createElement(H,{settings:c,currentPage:r,currentPosition:a,totalItems:i,scrollTo:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{behavior:"smooth"};Object(s.z)(e,t)},navigableItems:u,router:{pathname:d,search:f},buttons:m})):null})),reducers:{geostory:d.a}})},"./MapStore2/web/client/utils/URLUtils.js":function(e,t,n){"use strict";n.d(t,"e",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return m}));var r=n("./node_modules/url/url.js"),o=n.n(r),a=n("./MapStore2/node_modules/lodash/lodash.js"),i=n("./MapStore2/node_modules/query-string/index.js"),c=n.n(i);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u=function(e){if(!e)return{};var t=!(0===e.indexOf("http")),n=t?[]:e.match(/([^:]*:)\/\/([^:]*:?[^@]*@)?([^:\/\?]*):?([^\/\?]*)/);if(t){var r=window.location;n[1]=r.protocol,n[3]=r.hostname,n[4]=r.port,n[5]=e}n[4]=""!==n[4]&&n[4]?n[4]:"https:"===n[1]?"443":"80",n[5]=n[5]?n[5]:e.slice(n[0].length);var o=s(n,6),a=o[1],i=o[3],c=o[4],l=o[5],u=0===l.indexOf("/")?l.split("/")[1]:"";return{protocol:a,domain:i,port:c,rootPath:l,applicationRootPath:u}},d=function(e,t){var n=Object(a.isArray)(e)?e[0]:e,r=Object(a.isArray)(t)?t[0]:t;if(n===r)return!0;if(!n||!r)return!1;if(!Object(a.isString)(n)||!Object(a.isString)(r))return!1;var i=o.a.parse(n),c=o.a.parse(r),s=u(n),l=u(r),d=s.protocol===l.protocol,f=s.domain===l.domain,p=s.port===l.port,m=i.pathname===c.pathname,b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e===t)return!0;if(!e&&!t)return!0;var n=e?e.split("&").filter((function(e){return!!e})):[],r=t?t.split("&").filter((function(e){return!!e})):[];return Object(a.isEqual)(Object(a.sortBy)(n),Object(a.sortBy)(r))}(i.query,c.query);return d&&p&&f&&m&&b},f=function(e){return c.a.parse(e)},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:/^(http(s{0,1}):\/\/)+?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&'\(\)\*\+,;=.]+$/,n=new RegExp(t);return n.test(e)},m=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:/^(http(s{0,1}):\/\/)+?[\w.\-{}]+(?:\.[\w\.-]+)+[\w\-\._~\/\;\.\%\:\&\=\?{}]+$/,r=new RegExp(n),o=r.test(e);if(!o)return!1;if(o&&!t)return!0;if(o&&t){var i=/\{(.*?)\}/.test(e);return 0===t.filter((function(e){return Object(a.find)(i,e)})).length}return!1}}}]);