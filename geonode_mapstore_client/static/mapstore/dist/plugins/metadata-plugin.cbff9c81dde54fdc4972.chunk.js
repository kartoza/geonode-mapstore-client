(window.webpackJsonp=window.webpackJsonp||[]).push([["plugins/metadata-plugin","plugins/geostory-navigation-plugin~plugins/share-plugin"],{"./MapStore2/node_modules/turf-center/index.js":function(e,t,n){var r=n("./MapStore2/node_modules/turf-bbox/index.js"),o=n("./MapStore2/node_modules/turf-helpers/index.js").point;e.exports=function(e){var t=r(e),n=(t[0]+t[2])/2,i=(t[1]+t[3])/2;return o([n,i])}},"./MapStore2/node_modules/turf-distance/index.js":function(e,t,n){var r=n("./MapStore2/node_modules/turf-invariant/index.js").getCoord,o=n("./MapStore2/node_modules/turf-helpers/index.js").radiansToDistance;e.exports=function(e,t,n){var i=Math.PI/180,a=r(e),u=r(t),c=i*(u[1]-a[1]),s=i*(u[0]-a[0]),l=i*a[1],f=i*u[1],p=Math.pow(Math.sin(c/2),2)+Math.pow(Math.sin(s/2),2)*Math.cos(l)*Math.cos(f);return o(2*Math.atan2(Math.sqrt(p),Math.sqrt(1-p)),n)}},"./MapStore2/node_modules/turf-explode/index.js":function(e,t,n){var r=n("./MapStore2/node_modules/turf-helpers/index.js").featureCollection,o=n("./MapStore2/node_modules/turf-meta/index.js").coordEach,i=n("./MapStore2/node_modules/turf-helpers/index.js").point;e.exports=function(e){var t=[];return o(e,(function(e){t.push(i(e))})),r(t)}},"./MapStore2/node_modules/turf-helpers/index.js":function(e,t){function n(e,t){return{type:"Feature",properties:t||{},geometry:e}}e.exports.feature=n,e.exports.point=function(e,t){if(!Array.isArray(e))throw new Error("Coordinates must be an array");if(e.length<2)throw new Error("Coordinates must be at least 2 numbers long");return n({type:"Point",coordinates:e.slice()},t)},e.exports.polygon=function(e,t){if(!e)throw new Error("No coordinates passed");for(var r=0;r<e.length;r++){var o=e[r];if(o.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var i=0;i<o[o.length-1].length;i++)if(o[o.length-1][i]!==o[0][i])throw new Error("First and last Position are not equivalent.")}return n({type:"Polygon",coordinates:e},t)},e.exports.lineString=function(e,t){if(!e)throw new Error("No coordinates passed");return n({type:"LineString",coordinates:e},t)},e.exports.featureCollection=function(e){return{type:"FeatureCollection",features:e}},e.exports.multiLineString=function(e,t){if(!e)throw new Error("No coordinates passed");return n({type:"MultiLineString",coordinates:e},t)},e.exports.multiPoint=function(e,t){if(!e)throw new Error("No coordinates passed");return n({type:"MultiPoint",coordinates:e},t)},e.exports.multiPolygon=function(e,t){if(!e)throw new Error("No coordinates passed");return n({type:"MultiPolygon",coordinates:e},t)},e.exports.geometryCollection=function(e,t){return n({type:"GeometryCollection",geometries:e},t)};var r={miles:3960,nauticalmiles:3441.145,degrees:57.2957795,radians:1,inches:250905600,yards:6969600,meters:6373e3,metres:6373e3,kilometers:6373,kilometres:6373};e.exports.radiansToDistance=function(e,t){var n=r[t||"kilometers"];if(void 0===n)throw new Error("Invalid unit");return e*n},e.exports.distanceToRadians=function(e,t){var n=r[t||"kilometers"];if(void 0===n)throw new Error("Invalid unit");return e/n},e.exports.distanceToDegrees=function(e,t){var n=r[t||"kilometers"];if(void 0===n)throw new Error("Invalid unit");return e/n*57.2958}},"./MapStore2/node_modules/turf-inside/index.js":function(e,t,n){var r=n("./MapStore2/node_modules/turf-invariant/index.js");function o(e,t){for(var n=!1,r=0,o=t.length-1;r<t.length;o=r++){var i=t[r][0],a=t[r][1],u=t[o][0],c=t[o][1];a>e[1]!=c>e[1]&&e[0]<(u-i)*(e[1]-a)/(c-a)+i&&(n=!n)}return n}e.exports=function(e,t){var n=r.getCoord(e),i=t.geometry.coordinates;"Polygon"===t.geometry.type&&(i=[i]);for(var a=0,u=!1;a<i.length&&!u;a++)if(o(n,i[a][0])){for(var c=!1,s=1;s<i[a].length&&!c;)o(n,i[a][s])&&(c=!0),s++;c||(u=!0)}return u}},"./MapStore2/node_modules/turf-invariant/index.js":function(e,t){e.exports.geojsonType=function(e,t,n){if(!t||!n)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+n+": must be a "+t+", given "+e.type)},e.exports.collectionOf=function(e,t,n){if(!n)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+n+", FeatureCollection required");for(var r=0;r<e.features.length;r++){var o=e.features[r];if(!o||"Feature"!==o.type||!o.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!o.geometry||o.geometry.type!==t)throw new Error("Invalid input to "+n+": must be a "+t+", given "+o.geometry.type)}},e.exports.featureOf=function(e,t,n){if(!n)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+n+": must be a "+t+", given "+e.geometry.type)},e.exports.getCoord=function(e){if(Array.isArray(e)&&"number"==typeof e[0]&&"number"==typeof e[1])return e;if(e){if("Feature"===e.type&&e.geometry&&"Point"===e.geometry.type&&Array.isArray(e.geometry.coordinates))return e.geometry.coordinates;if("Point"===e.type&&Array.isArray(e.coordinates))return e.coordinates}throw new Error("A coordinate, feature, or point geometry is required")}},"./MapStore2/node_modules/turf-point-on-surface/index.js":function(e,t,n){var r=n("./MapStore2/node_modules/turf-helpers/index.js").featureCollection,o=n("./MapStore2/node_modules/turf-center/index.js"),i=n("./MapStore2/node_modules/turf-distance/index.js"),a=n("./MapStore2/node_modules/turf-inside/index.js"),u=n("./MapStore2/node_modules/turf-explode/index.js");function c(e,t,n,r,o,i){if(Math.sqrt((o-n)*(o-n)+(i-r)*(i-r))===Math.sqrt((e-n)*(e-n)+(t-r)*(t-r))+Math.sqrt((o-e)*(o-e)+(i-t)*(i-t)))return!0}e.exports=function(e){"FeatureCollection"!==e.type&&("Feature"!==e.type&&(e={type:"Feature",geometry:e,properties:{}}),e=r([e]));for(var t=o(e),n=!1,s=0;!n&&s<e.features.length;){var l,f=e.features[s].geometry,p=!1;if("Point"===f.type)t.geometry.coordinates[0]===f.coordinates[0]&&t.geometry.coordinates[1]===f.coordinates[1]&&(n=!0);else if("MultiPoint"===f.type){var d=!1;for(l=0;!d&&l<f.coordinates.length;)t.geometry.coordinates[0]===f.coordinates[l][0]&&t.geometry.coordinates[1]===f.coordinates[l][1]&&(n=!0,d=!0),l++}else if("LineString"===f.type)for(l=0;!p&&l<f.coordinates.length-1;)c(t.geometry.coordinates[0],t.geometry.coordinates[1],f.coordinates[l][0],f.coordinates[l][1],f.coordinates[l+1][0],f.coordinates[l+1][1])&&(p=!0,n=!0),l++;else if("MultiLineString"===f.type)for(var m=0;m<f.coordinates.length;){p=!1,l=0;for(var g=f.coordinates[m];!p&&l<g.length-1;)c(t.geometry.coordinates[0],t.geometry.coordinates[1],g[l][0],g[l][1],g[l+1][0],g[l+1][1])&&(p=!0,n=!0),l++;m++}else if("Polygon"===f.type||"MultiPolygon"===f.type){a(t,{type:"Feature",geometry:f,properties:{}})&&(n=!0)}s++}if(n)return t;var b,y=r([]);for(s=0;s<e.features.length;s++)y.features=y.features.concat(u(e.features[s]).features);var O=1/0;for(s=0;s<y.features.length;s++){var v=i(t,y.features[s],"miles");v<O&&(O=v,b=y.features[s])}return b}},"./MapStore2/web/client/actions/draw.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"g",(function(){return i})),n.d(t,"f",(function(){return a})),n.d(t,"c",(function(){return u})),n.d(t,"e",(function(){return c})),n.d(t,"b",(function(){return s})),n.d(t,"m",(function(){return l})),n.d(t,"n",(function(){return f})),n.d(t,"k",(function(){return p})),n.d(t,"i",(function(){return d})),n.d(t,"h",(function(){return m})),n.d(t,"l",(function(){return g})),n.d(t,"o",(function(){return b})),n.d(t,"j",(function(){return y}));var r="CHANGE_DRAWING_STATUS",o="DRAW:END_DRAWING",i="DRAW:SET_CURRENT_STYLE",a="DRAW:GEOMETRY_CHANGED",u="DRAW:DRAW_SUPPORT_STOPPED",c="DRAW:FEATURES_SELECTED",s="DRAW:DRAWING_FEATURES";function l(e,t,n,r,o){return{type:a,features:e,owner:t,enableEdit:n,textChanged:r,circleChanged:o}}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:c,features:e}}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:s,features:e}}function d(){return{type:u}}function m(e,t,n,o,i,a){return{type:r,status:e,method:t,owner:n,features:o,options:i,style:a}}function g(e,t){return{type:o,geometry:e,owner:t}}function b(e){return{type:i,currentStyle:e}}var y=function(e){return m("clean","",e,[],{})}},"./MapStore2/web/client/actions/featuregrid.js":function(e,t,n){"use strict";n.d(t,"N",(function(){return r})),n.d(t,"G",(function(){return o})),n.d(t,"n",(function(){return i})),n.d(t,"e",(function(){return a})),n.d(t,"L",(function(){return u})),n.d(t,"W",(function(){return c})),n.d(t,"V",(function(){return s})),n.d(t,"r",(function(){return l})),n.d(t,"h",(function(){return f})),n.d(t,"C",(function(){return p})),n.d(t,"F",(function(){return d})),n.d(t,"R",(function(){return m})),n.d(t,"Q",(function(){return g})),n.d(t,"k",(function(){return b})),n.d(t,"l",(function(){return y})),n.d(t,"E",(function(){return O})),n.d(t,"c",(function(){return v})),n.d(t,"D",(function(){return h})),n.d(t,"m",(function(){return j})),n.d(t,"H",(function(){return S})),n.d(t,"P",(function(){return w})),n.d(t,"I",(function(){return E})),n.d(t,"ab",(function(){return x})),n.d(t,"b",(function(){return P})),n.d(t,"u",(function(){return M})),n.d(t,"p",(function(){return T})),n.d(t,"Y",(function(){return A})),n.d(t,"i",(function(){return I})),n.d(t,"g",(function(){return R})),n.d(t,"B",(function(){return C})),n.d(t,"f",(function(){return F})),n.d(t,"d",(function(){return N})),n.d(t,"s",(function(){return _})),n.d(t,"K",(function(){return L})),n.d(t,"o",(function(){return D})),n.d(t,"a",(function(){return G})),n.d(t,"j",(function(){return k})),n.d(t,"A",(function(){return U})),n.d(t,"bb",(function(){return B})),n.d(t,"x",(function(){return q})),n.d(t,"O",(function(){return z})),n.d(t,"X",(function(){return V})),n.d(t,"w",(function(){return H})),n.d(t,"Z",(function(){return W})),n.d(t,"q",(function(){return Y})),n.d(t,"t",(function(){return K})),n.d(t,"z",(function(){return Q})),n.d(t,"S",(function(){return X})),n.d(t,"T",(function(){return J})),n.d(t,"U",(function(){return Z})),n.d(t,"y",(function(){return $})),n.d(t,"v",(function(){return ee})),n.d(t,"M",(function(){return te})),n.d(t,"J",(function(){return ne})),n.d(t,"Ub",(function(){return re})),n.d(t,"yb",(function(){return oe})),n.d(t,"tb",(function(){return ie})),n.d(t,"Sb",(function(){return ae})),n.d(t,"zb",(function(){return ue})),n.d(t,"eb",(function(){return ce})),n.d(t,"jb",(function(){return se})),n.d(t,"Gb",(function(){return le})),n.d(t,"Mb",(function(){return fe})),n.d(t,"xb",(function(){return pe})),n.d(t,"Qb",(function(){return de})),n.d(t,"Pb",(function(){return me})),n.d(t,"qb",(function(){return ge})),n.d(t,"ob",(function(){return be})),n.d(t,"pb",(function(){return ye})),n.d(t,"gb",(function(){return Oe})),n.d(t,"Kb",(function(){return ve})),n.d(t,"Ob",(function(){return he})),n.d(t,"db",(function(){return je})),n.d(t,"Hb",(function(){return Se})),n.d(t,"Xb",(function(){return we})),n.d(t,"Vb",(function(){return Ee})),n.d(t,"lb",(function(){return xe})),n.d(t,"Tb",(function(){return Pe})),n.d(t,"Wb",(function(){return Me})),n.d(t,"ub",(function(){return Te})),n.d(t,"kb",(function(){return Ae})),n.d(t,"Db",(function(){return Ie})),n.d(t,"Fb",(function(){return Re})),n.d(t,"nb",(function(){return Ce})),n.d(t,"vb",(function(){return Fe})),n.d(t,"fb",(function(){return Ne})),n.d(t,"Eb",(function(){return _e})),n.d(t,"ib",(function(){return Le})),n.d(t,"hb",(function(){return De})),n.d(t,"Cb",(function(){return Ge})),n.d(t,"rb",(function(){return ke})),n.d(t,"Jb",(function(){return Ue})),n.d(t,"Bb",(function(){return Be})),n.d(t,"Yb",(function(){return qe})),n.d(t,"Rb",(function(){return ze})),n.d(t,"Nb",(function(){return Ve})),n.d(t,"Ab",(function(){return He})),n.d(t,"wb",(function(){return We})),n.d(t,"sb",(function(){return Ye})),n.d(t,"cb",(function(){return Ke})),n.d(t,"mb",(function(){return Qe})),n.d(t,"Lb",(function(){return Xe})),n.d(t,"Ib",(function(){return Je}));var r="FEATUREGRID:SET_UP",o="FEATUREGRID:SELECT_FEATURES",i="FEATUREGRID:DESELECT_FEATURES",a="FEATUREGRID:CLEAR_SELECTION",u="FEATUREGRID:SET_SELECTION_OPTIONS",c="FEATUREGRID:TOGGLE_MODE",s="FEATUREGRID:TOGGLE_FEATURES_SELECTION",l="FEATUREGRID:FEATURES_MODIFIED",f="FEATUREGRID:NEW_FEATURE",p="FEATUREGRID:SAVE_CHANGES",d="FEATUREGRID:SAVING",m="FEATUREGRID:START_EDITING_FEATURE",g="FEATUREGRID:START_DRAWING_FEATURE",b="FEATUREGRID:DELETE_GEOMETRY",y="FEATUREGRID:DELETE_GEOMETRY_FEATURE",O="FEATUREGRID:SAVE_SUCCESS",v="FEATUREGRID:CLEAR_CHANGES",h="FEATUREGRID:SAVE_ERROR",j="FEATUREGRID:DELETE_SELECTED_FEATURES",S="SET_FEATURES",w="FEATUREGRID:SORT_BY",E="FEATUREGRID:SET_LAYER",x="QUERY:UPDATE_FILTER",P="FEATUREGRID:CHANGE_PAGE",M="FEATUREGRID:GEOMETRY_CHANGED",T="DOCK_SIZE_FEATURES",A="FEATUREGRID:TOGGLE_TOOL",I="FEATUREGRID:CUSTOMIZE_ATTRIBUTE",R="ASK_CLOSE_FEATURE_GRID_CONFIRM",C="FEATUREGRID:OPEN_GRID",F="FEATUREGRID:CLOSE_GRID",N="FEATUREGRID:CLEAR_CHANGES_CONFIRMED",_="FEATUREGRID:FEATURE_GRID_CLOSE_CONFIRMED",L="FEATUREGRID:SET_PERMISSION",D="FEATUREGRID:DISABLE_TOOLBAR",G="FEATUREGRID:ACTIVATE_TEMPORARY_CHANGES",k="FEATUREGRID:DEACTIVATE_GEOMETRY_FILTER",U="FEATUREGRID:ADVANCED_SEARCH",B="FEATUREGRID:ZOOM_ALL",q="FEATUREGRID:INIT_PLUGIN",z="FEATUREGRID:SIZE_CHANGE",V="FEATUREGRID:TOGGLE_SHOW_AGAIN_FLAG",H="FEATUREGRID:HIDE_SYNC_POPOVER",W="FEATUREGRID:UPDATE_EDITORS_OPTIONS",Y="FEATUREGRID:DOWNLOAD_IGRAC_DATA",K="FEATUREGRID:FINISH_DOWNLOADING_IGRAC_DATA",Q={EDIT:"EDIT",VIEW:"VIEW"},X="FEATUREGRID:START_SYNC_WMS",J="FEATUREGRID:STOP_SYNC_WMS",Z="STORE_ADVANCED_SEARCH_FILTER",$="LOAD_MORE_FEATURES",ee="FEATUREGRID:QUERY_RESULT",te="FEATUREGRID:SET_TIME_SYNC",ne="FEATUREGRID:SET_PAGINATION";function re(){return{type:V}}function oe(){return{type:H}}function ie(e,t){return{type:ee,features:e,pages:t}}function ae(e){return{type:Z,filterObj:e}}function ue(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:q,options:e}}function ce(){return{type:N}}function se(){return{type:_}}function le(e,t){return{type:o,features:e,append:t}}function fe(e){return{type:r,options:e}}function pe(e){return{type:M,features:e}}function de(){return{type:m}}function me(){return{type:g}}function ge(e){return{type:i,features:e}}function be(){return{type:b}}function ye(e){return{type:y,features:e}}function Oe(){return{type:a}}function ve(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.multiselect,n=void 0!==t&&t;return{type:u,multiselect:n}}function he(e,t){return{type:w,sortBy:e,sortOrder:t}}function je(e,t){return{type:P,page:e,size:t}}function Se(e){return{type:E,id:e}}function we(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:x,update:e,append:t}}function Ee(e,t){return{type:A,tool:e,value:t}}function xe(e,t,n){return{type:I,name:e,key:t,value:n}}function Pe(){return{type:c,mode:Q.EDIT}}function Me(){return{type:c,mode:Q.VIEW}}function Te(e,t){return{type:l,features:e,updated:t}}function Ae(e){return{type:f,features:e}}function Ie(){return{type:p}}function Re(){return{type:O}}function Ce(){return{type:j}}function Fe(){return{type:d}}function Ne(){return{type:v}}function _e(){return{type:h}}function Le(){return{type:R}}function De(){return{type:F}}function Ge(){return{type:C}}function ke(e){return{type:D,disabled:e}}function Ue(e){return{type:L,permission:e}}function Be(){return{type:U}}function qe(){return{type:B}}function ze(){return{type:X}}function Ve(e,t){return{type:z,size:e,dockProps:t}}var He=function(e){return{type:$,pages:e}},We=function(){return{type:K}},Ye=function(){return{type:Y}},Ke=function(e){return{type:G,activated:e}},Qe=function(e){return{type:k,deactivated:e}},Xe=function(e){return{type:te,value:e}},Je=function(e){return{type:ne,size:e}}},"./MapStore2/web/client/actions/map.js":function(e,t,n){"use strict";n.d(t,"e",(function(){return o})),n.d(t,"i",(function(){return i})),n.d(t,"f",(function(){return a})),n.d(t,"h",(function(){return u})),n.d(t,"n",(function(){return c})),n.d(t,"t",(function(){return s})),n.d(t,"u",(function(){return l})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return d})),n.d(t,"g",(function(){return m})),n.d(t,"j",(function(){return g})),n.d(t,"s",(function(){return b})),n.d(t,"k",(function(){return y})),n.d(t,"p",(function(){return O})),n.d(t,"b",(function(){return v})),n.d(t,"q",(function(){return h})),n.d(t,"o",(function(){return j})),n.d(t,"r",(function(){return S})),n.d(t,"l",(function(){return w})),n.d(t,"m",(function(){return E})),n.d(t,"C",(function(){return x})),n.d(t,"K",(function(){return P})),n.d(t,"y",(function(){return M})),n.d(t,"v",(function(){return T})),n.d(t,"B",(function(){return A})),n.d(t,"z",(function(){return I})),n.d(t,"A",(function(){return R})),n.d(t,"J",(function(){return C})),n.d(t,"x",(function(){return F})),n.d(t,"D",(function(){return N})),n.d(t,"w",(function(){return _})),n.d(t,"H",(function(){return L})),n.d(t,"G",(function(){return D})),n.d(t,"I",(function(){return G})),n.d(t,"E",(function(){return k})),n.d(t,"F",(function(){return U}));var r=n("./MapStore2/web/client/actions/notifications.js"),o="CHANGE_MAP_VIEW",i="CLICK_ON_MAP",a="CHANGE_MOUSE_POINTER",u="CHANGE_ZOOM_LVL",c="PAN_TO",s="ZOOM_TO_EXTENT",l="ZOOM_TO_POINT",f="CHANGE_MAP_CRS",p="CHANGE_MAP_SCALES",d="CHANGE_MAP_STYLE",m="CHANGE_ROTATION",g="CREATION_ERROR_LAYER",b="UPDATE_VERSION",y="INIT_MAP",O="RESIZE_MAP",v="CHANGE_MAP_LIMITS",h="SET_MAP_RESOLUTIONS",j="REGISTER_EVENT_LISTENER",S="UNREGISTER_EVENT_LISTENER",w="MOUSE_MOVE",E="MOUSE_OUT";function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{family:""};return Object(r.f)({title:"warning",message:"map.errorLoadingFont",values:e,position:"tc",autoDismiss:10})}function P(e,t,n){return{type:l,pos:e,zoom:t,crs:n}}function M(e,t,n,r,i,a,u){return{type:o,center:e,zoom:t,bbox:n,size:r,mapStateSource:i,projection:a,viewerOptions:u}}function T(e){return{type:f,crs:e}}function A(e,t){return{type:i,point:e,layer:t}}function I(e){return{type:a,pointer:e}}function R(e,t){return{type:u,zoom:e,mapStateSource:t}}function C(e,t,n){return{type:s,extent:e,crs:t,maxZoom:n}}function F(e,t){return{type:d,style:e,mapStateSource:t}}function N(e){return{type:y,disableFeedbackMask:e}}function _(e){var t=e.restrictedExtent,n=e.crs,r=e.minZoom;return{type:v,restrictedExtent:t,crs:n,minZoom:r}}function L(e){return{type:h,resolutions:e}}var D=function(e,t){return{type:j,eventName:e,toolName:t}},G=function(e,t){return{type:S,eventName:e,toolName:t}},k=function(e){return{type:w,position:e}},U=function(){return{type:E}}},"./MapStore2/web/client/actions/wfsquery.js":function(e,t,n){"use strict";n.d(t,"h",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"j",(function(){return l})),n.d(t,"p",(function(){return f})),n.d(t,"l",(function(){return p})),n.d(t,"k",(function(){return d})),n.d(t,"m",(function(){return m})),n.d(t,"i",(function(){return g})),n.d(t,"g",(function(){return b})),n.d(t,"o",(function(){return y})),n.d(t,"n",(function(){return O})),n.d(t,"A",(function(){return v})),n.d(t,"z",(function(){return h})),n.d(t,"v",(function(){return j})),n.d(t,"u",(function(){return S})),n.d(t,"t",(function(){return w})),n.d(t,"s",(function(){return E})),n.d(t,"r",(function(){return x})),n.d(t,"y",(function(){return P})),n.d(t,"x",(function(){return M})),n.d(t,"B",(function(){return T})),n.d(t,"q",(function(){return A})),n.d(t,"w",(function(){return I}));n("./MapStore2/web/client/libs/ajax.js");var r="LAYER_SELECTED_FOR_SEARCH",o="FEATURE_TYPE_SELECTED",i="FEATURE_TYPE_LOADED",a="FEATURE_LOADED",u="FEATURE_LOADING",c="FEATURE_TYPE_ERROR",s="FEATURE_ERROR",l="QUERY_CREATE",f="QUERY:UPDATE_QUERY",p="QUERY_RESULT",d="QUERY_ERROR",m="RESET_QUERY",g="QUERY",b="INIT_QUERY_PANEL",y="QUERY:TOGGLE_SYNC_WMS",O="QUERY:TOGGLE_LAYER_FILTER";function v(){return{type:y}}function h(){return{type:O}}function j(){return{type:b}}function S(e,t){return{type:o,url:e,typeName:t}}function w(e,t){return{type:i,typeName:e,featureType:t}}function E(e,t){return{type:c,typeName:e,error:t}}function x(e){return{type:u,isLoading:e}}function P(e,t,n,r,o){return{type:p,searchUrl:t,filterObj:n,result:e,queryOptions:r,reason:o}}function M(e){return{type:d,error:e}}function T(e,t){return{type:f,updates:e,reason:t}}function A(e,t){return{type:l,searchUrl:e,filterObj:t}}function I(e,t,n,r){return{type:g,searchUrl:e,filterObj:t,queryOptions:n,reason:r}}},"./MapStore2/web/client/api/WFS.js":function(e,t,n){"use strict";n.r(t),n.d(t,"toDescribeURL",(function(){return m})),n.d(t,"getFeatureSimple",(function(){return g})),n.d(t,"getCapabilitiesURL",(function(){return b})),n.d(t,"getFeatureURL",(function(){return y})),n.d(t,"getFeature",(function(){return O})),n.d(t,"getCapabilities",(function(){return v})),n.d(t,"describeFeatureTypeOGCSchemas",(function(){return h})),n.d(t,"describeFeatureType",(function(){return j}));var r=n("./MapStore2/web/client/libs/ajax.js"),o=n.n(r),i=n("./node_modules/url/url.js"),a=n.n(i),u=n("./MapStore2/node_modules/object-assign/index.js"),c=n.n(u);function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e,t){var n=a.a.parse(e,!0);return a.a.format(p(p({},n),{},{search:void 0,query:p(p({},n.query),{},{service:"WFS",version:"1.1.0",typeName:t,outputFormat:"application/json",request:"DescribeFeatureType"})}))},g=function(e,t){return o.a.get(e+"?service=WFS&version=1.1.0&request=GetFeature",{params:c()({outputFormat:"application/json"},t)}).then((function(e){return"object"!==l(e.data)?JSON.parse(e.data):e.data}))},b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.version,r=void 0===n?"1.1.0":n,o=a.a.parse(e,!0);return a.a.format(c()({},o,{query:c()({service:"WFS",version:r,request:"GetCapabilities"},o.query)}))},y=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.version,o=void 0===r?"1.1.0":r,i=s(n,["version"]),u=a.a.parse(e,!0);return a.a.format(c()({},u,{query:c()(p({service:"WFS",typeName:t,version:o,request:"GetFeature"},i),u.query)}))},O=function(e,t,n){return o.a.get(y(e,t,n))},v=function(e){return o.a.get(b(e))},h=function(e,t){var r=a.a.parse(e,!0),i=a.a.format(c()({},r,{query:c()({service:"WFS",version:"1.1.0",typeName:t,request:"DescribeFeatureType"},r.query)}));return new Promise((function(e){Promise.all([n.e(1),n.e(33)]).then(function(){var t=n("./MapStore2/web/client/utils/ogc/WFS/index.js").unmarshaller;e(o.a.get(i).then((function(e){var n=t.unmarshalString(e.data);return n&&n.value})))}.bind(null,n)).catch(n.oe)}))},j=function(e,t){return o.a.get(m(e,t)).then((function(e){return e.data}))}},"./MapStore2/web/client/components/data/identify/viewers/HTMLViewer.jsx":function(e,t,n){"use strict";var r=n("./MapStore2/node_modules/react/index.js"),o=n.n(r),i=n("./MapStore2/node_modules/prop-types/index.js"),a=n.n(i),u=n("./MapStore2/web/client/components/misc/HtmlRenderer.jsx");function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g,b,y,O=/^[\s\S]*<body>([\s\S]*)<\/body>[\s\S]*$/i,v=/(<style[\s\=\w\/\"]*>[^<]*<\/style>)/i,h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(a,e);var t,n,r,i=p(a);function a(){return s(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"shouldComponentUpdate",value:function(e){return e.response!==this.props.response}},{key:"render",value:function(){var e=this.props.response||"",t=v.exec(e),n=t&&2===t.length?v.exec(e)[1]:"";n=n.replace(/body[,]+/g,"");var r=e.replace(O,"$1").trim();return o.a.createElement(u.a,{html:n+r})}}])&&l(t.prototype,n),r&&l(t,r),a}(o.a.Component);g=h,b="propTypes",y={response:a.a.string},b in g?Object.defineProperty(g,b,{value:y,enumerable:!0,configurable:!0,writable:!0}):g[b]=y,t.a=h},"./MapStore2/web/client/components/data/identify/viewers/JSONViewer.jsx":function(e,t,n){"use strict";var r=n("./MapStore2/node_modules/react/index.js"),o=n.n(r),i=n("./MapStore2/node_modules/recompose/es/Recompose.js"),a=n("./MapStore2/node_modules/lodash/lodash.js"),u=n("./MapStore2/web/client/utils/TemplateUtils.js"),c=n("./MapStore2/web/client/components/misc/HtmlRenderer.jsx"),s=n("./MapStore2/node_modules/prop-types/index.js"),l=n.n(s),f=n("./MapStore2/web/client/utils/StringUtils.js");function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?O(e):t}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j=["exclude","titleStyle","listStyle","componentStyle","title","feature"],S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(u,e);var t,n,r,i=b(u);function u(){var e;d(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return h(O(e=i.call.apply(i,[this].concat(n))),"getBodyItems",(function(){return Object.keys(e.props).filter(e.toExclude).map((function(t){var n=e.renderProperty(e.props[t]);return o.a.createElement("tr",{key:t,style:e.props.listStyle},o.a.createElement("td",null,t),o.a.createElement("td",null,Object(f.a)(n)?o.a.createElement("span",{dangerouslySetInnerHTML:{__html:n}}):n))}))})),h(O(e),"renderHeader",(function(){return e.props.title?o.a.createElement("thead",{key:e.props.title,style:e.props.titleStyle,className:"ms-properties-viewer-title"},o.a.createElement("tr",null,o.a.createElement("th",{colSpan:"2"},e.props.title))):null})),h(O(e),"renderBody",(function(){var t=e.getBodyItems();return 0===t.length?null:o.a.createElement("tbody",{className:"ms-properties-viewer-body"},t)})),h(O(e),"renderProperty",(function(e){return Object(a.isString)(e)?e:JSON.stringify(e)})),h(O(e),"toExclude",(function(t){return-1===j.concat(e.props.exclude).indexOf(t)})),e}return t=u,(n=[{key:"render",value:function(){return o.a.createElement("table",{className:"ms-properties-viewer",style:this.props.componentStyle},this.renderHeader(),this.renderBody())}}])&&m(t.prototype,n),r&&m(t,r),u}(o.a.Component);h(S,"displayName","PropertiesViewer"),h(S,"propTypes",{title:l.a.string,exclude:l.a.array,titleStyle:l.a.object,listStyle:l.a.object,componentStyle:l.a.object}),h(S,"defaultProps",{exclude:[],titleStyle:{},listStyle:{},componentStyle:{}});var w=S;function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var x={TEMPLATE:function(e){var t=e.layer,n=void 0===t?{}:t,r=e.response;return o.a.createElement("div",{className:"ms-template-viewer"},r.features.map((function(e,t){return o.a.createElement("div",{key:t},o.a.createElement(c.a,{html:Object(a.template)(Object(u.getCleanTemplate)(n.featureInfo&&n.featureInfo.template||"",e,/\$\{.*?\}/g,2,1))(e)}))})))},PROPERTIES:function(e){var t=e.response,n=e.layer,r=e.rowViewer,i=n&&n.rowViewer||r||w;return o.a.createElement("div",{className:"mapstore-json-viewer"},((null==t?void 0:t.features)||[]).map((function(e,t){return o.a.createElement(i,E({key:t,feature:e,title:e.id+"",exclude:["bbox"]},e.properties))})))}};t.a=Object(i.shouldUpdate)((function(e,t){return t.response!==e.response}))((function(e){var t=e.layer&&e.layer.featureInfo&&e.layer.featureInfo.format&&e.layer.featureInfo.template&&"<p><br></p>"!==e.layer.featureInfo.template&&e.layer.featureInfo.format||"PROPERTIES",n=x[t]||x.PROPERTIES;return o.a.createElement(n,e)}))},"./MapStore2/web/client/components/data/identify/viewers/TextViewer.jsx":function(e,t,n){"use strict";var r=n("./MapStore2/node_modules/prop-types/index.js"),o=n.n(r),i=n("./MapStore2/node_modules/react/index.js"),a=n.n(i);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m,g,b,y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(i,e);var t,n,r,o=f(i);function i(){return c(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"shouldComponentUpdate",value:function(e){return e.response!==this.props.response}},{key:"render",value:function(){return a.a.createElement("pre",null,this.props.response)}}])&&s(t.prototype,n),r&&s(t,r),i}(a.a.Component);m=y,g="propTypes",b={response:o.a.string},g in m?Object.defineProperty(m,g,{value:b,enumerable:!0,configurable:!0,writable:!0}):m[g]=b,t.a=y},"./MapStore2/web/client/components/map/openlayers/img/marker-icon.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAGmklEQVRYw7VXeUyTZxjvNnfELFuyIzOabermMZEeQC/OclkO49CpOHXOLJl/CAURuYbQi3KLgEhbrhZ1aDwmaoGqKII6odATmH/scDFbdC7LvFqOCc+e95s2VG50X/LLm/f4/Z7neY/ne18aANCmAr5E/xZf1uDOkTcGcWR6hl9247tT5U7Y6SNvWsKT63P58qbfeLJG8M5qcgTknrvvrdDbsT7Ml+tv82X6vVxJE33aRmgSyYtcWVMqX97Yv2JvW39UhRE2HuyBL+t+gK1116ly06EeWFNlAmHxlQE0OMiV6mQCScusKRlhS3QLeVJdl1+23h5dY4FNB3thrbYboqptEFlphTC1hSpJnbRvxP4NWgsE5Jyz86QNNi/5qSUTGuFk1gu54tN9wuK2wc3o+Wc13RCmsoBwEqzGcZsxsvCSy/9wJKf7UWf1mEY8JWfewc67UUoDbDjQC+FqK4QqLVMGGR9d2wurKzqBk3nqIT/9zLxRRjgZ9bqQgub+DdoeCC03Q8j+0QhFhBHR/eP3U/zCln7Uu+hihJ1+bBNffLIvmkyP0gpBZWYXhKussK6mBz5HT6M1Nqpcp+mBCPXosYQfrekGvrjewd59/GvKCE7TbK/04/ZV5QZYVWmDwH1mF3xa2Q3ra3DBC5vBT1oP7PTj4C0+CcL8c7C2CtejqhuCnuIQHaKHzvcRfZpnylFfXsYJx3pNLwhKzRAwAhEqG0SpusBHfAKkxw3w4627MPhoCH798z7s0ZnBJ/MEJbZSbXPhER2ih7p2ok/zSj2cEJDd4CAe+5WYnBCgR2uruyEw6zRoW6/DWJ/OeAP8pd/BGtzOZKpG8oke0SX6GMmRk6GFlyAc59K32OTEinILRJRchah8HQwND8N435Z9Z0FY1EqtxUg+0SO6RJ/mmXz4VuS+DpxXC3gXmZwIL7dBSH4zKE50wESf8qwVgrP1EIlTO5JP9Igu0aexdh28F1lmAEGJGfh7jE6ElyM5Rw/FDcYJjWhbeiBYoYNIpc2FT/SILivp0F1ipDWk4BIEo2VuodEJUifhbiltnNBIXPUFCMpthtAyqws/BPlEF/VbaIxErdxPphsU7rcCp8DohC+GvBIPJS/tW2jtvTmmAeuNO8BNOYQeG8G/2OzCJ3q+soYB5i6NhMaKr17FSal7GIHheuV3uSCY8qYVuEm1cOzqdWr7ku/R0BDoTT+DT+ohCM6/CCvKLKO4RI+dXPeAuaMqksaKrZ7L3FE5FIFbkIceeOZ2OcHO6wIhTkNo0ffgjRGxEqogXHYUPHfWAC/lADpwGcLRY3aeK4/oRGCKYcZXPVoeX/kelVYY8dUGf8V5EBRbgJXT5QIPhP9ePJi428JKOiEYhYXFBqou2Guh+p/mEB1/RfMw6rY7cxcjTrneI1FrDyuzUSRm9miwEJx8E/gUmqlyvHGkneiwErR21F3tNOK5Tf0yXaT+O7DgCvALTUBXdM4YhC/IawPU+2PduqMvuaR6eoxSwUk75ggqsYJ7VicsnwGIkZBSXKOUww73WGXyqP+J2/b9c+gi1YAg/xpwck3gJuucNrh5JvDPvQr0WFXf0piyt8f8/WI0hV4pRxxkQZdJDfDJNOAmM0Ag8jyT6hz0WGXWuP94Yh2jcfjmXAGvHCMslRimDHYuHuDsy2QtHuIavznhbYURq5R57KpzBBRZKPJi8eQg48h4j8SDdowifdIrEVdU+gbO6QNvRRt4ZBthUaZhUnjlYObNagV3keoeru3rU7rcuceqU1mJBxy+BWZYlNEBH+0eH4vRiB+OYybU2hnblYlTvkHinM4m54YnxSyaZYSF6R3jwgP7udKLGIX6r/lbNa9N6y5MFynjWDtrHd75ZvTYAPO/6RgF0k76mQla3FGq7dO+cH8sKn0Vo7nDllwAhqwLPkxrHwWmHJOo+AKJ4rab5OgrM7rVu8eWb2Pu0Dh4eDgXoOfvp7Y7QeqknRmvcTBEyq9m/HQQSCSz6LHq3z0yzsNySRfMS253wl2KyRDbcZPcfJKjZmSEOjcxyi+Y8dUOtsIEH6R2wNykdqrkYJ0RV92H0W58pkfQk7cKevsLK10Py8SdMGfXNXATY+pPbyJR/ET6n9nIfztNtZYRV9XniQu9IA2vOVgy4ir7GCLVmmd+zjkH0eAF9Po6K61pmCXHxU5rHMYd1ftc3owjwRSVRzLjKvqZEty6cRUD7jGqiOdu5HG6MdHjNcNYGqfDm5YRzLBBCCDl/2bk8a8gdbqcfwECu62Fg/HrggAAAABJRU5ErkJggg=="},"./MapStore2/web/client/components/misc/Button.jsx":function(e,t,n){"use strict";var r=n("./MapStore2/node_modules/react-bootstrap/es/index.js"),o=n("./MapStore2/node_modules/react/index.js"),i=n.n(o),a=n("./MapStore2/node_modules/classnames/index.js"),u=n.n(a);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l;t.a=(l=r.Button,i.a.forwardRef((function(e,t){var n=e.disabled,r=e.className,o=e.onClick,a=void 0===o?function(){}:o,f=s(e,["disabled","className","onClick"]);return i.a.createElement(l,c({ref:t,className:n?u()("disabled",r):r,onClick:function(){n||a.apply(void 0,arguments)}},f),f.children)})))},"./MapStore2/web/client/components/misc/Dialog.jsx":function(e,t,n){"use strict";var r=n("./MapStore2/node_modules/object-assign/index.js"),o=n.n(r),i=n("./MapStore2/node_modules/prop-types/index.js"),a=n.n(i),u=n("./MapStore2/node_modules/react/index.js"),c=n.n(u),s=n("./MapStore2/node_modules/react-draggable/dist/react-draggable.js"),l=n.n(s),f=n("./MapStore2/node_modules/react-spinkit/dist/index.js"),p=n.n(f),d=n("./MapStore2/web/client/components/I18N/Message.jsx");function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return j(this,n)}}function j(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?S(e):t}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(a,e);var t,n,r,i=h(a);function a(){var e;y(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return E(S(e=i.call.apply(i,[this].concat(n))),"renderLoading",(function(){return e.props.maskLoading?c.a.createElement("div",{style:{width:"100%",height:"100%",position:"absolute",overflow:"visible",margin:"auto",verticalAlign:"center",left:"0",background:"rgba(255, 255, 255, 0.5)",zIndex:2}},c.a.createElement("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -40%)"}},c.a.createElement(d.default,{msgId:"loading"}),c.a.createElement(p.a,{spinnerName:"circle",noFadeIn:!0,overrideSpinnerClassName:"spinner"}))):null})),E(S(e),"renderRole",(function(t){return c.a.Children.toArray(e.props.children).filter((function(e){return e.props.role===t}))})),E(S(e),"hasRole",(function(t){return c.a.Children.toArray(e.props.children).filter((function(e){return e.props.role===t})).length>0})),E(S(e),"onClickOut",(function(t){e.props.onClickOut&&e.mask===t.target&&e.props.onClickOut(t)})),e}return t=a,(n=[{key:"render",value:function(){var e=this,t=c.a.createElement("div",{id:this.props.id,style:b({zIndex:3},this.props.style),className:"".concat(this.props.draggable?"modal-dialog-draggable":""," ").concat(this.props.className," modal-dialog-container")},c.a.createElement("div",{className:this.props.headerClassName+" draggable-header"},this.renderRole("header")),c.a.createElement("div",{className:this.props.bodyClassName},this.renderLoading(),this.renderRole("body")),this.hasRole("footer")?c.a.createElement("div",{className:this.props.footerClassName},this.renderRole("footer")):c.a.createElement("span",null)),n=this.props.draggable?c.a.createElement(l.a,{defaultPosition:this.props.start,bounds:this.props.bounds,handle:".draggable-header, .draggable-header *"},t):t,r=o()({},this.props.style.display?{display:this.props.style.display}:{},this.props.backgroundStyle);return this.props.modal?c.a.createElement("div",{ref:function(t){e.mask=t},onClick:this.onClickOut,style:r,className:"fade in modal "+this.props.containerClassName,role:"dialog"},n):n}}])&&O(t.prototype,n),r&&O(t,r),a}(c.a.Component);E(x,"propTypes",{id:a.a.string.isRequired,style:a.a.object,backgroundStyle:a.a.object,className:a.a.string,maskLoading:a.a.bool,containerClassName:a.a.string,headerClassName:a.a.string,bodyClassName:a.a.string,footerClassName:a.a.string,onClickOut:a.a.func,modal:a.a.bool,start:a.a.object,draggable:a.a.bool,bounds:a.a.oneOfType([a.a.string,a.a.object])}),E(x,"defaultProps",{style:{},backgroundStyle:{background:"rgba(0,0,0,.5)"},start:{x:0,y:150},className:"modal-dialog modal-content",maskLoading:!1,containerClassName:"",headerClassName:"modal-header",bodyClassName:"modal-body",footerClassName:"modal-footer",modal:!1,draggable:!0,bounds:"parent"}),t.a=x},"./MapStore2/web/client/components/misc/HtmlRenderer.jsx":function(e,t,n){"use strict";var r=n("./MapStore2/node_modules/prop-types/index.js"),o=n.n(r),i=n("./MapStore2/node_modules/react/index.js"),a=n.n(i);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(i,e);var t,n,r,o=f(i);function i(){var e;c(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(d(e=o.call.apply(o,[this].concat(n))),"getSourceCode",(function(){return{__html:e.props.html}})),e}return t=i,(n=[{key:"render",value:function(){return a.a.createElement("div",{id:this.props.id,dangerouslySetInnerHTML:this.getSourceCode()})}}])&&s(t.prototype,n),r&&s(t,r),i}(a.a.Component);g(b,"propTypes",{html:o.a.string,id:o.a.string}),t.a=b},"./MapStore2/web/client/components/misc/Loader.jsx":function(e,t,n){"use strict";var r=n("./MapStore2/node_modules/prop-types/index.js"),o=n.n(r),i=n("./MapStore2/node_modules/react/index.js"),a=n.n(i);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=function(e){return e>100?"full":e>40?"medium":"small"},f=function(e){var t=e.size,n=e.style,r=void 0===n?{}:n,o=e.className,i=e.hidden;return a.a.createElement("div",{className:o,style:c({width:t,height:t,overflow:"hidden"},r)},!i&&a.a.createElement("div",{className:"mapstore-".concat(l(t),"-size-loader")}))};f.propTypes={size:o.a.number,className:o.a.string,style:o.a.object},t.a=f},"./MapStore2/web/client/components/misc/LoadingSpinner.jsx":function(e,t,n){"use strict";var r=n("./MapStore2/node_modules/react/index.js"),o=n.n(r);t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.style,n=void 0===t?{display:"inline-block"}:t;return o.a.createElement("div",{style:n,className:"mapstore-inline-loader"})}},"./MapStore2/web/client/components/misc/Modal.jsx":function(e,t,n){"use strict";var r=n("./MapStore2/node_modules/object-assign/index.js"),o=n.n(r),i=n("./MapStore2/node_modules/react-bootstrap/es/index.js"),a=n("./MapStore2/web/client/components/misc/WithContainer.jsx");function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(i,e);var t,n,r,o=f(i);function i(){return c(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"handleDialogClick",value:function(e){e.target===e.currentTarget&&this.props.onHide(e)}}])&&s(t.prototype,n),r&&s(t,r),i}(i.Modal);t.a=o()(Object(a.a)(m),{Body:i.Modal.Body,Dialog:i.Modal.Dialog,Footer:i.Modal.Footer,Header:i.Modal.Header,Title:i.Modal.Title})},"./MapStore2/web/client/components/misc/OverlayTrigger.jsx":function(e,t,n){"use strict";var r=n("./MapStore2/web/client/components/misc/WithContainer.jsx"),o=n("./MapStore2/node_modules/react-bootstrap/es/index.js");t.a=Object(r.a)(o.OverlayTrigger)},"./MapStore2/web/client/components/misc/ResizableModal.jsx":function(e,t,n){"use strict";var r=n("./MapStore2/node_modules/react/index.js"),o=n.n(r),i=n("./MapStore2/node_modules/react-bootstrap/es/index.js"),a=n("./MapStore2/web/client/components/misc/Dialog.jsx"),u=n("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx"),c=n("./MapStore2/node_modules/recompose/es/Recompose.js"),s=n("./MapStore2/node_modules/react-addons-css-transition-group/index.js"),l=n.n(s),f=n("./MapStore2/web/client/components/misc/LoadingSpinner.jsx"),p={xs:" ms-xs",sm:" ms-sm",md:"",lg:" ms-lg"},d={className:{vertical:" ms-fullscreen-v",horizontal:" ms-fullscreen-h",full:" ms-fullscreen"},glyph:{expanded:{vertical:"resize-vertical",horizontal:"resize-horizontal",full:"resize-small"},collapsed:{vertical:"resize-vertical",horizontal:"resize-horizontal",full:"resize-full"}}},m=Object(c.withState)("fullscreenState","onFullscreen",(function(e){var t=e.initialFullscreenState;return void 0===t?"collapsed":t}))((function(e){var t=e.show,n=void 0!==t&&t,r=e.loading,c=e.loadingText,s=e.onClose,m=void 0===s?function(){}:s,g=e.title,b=void 0===g?"":g,y=e.clickOutEnabled,O=void 0===y||y,v=e.showClose,h=void 0===v||v,j=e.disabledClose,S=void 0!==j&&j,w=e.showFullscreen,E=void 0!==w&&w,x=e.fullscreenType,P=void 0===x?"full":x,M=e.buttons,T=void 0===M?[]:M,A=e.size,I=void 0===A?"":A,R=e.bodyClassName,C=void 0===R?"":R,F=e.children,N=e.draggable,_=void 0!==N&&N,L=e.fullscreenState,D=e.onFullscreen,G=e.fade,k=void 0!==G&&G,U=e.fitContent,B=e.modalClassName,q=void 0===B?"":B,z=e.dialogClassName,V=void 0===z?"":z,H=e.enableFooter,W=void 0===H||H,Y=p[I]||"",K=E&&"expanded"===L&&d.className[P]||"",Q=n?o.a.createElement("div",{className:"modal-fixed ".concat(q," ")+(_?"ms-draggable":"")},o.a.createElement(a.a,{id:"ms-resizable-modal",style:{display:"flex"},onClickOut:O?m:function(){},containerClassName:"ms-resizable-modal",draggable:_,modal:!0,className:"modal-dialog modal-content"+Y+K+V+(U?" ms-fit-content":"")},o.a.createElement("span",{role:"header"},o.a.createElement("h4",{className:"modal-title"},o.a.createElement("div",{className:"ms-title"},b),E&&d.className[P]&&o.a.createElement(i.Glyphicon,{className:"ms-header-btn",onClick:function(){return D("expanded"===L?"collapsed":"expanded")},glyph:d.glyph[L][P]}),h&&m&&o.a.createElement(i.Glyphicon,{glyph:"1-close",className:"ms-header-btn",onClick:m,disabled:S}))),o.a.createElement("div",{role:"body",className:C},F),W&&o.a.createElement("div",{style:{display:"flex"},role:"footer"},o.a.createElement("div",{className:"ms-resizable-modal-loading-spinner-container"},r?o.a.createElement(f.a,null):null),o.a.createElement("div",{className:"ms-resizable-modal-loading-text"},r?c:null),o.a.createElement(u.a,{buttons:T})))):null;return k?o.a.createElement(l.a,{transitionName:"ms-resizable-modal-fade",transitionEnterTimeout:300,transitionLeaveTimeout:300},Q):Q}));t.a=m},"./MapStore2/web/client/components/misc/WithContainer.jsx":function(e,t,n){"use strict";var r=n("./MapStore2/node_modules/react/index.js"),o=n.n(r),i=n("./MapStore2/web/client/utils/ConfigUtils.js");function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.a=function(e){return function(t){return o.a.createElement(e,a({},t,{container:document.querySelector("."+(i.default.getConfigProp("themePrefix")||"ms2")+" > div")||document.body}))}}},"./MapStore2/web/client/components/misc/enhancers/buttonTooltip.jsx":function(e,t,n){"use strict";var r=n("./MapStore2/node_modules/react/index.js"),o=n.n(r),i=n("./MapStore2/node_modules/recompose/es/Recompose.js"),a=n("./MapStore2/node_modules/lodash/lodash.js"),u=n("./MapStore2/web/client/components/misc/enhancers/tooltip.jsx");t.a=Object(i.branch)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disabled,n=e.noTooltipWhenDisabled,r=void 0!==n&&n;return!(r&&t)}),u.a,(function(e){return function(t){return o.a.createElement(e,Object(a.omit)(t,["tooltipId","tooltip","noTooltipWhenDisabled"]),t.children)}}))},"./MapStore2/web/client/components/misc/enhancers/popover.js":function(e,t,n){"use strict";var r=n("./MapStore2/node_modules/react/index.js"),o=n.n(r),i=n("./MapStore2/node_modules/recompose/es/Recompose.js"),a=n("./MapStore2/node_modules/prop-types/index.js"),u=n.n(a),c=n("./MapStore2/node_modules/lodash/lodash.js"),s=n("./MapStore2/node_modules/react-bootstrap/es/index.js"),l=n("./MapStore2/web/client/components/misc/OverlayTrigger.jsx");function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a=Object(i.branch)((function(e){return e.popover}),(function(e){var t,n;return n=t=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(f,t);var n,r,a,u=g(f);function f(){return p(this,f),u.apply(this,arguments)}return n=f,(r=[{key:"renderPopover",value:function(){return o.a.createElement(s.Popover,Object(c.omit)(this.props.popover,["trigger","placement","text"]),this.props.popover.text)}},{key:"renderContent",value:function(){var t=Object(i.toClass)(e);return o.a.createElement(t,Object(c.omit)(this.props,["popover"]))}},{key:"render",value:function(){var e=!0===this.props.popover.trigger?["hover","focus"]:this.props.popover.trigger;return o.a.createElement("span",null,o.a.createElement(l.a,{trigger:e,placement:this.props.popover.placement,overlay:this.renderPopover()},this.renderContent()))}}])&&d(n.prototype,r),a&&d(n,a),f}(o.a.Component),O(t,"propTypes",{popover:u.a.object}),O(t,"defaultProps",{popover:{trigger:!0}}),n}))},"./MapStore2/web/client/components/misc/enhancers/tooltip.jsx":function(e,t,n){"use strict";var r=n("./MapStore2/node_modules/react/index.js"),o=n.n(r),i=n("./MapStore2/node_modules/recompose/es/Recompose.js"),a=n("./MapStore2/node_modules/react-bootstrap/es/index.js"),u=n("./MapStore2/web/client/components/misc/OverlayTrigger.jsx"),c=n("./MapStore2/web/client/components/I18N/Message.jsx"),s=n("./MapStore2/node_modules/lodash/lodash.js");function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}t.a=Object(i.branch)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.tooltip,n=e.tooltipId;return t||n}),(function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.tooltip,r=t.tooltipId,i=t.tooltipPosition,s=void 0===i?"top":i,f=t.tooltipTrigger,p=t.keyProp,d=t.idDropDown,m=t.args,g=l(t,["tooltip","tooltipId","tooltipPosition","tooltipTrigger","keyProp","idDropDown","args"]);return o.a.createElement(u.a,{trigger:f,id:d,key:p,placement:s,overlay:o.a.createElement(a.Tooltip,{id:"tooltip-"+p},r?o.a.createElement(c.default,{msgId:r,msgParams:{data:m}}):n)},o.a.createElement(e,g))}}),(function(e){return function(t){return o.a.createElement(e,Object(s.omit)(t,["tooltipId","tooltip"]),t.children)}}))},"./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx":function(e,t,n){"use strict";var r=n("./MapStore2/node_modules/react/index.js"),o=n.n(r),i=n("./MapStore2/node_modules/react-addons-css-transition-group/index.js"),a=n.n(i),u=n("./MapStore2/node_modules/react-bootstrap/es/index.js"),c=n("./MapStore2/web/client/components/misc/toolbar/ToolbarButton.jsx");function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.buttons,n=void 0===t?[]:t,r=e.btnGroupProps,i=void 0===r?{}:r,f=e.btnDefaultProps,p=void 0===f?{}:f,d=e.transitionProps,m=void 0===d?{transitionName:"toolbar-btn-transition",transitionEnterTimeout:300,transitionLeaveTimeout:300}:d,g=function(){return n.map((function(e,t){var n=e.visible,r=void 0===n||n,i=e.Element,a=e.renderButton,u=l(e,["visible","Element","renderButton"]);return r?a||(i&&o.a.createElement(i,s({key:u.key||t},u))||o.a.createElement(c.a,s({key:u.key||t},p,u))):null}))};return o.a.createElement(u.ButtonGroup,i,m?o.a.createElement(a.a,m,g()):g())}},"./MapStore2/web/client/components/misc/toolbar/ToolbarButton.jsx":function(e,t,n){"use strict";var r=n("./MapStore2/node_modules/react/index.js"),o=n.n(r),i=n("./MapStore2/node_modules/recompose/es/Recompose.js"),a=n("./MapStore2/web/client/components/I18N/Message.jsx"),u=n("./MapStore2/node_modules/lodash/lodash.js"),c=n("./MapStore2/node_modules/react-bootstrap/es/index.js"),s=n("./MapStore2/web/client/components/misc/Loader.jsx"),l=n("./MapStore2/web/client/components/misc/enhancers/buttonTooltip.jsx"),f=n("./MapStore2/web/client/components/misc/enhancers/popover.js"),p=n("./MapStore2/web/client/components/misc/Button.jsx");function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}t.a=Object(i.compose)(l.a,f.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.glyph,n=e.loading,r=e.text,i=void 0===r?"":r,l=e.textId,f=e.glyphClassName,g=void 0===f?"":f,b=e.loaderProps,y=void 0===b?{}:b,O=e.children,v=m(e,["glyph","loading","text","textId","glyphClassName","loaderProps","children"]);return o.a.createElement(p.a,Object(u.omit)(v,["pullRight","confirmNo","confirmYes"]),t&&!n?o.a.createElement(c.Glyphicon,{glyph:t,className:g}):null,l?o.a.createElement(a.default,{msgId:l}):i,n?o.a.createElement(s.a,d({className:"ms-loader".concat(v.bsStyle&&" ms-loader-"+v.bsStyle||"").concat(v.bsSize&&" ms-loader-"+v.bsSize||"")},y)):null,O)}))},"./MapStore2/web/client/plugins/drawer/drawer.css":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/drawer/drawer.css");"string"==typeof r&&(r=[[e.i,r,""]]);n("./node_modules/style-loader/addStyles.js")(r,{});r.locals&&(e.exports=r.locals)},"./MapStore2/web/client/plugins/locale/Message.jsx":function(e,t,n){"use strict";var r=n("./MapStore2/node_modules/react-redux/es/index.js"),o=n("./MapStore2/web/client/components/I18N/Message.jsx");t.a=Object(r.connect)((function(e){return{locale:e.locale&&e.locale.currentLocale,messages:e.locale&&e.locale.messages||[]}}))(o.default)},"./MapStore2/web/client/product/assets/img/marker-icon-red.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QwKDiknI+uvvgAABttJREFUWMOll2uMVVcVx/9773PuPY/7mBcUZ4q1JmbiF6nQwtSY2pSYtobCB2yMrxhrHGOrfioEjQYlMWikH7TxUWNbjTFWU6gComm1UEgMAi20kFCrIMPMFIZ53Xvn3vPYZ++1/HBh6GVmmDu6k/+Xk/1fv7Mfa61zBDOjnfHihzZ1Gcg+YcUyCZrkvPf2A4efG2/HK24G+cuHN/cLS59nIT7DzH1Syli5jrGZUUTkKyGuAPa3RPTsA0f3vbEkyHfEBrlunbMVUn47LBYRhkE+7/uQORdCCDAzyAA6mkEURbpWqQpm/l4Q0I57X95rFoUcWLvxvazk71039/5b+noDVymQzsCZAWcZ2BKEkhCuC+E6kDkXmbUYv3QpylJ9zhj58EPHd/9zQcgf1228Xwnxh3Jnp+rq6XE5TmAb8aJ7rnwPIvQxPTlppicnLQGf3PSPvS/Mgey/c1OPVfzv3t7ecuj7MJUZsLVodwil4JQKiHSKS6OjDaFs/4a//2kUAOS1SVbxLwulkhd4HvTENMgYMPMcQcp5n5Mx0FMV+Pk8iuWyY6369bXYEgCeX7vh06zk+lu6O/O2WgeIWiQdB25nAbmeLsiOInI9XXA7y5A5d85cW62jp6s7L5Qa2LP2oS8CgNi3ZmOQCjP+7t6+wIOEnWm0bINT8kGej/FqBY1GAyZJoVwHQamE5YUSlCWYWgUgef2MiiESEIYuvZ14pLqdBOlq5eRF6Oehr0wAdP0iqDBAKhSGRoax8v6P4M5PbULxtlvRGB3Dud0HcG7Pn7Gyuwee77W8nJ2pIlzeA6UUJZSuVpv7+jcHfmF9yVGujTIAAoCAUA5URwEj01Po/8InsOprj8Dr6oCQEvmOElbcvQb+imV462+H0VXsAGcWbLnpZwHpKjQMmyTL3pSC+Z4w7/qkM4CuS7gOalECUS6g/7Ob571R7/nYfQhvX4npRh0yl2vxk84Q5l1fMN8jCRjwXQVOdXOrrko6AnGaYtldqyCEWPDqrhhYjcSkEIpb/Jxq+K4CAQOOIRs0SwWBmWbNzAzLBKdQWDQRzdVMaPUThBAgIl8COBUlCYRSrW+SZcgrB2Ovvn5TyNjJM8iznbMTQilESQICn5RE4nAjzTKhVIuZkhTlvIvKW+cxfOTYvIDx02dx+ehr6PQDkM7mVIAo0dqyfEUaaY5X01gLpcDWzoqSFCJO0Vcs4OCWHXjz+f0g0yywRITzL76Cl778dbyrWIbKLGwjavELpVBNG9rAHBdPf/DeXmZ3eE3frZKmKuDsHZVaSridZTTY4kK9jjiOUVqxHPUr41Cui9uLJZScHMzEOJivJ6NwHciuDrw6Omxh0CeYGc/c8dFjt5XLd/VIF7Y607JsFhaqWG4mJlskWiPv5uBJBYpmYGp1CG7dalUuYoIyHqpWjz1y6qUBBwA0xK6Rev3Z5cuXBaZmm3VolgLY6jSoVoHMuSg4Dqheh87M7DwGtaxeeg5Gx6ZiDfH92QIpnfgFbYyu6QzSC5t16AaxFeDYwM4k4NgABvPOk16ISqKRWlvvfrBz7yxk8MSRjMA/uVyvxcp3wJy1XMe2BUCFPkYb9dgyPfHwzt/Z1n5i7ZMTSaoispCBD+ZsyZKBi7qOUE0TYTN6uqWfAMCjZw5dBvDk0EwUK99rNqgbesVNBUAGPi7W6zGAJx47e2hyDgQAjLY7KzpB3WRQoT9vB1xIMvAxk2nMZJaEq3/wzrgtkMfOHppkIXZdjKJYhcHV1G9vFSr0MdRoRATeOXjiSHVBCAAYL7erZqyt6RQqDCAYi8ophKjpFI3MGGvtD2+MOQfylaMHaoL5u0NxGsvAB4FBRAuKBSB8DxeiKCLJOx49c6i+KAQAkMt+FFubVrMUTiGEYF5QquihohPElhK/OvHj+cLNCxk8cSQi8PahNItl4Deb1jxnIYSA9EIMpVnMQnzrc/85nbQNAQAd0VOptfUpnUAW8vPeKFEMMaUTpNbUum3wi4ViLQj56r8Oppbpm8OZjYUfAlK2ZreUkF4ew1kWk5Tf+PiZfXrJEAAY637fM5poekqnUGEOID0rp5DHlE6RWprofrD7VzeLc1PI9oNPGSuw7SJx82xU8xNVKAkEHoZslhCw7VqN+p8gADD2uvebzJrL45mBLIQAEVSxgCvawBBGx04Hzy0WY1HIdt5PLMTWEUKCwIfwPbDvYYQ4gZRbt/N++r8hAPCluw/uNmQvjFtit7OMK8YyEZ0fPPXXPe3424LgZ8RWyceHGVoTYQQiA7Cl7X+Xdv9+AeDnH7jvtbzAHSnj5OAbL69p1yexhMFCPJ5ACBZiC5ZkXELPYGb8dNX6bUv1/Bd7pfPVmVDtrAAAAABJRU5ErkJggg=="},"./MapStore2/web/client/product/assets/img/marker-shadow.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC"},"./MapStore2/web/client/reducers/featuregrid.js":function(e,t,n){"use strict";var r=n("./MapStore2/node_modules/object-assign/index.js"),o=n.n(r),i=n("./MapStore2/node_modules/lodash/lodash.js"),a=n("./MapStore2/web/client/actions/featuregrid.js"),u=n("./MapStore2/web/client/actions/wfsquery.js"),c=n("./MapStore2/web/client/actions/draw.js"),s=n("./MapStore2/node_modules/uuid/index.js"),l=n.n(s);function f(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b={advancedFilters:{},filters:{},editingAllowedRoles:["ADMIN"],enableColumnFilters:!0,showFilteredObject:!1,timeSync:!1,showTimeSync:!1,open:!1,canEdit:!1,focusOnEdit:!1,showAgain:!1,showPopoverSync:!localStorage||null===localStorage.getItem("showPopoverSync")||"true"===localStorage.getItem("showPopoverSync"),mode:a.z.VIEW,changes:[],pagination:{page:0,size:20},select:[],multiselect:!1,drawing:!1,newFeatures:[],features:[],dockSize:.35,customEditorsOptions:{rules:[]}},y=function(e,t){return t===e||void 0!==e.id&&null!==e.id&&e.id===t.id},O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.filter((function(t){return y(e,t)})).length>0},v=function(e,t,n,r){return e.map((function(e){return O(e,t)?function(e,t,n){return m(m({},e),{},n?{properties:m(m({},e.properties),t),geometry:n.geometry}:{properties:m(m({},e.properties),t)})}(e,n,r):e}))};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.x:return o()({},e,{showPopoverSync:!localStorage||null===localStorage.getItem("showPopoverSync")||"true"===localStorage.getItem("showPopoverSync"),editingAllowedRoles:t.options.editingAllowedRoles||e.editingAllowedRoles||["ADMIN"],virtualScroll:!!t.options.virtualScroll,maxStoredPages:t.options.maxStoredPages||5});case a.y:case a.b:return o()({},e,{pagination:{page:void 0!==t.page?t.page:e.pagination.page,size:void 0!==t.size?t.size:e.pagination.size}});case a.J:var n;return m(m({},e),{},{pagination:m(m({},null!==(n=e.pagination)&&void 0!==n?n:{}),{},{size:t.size})});case a.G:var r=t.features.filter((function(e){return"empty_row"!==e.id}));return e.multiselect&&t.append?o()({},e,{select:t.append?Object(i.uniqBy)([].concat(f(e.select),f(r)),"id"):r}):r&&e.select&&e.select[0]&&r[0]&&1===e.select.length&&y(r[0],e.select[0])?e:o()({},e,{select:r||[]});case a.V:var s=e.select.filter((function(e){return!O(e,t.features)})),p=t.features.filter((function(t){return!O(t,e.select)})),d=s.concat(p||[]);return o()({},e,{select:d});case a.n:return o()({},e,{select:e.select.filter((function(e){return!O(e,t.features)}))});case a.L:return o()({},e,{multiselect:t.multiselect});case a.Z:return o()({},e,{customEditorsOptions:t.payload});case a.N:return o()({},e,t.options||{});case a.e:return o()({},e,{select:[],changes:[]});case a.H:return o()({},e,{features:t.features});case a.p:return o()({},e,{dockSize:t.dockSize});case a.I:return o()({},e,{selectedLayer:t.id});case a.Y:return o()({},e,{tools:m(m({},e.tools),{},g({},t.tool,void 0===t.value?!(e.tools&&e.tools[t.tool]):t.value))});case a.i:return o()({},e,{attributes:m(m({},e.attributes),{},g({},t.name,m(m({},e.attributes&&e.attributes[t.name]||{}),{},g({},t.key,t.value||e.attributes&&e.attributes[t.name]&&!e.attributes[t.name][t.key]))))});case a.W:return o()({},e,{showPopoverSync:localStorage&&null!==localStorage.getItem("showPopoverSync")?"true"===localStorage.getItem("showPopoverSync"):t.mode!==a.z.EDIT,tools:t.mode===a.z.EDIT?{}:e.tools,mode:t.mode,multiselect:t.mode===a.z.EDIT,drawing:!1});case a.r:var h=t.features.filter((function(e){return e._new}))||[];return o()({},e,{newFeatures:h.length>0?v(e.newFeatures,h,t.updated,null):e.newFeatures,changes:[].concat(f(e&&e.changes||[]),f(t.features.filter((function(e){return!e._new})).map((function(e){return{id:e.id,updated:t.updated}}))))});case a.F:return o()({},e,{saving:!0,loading:!0});case a.E:return o()({},e,{deleteConfirm:!1,saved:!0,saving:!1,drawing:!1,loading:!1});case a.c:return o()({},e,{saved:!1,deleteConfirm:!1,drawing:!1,newFeatures:[],changes:[]});case a.h:var j=l.a.v1();return o()({},e,{newFeatures:t.features.map((function(e){return m(m({},e),{},{_new:!0,id:j,type:"Feature",geometry:null})})),select:t.features.map((function(e){return m(m({},e),{},{_new:!0,id:j,type:"Feature",geometry:null})}))});case a.D:return o()({},e,{deleteConfirm:!1,saving:!1,loading:!1,drawing:!1});case a.u:var S=t.features.filter((function(e){return e._new}))||[];return o()({},e,{newFeatures:S.length>0?v(e.newFeatures,S,null,{geometry:m({},Object(i.head)(S).geometry)}):e.newFeatures,changes:t.features.filter((function(e){return!e._new})).map((function(e,n){return{id:e.id,updated:{geometry:t.features[n].geometry}}})),drawing:!1});case a.l:var w=t.features.filter((function(e){return e._new}))||[];return o()({},e,{newFeatures:w.length>0?v(e.newFeatures,w,null,{geometry:null}):e.newFeatures,changes:[].concat(f(e&&e.changes||[]),f(t.features.filter((function(e){return!e._new})).map((function(e){return{id:e.id,updated:{geometry:null}}}))))});case u.e:return o()({},e,{localType:Object(i.get)(t,"featureType.original.featureTypes[0].properties[1].localType")});case a.Q:return o()({},e,{drawing:!e.drawing});case a.B:return o()({},e,{open:!0});case a.f:return o()({},e,{open:!1,pagination:{page:0,size:e.pagination.size},mode:a.z.VIEW,tools:{},saved:!1,deleteConfirm:!1,drawing:!1,newFeatures:[],changes:[]});case a.o:return o()({},e,{disableToolbar:t.disabled});case a.K:return o()({},e,{canEdit:t.permission.canEdit});case c.a:return"clean"===t.status?o()({},e,{drawing:!1}):e;case a.ab:var E=t.update||{},x=E.attribute;if(x&&t.append){var P=e.filters[x].value,M=[];(null==P?void 0:P.attribute)&&(M=[P]),Object(i.isArray)(P)&&(M=P);var T=[].concat(f(M),[t.update.value]);return o()({},e,{filters:g({},x,{attribute:x,enabled:!0,type:"geometry",operator:"OR",value:T})})}return x?o()({},e,{filters:m(m({},e.filters),{},g({},x,t.update))}):e;case u.j:return o()({},e,{filters:{}});case a.O:var A=t.dockProps&&t.dockProps.maxDockSize,I=t.dockProps&&t.dockProps.minDockSize,R=A&&I&&I<=t.size&&A>=t.size&&t.size||A&&A<t.size&&A||I&&I>t.size&&I||t.size;return o()({},e,{dockSize:R});case a.U:return o()({},e,{advancedFilters:o()({},e.advancedFilters,g({},e.selectedLayer,t.filterObj))});case a.v:return o()({},e,{features:t.features||[],pages:t.pages||[]});case a.w:return o()({},e,{showPopoverSync:!1});case a.X:return o()({},e,{showAgain:!e.showAgain});case a.M:return o()({},e,{timeSync:t.value});case a.q:return o()({},e,{isIGRACDownloading:!0});case a.t:return o()({},e,{isIGRACDownloading:!1});default:return e}}},"./MapStore2/web/client/selectors/context.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return b}));var r=n("./MapStore2/node_modules/reselect/es/index.js"),o=n("./MapStore2/web/client/selectors/localConfig.js"),i=n("./MapStore2/node_modules/lodash/lodash.js"),a=n("./MapStore2/web/client/utils/ConfigUtils.js"),u=n("./MapStore2/web/client/utils/PluginsUtils.js");function c(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l=function(e){return e.context&&e.context.currentContext},f=function(e){return e.context&&e.context.resource},p=Object(r.a)((function(){return Object(i.get)(a.default.getConfigProp("plugins"),"desktop")}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{desktop:[].concat(c(e),["Context"])}})),d=function(e){return p(e)},m=Object(r.a)((function(e){return Object(i.get)(l(e),"plugins")}),(function(e){return Object(i.get)(l(e),"userPlugins")}),(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e&&{desktop:[].concat(c(Object(i.get)(e,"desktop",[])),c(t.filter((function(e){return e.active}))))}})),g=(Object(r.a)(l,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.templates})),function(e){return function(e){return Object(i.get)(e,"context.loading")}(e)?d(e):m(e)||p(e)}),b=function(e){return Object(r.a)(l,g,(function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!t||Object(i.findIndex)(Object(i.get)(n,"desktop",[]),(function(t){return t.name===e}))>-1}))};Object(r.a)((function(e){return Object(u.g)(e,Object(o.b)(e))}),(function(e){return JSON.stringify(e)}))},"./MapStore2/web/client/selectors/dimension.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"d",(function(){return d})),n.d(t,"i",(function(){return m})),n.d(t,"f",(function(){return g})),n.d(t,"a",(function(){return b})),n.d(t,"h",(function(){return y})),n.d(t,"g",(function(){return O})),n.d(t,"e",(function(){return v})),n.d(t,"c",(function(){return h}));var r=n("./MapStore2/web/client/selectors/layers.js"),o=n("./MapStore2/node_modules/reselect/es/index.js"),i=n("./MapStore2/node_modules/lodash/lodash.js");function a(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(e,t){return function(n){return Object(i.get)(n,"dimension.data[".concat(t,"][").concat(e,"]"))}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Object(i.find)(e.dimensions||[],{name:t})},d=function(e,t){return function(n){return f(e.id,t)(n)||p(e,t)}},m=function(e){return Object(r.p)(e).reduce((function(t,n){var r=d(n,"time")(e);return r?s(s({},t),{},l({},n.id,r)):t}),{})},g=function(e){return Object(r.p)(e).filter((function(e){return p(e,"time")}))},b=function(e){var t=Object(i.get)(e,"dimension.currentTime");return t&&t.split("/")[0]},y=function(e){return Object(i.get)(e,"dimension.offsetTime")},O=function(e){return!!y(e)},v=(Object(o.a)(m,(function(e){return Object.keys(e).reduce((function(t,n){return[].concat(a(t),a(e[n]&&e[n].values||[]))}),[]).sort()||[]})),function(e){return function(t){return a(Object(i.get)(d(e,"time")(t),"values",[])).sort()}}),h=function(e,t){var n=f(t,"time")(e),r=n&&n.domain&&n.domain.split("--");if(r&&2===r.length)return r&&{start:r[0],end:r[1]};var o=n&&n.domain&&n.domain.split(",");return o&&o.length>0?{start:o[0],end:o[o.length-1]}:null}},"./MapStore2/web/client/selectors/featuregrid.js":function(e,t,n){"use strict";n.d(t,"A",(function(){return y})),n.d(t,"c",(function(){return O})),n.d(t,"z",(function(){return v})),n.d(t,"b",(function(){return h})),n.d(t,"u",(function(){return j})),n.d(t,"x",(function(){return S})),n.d(t,"l",(function(){return x})),n.d(t,"i",(function(){return P})),n.d(t,"k",(function(){return M})),n.d(t,"e",(function(){return T})),n.d(t,"C",(function(){return A})),n.d(t,"o",(function(){return I})),n.d(t,"d",(function(){return R})),n.d(t,"h",(function(){return C})),n.d(t,"f",(function(){return F})),n.d(t,"s",(function(){return N})),n.d(t,"y",(function(){return _})),n.d(t,"a",(function(){return L})),n.d(t,"j",(function(){return D})),n.d(t,"D",(function(){return G})),n.d(t,"F",(function(){return k})),n.d(t,"G",(function(){return U})),n.d(t,"E",(function(){return B})),n.d(t,"q",(function(){return q})),n.d(t,"p",(function(){return z})),n.d(t,"m",(function(){return V})),n.d(t,"t",(function(){return H})),n.d(t,"r",(function(){return W})),n.d(t,"g",(function(){return Y})),n.d(t,"B",(function(){return K})),n.d(t,"w",(function(){return Q})),n.d(t,"n",(function(){return X})),n.d(t,"v",(function(){return J}));var r=n("./MapStore2/node_modules/lodash/lodash.js"),o=n("./MapStore2/web/client/selectors/layers.js"),i=n("./MapStore2/web/client/utils/ogc/WFS/base.js"),a=n("./MapStore2/web/client/selectors/locale.js"),u=n("./MapStore2/web/client/utils/MapUtils.js"),c=n("./MapStore2/web/client/utils/FeatureGridUtils.js"),s=n("./MapStore2/web/client/selectors/dimension.js"),l=n("./MapStore2/web/client/selectors/security.js"),f=n("./MapStore2/web/client/selectors/maptype.js"),p=n("./MapStore2/web/client/selectors/query.js");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=o.g,y=function(e){return Object(r.get)(e,"featuregrid.selectedLayer")},O=function(e){return Object(r.get)(e,"featuregrid.chartDisabled",!1)},v=function(e){return e&&e.featuregrid&&e.featuregrid.select},h=function(e){return e&&e.featuregrid&&e.featuregrid.changes},j=function(e){return e&&e.featuregrid&&e.featuregrid.newFeatures},S=function(e){return Object(r.head)(v(e))},w=function(e){var t=Object(p.b)(e);if(t){var n=Object(i.findGeometryProperty)(t);return n&&n.localType}return null},E=["Geometry","GeometryCollection"],x=function(e){return!Object(r.head)(E.filter((function(t){return w(e)===t})))},P=function(e){return h(e)&&h(e).length>0},M=function(e){return j(e)&&j(e).length>0},T=function(e){return e&&e.featuregrid&&e.featuregrid.filters},A=function(e){return b(e,y(e))},I=function(e){return e&&e.featuregrid&&e.featuregrid.open},R=function(e,t){return Object(r.get)(T(e),t)},C=function(e){var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.title||e.name}(b(e,y(e)));return Object(r.isObject)(t)?t[Object(a.b)(e)]||t.default||"":t},F=function(e){return(Object(p.a)(e)||[]).map((function(t){var n=function(e,t){return Object(r.get)(e,"featuregrid.attributes[".concat(t.name||t.attribute,"]"))}(e,t);return n?m(m({},t),n):t}))},N=function(e){return e&&e.featuregrid&&e.featuregrid.mode},_=function(e){return(v(e)||[]).length},L=function(e){return Object(c.p)(h(e))},D=function(e){return function(e){var t=S(e);if(t){var n=Object(c.p)(h(e));return!(!n[t.id]||null===n[t.id].geometry)||(!n[t.id]||null!==n[t.id].geometry)&&((!t._new||!Object(r.head)(j(e))||null!==Object(r.head)(j(e)).geometry)&&(!(!t._new||!Object(r.head)(j(e))||null===Object(r.head)(j(e)).geometry)||null!==t.geometry))}return!1}(e)},G=function(e){return Object(r.get)(e,"featuregrid.showAgain",!1)},k=function(e){if(Object(r.get)(e,"featuregrid.showTimeSync",!1)){var t=y(e);return Object(s.d)({id:t},"time")(e)}return null},U=function(e){return Object(r.get)(e,"featuregrid.timeSync",!1)},B=function(e){return Object(r.get)(e,"featuregrid.showPopoverSync",!0)},q=function(e){return e&&e.featuregrid&&e.featuregrid.saving},z=function(e){return e&&e.featuregrid&&e.featuregrid.saved},V=function(e){return e&&e.featuregrid&&e.featuregrid.drawing},H=function(e){return Object(r.get)(e,"featuregrid.multiselect",!1)},W=function(e){return Object(u.isSimpleGeomType)(w(e))},Y=function(e){return e.featuregrid&&e.featuregrid.dockSize},K=function(e){var t=b(e,y(e));return t&&t.name||""},Q=function(e){var t=function(e){return Object(r.get)(b(e,y(e)),"params")}(e);return{viewParams:t&&(t.VIEWPARAMS||t.viewParams||t.viewparams),cqlFilter:t&&(t.CQL_FILTER||t.cqlFilter||t.cql_filter)}},X=function(e){var t=Object(l.d)(e),n=function(e){return Object(r.get)(e,"featuregrid.editingAllowedRoles",["ADMIN"])}(e)||["ADMIN"],o=function(e){return e&&e.featuregrid&&e.featuregrid.canEdit}(e);return(-1!==n.indexOf(t)||o)&&!Object(f.a)(e)},J=function(e){return Object(r.get)(e,"featuregrid.pagination")}},"./MapStore2/web/client/selectors/layers.js":function(e,t,n){"use strict";n.d(t,"p",(function(){return m})),n.d(t,"d",(function(){return g})),n.d(t,"g",(function(){return b})),n.d(t,"h",(function(){return y})),n.d(t,"a",(function(){return O})),n.d(t,"c",(function(){return v})),n.d(t,"n",(function(){return h})),n.d(t,"s",(function(){return j})),n.d(t,"k",(function(){return S})),n.d(t,"u",(function(){return w})),n.d(t,"j",(function(){return x})),n.d(t,"l",(function(){return P})),n.d(t,"o",(function(){return M})),n.d(t,"m",(function(){return T})),n.d(t,"w",(function(){return A})),n.d(t,"b",(function(){return I})),n.d(t,"e",(function(){return R})),n.d(t,"v",(function(){return C})),n.d(t,"i",(function(){return F})),n.d(t,"f",(function(){return N})),n.d(t,"q",(function(){return _})),n.d(t,"t",(function(){return L})),n.d(t,"r",(function(){return D}));var r=n("./MapStore2/node_modules/reselect/es/index.js"),o=n("./MapStore2/web/client/utils/MapInfoUtils.js"),i=n("./MapStore2/web/client/utils/LayersUtils.js"),a=n("./MapStore2/web/client/utils/SearchUtils.js"),u=n("./MapStore2/web/client/utils/CoordinatesUtils.js"),c=n("./MapStore2/web/client/selectors/mapInfo.js"),s=n("./MapStore2/node_modules/lodash/lodash.js"),l=n("./MapStore2/web/client/utils/TOCUtils.js");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.layers,n=e.config;return t&&Object(s.isArray)(t)?t:t&&t.flat||n&&n.layers||[]},g=function(e){return Object(s.head)(m(e).filter((function(e){return e&&e.visibility&&"background"===e.group})))},b=function(e,t){return Object(s.head)(m(e).filter((function(e){return e.id===t})))},y=function(e,t){return Object(s.head)(m(e).filter((function(e){return e.name===t})))},O=function(e){return m(e).filter((function(e){return"background"===e.group}))},v=function(e){return Object(s.get)(e,"mapInfo.centerToMarker","")},h=Object(r.a)([m,c.c,function(e){return e.search&&e.search},v,function(e){return Object(s.get)(e,"additionallayers",[])},function(e){return e.annotations&&e.annotations.showMarker&&e.annotations.clickPoint}],(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,c=arguments.length>5?arguments[5]:void 0,l=i.filter((function(e){return"override"===e.actionType})),f=i.filter((function(e){return"overlay"===e.actionType})).map((function(e){return e.options})),d=e.map((function(e){var t=(Object(s.head)(l.filter((function(t){return t.id===e.id})))||{}).options;return t?p(p({},e),t):p({},e)}));if(d=d.concat(f),t){d.push(Object(o.h)("GetFeatureInfoHighLight",{features:t.features},void 0,{overrideOLStyle:!0,featuresCrs:t.featuresCrs,style:p(p({},a.a),{color:"#3388ff",weight:4,dashArray:"",fillColor:"#3388ff",fillOpacity:.2})}));var m="enabled"===r?Object(u.getNormalizedLatLon)(t.latlng):t.latlng;d.push(Object(o.h)("GetFeatureInfo",m))}if(c){var g="enabled"===r?Object(u.getNormalizedLatLon)(c.latlng):c.latlng;d.push(Object(o.h)("Annotations",g)),d.push(Object(o.h)("GetFeatureInfo",p({},g)))}if(n&&n.markerPosition){var b=Object(s.isObject)(n.style)&&n.style||{};d.push(Object(o.h)("GeoCoder",n.markerPosition,"marker",{overrideOLStyle:!0,style:p(p({},a.a),b)},n.markerLabel))}return d})),j=function(e){return e.layers&&e.layers.flat&&e.layers.groups||[]},S=function(e){return e.layers&&e.layers.flat&&e.layers.groups&&Object(i.denormalizeGroups)(e.layers.flat,e.layers.groups).groups||[]},w=function(e){return e.layers&&e.layers.selected||[]},E=function(e){return w(e).map((function(t){return Object(s.find)(m(e),{id:t})}))},x=function(e){var t=E(e)||[];return t&&t[0]},P=function(e){return e.layers&&e.layers.filter||""},M=function(e){return e.layers&&e.layers.settings||{expanded:!1,options:{opacity:1}}},T=function(e){return e.layers&&e.layers.layerMetadata||{expanded:!1,metadataRecord:{},maskLoading:!1}},A=function(e){return e.controls&&e.controls.layerdownload?{expanded:e.controls.layerdownload.enabled}:{expanded:!1}},I=function(e){return e.controls&&e.controls.backgroundSelector||{}},R=function(e){var t=I(e),n=O(e)||[];return t.currentLayer&&!Object(s.isEmpty)(t.currentLayer)?t.currentLayer:Object(s.head)(n.filter((function(e){return e.visibility})))||{}},C=function(e){var t=I(e),n=O(e)||[];return t.tempLayer&&!Object(s.isEmpty)(t.tempLayer)?t.tempLayer:Object(s.head)(n.filter((function(e){return e.visibility})))||{}},F=function(e,t){return(m(e)||[]).filter((function(e){return e&&e.dimensions&&Object(s.find)(Object(s.castArray)(e.dimensions),{name:t})}))},N=function(e){var t=M(e),n=m(e),r=S(e);return"layers"===t.nodeType&&Object(s.isArray)(n)&&Object(s.head)(n.filter((function(e){return e.id===t.node})))||"groups"===t.nodeType&&Object(s.isArray)(r)&&Object(s.head)(Object(l.b)(r,0,!0).filter((function(e){return e.id===t.node})))||{}},_=function(e){return m(e).filter(o.b)},L=function(e){return"Error"===(x(e)||{}).loadingError},D=function(e){return E(e).filter(o.b)}},"./MapStore2/web/client/selectors/localConfig.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return u}));var r=n("./MapStore2/node_modules/lodash/lodash.js"),o=function(e){return e.localConfig},i=function(e){return(o(e)||{}).monitorState},a=function(e){return function(t){return Object(r.get)(function(e){return Object(r.get)(o(e),"plugins")}(t),e)}},u=function(e){return Object(r.get)(o(e),"defaultMapOptions.floatingIdentifyDelay",500)}},"./MapStore2/web/client/selectors/locale.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return u}));var r=n("./MapStore2/node_modules/reselect/es/index.js"),o=n("./MapStore2/node_modules/lodash/lodash.js"),i=function(e){return e.locale&&e.locale.current||"en-US"},a=function(e){return e.locale&&e.locale.messages||{}},u=Object(r.a)([i],(function(e){return Object(o.head)(e.split("-"))}))},"./MapStore2/web/client/selectors/map.js":function(e,t,n){"use strict";n.d(t,"l",(function(){return a})),n.d(t,"o",(function(){return u})),n.d(t,"h",(function(){return c})),n.d(t,"i",(function(){return s})),n.d(t,"j",(function(){return l})),n.d(t,"n",(function(){return f})),n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return g})),n.d(t,"g",(function(){return b})),n.d(t,"m",(function(){return y})),n.d(t,"p",(function(){return O})),n.d(t,"k",(function(){return v})),n.d(t,"d",(function(){return j})),n.d(t,"e",(function(){return S})),n.d(t,"f",(function(){return w}));var r=n("./MapStore2/web/client/utils/CoordinatesUtils.js"),o=n("./MapStore2/node_modules/reselect/es/index.js"),i=n("./MapStore2/node_modules/lodash/lodash.js"),a=function(e){return e.map&&e.map.present||e.map||e.config&&e.config.map||null},u=Object(o.a)([a],(function(e){return e&&e.projection})),c=function(e){return Object(i.get)(e,"mapInitialConfig.mapId")&&parseInt(Object(i.get)(e,"mapInitialConfig.mapId"),10)||function(e){return Object(i.get)(a(e),"mapId")&&parseInt(Object(i.get)(a(e),"mapId"),10)||null}(e)},s=function(e){return Object(i.get)(a(e),"info")},l=function(e){var t=Object(i.get)(s(e),"canEdit");return void 0===t?Object(i.get)(e,"context.resource.canEdit"):t},f=function(e){return e.localConfig&&e.localConfig.projectionDefs||[]},p=function(e){return e.localConfig&&e.localConfig.mapConstraints||{}},d=function(e){return p(e).restrictedExtent},m=function(e){return p(e).crs},g=function(e){var t=p(e),n=u(e);return n&&Object(i.get)(t,'projectionsConstraints["'.concat(n,'"].minZoom'))||Object(i.get)(t,"minZoom")},b=function(e){return Object(i.get)(a(e),"bbox")},y=function(e){return Object(i.get)(function(e){return Object(i.get)(a(e),"limits")}(e),"minZoom")},O=Object(o.a)([function(e){return Object(i.get)(a(e),"resolutions")},u],(function(e,t){if(e&&t){var n=r.default.getUnits(t);return e.map((function(e){return e*(100/2.54*96)*("degrees"===n?111194.87428468118:1)}))}return[]})),v=function(e){return e.map&&e.map.present&&e.map.present.info&&e.map.present.info.name||""},h=function(e){return Object(i.get)(a(e),"eventListeners.mousemove",[])},j=function(e){return!!h(e).length},S=function(e){return h(e).includes("mouseposition")},w=function(e){return h(e).includes("identifyFloatingTool")}},"./MapStore2/web/client/selectors/mapInfo.js":function(e,t,n){"use strict";n.d(t,"n",(function(){return m})),n.d(t,"m",(function(){return g})),n.d(t,"h",(function(){return b})),n.d(t,"u",(function(){return y})),n.d(t,"p",(function(){return O})),n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return h})),n.d(t,"o",(function(){return j})),n.d(t,"r",(function(){return S})),n.d(t,"g",(function(){return w})),n.d(t,"v",(function(){return E})),n.d(t,"i",(function(){return x})),n.d(t,"k",(function(){return P})),n.d(t,"j",(function(){return M})),n.d(t,"t",(function(){return T})),n.d(t,"s",(function(){return A})),n.d(t,"l",(function(){return I})),n.d(t,"w",(function(){return R})),n.d(t,"f",(function(){return F})),n.d(t,"e",(function(){return N})),n.d(t,"c",(function(){return D})),n.d(t,"d",(function(){return G})),n.d(t,"q",(function(){return k}));var r=n("./MapStore2/node_modules/lodash/lodash.js"),o=n("./MapStore2/node_modules/reselect/es/index.js"),i=n("./MapStore2/web/client/selectors/map.js"),a=n("./MapStore2/web/client/selectors/context.js"),u=n("./MapStore2/web/client/selectors/locale.js"),c=n("./MapStore2/web/client/utils/MapInfoUtils.js"),s=n("./MapStore2/web/client/selectors/maptype.js"),l=n("./MapStore2/web/client/selectors/localConfig.js");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=Object(o.a)((function(e){return Object(l.c)("desktop")(e)||{}}),s.a,(function(e,t){return!t&&!!((Object.values(e).filter((function(e){return"Identify"===e.name})).pop()||{}).cfg||{}).showInMapPopup})),g=Object(o.a)((function(e){return Object(r.get)(e,"mapInfo.requests")||[]}),Object(a.b)("Identify"),m,(function(e,t,n){return!n&&!!e&&e.length>0&&t})),b=function(e){return Object(r.get)(e,"mapInfo.configuration.infoFormat","text/plain")},y=function(e){return Object(r.get)(e,"mapInfo.configuration.showEmptyMessageGFI",!0)},O=function(e){return Object(r.get)(e,"mapInfo.configuration",{})},v=function(e){return e&&e.mapInfo&&e.mapInfo.clickPoint},h=function(e){return e&&e.mapInfo&&e.mapInfo.clickLayer},j=function(e){return Object(r.get)(e,"mapInfo.itemId",null)},S=function(e){return Object(r.get)(e,"mapInfo.overrideParams",{})},w=function(e){return Object(r.get)(e,"mapInfo.filterNameList",[])},E=Object(o.a)((function(e){return!Object(r.get)(e,"mapInfo.enabled",!1)}),(function(e){return Object(r.get)(e,"controls.measure.enabled")&&(Object(r.get)(e,"measurement.lineMeasureEnabled")||Object(r.get)(e,"measurement.areaMeasureEnabled")||Object(r.get)(e,"measurement.bearingMeasureEnabled"))}),(function(e){var t=Object(r.get)(e,"draw.drawStatus",!1);return t&&"clean"!==t&&"stop"!==t}),(function(e){return Object(r.get)(e,"annotations.editing")}),Object(a.b)("Identify"),(function(e,t,n,r,o){return e||!!t||n||!!r||!o})),x=Object(o.c)({format:b,map:i.l,point:v,currentLocale:u.b,maxItems:function(e){return Object(r.get)(e,"mapInfo.configuration.maxItems")}}),P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.mapInfo&&e.mapInfo.highlight},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e&&e.mapInfo&&e.mapInfo.index},T=function(e){return e.mapInfo&&e.mapInfo.responses||[]},A=function(e){var t;return(null==e||null===(t=e.mapInfo)||void 0===t?void 0:t.requests)||[]},I=function(e){var t;return null==e||null===(t=e.mapInfo)||void 0===t?void 0:t.loaded},R=Object(o.a)(A,T,b,i.f,(function(e,t,n,r){var o=Object(c.i)(n);return e.length===t.length&&o.getValidResponses(t,r)})),C=Object(o.a)(R,M,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]})),F=function(e){var t=C(e)||{};return Object(r.get)(t,"layerMetadata.features")},N=function(e){var t=C(e)||{};return Object(r.get)(t,"layerMetadata.featuresCrs")},_=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.style||t.geometry&&("Point"===t.geometry.type||"MultiPoint"===t.geometry.type)?e:Object(r.omit)(e,"radius")}},L=function(e){return function(t){return p(p({},t),{},{style:_(e)(t)})}},D=Object(o.a)(v,P,F,N,(function(e){return e&&e.mapInfo&&e.mapInfo.showMarker}),(function(e){return Object(r.get)(e,"mapInfo.highlightStyle",{color:"#3388ff",weight:4,radius:4,dashArray:"",fillColor:"#3388ff",fillOpacity:.2})}),(function(e,t,n,o,i,a){return i&&e?t?p(p({},e),{},{featuresCrs:o,features:n&&Object(r.isArray)(n)&&n.map(L(a))}):e:void 0})),G=function(e){var t;return null===(t=e.mapInfo)||void 0===t?void 0:t.currentEditFeatureQuery},k=function(e){var t,n;return void 0===(null===(t=e.mapInfo)||void 0===t||null===(n=t.configuration)||void 0===n?void 0:n.trigger)?"click":e.mapInfo.configuration.trigger}},"./MapStore2/web/client/selectors/maplayout.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return f})),n.d(t,"e",(function(){return d})),n.d(t,"a",(function(){return m})),n.d(t,"d",(function(){return g}));var r=n("./MapStore2/node_modules/lodash/lodash.js"),o=n("./MapStore2/web/client/selectors/map.js"),i=n("./MapStore2/web/client/utils/MapUtils.js");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=function(e){return e.maplayout&&e.maplayout.layout||{}},l=function(e){return e.maplayout&&e.maplayout.boundingMapRect||{}},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=s(e);return n&&Object.keys(n).filter((function(e){return t[e]})).reduce((function(e,t){return u(u({},e),{},c({},t,n[t]))}),{})||{}},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=s(e),o=!!Object(r.head)(t.filter((function(e){return n[e.key]})).map((function(e){return"not"===e.type?n[e.key]!==e.value&&n[e.key]:n[e.key]===e.value})));return o},d=function(e){return p(e,[{key:"right",value:658}])},m=function(e){return p(e,[{key:"bottom",value:30,type:"not"}])},g=function(e){var t=Object(o.l)(e),n=l(e);return n&&t&&t.size&&{left:Object(i.parseLayoutValue)(n.left,t.size.width),bottom:Object(i.parseLayoutValue)(n.bottom,t.size.height),right:Object(i.parseLayoutValue)(n.right,t.size.width),top:Object(i.parseLayoutValue)(n.top,t.size.height)}}},"./MapStore2/web/client/selectors/maptype.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var r=function(e){return e&&e.maptype&&e.maptype.mapType||"leaflet"},o=function(e){return"cesium"===r(e)},i=function(e){return"openlayers"===r(e)}},"./MapStore2/web/client/selectors/query.js":function(e,t,n){"use strict";n.d(t,"i",(function(){return s})),n.d(t,"n",(function(){return l})),n.d(t,"o",(function(){return f})),n.d(t,"m",(function(){return p})),n.d(t,"a",(function(){return d})),n.d(t,"l",(function(){return m})),n.d(t,"k",(function(){return g})),n.d(t,"c",(function(){return b})),n.d(t,"e",(function(){return y})),n.d(t,"j",(function(){return O})),n.d(t,"f",(function(){return v})),n.d(t,"b",(function(){return h})),n.d(t,"d",(function(){return j})),n.d(t,"h",(function(){return S})),n.d(t,"g",(function(){return w}));var r=n("./MapStore2/node_modules/lodash/lodash.js");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(e){return Object(r.get)(e,"query.filterObj.featureTypeName")},c=function(e){return function(t){return Object(r.get)(t,'query.featureTypes["'.concat(e,'"]'))}},s=function(e,t){return Object(r.get)(c(t)(e),"original")},l=function(e){return e&&e.query&&e.query.searchUrl},f=function(e){return e&&e.query&&e.query.url},p=function(e){return e&&e.query&&e.query.filterObj},d=function(e){return Object(r.get)(c(u(e))(e),"attributes")},m=function(e){return Object(r.get)(e,"query.typeName")},g=function(e){return Object(r.get)(e,"query.result.features")},b=function(e){var t=Object(r.get)(e,"query.result");return i(i({},t),{},{features:(t&&t.features||[]).filter((function(e){return!Object(r.isNil)(e.geometry)}))})},y=function(e,t){var n=e&&e.query&&e.query.result&&e.query.result.features;return Object(r.head)(n.filter((function(e){return e.id===t})))},O={startIndex:function(e){return Object(r.get)(e,"query.filterObj.pagination.startIndex")},maxFeatures:function(e){return Object(r.get)(e,"query.filterObj.pagination.maxFeatures")},resultSize:function(e){return Object(r.get)(e,"query.result.features.length")},totalFeatures:function(e){return Object(r.get)(e,"query.result.totalFeatures")}},v=function(e,t){var n=c(t)(e);return!!(n&&n.attributes&&n.geometry&&n.original)},h=function(e){return s(e,u(e))},j=function(e){return Object(r.get)(e,"query.featureLoading")},S=function(e){return Object(r.get)(e,"query.syncWmsFilter",!1)},w=function(e){var t=Object(r.get)(e,"query.filterObj.crossLayerFilter"),n=Object(r.get)(e,"query.filterObj.spatialField"),o=Object(r.get)(e,"query.filterObj.filterFields");return!!(o&&Object(r.head)(o)||n&&(n.method&&n.operation&&n.geometry||Object(r.isArray)(n)&&Object(r.findIndex)(n,(function(e){return e.method&&e.operation&&e.geometry}))>-1)||t&&t.collectGeometries&&t.operation)}},"./MapStore2/web/client/utils/CoordinatesUtils.js":function(e,t,n){"use strict";n.r(t),n.d(t,"FORMULAS",(function(){return R})),n.d(t,"getProjUrl",(function(){return F})),n.d(t,"determineCrs",(function(){return _})),n.d(t,"normalizePoint",(function(){return D})),n.d(t,"reproject",(function(){return k})),n.d(t,"reprojectExtent",(function(){return B})),n.d(t,"getPolygonFromExtent",(function(){return q})),n.d(t,"getExtentFromNormalized",(function(){return z})),n.d(t,"crsCodeTable",(function(){return V})),n.d(t,"setCrsLabels",(function(){return H})),n.d(t,"getUnits",(function(){return W})),n.d(t,"getProjectedBBox",(function(){return Y})),n.d(t,"createBBox",(function(){return K})),n.d(t,"reprojectGeoJson",(function(){return Q})),n.d(t,"lineIntersectPolygon",(function(){return X})),n.d(t,"normalizeLng",(function(){return J})),n.d(t,"reprojectBbox",(function(){return Z})),n.d(t,"bboxToFeatureGeometry",(function(){return $})),n.d(t,"getCompatibleSRS",(function(){return ee})),n.d(t,"getEquivalentSRS",(function(){return te})),n.d(t,"getEPSGCode",(function(){return ne})),n.d(t,"normalizeSRS",(function(){return re})),n.d(t,"isAllowedSRS",(function(){return oe})),n.d(t,"getAvailableCRS",(function(){return ie})),n.d(t,"filterCRSList",(function(){return ae})),n.d(t,"calculateAzimuth",(function(){return ue})),n.d(t,"calculateDistance",(function(){return ce})),n.d(t,"extendExtent",(function(){return se})),n.d(t,"getGeoJSONExtent",(function(){return le})),n.d(t,"isValidExtent",(function(){return fe})),n.d(t,"calculateCircleCoordinates",(function(){return pe})),n.d(t,"transformLineToArcs",(function(){return de})),n.d(t,"transformArcsToLine",(function(){return me})),n.d(t,"coordsOLtoLeaflet",(function(){return ge})),n.d(t,"mergeToPolyGeom",(function(){return be})),n.d(t,"getViewportGeometry",(function(){return ye})),n.d(t,"getExtentFromViewport",(function(){return Oe})),n.d(t,"fetchProjRemotely",(function(){return ve})),n.d(t,"parseURN",(function(){return he})),n.d(t,"parseString",(function(){return je})),n.d(t,"getWMSBoundingBox",(function(){return Se})),n.d(t,"isSRSAllowed",(function(){return we})),n.d(t,"getNormalizedLatLon",(function(){return Ee})),n.d(t,"isInsideVisibleArea",(function(){return xe})),n.d(t,"centerToVisibleArea",(function(){return Pe})),n.d(t,"calculateCircleRadiusFromPixel",(function(){return Me})),n.d(t,"roundCoord",(function(){return Te})),n.d(t,"midpoint",(function(){return Ae})),n.d(t,"pointObjectToArray",(function(){return Ie})),n.d(t,"isPointInsideExtent",(function(){return Re})),n.d(t,"isBboxCompatible",(function(){return Ce})),n.d(t,"extractCrsFromURN",(function(){return Fe})),n.d(t,"makeNumericEPSG",(function(){return Ne})),n.d(t,"makeBboxFromOWS",(function(){return _e}));var r=n("./MapStore2/node_modules/node-geo-distance/index.js"),o=n.n(r),i=n("./MapStore2/web/client/libs/proj4.js"),a=n.n(i),u=n("./MapStore2/web/client/libs/ajax.js"),c=n.n(u),s=n("./MapStore2/node_modules/object-assign/index.js"),l=n.n(s),f=n("./MapStore2/node_modules/lodash/lodash.js"),p=n("./MapStore2/node_modules/@turf/line-intersect/index.js"),d=n.n(p),m=n("./MapStore2/node_modules/@turf/polygon-to-linestring/index.js"),g=n.n(m),b=n("./MapStore2/node_modules/@turf/great-circle/main.es.js"),y=n("./MapStore2/node_modules/turf-point/index.js"),O=n.n(y),v=n("./MapStore2/node_modules/@turf/bbox-polygon/main.es.js"),h=n("./MapStore2/node_modules/@turf/boolean-overlap/main.es.js"),j=n("./MapStore2/node_modules/@turf/boolean-contains/main.es.js");function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e){return function(e){if(Array.isArray(e))return T(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||M(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(e,t)||M(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){if(e){if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(e,t):void 0}}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var A,I=a.a,R={vincenty:function(e){for(var t=0,n=0;n<e.length-1;++n){var r=e[n],i=e[n+1],a=P(r,2),u=a[0],c=a[1],s=P(i,2),l=s[0],f=s[1];t+=parseFloat(o.a.vincentySync({longitude:u,latitude:c},{longitude:l,latitude:f}))}return t},haversine:function(e){for(var t=0,n=0;n<e.length-1;++n){var r=e[n],i=e[n+1],a=P(r,2),u=a[0],c=a[1],s=P(i,2),l=s[0],f=s[1];t+=parseFloat(o.a.haversineSync({longitude:u,latitude:c},{longitude:l,latitude:f}))}return t}};function C(e,t){return(n=e).length>=2&&"number"==typeof n[0]&&"number"==typeof n[1]?t(e):e.map((function(e){return C(e,t)}));var n}var F=function(e){return"http://spatialreference.org/ref/epsg/".concat(e,"/proj4/")};function N(e,t,n){if(null===e)return e;var r=Object(f.cloneDeep)(e);return"Feature"===e.type?r.geometry=N(e.geometry,t,n):"FeatureCollection"===e.type?r.features=r.features.map((function(e){return N(e,t,n)})):"GeometryCollection"===e.type?r.geometries=r.geometries.map((function(e){return N(e,t,n)})):t&&t(r),n&&n(r),r}function _(e){return"string"==typeof e||e instanceof String?a.a.defs(e)?new a.a.Proj(e):null:e}var L={"EPSG:4326":"WGS 84","EPSG:3857":"EPSG:3857"},D=function(e){return{x:e.x||0,y:e.y||0,srs:e.srs||e.crs||"EPSG:4326",crs:e.srs||e.crs||"EPSG:4326"}},G=function(e){var t=e;return Object(f.isNumber)(e.x)||(t.x=parseFloat(e.x)),Object(f.isNumber)(e.y)||(t.y=parseFloat(e.y)),t},k=function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=t&&a.a.defs(t)?new a.a.Proj(t):null,i=n&&a.a.defs(n)?new a.a.Proj(n):null;if(o&&i){var u=Object(f.isArray)(e)?a.a.toPoint(e):a.a.toPoint([e.x,e.y]),c=l()({},t===n?G(u):a.a.transform(o,i,G(u)),{srs:n});return r?D(c):c}return null},U=["EPSG:900913","EPSG:4326","EPSG:3857"],B=function(e,t,n){return"EPSG:4326"===t?e:n?e.map((function(e){return[k([e[0],e[1]],"EPSG:4326",t),k([e[2],e[3]],"EPSG:4326",t)].reduce((function(e,t){return[].concat(x(e),[t.x,t.y])}),[])})):[k([e[0],e[1]],"EPSG:4326",t),k([e[2],e[3]],"EPSG:4326",t)].reduce((function(e,t){return[].concat(x(e),[t.x,t.y])}),[])},q=function(e){return e?e.hasOwnProperty("geometry")&&"Polygon"===e.geometry.type?e:Object(v.a)(e):null},z=function(e,t){var n=function(e,t){var n="EPSG:4326"!==t?[k([parseFloat(e.minx),parseFloat(e.miny)],t,"EPSG:4326"),k([parseFloat(e.maxx),parseFloat(e.maxy)],t,"EPSG:4326")].reduce((function(e,t){return[].concat(x(e),[t.x,t.y])}),[]):[parseFloat(e.minx),parseFloat(e.miny),parseFloat(e.maxx),parseFloat(e.maxy)],r=!1;return"EPSG:4326"===t?r=Math.abs(e.maxx-e.minx)>=360:"EPSG:900913"!==t&&"EPSG:3857"!==t||(r=Math.abs(e.maxx-e.minx)>=40075016.68557849),r?[0,n[1],360,n[3]]:[(n[0]+180)%360,n[1],(n[2]+180)%360,n[3]].map((function(e,t){return t%2==0&&e<0?360+e:e}))}(e,t),r=n[2]<n[0];return r?{extent:B([[-180,n[1],n[2]-180,n[3]],[n[0]-180,n[1],180,n[3]]],t,r),isIDL:r}:{extent:B([n[0]-180,n[1],n[2]-180,n[3]],t,r),isIDL:r}},V={wgs84:4326,wgs1984:4326,crs84:4326,ogccrs84:4326,lambert93:2154,rgflambert93:2154},H=function(e){L=l()({},L,e)},W=function(e){return new a.a.Proj(e).units||"degrees"},Y=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0,o=t*r[0]/2,i=t*r[1]/2,a=Math.cos(n),u=Math.sin(n),c=o*a,s=o*u,l=i*a,f=i*u,p=e.x,d=e.y,m=p-c+f,g=p-c-f,b=p+c-f,y=p+c+f,O=d-s-l,v=d-s+l,h=d+s+l,j=d+s-l,S=A.createBBox(Math.min(m,g,b,y),Math.min(O,v,h,j),Math.max(m,g,b,y),Math.max(O,v,h,j));return S},K=function(e,t,n,r){return{minx:e,miny:t,maxx:n,maxy:r}},Q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"EPSG:4326",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"EPSG:4326",r=t,o=n;"string"==typeof r&&(r=_(r)),"string"==typeof o&&(o=_(o));var i=I(r,o);return N(e,(function(e){e.crs&&delete e.crs,e.coordinates=C(e.coordinates,(function(e){var t=P(e,2),n=t[0],r=t[1];return i.forward([n,r])}))}),(function(e){var t,n;e.bbox&&(e.bbox=(t=[Number.MAX_VALUE,Number.MAX_VALUE],n=[-Number.MAX_VALUE,-Number.MAX_VALUE],N(e,(function(e){C(e.coordinates,(function(e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),n[0]=Math.max(n[0],e[0]),n[1]=Math.max(n[1],e[1])}))})),[t[0],t[1],n[0],n[1]]))}))},X=function(e,t){var n=g()(t).features[0];return 0!==d()(e,n).features.length},J=function(e){var t=e/360%1*360;return t<-180?t+=360:t>180&&(t-=360),t},Z=function(e,t,n){var r,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];r=Object(f.isArray)(e)?{sw:[e[0],e[1]],ne:[e[2],e[3]]}:{sw:[e.minx,e.miny],ne:[e.maxx,e.maxy]};var i=[];for(var a in r)if(r.hasOwnProperty(a)){var u=A.reproject(r[a],t,n,o);if(!u)return null;var c=u.x,s=u.y;i.push(c),i.push(s)}return i},$=function(e){var t=Object(f.isArray)(e)?{minx:e[0],miny:e[1],maxx:e[2],maxy:e[3]}:e,n=t.minx,r=t.miny,o=t.maxx,i=t.maxy;return{type:"Polygon",coordinates:[[[n,r],[n,i],[o,i],[o,r],[n,r]]]}},ee=function(e,t){return"EPSG:900913"===e&&!t["EPSG:900913"]&&t["EPSG:3857"]?"EPSG:3857":"EPSG:3857"===e&&!t["EPSG:3857"]&&t["EPSG:900913"]?"EPSG:900913":e},te=function(e){return"EPSG:900913"===e||"EPSG:3857"===e?["EPSG:3857","EPSG:900913"]:[e]},ne=function(e){return-1!==e.indexOf(":")?"EPSG:"+e.substring(e.lastIndexOf(":")+1):e},re=function(e,t){var n="EPSG:900913"===e?"EPSG:3857":e;return t&&!t[n]?A.getCompatibleSRS(n,t):n},oe=function(e,t){return t[A.getCompatibleSRS(e,t)]},ie=function(){var e={};for(var t in a.a.defs)a.a.defs.hasOwnProperty(t)&&(e[t]={label:L[t]||t});return e},ae=function(e,t,n,r){var o=Object.keys(e).reduce((function(n,r){return l()({},-1===t.indexOf(r)?n:w(w({},n),{},E({},r,e[r])))}),{}),i=r.map((function(e){return e.code})),a=Object.keys(n).reduce((function(e,t){return l()({},-1===i.indexOf(t)?e:w(w({},e),{},E({},t,n[t])))}),{});return l()({},o,a)},ue=function(e,t,n){var r=A.reproject(e,n,"EPSG:4326"),o=A.reproject(t,n,"EPSG:4326"),i=r.x*Math.PI/180,a=r.y*Math.PI/180,u=o.x*Math.PI/180,c=o.y*Math.PI/180,s=u-i,l=Math.sin(s)*Math.cos(c),f=Math.cos(a)*Math.sin(c)-Math.sin(a)*Math.cos(c)*Math.cos(s);return(180*Math.atan2(l,f)/Math.PI+360)%360},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"haversine";return e.length>=2&&-1!==Object.keys(R).indexOf(t)?R[t](e):0},se=function(e,t){var n=e.slice();return t[0]<e[0]&&(n[0]=t[0]),t[2]>e[2]&&(n[2]=t[2]),t[1]<e[1]&&(n[1]=t[1]),t[3]>e[3]&&(n[3]=t[3]),n},le=function(e){var t=this,n=[1/0,1/0,-1/0,-1/0],r=function(e,n){var r=A.getGeoJSONExtent(n);return t.isValidExtent(r)?t.extendExtent(r,e):r};if(e.coordinates){if("Point"===e.type){var o=e.coordinates;n[0]=o[0]-.01*o[0],n[1]=o[1]-.01*o[1],n[2]=o[0]+.01*o[0],n[3]=o[1]+.01*o[1]}return Object(f.chunk)(Object(f.flattenDeep)(e.coordinates),2).reduce((function(e,t){return[t[0]<e[0]?t[0]:e[0],t[1]<e[1]?t[1]:e[1],t[0]>e[2]?t[0]:e[2],t[1]>e[3]?t[1]:e[3]]}),n)}if("GeometryCollection"===e.type)return e.geometries.reduce(r,n);if(e.type){if("FeatureCollection"===e.type)return e.features.reduce(r,n);if("Feature"===e.type&&e.geometry)return A.getGeoJSONExtent(e.geometry)}return n},fe=function(e){return!(-1!==e.indexOf(1/0)||-1!==e.indexOf(-1/0)||e[0]>e[2]||e[1]>e[3])},pe=function(e,t,n,r){var o,i,a,u=Math.PI*(1/n-.5);r&&(u+=r/180*Math.PI);for(var c=[[]],s=0;s<n;s++)o=u+2*s*Math.PI/n,i=e.x+t*Math.cos(o),a=e.y+t*Math.sin(o),c[0].push([i,a]);return c[0].push(c[0][0]),c},de=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{npoints:100,offset:10,properties:{}},n=[],r=0;r<e.length-1;++r){var o=e[r],i=e[r+1],a=O()(o),u=O()(i);if(o[0]!==i[0]||o[1]!==i[1]){var c=Object(b.a)(a,u,t);n=[].concat(x(n),x(c.geometry.coordinates))}}return n},me=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return e.length<=t?[Object(f.head)(e),Object(f.last)(e)]:e.length>t?[Object(f.head)(e)].concat(A.transformArcsToLine(Object(f.slice)(e,t))):[]},ge=function(e){var t=e.coordinates;switch(e.type){case"Polygon":return t.map((function(e){return e.map((function(e){return e.reverse()}))}));case"LineString":return t.map((function(e){return e.reverse()}));case"Point":return t.reverse();default:return[]}},be=function(e){return 1===e.length?e[0].geometry:{type:"GeometryCollection",geometries:e.map((function(e){return e.geometry}))}},ye=function(e,t){if(Object(f.head)(U.filter((function(e){return e===t})))){var n=z(e,t),r=n.extent,o=n.isIDL,i=(o?r:[r]).map((function(e){var t=[e[0],e[1]],n=[e[2],e[3]];return[[t,[t[0],n[1]],n,[n[0],t[1]],t]]}));if(o){var a=r[1][0]+(Math.abs(r[0][0]-r[0][2])+Math.abs(r[1][0]-r[1][2]))/2;return{type:"MultiPolygon",radius:0,projection:t,coordinates:i,extent:r,center:[a=a>180?a-360:a,(r[0][1]+r[0][3])/2]}}return{type:"Polygon",radius:0,projection:t,coordinates:i[0],extent:r,center:[(r[0]+r[2])/2,(r[1]+r[3])/2]}}var u=[e.minx,e.miny,e.maxx,e.maxy],c=[u[0],u[1]],s=[u[2],u[3]];return{type:"Polygon",radius:0,projection:t,coordinates:[[c,[c[0],s[1]],s,[s[0],c[1]],c]],extent:u,center:[(u[0]+u[2])/2,(u[1]+u[3])/2]}},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.bounds,n=e.crs,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"EPSG:4326";if(!t||!n)return null;var o=A.getViewportGeometry(t,n),i=o.extent;if(4===i.length)return A.reprojectBbox(i,n,r);var a=i.map((function(e){return e[2]-e[0]})),u=P(a,2),c=u[0],s=u[1];return c>s?A.reprojectBbox(i[0],n,r):A.reprojectBbox(i[1],n,r)},ve=function(e,t){var n=2===e.split(":").length?e.split(":")[1]:"3857";return c.a.get(t||F(n),null,{timeout:2e3})},he=function(e){var t=e&&e.properties&&e.properties.name||e&&e.name||e&&e.properties&&e.properties.code||e,n=t&&Object(f.last)(t.split(":"));return"WGS 1984"===n||"WGS84"===n?"EPSG:4326":n?"EPSG:"+n:null},je=function(e){var t=e.split(" "),n=parseFloat(t[0]),r=parseFloat(t[1]);return!isNaN(n)&&!isNaN(r)&&{x:n,y:r}||null},Se=function(e,t){var n=t||"EPSG:3857",r=e&&Object(f.isArray)(e)&&Object(f.head)(e.filter((function(e){return e&&e.$&&e.$.SRS===n&&e.$.maxx&&e.$.maxy&&e.$.minx&&e.$.miny})).map((function(e){return e&&e.$&&A.reprojectBbox([parseFloat(e.$.minx),parseFloat(e.$.miny),parseFloat(e.$.maxx),parseFloat(e.$.maxy)],n,"EPSG:4326")})));return Object(f.isArray)(r)&&{minx:r[0],miny:r[1],maxx:r[2],maxy:r[3]}||null},we=function(e){return!!a.a.defs(e)},Ee=function(e){var t=e.lng,n=void 0===t?1:t,r=e.lat;return{lat:void 0===r?1:r,lng:A.normalizeLng(n)}},xe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=A.getNormalizedLatLon(e),i=k([o.lng,o.lat],"EPSG:4326",t.projection);if(!t.bbox)return!1;var a=A.reprojectBbox(t.bbox.bounds,t.bbox.crs,t.projection),u=w({left:0,right:0,top:0,bottom:0},n),c={minx:a[0]+u.left*r,miny:a[1]+u.bottom*r,maxx:a[2]-u.right*r,maxy:a[3]-u.top*r},s=A.getViewportGeometry(c,t.projection),l=4===s.extent.length?[x(s.extent)]:x(s.extent);return Object(f.head)(l.map((function(e){return i.x>=e[0]&&i.y>=e[1]&&i.x<=e[2]&&i.y<=e[3]})).filter((function(e){return e})))||!1},Pe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=A.getNormalizedLatLon(e),i=k([o.lng,o.lat],"EPSG:4326",t.projection),a=w({left:0,right:0,top:0,bottom:0},n),u={width:(t.size.width-a.right-a.left)*r,height:(t.size.height-a.top-a.bottom)*r},c={minx:i.x-u.width/2-a.left*r,miny:i.y-u.height/2-a.bottom*r,maxx:i.x+u.width/2+a.right*r,maxy:i.y+u.height/2+a.top*r},s=A.getViewportGeometry(c,t.projection);if(4===s.extent.length)return{pos:k([s.extent[0]+t.size.width/2*r,s.extent[1]+t.size.height/2*r],t.projection,"EPSG:4326"),zoom:t.zoom,crs:"EPSG:4326"};if(Math.abs(s.extent[0][2]-s.extent[0][0])>Math.abs(s.extent[1][2]-s.extent[1][0])){var l=k([s.extent[0][2]-t.size.width/2*r,s.extent[0][3]-t.size.height/2*r],t.projection,"EPSG:4326"),f=w(w({},l),{},{x:l.x+(o.lng>l.x?360:0)});return{pos:f,zoom:t.zoom,crs:"EPSG:4326"}}return{pos:k([s.extent[1][0]+t.size.width/2*r,s.extent[1][1]+t.size.height/2*r],t.projection,"EPSG:4326"),zoom:t.zoom,crs:"EPSG:4326"}},Me=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.01,i=Object(f.isArray)(n)?n:[n.x,n.y];if(Object(f.isNumber)(i[0])&&!isNaN(i[0])&&Object(f.isNumber)(i[1])&&!isNaN(i[1])&&Object(f.isNumber)(t.x)&&!isNaN(t.x)&&Object(f.isNumber)(t.y)&&!isNaN(t.y)){var a=Object(f.isFunction)(e)?e([t.x,t.y>=r?t.y-r:t.y+r]):null,u=a&&(Object(f.isArray)(a)?a:[a.x,a.y]);return Object(f.isArray)(u)?Math.sqrt((i[0]-u[0])*(i[0]-u[0])+(i[1]-u[1])*(i[1]-u[1])):o}return o},Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.roundingBehaviour,n=void 0===t?"round":t,r=e.value,o=void 0===r?0:r,i=e.maximumFractionDigits,a=void 0===i?0:i;return 0===a&&Math[n]?Math[n](o):o},Ae=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Object(f.isArray)(e)?{x:e[0],y:e[1]}:e,o=Object(f.isArray)(t)?{x:t[0],y:t[1]}:t,i={x:.5*(r.x+o.x),y:.5*(r.y+o.y)};return n?[i.x,i.y]:i},Ie=function(e){return Object(f.isObject)(e)&&Object(f.isNumber)(e.x)&&Object(f.isNumber)(e.y)?[e.x,e.y]:e},Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{lat:1,lng:1},t=arguments.length>1?arguments[1]:void 0;return Object(j.a)(q(t),O()([e.lng,e.lat]))},Ce=function(e,t){return Object(h.a)(e,t)||Object(j.a)(e,t)||Object(j.a)(t,e)},Fe=function(e){if(e){var t=e.split(":");if(!("urn"!==t[0]||"ogc"!==t[1]&&"x-ogc"!==t[1]||"def"!==t[2]||"crs"!==t[3]||!t[4]&&!t[6])){var n=t[4],r=t[6];return n?"".concat(n,":").concat(r):r}}return null},Ne=function(e){if(!e||"EPSG:"!==e.slice(0,5))return null;var t=e.slice(5),n=parseInt(t,10);if(n>=1024&&n<=32767)return e;var r=t.replace(" ","").replace(":","").toLowerCase(),o=V[r];return o>=1024&&o<=32767?"EPSG:".concat(o):null},_e=function(e,t){var n=[e[0],e[1]],r=[t[0],t[1]];if(n[1]>r[1]){var o=n;n=r,r=o}if(n[0]>r[0]){var i=n.slice(),a=r.slice();n=[a[0],i[1]],r=[i[0],a[1]]}return[n[0],n[1],r[0],r[1]]};A={setCrsLabels:H,getUnits:W,reproject:k,getProjectedBBox:Y,createBBox:K,reprojectGeoJson:Q,lineIntersectPolygon:X,normalizePoint:D,normalizeLng:J,reprojectBbox:Z,getCompatibleSRS:ee,getEquivalentSRS:te,getEPSGCode:ne,normalizeSRS:re,isAllowedSRS:oe,getAvailableCRS:ie,filterCRSList:ae,calculateAzimuth:ue,calculateDistance:ce,FORMULAS:R,extendExtent:se,getGeoJSONExtent:le,isValidExtent:fe,calculateCircleCoordinates:pe,transformLineToArcs:de,transformArcsToLine:me,coordsOLtoLeaflet:ge,mergeToPolyGeom:be,getViewportGeometry:ye,getProjUrl:F,getExtentFromViewport:Oe,fetchProjRemotely:ve,parseURN:he,determineCrs:_,parseString:je,getWMSBoundingBox:Se,isSRSAllowed:we,getNormalizedLatLon:Ee,isInsideVisibleArea:xe,centerToVisibleArea:Pe,calculateCircleRadiusFromPixel:Me,roundCoord:Te,midpoint:Ae,pointObjectToArray:Ie,getExtentFromNormalized:z,getPolygonFromExtent:q,isPointInsideExtent:Re,isBboxCompatible:Ce,extractCrsFromURN:Fe,crsCodeTable:V,makeNumericEPSG:Ne,makeBboxFromOWS:_e},t.default=A},"./MapStore2/web/client/utils/FeatureGridUtils.js":function(e,t,n){"use strict";n.d(t,"j",(function(){return f})),n.d(t,"k",(function(){return d})),n.d(t,"i",(function(){return m})),n.d(t,"p",(function(){return g})),n.d(t,"d",(function(){return O})),n.d(t,"h",(function(){return S})),n.d(t,"e",(function(){return w})),n.d(t,"c",(function(){return E})),n.d(t,"l",(function(){return x})),n.d(t,"g",(function(){return P})),n.d(t,"n",(function(){return M})),n.d(t,"o",(function(){return T})),n.d(t,"f",(function(){return A})),n.d(t,"b",(function(){return I})),n.d(t,"a",(function(){return R})),n.d(t,"m",(function(){return C})),n.d(t,"q",(function(){return F})),n.d(t,"r",(function(){return N}));var r=n("./MapStore2/node_modules/lodash/lodash.js"),o=n("./MapStore2/web/client/utils/ogc/WFS/base.js");function i(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=function(e,t){return"geometry"===e?function(e){return Object(r.get)(Object(o.findGeometryProperty)(e),"name")}(t):e},f=function(e,t,n){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return Object(r.findIndex)(e,(function(e){return e<=n&&n<e+t}))}(t,n,e);return-1===o?o:o*n+e-t[o]},p={id:"empty_row",get:function(){}},d=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3?arguments[3]:void 0;return t[f(e,n,r)]||c({},p)},m=function(e,t){return t[e]},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Object(r.isArray)(e)?e.reduce((function(e,t){return c(c({},e),{},s({},t.id,c(c({},e[t.id]),t.updated)))}),{}):{}},b=function(e,t){var n=Object.keys(t).filter((function(e){return"geometry"!==e})).reduce((function(e,n){return c(c({},e),{},s({},n,t[n]))}),{}),r=Object.keys(t).filter((function(e){return"geometry"===e})).reduce((function(e,n){return c(c({},e),{},s({},n,t[n]))}),{});return c(c(c({},e),r),{},{properties:c(c({},e&&e.properties||{}),n)})},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,o=Object(r.findIndex)(e,t);return o>=0?e.map((function(e,t){return t===o?n:e})):[].concat(i(e),[n])},O=function(e){return(Object(o.getFeatureTypeProperties)(e)||[]).filter((function(e){return!Object(o.isGeometryType)(e)}))},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return t.map((function(t){return n<=t&&t<=r?0:Math.abs(t-e)})).reduce((function(e,t,n,r){return t>r[e]&&n||e}),0)},h=function(e,t){return t.filter((function(t,n){return n!==e}))},j=function(e,t,n){return e.filter((function(e,r){return r<t||r>=t+n}))},S=function(e,t,n,r){for(var o,i,a=e;a<=t&&void 0===o;a++)-1===f(a*r,n,r)&&(o=a);for(var u=t;u>=e&&void 0===i;u--)-1===f(u*r,n,r)&&(i=u);return[o,i].filter((function(e){return void 0!==e}))},w=function(e,t,n){var r=e.startPage,o=e.endPage,i=S(r,o,t,n),a=i[1]-i[0]+1;return{startIndex:i[0]*n,maxFeatures:a*n}},E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.editable,o=void 0!==r&&r,i=n.sortable,a=void 0===i||i,u=n.resizable,c=void 0===u||u,s=n.filterable,l=void 0===s||s,f=n.defaultSize,p=void 0===f?200:f,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},m=d.getEditor,g=void 0===m?function(){}:m,b=d.getFilterRenderer,y=void 0===b?function(){}:b,v=d.getFormatter,h=void 0===v?function(){}:v;return O(e).filter((function(e){return!(t[e.name]&&t[e.name].hide)})).map((function(e){return{sortable:a,key:e.name,width:t[e.name]&&t[e.name].width||p||void 0,name:t[e.name]&&t[e.name].label||e.name,resizable:c,editable:o,filterable:l,editor:g(e),formatter:h(e),filterRenderer:y(e,e.name)}}))},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){},a=Object(o.findGeometryProperty)(n);return e.map((function(e){return c(c({},e),{},{events:e.events&&Object.keys(e.events).reduce((function(o,i){return c(c({},o),{},s({},i,(function(o,a){return e.events[i](t(a.rowIdx),a,n,r)})))}),{})},"geometry"===e.key&&a?{filterRenderer:i(c(c({},a),{},{localType:"geometry"}),a.name),filterable:!0,geometryPropName:a.name}:{})}))},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;return Object.keys(e).reduce((function(i,a){return c(c({},i),{},s({},a,(function(){for(var i=arguments.length,u=new Array(i),c=0;c<i;c++)u[c]=arguments[c];return e[a].apply(e,u.concat([t,n,r,o]))})))}),{})},M=function(e,t){return!!Object(o.getPropertyDesciptor)(e,t)},T=function(e,t,n){return Object(o.isValidValueForPropertyName)(e,l(t,n),n)},A=function(){return"EPSG:4326"},I=function(e,t,n){return function(r){return t.length>0?r._new:!e||e&&!!n[r.id]}},R=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return b(e,t[e.id]||{})},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.attribute,n=e.operator,o=e.value,i=e.type,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return c(c({},a),{},{groupFields:[{id:1,logic:"AND",index:0}],filterFields:"geometry"===i?a.filterFields:Object(r.isNil)(o)?(a.filterFields||[]).filter((function(e){return e.attribute!==t})):y(a.filterFields||[],{attribute:t},{attribute:t,rowId:Date.now(),type:i,groupId:1,operator:n,value:o}),spatialField:"geometry"===i?o:a.spatialField,spatialFieldOperator:Object(r.isArray)(o)?"OR":""})},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.startIndex,n=void 0===t?0:t,r=e.maxFeatures,o=void 0===r?1:r,i=e.totalFeatures,a=void 0===i?0:i,u=e.resultSize;return{page:Math.ceil(n/o),resultSize:u,size:o,total:a,maxPages:Math.ceil(a/o)-1}},N=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.endPage,o=t.startPage,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.pages,u=i.features,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=c.size,l=c.maxStoredPages,f=c.startIndex,p=S(o,n,a,s),d=p[1]-p[0]+1,m=Object(r.get)(e,"features",[]);m.length!==d*s&&(m=m.concat(Object(r.fill)(Array(d*s-m.length>0?d*s-m.length:m.length),!1)));var g=a,b=u,y=g.length+d-Math.max(l,n-o+1);if(y>0)for(var O=o*s,w=n*s,E=O+(w-O)/2,x=0;x<y;x++){var P=v(E,a,O,w),M=P*s;g=h(P,g),b=j(u,M,s)}for(var T=[],A=0;A<d;A++)T.push(f+s*A);return{pages:g.concat(T),features:b.concat(m)}}},"./MapStore2/web/client/utils/FeatureInfoUtils.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s}));var r={TEXT:"text/plain",HTML:"text/html",JSONP:"text/javascript",PROPERTIES:"application/json",JSON:"application/json",GML2:"application/vnd.ogc.gml",GML3:"application/vnd.ogc.gml/3.1.1",TEMPLATE:"application/json"},o={"text/plain":"TEXT","text/html":"HTML","text/javascript":"JSONP","application/json":"JSON","application/vnd.ogc.gml":"GML2","application/vnd.ogc.gml/3.1.1":"GML3"},i=/^[\s\S]*<gml:featureMembers[^>]*>([\s\S]*)<\/gml:featureMembers>[\s\S]*$/i,a=/^[\s\S]*<body[^>]*>([\s\S]*)<\/body>[\s\S]*$/i;function u(e){if("string"==typeof e.response&&0!==e.response.indexOf("<?xml")){var t=e.response.match(a);return e.layerMetadata&&e.layerMetadata.regex?t&&t[1]&&t[1].match(e.layerMetadata.regex):t&&t[1]&&t[1].trim().length>0}return!1}function c(e){if("string"==typeof e.response&&-1!==e.response.indexOf("<?xml")){var t=e.response.match(i);return t&&t[1]&&t[1].trim().length>0}return!1}var s={HTML:{getValidResponses:function(e,t){return t?e.filter(u):e},getNoValidResponses:function(e){return e.filter((function(e){return!u(e)}))}},TEXT:{getValidResponses:function(e,t){var n=e.filter((function(e){var t=e.response;return""!==t&&"string"==typeof t&&0!==t.indexOf("<?xml")}));return t&&(n=n.filter((function(e){var t=e.response;return"string"==typeof t&&0!==t.indexOf("no features were found")}))),n},getNoValidResponses:function(e){return e.filter((function(e){return""===e.response||"string"==typeof e.response&&0===e.response.indexOf("no features were found")||e.response&&"string"==typeof e.response&&0===e.response.indexOf("<?xml")}))}},JSON:{getValidResponses:function(e,t){var n=e.filter((function(e){var t=e.response;return t&&t.features}));return t&&(n=n.filter((function(e){var n=e.response;return t&&n.features.length}))),n},getNoValidResponses:function(e){return e.filter((function(e){return e.response&&e.response.features&&0===e.response.features.length}))}},PROPERTIES:{getValidResponses:function(e,t){var n=e.filter((function(e){var t=e.response;return t&&t.features}));return t&&(n=n.filter((function(e){var n=e.response;return t&&n.features.length}))),n},getNoValidResponses:function(e){return e.filter((function(e){return e.response&&e.response.features&&0===e.response.features.length}))}},GML3:{getValidResponses:function(e){return e.filter(c)},getNoValidResponses:function(e){return e.filter((function(e){return!c(e)}))}},TEMPLATE:{getValidResponses:function(e){return e.filter((function(e){return e.response&&e.response.features&&e.response.features.length}))},getNoValidResponses:function(e){return e.filter((function(e){return e.response&&e.response.features&&0===e.response.features.length}))}}}},"./MapStore2/web/client/utils/FilterUtils.js":function(e,t,n){"use strict";n.r(t),n.d(t,"cqlToOgc",(function(){return v})),n.d(t,"escapeCQLStrings",(function(){return h})),n.d(t,"checkOperatorValidity",(function(){return j})),n.d(t,"isCrossLayerFilterValid",(function(){return S})),n.d(t,"setupCrossLayerFilterDefaults",(function(){return E})),n.d(t,"ogcDateField",(function(){return M})),n.d(t,"ogcListField",(function(){return T})),n.d(t,"ogcStringField",(function(){return A})),n.d(t,"ogcBooleanField",(function(){return I})),n.d(t,"ogcNumberField",(function(){return R})),n.d(t,"processOGCSimpleFilterField",(function(){return C})),n.d(t,"toOGCFilterParts",(function(){return _})),n.d(t,"toOGCFilter",(function(){return L})),n.d(t,"processOGCFilterGroup",(function(){return D})),n.d(t,"processOGCFilterFields",(function(){return G})),n.d(t,"getGmlPointElement",(function(){return k})),n.d(t,"getGmlPolygonElement",(function(){return U})),n.d(t,"getGmlLineStringElement",(function(){return B})),n.d(t,"processOGCGeometry",(function(){return q})),n.d(t,"processOGCSpatialFilter",(function(){return z})),n.d(t,"getGetFeatureBase",(function(){return V})),n.d(t,"getCrossLayerCqlFilter",(function(){return H})),n.d(t,"processOGCCrossLayerFilter",(function(){return W})),n.d(t,"toCQLFilter",(function(){return Y})),n.d(t,"processCQLFilterGroup",(function(){return K})),n.d(t,"getCQLGeometryElement",(function(){return Q})),n.d(t,"processCQLSpatialFilter",(function(){return X})),n.d(t,"cqlDateField",(function(){return J})),n.d(t,"cqlStringField",(function(){return Z})),n.d(t,"cqlBooleanField",(function(){return $})),n.d(t,"cqlNumberField",(function(){return ee})),n.d(t,"findSubGroups",(function(){return te})),n.d(t,"cqlListField",(function(){return ne})),n.d(t,"processCQLFilterFields",(function(){return re})),n.d(t,"processCQLSimpleFilterField",(function(){return oe})),n.d(t,"getOgcAllPropertyValue",(function(){return ie})),n.d(t,"getSLD",(function(){return ae})),n.d(t,"getWFSFilterData",(function(){return ue})),n.d(t,"isLikeOrIlike",(function(){return ce})),n.d(t,"isFilterEmpty",(function(){return se})),n.d(t,"isFilterValid",(function(){return le})),n.d(t,"composeAttributeFilters",(function(){return pe})),n.d(t,"reprojectFilterInNativeCrs",(function(){return de})),n.d(t,"normalizeFilterCQL",(function(){return me})),n.d(t,"mergeFiltersToOGC",(function(){return ge}));var r=n("./MapStore2/web/client/utils/ogc/GML/index.js"),o=n("./MapStore2/web/client/utils/ogc/WFS/base.js"),i=n("./MapStore2/web/client/utils/ogc/Filter/operators.js"),a=n("./MapStore2/web/client/utils/ogc/Filter/CQL/parser.js"),u=n("./MapStore2/web/client/utils/ogc/Filter/fromObject.js"),c=n.n(u),s=n("./MapStore2/web/client/utils/ogc/Filter/FilterBuilder.js"),l=n.n(s),f=n("./MapStore2/web/client/utils/CoordinatesUtils.js"),p=n("./MapStore2/node_modules/lodash/lodash.js");function d(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O,v=function(e,t){var n=l()(t);return c()(n)(Object(a.read)(e))},h=function(e){return e&&e.replace?e.replace(/\'/g,"''"):e},j=function(e,t){return!Object(p.isNil)(e)&&"isNull"!==t||!Object(p.isUndefined)(e)&&"isNull"===t},S=function(e){return Object(p.get)(e,"operation",!1)&&Object(p.get)(e,"collectGeometries.queryCollection.typeName",!1)&&Object(p.get)(e,"collectGeometries.queryCollection.geometryName",!1)},w=function(e){return'"'+e+'"'},E=function(e){if(!e||!Object(p.get)(e,"collectGeometries.queryCollection"))return null;if(Object(p.get)(e,"collectGeometries.queryCollection")){var t=(Object(p.get)(e,"collectGeometries.queryCollection.filterFields")||[]).filter((function(e){return j(e.value,e.operator)})),n=Object(p.get)(e,"collectGeometries.queryCollection.groupFields")||[{id:1,index:0,logic:"OR"}];return b(b({},e),{},{collectGeometries:b(b({},e.collectGeometries),{},{queryCollection:b(b({},e.collectGeometries.queryCollection),{},{filterFields:t,groupFields:n})})})}return null},x=function(e){return e?"1.0"===e?"1.0.0":"1.1"===e?"1.1.0":e:"2.0"},P={ogc:{startTag:"<ogc:PropertyName>",endTag:"</ogc:PropertyName>"},fes:{startTag:"<fes:ValueReference>",endTag:"</fes:ValueReference>"}},M=function(e,t,n,r){var o;if("><"===t){if(n.startDate&&n.endDate){var a=n.startDate.toISOString?n.startDate.toISOString():n.startDate,u=n.endDate.toISOString?n.endDate.toISOString():n.endDate;o=i.ogcComparisonOperators[t](r,P[r].startTag+e+P[r].endTag+"<"+r+":LowerBoundary><"+r+":Literal>"+a+"</"+r+":Literal></"+r+":LowerBoundary><"+r+":UpperBoundary><"+r+":Literal>"+u+"</"+r+":Literal></"+r+":UpperBoundary>")}}else if(n.startDate){var c=n.startDate.toISOString?n.startDate.toISOString():n.startDate;o=i.ogcComparisonOperators[t](r,P[r].startTag+e+P[r].endTag+"<"+r+":Literal>"+c+"</"+r+":Literal>")}return o},T=function(e,t,n,r){var o;return Object(p.isNil)(n)||(o=i.ogcComparisonOperators[t](r,P[r].startTag+e+P[r].endTag+"<"+r+":Literal>"+n+"</"+r+":Literal>")),o},A=function(e,t,n,r){var o;return j(n,t)&&(o="isNull"===t?i.ogcComparisonOperators[t](r,P[r].startTag+e+P[r].endTag):"="===t?i.ogcComparisonOperators[t](r,P[r].startTag+e+P[r].endTag+"<"+r+":Literal>"+n+"</"+r+":Literal>"):i.ogcComparisonOperators[t](r,P[r].startTag+e+P[r].endTag+"<"+r+":Literal>*"+n+"*</"+r+":Literal>")),o},I=function(e,t,n,r){var o="";return j(n,t)&&"="===t&&""!==n&&(o=i.ogcComparisonOperators[t](r,P[r].startTag+e+P[r].endTag+"<"+r+":Literal>"+n+"</"+r+":Literal>")),o},R=function(e,t,n,r){var o;if("><"===t)Object(p.isNil)(n)||null===n.lowBound||void 0===n.lowBound||null!==n.upBound&&void 0!==n.upBound?Object(p.isNil)(n)||null===n.upBound||void 0===n.upBound||null!==n.lowBound&&void 0!==n.lowBound?Object(p.isNil)(n)||null===n.upBound||void 0===n.upBound||null===n.lowBound||void 0===n.lowBound||(o=i.ogcComparisonOperators[t](r,P[r].startTag+e+P[r].endTag+"<"+r+":LowerBoundary><"+r+":Literal>"+n.lowBound+"</"+r+":Literal></"+r+":LowerBoundary><"+r+":UpperBoundary><"+r+":Literal>"+n.upBound+"</"+r+":Literal></"+r+":UpperBoundary>")):o=i.ogcComparisonOperators["<="](r,P[r].startTag+e+P[r].endTag+"<"+r+":Literal>"+n.upBound+"</"+r+":Literal>"):o=i.ogcComparisonOperators[">="](r,P[r].startTag+e+P[r].endTag+"<"+r+":Literal>"+n.lowBound+"</"+r+":Literal>");else{var a=Object(p.isNil)(n)||null===n.lowBound||void 0===n.lowBound?n:n.lowBound;Object(p.isNil)(a)||(o=i.ogcComparisonOperators[t](r,P[r].startTag+e+P[r].endTag+"<"+r+":Literal>"+a+"</"+r+":Literal>"))}return o},C=function(e,t){var n="";switch(e.type){case"date":n=M(e.attribute,e.operator,e.values,t);break;case"number":n=R(e.attribute,e.operator,e.values,t);break;case"string":n=A(e.attribute,e.operator,e.values,t);break;case"boolean":n=I(e.attribute,e.operator,e.values,t);break;case"list":if(e.values&&e.values.length>0){n=e.values.reduce((function(n,r){var o=null===r||"null"===r?"isNull":"=";return n+A(e.attribute,o,r,t)}),""),n=i.ogcLogicalOperators.OR(t,n)}}return n},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.typeName,n=e.geometryName,r=e.cqlFilter,o=void 0===r?"INCLUDE":r;return"queryCollection('".concat(t,"', '").concat(n,"','").concat(h(o),"')")},N=function(e){return"collectGeometries(".concat(e,")")},_=function(e,t,n){var r,a,u,c,s=[];if(e.filterFields&&e.filterFields.length>0)""!==(r=e.groupFields&&e.groupFields.length>0?O.processOGCFilterGroup(e.groupFields[0],e,n):O.processOGCFilterFields(null,e,n))&&s.push(r);else if(e.simpleFilterFields&&e.simpleFilterFields.length>0){var l=i.ogcLogicalOperators.AND(n,e.simpleFilterFields.map((function(e){return C(e,n)})).join(""));s.push(l)}if(Object(p.isArray)(e.spatialField)?(c=Object(p.find)(e.spatialField,(function(e){return"BBOX"===e.operation})))||(u=e.spatialField):e.spatialField&&("BBOX"===e.spatialField.operation?c=e.spatialField:u=[e.spatialField]),c){if(Object(p.isArray)(c.geometry&&c.geometry.extent[0])){var f=c.geometry.extent.reduce((function(e,r){var o=Object.assign({},c);return c.geometry.extent=r,e+O.processOGCSpatialFilter(t,o,n)}),"");a=i.ogcLogicalOperators.OR(n,f)}s.push(a)}else if(u&&(u=u.filter((function(e){return e&&e.geometry&&e.operation}))).length>0){var d=u.map((function(e){return O.processOGCSpatialFilter(t,e,n)})).join("");a=u.length>1?i.ogcLogicalOperators[e.spatialFieldOperator||"AND"](n,d):d,s.push(a)}if(e.crossLayerFilter&&e.crossLayerFilter.operation){var m=b(b({},e.crossLayerFilter),{},{attribute:e.crossLayerFilter.attribute});Array.isArray()?m.forEach((function(e){return s.push(O.processOGCCrossLayerFilter(e,n))})):s.push(O.processOGCCrossLayerFilter(m,n))}return e.options&&e.options.cqlFilter&&s.push(v(e.options.cqlFilter,{filterNS:n,wfsVersion:t,gmlVersion:Object(o.wfsToGmlVersion)(t)})),s},L=function(e,t,n){var r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"EPSG:4326";try{r=t instanceof Object?t:JSON.parse(t)}catch(e){return e}var s=x(n||"2.0"),l="2.0"===s?"fes":"ogc",f=O.getGetFeatureBase(s,r.pagination,i,a,t&&t.options),p=O.toOGCFilterParts(r,s,l),d="";return p.length>0&&(d="<"+l+":Filter>",1===p.length?d+=p[0]:(d+="<"+l+":And>",p.forEach((function(e){d+=e})),d+="</"+l+":And>"),d+="</"+l+":Filter>"),f+="<wfs:Query ".concat("2.0"===s?"typeNames":"typeName",'="').concat(e,'" ').concat("native"!==c&&'srsName="'.concat(c,'"')||"",">"),f+=d,u&&(f+=u.map((function(e){return P[l].startTag+e+P[l].endTag})).join("")),o&&o.sortBy&&o.sortOrder&&(f+="<"+l+":SortBy><"+l+":SortProperty>"+P[l].startTag+o.sortBy+P[l].endTag+"<"+l+":SortOrder>"+o.sortOrder+"</"+l+":SortOrder></"+l+":SortProperty></"+l+":SortBy>"),f+="</wfs:Query></wfs:GetFeature>"},D=function(e,t,n){var r=O.processOGCFilterFields(e,t,n),o=O.findSubGroups(e,t.groupFields);return o.length>0&&o.forEach((function(e){r+=O.processOGCFilterGroup(e,t,n)})),""!==r?i.ogcLogicalOperators[e.logic](n,r):""},G=function(e,t,n){var r=e?t.filterFields.filter((function(t){return t.groupId===e.id&&j(t.value,t.operator)})):t.filterFields.filter((function(e){return j(e.value,e.operator)}));return r.length?r.reduce((function(e,t){var r;switch(t.type){case"date":case"date-time":case"time":r=M(t.attribute,t.operator,t.value,n);break;case"number":r=R(t.attribute,t.operator,t.value,n);break;case"string":r=A(t.attribute,t.operator,t.value,n);break;case"boolean":r=I(t.attribute,t.operator,t.value,n);break;case"list":r=T(t.attribute,t.operator,t.value,n)}return"isNull"===t.operator&&(r=A(t.attribute,t.operator,t.operator,n)),r&&e.push(r),e}),[]).join(""):""},k=function(e,t,n){return Object(r.pointElement)(e,t,Object(o.wfsToGmlVersion)(n))},U=function(e,t,n){return Object(r.polygonElement)(e,t,Object(o.wfsToGmlVersion)(n))},B=function(e,t,n){return Object(r.lineStringElement)(e,t,Object(o.wfsToGmlVersion)(n))},q=function(e,t){return Object(r.processOGCGeometry)(Object(o.wfsToGmlVersion)(e),t)},z=function(e,t,n){if(t.collectGeometries)return O.processOGCCrossLayerFilter(t);var a=P[n].startTag+t.attribute+P[n].endTag;switch(t.operation){case"INTERSECTS":case"DWITHIN":case"WITHIN":case"CONTAINS":a+=Object(r.processOGCGeometry)(Object(o.wfsToGmlVersion)(e),t.geometry),"DWITHIN"===t.operation&&(a+="<"+n+':Distance units="m">'+(t.geometry.distance||0)+"</"+n+":Distance>");break;case"BBOX":var u=t.geometry.extent[0]+" "+t.geometry.extent[1],c=t.geometry.extent[2]+" "+t.geometry.extent[3];a+='<gml:Envelope srsName="'+t.geometry.projection+'"><gml:lowerCorner>'+u+"</gml:lowerCorner><gml:upperCorner>"+c+"</gml:upperCorner></gml:Envelope>"}return i.ogcSpatialOperators[t.operation](n,a)},V=function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=x(e),a="<wfs:GetFeature ";switch(a+=r?'outputFormat="'+r+'" ':"",a+=t&&(t.startIndex||0===t.startIndex)?'startIndex="'+t.startIndex+'" ':"",a+=o.viewParams?' viewParams="'.concat(o.viewParams,'" '):"",i){case"1.0.0":a+=t&&t.maxFeatures?'maxFeatures="'+t.maxFeatures+'" ':"",a=n?a+' resultType="hits"':a,a+='service="WFS" version="'+i+'" outputFormat="GML2" xmlns:gml="http://www.opengis.net/gml" xmlns:wfs="http://www.opengis.net/wfs" xmlns:ogc="http://www.opengis.net/ogc" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" '+(o.noSchemaLocation?"":'xsi:schemaLocation="http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.0.0/WFS-basic.xsd"')+">";break;case"1.1.0":a+=t&&t.maxFeatures?'maxFeatures="'+t.maxFeatures+'" ':"",a=n?a+' resultType="hits"':a,a+='service="WFS" version="'+i+'" xmlns:gml="http://www.opengis.net/gml" xmlns:wfs="http://www.opengis.net/wfs" xmlns:ogc="http://www.opengis.net/ogc" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" '+(o.noSchemaLocation?"":'xsi:schemaLocation="http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd"')+">";break;default:a+=t&&t.maxFeatures?'count="'+t.maxFeatures+'" ':"",a=n&&!t?a+' resultType="hits"':a,a+='service="WFS" version="'+i+'" xmlns:wfs="http://www.opengis.net/wfs/2.0" xmlns:fes="http://www.opengis.net/fes/2.0" xmlns:gml="http://www.opengis.net/gml/3.2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" '+(o.noSchemaLocation?"":'xsi:schemaLocation="http://www.opengis.net/wfs/2.0 http://schemas.opengis.net/wfs/2.0/wfs.xsd http://www.opengis.net/gml/3.2 http://schemas.opengis.net/gml/3.2.1/gml.xsd"')+">"}return a},H=function(e){return Object(p.get)(e,"collectGeometries.queryCollection.cqlFilter")||(Object(p.get)(e,"collectGeometries.queryCollection.filterFields")||[]).length>0&&(Object(p.get)(e,"collectGeometries.queryCollection.groupFields")||[]).length>0&&O.toCQLFilter(e.collectGeometries.queryCollection)||"INCLUDE"},W=function(e,t){var n=t||"ogc",r=P[n].startTag+e.attribute+P[n].endTag;if(e.collectGeometries){var o=O.getCrossLayerCqlFilter(e);r+='<ogc:Function name="collectGeometries"><ogc:Function name="queryCollection">'+"<ogc:Literal>".concat(e.collectGeometries.queryCollection.typeName,"</ogc:Literal>")+"<ogc:Literal>".concat(e.collectGeometries.queryCollection.geometryName,"</ogc:Literal>")+"<ogc:Literal><![CDATA[".concat(o,"]]></ogc:Literal>")+"</ogc:Function></ogc:Function>"}return"DWITHIN"===e.operation&&(r+="<"+n+':Distance units="m">'+(e.distance||0)+"</"+n+":Distance>"),i.ogcSpatialOperators[e.operation](n,r)},Y=function(e){var t;try{t=e instanceof Object?e:JSON.parse(e)}catch(e){return e}var n,r,o=[];if(t.filterFields&&t.filterFields.length>0)(n=O.processCQLFilterGroup(t.groupFields[0],t))&&o.push(n);else if(t.simpleFilterFields&&t.simpleFilterFields.length>0){var i=t.simpleFilterFields.reduce((function(e,t){var n=e,r=O.processCQLSimpleFilterField(t);return!1!==r&&(n=e.length>0?e+" AND ("+r+")":"("+r+")"),n}),"");i=i.length>0?i:"INCLUDE",o.push(i)}if(t.spatialField&&(r=O.processCQLSpatialFilter(t))&&o.push(r),t.crossLayerFilter){var a=t.crossLayerFilter,u=a.operation,c=a.attribute,s=a.collectGeometries&&a.collectGeometries.queryCollection;if(u&&c&&s){var l=s.typeName,f=s.geometryName,p=O.getCrossLayerCqlFilter(a),d=N(F({typeName:l,geometryName:f,cqlFilter:p}));o.push("".concat(u,"(").concat(c,",").concat(d,")"))}}return o.length?"("+(o.length>1?o.join(") AND ("):o[0])+")":null},K=function(e,t){var n="NOR"===e.logic?b(b({},e),{},{logic:"AND",negateAll:!0}):e,r=O.processCQLFilterFields(n,t),o=O.findSubGroups(n,t.groupFields);if(o.length>0){var i=o.map((function(e){return(n.negateAll?"NOT (":"(")+O.processCQLFilterGroup(e,t)+")"})).join(" "+n.logic+" ");return r?[r,i].join(" "+n.logic+" "):i}return r},Q=function(e,t){var n=t+"(";switch(t){case"Point":n+=e.join(" ");break;case"MultiPoint":e.forEach((function(t,r){n+=t.join(" "),n+=r<e.length-1?", ":""}));break;case"Polygon":e.forEach((function(t,o){n+="(";var i=Object(r.closePolygon)(t).map((function(e){return e[0]+" "+e[1]}));n+=i.join(", "),n+=")",n+=o<e.length-1?", ":""}));break;case"MultiPolygon":e.forEach((function(t,o){n+="(",t.forEach((function(e,o){n+="(";var i=Object(r.closePolygon)(e).map((function(e){return e[0]+" "+e[1]}));n+=i.join(", "),n+=")",n+=o<t.length-1?", ":""})),n+=")",n+=o<e.length-1?", ":""}))}return n+=")"},X=function(e){var t=(Object(p.isArray)(e.spatialField)?e.spatialField:[e.spatialField]).filter((function(e){return e&&e.geometry&&e.operation})),n="";return t.forEach((function(r,o){if(n+=r.operation+'("'+r.attribute+'",',r.collectGeometries&&r.collectGeometries.queryCollection)n+=N(F(r.collectGeometries.queryCollection));else{var i=r.geometry.projection||"";i=2===i.split(":").length?"SRID="+i.split(":")[1]+";":"",n+=i+O.getCQLGeometryElement(r.geometry.coordinates,r.geometry.type)}n+=")",o<t.length-1&&(n+=" ".concat(e.spatialFieldOperator||"AND"," "))})),n},J=function(e,t,n){var r;"><"===t?n.startDate&&n.endDate&&(r="("+e+">='"+(n.startDate.toISOString?n.startDate.toISOString():n.startDate)+"' AND "+e+"<='"+(n.endDate.toISOString?n.endDate.toISOString():n.endDate)+"')"):n.startDate&&(r=e+t+"'"+(n.startDate.toISOString?n.startDate.toISOString():n.startDate)+"'");return r},Z=function(e,t,n){var r,o=w(e);if(!Object(p.isNil)(n))if("isNull"===t)r="isNull("+o+")=true";else if("="===t){r=o+t+("'"+h(n)+"'")}else if("ilike"===t){r="strToLowerCase("+o+") LIKE "+("'%"+h(n).toLowerCase()+"%'")}else{r=o+" LIKE "+("'%"+h(n)+"%'")}return r},$=function(e,t,n){var r="";Object(p.isNil)(n)||""===n||"="===t&&(r='"'+e+'"'+t+("'"+n+"'"));return r},ee=function(e,t,n){var r,o=w(e);if("><"===t)Object(p.isNil)(n)||null===n.lowBound||void 0===n.lowBound||null!==n.upBound&&void 0!==n.upBound?Object(p.isNil)(n)||null===n.upBound||void 0===n.upBound||null!==n.lowBound&&void 0!==n.lowBound?Object(p.isNil)(n)||null===n.upBound||void 0===n.upBound||null===n.lowBound||void 0===n.lowBound||(r="("+o+">='"+n.lowBound+"' AND "+o+"<='"+n.upBound+"')"):r="("+o+"<='"+n.upBound+"')":r="("+o+">='"+n.lowBound+"')";else{var i=Object(p.isNil)(n)||null===n.lowBound||void 0===n.lowBound?n:n.lowBound;Object(p.isNil)(i)||(r=o+" "+t+" '"+i+"'")}return r},te=function(e,t){return t.filter((function(t){return t.groupId===e.id}))},ne=function(e,t,n){return O.cqlStringField(e,t,n)},re=function(e,t){var n=t.filterFields.filter((function(t){return t.groupId===e.id})),r=[];return n&&(n.forEach((function(t){var n;switch(t.type){case"date":case"time":case"date-time":n=O.cqlDateField(t.attribute,t.operator,t.value);break;case"number":n=O.cqlNumberField(t.attribute,t.operator,t.value);break;case"string":n=O.cqlStringField(t.attribute,t.operator,t.value);break;case"boolean":n=O.cqlBooleanField(t.attribute,t.operator,t.value);break;case"list":n=O.cqlListField(t.attribute,t.operator,t.value)}n&&r.push(e.negateAll?"NOT ("+n+")":n)})),r=r.join(" "+e.logic+" ")),r},oe=function(e){var t=!1;switch(e.type){case"date":t=O.cqlDateField(e.attribute,e.operator,e.values);break;case"number":t=O.cqlNumberField(e.attribute,e.operator,e.values);break;case"string":t=O.cqlStringField(e.attribute,e.operator,e.values);break;case"boolean":t=O.cqlBooleanField(e.attribute,e.operator,e.values);break;case"list":if(e.values.length!==e.optionsValues.length){var n=!1,r=e.values.reduce((function(e,t){return null===t||"null"===t?n=!0:e.push("'"+t+"'"),e}),[]);t=r.length>0?e.attribute+" IN("+r.join(",")+")":t,n&&(t=t?t+" OR isNull("+e.attribute+")=true":"isNull("+e.attribute+")=true")}}return!!(t&&t.length>0)&&t},ie=function(e,t){return'<wfs:GetPropertyValue service="WFS" valueReference=\''.concat(t,'\'\n                version="2.0" xmlns:fes="http://www.opengis.net/fes/2.0"\n                xmlns:gml="http://www.opengis.net/gml/3.2"\n                xmlns:wfs="http://www.opengis.net/wfs/2.0"\n                xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n                xsi:schemaLocation="http://www.opengis.net/wfs/2.0 http://schemas.opengis.net/wfs/2.0/wfs.xsd http://www.opengis.net/gml/3.2 http://schemas.opengis.net/gml/3.2.1/gml.xsd">\n                    <wfs:Query typeNames="').concat(e,'"/>\n            </wfs:GetPropertyValue>')},ae=function(e,t,n){var r=O.toOGCFilter(e,t,n),o=r.search("<".concat(O.nsplaceholder,":Filter>"));if(-1!==o){var i=r.search("</wfs:Query>");r=r.substr(o,i-o)}else r="";return'<StyledLayerDescriptor version="1.0.0"\n            xsi:schemaLocation="http://www.opengis.net/sld StyledLayerDescriptor.xsd" xmlns:ogc="http://www.opengis.net/ogc" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:gml="http://www.opengis.net/gml" xmlns:gsml="urn:cgi:xmlns:CGI:GeoSciML:2.0" xmlns:sld="http://www.opengis.net/sld" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><NamedLayer><Name>'.concat(e,"</Name><UserStyle><FeatureTypeStyle><Rule >").concat(r,'<PointSymbolizer><Graphic><Mark><WellKnownName>circle</WellKnownName><Fill><CssParameter name="fill">#0000FF</CssParameter></Fill></Mark><Size>20</Size></Graphic></PointSymbolizer></Rule></FeatureTypeStyle></UserStyle></NamedLayer></StyledLayerDescriptor>')},ue=function(e,t){return"string"==typeof e?e:"OGC"===e.filterType?O.toOGCFilter(e.featureTypeName,b(b({},e),{},{options:t}),e.ogcVersion,e.sortOptions,e.hits):O.toCQLFilter(e)},ce=function(e){return"ilike"===e||"like"===e},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.filterFields,n=void 0===t?[]:t,r=e.spatialField,o=void 0===r?{}:r,i=e.crossLayerFilter,a=void 0===i?{}:i;return!(n.filter((function(e){return e.value||0===e.value})).length>0||o.geometry||a&&a.attribute&&a.operation)},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.filterFields&&e.filterFields.length>0||e.simpleFilterFields&&e.simpleFilterFields.length>0||e.spatialField&&e.spatialField.geometry&&e.spatialField.operation||Object(p.isArray)(e.spatialField)&&Object(p.findIndex)(e.spatialField,(function(e){return e.operation&&e.geometry}))>-1||e.crossLayerFilter&&e.crossLayerFilter.collectGeometries&&e.crossLayerFilter.collectGeometries.queryCollection&&e.crossLayerFilter.collectGeometries.queryCollection.geometryName&&e.crossLayerFilter.collectGeometries.queryCollection.typeName},fe=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(p.flatten)(t.filter((function(e){return!!e})))},pe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"AND",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"AND",r={id:(new Date).getTime(),index:0,logic:t};return e.reduce((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t.filterFields,i=void 0===o?[]:o,a=t.groupFields,u=void 0===a?[]:a,c=t.spatialField,s=arguments.length>2?arguments[2]:void 0;return{groupFields:e.groupFields.concat(i.length>0&&u.map((function(e){return{groupId:0===e.index&&r.id||"".concat(e.groupId,"_").concat(s),logic:e.logic,id:"".concat(e.id,"_").concat(s),index:1+e.index}}))||[]),filterFields:e.filterFields.concat(i.map((function(e){return b(b({},e),{},{groupId:"".concat(e.groupId,"_").concat(s)})}))),spatialField:fe(e.spatialField,c),spatialFieldOperator:n}}),{groupFields:[r],filterFields:[],spatialField:[]})},de=function(e,t){var n,r=e.spatialField.geometry.projection,o=e.spatialField.geometry.center,i=e.spatialField.geometry.radius,a=Object(f.reprojectGeoJson)(e.spatialField.geometry,e.spatialField.geometry.projection||"EPSG:3857",t).coordinates,u=o&&[(n=Object(f.reproject)(o,r,t)).x,n.y],c=i&&Object(f.reproject)([i,0],r,t).x;return b(b({},e),{},{spatialField:b(b({},e.spatialField),{},{geometry:b(b({},e.spatialField.geometry),{},{center:u,radius:c,coordinates:a,projection:t})})})},me=function(e,t){return e&&e.spatialField&&e.spatialField.geometry&&e.spatialField.geometry.coordinates&&e.spatialField.geometry.coordinates[0]&&(e.spatialField.projection||"EPSG:3857")!==t?t?O.reprojectFilterInNativeCrs(e,t):b(b({},e),{},{spatialField:void 0}):e},ge=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.nsPlaceholder,n=void 0===t?"ogc":t,r=e.ogcVersion,i=void 0===r?"2.0":r,u=e.addXmlnsToRoot,s=void 0!==u&&u,f=e.xmlnsToAdd,m=void 0===f?[]:f,g=l()({filterNS:n,wfsVersion:i,gmlVersion:Object(o.wfsToGmlVersion)(i)}),b=c()(g),y=arguments.length,O=new Array(y>1?y-1:0),v=1;v<y;v++)O[v-1]=arguments[v];var h=g.filter(g.and.apply(g,d(Object(p.flatten)(O.filter((function(e){return!!e&&(Object(p.isString)(e)||le(e)&&!e.disabled)})).map((function(e){return Object(p.isString)(e)?[b(Object(a.read)(e))]:_(e,i,n)}))))));if(s){var j=h.indexOf(">");return"".concat(h.slice(0,j)).concat(m.length>0?" ".concat(m.join(" ")):"").concat(h.slice(j))}return h};O={processOGCFilterGroup:D,processOGCFilterFields:G,processOGCCrossLayerFilter:W,getGetFeatureBase:V,toOGCFilterParts:_,findSubGroups:te,toCQLFilter:Y,getCrossLayerCqlFilter:H,processCQLFilterGroup:K,processCQLSimpleFilterField:oe,processCQLSpatialFilter:X,processCQLFilterFields:re,getCQLGeometryElement:Q,cqlStringField:Z,cqlDateField:J,cqlNumberField:ee,cqlBooleanField:$,cqlListField:ne,toOGCFilter:L,reprojectFilterInNativeCrs:de,processOGCSpatialFilter:z,mergeFiltersToOGC:ge}},"./MapStore2/web/client/utils/LayerLocalizationUtils.js":function(e,t,n){"use strict";n.r(t),n.d(t,"generateEnvString",(function(){return r}));var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.length?e.map((function(e){var t=e.name,n=e.value;return"".concat(t,":").concat(n)})).join(";"):""}},"./MapStore2/web/client/utils/MapInfoUtils.js":function(e,t,n){"use strict";n.d(t,"d",(function(){return P})),n.d(t,"e",(function(){return M})),n.d(t,"f",(function(){return T})),n.d(t,"h",(function(){return A})),n.d(t,"a",(function(){return I})),n.d(t,"g",(function(){return R})),n.d(t,"i",(function(){return C})),n.d(t,"k",(function(){return F})),n.d(t,"b",(function(){return N})),n.d(t,"j",(function(){return L})),n.d(t,"c",(function(){return D}));var r,o=n("./MapStore2/web/client/utils/FeatureInfoUtils.js"),i=n("./MapStore2/node_modules/turf-point-on-surface/index.js"),a=n.n(i),u=n("./MapStore2/node_modules/lodash/lodash.js"),c=n("./MapStore2/web/client/components/map/openlayers/img/marker-icon.png"),s=n.n(c),l=n("./MapStore2/web/client/components/data/identify/viewers/JSONViewer.jsx"),f=n("./MapStore2/web/client/components/data/identify/viewers/HTMLViewer.jsx"),p=n("./MapStore2/web/client/components/data/identify/viewers/TextViewer.jsx"),d=n("./MapStore2/web/client/utils/mapinfo/wfs.js"),m=n.n(d),g=n("./MapStore2/web/client/utils/mapinfo/wms.js"),b=n.n(g),y=n("./MapStore2/web/client/utils/mapinfo/wmts.js"),O=n.n(y),v=n("./MapStore2/web/client/utils/mapinfo/vector.js"),h=n.n(v);function j(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=function(){return Object.keys(o.a).filter((function(e){return-1!==r.AVAILABLE_FORMAT.indexOf(e)})).reduce((function(e,t){return e[t]=o.a[t],e}),{})},M=function(){return Object.keys(r.getAvailableInfoFormat()).map((function(e){return o.a[e]}))},T=function(){return o.a[r.AVAILABLE_FORMAT[0]]},A=function(e,t,n,o,i){return E({type:"vector",visibility:!0,name:e||"GetFeatureInfo",styleName:n||"marker",label:i,features:r.clickedPointToGeoJson(t)},o)},I=function(e,t){if(r.services[e.type]){var n=r.getDefaultInfoFormatValueFromLayer(e,t),o=r.getLayerFeatureInfoViewer(e),i=r.getLayerFeatureInfo(e);return r.services[e.type].buildRequest(e,t,n,o,i)}return{}},R=function(e,t,n){return r.services[e.type]&&r.services[e.type].getIdentifyFlow?r.services[e.type].getIdentifyFlow(e,t,n):null},C=function(e){var t={getValidResponses:function(e){return e},getNoValidResponses:function(){return[]}};return{getValidResponses:function(n){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n.reduce((function(n,i){if(i){var a;i.queryParams&&i.queryParams.hasOwnProperty("info_format")&&(a=i.queryParams.info_format),i.queryParams&&i.queryParams.hasOwnProperty("outputFormat")&&(a=i.queryParams.outputFormat);var u=(o.c[i.format||o.b[a]||o.b[e]]||t).getValidResponses([i],r);return[].concat(j(n),j(u))}return j(n)}),[])},getNoValidResponses:function(n){return n.reduce((function(n,r){if(r){var i;r.queryParams&&r.queryParams.hasOwnProperty("info_format")&&(i=r.queryParams.info_format),r.queryParams&&r.queryParams.hasOwnProperty("outputFormat")&&(i=r.queryParams.outputFormat);var a=(o.c[r.format||o.b[i]||o.b[e]]||t).getNoValidResponses([r]);return[].concat(j(n),j(a))}return j(n)}),[])}}},F=function(){var e;return x(e={},o.a.PROPERTIES,l.a),x(e,o.a.JSON,l.a),x(e,o.a.HTML,f.a),x(e,o.a.TEXT,p.a),e},N=function(e){var t;return e.visibility&&r.services[e.type]&&(void 0===e.queryable||e.queryable)&&"background"!==e.group&&"HIDDEN"!==(null==e||null===(t=e.featureInfo)||void 0===t?void 0:t.format)},_={wfs:m.a,wms:b.a,wmts:O.a,vector:h.a},L=function(e){return r.VIEWERS[e]?r.VIEWERS[e]:null},D=function(e,t,n){var r=t||[],o=n||[];return Object.keys(e).reduce((function(t,n){if("params"!==n&&-1!==r.indexOf(n))t[n]=e[n];else if("params"===n&&o.length>0){var i=e[n];Object.keys(i).forEach((function(e){-1===Object(u.findIndex)(o,(function(t){return t===e}))&&(t[e]=i[e])}),{})}return t}),{})};r={AVAILABLE_FORMAT:["TEXT","PROPERTIES","HTML","TEMPLATE"],getAvailableInfoFormatLabels:function(){return Object.keys(r.getAvailableInfoFormat())},getAvailableInfoFormat:P,getDefaultInfoFormatValue:T,clickedPointToGeoJson:function(e){if(!e)return[];if("Feature"===e.type){var t=[a()(e)];return e&&e.geometry&&"Point"!==e.geometry.type&&t.push(e),t}return void 0===e.lng||void 0===e.lat?e.features||[]:[].concat(j(e.features||[]),[{id:"get-feature-info-point",type:"Feature",geometry:{type:"Point",coordinates:[parseFloat(e.lng),parseFloat(e.lat)]},style:[{iconUrl:s.a,iconAnchor:[12,41],iconSize:[25,41]}]}])},services:_,getDefaultInfoFormatValueFromLayer:function(e,t){return e.featureInfo&&e.featureInfo.format&&o.a[e.featureInfo.format]||t.format||r.getDefaultInfoFormatValue()},getLayerFeatureInfoViewer:function(e){return e.featureInfo&&e.featureInfo.viewer?e.featureInfo.viewer:{}},getLayerFeatureInfo:function(e){return e&&e.featureInfo&&E({},e.featureInfo)||{}},VIEWERS:{}}},"./MapStore2/web/client/utils/MapUtils.js":function(e,t,n){"use strict";n.r(t),n.d(t,"DEFAULT_SCREEN_DPI",(function(){return O})),n.d(t,"METERS_PER_UNIT",(function(){return v})),n.d(t,"GOOGLE_MERCATOR",(function(){return h})),n.d(t,"EXTENT_TO_ZOOM_HOOK",(function(){return j})),n.d(t,"ZOOM_TO_EXTENT_HOOK",(function(){return S})),n.d(t,"RESOLUTIONS_HOOK",(function(){return w})),n.d(t,"RESOLUTION_HOOK",(function(){return E})),n.d(t,"COMPUTE_BBOX_HOOK",(function(){return x})),n.d(t,"GET_PIXEL_FROM_COORDINATES_HOOK",(function(){return P})),n.d(t,"GET_COORDINATES_FROM_PIXEL_HOOK",(function(){return M})),n.d(t,"registerHook",(function(){return A})),n.d(t,"getHook",(function(){return I})),n.d(t,"executeHook",(function(){return R})),n.d(t,"clearHooks",(function(){return C})),n.d(t,"dpi2dpm",(function(){return F})),n.d(t,"dpi2dpu",(function(){return N})),n.d(t,"getSphericalMercatorScale",(function(){return _})),n.d(t,"getGoogleMercatorScale",(function(){return L})),n.d(t,"getSphericalMercatorScales",(function(){return D})),n.d(t,"getGoogleMercatorScales",(function(){return G})),n.d(t,"getResolutionsForScales",(function(){return k})),n.d(t,"getGoogleMercatorResolutions",(function(){return U})),n.d(t,"getResolutions",(function(){return B})),n.d(t,"getScales",(function(){return q})),n.d(t,"defaultGetZoomForExtent",(function(){return z})),n.d(t,"getZoomForExtent",(function(){return V})),n.d(t,"getCurrentResolution",(function(){return H})),n.d(t,"getCenterForExtent",(function(){return W})),n.d(t,"getBbox",(function(){return Y})),n.d(t,"isNearlyEqual",(function(){return K})),n.d(t,"mapUpdated",(function(){return Q})),n.d(t,"transformExtent",(function(){return X})),n.d(t,"groupSaveFormatted",(function(){return J})),n.d(t,"saveMapConfiguration",(function(){return Z})),n.d(t,"generateNewUUIDs",(function(){return $})),n.d(t,"mergeMapConfigs",(function(){return ee})),n.d(t,"addRootParentGroup",(function(){return te})),n.d(t,"isSimpleGeomType",(function(){return ne})),n.d(t,"getSimpleGeomType",(function(){return re})),n.d(t,"getIdFromUri",(function(){return oe})),n.d(t,"parseLayoutValue",(function(){return ie})),n.d(t,"prepareMapObjectToCompare",(function(){return ae})),n.d(t,"updateObjectFieldKey",(function(){return ue})),n.d(t,"compareMapChanges",(function(){return ce})),n.d(t,"createRegisterHooks",(function(){return se}));var r=n("./MapStore2/node_modules/lodash/lodash.js"),o=n("./MapStore2/node_modules/uuid/v1.js"),i=n.n(o),a=n("./MapStore2/web/client/utils/CoordinatesUtils.js"),u=n("./MapStore2/web/client/utils/ImmutableUtils.js"),c=n("./MapStore2/web/client/utils/LayersUtils.js"),s=n("./MapStore2/node_modules/object-assign/index.js"),l=n.n(s);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function d(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=96,v={m:1,degrees:111194.87428468118,ft:.3048,"us-ft":1200/3937},h={RADIUS:6378137,TILE_WIDTH:256,ZOOM_FACTOR:2},j="EXTENT_TO_ZOOM_HOOK",S="ZOOM_TO_EXTENT_HOOK",w="RESOLUTIONS_HOOK",E="RESOLUTION_HOOK",x="COMPUTE_BBOX_HOOK",P="GET_PIXEL_FROM_COORDINATES_HOOK",M="GET_COORDINATES_FROM_PIXEL_HOOK",T={};function A(e,t){T[e]=t}function I(e){return T[e]}function R(e,t,n){var r=I(e);return r?t(r):n?n():null}function C(){T={}}function F(e){return e*(100/2.54)}function N(e,t){var n=Object(a.getUnits)(t||"EPSG:3857");return v[n]*F(e||O)}function _(e,t,n,r,o){return 2*Math.PI*e/(t*Math.pow(n,r)/F(o||O))}function L(e,t){return _(h.RADIUS,h.TILE_WIDTH,h.ZOOM_FACTOR,e,t)}function D(e,t,n,r,o,i){for(var a=[],u=r;u<=o;u++)a.push(_(e,t,n,u,i));return a}function G(e,t,n){return D(h.RADIUS,h.TILE_WIDTH,h.ZOOM_FACTOR,e,t,n)}function k(e,t,n){var r=N(n,t);return e.map((function(e){return e/r}))}function U(e,t,n){return k(G(e,t,n),"EPSG:3857",n)}function B(){return I("RESOLUTIONS_HOOK")?I("RESOLUTIONS_HOOK")():U(0,21,O)}function q(e,t){var n=N(t,e);return B().map((function(e){return e*n}))}function z(e,t,n,r,o,i){var a=e[2]-e[0],u=e[3]-e[1],c=Math.abs(a/t.width),s=Math.abs(u/t.height),l=Math.max(c,s),f=(i||k(G(n,r,o||O),"EPSG:3857",o)).reduce((function(e,t,n){var r=Math.abs(t-l);return r>e.diff?e:{diff:r,zoom:n}}),{diff:Number.POSITIVE_INFINITY,zoom:0}).zoom;return Math.max(0,Math.min(f,r))}function V(e,t,n,r,o){return I("EXTENT_TO_ZOOM_HOOK")?I("EXTENT_TO_ZOOM_HOOK")(e,t,n,r,o):z(e,t,n,r,o,I("RESOLUTIONS_HOOK")?I("RESOLUTIONS_HOOK")(e,t,n,r,o,F(o||O)):null)}function H(e,t,n,r){return I("RESOLUTION_HOOK")?I("RESOLUTION_HOOK")(e,t,n,r):U(t,n,r)[e]}function W(e,t){var n=(e[2]-e[0])/2,r=(e[3]-e[1])/2;return{x:e[0]+n,y:e[1]+r,crs:t}}function Y(e,t){return R("COMPUTE_BBOX_HOOK",(function(n){return n(e,t)}))}var K=function(e,t){return void 0!==e&&void 0!==t&&e.toFixed(12)-t.toFixed(12)==0};function Q(e,t){var n,o,i,a;return!(!e||Object(r.isEmpty)(e)||!t||Object(r.isEmpty)(t))&&(!(K(null==t||null===(n=t.center)||void 0===n?void 0:n.x,null==e||null===(o=e.center)||void 0===o?void 0:o.x)&&K(null==t||null===(i=t.center)||void 0===i?void 0:i.y,null==e||null===(a=e.center)||void 0===a?void 0:a.y))||(null==t?void 0:t.zoom)!==(null==e?void 0:e.zoom))}function X(e,t,n,r){var o=Object(a.getUnits)(e);return"ft"===o?{width:n/v.ft,height:r/v.ft}:"us-ft"===o?{width:n/v["us-ft"],height:r/v["us-ft"]}:"degrees"===o?{width:n/(111132.92-559.82*Math.cos(2*t.y)+1.175*Math.cos(4*t.y)),height:r/(111412.84*Math.cos(t.y)-93.5*Math.cos(3*t.y))}:{width:n,height:r}}var J=function(e){return{id:e.id,title:e.title,description:e.description,tooltipOptions:e.tooltipOptions,tooltipPlacement:e.tooltipPlacement,expanded:e.expanded}};function Z(e,t,n,o,i,a,s){var f={center:e.center,maxExtent:e.maxExtent,projection:e.projection,units:e.units,mapInfoControl:e.mapInfoControl,zoom:e.zoom,mapOptions:e.mapOptions||{}},p=t.map((function(e){return Object(c.saveLayer)(e)})),d=n.reduce((function(e,t){return e.concat(Object(c.getGroupNodes)(t))}),[].concat(n.map((function(e){return e.id})))).map((function(e){var t=Object(c.getNode)(n,e);return t&&t.nodes?J(t):null})).filter((function(e){return e})),m=o.filter((function(e){return!!e.thumbnail})),g=Object(c.extractSourcesFromLayers)(p),y=p.map((function(e){return l()({},e,{tileMatrixSet:e.tileMatrixSet&&e.tileMatrixSet.length>0,matrixIds:e.matrixIds&&Object.keys(e.matrixIds)})})),O=Object(r.findIndex)(y,(function(e){return"annotations"===e.id}));if(-1!==O){var v=y[O].features.map((function(e){return"FeatureCollection"===e.type?b(b({},e),{},{features:e.features.map((function(e){return e.properties.geometryGeodesic?Object(u.e)("properties.geometryGeodesic",null,e):e}))}):e.properties.geometryGeodesic?Object(u.e)("properties.geometryGeodesic",null,e):{}}));y[O]=Object(u.e)("features",v,y[O])}return b({version:2,map:l()({},f,{layers:y,groups:d,backgrounds:m,text_search_config:i,bookmark_search_config:a},!Object(r.isEmpty)(g)&&{sources:g}||{})},s)}var $=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(r.cloneDeep)(e),n=b(b({},Object(r.get)(e,"map.layers",[]).reduce((function(e,t){return b(b({},e),{},y({},t.id,"annotations"===t.id?t.id:i()()))}),{})),Object(r.get)(e,"widgetsConfig.widgets",[]).reduce((function(e,t){return b(b({},e),{},y({},t.id,i()()))}),{}));return Object(u.e)("map.backgrounds",Object(r.get)(e,"map.backgrounds",[]).map((function(e){return b(b({},e),{},{id:n[e.id]})})),Object(u.e)("widgetsConfig",{collapsed:Object(r.mapValues)(Object(r.mapKeys)(Object(r.get)(e,"widgetsConfig.collapsed",{}),(function(e,t){return n[t]})),(function(e){return b(b({},e),{},{layouts:Object(r.mapValues)(e.layouts,(function(e){return b(b({},e),{},{i:n[e.i]})}))})})),layouts:Object(r.mapValues)(Object(r.get)(e,"widgetsConfig.layouts",{}),(function(e){return e.map((function(e){return b(b({},e),{},{i:n[e.i]})}))})),widgets:Object(r.get)(e,"widgetsConfig.widgets",[]).map((function(e){return b(b({},e),{},{id:n[e.id],layer:b(b({},Object(r.get)(e,"layer",{})),{},{id:n[Object(r.get)(e,"layer.id")]})})}))},Object(u.e)("map.layers",Object(r.get)(e,"map.layers",[]).map((function(e){return b(b({},e),{},{id:n[e.id]})})),t)))},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){return Object(r.pick)(e,Object(r.keys)(e).filter((function(t){return void 0!==e[t]})))}))},o=$(t),i=[].concat(d(Object(r.get)(e,"map.backgrounds",[])),d(Object(r.get)(o,"map.backgrounds",[]))),a=n(Object(r.get)(e,"map.layers",[])),u=n(Object(r.get)(o,"map.layers",[])),c=Object(r.find)(a,(function(e){return"annotations"===e.id})),s=Object(r.find)(u,(function(e){return"annotations"===e.id})),l=[].concat(d(u.filter((function(e){return"annotations"!==e.id}))),d(a.filter((function(e){return"annotations"!==e.id}))),d(c||s?[b(b(b({},c||{}),s||{}),{},{features:[].concat(d(Object(r.get)(c,"features",[])),d(Object(r.get)(s,"features",[])))})]:[])),f=l.filter((function(e){return"background"===e.group})),p=Object(r.findIndex)(f,(function(e){return e.visibility})),m=Object(r.get)(e,"map.sources",{}),g=Object(r.get)(o,"map.sources",{}),O=b(b({},m),g),v=Object(r.get)(e,"widgetsConfig",{}),h=Object(r.get)(o,"widgetsConfig",{});return b(b(b({},o),e),{},{catalogServices:b(b({},Object(r.get)(e,"catalogServices",{})),{},{services:b(b({},Object(r.get)(e,"catalogServices.services",{})),Object(r.get)(o,"catalogServices.services",{}))}),map:b(b(b({},o.map),e.map),{},{backgrounds:i,groups:Object(r.uniqWith)([].concat(d(Object(r.get)(e,"map.groups",[])),d(Object(r.get)(o,"map.groups",[]))),(function(e,t){return e.id===t.id})),layers:[].concat(d(f.slice(0,p+1)),d(f.slice(p+1).map((function(e){return b(b({},e),{},{visibility:!1})}))),d(l.filter((function(e){return"background"!==e.group})))),sources:Object(r.isEmpty)(O)?void 0:O}),widgetsConfig:{collapsed:b(b({},v.collapsed),h.collapsed),layouts:Object(r.uniq)([].concat(d(Object(r.keys)(v.layouts)),d(Object(r.keys)(h.layouts)))).reduce((function(e,t){return b(b({},e),{},y({},t,[].concat(d(Object(r.get)(v,"layouts.".concat(t),[])),d(Object(r.get)(h,"layouts.".concat(t),[])))))}),{}),widgets:[].concat(d(Object(r.get)(v,"widgets",[])),d(Object(r.get)(h,"widgets",[])))},timelineData:b(b({},Object(r.get)(e,"timelineData",{})),Object(r.get)(o,"timelineData",{})),dimensionData:b(b({},Object(r.get)(e,"dimensionData",{})),Object(r.get)(o,"dimensionData",{}))})},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"RootGroup",n=Object(r.get)(e,"map.groups",[]),o=n.filter((function(e){return"Default"!==e.id})),a=Object(r.find)(n,(function(e){return"Default"===e.id})),u=a&&{id:i()(),title:t,expanded:a.expanded},c=a?[].concat(d(o.map((function(e){var t=e.id,n=p(e,["id"]);return b({id:"".concat(u.id,".").concat(t)},n)}))),[u]):o;return b(b({},e),{},{map:b(b({},e.map),{},{groups:c,layers:Object(r.get)(e,"map.layers",[]).map((function(e){var t,n=e.group;return b(b({},p(e,["group"])),{},{group:!a||"background"===n||"Default"!==n&&n?a&&(null===(t=Object(r.find)(c,(function(e){var t=e.id;return t.slice(t.indexOf(".")+1)===n})))||void 0===t?void 0:t.id)||n:u.id})}))})})};function ne(e){switch(e){case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":case"Text":return!1;case"Point":case"Circle":case"LineString":case"Polygon":default:return!0}}function re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Point";switch(e){case"Point":case"LineString":case"Polygon":case"Circle":return e;case"MultiPoint":case"Marker":return"Point";case"MultiLineString":return"LineString";case"MultiPolygon":return"Polygon";case"GeometryCollection":return"GeometryCollection";case"Text":return"Point";default:return e}}var oe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:/data\/(\d+)/,n=decodeURIComponent(e),r=t.exec(n);return r&&r.length&&r.length>1?r[1]:null},ie=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(r.isString)(e)&&-1!==e.indexOf("%")?parseFloat(Object(r.trim)(e))*t/100:Object(r.isNumber)(e)?e:0},ae=function e(t){var n=["apiKey","time","args","fixed"],r=function(e){return n.reduce((function(t,n){return t||e===n}),!1)};Object.keys(t).forEach((function(n){var o=t[n],i=f(o);"object"!==i||null===o||r(n)?"undefined"!==i&&o&&!r(n)||delete t[n]:(e(o),Object.keys(o).length||delete t[n])}))},ue=function(e,t,n){e[t]&&(Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(e,t)),delete e[t])},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=["map.layers","map.backgrounds","map.text_search_config","map.bookmark_search_config","map.text_serch_config","map.zoom","widgetsConfig"],o=Object(r.pick)(Object(r.cloneDeep)(e),n),i=Object(r.pick)(Object(r.cloneDeep)(t),n);return ue(o.map,"text_serch_config","text_search_config"),ue(i.map,"text_serch_config","text_search_config"),ae(o),ae(i),Object(r.isEqual)(o,i)},se=function(){var e={};return{registerHook:function(t,n){e[t]=n},getHook:function(t){return e[t]},executeHook:function(t,n,r){var o=e[t];return o?n(o):r?r():null}}};t.default={createRegisterHooks:se,EXTENT_TO_ZOOM_HOOK:j,RESOLUTIONS_HOOK:w,RESOLUTION_HOOK:E,COMPUTE_BBOX_HOOK:x,GET_PIXEL_FROM_COORDINATES_HOOK:P,GET_COORDINATES_FROM_PIXEL_HOOK:M,DEFAULT_SCREEN_DPI:O,ZOOM_TO_EXTENT_HOOK:S,registerHook:A,getHook:I,dpi2dpm:F,getSphericalMercatorScales:D,getSphericalMercatorScale:_,getGoogleMercatorScales:G,getGoogleMercatorResolutions:U,getGoogleMercatorScale:L,getResolutionsForScales:k,getZoomForExtent:V,defaultGetZoomForExtent:z,getCenterForExtent:W,getResolutions:B,getScales:q,getBbox:Y,mapUpdated:Q,getCurrentResolution:H,transformExtent:X,saveMapConfiguration:Z,generateNewUUIDs:$,mergeMapConfigs:ee,addRootParentGroup:te,isSimpleGeomType:ne,getSimpleGeomType:re,getIdFromUri:oe,parseLayoutValue:ie,prepareMapObjectToCompare:ae,updateObjectFieldKey:ue,compareMapChanges:ce,clearHooks:C}},"./MapStore2/web/client/utils/SearchUtils.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return s}));var r=n("./MapStore2/web/client/product/assets/img/marker-icon-red.png"),o=n.n(r),i=n("./MapStore2/web/client/product/assets/img/marker-shadow.png"),a=n.n(i),u={iconUrl:o.a,shadowUrl:a.a,iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]},c=function(e){return"single_layer"===(null==e?void 0:e.launchInfoPanel)&&!!(null==e?void 0:e.openFeatureInfoButtonEnabled)},s=function(e,t){return!!e&&((null==t?void 0:t.forceSearchLayerVisibility)||!!e.visibility)}},"./MapStore2/web/client/utils/StringUtils.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r=function(e){return new RegExp("<(.|\\n)*?>","g").test(e)},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/;return t.test(e)}},"./MapStore2/web/client/utils/TOCUtils.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return l}));var r=n("./MapStore2/node_modules/lodash/lodash.js"),o=n("./MapStore2/web/client/utils/LayersUtils.js"),i=n("./MapStore2/web/client/utils/LocaleUtils.js"),a=function(e,t){var n=RegExp("^/|/$|/{2,}");if(0===t.length||e.map((function(e){return e.label})).indexOf(t)>-1||n.test(t))return null;var r=t.replace(/\./g,"${dot}").replace(/\//g,".");return{label:t,value:r}},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"title",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:" - ";switch(e){case"title":var i=Object(r.isObject)(t.title)?t.title[n]||t.title.default:t.title,a=i||t.name||"";return a;case"description":var u=t.description||"";return u;case"both":var c=Object(r.isObject)(t.title)?t.title[n]||t.title.default:t.title,s=c||t.nam||"",l=t.description||"";return"".concat(s).concat(o&&l?o:"").concat(l);default:return t[e]}},c=function(e){var t=e.node,n=e.currentLocale,r=e.tooltipOptions,o=void 0===r?{separator:" - ",maxLength:807}:r,i=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" - ";return u(e.tooltipOptions,e,t,n)}(t,n,o.separator)||"";return(i=i&&i.substring(0,o.maxLength)).length===o.maxLength&&(i+="..."),{title:u("title",t,n,o.separator),tooltipText:i}},s=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t.filter((function(e){return e.nodes})).reduce((function(t,o){return t.push(r?o:{label:o.id.replace(/\./g,"/").replace(/\${dot}/g,"."),value:o.id}),o.nodes.length>0?t.concat(e(o.nodes,n+1,r)):t}),[])},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.replace(/[^\.\/]+/g,(function(e){var n=Object(r.get)(Object(o.getGroupByName)(e,t),"title");return Object(r.isObject)(n)?n[Object(i.d)()]||n.default:t&&n||e}));return n=(n=n.replace(/\./g,"/")).replace(/\${dot}/g,".")}},"./MapStore2/web/client/utils/TemplateUtils.js":function(e,t,n){"use strict";n.r(t),n.d(t,"validateStringAttribute",(function(){return i})),n.d(t,"getCleanTemplate",(function(){return a})),n.d(t,"parseCustomTemplate",(function(){return u})),n.d(t,"generateTemplateString",(function(){return c})),n.d(t,"parseTemplate",(function(){return s}));var r,o=n("./MapStore2/node_modules/lodash/lodash.js"),i=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=Object(o.isString)(t)&&Object(o.trim)(t.substring(n,t.length-r))||"";return Object(o.has)(e,i)},a=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(){return""},c=Object(o.isString)(e)&&e.match(n),s=c&&c.map((function(e){var n=e.replace(/(<([^>]+)>)/gi,"");return{previous:e,next:i(t,n,r,a)?n:u(e)}}))||null;return s&&s.reduce((function(e,t){return e.replace(t.previous,t.next)}),e)||e||""},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return"".concat(Object(o.trim)(e.substring(2,e.length-1))," Not Available")};return Object(o.template)(a(e||"",t,/\$\{.*?\}/g,2,1,n))(t)},c=(r={},function(e,t){var n=r[e];return n&&!t||(n=function(n){var r=e.replace(/\$\{([\s]*[^;\s\{]+[\s]*)\}/g,(function(e,r){return(t||function(e){return e})(r.trim().split(".").reduce((function(e,t){return e&&e[t]}),n))}));return Object(o.isString)(r)&&r||""},t||(r[e]=n)),n}),s=function(e,t){n.e(31).then(function(){var r=n("./MapStore2/node_modules/babel-standalone/babel.js"),o="function"==typeof e?e():e;try{var i=r.transform(o,{presets:["es2015","react","stage-0"]}).code;t(i)}catch(e){t(null,e)}}.bind(null,n)).catch(n.oe)},l={generateTemplateString:c,parseTemplate:s,validateStringAttribute:i,getCleanTemplate:a,parseCustomTemplate:u};t.default=l},"./MapStore2/web/client/utils/VendorParamsUtils.js":function(e,t,n){"use strict";n.r(t),n.d(t,"optionsToVendorParams",(function(){return u}));var r=n("./MapStore2/web/client/utils/FilterUtils.js");n("./MapStore2/web/client/utils/ConfigUtils.js");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=t.layerFilter,a=t.filterObj,u=[Object(r.isFilterValid)(o)&&!o.disabled&&Object(r.toCQLFilter)(o),Object(r.isFilterValid)(a)&&Object(r.toCQLFilter)(a),t&&t.params&&t.params.CQL_FILTER,n];return(e=(u=u.filter((function(e){return!!e}))).length>1?u.map((function(e){return"(".concat(e,")")})).join(" AND "):u.pop())?i(i({},t.params),{},{CQL_FILTER:e}):t.params}},"./MapStore2/web/client/utils/WFSLayerUtils.js":function(e,t,n){"use strict";n.r(t),n.d(t,"needsReload",(function(){return l})),n.d(t,"toDescribeURL",(function(){return f})),n.d(t,"extractGeometryType",(function(){return p})),n.d(t,"extractGeometryAttributeName",(function(){return d}));var r=n("./MapStore2/web/client/utils/VendorParamsUtils.js"),o=n("./node_modules/url/url.js"),i=n.n(o),a=n("./MapStore2/node_modules/lodash/lodash.js");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=function(e,t){var n=c(c({},Object(r.optionsToVendorParams)(e)||{}),{},{_v_:e._v_}),o=c(c({},Object(r.optionsToVendorParams)(t)||{}),{},{_v_:t._v_});return["_v_","CQL_FILTER","VIEWPARAMS"].reduce((function(e,t){return n[t]!==o[t]||e}),!1)},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name,n=e.search,r=void 0===n?{}:n,o=e.url,a=e.describeFeatureTypeURL,u=i.a.parse(a||r.url||o,!0);return i.a.format(c(c({},u),{},{search:void 0,query:c(c({},u.query),{},{service:"WFS",version:"1.1.0",typeName:t,outputFormat:"application/json",request:"DescribeFeatureType"})}))},p=function(e){var t=Object(a.get)(e,"featureTypes[0].properties")||[];return t&&Object(a.head)(t.filter((function(e){return 0===e.type.indexOf("gml:")})).map((function(e){return e.type.split(":")[1]})))},d=function(e){var t=Object(a.get)(e,"featureTypes[0].properties")||[];return t&&Object(a.head)(t.filter((function(e){return 0===e.type.indexOf("gml:")})).map((function(e){return e.name})))}},"./MapStore2/web/client/utils/WMTSUtils.js":function(e,t,n){"use strict";n.r(t),n.d(t,"getDefaultMatrixId",(function(){return s})),n.d(t,"getMatrixIds",(function(){return l})),n.d(t,"limitMatrix",(function(){return f})),n.d(t,"getTileMatrixSet",(function(){return p})),n.d(t,"getRequestEncoding",(function(){return d})),n.d(t,"getOperations",(function(){return m})),n.d(t,"getOperation",(function(){return g})),n.d(t,"getGetTileURL",(function(){return b})),n.d(t,"getCapabilitiesURL",(function(){return y})),n.d(t,"getDefaultStyleIdentifier",(function(){return O})),n.d(t,"getDefaultFormat",(function(){return v})),n.d(t,"sortTileMatrix",(function(){return h})),n.d(t,"getTileMatrix",(function(){return j}));var r,o=n("./MapStore2/web/client/utils/CoordinatesUtils.js"),i=n("./MapStore2/node_modules/lodash/lodash.js");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=function(e){for(var t=new Array(30),n=0;n<30;++n)t[n]=e.tileMatrixPrefix+n;return t},l=function(e,t){return Object(i.isObject)(e)&&Object(i.isArray)(e[t])&&e[t]||Object(i.isArray)(e)&&e||[]},f=function(e,t){return e.length>t?Object(i.slice)(e,0,t):e.length<t?e.concat(new Array(t-e.length)):e},p=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:t;return e&&Object(i.isString)(e)?e:e?Object(o.getEquivalentSRS)(t,n).reduce((function(t,n){if(Object(i.isArray)(e)){var a=Object(i.head)(e.filter((function(e){return(e["ows:Identifier"]===n||Object(o.getEPSGCode)(e["ows:SupportedCRS"])===n)&&r[e["ows:Identifier"]]})));return a&&a["ows:Identifier"]?a["ows:Identifier"]:t}return Object(i.isObject)(e)&&e[n]||t}),a):a},d=function(e){var t=r.getOperations(e);return r.getOperation(t,"GetTile","KVP")?"KVP":r.getOperation(t,"GetTile","RESTful")&&"RESTful"},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(i.castArray)(e.Capabilities["ows:OperationsMetadata"]["ows:Operation"])},g=function(e,t,n){return Object(i.head)(Object(i.castArray)(Object(i.head)(e.filter((function(e){return e.$.name===t})).map((function(e){return Object(i.castArray)(e["ows:DCP"]["ows:HTTP"]["ows:Get"])})))||[]).filter((function(e){return(e["ows:Constraint"]&&e["ows:Constraint"]["ows:AllowedValues"]["ows:Value"])===n})).map((function(e){return e.$["xlink:href"]})))},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.ResourceURL,n=e.GetTileURL,r=e.requestEncoding;return"KVP"===r?n:t&&Object(i.castArray)(t).map((function(e){var t=e.$,n=void 0===t?{}:t;return n.template||n.value}))||n},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(i.head)(Object(i.castArray)(e.capabilitiesURL||e.GetTileURL))},O=function(e){return Object(i.head)(Object(i.castArray)(e.Style).filter((function(e){var t=e.$;return"true"===(void 0===t?{}:t).isDefault})).map((function(e){return e["ows:Identifier"]})))},v=function(e){return Object(i.head)(Object(i.castArray)(e.Format))},h=function(e,t){return e?u(u({},e),{},{TileMatrix:Object(i.sortBy)(null==e?void 0:e.TileMatrix.map((function(e){return u(u({},e),{},{ScaleDenominator:Number(e.ScaleDenominator)})})),"ScaleDenominator").reverse().filter((function(e){return!t||t.map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.identifier;return t})).indexOf(e["ows:Identifier"])>=0}))}):e},j=function(e,t){var n,r,o=p(e.tileMatrixSet,t,e.allowedSRS,e.matrixIds),a=e.matrixIds&&l(e.matrixIds,o||t),u=h(Object(i.head)(e.tileMatrixSet.filter((function(e){return e["ows:Identifier"]===o}))),a),c=null==u||null===(n=(r=u.TileMatrix).map)||void 0===n?void 0:n.call(r,(function(e){return e["ows:Identifier"]}));return{matrixIds:c&&a?a.sort((function(e,t){return c.indexOf(e.identifier)-c.indexOf(t.identifier)})):a,tileMatrixSetName:o,tileMatrixSet:u}};r={getOperations:m,getOperation:g}},"./MapStore2/web/client/utils/mapinfo/vector.js":function(e,t,n){var r=n("./MapStore2/web/client/utils/MapUtils.js").getCurrentResolution;e.exports={buildRequest:function(e,t){var n,o;return{request:{lat:t.point.latlng.lat,lng:t.point.latlng.lng},metadata:{fields:(null===(n=e.features)||void 0===n||null===(o=n[0])||void 0===o?void 0:o.properties)&&Object.keys(e.features[0].properties)||[],title:e.name,resolution:t.map&&t.map&&t.map.zoom&&r(t.map.zoom,0,21,96),buffer:t.buffer||2,units:t.map&&t.map.units,rowViewer:e.rowViewer,viewer:e.viewer},url:""}}}},"./MapStore2/web/client/utils/mapinfo/wfs.js":function(e,t,n){function r(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=n("./MapStore2/node_modules/rxjs/Rx.js").Observable,c=n("./MapStore2/web/client/utils/CoordinatesUtils.js").normalizeSRS,s=n("./MapStore2/web/client/utils/LayersUtils.js").getLayerUrl,l=n("./MapStore2/node_modules/lodash/lodash.js").isObject,f=n("./MapStore2/web/client/utils/VendorParamsUtils.js").optionsToVendorParams,p=n("./MapStore2/web/client/api/WFS.js"),d=p.describeFeatureType,m=p.getFeature,g=n("./MapStore2/web/client/utils/WFSLayerUtils.js").extractGeometryAttributeName,b=n("./MapStore2/web/client/utils/SecurityUtils.js").addAuthenticationToSLD,y=n("./MapStore2/node_modules/object-assign/index.js");e.exports={buildRequest:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.map,r=void 0===n?{}:n,o=t.point,a=t.currentLocale,u=t.params,f=t.maxItems,p=void 0===f?10:f,d=arguments.length>3?arguments[3]:void 0,m=arguments.length>4?arguments[4]:void 0;return{request:b(i({point:o,service:"WFS",version:"1.1.1",request:"GetFeature",outputFormat:"application/json",exceptions:"application/json",id:e.id,typeName:e.name,srs:c(r.projection)||"EPSG:4326",feature_count:p},y({params:u})),e),metadata:{title:l(e.title)?e.title[a]||e.title.default:e.title,regex:e.featureInfoRegex,viewer:d,featureInfo:m},url:s(e).replace(/[?].*$/g,"")}},getIdentifyFlow:function(e,t,n){var o=n.point,i=r(n,["point"]),a=function(e){var t,n,r=null==e||null===(t=e.geometricFilter)||void 0===t||null===(n=t.value)||void 0===n?void 0:n.geometry;if(r)return r;var o=e.latlng.lng;return{coordinates:[o-360*Math.floor(o/360+.5),e.latlng.lat],projection:"EPSG:4326",type:"Point"}}(o);return u.defer((function(){return d(e.url,e.name).then((function(n){var r=g(n),o=f({layerFilter:e.layerFilter,filterObj:{spatialField:{attribute:r,operation:"INTERSECTS",geometry:a}},params:y({},e.baseParams,e.params,i)});return m(t,e.name,o)}))}))}}},"./MapStore2/web/client/utils/mapinfo/wms.js":function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n("./MapStore2/web/client/utils/MapUtils.js").getCurrentResolution,u=n("./MapStore2/web/client/utils/CoordinatesUtils.js"),c=u.reproject,s=u.getProjectedBBox,l=u.normalizeSRS,f=n("./MapStore2/web/client/utils/LayersUtils.js").getLayerUrl,p=n("./MapStore2/node_modules/lodash/lodash.js").isObject,d=n("./MapStore2/web/client/utils/VendorParamsUtils.js").optionsToVendorParams,m=n("./MapStore2/web/client/utils/LayerLocalizationUtils.js").generateEnvString,g=n("./MapStore2/web/client/utils/SecurityUtils.js").addAuthenticationToSLD,b=n("./MapStore2/node_modules/object-assign/index.js");e.exports={buildRequest:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.sizeBBox,r=t.map,i=void 0===r?{}:r,u=t.point,y=t.currentLocale,O=t.params,v=t.maxItems,h=void 0===v?10:v,j=t.env,S=arguments.length>2?arguments[2]:void 0,w=arguments.length>3?arguments[3]:void 0,E=arguments.length>4?arguments[4]:void 0,x=n&&n.height||101,P=n&&n.width||101,M=[x,P],T=0,A=a(Math.ceil(i.zoom),0,21,96),I=u.latlng.lng,R=I-360*Math.floor(I/360+.5),C={x:R,y:u.latlng.lat},F=c(C,"EPSG:4326",i.projection),N=s(F,A,T,M,null),_=e.name;e.queryLayers&&(_=e.queryLayers.join(","));var L=m(j),D=d({layerFilter:e.layerFilter,filterObj:e.filterObj,params:b({},e.baseParams,e.params,O)});return{request:g(o({service:"WMS",version:"1.1.1",request:"GetFeatureInfo",exceptions:"application/json",id:e.id,layers:e.name,query_layers:_,styles:e.style,x:P%2==1?Math.ceil(P/2):P/2,y:P%2==1?Math.ceil(P/2):P/2,height:x,width:P,srs:l(i.projection)||"EPSG:4326",bbox:N.minx+","+N.miny+","+N.maxx+","+N.maxy,feature_count:h,info_format:S,ENV:L},b({},D)),e),metadata:{title:p(e.title)?e.title[y]||e.title.default:e.title,regex:e.featureInfoRegex,viewer:w,featureInfo:E},url:f(e).replace(/[?].*$/g,"")}}}},"./MapStore2/web/client/utils/mapinfo/wmts.js":function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n("./MapStore2/web/client/utils/MapUtils.js"),u=a.getCurrentResolution,c=a.getResolutions,s=n("./MapStore2/web/client/utils/CoordinatesUtils.js"),l=s.reproject,f=s.normalizeSRS,p=n("./MapStore2/web/client/utils/WMTSUtils.js"),d=p.getTileMatrixSet,m=p.limitMatrix,g=p.getMatrixIds,b=p.getDefaultMatrixId,y=n("./MapStore2/web/client/utils/LayersUtils.js").getLayerUrl,O=n("./MapStore2/web/client/utils/VendorParamsUtils.js").optionsToVendorParams,v=n("./MapStore2/node_modules/lodash/lodash.js").isObject,h=n("./MapStore2/node_modules/object-assign/index.js");e.exports={buildRequest:function(e,t){var n=u(Math.round(t.map.zoom),0,21,96),r=e.resolutions||c(),i=e.tileSize||256,a=[e.originX||-20037508.3428,e.originY||20037508.3428],s=t.point.latlng.lng,p={x:s-360*Math.floor(s/360+.5),y:t.point.latlng.lat},j=l(p,"EPSG:4326",t.map.projection),S=f(e.srs||t.map.projection||"EPSG:3857",e.allowedSRS),w=d(e.tileMatrixSet,S,e.allowedSRS,e.matrixIds),E=(j.x-a[0])/(n*i),x=(a[1]-j.y)/(n*i),P=Math.floor(E),M=Math.floor(x),T=Math.floor((E-P)*i),A=Math.floor((x-M)*i),I=m(e.matrixIds&&g(e.matrixIds,w||S)||b(e),r.length),R=O({layerFilter:e.layerFilter,filterObj:e.filterObj,params:h({},e.baseParams,e.params,t.params)});return{request:o(o({service:"WMTS",request:"GetFeatureInfo",layer:e.name,infoformat:t.format,style:e.style||""},h({},R)),{},{tilecol:P,tilerow:M,tilematrix:I[Math.round(t.map.zoom)],tilematrixset:w,i:T,j:A}),metadata:{title:v(e.title)?e.title[t.currentLocale]||e.title.default:e.title,regex:e.featureInfoRegex},url:y(e).replace(/[?].*$/g,"")}}}},"./MapStore2/web/client/utils/ogc/Filter/CQL/parser.js":function(e,t){var n="INTERSECTS",r="BBOX",o="CONTAINS",i="DWITHIN",a="WITHIN",u={PROPERTY:/^[_a-zA-Z]\w*/,COMPARISON:/^(=|<>|<=|<|>=|>|LIKE)/i,IS_NULL:/^IS NULL/i,COMMA:/^,/,LOGICAL:/^(AND|OR)/i,VALUE:/^('([^']|'')*'|-?\d+(\.\d*)?|\.\d+)/,LPAREN:/^\(/,RPAREN:/^\)/,SPATIAL:/^(BBOX|INTERSECTS|DWITHIN|WITHIN|CONTAINS)/i,NOT:/^NOT/i,BETWEEN:/^BETWEEN/i,GEOMETRY:function(e){var t=/^(POINT|LINESTRING|POLYGON|MULTIPOINT|MULTILINESTRING|MULTIPOLYGON|GEOMETRYCOLLECTION)/.exec(e);if(t){var n=e.length,r=e.indexOf("(",t[0].length);if(r>-1)for(var o=1;r<n&&o>0;)switch(r++,e.charAt(r)){case"(":o++;break;case")":o--}return[e.substr(0,r+1)]}return null},END:/^$/},c={LPAREN:["GEOMETRY","SPATIAL","PROPERTY","VALUE","LPAREN"],RPAREN:["NOT","LOGICAL","END","RPAREN"],PROPERTY:["COMPARISON","BETWEEN","COMMA","IS_NULL"],BETWEEN:["VALUE"],IS_NULL:["END"],COMPARISON:["VALUE"],COMMA:["GEOMETRY","VALUE","PROPERTY"],VALUE:["LOGICAL","COMMA","RPAREN","END"],SPATIAL:["LPAREN"],LOGICAL:["NOT","VALUE","SPATIAL","PROPERTY","LPAREN"],NOT:["PROPERTY","LPAREN"],GEOMETRY:["COMMA","RPAREN"]},s={"=":"=","<>":"<>","<":"<","<=":"<=",">":">",">=":">=",LIKE:"like",ILIKE:"ilike",BETWEEN:"><","IS NULL":"isNull"},l={AND:"and",OR:"or",NOT:"not"},f={RPAREN:3,LOGICAL:2,COMPARISON:1},p=function(e,t){return t instanceof RegExp?t.exec(e):t(e)},d=function(e,t){var n,r,o=t.length;for(n=0;n<o;n++){r=t[n];var i=p(e,u[r]);if(i){var a=i[0];return{type:r,text:a,remainder:e.substr(a.length).replace(/^\s*/,"")}}}var c="ERROR: In parsing: ["+e+"], expected one of: ";for(n=0;n<o;n++)c+="\n    "+(r=t[n])+": "+u[r];throw new Error(c)},m=function(e){for(var t=[],u=[];e.length;){var c=e.shift();switch(c.type){case"PROPERTY":case"GEOMETRY":case"VALUE":u.push(c);break;case"COMPARISON":case"BETWEEN":case"IS_NULL":case"LOGICAL":for(var p=f[c.type];t.length>0&&f[t[t.length-1].type]<=p;)u.push(t.pop());t.push(c);break;case"SPATIAL":case"NOT":case"LPAREN":t.push(c);break;case"RPAREN":for(;t.length>0&&"LPAREN"!==t[t.length-1].type;)u.push(t.pop());t.pop(),t.length>0&&"SPATIAL"===t[t.length-1].type&&u.push(t.pop());break;case"COMMA":case"END":break;default:throw new Error("Unknown token type "+c.type)}}for(;t.length>0;)u.push(t.pop());var d=function e(){var t=u.pop();switch(t.type){case"LOGICAL":var c=e();return{filters:[e(),c],type:l[t.text.toUpperCase()]};case"NOT":return{filters:[e()],type:l.NOT};case"BETWEEN":u.pop();var f=e(),p=e();return{property:e(),lowerBoundary:p,upperBoundary:f,type:s.BETWEEN};case"COMPARISON":var d=e();return{property:e(),value:d,type:s[t.text.toUpperCase()]};case"IS_NULL":return{property:e(),type:s[t.text.toUpperCase()]};case"VALUE":var m=t.text.match(/^'(.*)'$/);return m?m[1].replace(/''/g,"'"):Number(t.text);case"SPATIAL":switch(t.text.toUpperCase()){case"BBOX":var g=e(),b=e(),y=e(),O=e(),v=e();return{type:r,property:v,value:[O,y,b,g]};case"INTERSECTS":var h=e(),j=e();return{type:n,property:j,value:h};case"WITHIN":var S=e(),w=e();return{type:a,property:w,value:S};case"CONTAINS":var E=e(),x=e();return{type:o,property:x,value:E};case"DWITHIN":var P=e(),M=e(),T=e();return{type:i,value:M,property:T,distance:Number(P)};default:return null}case"GEOMETRY":return function(){throw new Error("WKT parsing for CQL filter not supported yet")}(t.text);default:return t.text}}();if(u.length>0){for(var m="Remaining tokens after building AST: \n",g=u.length-1;g>=0;g--)m+=u[g].type+": "+u[g].text+"\n";throw new Error(m)}return d};e.exports={read:function(e){return m(function(e){var t,n=[],r=e,o=["NOT","GEOMETRY","SPATIAL","PROPERTY","LPAREN"];do{if(r=(t=d(r,o)).remainder,o=c[t.type],"END"!==t.type&&!o)throw new Error("No follows list for "+t.type);n.push(t)}while("END"!==t.type);return n}(e))}}},"./MapStore2/web/client/utils/ogc/Filter/FilterBuilder.js":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=n("./MapStore2/web/client/utils/ogc/Filter/operators.js"),i=o.logical,a=o.spatial,u=o.comparison,c=o.literal,s=o.propertyName,l=o.valueReference,f=o.distance,p=o.lower,d=o.upper,m=n("./MapStore2/web/client/utils/ogc/Filter/filter.js"),g=m.filter,b=m.fidFilter,y=n("./MapStore2/web/client/utils/ogc/GML/index.js").processOGCGeometry;e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.filterNS,n=void 0===t?"ogc":t,o=e.gmlVersion,m=e.wfsVersion,O=void 0===m?"1.1.0":m,v=o||"3.1.1",h=function(e){return y(v,e)},j=function(e){return"object"===r(e)&&Date,c(n,e)},S=0===O.indexOf("2.")?l:s;return{filter:g.bind(null,n),fidFilter:b.bind(null,n),and:i.and.bind(null,n),or:i.or.bind(null,n),not:i.not.bind(null,n),property:function(e){return{equalTo:function(t){return u.equal(n,S(n,e),j(t))},greaterThen:function(t){return u.greater(n,S(n,e),j(t))},greaterThenOrEqualTo:function(t){return u.greaterOrEqual(n,S(n,e),j(t))},lessThen:function(t){return u.less(n,S(n,e),j(t))},lessThenOrEqualTo:function(t){return u.lessOrEqual(n,S(n,e),j(t))},notEqualTo:function(t){return u.notEqual(n,S(n,e),j(t))},between:function(t,r){return u.between(n,S(n,e),p(n,j(t)),d(n,j(r)))},like:function(t,r){return u.like(n,S(n,e),j(t),r)},ilike:function(t,r){return u.ilike(n,S(n,e),j(t),r)},isNull:function(){return u.isNull(n,S(n,e))},intersects:function(t){return a.intersects(n,S(n,e),h(t))},within:function(t){return a.within(n,S(n,e),h(t))},dwithin:function(t,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"m";return a.dwithin(n,S(n,e),h(t),f(n,r,o))},contains:function(t){return a.contains(n,S(n,e),h(t))}}}}}},"./MapStore2/web/client/utils/ogc/Filter/filter.js":function(e,t){var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ogc",t=arguments.length>1?arguments[1]:void 0;return"<".concat(e,":Filter>").concat(Array.isArray(t)?t.join(""):t,"</").concat(e,":Filter>")};e.exports={fidFilter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ogc",t=arguments.length>1?arguments[1]:void 0;return n(e,"<".concat(e,':FeatureId fid="').concat(t,'"/>'))},filter:n}},"./MapStore2/web/client/utils/ogc/Filter/fromObject.js":function(e,t,n){function r(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var i=n("./MapStore2/node_modules/lodash/lodash.js"),a=i.includes,u=i.isNil,c=["and","or","not"],s={"=":"equalTo","<>":"notEqualTo","><":"between","<":"lessThen","<=":"lessThenOrEqualTo",">":"greaterThen",">=":"greaterThenOrEqualTo",like:"like",ilike:"ilike"};e.exports=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(n){var o=n.type,i=n.filters,l=void 0===i?[]:i,f=n.value,p=n.property,d=n.lowerBoundary,m=n.upperBoundary;return a(c,o)?t[o].apply(t,r(l.map(e(t)))):t.property(p)[s[o]](u(f)?d:f,m)}}},"./MapStore2/web/client/utils/ogc/Filter/operators.js":function(e,t){var n={"=":function(e,t){return"<".concat(e,":PropertyIsEqualTo>").concat(t,"</").concat(e,":PropertyIsEqualTo>")},">":function(e,t){return"<".concat(e,":PropertyIsGreaterThan>").concat(t,"</").concat(e,":PropertyIsGreaterThan>")},"<":function(e,t){return"<".concat(e,":PropertyIsLessThan>").concat(t,"</").concat(e,":PropertyIsLessThan>")},">=":function(e,t){return"<".concat(e,":PropertyIsGreaterThanOrEqualTo>").concat(t,"</").concat(e,":PropertyIsGreaterThanOrEqualTo>")},"<=":function(e,t){return"<".concat(e,":PropertyIsLessThanOrEqualTo>").concat(t,"</").concat(e,":PropertyIsLessThanOrEqualTo>")},"<>":function(e,t){return"<".concat(e,":PropertyIsNotEqualTo>").concat(t,"</").concat(e,":PropertyIsNotEqualTo>")},"><":function(e,t){return"<".concat(e,":PropertyIsBetween>").concat(t,"</").concat(e,":PropertyIsBetween>")},like:function(e,t){return"<".concat(e,':PropertyIsLike matchCase="true" wildCard="*" singleChar="." escapeChar="!">').concat(t,"</").concat(e,":PropertyIsLike>")},ilike:function(e,t){return"<".concat(e,':PropertyIsLike matchCase="false" wildCard="*" singleChar="." escapeChar="!">').concat(t,"</").concat(e,":PropertyIsLike>")},isNull:function(e,t){return"<".concat(e,":PropertyIsNull>").concat(t,"</").concat(e,":PropertyIsNull>")}},r={AND:function(e,t){return"<".concat(e,":And>").concat(t,"</").concat(e,":And>")},OR:function(e,t){return"<".concat(e,":Or>").concat(t,"</").concat(e,":Or>")},NOR:function(e,t){return"<".concat(e,":Not><").concat(e,":Or>").concat(t,"</").concat(e,":Or></").concat(e,":Not>")},NOT:function(e,t){return"<".concat(e,":Not>").concat(t,"</").concat(e,":Not>")}},o={INTERSECTS:function(e,t){return"<".concat(e,":Intersects>").concat(t,"</").concat(e,":Intersects>")},BBOX:function(e,t){return"<".concat(e,":BBOX>").concat(t,"</").concat(e,":BBOX>")},CONTAINS:function(e,t){return"<".concat(e,":Contains>").concat(t,"</").concat(e,":Contains>")},DWITHIN:function(e,t){return"<".concat(e,":DWithin>").concat(t,"</").concat(e,":DWithin>")},WITHIN:function(e,t){return"<".concat(e,":Within>").concat(t,"</").concat(e,":Within>")}},i=function(e,t,n){return t(e,Array.isArray(n)?n.join(""):n)},a={and:function(e,t){for(var n=arguments.length,o=new Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];return o&&o.length>0?i(e,r.AND,[t].concat(o)):i(e,r.AND,t)},or:function(e,t){for(var n=arguments.length,o=new Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];return o&&o.length>0?i(e,r.OR,[t].concat(o)):i(e,r.OR,t)},not:function(e,t){return i(e,r.NOT,t)},nor:function(e,t){for(var n=arguments.length,o=new Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];return o&&o.length>0?i(e,r.NOR,[t].concat(o)):i(e,r.NOR,t)}},u={intersects:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return i(e,o.INTERSECTS,n)},within:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return i(e,o.WITHIN,n)},bbox:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return i(e,o.BBOX,n)},dwithin:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return i(e,o.DWITHIN,n)},contains:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return i(e,o.CONTAINS,n)}},c={equal:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];return i(e,n["="],r)},greater:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];return i(e,n[">"],r)},less:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];return i(e,n["<"],r)},greaterOrEqual:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];return i(e,n[">="],r)},lessOrEqual:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];return i(e,n["<="],r)},notEqual:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];return i(e,n["<>"],r)},between:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];return i(e,n["><"],r)},like:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];return i(e,n.like,r)},ilike:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];return i(e,n.ilike,r)},isNull:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];return i(e,n.isNull,r)}};e.exports={ogcComparisonOperators:n,ogcLogicalOperators:r,ogcSpatialOperators:o,propertyName:function(e,t){return"<".concat(e,":PropertyName>").concat(t,"</").concat(e,":PropertyName>")},valueReference:function(e,t){return"<".concat(e,":ValueReference>").concat(t,"</").concat(e,":ValueReference>")},distance:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"m";return"<".concat(e,':Distance units="').concat(n,'">').concat(t,"</").concat(e,":Distance>")},literal:function(e,t){return"<".concat(e,":Literal>").concat(t,"</").concat(e,":Literal>")},logical:a,spatial:u,comparison:c,lower:function(e,t){return"<".concat(e,":LowerBoundary>").concat(t,"</").concat(e,":LowerBoundary>")},upper:function(e,t){return"<".concat(e,":UpperBoundary>").concat(t,"</").concat(e,":UpperBoundary>")}}},"./MapStore2/web/client/utils/ogc/GML/index.js":function(e,t,n){var r=n("./MapStore2/node_modules/lodash/lodash.js").isArray,o=function(e){return 0===e.indexOf("2.")},i=function(e){if(e.length>=3){var t=e[0],n=e[e.length-1];if(t[0]!==n[0]||t[1]!==n[1])return e.concat([e[0]])}return e},a=function(e,t,n){var r='<gml:Point srsDimension="2"';return r+=t?' srsName="'+t+'">':">",r+=o(n)?"<gml:coord><X>"+e[0]+"</X><Y>"+e[1]+"</Y></gml:coord>":"<gml:pos>"+e.join(" ")+"</gml:pos>",r+="</gml:Point>"},u=function(e,t,n){var a=o(n),u="<gml:Polygon";return u+=t?' srsName="'+t+'">':">",(e.length&&r(e[0])&&e[0].length&&r(e[0][0])?e:[e]).forEach((function(e,t){var n=i(e).map((function(e){return e[0]+(a?",":" ")+e[1]})),r=a?"outerBoundaryIs":"exterior",o=a?"innerBoundaryIs":"exterior";u+=(t<1?"<gml:"+r+">":"<gml:"+o+">")+"<gml:LinearRing>"+(a?"<gml:coordinates>":"<gml:posList>")+n.join(" ")+(a?"</gml:coordinates>":"</gml:posList>")+"</gml:LinearRing>"+(t<1?"</gml:"+r+">":"</gml:"+o+">")})),u+="</gml:Polygon>"},c=function(e,t,n){var r=o(n),i="<gml:LineString";i+=t?' srsName="'+t+'">':">";var a=e.map((function(e){return e[0]+(r?",":" ")+e[1]}));return i+=(r?"<gml:coordinates>":"<gml:posList>")+a.join(" ")+(r?"</gml:coordinates>":"</gml:posList>"),i+="</gml:LineString>"};e.exports={closePolygon:i,pointElement:a,polygonElement:u,lineStringElement:c,processOGCGeometry:function(e,t){var n="",r=t.projection||"EPSG:4326";switch(t.type){case"Point":n+=a(t.coordinates,r,e);break;case"MultiPoint":n+='<gml:MultiPoint srsName="'+(t.projection||"EPSG:4326")+'">',t.coordinates.forEach((function(t){t&&(n+="<gml:pointMember>",n+=a(t,r,e),n+="</gml:pointMember>")})),n+="</gml:MultiPoint>";break;case"LineString":n+=c(t.coordinates,r,e);break;case"MultiLineString":var o="3.2"===e?"MultiCurve":"MultiLineString",i="3.2"===e?"curveMember":"lineStringMember";n+="<gml:".concat(o,' srsName="').concat(r,'">'),t.coordinates.forEach((function(t){t&&(n+="<gml:"+i+">",n+=c(t,r,e),n+="</gml:"+i+">")})),n+="</gml:"+o+">";break;case"Polygon":n+=u(t.coordinates,r,e);break;case"MultiPolygon":var s="3.2"===e?"MultiSurface":"MultiPolygon",l="3.2"===e?"surfaceMembers":"polygonMember";n+="<gml:".concat(s,' srsName="').concat(r,'">'),t.coordinates.forEach((function(t){t&&(n+="<gml:"+l+">",n+=u(t,r,e),n+="</gml:"+l+">")})),n+="</gml:"+s+">"}return n}}},"./MapStore2/web/client/utils/ogc/WFS/base.js":function(e,t,n){var r=n("./MapStore2/node_modules/lodash/lodash.js"),o=r.head,i=r.get,a=function(e){return/[<>&'"]/.test(e)?"<![CDATA[".concat(e,"]]>"):e},u=n("./MapStore2/web/client/utils/ogc/GML/index.js").processOGCGeometry,c={"1.0.0":"2.0","1.1.0":"3.1.1","2.0":"3.2","2.0.0":"3.2"},s=function(e){return i(e,"featureTypes[0].properties")},l=function(e,t){return o((s(t)||[]).filter((function(t){return t.name===e})))},f=function(e){return e.targetNamespace},p=function(e){return 0===e.type.indexOf("gml:")},d=function(e,t){return null==t||t&&!0===t.nillable||t&&!1===t.nillable&&null!=e},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.geom,n=e.properties,r=arguments.length>1?arguments[1]:void 0;return d(p(r)?t:n[r.name],r)};e.exports={schemaLocation:f,isGeometryType:p,featureTypeSchema:function(e){return"xmlns:".concat(e.targetPrefix,'="').concat(f(e),'"')},getValue:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"1.1.0",o=p(l(t,n));return o?e?u(r,{type:e.type,coordinates:e.coordinates}):"":null==e?"":"string"==typeof e?a(e):e},getPropertyDesciptor:l,findGeometryProperty:function(e){return o((s(e)||[]).filter((function(e){return 0===e.type.indexOf("gml:")})))},getFeatureTypeProperties:s,getTypeName:function(e){return e.targetPrefix?e.targetPrefix+":"+e.featureTypes[0].typeName:e.featureTypes[0].typeName},wfsToGmlVersion:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1.1.0";return c[e]},processOGCGeometry:u,isValid:function(e,t){return s(t).map((function(t){return m(e,t)}))},isValidProperty:m,isValidValueForPropertyName:function(e,t,n){return d(e,l(t,n))},isValidValue:d}},"./js/plugins/DrawerMenu.jsx":function(e,t,n){"use strict";n.r(t);n("./MapStore2/web/client/plugins/drawer/drawer.css");var r=n("./MapStore2/node_modules/lodash/lodash.js"),o=n("./MapStore2/node_modules/object-assign/index.js"),i=n.n(o),a=n("./MapStore2/node_modules/prop-types/index.js"),u=n.n(a),c=n("./MapStore2/node_modules/react/index.js"),s=n.n(c),l=n("./MapStore2/node_modules/react-bootstrap/es/index.js"),f=n("./MapStore2/node_modules/react-redux/es/index.js"),p=n("./MapStore2/node_modules/reselect/es/index.js"),d=n("./MapStore2/web/client/actions/controls.js"),m=n("./MapStore2/web/client/actions/map.js"),g=n("./MapStore2/web/client/components/misc/enhancers/tooltip.jsx"),b=n("./MapStore2/web/client/selectors/maplayout.js"),y=n("./MapStore2/node_modules/react-sidebar/dist-modules/index.js"),O=n.n(y),v=n("./MapStore2/web/client/components/misc/OverlayTrigger.jsx"),h=n("./MapStore2/node_modules/react-resizable/index.js"),j=n("./MapStore2/web/client/components/I18N/Message.jsx"),S=n("./MapStore2/web/client/components/misc/Button.jsx");function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function M(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=N(e);if(t){var o=N(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return C(this,n)}}function C(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?F(e):t}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(i,e);var t,n,r,o=R(i);function i(){var e;T(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _(F(e=o.call.apply(o,[this].concat(n))),"getWidth",(function(){return e.props.dynamicWidth||e.props.width})),_(F(e),"renderChildren",(function(t,n){var r={key:t.key?t.key:n,ref:t.ref,open:e.props.activeKey&&e.props.activeKey===t.props.eventKey},o=t.props,i=(o.glyph,o.icon,o.buttonConfig,M(o,["glyph","icon","buttonConfig"]));return s.a.createElement(t.type,P({},r,i))})),_(F(e),"renderButtons",(function(){return e.props.children.map((function(t){var n=s.a.createElement(S.a,{key:t.props.eventKey,bsSize:"large",className:t.props.buttonConfig&&t.props.buttonConfig.buttonClassName?t.props.buttonConfig.buttonClassName:"square-button",onClick:e.props.onChoose.bind(null,t.props.eventKey,e.props.activeKey===t.props.eventKey),bsStyle:e.props.activeKey===t.props.eventKey?"default":"primary"},t.props.glyph?s.a.createElement(l.Glyphicon,{glyph:t.props.glyph}):t.props.icon);if(t.props.buttonConfig&&t.props.buttonConfig.tooltip){var r=s.a.createElement(l.Tooltip,{key:"tooltip."+t.props.eventKey,id:"tooltip."+t.props.eventKey},s.a.createElement(j.default,{msgId:t.props.buttonConfig.tooltip}));return s.a.createElement(v.a,{placement:"bottom",key:"overlay-trigger."+t.props.eventKey,overlay:r},n)}return n}))})),_(F(e),"renderContent",(function(){var t=e.props.single?s.a.createElement("div",{className:"navHeader",style:{width:"100%",minHeight:"35px"}},s.a.createElement(l.Glyphicon,{glyph:"1-close",className:"no-border btn-default",onClick:e.props.onToggle,style:{cursor:"pointer"}}),s.a.createElement("div",{className:"navButtons"},e.renderButtons())):s.a.createElement("div",{className:"navHeader",style:{width:"100%",minHeight:"35px"}},s.a.createElement("span",{className:"title"},e.props.title),s.a.createElement(l.Glyphicon,{glyph:"1-close",className:"no-border btn-default",onClick:e.props.onToggle,style:{cursor:"pointer"}})),n=s.a.createElement("div",{className:"nav-content"},t,s.a.createElement("div",{className:"nav-body"},e.props.children.filter((function(t){return!e.props.single||e.props.activeKey===t.props.eventKey})).map(e.renderChildren)));return e.props.resizable?s.a.createElement(h.Resizable,{axis:"x",resizeHandles:["e"],width:e.getWidth(),onResize:e.resize},n):n})),_(F(e),"resize",(function(t,n){var r=n.size;e.props.onResize(r.width)})),e}return t=i,(n=[{key:"componentDidMount",value:function(){if(!this.props.overlapMap&&this.props.show){var e={left:this.props.width,width:"calc(100% - ".concat(this.props.width,"px)")};this.props.changeMapStyle(e,"drawerMenu")}}},{key:"componentDidUpdate",value:function(e){if(!this.props.overlapMap&&e.show!==this.props.show){var t=this.props.show?{left:this.props.width,width:"calc(100% - ".concat(this.props.width,"px)")}:{};this.props.changeMapStyle(t,"drawerMenu")}}},{key:"render",value:function(){var e=this;return s.a.createElement(O.a,{styles:{sidebar:x(x({},this.props.layout),{},{zIndex:1022,width:this.getWidth()}),overlay:{zIndex:1021},root:{right:this.props.show?0:"auto",width:"0",overflow:"visible"},content:{overflowY:"auto"}},sidebarClassName:"nav-menu",onSetOpen:function(){e.props.onToggle()},open:this.props.show,docked:this.props.docked,sidebar:this.renderContent()},s.a.createElement("div",null))}}])&&A(t.prototype,n),r&&A(t,r),i}(s.a.Component);_(L,"propTypes",{title:u.a.node,alignment:u.a.string,activeKey:u.a.string,docked:u.a.bool,show:u.a.bool,onToggle:u.a.func,onChoose:u.a.func,single:u.a.bool,width:u.a.number,dynamicWidth:u.a.number,overlapMap:u.a.bool,changeMapStyle:u.a.func,layout:u.a.object,resizable:u.a.bool,onResize:u.a.func}),_(L,"defaultProps",{show:!1,docked:!1,single:!1,width:300,overlapMap:!0,layout:{},resizable:!1,onResize:function(){}});var D=L,G=n("./MapStore2/web/client/components/misc/Modal.jsx");function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=W(e);if(t){var o=W(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return V(this,n)}}function V(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?H(e):t}function H(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var K=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(i,e);var t,n,r,o=z(i);function i(){var e;U(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Y(H(e=o.call.apply(o,[this].concat(n))),"onHeaderClick",(function(){e.props.onHeaderClick(e.props.eventKey)})),Y(H(e),"getHeight",(function(){return e.props.open&&e.refs.sectionContent?e.refs.sectionContent.scrollHeight+10:"0"})),e}return t=i,(n=[{key:"render",value:function(){var e={maxHeight:this.getHeight(),overflow:this.props.open?"auto":"hidden",padding:this.props.open?null:"0"};return s.a.createElement("div",{className:"section"},s.a.createElement("div",{className:"sectionHeader",style:{width:"100%"},onClick:this.onHeaderClick},this.props.renderInModal?null:s.a.createElement(l.Glyphicon,{glyph:"triangle-right",style:this.props.open?{transform:"rotate(90deg)"}:{}}),s.a.createElement("span",{className:this.headerClassName+" sectionTitle",ref:"sectionTitle"},this.props.header)),this.props.renderInModal?s.a.createElement(G.a,{ref:"modal",show:this.props.open,onHide:this.onHeaderClick},s.a.createElement(G.a.Header,{closeButton:!0},s.a.createElement(G.a.Title,null,this.props.header)),s.a.createElement(G.a.Body,null,this.props.children)):s.a.createElement("div",{ref:"sectionContent",className:"sectionContent",style:e},this.props.children))}}])&&B(t.prototype,n),r&&B(t,r),i}(s.a.Component);Y(K,"displayName","Section"),Y(K,"propTypes",{key:u.a.string,eventKey:u.a.string,headerClassName:u.a.string,open:u.a.bool,onHeaderClick:u.a.func,renderInModal:u.a.bool,header:u.a.node}),Y(K,"defaultProps",{headerClassName:"panel-heading"});var Q=K,X=n("./MapStore2/web/client/plugins/locale/Message.jsx");function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(){return(Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function $(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function te(e,t){return(te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ie(e);if(t){var o=ie(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return re(this,n)}}function re(e,t){return!t||"object"!==J(t)&&"function"!=typeof t?oe(e):t}function oe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ie(e){return(ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ue=Object(g.a)(S.a),ce=Object(p.a)([function(e){return e.controls.drawer&&e.controls.drawer.enabled},function(e){return e.controls.drawer&&e.controls.drawer.menu||"1"},function(e){return e.controls.queryPanel&&e.controls.queryPanel.enabled&&e.controls.drawer&&e.controls.drawer.width||e.controls.drawer&&e.controls.drawer.resizedWidth||void 0},function(e){return Object(b.c)(e,{height:!0})}],(function(e,t,n,r){return{show:e,activeKey:t,dynamicWidth:n,layout:r}})),se=Object(f.connect)(ce,{onToggle:d.i.bind(null,"drawer",null),onResize:d.h.bind(null,"drawer","resizedWidth"),onChoose:Object(r.partialRight)(d.h.bind(null,"drawer","menu"),!0),changeMapStyle:m.x})(D),le=Object(f.connect)((function(e){return{disabled:e.controls&&e.controls.drawer&&e.controls.drawer.disabled}}),{toggleMenu:d.i.bind(null,"drawer",null)})((function(e){var t=e.id,n=void 0===t?"":t,r=e.menuButtonStyle,o=void 0===r?{}:r,i=e.buttonStyle,a=void 0===i?"primary":i,u=e.buttonClassName,c=void 0===u?"square-button ms-drawer-menu-button":u,f=e.toggleMenu,p=void 0===f?function(){}:f,d=e.disabled,m=void 0!==d&&d,g=e.glyph,b=void 0===g?"1-layer":g,y=e.tooltipId,O=void 0===y?"toc.drawerButton":y,v=e.tooltipPosition,h=void 0===v?"bottom":v;return s.a.createElement(ue,{id:n,style:o,bsStyle:a,key:"menu-button",className:c,onClick:p,disabled:m,tooltipId:O,tooltipPosition:h},s.a.createElement(l.Glyphicon,{glyph:b}))})),fe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&te(e,t)}(a,e);var t,n,r,o=ne(a);function a(){var e;$(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ae(oe(e=o.call.apply(o,[this].concat(n))),"getTools",(function(){return e.props.items.map((function(e,t){return i()({},e,{position:e.position||t})})).sort((function(e,t){return e.position-t.position}))})),ae(oe(e),"renderItems",(function(){return e.getTools().map((function(t,n){var r=t.panel||t.plugin,o=s.a.createElement(r,Z({isPanel:!0},t.cfg,{items:t.items||[],groupStyle:{style:{marginBottom:"0px",cursor:"pointer"}}})),i=t.title?s.a.createElement("div",{className:"drawer-menu-head drawer-menu-head-"+t.name},s.a.createElement(X.a,{msgId:t.title})):null;return e.props.singleSection?s.a.createElement(l.Panel,{icon:t.icon,glyph:t.glyph,buttonConfig:t.buttonConfig,key:t.name,eventKey:n+1+"",header:i},o):s.a.createElement(Q,{key:t.name,renderInModal:t.renderInModal||!1,eventKey:n+1+"",header:i},o)}))})),e}return t=a,(n=[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.props.toggleMenu()}),500)}},{key:"render",value:function(){return this.getTools().length>0?s.a.createElement("div",{id:this.props.id},s.a.createElement(le,Z({},this.props,{id:"drawer-menu-button"})),s.a.createElement(se,Z({single:this.props.singleSection},this.props.menuOptions,{title:s.a.createElement(X.a,{msgId:"menu"}),alignment:"left"}),this.renderItems())):null}}])&&ee(t.prototype,n),r&&ee(t,r),a}(s.a.Component);ae(fe,"propTypes",{items:u.a.array,active:u.a.string,toggleMenu:u.a.func,id:u.a.string,glyph:u.a.string,buttonStyle:u.a.string,menuOptions:u.a.object,singleSection:u.a.bool,buttonClassName:u.a.string,menuButtonStyle:u.a.object,disabled:u.a.bool}),ae(fe,"contextTypes",{messages:u.a.object,router:u.a.object}),ae(fe,"defaultProps",{id:"mapstore-drawermenu",items:[],toggleMenu:function(){},glyph:"1-layer",buttonStyle:"primary",menuOptions:{},singleSection:!0,buttonClassName:"square-button ms-drawer-menu-button",disabled:!1});var pe=Object(f.connect)((function(e){return{active:e.controls&&e.controls.drawer&&e.controls.drawer.active,disabled:e.controls&&e.controls.drawer&&e.controls.drawer.disabled}}),{toggleMenu:d.i.bind(null,"drawer",null)})(fe);t.default={DrawerMenuPlugin:i()(pe,{disablePluginIf:"{state('featuregridmode') === 'EDIT'}",FloatingLegend:{priority:1,name:"drawer-menu",button:le}}),reducers:{}}},"./js/plugins/GeonodeMetadata.jsx":function(e,t,n){"use strict";n.r(t),n.d(t,"getMetadataBySlugName",(function(){return S})),n.d(t,"gnmetadataresource",(function(){return w})),n.d(t,"gnGetMetadata",(function(){return E}));var r=n("./MapStore2/node_modules/react/index.js"),o=n.n(r),i=n("./MapStore2/node_modules/axios/index.js"),a=n.n(i),u=n("./MapStore2/node_modules/prop-types/index.js"),c=n.n(u),s=n("./MapStore2/node_modules/rxjs/Rx.js"),l=n("./MapStore2/web/client/utils/PluginsUtils.js"),f=n("./MapStore2/node_modules/react-bootstrap/es/index.js"),p=n("./MapStore2/web/client/actions/controls.js"),d=n("./MapStore2/node_modules/reselect/es/index.js"),m=n("./MapStore2/web/client/selectors/security.js"),g=n("./MapStore2/web/client/selectors/map.js"),b=n("./MapStore2/node_modules/react-redux/es/index.js"),y=n("./MapStore2/web/client/components/misc/ResizableModal.jsx"),O=n("./MapStore2/web/client/components/misc/Loader.jsx");function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=function(){var e=window.location.href;e.includes("/maps/")&&(e=e.replace("/view","").replace("/edit",""));var t="".concat(e.replace("#",""),"/metadata_detail/article");return a.a.get(t).then((function(e){return e.data}))};function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_GEONODE_METADATA":return h(h({},e),{},{loading:!0});case"SET_GEONODE_METADATA":return{error:null,data:t.data,loading:!1};case"GEONODE_METADATA_ERROR":return{data:null,error:t.error,loading:!1};default:return e}}var E=function(e,t){return e.ofType("FETCH_GEONODE_METADATA").switchMap((function(e){return s.Observable.defer((function(){return S()})).switchMap((function(e){return s.Observable.of(function(e){return{type:"SET_GEONODE_METADATA",data:e}}(e))})).catch((function(e){return s.Observable.of(function(e){return{type:"GEONODE_METADATA_ERROR",error:e}}(e.data||e.message))}))}))};function x(e){var t=e.resourceId,n=e.enabled,i=e.loading,a=e.error,u=e.data,c=e.onClose,s=e.onInit,l=Object(r.useRef)();return l.current={resourceId:t,data:u},Object(r.useEffect)((function(){n&&!u&&s(l.current.resourceId)}),[n]),o.a.createElement(y.a,{modalClassName:"gn-metadata-modal",title:"Map Metadata",show:n,size:"lg",fitContent:!0,enableFooter:!1,clickOutEnabled:!1,onClose:function(){return c()}},o.a.createElement("div",{style:{top:0,left:0,minHeight:550,maxHeight:550,width:"100%",height:"100%",backgroundColor:"rgba(255, 255, 255, 0.8)",zIndex:2,display:"flex",alignItems:"center",justifyContent:"center"}},a&&o.a.createElement(f.Alert,{bsStyle:"danger",style:{margin:0}},o.a.createElement("div",null,"Metadata cannot be fetched")),u&&o.a.createElement("div",{style:{overflowY:"scroll",height:550,width:"100%",paddingLeft:20,paddingRight:20},dangerouslySetInnerHTML:{__html:u}}),i&&o.a.createElement(O.a,{size:80})))}x.propTypes={resourceId:c.a.oneOfType([c.a.number,c.a.string]),enabled:c.a.bool,loading:c.a.bool,error:c.a.obj,data:c.a.string,onClose:c.a.func,onInit:c.a.func},x.defaultProps={resourceId:null,enabled:!1,loading:!1,error:null,data:"",onClose:function(){},onInit:function(){}};var P=Object(b.connect)(Object(d.a)([function(e){var t,n;return null==e||null===(t=e.controls)||void 0===t||null===(n=t.metadata)||void 0===n?void 0:n.enabled},g.i,function(e){var t;return null==e||null===(t=e.gnmetadataresource)||void 0===t?void 0:t.data},function(e){var t;return null==e||null===(t=e.gnmetadataresource)||void 0===t?void 0:t.loading},function(e){var t;return null==e||null===(t=e.gnmetadataresource)||void 0===t?void 0:t.error}],(function(e,t,n,r,o){return{enabled:e,resourceId:null==t?void 0:t.id,data:n,loading:r,error:o}})),{onClose:p.i.bind(null,"metadata",null),onInit:function(e){return{type:"FETCH_GEONODE_METADATA",id:e}}})(x);t.default=Object(l.d)("GeonodeMetadata",{component:P,containers:{BurgerMenu:{name:"geonode-metadata",position:30,text:"Map Metadata",icon:o.a.createElement(f.Glyphicon,{glyph:"list-alt"}),action:p.i.bind(null,"metadata",null),selector:Object(d.a)(m.b,g.i,(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(t.canEdit,t.id);return{style:window.location.href.includes("/view/")||window.location.href.includes("/maps/")&&n?{}:{display:"none"}}}))}},epics:{gnGetMetadata:E},reducers:{gnmetadataresource:w}})},"./js/plugins/IgracDownload.jsx":function(e,t,n){"use strict";n.r(t),n.d(t,"finishDownloadingIGRACData",(function(){return x})),n.d(t,"errorDownloadingIGRACData",(function(){return P})),n.d(t,"downloadIGRACData",(function(){return M})),n.d(t,"closeDownloadModal",(function(){return T})),n.d(t,"startDownloadingIGRACData",(function(){return A})),n.d(t,"igracDownloadReducers",(function(){return I}));var r=n("./MapStore2/node_modules/react/index.js"),o=n.n(r),i=n("./MapStore2/node_modules/prop-types/index.js"),a=n.n(i),u=n("./MapStore2/node_modules/object-assign/index.js"),c=n.n(u),s=n("./MapStore2/node_modules/rxjs/Rx.js"),l=n.n(s),f=n("./MapStore2/web/client/utils/PluginsUtils.js"),p=n("./MapStore2/web/client/selectors/security.js"),d=n("./MapStore2/web/client/selectors/map.js"),m=n("./MapStore2/node_modules/react-redux/es/index.js"),g=n("./MapStore2/node_modules/reselect/es/index.js"),b=n("./MapStore2/node_modules/react-bootstrap/es/index.js"),y=n("./MapStore2/web/client/components/misc/ResizableModal.jsx"),O=(n("./MapStore2/web/client/components/misc/Loader.jsx"),n("./MapStore2/web/client/actions/featuregrid.js")),v=n("./MapStore2/web/client/selectors/featuregrid.js"),h=n("./MapStore2/web/client/reducers/featuregrid.js"),j=n("./MapStore2/web/client/libs/ajax.js"),S=n.n(j),w=function(e){return'<div><h1>Download has been started</h1> <hr> <p> Please check this page to see the progress of the download : <br/><a target="_blank" href="https://staging.igrac.kartoza.com/groundwater/download?task_id='+e+'">https://staging.igrac.kartoza.com/groundwater/download?task_id='+e+"</a></p></div>"},E="<div><h1>Download Error</h1> <hr> <p> Please sign in first before downloading the data</div>",x=function(e){return{type:O.t,taskId:e}},P=function(){return{type:"IGRAC_DOWNLOAD_ERROR"}},M=function(){return{type:O.q}},T=function(){return{type:"CLOSE_DOWNLOAD_MODAL"}},A=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState;return e.ofType(O.q).switchMap((function(){if(Object(p.b)(n())){var e=Object(v.e)(n())||{};return l.a.Observable.fromPromise(S.a.post("/groundwater/record/download/",e).then((function(e){return e.data.task_id}))).switchMap((function(e){return l.a.Observable.of(x(e))}))}return l.a.Observable.of(x(),P())}))};function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.q:return c()({},e.featuregrid,{isIGRACDownloading:!0});case O.t:return c()({},e,{isIGRACDownloading:!1,data:w(t.taskId),enabled:!0});case"CLOSE_DOWNLOAD_MODAL":return c()({},e,{isIGRACDownloading:!1,data:"",enabled:!1});case"IGRAC_DOWNLOAD_ERROR":return c()({},e,{data:E,enabled:!0});default:return e}}function R(e){var t=e.resourceId,n=e.enabled,i=(e.downloading,e.error),a=e.data,u=e.onClose;return Object(r.useRef)().current={resourceId:t,data:a},o.a.createElement(y.a,{modalClassName:"gn-igrac-download-modal",title:"IGRAC Download",show:n,size:"s",fitContent:!0,enableFooter:!1,clickOutEnabled:!1,onClose:function(){return u()}},o.a.createElement("div",{style:{top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(255, 255, 255, 0.8)",zIndex:2,display:"flex",alignItems:"center",justifyContent:"center"}},i&&o.a.createElement(b.Alert,{bsStyle:"danger",style:{margin:0}},o.a.createElement("div",null,"Data cannot be fetched")),a&&o.a.createElement("div",{style:{width:"100%",height:200,paddingLeft:20,paddingRight:20},dangerouslySetInnerHTML:{__html:a}})))}R.propTypes={resourceId:a.a.oneOfType([a.a.number,a.a.string]),enabled:a.a.bool,downloading:a.a.bool,error:a.a.obj,data:a.a.string,onClose:a.a.func,onInit:a.a.func},R.defaultProps={resourceId:null,enabled:!1,downloading:!1,error:null,data:"",onClose:function(){},onInit:function(){}};var C=Object(m.connect)(Object(g.a)([function(e){var t;return null==e||null===(t=e.igracDownloadReducers)||void 0===t?void 0:t.enabled},d.i,function(e){var t;return null==e||null===(t=e.igracDownloadReducers)||void 0===t?void 0:t.data},function(e){var t;return null==e||null===(t=e.igracDownloadReducers)||void 0===t?void 0:t.isIGRACDownloading},function(e){var t;return null==e||null===(t=e.igracDownloadReducers)||void 0===t?void 0:t.error}],(function(e,t,n,r,o){return{enabled:e,resourceId:null==t?void 0:t.id,data:n,downloading:r,error:o}})),{onClose:T.bind(null)})(R);t.default=Object(f.d)("IgracDownload",{component:C,containers:{},epics:{startDownloadingIGRACData:A},reducers:{igracDownloadReducers:I,featuregrid:h.a}})},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/drawer/drawer.css":function(e,t,n){(e.exports=n("./node_modules/css-loader/lib/css-base.js")()).push([e.i,"/* Menu Button */\n.msgapi .drawer-menu-button {\n    position: absolute;\n    z-index:1000;\n    left: 30px;\n    top: 8px;\n    width:30px;\n    background: transparent;\n    outline: none;\n    border: transparent;\n    font-size: 14px;\n}\n\n.msgapi .drawer-menu-button:hover {\n    background: transparent;\n}\n\n.msgapi #drawer-menu-button:active{\n    box-shadow: none;\n}\n\n.msgapi #mapstore-drawermenu > div > div:nth-child(2) {\n    display: none;\n}\n\n.msgapi .nav-content #background-switcher .thumbnail {\n    border-radius: 0 !important;\n    margin-bottom: 40px;\n    width: 220px !important;\n}\n.msgapi .nav-content #background-switcher .thumbnail img {\n    border-radius: 0 !important;\n    height: 90px;\n    width: 220px !important;\n}\n\n.msgapi .nav-content #background-switcher .thumbnail .caption {\n    font-size: 14px !important;\n    text-align: left !important;\n    top: -20px !important;\n    position: absolute !important;\n}\n\n.msgapi .nav-content #background-switcher {\n    margin-top: 10px;\n}\n\n.msgapi #mapstore-drawermenu .panel {\n    border: none;\n    box-shadow: none;\n}\n\n.msgapi div.nav-menu {\n    -webkit-transform:   translate3d(300px, 0, 0);\n    -moz-transform: \t translate3d(300px, 0, 0);\n    -ms-transform: \t\t translate3d(300px, 0, 0);\n    -o-transform: \t\t translate3d(300px, 0, 0);\n    box-shadow: 2px 0px 15px #A7A7A7;\n}\n\n.msgapi .nav-menu  .navHeader {\n    height: 50px;\n}\n.msgapi .nav-menu > .nav-content .navHeader .title{\n    font-size: 16px;\n    position: absolute;\n    margin: 13px;\n    font-weight: bold;\n}\n.msgapi .nav-content  .section {\n    margin-bottom: 2px;\n}\n.msgapi .nav-content  .section .sectionHeader{\n    padding: 5px;\n    cursor: pointer;\n}\n.msgapi .nav-content .section .sectionHeader>.glyphicon{\n    /* Firefox */\n    -moz-transition: all .3s ease;\n    /* WebKit */\n    -webkit-transition: all .3s ease;\n    /* Opera */\n    -o-transition: all .3s ease;\n    /* Standard */\n    transition: all .3s ease;\n}\n.msgapi .nav-content  .section .sectionTitle{\n    padding-left: 10px;\n\n}\n.msgapi .nav-content  .section .sectionContent{\n    -moz-transition: max-height .3s ease;\n    -webkit-transition: max-height .3s ease;\n    -o-transition: max-height .3s ease;\n    transition: max-height .3s ease;\n\n    box-shadow: inset 0px 0px 10px rgba(0,0,0,.5);\n    padding: 5px;\n}\n\n.msgapi .navButtons {\n    float: right;\n}\n\n.msgapi #drawer-menu-button {\n     position: absolute;\n}\n",""])}}]);