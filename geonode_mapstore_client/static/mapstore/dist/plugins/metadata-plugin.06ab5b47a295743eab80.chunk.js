(window.webpackJsonp=window.webpackJsonp||[]).push([["plugins/metadata-plugin"],{"./MapStore2/node_modules/turf-center/index.js":function(e,t,r){var n=r("./MapStore2/node_modules/turf-bbox/index.js"),o=r("./MapStore2/node_modules/turf-helpers/index.js").point;e.exports=function(e){var t=n(e),r=(t[0]+t[2])/2,i=(t[1]+t[3])/2;return o([r,i])}},"./MapStore2/node_modules/turf-distance/index.js":function(e,t,r){var n=r("./MapStore2/node_modules/turf-invariant/index.js").getCoord,o=r("./MapStore2/node_modules/turf-helpers/index.js").radiansToDistance;e.exports=function(e,t,r){var i=Math.PI/180,u=n(e),a=n(t),c=i*(a[1]-u[1]),l=i*(a[0]-u[0]),s=i*u[1],f=i*a[1],d=Math.pow(Math.sin(c/2),2)+Math.pow(Math.sin(l/2),2)*Math.cos(s)*Math.cos(f);return o(2*Math.atan2(Math.sqrt(d),Math.sqrt(1-d)),r)}},"./MapStore2/node_modules/turf-explode/index.js":function(e,t,r){var n=r("./MapStore2/node_modules/turf-helpers/index.js").featureCollection,o=r("./MapStore2/node_modules/turf-meta/index.js").coordEach,i=r("./MapStore2/node_modules/turf-helpers/index.js").point;e.exports=function(e){var t=[];return o(e,(function(e){t.push(i(e))})),n(t)}},"./MapStore2/node_modules/turf-helpers/index.js":function(e,t){function r(e,t){return{type:"Feature",properties:t||{},geometry:e}}e.exports.feature=r,e.exports.point=function(e,t){if(!Array.isArray(e))throw new Error("Coordinates must be an array");if(e.length<2)throw new Error("Coordinates must be at least 2 numbers long");return r({type:"Point",coordinates:e.slice()},t)},e.exports.polygon=function(e,t){if(!e)throw new Error("No coordinates passed");for(var n=0;n<e.length;n++){var o=e[n];if(o.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var i=0;i<o[o.length-1].length;i++)if(o[o.length-1][i]!==o[0][i])throw new Error("First and last Position are not equivalent.")}return r({type:"Polygon",coordinates:e},t)},e.exports.lineString=function(e,t){if(!e)throw new Error("No coordinates passed");return r({type:"LineString",coordinates:e},t)},e.exports.featureCollection=function(e){return{type:"FeatureCollection",features:e}},e.exports.multiLineString=function(e,t){if(!e)throw new Error("No coordinates passed");return r({type:"MultiLineString",coordinates:e},t)},e.exports.multiPoint=function(e,t){if(!e)throw new Error("No coordinates passed");return r({type:"MultiPoint",coordinates:e},t)},e.exports.multiPolygon=function(e,t){if(!e)throw new Error("No coordinates passed");return r({type:"MultiPolygon",coordinates:e},t)},e.exports.geometryCollection=function(e,t){return r({type:"GeometryCollection",geometries:e},t)};var n={miles:3960,nauticalmiles:3441.145,degrees:57.2957795,radians:1,inches:250905600,yards:6969600,meters:6373e3,metres:6373e3,kilometers:6373,kilometres:6373};e.exports.radiansToDistance=function(e,t){var r=n[t||"kilometers"];if(void 0===r)throw new Error("Invalid unit");return e*r},e.exports.distanceToRadians=function(e,t){var r=n[t||"kilometers"];if(void 0===r)throw new Error("Invalid unit");return e/r},e.exports.distanceToDegrees=function(e,t){var r=n[t||"kilometers"];if(void 0===r)throw new Error("Invalid unit");return e/r*57.2958}},"./MapStore2/node_modules/turf-inside/index.js":function(e,t,r){var n=r("./MapStore2/node_modules/turf-invariant/index.js");function o(e,t){for(var r=!1,n=0,o=t.length-1;n<t.length;o=n++){var i=t[n][0],u=t[n][1],a=t[o][0],c=t[o][1];u>e[1]!=c>e[1]&&e[0]<(a-i)*(e[1]-u)/(c-u)+i&&(r=!r)}return r}e.exports=function(e,t){var r=n.getCoord(e),i=t.geometry.coordinates;"Polygon"===t.geometry.type&&(i=[i]);for(var u=0,a=!1;u<i.length&&!a;u++)if(o(r,i[u][0])){for(var c=!1,l=1;l<i[u].length&&!c;)o(r,i[u][l])&&(c=!0),l++;c||(a=!0)}return a}},"./MapStore2/node_modules/turf-invariant/index.js":function(e,t){e.exports.geojsonType=function(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)},e.exports.collectionOf=function(e,t,r){if(!r)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(var n=0;n<e.features.length;n++){var o=e.features[n];if(!o||"Feature"!==o.type||!o.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!o.geometry||o.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+o.geometry.type)}},e.exports.featureOf=function(e,t,r){if(!r)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)},e.exports.getCoord=function(e){if(Array.isArray(e)&&"number"==typeof e[0]&&"number"==typeof e[1])return e;if(e){if("Feature"===e.type&&e.geometry&&"Point"===e.geometry.type&&Array.isArray(e.geometry.coordinates))return e.geometry.coordinates;if("Point"===e.type&&Array.isArray(e.coordinates))return e.coordinates}throw new Error("A coordinate, feature, or point geometry is required")}},"./MapStore2/node_modules/turf-point-on-surface/index.js":function(e,t,r){var n=r("./MapStore2/node_modules/turf-helpers/index.js").featureCollection,o=r("./MapStore2/node_modules/turf-center/index.js"),i=r("./MapStore2/node_modules/turf-distance/index.js"),u=r("./MapStore2/node_modules/turf-inside/index.js"),a=r("./MapStore2/node_modules/turf-explode/index.js");function c(e,t,r,n,o,i){if(Math.sqrt((o-r)*(o-r)+(i-n)*(i-n))===Math.sqrt((e-r)*(e-r)+(t-n)*(t-n))+Math.sqrt((o-e)*(o-e)+(i-t)*(i-t)))return!0}e.exports=function(e){"FeatureCollection"!==e.type&&("Feature"!==e.type&&(e={type:"Feature",geometry:e,properties:{}}),e=n([e]));for(var t=o(e),r=!1,l=0;!r&&l<e.features.length;){var s,f=e.features[l].geometry,d=!1;if("Point"===f.type)t.geometry.coordinates[0]===f.coordinates[0]&&t.geometry.coordinates[1]===f.coordinates[1]&&(r=!0);else if("MultiPoint"===f.type){var p=!1;for(s=0;!p&&s<f.coordinates.length;)t.geometry.coordinates[0]===f.coordinates[s][0]&&t.geometry.coordinates[1]===f.coordinates[s][1]&&(r=!0,p=!0),s++}else if("LineString"===f.type)for(s=0;!d&&s<f.coordinates.length-1;)c(t.geometry.coordinates[0],t.geometry.coordinates[1],f.coordinates[s][0],f.coordinates[s][1],f.coordinates[s+1][0],f.coordinates[s+1][1])&&(d=!0,r=!0),s++;else if("MultiLineString"===f.type)for(var g=0;g<f.coordinates.length;){d=!1,s=0;for(var m=f.coordinates[g];!d&&s<m.length-1;)c(t.geometry.coordinates[0],t.geometry.coordinates[1],m[s][0],m[s][1],m[s+1][0],m[s+1][1])&&(d=!0,r=!0),s++;g++}else if("Polygon"===f.type||"MultiPolygon"===f.type){u(t,{type:"Feature",geometry:f,properties:{}})&&(r=!0)}l++}if(r)return t;var b,y=n([]);for(l=0;l<e.features.length;l++)y.features=y.features.concat(a(e.features[l]).features);var O=1/0;for(l=0;l<y.features.length;l++){var v=i(t,y.features[l],"miles");v<O&&(O=v,b=y.features[l])}return b}},"./MapStore2/web/client/actions/draw.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"d",(function(){return o})),r.d(t,"g",(function(){return i})),r.d(t,"f",(function(){return u})),r.d(t,"c",(function(){return a})),r.d(t,"e",(function(){return c})),r.d(t,"b",(function(){return l})),r.d(t,"m",(function(){return s})),r.d(t,"n",(function(){return f})),r.d(t,"k",(function(){return d})),r.d(t,"i",(function(){return p})),r.d(t,"h",(function(){return g})),r.d(t,"l",(function(){return m})),r.d(t,"o",(function(){return b})),r.d(t,"j",(function(){return y}));var n="CHANGE_DRAWING_STATUS",o="DRAW:END_DRAWING",i="DRAW:SET_CURRENT_STYLE",u="DRAW:GEOMETRY_CHANGED",a="DRAW:DRAW_SUPPORT_STOPPED",c="DRAW:FEATURES_SELECTED",l="DRAW:DRAWING_FEATURES";function s(e,t,r,n,o){return{type:u,features:e,owner:t,enableEdit:r,textChanged:n,circleChanged:o}}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:c,features:e}}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:l,features:e}}function p(){return{type:a}}function g(e,t,r,o,i,u){return{type:n,status:e,method:t,owner:r,features:o,options:i,style:u}}function m(e,t){return{type:o,geometry:e,owner:t}}function b(e){return{type:i,currentStyle:e}}var y=function(e){return g("clean","",e,[],{})}},"./MapStore2/web/client/actions/featuregrid.js":function(e,t,r){"use strict";r.d(t,"N",(function(){return n})),r.d(t,"G",(function(){return o})),r.d(t,"n",(function(){return i})),r.d(t,"e",(function(){return u})),r.d(t,"L",(function(){return a})),r.d(t,"W",(function(){return c})),r.d(t,"V",(function(){return l})),r.d(t,"r",(function(){return s})),r.d(t,"h",(function(){return f})),r.d(t,"C",(function(){return d})),r.d(t,"F",(function(){return p})),r.d(t,"R",(function(){return g})),r.d(t,"Q",(function(){return m})),r.d(t,"k",(function(){return b})),r.d(t,"l",(function(){return y})),r.d(t,"E",(function(){return O})),r.d(t,"c",(function(){return v})),r.d(t,"D",(function(){return h})),r.d(t,"m",(function(){return j})),r.d(t,"H",(function(){return S})),r.d(t,"P",(function(){return w})),r.d(t,"I",(function(){return E})),r.d(t,"ab",(function(){return A})),r.d(t,"b",(function(){return P})),r.d(t,"u",(function(){return x})),r.d(t,"p",(function(){return T})),r.d(t,"Y",(function(){return M})),r.d(t,"i",(function(){return I})),r.d(t,"g",(function(){return F})),r.d(t,"B",(function(){return R})),r.d(t,"f",(function(){return C})),r.d(t,"d",(function(){return L})),r.d(t,"s",(function(){return G})),r.d(t,"K",(function(){return N})),r.d(t,"o",(function(){return D})),r.d(t,"a",(function(){return _})),r.d(t,"j",(function(){return U})),r.d(t,"A",(function(){return k})),r.d(t,"bb",(function(){return B})),r.d(t,"x",(function(){return q})),r.d(t,"O",(function(){return V})),r.d(t,"X",(function(){return H})),r.d(t,"w",(function(){return z})),r.d(t,"Z",(function(){return W})),r.d(t,"q",(function(){return Y})),r.d(t,"t",(function(){return Q})),r.d(t,"z",(function(){return K})),r.d(t,"S",(function(){return X})),r.d(t,"T",(function(){return J})),r.d(t,"U",(function(){return Z})),r.d(t,"y",(function(){return $})),r.d(t,"v",(function(){return ee})),r.d(t,"M",(function(){return te})),r.d(t,"J",(function(){return re})),r.d(t,"Ub",(function(){return ne})),r.d(t,"yb",(function(){return oe})),r.d(t,"tb",(function(){return ie})),r.d(t,"Sb",(function(){return ue})),r.d(t,"zb",(function(){return ae})),r.d(t,"eb",(function(){return ce})),r.d(t,"jb",(function(){return le})),r.d(t,"Gb",(function(){return se})),r.d(t,"Mb",(function(){return fe})),r.d(t,"xb",(function(){return de})),r.d(t,"Qb",(function(){return pe})),r.d(t,"Pb",(function(){return ge})),r.d(t,"qb",(function(){return me})),r.d(t,"ob",(function(){return be})),r.d(t,"pb",(function(){return ye})),r.d(t,"gb",(function(){return Oe})),r.d(t,"Kb",(function(){return ve})),r.d(t,"Ob",(function(){return he})),r.d(t,"db",(function(){return je})),r.d(t,"Hb",(function(){return Se})),r.d(t,"Xb",(function(){return we})),r.d(t,"Vb",(function(){return Ee})),r.d(t,"lb",(function(){return Ae})),r.d(t,"Tb",(function(){return Pe})),r.d(t,"Wb",(function(){return xe})),r.d(t,"ub",(function(){return Te})),r.d(t,"kb",(function(){return Me})),r.d(t,"Db",(function(){return Ie})),r.d(t,"Fb",(function(){return Fe})),r.d(t,"nb",(function(){return Re})),r.d(t,"vb",(function(){return Ce})),r.d(t,"fb",(function(){return Le})),r.d(t,"Eb",(function(){return Ge})),r.d(t,"ib",(function(){return Ne})),r.d(t,"hb",(function(){return De})),r.d(t,"Cb",(function(){return _e})),r.d(t,"rb",(function(){return Ue})),r.d(t,"Jb",(function(){return ke})),r.d(t,"Bb",(function(){return Be})),r.d(t,"Yb",(function(){return qe})),r.d(t,"Rb",(function(){return Ve})),r.d(t,"Nb",(function(){return He})),r.d(t,"Ab",(function(){return ze})),r.d(t,"wb",(function(){return We})),r.d(t,"sb",(function(){return Ye})),r.d(t,"cb",(function(){return Qe})),r.d(t,"mb",(function(){return Ke})),r.d(t,"Lb",(function(){return Xe})),r.d(t,"Ib",(function(){return Je}));var n="FEATUREGRID:SET_UP",o="FEATUREGRID:SELECT_FEATURES",i="FEATUREGRID:DESELECT_FEATURES",u="FEATUREGRID:CLEAR_SELECTION",a="FEATUREGRID:SET_SELECTION_OPTIONS",c="FEATUREGRID:TOGGLE_MODE",l="FEATUREGRID:TOGGLE_FEATURES_SELECTION",s="FEATUREGRID:FEATURES_MODIFIED",f="FEATUREGRID:NEW_FEATURE",d="FEATUREGRID:SAVE_CHANGES",p="FEATUREGRID:SAVING",g="FEATUREGRID:START_EDITING_FEATURE",m="FEATUREGRID:START_DRAWING_FEATURE",b="FEATUREGRID:DELETE_GEOMETRY",y="FEATUREGRID:DELETE_GEOMETRY_FEATURE",O="FEATUREGRID:SAVE_SUCCESS",v="FEATUREGRID:CLEAR_CHANGES",h="FEATUREGRID:SAVE_ERROR",j="FEATUREGRID:DELETE_SELECTED_FEATURES",S="SET_FEATURES",w="FEATUREGRID:SORT_BY",E="FEATUREGRID:SET_LAYER",A="QUERY:UPDATE_FILTER",P="FEATUREGRID:CHANGE_PAGE",x="FEATUREGRID:GEOMETRY_CHANGED",T="DOCK_SIZE_FEATURES",M="FEATUREGRID:TOGGLE_TOOL",I="FEATUREGRID:CUSTOMIZE_ATTRIBUTE",F="ASK_CLOSE_FEATURE_GRID_CONFIRM",R="FEATUREGRID:OPEN_GRID",C="FEATUREGRID:CLOSE_GRID",L="FEATUREGRID:CLEAR_CHANGES_CONFIRMED",G="FEATUREGRID:FEATURE_GRID_CLOSE_CONFIRMED",N="FEATUREGRID:SET_PERMISSION",D="FEATUREGRID:DISABLE_TOOLBAR",_="FEATUREGRID:ACTIVATE_TEMPORARY_CHANGES",U="FEATUREGRID:DEACTIVATE_GEOMETRY_FILTER",k="FEATUREGRID:ADVANCED_SEARCH",B="FEATUREGRID:ZOOM_ALL",q="FEATUREGRID:INIT_PLUGIN",V="FEATUREGRID:SIZE_CHANGE",H="FEATUREGRID:TOGGLE_SHOW_AGAIN_FLAG",z="FEATUREGRID:HIDE_SYNC_POPOVER",W="FEATUREGRID:UPDATE_EDITORS_OPTIONS",Y="FEATUREGRID:DOWNLOAD_IGRAC_DATA",Q="FEATUREGRID:FINISH_DOWNLOADING_IGRAC_DATA",K={EDIT:"EDIT",VIEW:"VIEW"},X="FEATUREGRID:START_SYNC_WMS",J="FEATUREGRID:STOP_SYNC_WMS",Z="STORE_ADVANCED_SEARCH_FILTER",$="LOAD_MORE_FEATURES",ee="FEATUREGRID:QUERY_RESULT",te="FEATUREGRID:SET_TIME_SYNC",re="FEATUREGRID:SET_PAGINATION";function ne(){return{type:H}}function oe(){return{type:z}}function ie(e,t){return{type:ee,features:e,pages:t}}function ue(e){return{type:Z,filterObj:e}}function ae(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:q,options:e}}function ce(){return{type:L}}function le(){return{type:G}}function se(e,t){return{type:o,features:e,append:t}}function fe(e){return{type:n,options:e}}function de(e){return{type:x,features:e}}function pe(){return{type:g}}function ge(){return{type:m}}function me(e){return{type:i,features:e}}function be(){return{type:b}}function ye(e){return{type:y,features:e}}function Oe(){return{type:u}}function ve(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.multiselect,r=void 0!==t&&t;return{type:a,multiselect:r}}function he(e,t){return{type:w,sortBy:e,sortOrder:t}}function je(e,t){return{type:P,page:e,size:t}}function Se(e){return{type:E,id:e}}function we(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:A,update:e,append:t}}function Ee(e,t){return{type:M,tool:e,value:t}}function Ae(e,t,r){return{type:I,name:e,key:t,value:r}}function Pe(){return{type:c,mode:K.EDIT}}function xe(){return{type:c,mode:K.VIEW}}function Te(e,t){return{type:s,features:e,updated:t}}function Me(e){return{type:f,features:e}}function Ie(){return{type:d}}function Fe(){return{type:O}}function Re(){return{type:j}}function Ce(){return{type:p}}function Le(){return{type:v}}function Ge(){return{type:h}}function Ne(){return{type:F}}function De(){return{type:C}}function _e(){return{type:R}}function Ue(e){return{type:D,disabled:e}}function ke(e){return{type:N,permission:e}}function Be(){return{type:k}}function qe(){return{type:B}}function Ve(){return{type:X}}function He(e,t){return{type:V,size:e,dockProps:t}}var ze=function(e){return{type:$,pages:e}},We=function(){return{type:Q}},Ye=function(){return{type:Y}},Qe=function(e){return{type:_,activated:e}},Ke=function(e){return{type:U,deactivated:e}},Xe=function(e){return{type:te,value:e}},Je=function(e){return{type:re,size:e}}},"./MapStore2/web/client/actions/wfsquery.js":function(e,t,r){"use strict";r.d(t,"h",(function(){return n})),r.d(t,"f",(function(){return o})),r.d(t,"e",(function(){return i})),r.d(t,"b",(function(){return u})),r.d(t,"c",(function(){return a})),r.d(t,"d",(function(){return c})),r.d(t,"a",(function(){return l})),r.d(t,"j",(function(){return s})),r.d(t,"p",(function(){return f})),r.d(t,"l",(function(){return d})),r.d(t,"k",(function(){return p})),r.d(t,"m",(function(){return g})),r.d(t,"i",(function(){return m})),r.d(t,"g",(function(){return b})),r.d(t,"o",(function(){return y})),r.d(t,"n",(function(){return O})),r.d(t,"A",(function(){return v})),r.d(t,"z",(function(){return h})),r.d(t,"v",(function(){return j})),r.d(t,"u",(function(){return S})),r.d(t,"t",(function(){return w})),r.d(t,"s",(function(){return E})),r.d(t,"r",(function(){return A})),r.d(t,"y",(function(){return P})),r.d(t,"x",(function(){return x})),r.d(t,"B",(function(){return T})),r.d(t,"q",(function(){return M})),r.d(t,"w",(function(){return I}));r("./MapStore2/web/client/libs/ajax.js");var n="LAYER_SELECTED_FOR_SEARCH",o="FEATURE_TYPE_SELECTED",i="FEATURE_TYPE_LOADED",u="FEATURE_LOADED",a="FEATURE_LOADING",c="FEATURE_TYPE_ERROR",l="FEATURE_ERROR",s="QUERY_CREATE",f="QUERY:UPDATE_QUERY",d="QUERY_RESULT",p="QUERY_ERROR",g="RESET_QUERY",m="QUERY",b="INIT_QUERY_PANEL",y="QUERY:TOGGLE_SYNC_WMS",O="QUERY:TOGGLE_LAYER_FILTER";function v(){return{type:y}}function h(){return{type:O}}function j(){return{type:b}}function S(e,t){return{type:o,url:e,typeName:t}}function w(e,t){return{type:i,typeName:e,featureType:t}}function E(e,t){return{type:c,typeName:e,error:t}}function A(e){return{type:a,isLoading:e}}function P(e,t,r,n,o){return{type:d,searchUrl:t,filterObj:r,result:e,queryOptions:n,reason:o}}function x(e){return{type:p,error:e}}function T(e,t){return{type:f,updates:e,reason:t}}function M(e,t){return{type:s,searchUrl:e,filterObj:t}}function I(e,t,r,n){return{type:m,searchUrl:e,filterObj:t,queryOptions:r,reason:n}}},"./MapStore2/web/client/api/WFS.js":function(e,t,r){"use strict";r.r(t),r.d(t,"toDescribeURL",(function(){return g})),r.d(t,"getFeatureSimple",(function(){return m})),r.d(t,"getCapabilitiesURL",(function(){return b})),r.d(t,"getFeatureURL",(function(){return y})),r.d(t,"getFeature",(function(){return O})),r.d(t,"getCapabilities",(function(){return v})),r.d(t,"describeFeatureTypeOGCSchemas",(function(){return h})),r.d(t,"describeFeatureType",(function(){return j}));var n=r("./MapStore2/web/client/libs/ajax.js"),o=r.n(n),i=r("./node_modules/url/url.js"),u=r.n(i),a=r("./MapStore2/node_modules/object-assign/index.js"),c=r.n(a);function l(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g=function(e,t){var r=u.a.parse(e,!0);return u.a.format(d(d({},r),{},{search:void 0,query:d(d({},r.query),{},{service:"WFS",version:"1.1.0",typeName:t,outputFormat:"application/json",request:"DescribeFeatureType"})}))},m=function(e,t){return o.a.get(e+"?service=WFS&version=1.1.0&request=GetFeature",{params:c()({outputFormat:"application/json"},t)}).then((function(e){return"object"!==s(e.data)?JSON.parse(e.data):e.data}))},b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.version,n=void 0===r?"1.1.0":r,o=u.a.parse(e,!0);return u.a.format(c()({},o,{query:c()({service:"WFS",version:n,request:"GetCapabilities"},o.query)}))},y=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.version,o=void 0===n?"1.1.0":n,i=l(r,["version"]),a=u.a.parse(e,!0);return u.a.format(c()({},a,{query:c()(d({service:"WFS",typeName:t,version:o,request:"GetFeature"},i),a.query)}))},O=function(e,t,r){return o.a.get(y(e,t,r))},v=function(e){return o.a.get(b(e))},h=function(e,t){var n=u.a.parse(e,!0),i=u.a.format(c()({},n,{query:c()({service:"WFS",version:"1.1.0",typeName:t,request:"DescribeFeatureType"},n.query)}));return new Promise((function(e){Promise.all([r.e(2),r.e(33)]).then(function(){var t=r("./MapStore2/web/client/utils/ogc/WFS/index.js").unmarshaller;e(o.a.get(i).then((function(e){var r=t.unmarshalString(e.data);return r&&r.value})))}.bind(null,r)).catch(r.oe)}))},j=function(e,t){return o.a.get(g(e,t)).then((function(e){return e.data}))}},"./MapStore2/web/client/components/data/identify/viewers/HTMLViewer.jsx":function(e,t,r){"use strict";var n=r("./MapStore2/node_modules/react/index.js"),o=r.n(n),i=r("./MapStore2/node_modules/prop-types/index.js"),u=r.n(i),a=r("./MapStore2/web/client/components/misc/HtmlRenderer.jsx");function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=g(e);if(t){var o=g(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return p(this,r)}}function p(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m,b,y,O=/^[\s\S]*<body>([\s\S]*)<\/body>[\s\S]*$/i,v=/(<style[\s\=\w\/\"]*>[^<]*<\/style>)/i,h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(u,e);var t,r,n,i=d(u);function u(){return l(this,u),i.apply(this,arguments)}return t=u,(r=[{key:"shouldComponentUpdate",value:function(e){return e.response!==this.props.response}},{key:"render",value:function(){var e=this.props.response||"",t=v.exec(e),r=t&&2===t.length?v.exec(e)[1]:"";r=r.replace(/body[,]+/g,"");var n=e.replace(O,"$1").trim();return o.a.createElement(a.a,{html:r+n})}}])&&s(t.prototype,r),n&&s(t,n),u}(o.a.Component);m=h,b="propTypes",y={response:u.a.string},b in m?Object.defineProperty(m,b,{value:y,enumerable:!0,configurable:!0,writable:!0}):m[b]=y,t.a=h},"./MapStore2/web/client/components/data/identify/viewers/JSONViewer.jsx":function(e,t,r){"use strict";var n=r("./MapStore2/node_modules/react/index.js"),o=r.n(n),i=r("./MapStore2/node_modules/recompose/es/Recompose.js"),u=r("./MapStore2/node_modules/lodash/lodash.js"),a=r("./MapStore2/web/client/utils/TemplateUtils.js"),c=r("./MapStore2/web/client/components/misc/HtmlRenderer.jsx"),l=r("./MapStore2/node_modules/prop-types/index.js"),s=r.n(l),f=r("./MapStore2/web/client/utils/StringUtils.js");function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=v(e);if(t){var o=v(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return y(this,r)}}function y(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?O(e):t}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var j=["exclude","titleStyle","listStyle","componentStyle","title","feature"],S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(a,e);var t,r,n,i=b(a);function a(){var e;p(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return h(O(e=i.call.apply(i,[this].concat(r))),"getBodyItems",(function(){return Object.keys(e.props).filter(e.toExclude).map((function(t){var r=e.renderProperty(e.props[t]);return o.a.createElement("tr",{key:t,style:e.props.listStyle},o.a.createElement("td",null,t),o.a.createElement("td",null,Object(f.a)(r)?o.a.createElement("span",{dangerouslySetInnerHTML:{__html:r}}):r))}))})),h(O(e),"renderHeader",(function(){return e.props.title?o.a.createElement("thead",{key:e.props.title,style:e.props.titleStyle,className:"ms-properties-viewer-title"},o.a.createElement("tr",null,o.a.createElement("th",{colSpan:"2"},e.props.title))):null})),h(O(e),"renderBody",(function(){var t=e.getBodyItems();return 0===t.length?null:o.a.createElement("tbody",{className:"ms-properties-viewer-body"},t)})),h(O(e),"renderProperty",(function(e){return Object(u.isString)(e)?e:JSON.stringify(e)})),h(O(e),"toExclude",(function(t){return-1===j.concat(e.props.exclude).indexOf(t)})),e}return t=a,(r=[{key:"render",value:function(){return o.a.createElement("table",{className:"ms-properties-viewer",style:this.props.componentStyle},this.renderHeader(),this.renderBody())}}])&&g(t.prototype,r),n&&g(t,n),a}(o.a.Component);h(S,"displayName","PropertiesViewer"),h(S,"propTypes",{title:s.a.string,exclude:s.a.array,titleStyle:s.a.object,listStyle:s.a.object,componentStyle:s.a.object}),h(S,"defaultProps",{exclude:[],titleStyle:{},listStyle:{},componentStyle:{}});var w=S;function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var A={TEMPLATE:function(e){var t=e.layer,r=void 0===t?{}:t,n=e.response;return o.a.createElement("div",{className:"ms-template-viewer"},n.features.map((function(e,t){return o.a.createElement("div",{key:t},o.a.createElement(c.a,{html:Object(u.template)(Object(a.getCleanTemplate)(r.featureInfo&&r.featureInfo.template||"",e,/\$\{.*?\}/g,2,1))(e)}))})))},PROPERTIES:function(e){var t=e.response,r=e.layer,n=e.rowViewer,i=r&&r.rowViewer||n||w;return o.a.createElement("div",{className:"mapstore-json-viewer"},(t.features||[]).map((function(e,t){return o.a.createElement(i,E({key:t,feature:e,title:e.id+"",exclude:["bbox"]},e.properties))})))}};t.a=Object(i.shouldUpdate)((function(e,t){return t.response!==e.response}))((function(e){var t=e.layer&&e.layer.featureInfo&&e.layer.featureInfo.format&&e.layer.featureInfo.template&&"<p><br></p>"!==e.layer.featureInfo.template&&e.layer.featureInfo.format||"PROPERTIES",r=A[t]||A.PROPERTIES;return o.a.createElement(r,e)}))},"./MapStore2/web/client/components/data/identify/viewers/TextViewer.jsx":function(e,t,r){"use strict";var n=r("./MapStore2/node_modules/prop-types/index.js"),o=r.n(n),i=r("./MapStore2/node_modules/react/index.js"),u=r.n(i);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p(e);if(t){var o=p(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return d(this,r)}}function d(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g,m,b,y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(i,e);var t,r,n,o=f(i);function i(){return c(this,i),o.apply(this,arguments)}return t=i,(r=[{key:"shouldComponentUpdate",value:function(e){return e.response!==this.props.response}},{key:"render",value:function(){return u.a.createElement("pre",null,this.props.response)}}])&&l(t.prototype,r),n&&l(t,n),i}(u.a.Component);g=y,m="propTypes",b={response:o.a.string},m in g?Object.defineProperty(g,m,{value:b,enumerable:!0,configurable:!0,writable:!0}):g[m]=b,t.a=y},"./MapStore2/web/client/components/map/openlayers/img/marker-icon.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAGmklEQVRYw7VXeUyTZxjvNnfELFuyIzOabermMZEeQC/OclkO49CpOHXOLJl/CAURuYbQi3KLgEhbrhZ1aDwmaoGqKII6odATmH/scDFbdC7LvFqOCc+e95s2VG50X/LLm/f4/Z7neY/ne18aANCmAr5E/xZf1uDOkTcGcWR6hl9247tT5U7Y6SNvWsKT63P58qbfeLJG8M5qcgTknrvvrdDbsT7Ml+tv82X6vVxJE33aRmgSyYtcWVMqX97Yv2JvW39UhRE2HuyBL+t+gK1116ly06EeWFNlAmHxlQE0OMiV6mQCScusKRlhS3QLeVJdl1+23h5dY4FNB3thrbYboqptEFlphTC1hSpJnbRvxP4NWgsE5Jyz86QNNi/5qSUTGuFk1gu54tN9wuK2wc3o+Wc13RCmsoBwEqzGcZsxsvCSy/9wJKf7UWf1mEY8JWfewc67UUoDbDjQC+FqK4QqLVMGGR9d2wurKzqBk3nqIT/9zLxRRjgZ9bqQgub+DdoeCC03Q8j+0QhFhBHR/eP3U/zCln7Uu+hihJ1+bBNffLIvmkyP0gpBZWYXhKussK6mBz5HT6M1Nqpcp+mBCPXosYQfrekGvrjewd59/GvKCE7TbK/04/ZV5QZYVWmDwH1mF3xa2Q3ra3DBC5vBT1oP7PTj4C0+CcL8c7C2CtejqhuCnuIQHaKHzvcRfZpnylFfXsYJx3pNLwhKzRAwAhEqG0SpusBHfAKkxw3w4627MPhoCH798z7s0ZnBJ/MEJbZSbXPhER2ih7p2ok/zSj2cEJDd4CAe+5WYnBCgR2uruyEw6zRoW6/DWJ/OeAP8pd/BGtzOZKpG8oke0SX6GMmRk6GFlyAc59K32OTEinILRJRchah8HQwND8N435Z9Z0FY1EqtxUg+0SO6RJ/mmXz4VuS+DpxXC3gXmZwIL7dBSH4zKE50wESf8qwVgrP1EIlTO5JP9Igu0aexdh28F1lmAEGJGfh7jE6ElyM5Rw/FDcYJjWhbeiBYoYNIpc2FT/SILivp0F1ipDWk4BIEo2VuodEJUifhbiltnNBIXPUFCMpthtAyqws/BPlEF/VbaIxErdxPphsU7rcCp8DohC+GvBIPJS/tW2jtvTmmAeuNO8BNOYQeG8G/2OzCJ3q+soYB5i6NhMaKr17FSal7GIHheuV3uSCY8qYVuEm1cOzqdWr7ku/R0BDoTT+DT+ohCM6/CCvKLKO4RI+dXPeAuaMqksaKrZ7L3FE5FIFbkIceeOZ2OcHO6wIhTkNo0ffgjRGxEqogXHYUPHfWAC/lADpwGcLRY3aeK4/oRGCKYcZXPVoeX/kelVYY8dUGf8V5EBRbgJXT5QIPhP9ePJi428JKOiEYhYXFBqou2Guh+p/mEB1/RfMw6rY7cxcjTrneI1FrDyuzUSRm9miwEJx8E/gUmqlyvHGkneiwErR21F3tNOK5Tf0yXaT+O7DgCvALTUBXdM4YhC/IawPU+2PduqMvuaR6eoxSwUk75ggqsYJ7VicsnwGIkZBSXKOUww73WGXyqP+J2/b9c+gi1YAg/xpwck3gJuucNrh5JvDPvQr0WFXf0piyt8f8/WI0hV4pRxxkQZdJDfDJNOAmM0Ag8jyT6hz0WGXWuP94Yh2jcfjmXAGvHCMslRimDHYuHuDsy2QtHuIavznhbYURq5R57KpzBBRZKPJi8eQg48h4j8SDdowifdIrEVdU+gbO6QNvRRt4ZBthUaZhUnjlYObNagV3keoeru3rU7rcuceqU1mJBxy+BWZYlNEBH+0eH4vRiB+OYybU2hnblYlTvkHinM4m54YnxSyaZYSF6R3jwgP7udKLGIX6r/lbNa9N6y5MFynjWDtrHd75ZvTYAPO/6RgF0k76mQla3FGq7dO+cH8sKn0Vo7nDllwAhqwLPkxrHwWmHJOo+AKJ4rab5OgrM7rVu8eWb2Pu0Dh4eDgXoOfvp7Y7QeqknRmvcTBEyq9m/HQQSCSz6LHq3z0yzsNySRfMS253wl2KyRDbcZPcfJKjZmSEOjcxyi+Y8dUOtsIEH6R2wNykdqrkYJ0RV92H0W58pkfQk7cKevsLK10Py8SdMGfXNXATY+pPbyJR/ET6n9nIfztNtZYRV9XniQu9IA2vOVgy4ir7GCLVmmd+zjkH0eAF9Po6K61pmCXHxU5rHMYd1ftc3owjwRSVRzLjKvqZEty6cRUD7jGqiOdu5HG6MdHjNcNYGqfDm5YRzLBBCCDl/2bk8a8gdbqcfwECu62Fg/HrggAAAABJRU5ErkJggg=="},"./MapStore2/web/client/components/misc/HtmlRenderer.jsx":function(e,t,r){"use strict";var n=r("./MapStore2/node_modules/prop-types/index.js"),o=r.n(n),i=r("./MapStore2/node_modules/react/index.js"),u=r.n(i);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=g(e);if(t){var o=g(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return d(this,r)}}function d(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(i,e);var t,r,n,o=f(i);function i(){var e;c(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return m(p(e=o.call.apply(o,[this].concat(r))),"getSourceCode",(function(){return{__html:e.props.html}})),e}return t=i,(r=[{key:"render",value:function(){return u.a.createElement("div",{id:this.props.id,dangerouslySetInnerHTML:this.getSourceCode()})}}])&&l(t.prototype,r),n&&l(t,n),i}(u.a.Component);m(b,"propTypes",{html:o.a.string,id:o.a.string}),t.a=b},"./MapStore2/web/client/product/assets/img/marker-icon-red.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QwKDiknI+uvvgAABttJREFUWMOll2uMVVcVx/9773PuPY/7mBcUZ4q1JmbiF6nQwtSY2pSYtobCB2yMrxhrHGOrfioEjQYlMWikH7TxUWNbjTFWU6gComm1UEgMAi20kFCrIMPMFIZ53Xvn3vPYZ++1/HBh6GVmmDu6k/+Xk/1fv7Mfa61zBDOjnfHihzZ1Gcg+YcUyCZrkvPf2A4efG2/HK24G+cuHN/cLS59nIT7DzH1Syli5jrGZUUTkKyGuAPa3RPTsA0f3vbEkyHfEBrlunbMVUn47LBYRhkE+7/uQORdCCDAzyAA6mkEURbpWqQpm/l4Q0I57X95rFoUcWLvxvazk71039/5b+noDVymQzsCZAWcZ2BKEkhCuC+E6kDkXmbUYv3QpylJ9zhj58EPHd/9zQcgf1228Xwnxh3Jnp+rq6XE5TmAb8aJ7rnwPIvQxPTlppicnLQGf3PSPvS/Mgey/c1OPVfzv3t7ecuj7MJUZsLVodwil4JQKiHSKS6OjDaFs/4a//2kUAOS1SVbxLwulkhd4HvTENMgYMPMcQcp5n5Mx0FMV+Pk8iuWyY6369bXYEgCeX7vh06zk+lu6O/O2WgeIWiQdB25nAbmeLsiOInI9XXA7y5A5d85cW62jp6s7L5Qa2LP2oS8CgNi3ZmOQCjP+7t6+wIOEnWm0bINT8kGej/FqBY1GAyZJoVwHQamE5YUSlCWYWgUgef2MiiESEIYuvZ14pLqdBOlq5eRF6Oehr0wAdP0iqDBAKhSGRoax8v6P4M5PbULxtlvRGB3Dud0HcG7Pn7Gyuwee77W8nJ2pIlzeA6UUJZSuVpv7+jcHfmF9yVGujTIAAoCAUA5URwEj01Po/8InsOprj8Dr6oCQEvmOElbcvQb+imV462+H0VXsAGcWbLnpZwHpKjQMmyTL3pSC+Z4w7/qkM4CuS7gOalECUS6g/7Ob571R7/nYfQhvX4npRh0yl2vxk84Q5l1fMN8jCRjwXQVOdXOrrko6AnGaYtldqyCEWPDqrhhYjcSkEIpb/Jxq+K4CAQOOIRs0SwWBmWbNzAzLBKdQWDQRzdVMaPUThBAgIl8COBUlCYRSrW+SZcgrB2Ovvn5TyNjJM8iznbMTQilESQICn5RE4nAjzTKhVIuZkhTlvIvKW+cxfOTYvIDx02dx+ehr6PQDkM7mVIAo0dqyfEUaaY5X01gLpcDWzoqSFCJO0Vcs4OCWHXjz+f0g0yywRITzL76Cl778dbyrWIbKLGwjavELpVBNG9rAHBdPf/DeXmZ3eE3frZKmKuDsHZVaSridZTTY4kK9jjiOUVqxHPUr41Cui9uLJZScHMzEOJivJ6NwHciuDrw6Omxh0CeYGc/c8dFjt5XLd/VIF7Y607JsFhaqWG4mJlskWiPv5uBJBYpmYGp1CG7dalUuYoIyHqpWjz1y6qUBBwA0xK6Rev3Z5cuXBaZmm3VolgLY6jSoVoHMuSg4Dqheh87M7DwGtaxeeg5Gx6ZiDfH92QIpnfgFbYyu6QzSC5t16AaxFeDYwM4k4NgABvPOk16ISqKRWlvvfrBz7yxk8MSRjMA/uVyvxcp3wJy1XMe2BUCFPkYb9dgyPfHwzt/Z1n5i7ZMTSaoispCBD+ZsyZKBi7qOUE0TYTN6uqWfAMCjZw5dBvDk0EwUK99rNqgbesVNBUAGPi7W6zGAJx47e2hyDgQAjLY7KzpB3WRQoT9vB1xIMvAxk2nMZJaEq3/wzrgtkMfOHppkIXZdjKJYhcHV1G9vFSr0MdRoRATeOXjiSHVBCAAYL7erZqyt6RQqDCAYi8ophKjpFI3MGGvtD2+MOQfylaMHaoL5u0NxGsvAB4FBRAuKBSB8DxeiKCLJOx49c6i+KAQAkMt+FFubVrMUTiGEYF5QquihohPElhK/OvHj+cLNCxk8cSQi8PahNItl4Deb1jxnIYSA9EIMpVnMQnzrc/85nbQNAQAd0VOptfUpnUAW8vPeKFEMMaUTpNbUum3wi4ViLQj56r8Oppbpm8OZjYUfAlK2ZreUkF4ew1kWk5Tf+PiZfXrJEAAY637fM5poekqnUGEOID0rp5DHlE6RWprofrD7VzeLc1PI9oNPGSuw7SJx82xU8xNVKAkEHoZslhCw7VqN+p8gADD2uvebzJrL45mBLIQAEVSxgCvawBBGx04Hzy0WY1HIdt5PLMTWEUKCwIfwPbDvYYQ4gZRbt/N++r8hAPCluw/uNmQvjFtit7OMK8YyEZ0fPPXXPe3424LgZ8RWyceHGVoTYQQiA7Cl7X+Xdv9+AeDnH7jvtbzAHSnj5OAbL69p1yexhMFCPJ5ACBZiC5ZkXELPYGb8dNX6bUv1/Bd7pfPVmVDtrAAAAABJRU5ErkJggg=="},"./MapStore2/web/client/product/assets/img/marker-shadow.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC"},"./MapStore2/web/client/reducers/featuregrid.js":function(e,t,r){"use strict";var n=r("./MapStore2/node_modules/object-assign/index.js"),o=r.n(n),i=r("./MapStore2/node_modules/lodash/lodash.js"),u=r("./MapStore2/web/client/actions/featuregrid.js"),a=r("./MapStore2/web/client/actions/wfsquery.js"),c=r("./MapStore2/web/client/actions/draw.js"),l=r("./MapStore2/node_modules/uuid/index.js"),s=r.n(l);function f(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b={advancedFilters:{},filters:{},editingAllowedRoles:["ADMIN"],enableColumnFilters:!0,showFilteredObject:!1,timeSync:!1,showTimeSync:!1,open:!1,canEdit:!1,focusOnEdit:!1,showAgain:!1,showPopoverSync:!localStorage||null===localStorage.getItem("showPopoverSync")||"true"===localStorage.getItem("showPopoverSync"),mode:u.z.VIEW,changes:[],pagination:{page:0,size:20},select:[],multiselect:!1,drawing:!1,newFeatures:[],features:[],dockSize:.35,customEditorsOptions:{rules:[]}},y=function(e,t){return t===e||void 0!==e.id&&null!==e.id&&e.id===t.id},O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.filter((function(t){return y(e,t)})).length>0},v=function(e,t,r,n){return e.map((function(e){return O(e,t)?function(e,t,r){return g(g({},e),{},r?{properties:g(g({},e.properties),t),geometry:r.geometry}:{properties:g(g({},e.properties),t)})}(e,r,n):e}))};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.x:return o()({},e,{showPopoverSync:!localStorage||null===localStorage.getItem("showPopoverSync")||"true"===localStorage.getItem("showPopoverSync"),editingAllowedRoles:t.options.editingAllowedRoles||e.editingAllowedRoles||["ADMIN"],virtualScroll:!!t.options.virtualScroll,maxStoredPages:t.options.maxStoredPages||5});case u.y:case u.b:return o()({},e,{pagination:{page:void 0!==t.page?t.page:e.pagination.page,size:void 0!==t.size?t.size:e.pagination.size}});case u.J:var r;return g(g({},e),{},{pagination:g(g({},null!==(r=e.pagination)&&void 0!==r?r:{}),{},{size:t.size})});case u.G:var n=t.features.filter((function(e){return"empty_row"!==e.id}));return e.multiselect&&t.append?o()({},e,{select:t.append?Object(i.uniqBy)([].concat(f(e.select),f(n)),"id"):n}):n&&e.select&&e.select[0]&&n[0]&&1===e.select.length&&y(n[0],e.select[0])?e:o()({},e,{select:n||[]});case u.V:var l=e.select.filter((function(e){return!O(e,t.features)})),d=t.features.filter((function(t){return!O(t,e.select)})),p=l.concat(d||[]);return o()({},e,{select:p});case u.n:return o()({},e,{select:e.select.filter((function(e){return!O(e,t.features)}))});case u.L:return o()({},e,{multiselect:t.multiselect});case u.Z:return o()({},e,{customEditorsOptions:t.payload});case u.N:return o()({},e,t.options||{});case u.e:return o()({},e,{select:[],changes:[]});case u.H:return o()({},e,{features:t.features});case u.p:return o()({},e,{dockSize:t.dockSize});case u.I:return o()({},e,{selectedLayer:t.id});case u.Y:return o()({},e,{tools:g(g({},e.tools),{},m({},t.tool,void 0===t.value?!(e.tools&&e.tools[t.tool]):t.value))});case u.i:return o()({},e,{attributes:g(g({},e.attributes),{},m({},t.name,g(g({},e.attributes&&e.attributes[t.name]||{}),{},m({},t.key,t.value||e.attributes&&e.attributes[t.name]&&!e.attributes[t.name][t.key]))))});case u.W:return o()({},e,{showPopoverSync:localStorage&&null!==localStorage.getItem("showPopoverSync")?"true"===localStorage.getItem("showPopoverSync"):t.mode!==u.z.EDIT,tools:t.mode===u.z.EDIT?{}:e.tools,mode:t.mode,multiselect:t.mode===u.z.EDIT,drawing:!1});case u.r:var h=t.features.filter((function(e){return e._new}))||[];return o()({},e,{newFeatures:h.length>0?v(e.newFeatures,h,t.updated,null):e.newFeatures,changes:[].concat(f(e&&e.changes||[]),f(t.features.filter((function(e){return!e._new})).map((function(e){return{id:e.id,updated:t.updated}}))))});case u.F:return o()({},e,{saving:!0,loading:!0});case u.E:return o()({},e,{deleteConfirm:!1,saved:!0,saving:!1,drawing:!1,loading:!1});case u.c:return o()({},e,{saved:!1,deleteConfirm:!1,drawing:!1,newFeatures:[],changes:[]});case u.h:var j=s.a.v1();return o()({},e,{newFeatures:t.features.map((function(e){return g(g({},e),{},{_new:!0,id:j,type:"Feature",geometry:null})})),select:t.features.map((function(e){return g(g({},e),{},{_new:!0,id:j,type:"Feature",geometry:null})}))});case u.D:return o()({},e,{deleteConfirm:!1,saving:!1,loading:!1,drawing:!1});case u.u:var S=t.features.filter((function(e){return e._new}))||[];return o()({},e,{newFeatures:S.length>0?v(e.newFeatures,S,null,{geometry:g({},Object(i.head)(S).geometry)}):e.newFeatures,changes:t.features.filter((function(e){return!e._new})).map((function(e,r){return{id:e.id,updated:{geometry:t.features[r].geometry}}})),drawing:!1});case u.l:var w=t.features.filter((function(e){return e._new}))||[];return o()({},e,{newFeatures:w.length>0?v(e.newFeatures,w,null,{geometry:null}):e.newFeatures,changes:[].concat(f(e&&e.changes||[]),f(t.features.filter((function(e){return!e._new})).map((function(e){return{id:e.id,updated:{geometry:null}}}))))});case a.e:return o()({},e,{localType:Object(i.get)(t,"featureType.original.featureTypes[0].properties[1].localType")});case u.Q:return o()({},e,{drawing:!e.drawing});case u.B:return o()({},e,{open:!0});case u.f:return o()({},e,{open:!1,pagination:{page:0,size:e.pagination.size},mode:u.z.VIEW,tools:{},saved:!1,deleteConfirm:!1,drawing:!1,newFeatures:[],changes:[]});case u.o:return o()({},e,{disableToolbar:t.disabled});case u.K:return o()({},e,{canEdit:t.permission.canEdit});case c.a:return"clean"===t.status?o()({},e,{drawing:!1}):e;case u.ab:var E=t.update||{},A=E.attribute;if(A&&t.append){var P=e.filters[A].value,x=[];(null==P?void 0:P.attribute)&&(x=[P]),Object(i.isArray)(P)&&(x=P);var T=[].concat(f(x),[t.update.value]);return o()({},e,{filters:m({},A,{attribute:A,enabled:!0,type:"geometry",operator:"OR",value:T})})}return A?o()({},e,{filters:g(g({},e.filters),{},m({},A,t.update))}):e;case a.j:return o()({},e,{filters:{}});case u.O:var M=t.dockProps&&t.dockProps.maxDockSize,I=t.dockProps&&t.dockProps.minDockSize,F=M&&I&&I<=t.size&&M>=t.size&&t.size||M&&M<t.size&&M||I&&I>t.size&&I||t.size;return o()({},e,{dockSize:F});case u.U:return o()({},e,{advancedFilters:o()({},e.advancedFilters,m({},e.selectedLayer,t.filterObj))});case u.v:return o()({},e,{features:t.features||[],pages:t.pages||[]});case u.w:return o()({},e,{showPopoverSync:!1});case u.X:return o()({},e,{showAgain:!e.showAgain});case u.M:return o()({},e,{timeSync:t.value});case u.q:return o()({},e,{isIGRACDownloading:!0});case u.t:return o()({},e,{isIGRACDownloading:!1});default:return e}}},"./MapStore2/web/client/selectors/context.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return f})),r.d(t,"b",(function(){return b}));var n=r("./MapStore2/node_modules/reselect/es/index.js"),o=r("./MapStore2/web/client/selectors/localConfig.js"),i=r("./MapStore2/node_modules/lodash/lodash.js"),u=r("./MapStore2/web/client/utils/ConfigUtils.js"),a=r("./MapStore2/web/client/utils/PluginsUtils.js");function c(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var s=function(e){return e.context&&e.context.currentContext},f=function(e){return e.context&&e.context.resource},d=Object(n.a)((function(){return Object(i.get)(u.default.getConfigProp("plugins"),"desktop")}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{desktop:[].concat(c(e),["Context"])}})),p=function(e){return d(e)},g=Object(n.a)((function(e){return Object(i.get)(s(e),"plugins")}),(function(e){return Object(i.get)(s(e),"userPlugins")}),(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e&&{desktop:[].concat(c(Object(i.get)(e,"desktop",[])),c(t.filter((function(e){return e.active}))))}})),m=(Object(n.a)(s,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.templates})),function(e){return function(e){return Object(i.get)(e,"context.loading")}(e)?p(e):g(e)||d(e)}),b=function(e){return Object(n.a)(s,m,(function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!t||Object(i.findIndex)(Object(i.get)(r,"desktop",[]),(function(t){return t.name===e}))>-1}))};Object(n.a)((function(e){return Object(a.g)(e,Object(o.b)(e))}),(function(e){return JSON.stringify(e)}))},"./MapStore2/web/client/selectors/dimension.js":function(e,t,r){"use strict";r.d(t,"b",(function(){return f})),r.d(t,"d",(function(){return p})),r.d(t,"i",(function(){return g})),r.d(t,"f",(function(){return m})),r.d(t,"a",(function(){return b})),r.d(t,"h",(function(){return y})),r.d(t,"g",(function(){return O})),r.d(t,"e",(function(){return v})),r.d(t,"c",(function(){return h}));var n=r("./MapStore2/web/client/selectors/layers.js"),o=r("./MapStore2/node_modules/reselect/es/index.js"),i=r("./MapStore2/node_modules/lodash/lodash.js");function u(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=function(e,t){return function(r){return Object(i.get)(r,"dimension.data[".concat(t,"][").concat(e,"]"))}},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Object(i.find)(e.dimensions||[],{name:t})},p=function(e,t){return function(r){return f(e.id,t)(r)||d(e,t)}},g=function(e){return Object(n.p)(e).reduce((function(t,r){var n=p(r,"time")(e);return n?l(l({},t),{},s({},r.id,n)):t}),{})},m=function(e){return Object(n.p)(e).filter((function(e){return d(e,"time")}))},b=function(e){var t=Object(i.get)(e,"dimension.currentTime");return t&&t.split("/")[0]},y=function(e){return Object(i.get)(e,"dimension.offsetTime")},O=function(e){return!!y(e)},v=(Object(o.a)(g,(function(e){return Object.keys(e).reduce((function(t,r){return[].concat(u(t),u(e[r]&&e[r].values||[]))}),[]).sort()||[]})),function(e){return function(t){return u(Object(i.get)(p(e,"time")(t),"values",[])).sort()}}),h=function(e,t){var r=f(t,"time")(e),n=r&&r.domain&&r.domain.split("--");if(n&&2===n.length)return n&&{start:n[0],end:n[1]};var o=r&&r.domain&&r.domain.split(",");return o&&o.length>0?{start:o[0],end:o[o.length-1]}:null}},"./MapStore2/web/client/selectors/featuregrid.js":function(e,t,r){"use strict";r.d(t,"A",(function(){return y})),r.d(t,"c",(function(){return O})),r.d(t,"z",(function(){return v})),r.d(t,"b",(function(){return h})),r.d(t,"u",(function(){return j})),r.d(t,"x",(function(){return S})),r.d(t,"l",(function(){return A})),r.d(t,"i",(function(){return P})),r.d(t,"k",(function(){return x})),r.d(t,"e",(function(){return T})),r.d(t,"C",(function(){return M})),r.d(t,"o",(function(){return I})),r.d(t,"d",(function(){return F})),r.d(t,"h",(function(){return R})),r.d(t,"f",(function(){return C})),r.d(t,"s",(function(){return L})),r.d(t,"y",(function(){return G})),r.d(t,"a",(function(){return N})),r.d(t,"j",(function(){return D})),r.d(t,"D",(function(){return _})),r.d(t,"F",(function(){return U})),r.d(t,"G",(function(){return k})),r.d(t,"E",(function(){return B})),r.d(t,"q",(function(){return q})),r.d(t,"p",(function(){return V})),r.d(t,"m",(function(){return H})),r.d(t,"t",(function(){return z})),r.d(t,"r",(function(){return W})),r.d(t,"g",(function(){return Y})),r.d(t,"B",(function(){return Q})),r.d(t,"w",(function(){return K})),r.d(t,"n",(function(){return X})),r.d(t,"v",(function(){return J}));var n=r("./MapStore2/node_modules/lodash/lodash.js"),o=r("./MapStore2/web/client/selectors/layers.js"),i=r("./MapStore2/web/client/utils/ogc/WFS/base.js"),u=r("./MapStore2/web/client/selectors/locale.js"),a=r("./MapStore2/web/client/utils/MapUtils.js"),c=r("./MapStore2/web/client/utils/FeatureGridUtils.js"),l=r("./MapStore2/web/client/selectors/dimension.js"),s=r("./MapStore2/web/client/selectors/security.js"),f=r("./MapStore2/web/client/selectors/maptype.js"),d=r("./MapStore2/web/client/selectors/query.js");function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b=o.g,y=function(e){return Object(n.get)(e,"featuregrid.selectedLayer")},O=function(e){return Object(n.get)(e,"featuregrid.chartDisabled",!1)},v=function(e){return e&&e.featuregrid&&e.featuregrid.select},h=function(e){return e&&e.featuregrid&&e.featuregrid.changes},j=function(e){return e&&e.featuregrid&&e.featuregrid.newFeatures},S=function(e){return Object(n.head)(v(e))},w=function(e){var t=Object(d.b)(e);if(t){var r=Object(i.findGeometryProperty)(t);return r&&r.localType}return null},E=["Geometry","GeometryCollection"],A=function(e){return!Object(n.head)(E.filter((function(t){return w(e)===t})))},P=function(e){return h(e)&&h(e).length>0},x=function(e){return j(e)&&j(e).length>0},T=function(e){return e&&e.featuregrid&&e.featuregrid.filters},M=function(e){return b(e,y(e))},I=function(e){return e&&e.featuregrid&&e.featuregrid.open},F=function(e,t){return Object(n.get)(T(e),t)},R=function(e){var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.title||e.name}(b(e,y(e)));return Object(n.isObject)(t)?t[Object(u.b)(e)]||t.default||"":t},C=function(e){return(Object(d.a)(e)||[]).map((function(t){var r=function(e,t){return Object(n.get)(e,"featuregrid.attributes[".concat(t.name||t.attribute,"]"))}(e,t);return r?g(g({},t),r):t}))},L=function(e){return e&&e.featuregrid&&e.featuregrid.mode},G=function(e){return(v(e)||[]).length},N=function(e){return Object(c.p)(h(e))},D=function(e){return function(e){var t=S(e);if(t){var r=Object(c.p)(h(e));return!(!r[t.id]||null===r[t.id].geometry)||(!r[t.id]||null!==r[t.id].geometry)&&((!t._new||!Object(n.head)(j(e))||null!==Object(n.head)(j(e)).geometry)&&(!(!t._new||!Object(n.head)(j(e))||null===Object(n.head)(j(e)).geometry)||null!==t.geometry))}return!1}(e)},_=function(e){return Object(n.get)(e,"featuregrid.showAgain",!1)},U=function(e){if(Object(n.get)(e,"featuregrid.showTimeSync",!1)){var t=y(e);return Object(l.d)({id:t},"time")(e)}return null},k=function(e){return Object(n.get)(e,"featuregrid.timeSync",!1)},B=function(e){return Object(n.get)(e,"featuregrid.showPopoverSync",!0)},q=function(e){return e&&e.featuregrid&&e.featuregrid.saving},V=function(e){return e&&e.featuregrid&&e.featuregrid.saved},H=function(e){return e&&e.featuregrid&&e.featuregrid.drawing},z=function(e){return Object(n.get)(e,"featuregrid.multiselect",!1)},W=function(e){return Object(a.isSimpleGeomType)(w(e))},Y=function(e){return e.featuregrid&&e.featuregrid.dockSize},Q=function(e){var t=b(e,y(e));return t&&t.name||""},K=function(e){var t=function(e){return Object(n.get)(b(e,y(e)),"params")}(e);return{viewParams:t&&(t.VIEWPARAMS||t.viewParams||t.viewparams),cqlFilter:t&&(t.CQL_FILTER||t.cqlFilter||t.cql_filter)}},X=function(e){var t=Object(s.d)(e),r=function(e){return Object(n.get)(e,"featuregrid.editingAllowedRoles",["ADMIN"])}(e)||["ADMIN"],o=function(e){return e&&e.featuregrid&&e.featuregrid.canEdit}(e);return(-1!==r.indexOf(t)||o)&&!Object(f.a)(e)},J=function(e){return Object(n.get)(e,"featuregrid.pagination")}},"./MapStore2/web/client/selectors/layers.js":function(e,t,r){"use strict";r.d(t,"p",(function(){return g})),r.d(t,"d",(function(){return m})),r.d(t,"g",(function(){return b})),r.d(t,"h",(function(){return y})),r.d(t,"a",(function(){return O})),r.d(t,"c",(function(){return v})),r.d(t,"n",(function(){return h})),r.d(t,"s",(function(){return j})),r.d(t,"k",(function(){return S})),r.d(t,"u",(function(){return w})),r.d(t,"j",(function(){return A})),r.d(t,"l",(function(){return P})),r.d(t,"o",(function(){return x})),r.d(t,"m",(function(){return T})),r.d(t,"w",(function(){return M})),r.d(t,"b",(function(){return I})),r.d(t,"e",(function(){return F})),r.d(t,"v",(function(){return R})),r.d(t,"i",(function(){return C})),r.d(t,"f",(function(){return L})),r.d(t,"q",(function(){return G})),r.d(t,"t",(function(){return N})),r.d(t,"r",(function(){return D}));var n=r("./MapStore2/node_modules/reselect/es/index.js"),o=r("./MapStore2/web/client/utils/MapInfoUtils.js"),i=r("./MapStore2/web/client/utils/LayersUtils.js"),u=r("./MapStore2/web/client/utils/SearchUtils.js"),a=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),c=r("./MapStore2/web/client/selectors/mapInfo.js"),l=r("./MapStore2/node_modules/lodash/lodash.js"),s=r("./MapStore2/web/client/utils/TOCUtils.js");function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.layers,r=e.config;return t&&Object(l.isArray)(t)?t:t&&t.flat||r&&r.layers||[]},m=function(e){return Object(l.head)(g(e).filter((function(e){return e&&e.visibility&&"background"===e.group})))},b=function(e,t){return Object(l.head)(g(e).filter((function(e){return e.id===t})))},y=function(e,t){return Object(l.head)(g(e).filter((function(e){return e.name===t})))},O=function(e){return g(e).filter((function(e){return"background"===e.group}))},v=function(e){return Object(l.get)(e,"mapInfo.centerToMarker","")},h=Object(n.a)([g,c.c,function(e){return e.search&&e.search},v,function(e){return Object(l.get)(e,"additionallayers",[])},function(e){return e.annotations&&e.annotations.showMarker&&e.annotations.clickPoint}],(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,c=arguments.length>5?arguments[5]:void 0,s=i.filter((function(e){return"override"===e.actionType})),f=i.filter((function(e){return"overlay"===e.actionType})).map((function(e){return e.options})),p=e.map((function(e){var t=(Object(l.head)(s.filter((function(t){return t.id===e.id})))||{}).options;return t?d(d({},e),t):d({},e)}));if(p=p.concat(f),t){p.push(Object(o.i)("GetFeatureInfoHighLight",{features:t.features},void 0,{overrideOLStyle:!0,featuresCrs:t.featuresCrs,style:d(d({},u.a),{color:"#3388ff",weight:4,dashArray:"",fillColor:"#3388ff",fillOpacity:.2})}));var g="enabled"===n?Object(a.getNormalizedLatLon)(t.latlng):t.latlng;p.push(Object(o.i)("GetFeatureInfo",g))}if(c){var m="enabled"===n?Object(a.getNormalizedLatLon)(c.latlng):c.latlng;p.push(Object(o.i)("Annotations",m)),p.push(Object(o.i)("GetFeatureInfo",d({},m)))}if(r&&r.markerPosition){var b=Object(l.isObject)(r.style)&&r.style||{};p.push(Object(o.i)("GeoCoder",r.markerPosition,"marker",{overrideOLStyle:!0,style:d(d({},u.a),b)},r.markerLabel))}return p})),j=function(e){return e.layers&&e.layers.flat&&e.layers.groups||[]},S=function(e){return e.layers&&e.layers.flat&&e.layers.groups&&Object(i.denormalizeGroups)(e.layers.flat,e.layers.groups).groups||[]},w=function(e){return e.layers&&e.layers.selected||[]},E=function(e){return w(e).map((function(t){return Object(l.find)(g(e),{id:t})}))},A=function(e){var t=E(e)||[];return t&&t[0]},P=function(e){return e.layers&&e.layers.filter||""},x=function(e){return e.layers&&e.layers.settings||{expanded:!1,options:{opacity:1}}},T=function(e){return e.layers&&e.layers.layerMetadata||{expanded:!1,metadataRecord:{},maskLoading:!1}},M=function(e){return e.controls&&e.controls.layerdownload?{expanded:e.controls.layerdownload.enabled}:{expanded:!1}},I=function(e){return e.controls&&e.controls.backgroundSelector||{}},F=function(e){var t=I(e),r=O(e)||[];return t.currentLayer&&!Object(l.isEmpty)(t.currentLayer)?t.currentLayer:Object(l.head)(r.filter((function(e){return e.visibility})))||{}},R=function(e){var t=I(e),r=O(e)||[];return t.tempLayer&&!Object(l.isEmpty)(t.tempLayer)?t.tempLayer:Object(l.head)(r.filter((function(e){return e.visibility})))||{}},C=function(e,t){return(g(e)||[]).filter((function(e){return e&&e.dimensions&&Object(l.find)(Object(l.castArray)(e.dimensions),{name:t})}))},L=function(e){var t=x(e),r=g(e),n=S(e);return"layers"===t.nodeType&&Object(l.isArray)(r)&&Object(l.head)(r.filter((function(e){return e.id===t.node})))||"groups"===t.nodeType&&Object(l.isArray)(n)&&Object(l.head)(Object(s.b)(n,0,!0).filter((function(e){return e.id===t.node})))||{}},G=function(e){return g(e).filter(o.c)},N=function(e){return"Error"===(A(e)||{}).loadingError},D=function(e){return E(e).filter(o.c)}},"./MapStore2/web/client/selectors/localConfig.js":function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return u})),r.d(t,"a",(function(){return a}));var n=r("./MapStore2/node_modules/lodash/lodash.js"),o=function(e){return e.localConfig},i=function(e){return(o(e)||{}).monitorState},u=function(e){return function(t){return Object(n.get)(function(e){return Object(n.get)(o(e),"plugins")}(t),e)}},a=function(e){return Object(n.get)(o(e),"defaultMapOptions.floatingIdentifyDelay",500)}},"./MapStore2/web/client/selectors/locale.js":function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return u})),r.d(t,"a",(function(){return a}));var n=r("./MapStore2/node_modules/reselect/es/index.js"),o=r("./MapStore2/node_modules/lodash/lodash.js"),i=function(e){return e.locale&&e.locale.current||"en-US"},u=function(e){return e.locale&&e.locale.messages||{}},a=Object(n.a)([i],(function(e){return Object(o.head)(e.split("-"))}))},"./MapStore2/web/client/selectors/map.js":function(e,t,r){"use strict";r.d(t,"l",(function(){return u})),r.d(t,"o",(function(){return a})),r.d(t,"g",(function(){return c})),r.d(t,"i",(function(){return l})),r.d(t,"h",(function(){return s})),r.d(t,"j",(function(){return f})),r.d(t,"n",(function(){return d})),r.d(t,"c",(function(){return g})),r.d(t,"a",(function(){return m})),r.d(t,"b",(function(){return b})),r.d(t,"m",(function(){return y})),r.d(t,"p",(function(){return O})),r.d(t,"k",(function(){return v})),r.d(t,"d",(function(){return j})),r.d(t,"e",(function(){return S})),r.d(t,"f",(function(){return w}));var n=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),o=r("./MapStore2/node_modules/reselect/es/index.js"),i=r("./MapStore2/node_modules/lodash/lodash.js"),u=function(e){return e.map&&e.map.present||e.map||e.config&&e.config.map||null},a=Object(o.a)([u],(function(e){return e&&e.projection})),c=function(e){return Object(i.get)(e,"mapInitialConfig.mapId")&&parseInt(Object(i.get)(e,"mapInitialConfig.mapId"),10)||function(e){return Object(i.get)(u(e),"mapId")&&parseInt(Object(i.get)(u(e),"mapId"),10)||null}(e)},l=function(e){return Object(i.get)(u(e),"info")},s=function(e){return Object(i.get)(l(e),"details")},f=function(e){var t=Object(i.get)(l(e),"canEdit");return void 0===t?Object(i.get)(e,"context.resource.canEdit"):t},d=function(e){return e.localConfig&&e.localConfig.projectionDefs||[]},p=function(e){return e.localConfig&&e.localConfig.mapConstraints||{}},g=function(e){return p(e).restrictedExtent},m=function(e){return p(e).crs},b=function(e){var t=p(e),r=a(e);return r&&Object(i.get)(t,'projectionsConstraints["'.concat(r,'"].minZoom'))||Object(i.get)(t,"minZoom")},y=function(e){return Object(i.get)(function(e){return Object(i.get)(u(e),"limits")}(e),"minZoom")},O=Object(o.a)([function(e){return Object(i.get)(u(e),"resolutions")},a],(function(e,t){if(e&&t){var r=n.default.getUnits(t);return e.map((function(e){return e*(100/2.54*96)*("degrees"===r?111194.87428468118:1)}))}return[]})),v=function(e){return e.map&&e.map.present&&e.map.present.info&&e.map.present.info.name||""},h=function(e){return Object(i.get)(u(e),"eventListeners.mousemove",[])},j=function(e){return!!h(e).length},S=function(e){return h(e).includes("mouseposition")},w=function(e){return h(e).includes("identifyFloatingTool")}},"./MapStore2/web/client/selectors/mapInfo.js":function(e,t,r){"use strict";r.d(t,"n",(function(){return g})),r.d(t,"m",(function(){return m})),r.d(t,"h",(function(){return b})),r.d(t,"u",(function(){return y})),r.d(t,"p",(function(){return O})),r.d(t,"b",(function(){return v})),r.d(t,"a",(function(){return h})),r.d(t,"o",(function(){return j})),r.d(t,"r",(function(){return S})),r.d(t,"g",(function(){return w})),r.d(t,"v",(function(){return E})),r.d(t,"i",(function(){return A})),r.d(t,"k",(function(){return P})),r.d(t,"j",(function(){return x})),r.d(t,"t",(function(){return T})),r.d(t,"s",(function(){return M})),r.d(t,"l",(function(){return I})),r.d(t,"w",(function(){return F})),r.d(t,"f",(function(){return C})),r.d(t,"e",(function(){return L})),r.d(t,"c",(function(){return D})),r.d(t,"d",(function(){return _})),r.d(t,"q",(function(){return U}));var n=r("./MapStore2/node_modules/lodash/lodash.js"),o=r("./MapStore2/node_modules/reselect/es/index.js"),i=r("./MapStore2/web/client/selectors/map.js"),u=r("./MapStore2/web/client/selectors/context.js"),a=r("./MapStore2/web/client/selectors/locale.js"),c=r("./MapStore2/web/client/utils/MapInfoUtils.js"),l=r("./MapStore2/web/client/selectors/maptype.js"),s=r("./MapStore2/web/client/selectors/localConfig.js");function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g=Object(o.a)((function(e){return Object(s.c)("desktop")(e)||{}}),l.a,(function(e,t){return!t&&!!((Object.values(e).filter((function(e){return"Identify"===e.name})).pop()||{}).cfg||{}).showInMapPopup})),m=Object(o.a)((function(e){return Object(n.get)(e,"mapInfo.requests")||[]}),Object(u.b)("Identify"),g,(function(e,t,r){return!r&&!!e&&e.length>0&&t})),b=function(e){return Object(n.get)(e,"mapInfo.configuration.infoFormat","text/plain")},y=function(e){return Object(n.get)(e,"mapInfo.configuration.showEmptyMessageGFI",!0)},O=function(e){return Object(n.get)(e,"mapInfo.configuration",{})},v=function(e){return e&&e.mapInfo&&e.mapInfo.clickPoint},h=function(e){return e&&e.mapInfo&&e.mapInfo.clickLayer},j=function(e){return Object(n.get)(e,"mapInfo.itemId",null)},S=function(e){return Object(n.get)(e,"mapInfo.overrideParams",{})},w=function(e){return Object(n.get)(e,"mapInfo.filterNameList",[])},E=Object(o.a)((function(e){return!Object(n.get)(e,"mapInfo.enabled",!1)}),(function(e){return Object(n.get)(e,"controls.measure.enabled")&&(Object(n.get)(e,"measurement.lineMeasureEnabled")||Object(n.get)(e,"measurement.areaMeasureEnabled")||Object(n.get)(e,"measurement.bearingMeasureEnabled"))}),(function(e){var t=Object(n.get)(e,"draw.drawStatus",!1);return t&&"clean"!==t&&"stop"!==t}),(function(e){return Object(n.get)(e,"annotations.editing")}),Object(u.b)("Identify"),(function(e,t,r,n,o){return e||!!t||r||!!n||!o})),A=Object(o.c)({format:b,map:i.l,point:v,currentLocale:a.b,maxItems:function(e){return Object(n.get)(e,"mapInfo.configuration.maxItems")}}),P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.mapInfo&&e.mapInfo.highlight},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e&&e.mapInfo&&e.mapInfo.index},T=function(e){return e.mapInfo&&e.mapInfo.responses||[]},M=function(e){var t;return(null==e||null===(t=e.mapInfo)||void 0===t?void 0:t.requests)||[]},I=function(e){var t;return null==e||null===(t=e.mapInfo)||void 0===t?void 0:t.loaded},F=Object(o.a)(M,T,b,i.f,(function(e,t,r,n){var o=Object(c.j)(r);return e.length===t.length&&o.getValidResponses(t,n)})),R=Object(o.a)(F,x,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]})),C=function(e){var t=R(e)||{};return Object(n.get)(t,"layerMetadata.features")},L=function(e){var t=R(e)||{};return Object(n.get)(t,"layerMetadata.featuresCrs")},G=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.style||t.geometry&&("Point"===t.geometry.type||"MultiPoint"===t.geometry.type)?e:Object(n.omit)(e,"radius")}},N=function(e){return function(t){return d(d({},t),{},{style:G(e)(t)})}},D=Object(o.a)(v,P,C,L,(function(e){return e&&e.mapInfo&&e.mapInfo.showMarker}),(function(e){return Object(n.get)(e,"mapInfo.highlightStyle",{color:"#3388ff",weight:4,radius:4,dashArray:"",fillColor:"#3388ff",fillOpacity:.2})}),(function(e,t,r,o,i,u){return i&&e?t?d(d({},e),{},{featuresCrs:o,features:r&&Object(n.isArray)(r)&&r.map(N(u))}):e:void 0})),_=function(e){var t;return null===(t=e.mapInfo)||void 0===t?void 0:t.currentEditFeatureQuery},U=function(e){var t,r;return void 0===(null===(t=e.mapInfo)||void 0===t||null===(r=t.configuration)||void 0===r?void 0:r.trigger)?"click":e.mapInfo.configuration.trigger}},"./MapStore2/web/client/selectors/maptype.js":function(e,t,r){"use strict";r.d(t,"c",(function(){return n})),r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return i}));var n=function(e){return e&&e.maptype&&e.maptype.mapType||"leaflet"},o=function(e){return"cesium"===n(e)},i=function(e){return"openlayers"===n(e)}},"./MapStore2/web/client/selectors/query.js":function(e,t,r){"use strict";r.d(t,"i",(function(){return l})),r.d(t,"n",(function(){return s})),r.d(t,"o",(function(){return f})),r.d(t,"m",(function(){return d})),r.d(t,"a",(function(){return p})),r.d(t,"l",(function(){return g})),r.d(t,"k",(function(){return m})),r.d(t,"c",(function(){return b})),r.d(t,"e",(function(){return y})),r.d(t,"j",(function(){return O})),r.d(t,"f",(function(){return v})),r.d(t,"b",(function(){return h})),r.d(t,"d",(function(){return j})),r.d(t,"h",(function(){return S})),r.d(t,"g",(function(){return w}));var n=r("./MapStore2/node_modules/lodash/lodash.js");function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=function(e){return Object(n.get)(e,"query.filterObj.featureTypeName")},c=function(e){return function(t){return Object(n.get)(t,'query.featureTypes["'.concat(e,'"]'))}},l=function(e,t){return Object(n.get)(c(t)(e),"original")},s=function(e){return e&&e.query&&e.query.searchUrl},f=function(e){return e&&e.query&&e.query.url},d=function(e){return e&&e.query&&e.query.filterObj},p=function(e){return Object(n.get)(c(a(e))(e),"attributes")},g=function(e){return Object(n.get)(e,"query.typeName")},m=function(e){return Object(n.get)(e,"query.result.features")},b=function(e){var t=Object(n.get)(e,"query.result");return i(i({},t),{},{features:(t&&t.features||[]).filter((function(e){return!Object(n.isNil)(e.geometry)}))})},y=function(e,t){var r=e&&e.query&&e.query.result&&e.query.result.features;return Object(n.head)(r.filter((function(e){return e.id===t})))},O={startIndex:function(e){return Object(n.get)(e,"query.filterObj.pagination.startIndex")},maxFeatures:function(e){return Object(n.get)(e,"query.filterObj.pagination.maxFeatures")},resultSize:function(e){return Object(n.get)(e,"query.result.features.length")},totalFeatures:function(e){return Object(n.get)(e,"query.result.totalFeatures")}},v=function(e,t){var r=c(t)(e);return!!(r&&r.attributes&&r.geometry&&r.original)},h=function(e){return l(e,a(e))},j=function(e){return Object(n.get)(e,"query.featureLoading")},S=function(e){return Object(n.get)(e,"query.syncWmsFilter",!1)},w=function(e){var t=Object(n.get)(e,"query.filterObj.crossLayerFilter"),r=Object(n.get)(e,"query.filterObj.spatialField"),o=Object(n.get)(e,"query.filterObj.filterFields");return!!(o&&Object(n.head)(o)||r&&(r.method&&r.operation&&r.geometry||Object(n.isArray)(r)&&Object(n.findIndex)(r,(function(e){return e.method&&e.operation&&e.geometry}))>-1)||t&&t.collectGeometries&&t.operation)}},"./MapStore2/web/client/utils/CoordinatesUtils.js":function(e,t,r){"use strict";r.r(t),r.d(t,"FORMULAS",(function(){return F})),r.d(t,"getProjUrl",(function(){return C})),r.d(t,"determineCrs",(function(){return G})),r.d(t,"normalizePoint",(function(){return D})),r.d(t,"reproject",(function(){return U})),r.d(t,"reprojectExtent",(function(){return B})),r.d(t,"getPolygonFromExtent",(function(){return q})),r.d(t,"getExtentFromNormalized",(function(){return V})),r.d(t,"crsCodeTable",(function(){return H})),r.d(t,"setCrsLabels",(function(){return z})),r.d(t,"getUnits",(function(){return W})),r.d(t,"getProjectedBBox",(function(){return Y})),r.d(t,"createBBox",(function(){return Q})),r.d(t,"reprojectGeoJson",(function(){return K})),r.d(t,"lineIntersectPolygon",(function(){return X})),r.d(t,"normalizeLng",(function(){return J})),r.d(t,"reprojectBbox",(function(){return Z})),r.d(t,"bboxToFeatureGeometry",(function(){return $})),r.d(t,"getCompatibleSRS",(function(){return ee})),r.d(t,"getEquivalentSRS",(function(){return te})),r.d(t,"getEPSGCode",(function(){return re})),r.d(t,"normalizeSRS",(function(){return ne})),r.d(t,"isAllowedSRS",(function(){return oe})),r.d(t,"getAvailableCRS",(function(){return ie})),r.d(t,"filterCRSList",(function(){return ue})),r.d(t,"calculateAzimuth",(function(){return ae})),r.d(t,"calculateDistance",(function(){return ce})),r.d(t,"extendExtent",(function(){return le})),r.d(t,"getGeoJSONExtent",(function(){return se})),r.d(t,"isValidExtent",(function(){return fe})),r.d(t,"calculateCircleCoordinates",(function(){return de})),r.d(t,"transformLineToArcs",(function(){return pe})),r.d(t,"transformArcsToLine",(function(){return ge})),r.d(t,"coordsOLtoLeaflet",(function(){return me})),r.d(t,"mergeToPolyGeom",(function(){return be})),r.d(t,"getViewportGeometry",(function(){return ye})),r.d(t,"getExtentFromViewport",(function(){return Oe})),r.d(t,"fetchProjRemotely",(function(){return ve})),r.d(t,"parseURN",(function(){return he})),r.d(t,"parseString",(function(){return je})),r.d(t,"getWMSBoundingBox",(function(){return Se})),r.d(t,"isSRSAllowed",(function(){return we})),r.d(t,"getNormalizedLatLon",(function(){return Ee})),r.d(t,"isInsideVisibleArea",(function(){return Ae})),r.d(t,"centerToVisibleArea",(function(){return Pe})),r.d(t,"calculateCircleRadiusFromPixel",(function(){return xe})),r.d(t,"roundCoord",(function(){return Te})),r.d(t,"midpoint",(function(){return Me})),r.d(t,"pointObjectToArray",(function(){return Ie})),r.d(t,"isPointInsideExtent",(function(){return Fe})),r.d(t,"isBboxCompatible",(function(){return Re})),r.d(t,"extractCrsFromURN",(function(){return Ce})),r.d(t,"makeNumericEPSG",(function(){return Le})),r.d(t,"makeBboxFromOWS",(function(){return Ge}));var n=r("./MapStore2/node_modules/node-geo-distance/index.js"),o=r.n(n),i=r("./MapStore2/web/client/libs/proj4.js"),u=r.n(i),a=r("./MapStore2/web/client/libs/ajax.js"),c=r.n(a),l=r("./MapStore2/node_modules/object-assign/index.js"),s=r.n(l),f=r("./MapStore2/node_modules/lodash/lodash.js"),d=r("./MapStore2/node_modules/@turf/line-intersect/index.js"),p=r.n(d),g=r("./MapStore2/node_modules/@turf/polygon-to-linestring/index.js"),m=r.n(g),b=r("./MapStore2/node_modules/@turf/great-circle/main.es.js"),y=r("./MapStore2/node_modules/turf-point/index.js"),O=r.n(y),v=r("./MapStore2/node_modules/@turf/bbox-polygon/main.es.js"),h=r("./MapStore2/node_modules/@turf/boolean-overlap/main.es.js"),j=r("./MapStore2/node_modules/@turf/boolean-contains/main.es.js");function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){E(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function E(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A(e){return function(e){if(Array.isArray(e))return T(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||x(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(n=(u=a.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return r}(e,t)||x(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){if(e){if("string"==typeof e)return T(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?T(e,t):void 0}}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var M,I=u.a,F={vincenty:function(e){for(var t=0,r=0;r<e.length-1;++r){var n=e[r],i=e[r+1],u=P(n,2),a=u[0],c=u[1],l=P(i,2),s=l[0],f=l[1];t+=parseFloat(o.a.vincentySync({longitude:a,latitude:c},{longitude:s,latitude:f}))}return t},haversine:function(e){for(var t=0,r=0;r<e.length-1;++r){var n=e[r],i=e[r+1],u=P(n,2),a=u[0],c=u[1],l=P(i,2),s=l[0],f=l[1];t+=parseFloat(o.a.haversineSync({longitude:a,latitude:c},{longitude:s,latitude:f}))}return t}};function R(e,t){return(r=e).length>=2&&"number"==typeof r[0]&&"number"==typeof r[1]?t(e):e.map((function(e){return R(e,t)}));var r}var C=function(e){return"http://spatialreference.org/ref/epsg/".concat(e,"/proj4/")};function L(e,t,r){if(null===e)return e;var n=Object(f.cloneDeep)(e);return"Feature"===e.type?n.geometry=L(e.geometry,t,r):"FeatureCollection"===e.type?n.features=n.features.map((function(e){return L(e,t,r)})):"GeometryCollection"===e.type?n.geometries=n.geometries.map((function(e){return L(e,t,r)})):t&&t(n),r&&r(n),n}function G(e){return"string"==typeof e||e instanceof String?u.a.defs(e)?new u.a.Proj(e):null:e}var N={"EPSG:4326":"WGS 84","EPSG:3857":"EPSG:3857"},D=function(e){return{x:e.x||0,y:e.y||0,srs:e.srs||e.crs||"EPSG:4326",crs:e.srs||e.crs||"EPSG:4326"}},_=function(e){var t=e;return Object(f.isNumber)(e.x)||(t.x=parseFloat(e.x)),Object(f.isNumber)(e.y)||(t.y=parseFloat(e.y)),t},U=function(e,t,r){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=t&&u.a.defs(t)?new u.a.Proj(t):null,i=r&&u.a.defs(r)?new u.a.Proj(r):null;if(o&&i){var a=Object(f.isArray)(e)?u.a.toPoint(e):u.a.toPoint([e.x,e.y]),c=s()({},t===r?_(a):u.a.transform(o,i,_(a)),{srs:r});return n?D(c):c}return null},k=["EPSG:900913","EPSG:4326","EPSG:3857"],B=function(e,t,r){return"EPSG:4326"===t?e:r?e.map((function(e){return[U([e[0],e[1]],"EPSG:4326",t),U([e[2],e[3]],"EPSG:4326",t)].reduce((function(e,t){return[].concat(A(e),[t.x,t.y])}),[])})):[U([e[0],e[1]],"EPSG:4326",t),U([e[2],e[3]],"EPSG:4326",t)].reduce((function(e,t){return[].concat(A(e),[t.x,t.y])}),[])},q=function(e){return e?e.hasOwnProperty("geometry")&&"Polygon"===e.geometry.type?e:Object(v.a)(e):null},V=function(e,t){var r=function(e,t){var r="EPSG:4326"!==t?[U([parseFloat(e.minx),parseFloat(e.miny)],t,"EPSG:4326"),U([parseFloat(e.maxx),parseFloat(e.maxy)],t,"EPSG:4326")].reduce((function(e,t){return[].concat(A(e),[t.x,t.y])}),[]):[parseFloat(e.minx),parseFloat(e.miny),parseFloat(e.maxx),parseFloat(e.maxy)],n=!1;return"EPSG:4326"===t?n=Math.abs(e.maxx-e.minx)>=360:"EPSG:900913"!==t&&"EPSG:3857"!==t||(n=Math.abs(e.maxx-e.minx)>=40075016.68557849),n?[0,r[1],360,r[3]]:[(r[0]+180)%360,r[1],(r[2]+180)%360,r[3]].map((function(e,t){return t%2==0&&e<0?360+e:e}))}(e,t),n=r[2]<r[0];return n?{extent:B([[-180,r[1],r[2]-180,r[3]],[r[0]-180,r[1],180,r[3]]],t,n),isIDL:n}:{extent:B([r[0]-180,r[1],r[2]-180,r[3]],t,n),isIDL:n}},H={wgs84:4326,wgs1984:4326,crs84:4326,ogccrs84:4326,lambert93:2154,rgflambert93:2154},z=function(e){N=s()({},N,e)},W=function(e){return new u.a.Proj(e).units||"degrees"},Y=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3?arguments[3]:void 0,o=t*n[0]/2,i=t*n[1]/2,u=Math.cos(r),a=Math.sin(r),c=o*u,l=o*a,s=i*u,f=i*a,d=e.x,p=e.y,g=d-c+f,m=d-c-f,b=d+c-f,y=d+c+f,O=p-l-s,v=p-l+s,h=p+l+s,j=p+l-s,S=M.createBBox(Math.min(g,m,b,y),Math.min(O,v,h,j),Math.max(g,m,b,y),Math.max(O,v,h,j));return S},Q=function(e,t,r,n){return{minx:e,miny:t,maxx:r,maxy:n}},K=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"EPSG:4326",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"EPSG:4326",n=t,o=r;"string"==typeof n&&(n=G(n)),"string"==typeof o&&(o=G(o));var i=I(n,o);return L(e,(function(e){e.crs&&delete e.crs,e.coordinates=R(e.coordinates,(function(e){var t=P(e,2),r=t[0],n=t[1];return i.forward([r,n])}))}),(function(e){var t,r;e.bbox&&(e.bbox=(t=[Number.MAX_VALUE,Number.MAX_VALUE],r=[-Number.MAX_VALUE,-Number.MAX_VALUE],L(e,(function(e){R(e.coordinates,(function(e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),r[0]=Math.max(r[0],e[0]),r[1]=Math.max(r[1],e[1])}))})),[t[0],t[1],r[0],r[1]]))}))},X=function(e,t){var r=m()(t).features[0];return 0!==p()(e,r).features.length},J=function(e){var t=e/360%1*360;return t<-180?t+=360:t>180&&(t-=360),t},Z=function(e,t,r){var n,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];n=Object(f.isArray)(e)?{sw:[e[0],e[1]],ne:[e[2],e[3]]}:{sw:[e.minx,e.miny],ne:[e.maxx,e.maxy]};var i=[];for(var u in n)if(n.hasOwnProperty(u)){var a=M.reproject(n[u],t,r,o);if(!a)return null;var c=a.x,l=a.y;i.push(c),i.push(l)}return i},$=function(e){var t=Object(f.isArray)(e)?{minx:e[0],miny:e[1],maxx:e[2],maxy:e[3]}:e,r=t.minx,n=t.miny,o=t.maxx,i=t.maxy;return{type:"Polygon",coordinates:[[[r,n],[r,i],[o,i],[o,n],[r,n]]]}},ee=function(e,t){return"EPSG:900913"===e&&!t["EPSG:900913"]&&t["EPSG:3857"]?"EPSG:3857":"EPSG:3857"===e&&!t["EPSG:3857"]&&t["EPSG:900913"]?"EPSG:900913":e},te=function(e){return"EPSG:900913"===e||"EPSG:3857"===e?["EPSG:3857","EPSG:900913"]:[e]},re=function(e){return-1!==e.indexOf(":")?"EPSG:"+e.substring(e.lastIndexOf(":")+1):e},ne=function(e,t){var r="EPSG:900913"===e?"EPSG:3857":e;return t&&!t[r]?M.getCompatibleSRS(r,t):r},oe=function(e,t){return t[M.getCompatibleSRS(e,t)]},ie=function(){var e={};for(var t in u.a.defs)u.a.defs.hasOwnProperty(t)&&(e[t]={label:N[t]||t});return e},ue=function(e,t,r,n){var o=Object.keys(e).reduce((function(r,n){return s()({},-1===t.indexOf(n)?r:w(w({},r),{},E({},n,e[n])))}),{}),i=n.map((function(e){return e.code})),u=Object.keys(r).reduce((function(e,t){return s()({},-1===i.indexOf(t)?e:w(w({},e),{},E({},t,r[t])))}),{});return s()({},o,u)},ae=function(e,t,r){var n=M.reproject(e,r,"EPSG:4326"),o=M.reproject(t,r,"EPSG:4326"),i=n.x*Math.PI/180,u=n.y*Math.PI/180,a=o.x*Math.PI/180,c=o.y*Math.PI/180,l=a-i,s=Math.sin(l)*Math.cos(c),f=Math.cos(u)*Math.sin(c)-Math.sin(u)*Math.cos(c)*Math.cos(l);return(180*Math.atan2(s,f)/Math.PI+360)%360},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"haversine";return e.length>=2&&-1!==Object.keys(F).indexOf(t)?F[t](e):0},le=function(e,t){var r=e.slice();return t[0]<e[0]&&(r[0]=t[0]),t[2]>e[2]&&(r[2]=t[2]),t[1]<e[1]&&(r[1]=t[1]),t[3]>e[3]&&(r[3]=t[3]),r},se=function(e){var t=this,r=[1/0,1/0,-1/0,-1/0],n=function(e,r){var n=M.getGeoJSONExtent(r);return t.isValidExtent(n)?t.extendExtent(n,e):n};if(e.coordinates){if("Point"===e.type){var o=e.coordinates;r[0]=o[0]-.01*o[0],r[1]=o[1]-.01*o[1],r[2]=o[0]+.01*o[0],r[3]=o[1]+.01*o[1]}return Object(f.chunk)(Object(f.flattenDeep)(e.coordinates),2).reduce((function(e,t){return[t[0]<e[0]?t[0]:e[0],t[1]<e[1]?t[1]:e[1],t[0]>e[2]?t[0]:e[2],t[1]>e[3]?t[1]:e[3]]}),r)}if("GeometryCollection"===e.type)return e.geometries.reduce(n,r);if(e.type){if("FeatureCollection"===e.type)return e.features.reduce(n,r);if("Feature"===e.type&&e.geometry)return M.getGeoJSONExtent(e.geometry)}return r},fe=function(e){return!(-1!==e.indexOf(1/0)||-1!==e.indexOf(-1/0)||e[0]>e[2]||e[1]>e[3])},de=function(e,t,r,n){var o,i,u,a=Math.PI*(1/r-.5);n&&(a+=n/180*Math.PI);for(var c=[[]],l=0;l<r;l++)o=a+2*l*Math.PI/r,i=e.x+t*Math.cos(o),u=e.y+t*Math.sin(o),c[0].push([i,u]);return c[0].push(c[0][0]),c},pe=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{npoints:100,offset:10,properties:{}},r=[],n=0;n<e.length-1;++n){var o=e[n],i=e[n+1],u=O()(o),a=O()(i);if(o[0]!==i[0]||o[1]!==i[1]){var c=Object(b.a)(u,a,t);r=[].concat(A(r),A(c.geometry.coordinates))}}return r},ge=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return e.length<=t?[Object(f.head)(e),Object(f.last)(e)]:e.length>t?[Object(f.head)(e)].concat(M.transformArcsToLine(Object(f.slice)(e,t))):[]},me=function(e){var t=e.coordinates;switch(e.type){case"Polygon":return t.map((function(e){return e.map((function(e){return e.reverse()}))}));case"LineString":return t.map((function(e){return e.reverse()}));case"Point":return t.reverse();default:return[]}},be=function(e){return 1===e.length?e[0].geometry:{type:"GeometryCollection",geometries:e.map((function(e){return e.geometry}))}},ye=function(e,t){if(Object(f.head)(k.filter((function(e){return e===t})))){var r=V(e,t),n=r.extent,o=r.isIDL,i=(o?n:[n]).map((function(e){var t=[e[0],e[1]],r=[e[2],e[3]];return[[t,[t[0],r[1]],r,[r[0],t[1]],t]]}));if(o){var u=n[1][0]+(Math.abs(n[0][0]-n[0][2])+Math.abs(n[1][0]-n[1][2]))/2;return{type:"MultiPolygon",radius:0,projection:t,coordinates:i,extent:n,center:[u=u>180?u-360:u,(n[0][1]+n[0][3])/2]}}return{type:"Polygon",radius:0,projection:t,coordinates:i[0],extent:n,center:[(n[0]+n[2])/2,(n[1]+n[3])/2]}}var a=[e.minx,e.miny,e.maxx,e.maxy],c=[a[0],a[1]],l=[a[2],a[3]];return{type:"Polygon",radius:0,projection:t,coordinates:[[c,[c[0],l[1]],l,[l[0],c[1]],c]],extent:a,center:[(a[0]+a[2])/2,(a[1]+a[3])/2]}},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.bounds,r=e.crs,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"EPSG:4326";if(!t||!r)return null;var o=M.getViewportGeometry(t,r),i=o.extent;if(4===i.length)return M.reprojectBbox(i,r,n);var u=i.map((function(e){return e[2]-e[0]})),a=P(u,2),c=a[0],l=a[1];return c>l?M.reprojectBbox(i[0],r,n):M.reprojectBbox(i[1],r,n)},ve=function(e,t){var r=2===e.split(":").length?e.split(":")[1]:"3857";return c.a.get(t||C(r),null,{timeout:2e3})},he=function(e){var t=e&&e.properties&&e.properties.name||e&&e.name||e&&e.properties&&e.properties.code||e,r=t&&Object(f.last)(t.split(":"));return"WGS 1984"===r||"WGS84"===r?"EPSG:4326":r?"EPSG:"+r:null},je=function(e){var t=e.split(" "),r=parseFloat(t[0]),n=parseFloat(t[1]);return!isNaN(r)&&!isNaN(n)&&{x:r,y:n}||null},Se=function(e,t){var r=t||"EPSG:3857",n=e&&Object(f.isArray)(e)&&Object(f.head)(e.filter((function(e){return e&&e.$&&e.$.SRS===r&&e.$.maxx&&e.$.maxy&&e.$.minx&&e.$.miny})).map((function(e){return e&&e.$&&M.reprojectBbox([parseFloat(e.$.minx),parseFloat(e.$.miny),parseFloat(e.$.maxx),parseFloat(e.$.maxy)],r,"EPSG:4326")})));return Object(f.isArray)(n)&&{minx:n[0],miny:n[1],maxx:n[2],maxy:n[3]}||null},we=function(e){return!!u.a.defs(e)},Ee=function(e){var t=e.lng,r=void 0===t?1:t,n=e.lat;return{lat:void 0===n?1:n,lng:M.normalizeLng(r)}},Ae=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=M.getNormalizedLatLon(e),i=U([o.lng,o.lat],"EPSG:4326",t.projection);if(!t.bbox)return!1;var u=M.reprojectBbox(t.bbox.bounds,t.bbox.crs,t.projection),a=w({left:0,right:0,top:0,bottom:0},r),c={minx:u[0]+a.left*n,miny:u[1]+a.bottom*n,maxx:u[2]-a.right*n,maxy:u[3]-a.top*n},l=M.getViewportGeometry(c,t.projection),s=4===l.extent.length?[A(l.extent)]:A(l.extent);return Object(f.head)(s.map((function(e){return i.x>=e[0]&&i.y>=e[1]&&i.x<=e[2]&&i.y<=e[3]})).filter((function(e){return e})))||!1},Pe=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=M.getNormalizedLatLon(e),i=U([o.lng,o.lat],"EPSG:4326",t.projection),u=w({left:0,right:0,top:0,bottom:0},r),a={width:(t.size.width-u.right-u.left)*n,height:(t.size.height-u.top-u.bottom)*n},c={minx:i.x-a.width/2-u.left*n,miny:i.y-a.height/2-u.bottom*n,maxx:i.x+a.width/2+u.right*n,maxy:i.y+a.height/2+u.top*n},l=M.getViewportGeometry(c,t.projection);if(4===l.extent.length)return{pos:U([l.extent[0]+t.size.width/2*n,l.extent[1]+t.size.height/2*n],t.projection,"EPSG:4326"),zoom:t.zoom,crs:"EPSG:4326"};if(Math.abs(l.extent[0][2]-l.extent[0][0])>Math.abs(l.extent[1][2]-l.extent[1][0])){var s=U([l.extent[0][2]-t.size.width/2*n,l.extent[0][3]-t.size.height/2*n],t.projection,"EPSG:4326"),f=w(w({},s),{},{x:s.x+(o.lng>s.x?360:0)});return{pos:f,zoom:t.zoom,crs:"EPSG:4326"}}return{pos:U([l.extent[1][0]+t.size.width/2*n,l.extent[1][1]+t.size.height/2*n],t.projection,"EPSG:4326"),zoom:t.zoom,crs:"EPSG:4326"}},xe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.01,i=Object(f.isArray)(r)?r:[r.x,r.y];if(Object(f.isNumber)(i[0])&&!isNaN(i[0])&&Object(f.isNumber)(i[1])&&!isNaN(i[1])&&Object(f.isNumber)(t.x)&&!isNaN(t.x)&&Object(f.isNumber)(t.y)&&!isNaN(t.y)){var u=Object(f.isFunction)(e)?e([t.x,t.y>=n?t.y-n:t.y+n]):null,a=u&&(Object(f.isArray)(u)?u:[u.x,u.y]);return Object(f.isArray)(a)?Math.sqrt((i[0]-a[0])*(i[0]-a[0])+(i[1]-a[1])*(i[1]-a[1])):o}return o},Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.roundingBehaviour,r=void 0===t?"round":t,n=e.value,o=void 0===n?0:n,i=e.maximumFractionDigits,u=void 0===i?0:i;return 0===u&&Math[r]?Math[r](o):o},Me=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=Object(f.isArray)(e)?{x:e[0],y:e[1]}:e,o=Object(f.isArray)(t)?{x:t[0],y:t[1]}:t,i={x:.5*(n.x+o.x),y:.5*(n.y+o.y)};return r?[i.x,i.y]:i},Ie=function(e){return Object(f.isObject)(e)&&Object(f.isNumber)(e.x)&&Object(f.isNumber)(e.y)?[e.x,e.y]:e},Fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{lat:1,lng:1},t=arguments.length>1?arguments[1]:void 0;return Object(j.a)(q(t),O()([e.lng,e.lat]))},Re=function(e,t){return Object(h.a)(e,t)||Object(j.a)(e,t)||Object(j.a)(t,e)},Ce=function(e){if(e){var t=e.split(":");if(!("urn"!==t[0]||"ogc"!==t[1]&&"x-ogc"!==t[1]||"def"!==t[2]||"crs"!==t[3]||!t[4]&&!t[6])){var r=t[4],n=t[6];return r?"".concat(r,":").concat(n):n}}return null},Le=function(e){if(!e||"EPSG:"!==e.slice(0,5))return null;var t=e.slice(5),r=parseInt(t,10);if(r>=1024&&r<=32767)return e;var n=t.replace(" ","").replace(":","").toLowerCase(),o=H[n];return o>=1024&&o<=32767?"EPSG:".concat(o):null},Ge=function(e,t){var r=[e[0],e[1]],n=[t[0],t[1]];if(r[1]>n[1]){var o=r;r=n,n=o}if(r[0]>n[0]){var i=r.slice(),u=n.slice();r=[u[0],i[1]],n=[i[0],u[1]]}return[r[0],r[1],n[0],n[1]]};M={setCrsLabels:z,getUnits:W,reproject:U,getProjectedBBox:Y,createBBox:Q,reprojectGeoJson:K,lineIntersectPolygon:X,normalizePoint:D,normalizeLng:J,reprojectBbox:Z,getCompatibleSRS:ee,getEquivalentSRS:te,getEPSGCode:re,normalizeSRS:ne,isAllowedSRS:oe,getAvailableCRS:ie,filterCRSList:ue,calculateAzimuth:ae,calculateDistance:ce,FORMULAS:F,extendExtent:le,getGeoJSONExtent:se,isValidExtent:fe,calculateCircleCoordinates:de,transformLineToArcs:pe,transformArcsToLine:ge,coordsOLtoLeaflet:me,mergeToPolyGeom:be,getViewportGeometry:ye,getProjUrl:C,getExtentFromViewport:Oe,fetchProjRemotely:ve,parseURN:he,determineCrs:G,parseString:je,getWMSBoundingBox:Se,isSRSAllowed:we,getNormalizedLatLon:Ee,isInsideVisibleArea:Ae,centerToVisibleArea:Pe,calculateCircleRadiusFromPixel:xe,roundCoord:Te,midpoint:Me,pointObjectToArray:Ie,getExtentFromNormalized:V,getPolygonFromExtent:q,isPointInsideExtent:Fe,isBboxCompatible:Re,extractCrsFromURN:Ce,crsCodeTable:H,makeNumericEPSG:Le,makeBboxFromOWS:Ge},t.default=M},"./MapStore2/web/client/utils/FeatureGridUtils.js":function(e,t,r){"use strict";r.d(t,"j",(function(){return f})),r.d(t,"k",(function(){return p})),r.d(t,"i",(function(){return g})),r.d(t,"p",(function(){return m})),r.d(t,"d",(function(){return O})),r.d(t,"h",(function(){return S})),r.d(t,"e",(function(){return w})),r.d(t,"c",(function(){return E})),r.d(t,"l",(function(){return A})),r.d(t,"g",(function(){return P})),r.d(t,"n",(function(){return x})),r.d(t,"o",(function(){return T})),r.d(t,"f",(function(){return M})),r.d(t,"b",(function(){return I})),r.d(t,"a",(function(){return F})),r.d(t,"m",(function(){return R})),r.d(t,"q",(function(){return C})),r.d(t,"r",(function(){return L}));var n=r("./MapStore2/node_modules/lodash/lodash.js"),o=r("./MapStore2/web/client/utils/ogc/WFS/base.js");function i(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=function(e,t){return"geometry"===e?function(e){return Object(n.get)(Object(o.findGeometryProperty)(e),"name")}(t):e},f=function(e,t,r){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return Object(n.findIndex)(e,(function(e){return e<=r&&r<e+t}))}(t,r,e);return-1===o?o:o*r+e-t[o]},d={id:"empty_row",get:function(){}},p=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3?arguments[3]:void 0;return t[f(e,r,n)]||c({},d)},g=function(e,t){return t[e]},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Object(n.isArray)(e)?e.reduce((function(e,t){return c(c({},e),{},l({},t.id,c(c({},e[t.id]),t.updated)))}),{}):{}},b=function(e,t){var r=Object.keys(t).filter((function(e){return"geometry"!==e})).reduce((function(e,r){return c(c({},e),{},l({},r,t[r]))}),{}),n=Object.keys(t).filter((function(e){return"geometry"===e})).reduce((function(e,r){return c(c({},e),{},l({},r,t[r]))}),{});return c(c(c({},e),n),{},{properties:c(c({},e&&e.properties||{}),r)})},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,o=Object(n.findIndex)(e,t);return o>=0?e.map((function(e,t){return t===o?r:e})):[].concat(i(e),[r])},O=function(e){return(Object(o.getFeatureTypeProperties)(e)||[]).filter((function(e){return!Object(o.isGeometryType)(e)}))},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;return t.map((function(t){return r<=t&&t<=n?0:Math.abs(t-e)})).reduce((function(e,t,r,n){return t>n[e]&&r||e}),0)},h=function(e,t){return t.filter((function(t,r){return r!==e}))},j=function(e,t,r){return e.filter((function(e,n){return n<t||n>=t+r}))},S=function(e,t,r,n){for(var o,i,u=e;u<=t&&void 0===o;u++)-1===f(u*n,r,n)&&(o=u);for(var a=t;a>=e&&void 0===i;a--)-1===f(a*n,r,n)&&(i=a);return[o,i].filter((function(e){return void 0!==e}))},w=function(e,t,r){var n=e.startPage,o=e.endPage,i=S(n,o,t,r),u=i[1]-i[0]+1;return{startIndex:i[0]*r,maxFeatures:u*r}},E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.editable,o=void 0!==n&&n,i=r.sortable,u=void 0===i||i,a=r.resizable,c=void 0===a||a,l=r.filterable,s=void 0===l||l,f=r.defaultSize,d=void 0===f?200:f,p=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},g=p.getEditor,m=void 0===g?function(){}:g,b=p.getFilterRenderer,y=void 0===b?function(){}:b,v=p.getFormatter,h=void 0===v?function(){}:v;return O(e).filter((function(e){return!(t[e.name]&&t[e.name].hide)})).map((function(e){return{sortable:u,key:e.name,width:t[e.name]&&t[e.name].width||d||void 0,name:t[e.name]&&t[e.name].label||e.name,resizable:c,editable:o,filterable:s,editor:m(e),formatter:h(e),filterRenderer:y(e,e.name)}}))},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){},u=Object(o.findGeometryProperty)(r);return e.map((function(e){return c(c({},e),{},{events:e.events&&Object.keys(e.events).reduce((function(o,i){return c(c({},o),{},l({},i,(function(o,u){return e.events[i](t(u.rowIdx),u,r,n)})))}),{})},"geometry"===e.key&&u?{filterRenderer:i(c(c({},u),{},{localType:"geometry"}),u.name),filterable:!0,geometryPropName:u.name}:{})}))},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;return Object.keys(e).reduce((function(i,u){return c(c({},i),{},l({},u,(function(){for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return e[u].apply(e,a.concat([t,r,n,o]))})))}),{})},x=function(e,t){return!!Object(o.getPropertyDesciptor)(e,t)},T=function(e,t,r){return Object(o.isValidValueForPropertyName)(e,s(t,r),r)},M=function(){return"EPSG:4326"},I=function(e,t,r){return function(n){return t.length>0?n._new:!e||e&&!!r[n.id]}},F=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return b(e,t[e.id]||{})},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.attribute,r=e.operator,o=e.value,i=e.type,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return c(c({},u),{},{groupFields:[{id:1,logic:"AND",index:0}],filterFields:"geometry"===i?u.filterFields:Object(n.isNil)(o)?(u.filterFields||[]).filter((function(e){return e.attribute!==t})):y(u.filterFields||[],{attribute:t},{attribute:t,rowId:Date.now(),type:i,groupId:1,operator:r,value:o}),spatialField:"geometry"===i?o:u.spatialField,spatialFieldOperator:Object(n.isArray)(o)?"OR":""})},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.startIndex,r=void 0===t?0:t,n=e.maxFeatures,o=void 0===n?1:n,i=e.totalFeatures,u=void 0===i?0:i,a=e.resultSize;return{page:Math.ceil(r/o),resultSize:a,size:o,total:u,maxPages:Math.ceil(u/o)-1}},L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.endPage,o=t.startPage,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=i.pages,a=i.features,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=c.size,s=c.maxStoredPages,f=c.startIndex,d=S(o,r,u,l),p=d[1]-d[0]+1,g=Object(n.get)(e,"features",[]);g.length!==p*l&&(g=g.concat(Object(n.fill)(Array(p*l-g.length>0?p*l-g.length:g.length),!1)));var m=u,b=a,y=m.length+p-Math.max(s,r-o+1);if(y>0)for(var O=o*l,w=r*l,E=O+(w-O)/2,A=0;A<y;A++){var P=v(E,u,O,w),x=P*l;m=h(P,m),b=j(a,x,l)}for(var T=[],M=0;M<p;M++)T.push(f+l*M);return{pages:m.concat(T),features:b.concat(g)}}},"./MapStore2/web/client/utils/FeatureInfoUtils.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return l}));var n={TEXT:"text/plain",HTML:"text/html",JSONP:"text/javascript",PROPERTIES:"application/json",JSON:"application/json",GML2:"application/vnd.ogc.gml",GML3:"application/vnd.ogc.gml/3.1.1",TEMPLATE:"application/json"},o={"text/plain":"TEXT","text/html":"HTML","text/javascript":"JSONP","application/json":"JSON","application/vnd.ogc.gml":"GML2","application/vnd.ogc.gml/3.1.1":"GML3"},i=/^[\s\S]*<gml:featureMembers[^>]*>([\s\S]*)<\/gml:featureMembers>[\s\S]*$/i,u=/^[\s\S]*<body[^>]*>([\s\S]*)<\/body>[\s\S]*$/i;function a(e){if("string"==typeof e.response&&0!==e.response.indexOf("<?xml")){var t=e.response.match(u);return e.layerMetadata&&e.layerMetadata.regex?t&&t[1]&&t[1].match(e.layerMetadata.regex):t&&t[1]&&t[1].trim().length>0}return!1}function c(e){if("string"==typeof e.response&&-1!==e.response.indexOf("<?xml")){var t=e.response.match(i);return t&&t[1]&&t[1].trim().length>0}return!1}var l={HTML:{getValidResponses:function(e,t){return t?e.filter(a):e},getNoValidResponses:function(e){return e.filter((function(e){return!a(e)}))}},TEXT:{getValidResponses:function(e,t){var r=e.filter((function(e){var t=e.response;return""!==t&&"string"==typeof t&&0!==t.indexOf("<?xml")}));return t&&(r=r.filter((function(e){var t=e.response;return"string"==typeof t&&0!==t.indexOf("no features were found")}))),r},getNoValidResponses:function(e){return e.filter((function(e){return""===e.response||"string"==typeof e.response&&0===e.response.indexOf("no features were found")||e.response&&"string"==typeof e.response&&0===e.response.indexOf("<?xml")}))}},JSON:{getValidResponses:function(e,t){var r=e.filter((function(e){var t=e.response;return t&&t.features}));return t&&(r=r.filter((function(e){var r=e.response;return t&&r.features.length}))),r},getNoValidResponses:function(e){return e.filter((function(e){return e.response&&e.response.features&&0===e.response.features.length}))}},PROPERTIES:{getValidResponses:function(e,t){var r=e.filter((function(e){var t=e.response;return t&&t.features}));return t&&(r=r.filter((function(e){var r=e.response;return t&&r.features.length}))),r},getNoValidResponses:function(e){return e.filter((function(e){return e.response&&e.response.features&&0===e.response.features.length}))}},GML3:{getValidResponses:function(e){return e.filter(c)},getNoValidResponses:function(e){return e.filter((function(e){return!c(e)}))}},TEMPLATE:{getValidResponses:function(e){return e.filter((function(e){return e.response&&e.response.features&&e.response.features.length}))},getNoValidResponses:function(e){return e.filter((function(e){return e.response&&e.response.features&&0===e.response.features.length}))}}}},"./MapStore2/web/client/utils/FilterUtils.js":function(e,t,r){"use strict";r.r(t),r.d(t,"cqlToOgc",(function(){return v})),r.d(t,"escapeCQLStrings",(function(){return h})),r.d(t,"checkOperatorValidity",(function(){return j})),r.d(t,"isCrossLayerFilterValid",(function(){return S})),r.d(t,"setupCrossLayerFilterDefaults",(function(){return E})),r.d(t,"ogcDateField",(function(){return x})),r.d(t,"ogcListField",(function(){return T})),r.d(t,"ogcStringField",(function(){return M})),r.d(t,"ogcBooleanField",(function(){return I})),r.d(t,"ogcNumberField",(function(){return F})),r.d(t,"processOGCSimpleFilterField",(function(){return R})),r.d(t,"toOGCFilterParts",(function(){return G})),r.d(t,"toOGCFilter",(function(){return N})),r.d(t,"processOGCFilterGroup",(function(){return D})),r.d(t,"processOGCFilterFields",(function(){return _})),r.d(t,"getGmlPointElement",(function(){return U})),r.d(t,"getGmlPolygonElement",(function(){return k})),r.d(t,"getGmlLineStringElement",(function(){return B})),r.d(t,"processOGCGeometry",(function(){return q})),r.d(t,"processOGCSpatialFilter",(function(){return V})),r.d(t,"getGetFeatureBase",(function(){return H})),r.d(t,"getCrossLayerCqlFilter",(function(){return z})),r.d(t,"processOGCCrossLayerFilter",(function(){return W})),r.d(t,"toCQLFilter",(function(){return Y})),r.d(t,"processCQLFilterGroup",(function(){return Q})),r.d(t,"getCQLGeometryElement",(function(){return K})),r.d(t,"processCQLSpatialFilter",(function(){return X})),r.d(t,"cqlDateField",(function(){return J})),r.d(t,"cqlStringField",(function(){return Z})),r.d(t,"cqlBooleanField",(function(){return $})),r.d(t,"cqlNumberField",(function(){return ee})),r.d(t,"findSubGroups",(function(){return te})),r.d(t,"cqlListField",(function(){return re})),r.d(t,"processCQLFilterFields",(function(){return ne})),r.d(t,"processCQLSimpleFilterField",(function(){return oe})),r.d(t,"getOgcAllPropertyValue",(function(){return ie})),r.d(t,"getSLD",(function(){return ue})),r.d(t,"getWFSFilterData",(function(){return ae})),r.d(t,"isLikeOrIlike",(function(){return ce})),r.d(t,"isFilterEmpty",(function(){return le})),r.d(t,"isFilterValid",(function(){return se})),r.d(t,"composeAttributeFilters",(function(){return de})),r.d(t,"reprojectFilterInNativeCrs",(function(){return pe})),r.d(t,"normalizeFilterCQL",(function(){return ge})),r.d(t,"mergeFiltersToOGC",(function(){return me}));var n=r("./MapStore2/web/client/utils/ogc/GML/index.js"),o=r("./MapStore2/web/client/utils/ogc/WFS/base.js"),i=r("./MapStore2/web/client/utils/ogc/Filter/operators.js"),u=r("./MapStore2/web/client/utils/ogc/Filter/CQL/parser.js"),a=r("./MapStore2/web/client/utils/ogc/Filter/fromObject.js"),c=r.n(a),l=r("./MapStore2/web/client/utils/ogc/Filter/FilterBuilder.js"),s=r.n(l),f=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),d=r("./MapStore2/node_modules/lodash/lodash.js");function p(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var O,v=function(e,t){var r=s()(t);return c()(r)(Object(u.read)(e))},h=function(e){return e&&e.replace?e.replace(/\'/g,"''"):e},j=function(e,t){return!Object(d.isNil)(e)&&"isNull"!==t||!Object(d.isUndefined)(e)&&"isNull"===t},S=function(e){return Object(d.get)(e,"operation",!1)&&Object(d.get)(e,"collectGeometries.queryCollection.typeName",!1)&&Object(d.get)(e,"collectGeometries.queryCollection.geometryName",!1)},w=function(e){return'"'+e+'"'},E=function(e){if(!e||!Object(d.get)(e,"collectGeometries.queryCollection"))return null;if(Object(d.get)(e,"collectGeometries.queryCollection")){var t=(Object(d.get)(e,"collectGeometries.queryCollection.filterFields")||[]).filter((function(e){return j(e.value,e.operator)})),r=Object(d.get)(e,"collectGeometries.queryCollection.groupFields")||[{id:1,index:0,logic:"OR"}];return b(b({},e),{},{collectGeometries:b(b({},e.collectGeometries),{},{queryCollection:b(b({},e.collectGeometries.queryCollection),{},{filterFields:t,groupFields:r})})})}return null},A=function(e){return e?"1.0"===e?"1.0.0":"1.1"===e?"1.1.0":e:"2.0"},P={ogc:{startTag:"<ogc:PropertyName>",endTag:"</ogc:PropertyName>"},fes:{startTag:"<fes:ValueReference>",endTag:"</fes:ValueReference>"}},x=function(e,t,r,n){var o;if("><"===t){if(r.startDate&&r.endDate){var u=r.startDate.toISOString?r.startDate.toISOString():r.startDate,a=r.endDate.toISOString?r.endDate.toISOString():r.endDate;o=i.ogcComparisonOperators[t](n,P[n].startTag+e+P[n].endTag+"<"+n+":LowerBoundary><"+n+":Literal>"+u+"</"+n+":Literal></"+n+":LowerBoundary><"+n+":UpperBoundary><"+n+":Literal>"+a+"</"+n+":Literal></"+n+":UpperBoundary>")}}else if(r.startDate){var c=r.startDate.toISOString?r.startDate.toISOString():r.startDate;o=i.ogcComparisonOperators[t](n,P[n].startTag+e+P[n].endTag+"<"+n+":Literal>"+c+"</"+n+":Literal>")}return o},T=function(e,t,r,n){var o;return Object(d.isNil)(r)||(o=i.ogcComparisonOperators[t](n,P[n].startTag+e+P[n].endTag+"<"+n+":Literal>"+r+"</"+n+":Literal>")),o},M=function(e,t,r,n){var o;return j(r,t)&&(o="isNull"===t?i.ogcComparisonOperators[t](n,P[n].startTag+e+P[n].endTag):"="===t?i.ogcComparisonOperators[t](n,P[n].startTag+e+P[n].endTag+"<"+n+":Literal>"+r+"</"+n+":Literal>"):i.ogcComparisonOperators[t](n,P[n].startTag+e+P[n].endTag+"<"+n+":Literal>*"+r+"*</"+n+":Literal>")),o},I=function(e,t,r,n){var o="";return j(r,t)&&"="===t&&""!==r&&(o=i.ogcComparisonOperators[t](n,P[n].startTag+e+P[n].endTag+"<"+n+":Literal>"+r+"</"+n+":Literal>")),o},F=function(e,t,r,n){var o;if("><"===t)Object(d.isNil)(r)||null===r.lowBound||void 0===r.lowBound||null!==r.upBound&&void 0!==r.upBound?Object(d.isNil)(r)||null===r.upBound||void 0===r.upBound||null!==r.lowBound&&void 0!==r.lowBound?Object(d.isNil)(r)||null===r.upBound||void 0===r.upBound||null===r.lowBound||void 0===r.lowBound||(o=i.ogcComparisonOperators[t](n,P[n].startTag+e+P[n].endTag+"<"+n+":LowerBoundary><"+n+":Literal>"+r.lowBound+"</"+n+":Literal></"+n+":LowerBoundary><"+n+":UpperBoundary><"+n+":Literal>"+r.upBound+"</"+n+":Literal></"+n+":UpperBoundary>")):o=i.ogcComparisonOperators["<="](n,P[n].startTag+e+P[n].endTag+"<"+n+":Literal>"+r.upBound+"</"+n+":Literal>"):o=i.ogcComparisonOperators[">="](n,P[n].startTag+e+P[n].endTag+"<"+n+":Literal>"+r.lowBound+"</"+n+":Literal>");else{var u=Object(d.isNil)(r)||null===r.lowBound||void 0===r.lowBound?r:r.lowBound;Object(d.isNil)(u)||(o=i.ogcComparisonOperators[t](n,P[n].startTag+e+P[n].endTag+"<"+n+":Literal>"+u+"</"+n+":Literal>"))}return o},R=function(e,t){var r="";switch(e.type){case"date":r=x(e.attribute,e.operator,e.values,t);break;case"number":r=F(e.attribute,e.operator,e.values,t);break;case"string":r=M(e.attribute,e.operator,e.values,t);break;case"boolean":r=I(e.attribute,e.operator,e.values,t);break;case"list":if(e.values&&e.values.length>0){r=e.values.reduce((function(r,n){var o=null===n||"null"===n?"isNull":"=";return r+M(e.attribute,o,n,t)}),""),r=i.ogcLogicalOperators.OR(t,r)}}return r},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.typeName,r=e.geometryName,n=e.cqlFilter,o=void 0===n?"INCLUDE":n;return"queryCollection('".concat(t,"', '").concat(r,"','").concat(h(o),"')")},L=function(e){return"collectGeometries(".concat(e,")")},G=function(e,t,r){var n,u,a,c,l=[];if(e.filterFields&&e.filterFields.length>0)""!==(n=e.groupFields&&e.groupFields.length>0?O.processOGCFilterGroup(e.groupFields[0],e,r):O.processOGCFilterFields(null,e,r))&&l.push(n);else if(e.simpleFilterFields&&e.simpleFilterFields.length>0){var s=i.ogcLogicalOperators.AND(r,e.simpleFilterFields.map((function(e){return R(e,r)})).join(""));l.push(s)}if(Object(d.isArray)(e.spatialField)?(c=Object(d.find)(e.spatialField,(function(e){return"BBOX"===e.operation})))||(a=e.spatialField):e.spatialField&&("BBOX"===e.spatialField.operation?c=e.spatialField:a=[e.spatialField]),c){if(Object(d.isArray)(c.geometry&&c.geometry.extent[0])){var f=c.geometry.extent.reduce((function(e,n){var o=Object.assign({},c);return c.geometry.extent=n,e+O.processOGCSpatialFilter(t,o,r)}),"");u=i.ogcLogicalOperators.OR(r,f)}l.push(u)}else if(a&&(a=a.filter((function(e){return e&&e.geometry&&e.operation}))).length>0){var p=a.map((function(e){return O.processOGCSpatialFilter(t,e,r)})).join("");u=a.length>1?i.ogcLogicalOperators[e.spatialFieldOperator||"AND"](r,p):p,l.push(u)}if(e.crossLayerFilter&&e.crossLayerFilter.operation){var g=b(b({},e.crossLayerFilter),{},{attribute:e.crossLayerFilter.attribute});Array.isArray()?g.forEach((function(e){return l.push(O.processOGCCrossLayerFilter(e,r))})):l.push(O.processOGCCrossLayerFilter(g,r))}return e.options&&e.options.cqlFilter&&l.push(v(e.options.cqlFilter,{filterNS:r,wfsVersion:t,gmlVersion:Object(o.wfsToGmlVersion)(t)})),l},N=function(e,t,r){var n,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"EPSG:4326";try{n=t instanceof Object?t:JSON.parse(t)}catch(e){return e}var l=A(r||"2.0"),s="2.0"===l?"fes":"ogc",f=O.getGetFeatureBase(l,n.pagination,i,u,t&&t.options),d=O.toOGCFilterParts(n,l,s),p="";return d.length>0&&(p="<"+s+":Filter>",1===d.length?p+=d[0]:(p+="<"+s+":And>",d.forEach((function(e){p+=e})),p+="</"+s+":And>"),p+="</"+s+":Filter>"),f+="<wfs:Query ".concat("2.0"===l?"typeNames":"typeName",'="').concat(e,'" ').concat("native"!==c&&'srsName="'.concat(c,'"')||"",">"),f+=p,a&&(f+=a.map((function(e){return P[s].startTag+e+P[s].endTag})).join("")),o&&o.sortBy&&o.sortOrder&&(f+="<"+s+":SortBy><"+s+":SortProperty>"+P[s].startTag+o.sortBy+P[s].endTag+"<"+s+":SortOrder>"+o.sortOrder+"</"+s+":SortOrder></"+s+":SortProperty></"+s+":SortBy>"),f+="</wfs:Query></wfs:GetFeature>"},D=function(e,t,r){var n=O.processOGCFilterFields(e,t,r),o=O.findSubGroups(e,t.groupFields);return o.length>0&&o.forEach((function(e){n+=O.processOGCFilterGroup(e,t,r)})),""!==n?i.ogcLogicalOperators[e.logic](r,n):""},_=function(e,t,r){var n=e?t.filterFields.filter((function(t){return t.groupId===e.id&&j(t.value,t.operator)})):t.filterFields.filter((function(e){return j(e.value,e.operator)}));return n.length?n.reduce((function(e,t){var n;switch(t.type){case"date":case"date-time":case"time":n=x(t.attribute,t.operator,t.value,r);break;case"number":n=F(t.attribute,t.operator,t.value,r);break;case"string":n=M(t.attribute,t.operator,t.value,r);break;case"boolean":n=I(t.attribute,t.operator,t.value,r);break;case"list":n=T(t.attribute,t.operator,t.value,r)}return"isNull"===t.operator&&(n=M(t.attribute,t.operator,t.operator,r)),n&&e.push(n),e}),[]).join(""):""},U=function(e,t,r){return Object(n.pointElement)(e,t,Object(o.wfsToGmlVersion)(r))},k=function(e,t,r){return Object(n.polygonElement)(e,t,Object(o.wfsToGmlVersion)(r))},B=function(e,t,r){return Object(n.lineStringElement)(e,t,Object(o.wfsToGmlVersion)(r))},q=function(e,t){return Object(n.processOGCGeometry)(Object(o.wfsToGmlVersion)(e),t)},V=function(e,t,r){if(t.collectGeometries)return O.processOGCCrossLayerFilter(t);var u=P[r].startTag+t.attribute+P[r].endTag;switch(t.operation){case"INTERSECTS":case"DWITHIN":case"WITHIN":case"CONTAINS":u+=Object(n.processOGCGeometry)(Object(o.wfsToGmlVersion)(e),t.geometry),"DWITHIN"===t.operation&&(u+="<"+r+':Distance units="m">'+(t.geometry.distance||0)+"</"+r+":Distance>");break;case"BBOX":var a=t.geometry.extent[0]+" "+t.geometry.extent[1],c=t.geometry.extent[2]+" "+t.geometry.extent[3];u+='<gml:Envelope srsName="'+t.geometry.projection+'"><gml:lowerCorner>'+a+"</gml:lowerCorner><gml:upperCorner>"+c+"</gml:upperCorner></gml:Envelope>"}return i.ogcSpatialOperators[t.operation](r,u)},H=function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=A(e),u="<wfs:GetFeature ";switch(u+=n?'outputFormat="'+n+'" ':"",u+=t&&(t.startIndex||0===t.startIndex)?'startIndex="'+t.startIndex+'" ':"",u+=o.viewParams?' viewParams="'.concat(o.viewParams,'" '):"",i){case"1.0.0":u+=t&&t.maxFeatures?'maxFeatures="'+t.maxFeatures+'" ':"",u=r?u+' resultType="hits"':u,u+='service="WFS" version="'+i+'" outputFormat="GML2" xmlns:gml="http://www.opengis.net/gml" xmlns:wfs="http://www.opengis.net/wfs" xmlns:ogc="http://www.opengis.net/ogc" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" '+(o.noSchemaLocation?"":'xsi:schemaLocation="http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.0.0/WFS-basic.xsd"')+">";break;case"1.1.0":u+=t&&t.maxFeatures?'maxFeatures="'+t.maxFeatures+'" ':"",u=r?u+' resultType="hits"':u,u+='service="WFS" version="'+i+'" xmlns:gml="http://www.opengis.net/gml" xmlns:wfs="http://www.opengis.net/wfs" xmlns:ogc="http://www.opengis.net/ogc" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" '+(o.noSchemaLocation?"":'xsi:schemaLocation="http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd"')+">";break;default:u+=t&&t.maxFeatures?'count="'+t.maxFeatures+'" ':"",u=r&&!t?u+' resultType="hits"':u,u+='service="WFS" version="'+i+'" xmlns:wfs="http://www.opengis.net/wfs/2.0" xmlns:fes="http://www.opengis.net/fes/2.0" xmlns:gml="http://www.opengis.net/gml/3.2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" '+(o.noSchemaLocation?"":'xsi:schemaLocation="http://www.opengis.net/wfs/2.0 http://schemas.opengis.net/wfs/2.0/wfs.xsd http://www.opengis.net/gml/3.2 http://schemas.opengis.net/gml/3.2.1/gml.xsd"')+">"}return u},z=function(e){return Object(d.get)(e,"collectGeometries.queryCollection.cqlFilter")||(Object(d.get)(e,"collectGeometries.queryCollection.filterFields")||[]).length>0&&(Object(d.get)(e,"collectGeometries.queryCollection.groupFields")||[]).length>0&&O.toCQLFilter(e.collectGeometries.queryCollection)||"INCLUDE"},W=function(e,t){var r=t||"ogc",n=P[r].startTag+e.attribute+P[r].endTag;if(e.collectGeometries){var o=O.getCrossLayerCqlFilter(e);n+='<ogc:Function name="collectGeometries"><ogc:Function name="queryCollection">'+"<ogc:Literal>".concat(e.collectGeometries.queryCollection.typeName,"</ogc:Literal>")+"<ogc:Literal>".concat(e.collectGeometries.queryCollection.geometryName,"</ogc:Literal>")+"<ogc:Literal><![CDATA[".concat(o,"]]></ogc:Literal>")+"</ogc:Function></ogc:Function>"}return"DWITHIN"===e.operation&&(n+="<"+r+':Distance units="m">'+(e.distance||0)+"</"+r+":Distance>"),i.ogcSpatialOperators[e.operation](r,n)},Y=function(e){var t;try{t=e instanceof Object?e:JSON.parse(e)}catch(e){return e}var r,n,o=[];if(t.filterFields&&t.filterFields.length>0)(r=O.processCQLFilterGroup(t.groupFields[0],t))&&o.push(r);else if(t.simpleFilterFields&&t.simpleFilterFields.length>0){var i=t.simpleFilterFields.reduce((function(e,t){var r=e,n=O.processCQLSimpleFilterField(t);return!1!==n&&(r=e.length>0?e+" AND ("+n+")":"("+n+")"),r}),"");i=i.length>0?i:"INCLUDE",o.push(i)}if(t.spatialField&&(n=O.processCQLSpatialFilter(t))&&o.push(n),t.crossLayerFilter){var u=t.crossLayerFilter,a=u.operation,c=u.attribute,l=u.collectGeometries&&u.collectGeometries.queryCollection;if(a&&c&&l){var s=l.typeName,f=l.geometryName,d=O.getCrossLayerCqlFilter(u),p=L(C({typeName:s,geometryName:f,cqlFilter:d}));o.push("".concat(a,"(").concat(c,",").concat(p,")"))}}return o.length?"("+(o.length>1?o.join(") AND ("):o[0])+")":null},Q=function(e,t){var r="NOR"===e.logic?b(b({},e),{},{logic:"AND",negateAll:!0}):e,n=O.processCQLFilterFields(r,t),o=O.findSubGroups(r,t.groupFields);if(o.length>0){var i=o.map((function(e){return(r.negateAll?"NOT (":"(")+O.processCQLFilterGroup(e,t)+")"})).join(" "+r.logic+" ");return n?[n,i].join(" "+r.logic+" "):i}return n},K=function(e,t){var r=t+"(";switch(t){case"Point":r+=e.join(" ");break;case"MultiPoint":e.forEach((function(t,n){r+=t.join(" "),r+=n<e.length-1?", ":""}));break;case"Polygon":e.forEach((function(t,o){r+="(";var i=Object(n.closePolygon)(t).map((function(e){return e[0]+" "+e[1]}));r+=i.join(", "),r+=")",r+=o<e.length-1?", ":""}));break;case"MultiPolygon":e.forEach((function(t,o){r+="(",t.forEach((function(e,o){r+="(";var i=Object(n.closePolygon)(e).map((function(e){return e[0]+" "+e[1]}));r+=i.join(", "),r+=")",r+=o<t.length-1?", ":""})),r+=")",r+=o<e.length-1?", ":""}))}return r+=")"},X=function(e){var t=(Object(d.isArray)(e.spatialField)?e.spatialField:[e.spatialField]).filter((function(e){return e&&e.geometry&&e.operation})),r="";return t.forEach((function(n,o){if(r+=n.operation+'("'+n.attribute+'",',n.collectGeometries&&n.collectGeometries.queryCollection)r+=L(C(n.collectGeometries.queryCollection));else{var i=n.geometry.projection||"";i=2===i.split(":").length?"SRID="+i.split(":")[1]+";":"",r+=i+O.getCQLGeometryElement(n.geometry.coordinates,n.geometry.type)}r+=")",o<t.length-1&&(r+=" ".concat(e.spatialFieldOperator||"AND"," "))})),r},J=function(e,t,r){var n;"><"===t?r.startDate&&r.endDate&&(n="("+e+">='"+(r.startDate.toISOString?r.startDate.toISOString():r.startDate)+"' AND "+e+"<='"+(r.endDate.toISOString?r.endDate.toISOString():r.endDate)+"')"):r.startDate&&(n=e+t+"'"+(r.startDate.toISOString?r.startDate.toISOString():r.startDate)+"'");return n},Z=function(e,t,r){var n,o=w(e);if(!Object(d.isNil)(r))if("isNull"===t)n="isNull("+o+")=true";else if("="===t){n=o+t+("'"+h(r)+"'")}else if("ilike"===t){n="strToLowerCase("+o+") LIKE "+("'%"+h(r).toLowerCase()+"%'")}else{n=o+" LIKE "+("'%"+h(r)+"%'")}return n},$=function(e,t,r){var n="";Object(d.isNil)(r)||""===r||"="===t&&(n='"'+e+'"'+t+("'"+r+"'"));return n},ee=function(e,t,r){var n,o=w(e);if("><"===t)Object(d.isNil)(r)||null===r.lowBound||void 0===r.lowBound||null!==r.upBound&&void 0!==r.upBound?Object(d.isNil)(r)||null===r.upBound||void 0===r.upBound||null!==r.lowBound&&void 0!==r.lowBound?Object(d.isNil)(r)||null===r.upBound||void 0===r.upBound||null===r.lowBound||void 0===r.lowBound||(n="("+o+">='"+r.lowBound+"' AND "+o+"<='"+r.upBound+"')"):n="("+o+"<='"+r.upBound+"')":n="("+o+">='"+r.lowBound+"')";else{var i=Object(d.isNil)(r)||null===r.lowBound||void 0===r.lowBound?r:r.lowBound;Object(d.isNil)(i)||(n=o+" "+t+" '"+i+"'")}return n},te=function(e,t){return t.filter((function(t){return t.groupId===e.id}))},re=function(e,t,r){return O.cqlStringField(e,t,r)},ne=function(e,t){var r=t.filterFields.filter((function(t){return t.groupId===e.id})),n=[];return r&&(r.forEach((function(t){var r;switch(t.type){case"date":case"time":case"date-time":r=O.cqlDateField(t.attribute,t.operator,t.value);break;case"number":r=O.cqlNumberField(t.attribute,t.operator,t.value);break;case"string":r=O.cqlStringField(t.attribute,t.operator,t.value);break;case"boolean":r=O.cqlBooleanField(t.attribute,t.operator,t.value);break;case"list":r=O.cqlListField(t.attribute,t.operator,t.value)}r&&n.push(e.negateAll?"NOT ("+r+")":r)})),n=n.join(" "+e.logic+" ")),n},oe=function(e){var t=!1;switch(e.type){case"date":t=O.cqlDateField(e.attribute,e.operator,e.values);break;case"number":t=O.cqlNumberField(e.attribute,e.operator,e.values);break;case"string":t=O.cqlStringField(e.attribute,e.operator,e.values);break;case"boolean":t=O.cqlBooleanField(e.attribute,e.operator,e.values);break;case"list":if(e.values.length!==e.optionsValues.length){var r=!1,n=e.values.reduce((function(e,t){return null===t||"null"===t?r=!0:e.push("'"+t+"'"),e}),[]);t=n.length>0?e.attribute+" IN("+n.join(",")+")":t,r&&(t=t?t+" OR isNull("+e.attribute+")=true":"isNull("+e.attribute+")=true")}}return!!(t&&t.length>0)&&t},ie=function(e,t){return'<wfs:GetPropertyValue service="WFS" valueReference=\''.concat(t,'\'\n                version="2.0" xmlns:fes="http://www.opengis.net/fes/2.0"\n                xmlns:gml="http://www.opengis.net/gml/3.2"\n                xmlns:wfs="http://www.opengis.net/wfs/2.0"\n                xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n                xsi:schemaLocation="http://www.opengis.net/wfs/2.0 http://schemas.opengis.net/wfs/2.0/wfs.xsd http://www.opengis.net/gml/3.2 http://schemas.opengis.net/gml/3.2.1/gml.xsd">\n                    <wfs:Query typeNames="').concat(e,'"/>\n            </wfs:GetPropertyValue>')},ue=function(e,t,r){var n=O.toOGCFilter(e,t,r),o=n.search("<".concat(O.nsplaceholder,":Filter>"));if(-1!==o){var i=n.search("</wfs:Query>");n=n.substr(o,i-o)}else n="";return'<StyledLayerDescriptor version="1.0.0"\n            xsi:schemaLocation="http://www.opengis.net/sld StyledLayerDescriptor.xsd" xmlns:ogc="http://www.opengis.net/ogc" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:gml="http://www.opengis.net/gml" xmlns:gsml="urn:cgi:xmlns:CGI:GeoSciML:2.0" xmlns:sld="http://www.opengis.net/sld" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><NamedLayer><Name>'.concat(e,"</Name><UserStyle><FeatureTypeStyle><Rule >").concat(n,'<PointSymbolizer><Graphic><Mark><WellKnownName>circle</WellKnownName><Fill><CssParameter name="fill">#0000FF</CssParameter></Fill></Mark><Size>20</Size></Graphic></PointSymbolizer></Rule></FeatureTypeStyle></UserStyle></NamedLayer></StyledLayerDescriptor>')},ae=function(e,t){return"string"==typeof e?e:"OGC"===e.filterType?O.toOGCFilter(e.featureTypeName,b(b({},e),{},{options:t}),e.ogcVersion,e.sortOptions,e.hits):O.toCQLFilter(e)},ce=function(e){return"ilike"===e||"like"===e},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.filterFields,r=void 0===t?[]:t,n=e.spatialField,o=void 0===n?{}:n,i=e.crossLayerFilter,u=void 0===i?{}:i;return!(r.filter((function(e){return e.value||0===e.value})).length>0||o.geometry||u&&u.attribute&&u.operation)},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.filterFields&&e.filterFields.length>0||e.simpleFilterFields&&e.simpleFilterFields.length>0||e.spatialField&&e.spatialField.geometry&&e.spatialField.operation||Object(d.isArray)(e.spatialField)&&Object(d.findIndex)(e.spatialField,(function(e){return e.operation&&e.geometry}))>-1||e.crossLayerFilter&&e.crossLayerFilter.collectGeometries&&e.crossLayerFilter.collectGeometries.queryCollection&&e.crossLayerFilter.collectGeometries.queryCollection.geometryName&&e.crossLayerFilter.collectGeometries.queryCollection.typeName},fe=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Object(d.flatten)(t.filter((function(e){return!!e})))},de=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"AND",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"AND",n={id:(new Date).getTime(),index:0,logic:t};return e.reduce((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t.filterFields,i=void 0===o?[]:o,u=t.groupFields,a=void 0===u?[]:u,c=t.spatialField,l=arguments.length>2?arguments[2]:void 0;return{groupFields:e.groupFields.concat(i.length>0&&a.map((function(e){return{groupId:0===e.index&&n.id||"".concat(e.groupId,"_").concat(l),logic:e.logic,id:"".concat(e.id,"_").concat(l),index:1+e.index}}))||[]),filterFields:e.filterFields.concat(i.map((function(e){return b(b({},e),{},{groupId:"".concat(e.groupId,"_").concat(l)})}))),spatialField:fe(e.spatialField,c),spatialFieldOperator:r}}),{groupFields:[n],filterFields:[],spatialField:[]})},pe=function(e,t){var r,n=e.spatialField.geometry.projection,o=e.spatialField.geometry.center,i=e.spatialField.geometry.radius,u=Object(f.reprojectGeoJson)(e.spatialField.geometry,e.spatialField.geometry.projection||"EPSG:3857",t).coordinates,a=o&&[(r=Object(f.reproject)(o,n,t)).x,r.y],c=i&&Object(f.reproject)([i,0],n,t).x;return b(b({},e),{},{spatialField:b(b({},e.spatialField),{},{geometry:b(b({},e.spatialField.geometry),{},{center:a,radius:c,coordinates:u,projection:t})})})},ge=function(e,t){return e&&e.spatialField&&e.spatialField.geometry&&e.spatialField.geometry.coordinates&&e.spatialField.geometry.coordinates[0]&&(e.spatialField.projection||"EPSG:3857")!==t?t?O.reprojectFilterInNativeCrs(e,t):b(b({},e),{},{spatialField:void 0}):e},me=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.nsPlaceholder,r=void 0===t?"ogc":t,n=e.ogcVersion,i=void 0===n?"2.0":n,a=e.addXmlnsToRoot,l=void 0!==a&&a,f=e.xmlnsToAdd,g=void 0===f?[]:f,m=s()({filterNS:r,wfsVersion:i,gmlVersion:Object(o.wfsToGmlVersion)(i)}),b=c()(m),y=arguments.length,O=new Array(y>1?y-1:0),v=1;v<y;v++)O[v-1]=arguments[v];var h=m.filter(m.and.apply(m,p(Object(d.flatten)(O.filter((function(e){return!!e&&(Object(d.isString)(e)||se(e)&&!e.disabled)})).map((function(e){return Object(d.isString)(e)?[b(Object(u.read)(e))]:G(e,i,r)}))))));if(l){var j=h.indexOf(">");return"".concat(h.slice(0,j)).concat(g.length>0?" ".concat(g.join(" ")):"").concat(h.slice(j))}return h};O={processOGCFilterGroup:D,processOGCFilterFields:_,processOGCCrossLayerFilter:W,getGetFeatureBase:H,toOGCFilterParts:G,findSubGroups:te,toCQLFilter:Y,getCrossLayerCqlFilter:z,processCQLFilterGroup:Q,processCQLSimpleFilterField:oe,processCQLSpatialFilter:X,processCQLFilterFields:ne,getCQLGeometryElement:K,cqlStringField:Z,cqlDateField:J,cqlNumberField:ee,cqlBooleanField:$,cqlListField:re,toOGCFilter:N,reprojectFilterInNativeCrs:pe,processOGCSpatialFilter:V,mergeFiltersToOGC:me}},"./MapStore2/web/client/utils/LayerLocalizationUtils.js":function(e,t,r){"use strict";r.r(t),r.d(t,"generateEnvString",(function(){return n}));var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.length?e.map((function(e){var t=e.name,r=e.value;return"".concat(t,":").concat(r)})).join(";"):""}},"./MapStore2/web/client/utils/MapInfoUtils.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return P})),r.d(t,"e",(function(){return x})),r.d(t,"f",(function(){return T})),r.d(t,"g",(function(){return M})),r.d(t,"i",(function(){return I})),r.d(t,"b",(function(){return F})),r.d(t,"h",(function(){return R})),r.d(t,"j",(function(){return C})),r.d(t,"l",(function(){return L})),r.d(t,"c",(function(){return G})),r.d(t,"k",(function(){return D})),r.d(t,"d",(function(){return _}));var n,o=r("./MapStore2/web/client/utils/FeatureInfoUtils.js"),i=r("./MapStore2/node_modules/turf-point-on-surface/index.js"),u=r.n(i),a=r("./MapStore2/node_modules/lodash/lodash.js"),c=r("./MapStore2/web/client/components/map/openlayers/img/marker-icon.png"),l=r.n(c),s=r("./MapStore2/web/client/components/data/identify/viewers/JSONViewer.jsx"),f=r("./MapStore2/web/client/components/data/identify/viewers/HTMLViewer.jsx"),d=r("./MapStore2/web/client/components/data/identify/viewers/TextViewer.jsx"),p=r("./MapStore2/web/client/utils/mapinfo/wfs.js"),g=r.n(p),m=r("./MapStore2/web/client/utils/mapinfo/wms.js"),b=r.n(m),y=r("./MapStore2/web/client/utils/mapinfo/wmts.js"),O=r.n(y),v=r("./MapStore2/web/client/utils/mapinfo/vector.js"),h=r.n(v);function j(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){A(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function A(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var P="NODATA",x=function(){return Object.keys(o.a).filter((function(e){return-1!==n.AVAILABLE_FORMAT.indexOf(e)})).reduce((function(e,t){return e[t]=o.a[t],e}),{})},T=function(){return Object.keys(n.getAvailableInfoFormat()).map((function(e){return o.a[e]}))},M=function(){return o.a[n.AVAILABLE_FORMAT[0]]},I=function(e,t,r,o,i){return E({type:"vector",visibility:!0,name:e||"GetFeatureInfo",styleName:r||"marker",label:i,features:n.clickedPointToGeoJson(t)},o)},F=function(e,t){if(n.services[e.type]){var r=n.getDefaultInfoFormatValueFromLayer(e,t),o=n.getLayerFeatureInfoViewer(e),i=n.getLayerFeatureInfo(e);return n.services[e.type].buildRequest(e,t,r,o,i)}return{}},R=function(e,t,r){return n.services[e.type]&&n.services[e.type].getIdentifyFlow?n.services[e.type].getIdentifyFlow(e,t,r):null},C=function(e){var t={getValidResponses:function(e){return e},getNoValidResponses:function(){return[]}};return{getValidResponses:function(r){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r.reduce((function(r,i){if(i){var u;i.queryParams&&i.queryParams.hasOwnProperty("info_format")&&(u=i.queryParams.info_format),i.queryParams&&i.queryParams.hasOwnProperty("outputFormat")&&(u=i.queryParams.outputFormat);var a=(o.c[i.format||o.b[u]||o.b[e]]||t).getValidResponses([i],n);return[].concat(j(r),j(a))}return j(r)}),[])},getNoValidResponses:function(r){return r.reduce((function(r,n){if(n){var i;n.queryParams&&n.queryParams.hasOwnProperty("info_format")&&(i=n.queryParams.info_format),n.queryParams&&n.queryParams.hasOwnProperty("outputFormat")&&(i=n.queryParams.outputFormat);var u=(o.c[n.format||o.b[i]||o.b[e]]||t).getNoValidResponses([n]);return[].concat(j(r),j(u))}return j(r)}),[])}}},L=function(){var e;return A(e={},o.a.PROPERTIES,s.a),A(e,o.a.JSON,s.a),A(e,o.a.HTML,f.a),A(e,o.a.TEXT,d.a),e},G=function(e){var t;return e.visibility&&n.services[e.type]&&(void 0===e.queryable||e.queryable)&&"background"!==e.group&&"HIDDEN"!==(null==e||null===(t=e.featureInfo)||void 0===t?void 0:t.format)},N={wfs:g.a,wms:b.a,wmts:O.a,vector:h.a},D=function(e){return n.VIEWERS[e]?n.VIEWERS[e]:null},_=function(e,t,r){var n=t||[],o=r||[];return Object.keys(e).reduce((function(t,r){if("params"!==r&&-1!==n.indexOf(r))t[r]=e[r];else if("params"===r&&o.length>0){var i=e[r];Object.keys(i).forEach((function(e){-1===Object(a.findIndex)(o,(function(t){return t===e}))&&(t[e]=i[e])}),{})}return t}),{})};n={AVAILABLE_FORMAT:["TEXT","PROPERTIES","HTML","TEMPLATE"],getAvailableInfoFormatLabels:function(){return Object.keys(n.getAvailableInfoFormat())},getAvailableInfoFormat:x,getDefaultInfoFormatValue:M,clickedPointToGeoJson:function(e){if(!e)return[];if("Feature"===e.type){var t=[u()(e)];return e&&e.geometry&&"Point"!==e.geometry.type&&t.push(e),t}return void 0===e.lng||void 0===e.lat?e.features||[]:[].concat(j(e.features||[]),[{id:"get-feature-info-point",type:"Feature",geometry:{type:"Point",coordinates:[parseFloat(e.lng),parseFloat(e.lat)]},style:[{iconUrl:l.a,iconAnchor:[12,41],iconSize:[25,41]}]}])},services:N,getDefaultInfoFormatValueFromLayer:function(e,t){return e.featureInfo&&e.featureInfo.format&&o.a[e.featureInfo.format]||t.format||n.getDefaultInfoFormatValue()},getLayerFeatureInfoViewer:function(e){return e.featureInfo&&e.featureInfo.viewer?e.featureInfo.viewer:{}},getLayerFeatureInfo:function(e){return e&&e.featureInfo&&E({},e.featureInfo)||{}},VIEWERS:{}}},"./MapStore2/web/client/utils/MapUtils.js":function(e,t,r){"use strict";r.r(t),r.d(t,"DEFAULT_SCREEN_DPI",(function(){return O})),r.d(t,"METERS_PER_UNIT",(function(){return v})),r.d(t,"GOOGLE_MERCATOR",(function(){return h})),r.d(t,"EXTENT_TO_ZOOM_HOOK",(function(){return j})),r.d(t,"ZOOM_TO_EXTENT_HOOK",(function(){return S})),r.d(t,"RESOLUTIONS_HOOK",(function(){return w})),r.d(t,"RESOLUTION_HOOK",(function(){return E})),r.d(t,"COMPUTE_BBOX_HOOK",(function(){return A})),r.d(t,"GET_PIXEL_FROM_COORDINATES_HOOK",(function(){return P})),r.d(t,"GET_COORDINATES_FROM_PIXEL_HOOK",(function(){return x})),r.d(t,"registerHook",(function(){return M})),r.d(t,"getHook",(function(){return I})),r.d(t,"executeHook",(function(){return F})),r.d(t,"clearHooks",(function(){return R})),r.d(t,"dpi2dpm",(function(){return C})),r.d(t,"dpi2dpu",(function(){return L})),r.d(t,"getSphericalMercatorScale",(function(){return G})),r.d(t,"getGoogleMercatorScale",(function(){return N})),r.d(t,"getSphericalMercatorScales",(function(){return D})),r.d(t,"getGoogleMercatorScales",(function(){return _})),r.d(t,"getResolutionsForScales",(function(){return U})),r.d(t,"getGoogleMercatorResolutions",(function(){return k})),r.d(t,"getResolutions",(function(){return B})),r.d(t,"getScales",(function(){return q})),r.d(t,"defaultGetZoomForExtent",(function(){return V})),r.d(t,"getZoomForExtent",(function(){return H})),r.d(t,"getCurrentResolution",(function(){return z})),r.d(t,"getCenterForExtent",(function(){return W})),r.d(t,"getBbox",(function(){return Y})),r.d(t,"isNearlyEqual",(function(){return Q})),r.d(t,"mapUpdated",(function(){return K})),r.d(t,"transformExtent",(function(){return X})),r.d(t,"groupSaveFormatted",(function(){return J})),r.d(t,"saveMapConfiguration",(function(){return Z})),r.d(t,"generateNewUUIDs",(function(){return $})),r.d(t,"mergeMapConfigs",(function(){return ee})),r.d(t,"addRootParentGroup",(function(){return te})),r.d(t,"isSimpleGeomType",(function(){return re})),r.d(t,"getSimpleGeomType",(function(){return ne})),r.d(t,"getIdFromUri",(function(){return oe})),r.d(t,"parseLayoutValue",(function(){return ie})),r.d(t,"prepareMapObjectToCompare",(function(){return ue})),r.d(t,"updateObjectFieldKey",(function(){return ae})),r.d(t,"compareMapChanges",(function(){return ce})),r.d(t,"createRegisterHooks",(function(){return le}));var n=r("./MapStore2/node_modules/lodash/lodash.js"),o=r("./MapStore2/node_modules/uuid/v1.js"),i=r.n(o),u=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),a=r("./MapStore2/web/client/utils/ImmutableUtils.js"),c=r("./MapStore2/web/client/utils/LayersUtils.js"),l=r("./MapStore2/node_modules/object-assign/index.js"),s=r.n(l);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function p(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var O=96,v={m:1,degrees:111194.87428468118,ft:.3048,"us-ft":1200/3937},h={RADIUS:6378137,TILE_WIDTH:256,ZOOM_FACTOR:2},j="EXTENT_TO_ZOOM_HOOK",S="ZOOM_TO_EXTENT_HOOK",w="RESOLUTIONS_HOOK",E="RESOLUTION_HOOK",A="COMPUTE_BBOX_HOOK",P="GET_PIXEL_FROM_COORDINATES_HOOK",x="GET_COORDINATES_FROM_PIXEL_HOOK",T={};function M(e,t){T[e]=t}function I(e){return T[e]}function F(e,t,r){var n=I(e);return n?t(n):r?r():null}function R(){T={}}function C(e){return e*(100/2.54)}function L(e,t){var r=Object(u.getUnits)(t||"EPSG:3857");return v[r]*C(e||O)}function G(e,t,r,n,o){return 2*Math.PI*e/(t*Math.pow(r,n)/C(o||O))}function N(e,t){return G(h.RADIUS,h.TILE_WIDTH,h.ZOOM_FACTOR,e,t)}function D(e,t,r,n,o,i){for(var u=[],a=n;a<=o;a++)u.push(G(e,t,r,a,i));return u}function _(e,t,r){return D(h.RADIUS,h.TILE_WIDTH,h.ZOOM_FACTOR,e,t,r)}function U(e,t,r){var n=L(r,t);return e.map((function(e){return e/n}))}function k(e,t,r){return U(_(e,t,r),"EPSG:3857",r)}function B(){return I("RESOLUTIONS_HOOK")?I("RESOLUTIONS_HOOK")():k(0,21,O)}function q(e,t){var r=L(t,e);return B().map((function(e){return e*r}))}function V(e,t,r,n,o,i){var u=e[2]-e[0],a=e[3]-e[1],c=Math.abs(u/t.width),l=Math.abs(a/t.height),s=Math.max(c,l),f=(i||U(_(r,n,o||O),"EPSG:3857",o)).reduce((function(e,t,r){var n=Math.abs(t-s);return n>e.diff?e:{diff:n,zoom:r}}),{diff:Number.POSITIVE_INFINITY,zoom:0}).zoom;return Math.max(0,Math.min(f,n))}function H(e,t,r,n,o){return I("EXTENT_TO_ZOOM_HOOK")?I("EXTENT_TO_ZOOM_HOOK")(e,t,r,n,o):V(e,t,r,n,o,I("RESOLUTIONS_HOOK")?I("RESOLUTIONS_HOOK")(e,t,r,n,o,C(o||O)):null)}function z(e,t,r,n){return I("RESOLUTION_HOOK")?I("RESOLUTION_HOOK")(e,t,r,n):k(t,r,n)[e]}function W(e,t){var r=(e[2]-e[0])/2,n=(e[3]-e[1])/2;return{x:e[0]+r,y:e[1]+n,crs:t}}function Y(e,t){return F("COMPUTE_BBOX_HOOK",(function(r){return r(e,t)}))}var Q=function(e,t){return void 0!==e&&void 0!==t&&e.toFixed(12)-t.toFixed(12)==0};function K(e,t){var r,o,i,u;return!(!e||Object(n.isEmpty)(e)||!t||Object(n.isEmpty)(t))&&(!(Q(null==t||null===(r=t.center)||void 0===r?void 0:r.x,null==e||null===(o=e.center)||void 0===o?void 0:o.x)&&Q(null==t||null===(i=t.center)||void 0===i?void 0:i.y,null==e||null===(u=e.center)||void 0===u?void 0:u.y))||(null==t?void 0:t.zoom)!==(null==e?void 0:e.zoom))}function X(e,t,r,n){var o=Object(u.getUnits)(e);return"ft"===o?{width:r/v.ft,height:n/v.ft}:"us-ft"===o?{width:r/v["us-ft"],height:n/v["us-ft"]}:"degrees"===o?{width:r/(111132.92-559.82*Math.cos(2*t.y)+1.175*Math.cos(4*t.y)),height:n/(111412.84*Math.cos(t.y)-93.5*Math.cos(3*t.y))}:{width:r,height:n}}var J=function(e){return{id:e.id,title:e.title,description:e.description,tooltipOptions:e.tooltipOptions,tooltipPlacement:e.tooltipPlacement,expanded:e.expanded}};function Z(e,t,r,o,i,u,l){var f={center:e.center,maxExtent:e.maxExtent,projection:e.projection,units:e.units,mapInfoControl:e.mapInfoControl,zoom:e.zoom,mapOptions:e.mapOptions||{}},d=t.map((function(e){return Object(c.saveLayer)(e)})),p=r.reduce((function(e,t){return e.concat(Object(c.getGroupNodes)(t))}),[].concat(r.map((function(e){return e.id})))).map((function(e){var t=Object(c.getNode)(r,e);return t&&t.nodes?J(t):null})).filter((function(e){return e})),g=o.filter((function(e){return!!e.thumbnail})),m=Object(c.extractSourcesFromLayers)(d),y=d.map((function(e){return s()({},e,{tileMatrixSet:e.tileMatrixSet&&e.tileMatrixSet.length>0,matrixIds:e.matrixIds&&Object.keys(e.matrixIds)})})),O=Object(n.findIndex)(y,(function(e){return"annotations"===e.id}));if(-1!==O){var v=y[O].features.map((function(e){return"FeatureCollection"===e.type?b(b({},e),{},{features:e.features.map((function(e){return e.properties.geometryGeodesic?Object(a.e)("properties.geometryGeodesic",null,e):e}))}):e.properties.geometryGeodesic?Object(a.e)("properties.geometryGeodesic",null,e):{}}));y[O]=Object(a.e)("features",v,y[O])}return b({version:2,map:s()({},f,{layers:y,groups:p,backgrounds:g,text_search_config:i,bookmark_search_config:u},!Object(n.isEmpty)(m)&&{sources:m}||{})},l)}var $=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(n.cloneDeep)(e),r=b(b({},Object(n.get)(e,"map.layers",[]).reduce((function(e,t){return b(b({},e),{},y({},t.id,"annotations"===t.id?t.id:i()()))}),{})),Object(n.get)(e,"widgetsConfig.widgets",[]).reduce((function(e,t){return b(b({},e),{},y({},t.id,i()()))}),{}));return Object(a.e)("map.backgrounds",Object(n.get)(e,"map.backgrounds",[]).map((function(e){return b(b({},e),{},{id:r[e.id]})})),Object(a.e)("widgetsConfig",{collapsed:Object(n.mapValues)(Object(n.mapKeys)(Object(n.get)(e,"widgetsConfig.collapsed",{}),(function(e,t){return r[t]})),(function(e){return b(b({},e),{},{layouts:Object(n.mapValues)(e.layouts,(function(e){return b(b({},e),{},{i:r[e.i]})}))})})),layouts:Object(n.mapValues)(Object(n.get)(e,"widgetsConfig.layouts",{}),(function(e){return e.map((function(e){return b(b({},e),{},{i:r[e.i]})}))})),widgets:Object(n.get)(e,"widgetsConfig.widgets",[]).map((function(e){return b(b({},e),{},{id:r[e.id],layer:b(b({},Object(n.get)(e,"layer",{})),{},{id:r[Object(n.get)(e,"layer.id")]})})}))},Object(a.e)("map.layers",Object(n.get)(e,"map.layers",[]).map((function(e){return b(b({},e),{},{id:r[e.id]})})),t)))},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){return Object(n.pick)(e,Object(n.keys)(e).filter((function(t){return void 0!==e[t]})))}))},o=$(t),i=[].concat(p(Object(n.get)(e,"map.backgrounds",[])),p(Object(n.get)(o,"map.backgrounds",[]))),u=r(Object(n.get)(e,"map.layers",[])),a=r(Object(n.get)(o,"map.layers",[])),c=Object(n.find)(u,(function(e){return"annotations"===e.id})),l=Object(n.find)(a,(function(e){return"annotations"===e.id})),s=[].concat(p(a.filter((function(e){return"annotations"!==e.id}))),p(u.filter((function(e){return"annotations"!==e.id}))),p(c||l?[b(b(b({},c||{}),l||{}),{},{features:[].concat(p(Object(n.get)(c,"features",[])),p(Object(n.get)(l,"features",[])))})]:[])),f=s.filter((function(e){return"background"===e.group})),d=Object(n.findIndex)(f,(function(e){return e.visibility})),g=Object(n.get)(e,"map.sources",{}),m=Object(n.get)(o,"map.sources",{}),O=b(b({},g),m),v=Object(n.get)(e,"widgetsConfig",{}),h=Object(n.get)(o,"widgetsConfig",{});return b(b(b({},o),e),{},{catalogServices:b(b({},Object(n.get)(e,"catalogServices",{})),{},{services:b(b({},Object(n.get)(e,"catalogServices.services",{})),Object(n.get)(o,"catalogServices.services",{}))}),map:b(b(b({},o.map),e.map),{},{backgrounds:i,groups:Object(n.uniqWith)([].concat(p(Object(n.get)(e,"map.groups",[])),p(Object(n.get)(o,"map.groups",[]))),(function(e,t){return e.id===t.id})),layers:[].concat(p(f.slice(0,d+1)),p(f.slice(d+1).map((function(e){return b(b({},e),{},{visibility:!1})}))),p(s.filter((function(e){return"background"!==e.group})))),sources:Object(n.isEmpty)(O)?void 0:O}),widgetsConfig:{collapsed:b(b({},v.collapsed),h.collapsed),layouts:Object(n.uniq)([].concat(p(Object(n.keys)(v.layouts)),p(Object(n.keys)(h.layouts)))).reduce((function(e,t){return b(b({},e),{},y({},t,[].concat(p(Object(n.get)(v,"layouts.".concat(t),[])),p(Object(n.get)(h,"layouts.".concat(t),[])))))}),{}),widgets:[].concat(p(Object(n.get)(v,"widgets",[])),p(Object(n.get)(h,"widgets",[])))},timelineData:b(b({},Object(n.get)(e,"timelineData",{})),Object(n.get)(o,"timelineData",{})),dimensionData:b(b({},Object(n.get)(e,"dimensionData",{})),Object(n.get)(o,"dimensionData",{}))})},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"RootGroup",r=Object(n.get)(e,"map.groups",[]),o=r.filter((function(e){return"Default"!==e.id})),u=Object(n.find)(r,(function(e){return"Default"===e.id})),a=u&&{id:i()(),title:t,expanded:u.expanded},c=u?[].concat(p(o.map((function(e){var t=e.id,r=d(e,["id"]);return b({id:"".concat(a.id,".").concat(t)},r)}))),[a]):o;return b(b({},e),{},{map:b(b({},e.map),{},{groups:c,layers:Object(n.get)(e,"map.layers",[]).map((function(e){var t,r=e.group;return b(b({},d(e,["group"])),{},{group:!u||"background"===r||"Default"!==r&&r?u&&(null===(t=Object(n.find)(c,(function(e){var t=e.id;return t.slice(t.indexOf(".")+1)===r})))||void 0===t?void 0:t.id)||r:a.id})}))})})};function re(e){switch(e){case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":case"Text":return!1;case"Point":case"Circle":case"LineString":case"Polygon":default:return!0}}function ne(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Point";switch(e){case"Point":case"LineString":case"Polygon":case"Circle":return e;case"MultiPoint":case"Marker":return"Point";case"MultiLineString":return"LineString";case"MultiPolygon":return"Polygon";case"GeometryCollection":return"GeometryCollection";case"Text":return"Point";default:return e}}var oe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:/data\/(\d+)/,r=decodeURIComponent(e),n=t.exec(r);return n&&n.length&&n.length>1?n[1]:null},ie=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(n.isString)(e)&&-1!==e.indexOf("%")?parseFloat(Object(n.trim)(e))*t/100:Object(n.isNumber)(e)?e:0},ue=function e(t){var r=["apiKey","time","args","fixed"],n=function(e){return r.reduce((function(t,r){return t||e===r}),!1)};Object.keys(t).forEach((function(r){var o=t[r],i=f(o);"object"!==i||null===o||n(r)?"undefined"!==i&&o&&!n(r)||delete t[r]:(e(o),Object.keys(o).length||delete t[r])}))},ae=function(e,t,r){e[t]&&(Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(e,t)),delete e[t])},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=["map.layers","map.backgrounds","map.text_search_config","map.bookmark_search_config","map.text_serch_config","map.zoom","widgetsConfig"],o=Object(n.pick)(Object(n.cloneDeep)(e),r),i=Object(n.pick)(Object(n.cloneDeep)(t),r);return ae(o.map,"text_serch_config","text_search_config"),ae(i.map,"text_serch_config","text_search_config"),ue(o),ue(i),Object(n.isEqual)(o,i)},le=function(){var e={};return{registerHook:function(t,r){e[t]=r},getHook:function(t){return e[t]},executeHook:function(t,r,n){var o=e[t];return o?r(o):n?n():null}}};t.default={createRegisterHooks:le,EXTENT_TO_ZOOM_HOOK:j,RESOLUTIONS_HOOK:w,RESOLUTION_HOOK:E,COMPUTE_BBOX_HOOK:A,GET_PIXEL_FROM_COORDINATES_HOOK:P,GET_COORDINATES_FROM_PIXEL_HOOK:x,DEFAULT_SCREEN_DPI:O,ZOOM_TO_EXTENT_HOOK:S,registerHook:M,getHook:I,dpi2dpm:C,getSphericalMercatorScales:D,getSphericalMercatorScale:G,getGoogleMercatorScales:_,getGoogleMercatorResolutions:k,getGoogleMercatorScale:N,getResolutionsForScales:U,getZoomForExtent:H,defaultGetZoomForExtent:V,getCenterForExtent:W,getResolutions:B,getScales:q,getBbox:Y,mapUpdated:K,getCurrentResolution:z,transformExtent:X,saveMapConfiguration:Z,generateNewUUIDs:$,mergeMapConfigs:ee,addRootParentGroup:te,isSimpleGeomType:re,getSimpleGeomType:ne,getIdFromUri:oe,parseLayoutValue:ie,prepareMapObjectToCompare:ue,updateObjectFieldKey:ae,compareMapChanges:ce,clearHooks:R}},"./MapStore2/web/client/utils/SearchUtils.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"c",(function(){return c})),r.d(t,"b",(function(){return l}));var n=r("./MapStore2/web/client/product/assets/img/marker-icon-red.png"),o=r.n(n),i=r("./MapStore2/web/client/product/assets/img/marker-shadow.png"),u=r.n(i),a={iconUrl:o.a,shadowUrl:u.a,iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]},c=function(e){return"single_layer"===(null==e?void 0:e.launchInfoPanel)&&!!(null==e?void 0:e.openFeatureInfoButtonEnabled)},l=function(e,t){return!!e&&((null==t?void 0:t.forceSearchLayerVisibility)||!!e.visibility)}},"./MapStore2/web/client/utils/StringUtils.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(e){return new RegExp("<(.|\\n)*?>","g").test(e)},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/;return t.test(e)}},"./MapStore2/web/client/utils/TOCUtils.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"d",(function(){return c})),r.d(t,"b",(function(){return l})),r.d(t,"c",(function(){return s}));var n=r("./MapStore2/node_modules/lodash/lodash.js"),o=r("./MapStore2/web/client/utils/LayersUtils.js"),i=r("./MapStore2/web/client/utils/LocaleUtils.js"),u=function(e,t){var r=RegExp("^/|/$|/{2,}");if(0===t.length||e.map((function(e){return e.label})).indexOf(t)>-1||r.test(t))return null;var n=t.replace(/\./g,"${dot}").replace(/\//g,".");return{label:t,value:n}},a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"title",t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:" - ";switch(e){case"title":var i=Object(n.isObject)(t.title)?t.title[r]||t.title.default:t.title,u=i||t.name||"";return u;case"description":var a=t.description||"";return a;case"both":var c=Object(n.isObject)(t.title)?t.title[r]||t.title.default:t.title,l=c||t.nam||"",s=t.description||"";return"".concat(l).concat(o&&s?o:"").concat(s);default:return t[e]}},c=function(e){var t=e.node,r=e.currentLocale,n=e.tooltipOptions,o=void 0===n?{separator:" - ",maxLength:807}:n,i=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" - ";return a(e.tooltipOptions,e,t,r)}(t,r,o.separator)||"";return(i=i&&i.substring(0,o.maxLength)).length===o.maxLength&&(i+="..."),{title:a("title",t,r,o.separator),tooltipText:i}},l=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t.filter((function(e){return e.nodes})).reduce((function(t,o){return t.push(n?o:{label:o.id.replace(/\./g,"/").replace(/\${dot}/g,"."),value:o.id}),o.nodes.length>0?t.concat(e(o.nodes,r+1,n)):t}),[])},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=e.replace(/[^\.\/]+/g,(function(e){var r=Object(n.get)(Object(o.getGroupByName)(e,t),"title");return Object(n.isObject)(r)?r[Object(i.d)()]||r.default:t&&r||e}));return r=(r=r.replace(/\./g,"/")).replace(/\${dot}/g,".")}},"./MapStore2/web/client/utils/TemplateUtils.js":function(e,t,r){"use strict";r.r(t),r.d(t,"validateStringAttribute",(function(){return i})),r.d(t,"getCleanTemplate",(function(){return u})),r.d(t,"parseCustomTemplate",(function(){return a})),r.d(t,"generateTemplateString",(function(){return c})),r.d(t,"parseTemplate",(function(){return l}));var n,o=r("./MapStore2/node_modules/lodash/lodash.js"),i=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=Object(o.isString)(t)&&Object(o.trim)(t.substring(r,t.length-n))||"";return Object(o.has)(e,i)},u=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(){return""},c=Object(o.isString)(e)&&e.match(r),l=c&&c.map((function(e){var r=e.replace(/(<([^>]+)>)/gi,"");return{previous:e,next:i(t,r,n,u)?r:a(e)}}))||null;return l&&l.reduce((function(e,t){return e.replace(t.previous,t.next)}),e)||e||""},a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return"".concat(Object(o.trim)(e.substring(2,e.length-1))," Not Available")};return Object(o.template)(u(e||"",t,/\$\{.*?\}/g,2,1,r))(t)},c=(n={},function(e,t){var r=n[e];return r&&!t||(r=function(r){var n=e.replace(/\$\{([\s]*[^;\s\{]+[\s]*)\}/g,(function(e,n){return(t||function(e){return e})(n.trim().split(".").reduce((function(e,t){return e&&e[t]}),r))}));return Object(o.isString)(n)&&n||""},t||(n[e]=r)),r}),l=function(e,t){r.e(31).then(function(){var n=r("./MapStore2/node_modules/babel-standalone/babel.js"),o="function"==typeof e?e():e;try{var i=n.transform(o,{presets:["es2015","react","stage-0"]}).code;t(i)}catch(e){t(null,e)}}.bind(null,r)).catch(r.oe)},s={generateTemplateString:c,parseTemplate:l,validateStringAttribute:i,getCleanTemplate:u,parseCustomTemplate:a};t.default=s},"./MapStore2/web/client/utils/VendorParamsUtils.js":function(e,t,r){"use strict";r.r(t),r.d(t,"optionsToVendorParams",(function(){return a}));var n=r("./MapStore2/web/client/utils/FilterUtils.js");r("./MapStore2/web/client/utils/ConfigUtils.js");function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=t.layerFilter,u=t.filterObj,a=[Object(n.isFilterValid)(o)&&!o.disabled&&Object(n.toCQLFilter)(o),Object(n.isFilterValid)(u)&&Object(n.toCQLFilter)(u),t&&t.params&&t.params.CQL_FILTER,r];return(e=(a=a.filter((function(e){return!!e}))).length>1?a.map((function(e){return"(".concat(e,")")})).join(" AND "):a.pop())?i(i({},t.params),{},{CQL_FILTER:e}):t.params}},"./MapStore2/web/client/utils/WFSLayerUtils.js":function(e,t,r){"use strict";r.r(t),r.d(t,"needsReload",(function(){return s})),r.d(t,"toDescribeURL",(function(){return f})),r.d(t,"extractGeometryType",(function(){return d})),r.d(t,"extractGeometryAttributeName",(function(){return p}));var n=r("./MapStore2/web/client/utils/VendorParamsUtils.js"),o=r("./node_modules/url/url.js"),i=r.n(o),u=r("./MapStore2/node_modules/lodash/lodash.js");function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=function(e,t){var r=c(c({},Object(n.optionsToVendorParams)(e)||{}),{},{_v_:e._v_}),o=c(c({},Object(n.optionsToVendorParams)(t)||{}),{},{_v_:t._v_});return["_v_","CQL_FILTER","VIEWPARAMS"].reduce((function(e,t){return r[t]!==o[t]||e}),!1)},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name,r=e.search,n=void 0===r?{}:r,o=e.url,u=e.describeFeatureTypeURL,a=i.a.parse(u||n.url||o,!0);return i.a.format(c(c({},a),{},{search:void 0,query:c(c({},a.query),{},{service:"WFS",version:"1.1.0",typeName:t,outputFormat:"application/json",request:"DescribeFeatureType"})}))},d=function(e){var t=Object(u.get)(e,"featureTypes[0].properties")||[];return t&&Object(u.head)(t.filter((function(e){return 0===e.type.indexOf("gml:")})).map((function(e){return e.type.split(":")[1]})))},p=function(e){var t=Object(u.get)(e,"featureTypes[0].properties")||[];return t&&Object(u.head)(t.filter((function(e){return 0===e.type.indexOf("gml:")})).map((function(e){return e.name})))}},"./MapStore2/web/client/utils/WMTSUtils.js":function(e,t,r){"use strict";r.r(t),r.d(t,"getDefaultMatrixId",(function(){return l})),r.d(t,"getMatrixIds",(function(){return s})),r.d(t,"limitMatrix",(function(){return f})),r.d(t,"getTileMatrixSet",(function(){return d})),r.d(t,"getRequestEncoding",(function(){return p})),r.d(t,"getOperations",(function(){return g})),r.d(t,"getOperation",(function(){return m})),r.d(t,"getGetTileURL",(function(){return b})),r.d(t,"getCapabilitiesURL",(function(){return y})),r.d(t,"getDefaultStyleIdentifier",(function(){return O})),r.d(t,"getDefaultFormat",(function(){return v})),r.d(t,"sortTileMatrix",(function(){return h})),r.d(t,"getTileMatrix",(function(){return j}));var n,o=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),i=r("./MapStore2/node_modules/lodash/lodash.js");function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l=function(e){for(var t=new Array(30),r=0;r<30;++r)t[r]=e.tileMatrixPrefix+r;return t},s=function(e,t){return Object(i.isObject)(e)&&Object(i.isArray)(e[t])&&e[t]||Object(i.isArray)(e)&&e||[]},f=function(e,t){return e.length>t?Object(i.slice)(e,0,t):e.length<t?e.concat(new Array(t-e.length)):e},d=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:t;return e&&Object(i.isString)(e)?e:e?Object(o.getEquivalentSRS)(t,r).reduce((function(t,r){if(Object(i.isArray)(e)){var u=Object(i.head)(e.filter((function(e){return(e["ows:Identifier"]===r||Object(o.getEPSGCode)(e["ows:SupportedCRS"])===r)&&n[e["ows:Identifier"]]})));return u&&u["ows:Identifier"]?u["ows:Identifier"]:t}return Object(i.isObject)(e)&&e[r]||t}),u):u},p=function(e){var t=n.getOperations(e);return n.getOperation(t,"GetTile","KVP")?"KVP":n.getOperation(t,"GetTile","RESTful")&&"RESTful"},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(i.castArray)(e.Capabilities["ows:OperationsMetadata"]["ows:Operation"])},m=function(e,t,r){return Object(i.head)(Object(i.castArray)(Object(i.head)(e.filter((function(e){return e.$.name===t})).map((function(e){return Object(i.castArray)(e["ows:DCP"]["ows:HTTP"]["ows:Get"])})))||[]).filter((function(e){return(e["ows:Constraint"]&&e["ows:Constraint"]["ows:AllowedValues"]["ows:Value"])===r})).map((function(e){return e.$["xlink:href"]})))},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.ResourceURL,r=e.GetTileURL,n=e.requestEncoding;return"KVP"===n?r:t&&Object(i.castArray)(t).map((function(e){var t=e.$,r=void 0===t?{}:t;return r.template||r.value}))||r},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(i.head)(Object(i.castArray)(e.capabilitiesURL||e.GetTileURL))},O=function(e){return Object(i.head)(Object(i.castArray)(e.Style).filter((function(e){var t=e.$;return"true"===(void 0===t?{}:t).isDefault})).map((function(e){return e["ows:Identifier"]})))},v=function(e){return Object(i.head)(Object(i.castArray)(e.Format))},h=function(e,t){return e?a(a({},e),{},{TileMatrix:Object(i.sortBy)(null==e?void 0:e.TileMatrix.map((function(e){return a(a({},e),{},{ScaleDenominator:Number(e.ScaleDenominator)})})),"ScaleDenominator").reverse().filter((function(e){return!t||t.map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.identifier;return t})).indexOf(e["ows:Identifier"])>=0}))}):e},j=function(e,t){var r,n,o=d(e.tileMatrixSet,t,e.allowedSRS,e.matrixIds),u=e.matrixIds&&s(e.matrixIds,o||t),a=h(Object(i.head)(e.tileMatrixSet.filter((function(e){return e["ows:Identifier"]===o}))),u),c=null==a||null===(r=(n=a.TileMatrix).map)||void 0===r?void 0:r.call(n,(function(e){return e["ows:Identifier"]}));return{matrixIds:c&&u?u.sort((function(e,t){return c.indexOf(e.identifier)-c.indexOf(t.identifier)})):u,tileMatrixSetName:o,tileMatrixSet:a}};n={getOperations:g,getOperation:m}},"./MapStore2/web/client/utils/mapinfo/vector.js":function(e,t,r){var n=r("./MapStore2/web/client/utils/MapUtils.js").getCurrentResolution;e.exports={buildRequest:function(e,t){var r,o;return{request:{lat:t.point.latlng.lat,lng:t.point.latlng.lng},metadata:{fields:(null===(r=e.features)||void 0===r||null===(o=r[0])||void 0===o?void 0:o.properties)&&Object.keys(e.features[0].properties)||[],title:e.name,resolution:t.map&&t.map&&t.map.zoom&&n(t.map.zoom,0,21,96),buffer:t.buffer||2,units:t.map&&t.map.units,rowViewer:e.rowViewer,viewer:e.viewer},url:""}}}},"./MapStore2/web/client/utils/mapinfo/wfs.js":function(e,t,r){function n(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r("./MapStore2/node_modules/rxjs/Rx.js").Observable,c=r("./MapStore2/web/client/utils/CoordinatesUtils.js").normalizeSRS,l=r("./MapStore2/web/client/utils/LayersUtils.js").getLayerUrl,s=r("./MapStore2/node_modules/lodash/lodash.js").isObject,f=r("./MapStore2/web/client/utils/VendorParamsUtils.js").optionsToVendorParams,d=r("./MapStore2/web/client/api/WFS.js"),p=d.describeFeatureType,g=d.getFeature,m=r("./MapStore2/web/client/utils/WFSLayerUtils.js").extractGeometryAttributeName,b=r("./MapStore2/web/client/utils/SecurityUtils.js").addAuthenticationToSLD,y=r("./MapStore2/node_modules/object-assign/index.js");e.exports={buildRequest:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.map,n=void 0===r?{}:r,o=t.point,u=t.currentLocale,a=t.params,f=t.maxItems,d=void 0===f?10:f,p=arguments.length>3?arguments[3]:void 0,g=arguments.length>4?arguments[4]:void 0;return{request:b(i({point:o,service:"WFS",version:"1.1.1",request:"GetFeature",outputFormat:"application/json",exceptions:"application/json",id:e.id,typeName:e.name,srs:c(n.projection)||"EPSG:4326",feature_count:d},y({params:a})),e),metadata:{title:s(e.title)?e.title[u]||e.title.default:e.title,regex:e.featureInfoRegex,viewer:p,featureInfo:g},url:l(e).replace(/[?].*$/g,"")}},getIdentifyFlow:function(e,t,r){var o=r.point,i=n(r,["point"]),u=function(e){var t,r,n=null==e||null===(t=e.geometricFilter)||void 0===t||null===(r=t.value)||void 0===r?void 0:r.geometry;if(n)return n;var o=e.latlng.lng;return{coordinates:[o-360*Math.floor(o/360+.5),e.latlng.lat],projection:"EPSG:4326",type:"Point"}}(o);return a.defer((function(){return p(e.url,e.name).then((function(r){var n=m(r),o=f({layerFilter:e.layerFilter,filterObj:{spatialField:{attribute:n,operation:"INTERSECTS",geometry:u}},params:y({},e.baseParams,e.params,i)});return g(t,e.name,o)}))}))}}},"./MapStore2/web/client/utils/mapinfo/wms.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u=r("./MapStore2/web/client/utils/MapUtils.js").getCurrentResolution,a=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),c=a.reproject,l=a.getProjectedBBox,s=a.normalizeSRS,f=r("./MapStore2/web/client/utils/LayersUtils.js").getLayerUrl,d=r("./MapStore2/node_modules/lodash/lodash.js").isObject,p=r("./MapStore2/web/client/utils/VendorParamsUtils.js").optionsToVendorParams,g=r("./MapStore2/web/client/utils/LayerLocalizationUtils.js").generateEnvString,m=r("./MapStore2/web/client/utils/SecurityUtils.js").addAuthenticationToSLD,b=r("./MapStore2/node_modules/object-assign/index.js");e.exports={buildRequest:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.sizeBBox,n=t.map,i=void 0===n?{}:n,a=t.point,y=t.currentLocale,O=t.params,v=t.maxItems,h=void 0===v?10:v,j=t.env,S=arguments.length>2?arguments[2]:void 0,w=arguments.length>3?arguments[3]:void 0,E=arguments.length>4?arguments[4]:void 0,A=r&&r.height||101,P=r&&r.width||101,x=[A,P],T=0,M=u(Math.ceil(i.zoom),0,21,96),I=a.latlng.lng,F=I-360*Math.floor(I/360+.5),R={x:F,y:a.latlng.lat},C=c(R,"EPSG:4326",i.projection),L=l(C,M,T,x,null),G=e.name;e.queryLayers&&(G=e.queryLayers.join(","));var N=g(j),D=p({layerFilter:e.layerFilter,filterObj:e.filterObj,params:b({},e.baseParams,e.params,O)});return{request:m(o({service:"WMS",version:"1.1.1",request:"GetFeatureInfo",exceptions:"application/json",id:e.id,layers:e.name,query_layers:G,styles:e.style,x:P%2==1?Math.ceil(P/2):P/2,y:P%2==1?Math.ceil(P/2):P/2,height:A,width:P,srs:s(i.projection)||"EPSG:4326",bbox:L.minx+","+L.miny+","+L.maxx+","+L.maxy,feature_count:h,info_format:S,ENV:N},b({},D)),e),metadata:{title:d(e.title)?e.title[y]||e.title.default:e.title,regex:e.featureInfoRegex,viewer:w,featureInfo:E},url:f(e).replace(/[?].*$/g,"")}}}},"./MapStore2/web/client/utils/mapinfo/wmts.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u=r("./MapStore2/web/client/utils/MapUtils.js"),a=u.getCurrentResolution,c=u.getResolutions,l=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),s=l.reproject,f=l.normalizeSRS,d=r("./MapStore2/web/client/utils/WMTSUtils.js"),p=d.getTileMatrixSet,g=d.limitMatrix,m=d.getMatrixIds,b=d.getDefaultMatrixId,y=r("./MapStore2/web/client/utils/LayersUtils.js").getLayerUrl,O=r("./MapStore2/web/client/utils/VendorParamsUtils.js").optionsToVendorParams,v=r("./MapStore2/node_modules/lodash/lodash.js").isObject,h=r("./MapStore2/node_modules/object-assign/index.js");e.exports={buildRequest:function(e,t){var r=a(Math.round(t.map.zoom),0,21,96),n=e.resolutions||c(),i=e.tileSize||256,u=[e.originX||-20037508.3428,e.originY||20037508.3428],l=t.point.latlng.lng,d={x:l-360*Math.floor(l/360+.5),y:t.point.latlng.lat},j=s(d,"EPSG:4326",t.map.projection),S=f(e.srs||t.map.projection||"EPSG:3857",e.allowedSRS),w=p(e.tileMatrixSet,S,e.allowedSRS,e.matrixIds),E=(j.x-u[0])/(r*i),A=(u[1]-j.y)/(r*i),P=Math.floor(E),x=Math.floor(A),T=Math.floor((E-P)*i),M=Math.floor((A-x)*i),I=g(e.matrixIds&&m(e.matrixIds,w||S)||b(e),n.length),F=O({layerFilter:e.layerFilter,filterObj:e.filterObj,params:h({},e.baseParams,e.params,t.params)});return{request:o(o({service:"WMTS",request:"GetFeatureInfo",layer:e.name,infoformat:t.format,style:e.style||""},h({},F)),{},{tilecol:P,tilerow:x,tilematrix:I[Math.round(t.map.zoom)],tilematrixset:w,i:T,j:M}),metadata:{title:v(e.title)?e.title[t.currentLocale]||e.title.default:e.title,regex:e.featureInfoRegex},url:y(e).replace(/[?].*$/g,"")}}}},"./MapStore2/web/client/utils/ogc/Filter/CQL/parser.js":function(e,t){var r="INTERSECTS",n="BBOX",o="CONTAINS",i="DWITHIN",u="WITHIN",a={PROPERTY:/^[_a-zA-Z]\w*/,COMPARISON:/^(=|<>|<=|<|>=|>|LIKE)/i,IS_NULL:/^IS NULL/i,COMMA:/^,/,LOGICAL:/^(AND|OR)/i,VALUE:/^('([^']|'')*'|-?\d+(\.\d*)?|\.\d+)/,LPAREN:/^\(/,RPAREN:/^\)/,SPATIAL:/^(BBOX|INTERSECTS|DWITHIN|WITHIN|CONTAINS)/i,NOT:/^NOT/i,BETWEEN:/^BETWEEN/i,GEOMETRY:function(e){var t=/^(POINT|LINESTRING|POLYGON|MULTIPOINT|MULTILINESTRING|MULTIPOLYGON|GEOMETRYCOLLECTION)/.exec(e);if(t){var r=e.length,n=e.indexOf("(",t[0].length);if(n>-1)for(var o=1;n<r&&o>0;)switch(n++,e.charAt(n)){case"(":o++;break;case")":o--}return[e.substr(0,n+1)]}return null},END:/^$/},c={LPAREN:["GEOMETRY","SPATIAL","PROPERTY","VALUE","LPAREN"],RPAREN:["NOT","LOGICAL","END","RPAREN"],PROPERTY:["COMPARISON","BETWEEN","COMMA","IS_NULL"],BETWEEN:["VALUE"],IS_NULL:["END"],COMPARISON:["VALUE"],COMMA:["GEOMETRY","VALUE","PROPERTY"],VALUE:["LOGICAL","COMMA","RPAREN","END"],SPATIAL:["LPAREN"],LOGICAL:["NOT","VALUE","SPATIAL","PROPERTY","LPAREN"],NOT:["PROPERTY","LPAREN"],GEOMETRY:["COMMA","RPAREN"]},l={"=":"=","<>":"<>","<":"<","<=":"<=",">":">",">=":">=",LIKE:"like",ILIKE:"ilike",BETWEEN:"><","IS NULL":"isNull"},s={AND:"and",OR:"or",NOT:"not"},f={RPAREN:3,LOGICAL:2,COMPARISON:1},d=function(e,t){return t instanceof RegExp?t.exec(e):t(e)},p=function(e,t){var r,n,o=t.length;for(r=0;r<o;r++){n=t[r];var i=d(e,a[n]);if(i){var u=i[0];return{type:n,text:u,remainder:e.substr(u.length).replace(/^\s*/,"")}}}var c="ERROR: In parsing: ["+e+"], expected one of: ";for(r=0;r<o;r++)c+="\n    "+(n=t[r])+": "+a[n];throw new Error(c)},g=function(e){for(var t=[],a=[];e.length;){var c=e.shift();switch(c.type){case"PROPERTY":case"GEOMETRY":case"VALUE":a.push(c);break;case"COMPARISON":case"BETWEEN":case"IS_NULL":case"LOGICAL":for(var d=f[c.type];t.length>0&&f[t[t.length-1].type]<=d;)a.push(t.pop());t.push(c);break;case"SPATIAL":case"NOT":case"LPAREN":t.push(c);break;case"RPAREN":for(;t.length>0&&"LPAREN"!==t[t.length-1].type;)a.push(t.pop());t.pop(),t.length>0&&"SPATIAL"===t[t.length-1].type&&a.push(t.pop());break;case"COMMA":case"END":break;default:throw new Error("Unknown token type "+c.type)}}for(;t.length>0;)a.push(t.pop());var p=function e(){var t=a.pop();switch(t.type){case"LOGICAL":var c=e();return{filters:[e(),c],type:s[t.text.toUpperCase()]};case"NOT":return{filters:[e()],type:s.NOT};case"BETWEEN":a.pop();var f=e(),d=e();return{property:e(),lowerBoundary:d,upperBoundary:f,type:l.BETWEEN};case"COMPARISON":var p=e();return{property:e(),value:p,type:l[t.text.toUpperCase()]};case"IS_NULL":return{property:e(),type:l[t.text.toUpperCase()]};case"VALUE":var g=t.text.match(/^'(.*)'$/);return g?g[1].replace(/''/g,"'"):Number(t.text);case"SPATIAL":switch(t.text.toUpperCase()){case"BBOX":var m=e(),b=e(),y=e(),O=e(),v=e();return{type:n,property:v,value:[O,y,b,m]};case"INTERSECTS":var h=e(),j=e();return{type:r,property:j,value:h};case"WITHIN":var S=e(),w=e();return{type:u,property:w,value:S};case"CONTAINS":var E=e(),A=e();return{type:o,property:A,value:E};case"DWITHIN":var P=e(),x=e(),T=e();return{type:i,value:x,property:T,distance:Number(P)};default:return null}case"GEOMETRY":return function(){throw new Error("WKT parsing for CQL filter not supported yet")}(t.text);default:return t.text}}();if(a.length>0){for(var g="Remaining tokens after building AST: \n",m=a.length-1;m>=0;m--)g+=a[m].type+": "+a[m].text+"\n";throw new Error(g)}return p};e.exports={read:function(e){return g(function(e){var t,r=[],n=e,o=["NOT","GEOMETRY","SPATIAL","PROPERTY","LPAREN"];do{if(n=(t=p(n,o)).remainder,o=c[t.type],"END"!==t.type&&!o)throw new Error("No follows list for "+t.type);r.push(t)}while("END"!==t.type);return r}(e))}}},"./MapStore2/web/client/utils/ogc/Filter/FilterBuilder.js":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=r("./MapStore2/web/client/utils/ogc/Filter/operators.js"),i=o.logical,u=o.spatial,a=o.comparison,c=o.literal,l=o.propertyName,s=o.valueReference,f=o.distance,d=o.lower,p=o.upper,g=r("./MapStore2/web/client/utils/ogc/Filter/filter.js"),m=g.filter,b=g.fidFilter,y=r("./MapStore2/web/client/utils/ogc/GML/index.js").processOGCGeometry;e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.filterNS,r=void 0===t?"ogc":t,o=e.gmlVersion,g=e.wfsVersion,O=void 0===g?"1.1.0":g,v=o||"3.1.1",h=function(e){return y(v,e)},j=function(e){return"object"===n(e)&&Date,c(r,e)},S=0===O.indexOf("2.")?s:l;return{filter:m.bind(null,r),fidFilter:b.bind(null,r),and:i.and.bind(null,r),or:i.or.bind(null,r),not:i.not.bind(null,r),property:function(e){return{equalTo:function(t){return a.equal(r,S(r,e),j(t))},greaterThen:function(t){return a.greater(r,S(r,e),j(t))},greaterThenOrEqualTo:function(t){return a.greaterOrEqual(r,S(r,e),j(t))},lessThen:function(t){return a.less(r,S(r,e),j(t))},lessThenOrEqualTo:function(t){return a.lessOrEqual(r,S(r,e),j(t))},notEqualTo:function(t){return a.notEqual(r,S(r,e),j(t))},between:function(t,n){return a.between(r,S(r,e),d(r,j(t)),p(r,j(n)))},like:function(t,n){return a.like(r,S(r,e),j(t),n)},ilike:function(t,n){return a.ilike(r,S(r,e),j(t),n)},isNull:function(){return a.isNull(r,S(r,e))},intersects:function(t){return u.intersects(r,S(r,e),h(t))},within:function(t){return u.within(r,S(r,e),h(t))},dwithin:function(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"m";return u.dwithin(r,S(r,e),h(t),f(r,n,o))},contains:function(t){return u.contains(r,S(r,e),h(t))}}}}}},"./MapStore2/web/client/utils/ogc/Filter/filter.js":function(e,t){var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ogc",t=arguments.length>1?arguments[1]:void 0;return"<".concat(e,":Filter>").concat(Array.isArray(t)?t.join(""):t,"</").concat(e,":Filter>")};e.exports={fidFilter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ogc",t=arguments.length>1?arguments[1]:void 0;return r(e,"<".concat(e,':FeatureId fid="').concat(t,'"/>'))},filter:r}},"./MapStore2/web/client/utils/ogc/Filter/fromObject.js":function(e,t,r){function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i=r("./MapStore2/node_modules/lodash/lodash.js"),u=i.includes,a=i.isNil,c=["and","or","not"],l={"=":"equalTo","<>":"notEqualTo","><":"between","<":"lessThen","<=":"lessThenOrEqualTo",">":"greaterThen",">=":"greaterThenOrEqualTo",like:"like",ilike:"ilike"};e.exports=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(r){var o=r.type,i=r.filters,s=void 0===i?[]:i,f=r.value,d=r.property,p=r.lowerBoundary,g=r.upperBoundary;return u(c,o)?t[o].apply(t,n(s.map(e(t)))):t.property(d)[l[o]](a(f)?p:f,g)}}},"./MapStore2/web/client/utils/ogc/Filter/operators.js":function(e,t){var r={"=":function(e,t){return"<".concat(e,":PropertyIsEqualTo>").concat(t,"</").concat(e,":PropertyIsEqualTo>")},">":function(e,t){return"<".concat(e,":PropertyIsGreaterThan>").concat(t,"</").concat(e,":PropertyIsGreaterThan>")},"<":function(e,t){return"<".concat(e,":PropertyIsLessThan>").concat(t,"</").concat(e,":PropertyIsLessThan>")},">=":function(e,t){return"<".concat(e,":PropertyIsGreaterThanOrEqualTo>").concat(t,"</").concat(e,":PropertyIsGreaterThanOrEqualTo>")},"<=":function(e,t){return"<".concat(e,":PropertyIsLessThanOrEqualTo>").concat(t,"</").concat(e,":PropertyIsLessThanOrEqualTo>")},"<>":function(e,t){return"<".concat(e,":PropertyIsNotEqualTo>").concat(t,"</").concat(e,":PropertyIsNotEqualTo>")},"><":function(e,t){return"<".concat(e,":PropertyIsBetween>").concat(t,"</").concat(e,":PropertyIsBetween>")},like:function(e,t){return"<".concat(e,':PropertyIsLike matchCase="true" wildCard="*" singleChar="." escapeChar="!">').concat(t,"</").concat(e,":PropertyIsLike>")},ilike:function(e,t){return"<".concat(e,':PropertyIsLike matchCase="false" wildCard="*" singleChar="." escapeChar="!">').concat(t,"</").concat(e,":PropertyIsLike>")},isNull:function(e,t){return"<".concat(e,":PropertyIsNull>").concat(t,"</").concat(e,":PropertyIsNull>")}},n={AND:function(e,t){return"<".concat(e,":And>").concat(t,"</").concat(e,":And>")},OR:function(e,t){return"<".concat(e,":Or>").concat(t,"</").concat(e,":Or>")},NOR:function(e,t){return"<".concat(e,":Not><").concat(e,":Or>").concat(t,"</").concat(e,":Or></").concat(e,":Not>")},NOT:function(e,t){return"<".concat(e,":Not>").concat(t,"</").concat(e,":Not>")}},o={INTERSECTS:function(e,t){return"<".concat(e,":Intersects>").concat(t,"</").concat(e,":Intersects>")},BBOX:function(e,t){return"<".concat(e,":BBOX>").concat(t,"</").concat(e,":BBOX>")},CONTAINS:function(e,t){return"<".concat(e,":Contains>").concat(t,"</").concat(e,":Contains>")},DWITHIN:function(e,t){return"<".concat(e,":DWithin>").concat(t,"</").concat(e,":DWithin>")},WITHIN:function(e,t){return"<".concat(e,":Within>").concat(t,"</").concat(e,":Within>")}},i=function(e,t,r){return t(e,Array.isArray(r)?r.join(""):r)},u={and:function(e,t){for(var r=arguments.length,o=new Array(r>2?r-2:0),u=2;u<r;u++)o[u-2]=arguments[u];return o&&o.length>0?i(e,n.AND,[t].concat(o)):i(e,n.AND,t)},or:function(e,t){for(var r=arguments.length,o=new Array(r>2?r-2:0),u=2;u<r;u++)o[u-2]=arguments[u];return o&&o.length>0?i(e,n.OR,[t].concat(o)):i(e,n.OR,t)},not:function(e,t){return i(e,n.NOT,t)},nor:function(e,t){for(var r=arguments.length,o=new Array(r>2?r-2:0),u=2;u<r;u++)o[u-2]=arguments[u];return o&&o.length>0?i(e,n.NOR,[t].concat(o)):i(e,n.NOR,t)}},a={intersects:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return i(e,o.INTERSECTS,r)},within:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return i(e,o.WITHIN,r)},bbox:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return i(e,o.BBOX,r)},dwithin:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return i(e,o.DWITHIN,r)},contains:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return i(e,o.CONTAINS,r)}},c={equal:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return i(e,r["="],n)},greater:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return i(e,r[">"],n)},less:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return i(e,r["<"],n)},greaterOrEqual:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return i(e,r[">="],n)},lessOrEqual:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return i(e,r["<="],n)},notEqual:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return i(e,r["<>"],n)},between:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return i(e,r["><"],n)},like:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return i(e,r.like,n)},ilike:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return i(e,r.ilike,n)},isNull:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return i(e,r.isNull,n)}};e.exports={ogcComparisonOperators:r,ogcLogicalOperators:n,ogcSpatialOperators:o,propertyName:function(e,t){return"<".concat(e,":PropertyName>").concat(t,"</").concat(e,":PropertyName>")},valueReference:function(e,t){return"<".concat(e,":ValueReference>").concat(t,"</").concat(e,":ValueReference>")},distance:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"m";return"<".concat(e,':Distance units="').concat(r,'">').concat(t,"</").concat(e,":Distance>")},literal:function(e,t){return"<".concat(e,":Literal>").concat(t,"</").concat(e,":Literal>")},logical:u,spatial:a,comparison:c,lower:function(e,t){return"<".concat(e,":LowerBoundary>").concat(t,"</").concat(e,":LowerBoundary>")},upper:function(e,t){return"<".concat(e,":UpperBoundary>").concat(t,"</").concat(e,":UpperBoundary>")}}},"./MapStore2/web/client/utils/ogc/GML/index.js":function(e,t,r){var n=r("./MapStore2/node_modules/lodash/lodash.js").isArray,o=function(e){return 0===e.indexOf("2.")},i=function(e){if(e.length>=3){var t=e[0],r=e[e.length-1];if(t[0]!==r[0]||t[1]!==r[1])return e.concat([e[0]])}return e},u=function(e,t,r){var n='<gml:Point srsDimension="2"';return n+=t?' srsName="'+t+'">':">",n+=o(r)?"<gml:coord><X>"+e[0]+"</X><Y>"+e[1]+"</Y></gml:coord>":"<gml:pos>"+e.join(" ")+"</gml:pos>",n+="</gml:Point>"},a=function(e,t,r){var u=o(r),a="<gml:Polygon";return a+=t?' srsName="'+t+'">':">",(e.length&&n(e[0])&&e[0].length&&n(e[0][0])?e:[e]).forEach((function(e,t){var r=i(e).map((function(e){return e[0]+(u?",":" ")+e[1]})),n=u?"outerBoundaryIs":"exterior",o=u?"innerBoundaryIs":"exterior";a+=(t<1?"<gml:"+n+">":"<gml:"+o+">")+"<gml:LinearRing>"+(u?"<gml:coordinates>":"<gml:posList>")+r.join(" ")+(u?"</gml:coordinates>":"</gml:posList>")+"</gml:LinearRing>"+(t<1?"</gml:"+n+">":"</gml:"+o+">")})),a+="</gml:Polygon>"},c=function(e,t,r){var n=o(r),i="<gml:LineString";i+=t?' srsName="'+t+'">':">";var u=e.map((function(e){return e[0]+(n?",":" ")+e[1]}));return i+=(n?"<gml:coordinates>":"<gml:posList>")+u.join(" ")+(n?"</gml:coordinates>":"</gml:posList>"),i+="</gml:LineString>"};e.exports={closePolygon:i,pointElement:u,polygonElement:a,lineStringElement:c,processOGCGeometry:function(e,t){var r="",n=t.projection||"EPSG:4326";switch(t.type){case"Point":r+=u(t.coordinates,n,e);break;case"MultiPoint":r+='<gml:MultiPoint srsName="'+(t.projection||"EPSG:4326")+'">',t.coordinates.forEach((function(t){t&&(r+="<gml:pointMember>",r+=u(t,n,e),r+="</gml:pointMember>")})),r+="</gml:MultiPoint>";break;case"LineString":r+=c(t.coordinates,n,e);break;case"MultiLineString":var o="3.2"===e?"MultiCurve":"MultiLineString",i="3.2"===e?"curveMember":"lineStringMember";r+="<gml:".concat(o,' srsName="').concat(n,'">'),t.coordinates.forEach((function(t){t&&(r+="<gml:"+i+">",r+=c(t,n,e),r+="</gml:"+i+">")})),r+="</gml:"+o+">";break;case"Polygon":r+=a(t.coordinates,n,e);break;case"MultiPolygon":var l="3.2"===e?"MultiSurface":"MultiPolygon",s="3.2"===e?"surfaceMembers":"polygonMember";r+="<gml:".concat(l,' srsName="').concat(n,'">'),t.coordinates.forEach((function(t){t&&(r+="<gml:"+s+">",r+=a(t,n,e),r+="</gml:"+s+">")})),r+="</gml:"+l+">"}return r}}},"./MapStore2/web/client/utils/ogc/WFS/base.js":function(e,t,r){var n=r("./MapStore2/node_modules/lodash/lodash.js"),o=n.head,i=n.get,u=function(e){return/[<>&'"]/.test(e)?"<![CDATA[".concat(e,"]]>"):e},a=r("./MapStore2/web/client/utils/ogc/GML/index.js").processOGCGeometry,c={"1.0.0":"2.0","1.1.0":"3.1.1","2.0":"3.2","2.0.0":"3.2"},l=function(e){return i(e,"featureTypes[0].properties")},s=function(e,t){return o((l(t)||[]).filter((function(t){return t.name===e})))},f=function(e){return e.targetNamespace},d=function(e){return 0===e.type.indexOf("gml:")},p=function(e,t){return null==t||t&&!0===t.nillable||t&&!1===t.nillable&&null!=e},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.geom,r=e.properties,n=arguments.length>1?arguments[1]:void 0;return p(d(n)?t:r[n.name],n)};e.exports={schemaLocation:f,isGeometryType:d,featureTypeSchema:function(e){return"xmlns:".concat(e.targetPrefix,'="').concat(f(e),'"')},getValue:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"1.1.0",o=d(s(t,r));return o?e?a(n,{type:e.type,coordinates:e.coordinates}):"":null==e?"":"string"==typeof e?u(e):e},getPropertyDesciptor:s,findGeometryProperty:function(e){return o((l(e)||[]).filter((function(e){return 0===e.type.indexOf("gml:")})))},getFeatureTypeProperties:l,getTypeName:function(e){return e.targetPrefix?e.targetPrefix+":"+e.featureTypes[0].typeName:e.featureTypes[0].typeName},wfsToGmlVersion:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1.1.0";return c[e]},processOGCGeometry:a,isValid:function(e,t){return l(t).map((function(t){return g(e,t)}))},isValidProperty:g,isValidValueForPropertyName:function(e,t,r){return p(e,s(t,r))},isValidValue:p}},"./js/plugins/GeonodeMetadata.jsx":function(e,t,r){"use strict";r.r(t),r.d(t,"getMetadataBySlugName",(function(){return S})),r.d(t,"gnmetadataresource",(function(){return w})),r.d(t,"gnGetMetadata",(function(){return E}));var n=r("./MapStore2/node_modules/react/index.js"),o=r.n(n),i=r("./MapStore2/node_modules/axios/index.js"),u=r.n(i),a=r("./MapStore2/node_modules/prop-types/index.js"),c=r.n(a),l=r("./MapStore2/node_modules/rxjs/Rx.js"),s=r("./MapStore2/web/client/utils/PluginsUtils.js"),f=r("./MapStore2/node_modules/react-bootstrap/es/index.js"),d=r("./MapStore2/web/client/actions/controls.js"),p=r("./MapStore2/node_modules/reselect/es/index.js"),g=r("./MapStore2/web/client/selectors/security.js"),m=r("./MapStore2/web/client/selectors/map.js"),b=r("./MapStore2/node_modules/react-redux/es/index.js"),y=r("./MapStore2/web/client/components/misc/ResizableModal.jsx"),O=r("./MapStore2/web/client/components/misc/Loader.jsx");function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){j(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function j(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var S=function(){var e=window.location.href;e.includes("/maps/")&&(e=e.replace("/view","").replace("/edit",""));var t="".concat(e.replace("#",""),"/metadata_detail/article");return u.a.get(t).then((function(e){return e.data}))};function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_GEONODE_METADATA":return h(h({},e),{},{loading:!0});case"SET_GEONODE_METADATA":return{error:null,data:t.data,loading:!1};case"GEONODE_METADATA_ERROR":return{data:null,error:t.error,loading:!1};default:return e}}var E=function(e,t){return e.ofType("FETCH_GEONODE_METADATA").switchMap((function(e){return l.Observable.defer((function(){return S()})).switchMap((function(e){return l.Observable.of(function(e){return{type:"SET_GEONODE_METADATA",data:e}}(e))})).catch((function(e){return l.Observable.of(function(e){return{type:"GEONODE_METADATA_ERROR",error:e}}(e.data||e.message))}))}))};function A(e){var t=e.resourceId,r=e.enabled,i=e.loading,u=e.error,a=e.data,c=e.onClose,l=e.onInit,s=Object(n.useRef)();return s.current={resourceId:t,data:a},Object(n.useEffect)((function(){r&&!a&&l(s.current.resourceId)}),[r]),o.a.createElement(y.a,{modalClassName:"gn-metadata-modal",title:"Map Metadata",show:r,size:"lg",fitContent:!0,enableFooter:!1,clickOutEnabled:!1,onClose:function(){return c()}},o.a.createElement("div",{style:{top:0,left:0,minHeight:550,maxHeight:550,width:"100%",height:"100%",backgroundColor:"rgba(255, 255, 255, 0.8)",zIndex:2,display:"flex",alignItems:"center",justifyContent:"center"}},u&&o.a.createElement(f.Alert,{bsStyle:"danger",style:{margin:0}},o.a.createElement("div",null,"Metadata cannot be fetched")),a&&o.a.createElement("div",{style:{overflowY:"scroll",height:550,width:"100%",paddingLeft:20,paddingRight:20},dangerouslySetInnerHTML:{__html:a}}),i&&o.a.createElement(O.a,{size:80})))}A.propTypes={resourceId:c.a.oneOfType([c.a.number,c.a.string]),enabled:c.a.bool,loading:c.a.bool,error:c.a.obj,data:c.a.string,onClose:c.a.func,onInit:c.a.func},A.defaultProps={resourceId:null,enabled:!1,loading:!1,error:null,data:"",onClose:function(){},onInit:function(){}};var P=Object(b.connect)(Object(p.a)([function(e){var t,r;return null==e||null===(t=e.controls)||void 0===t||null===(r=t.metadata)||void 0===r?void 0:r.enabled},m.i,function(e){var t;return null==e||null===(t=e.gnmetadataresource)||void 0===t?void 0:t.data},function(e){var t;return null==e||null===(t=e.gnmetadataresource)||void 0===t?void 0:t.loading},function(e){var t;return null==e||null===(t=e.gnmetadataresource)||void 0===t?void 0:t.error}],(function(e,t,r,n,o){return{enabled:e,resourceId:null==t?void 0:t.id,data:r,loading:n,error:o}})),{onClose:d.i.bind(null,"metadata",null),onInit:function(e){return{type:"FETCH_GEONODE_METADATA",id:e}}})(A);t.default=Object(s.d)("GeonodeMetadata",{component:P,containers:{BurgerMenu:{name:"geonode-metadata",position:30,text:"Map Metadata",icon:o.a.createElement(f.Glyphicon,{glyph:"list-alt"}),action:d.i.bind(null,"metadata",null),selector:Object(p.a)(g.b,m.i,(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(t.canEdit,t.id);return{style:window.location.href.includes("/view/")||window.location.href.includes("/maps/")&&r?{}:{display:"none"}}}))}},epics:{gnGetMetadata:E},reducers:{gnmetadataresource:w}})},"./js/plugins/IgracDownload.jsx":function(e,t,r){"use strict";r.r(t),r.d(t,"finishDownloadingIGRACData",(function(){return A})),r.d(t,"errorDownloadingIGRACData",(function(){return P})),r.d(t,"downloadIGRACData",(function(){return x})),r.d(t,"closeDownloadModal",(function(){return T})),r.d(t,"startDownloadingIGRACData",(function(){return M})),r.d(t,"igracDownloadReducers",(function(){return I}));var n=r("./MapStore2/node_modules/react/index.js"),o=r.n(n),i=r("./MapStore2/node_modules/prop-types/index.js"),u=r.n(i),a=r("./MapStore2/node_modules/object-assign/index.js"),c=r.n(a),l=r("./MapStore2/node_modules/rxjs/Rx.js"),s=r.n(l),f=r("./MapStore2/web/client/utils/PluginsUtils.js"),d=r("./MapStore2/web/client/selectors/security.js"),p=r("./MapStore2/web/client/selectors/map.js"),g=r("./MapStore2/node_modules/react-redux/es/index.js"),m=r("./MapStore2/node_modules/reselect/es/index.js"),b=r("./MapStore2/node_modules/react-bootstrap/es/index.js"),y=r("./MapStore2/web/client/components/misc/ResizableModal.jsx"),O=(r("./MapStore2/web/client/components/misc/Loader.jsx"),r("./MapStore2/web/client/actions/featuregrid.js")),v=r("./MapStore2/web/client/selectors/featuregrid.js"),h=r("./MapStore2/web/client/reducers/featuregrid.js"),j=r("./MapStore2/web/client/libs/ajax.js"),S=r.n(j),w=function(e){return'<div><h1>Download has been started</h1> <hr> <p> Please check this page to see the progress of the download : <br/><a target="_blank" href="https://staging.igrac.kartoza.com/groundwater/download?task_id='+e+'">https://staging.igrac.kartoza.com/groundwater/download?task_id='+e+"</a></p></div>"},E="<div><h1>Download Error</h1> <hr> <p> Please sign in first before downloading the data</div>",A=function(e){return{type:O.t,taskId:e}},P=function(){return{type:"IGRAC_DOWNLOAD_ERROR"}},x=function(){return{type:O.q}},T=function(){return{type:"CLOSE_DOWNLOAD_MODAL"}},M=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.getState;return e.ofType(O.q).switchMap((function(){if(Object(d.b)(r())){var e=Object(v.e)(r())||{};return s.a.Observable.fromPromise(S.a.post("/groundwater/well/download/",e).then((function(e){return e.data.task_id}))).switchMap((function(e){return s.a.Observable.of(A(e))}))}return s.a.Observable.of(A(),P())}))};function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.q:return c()({},e.featuregrid,{isIGRACDownloading:!0});case O.t:return c()({},e,{isIGRACDownloading:!1,data:w(t.taskId),enabled:!0});case"CLOSE_DOWNLOAD_MODAL":return c()({},e,{isIGRACDownloading:!1,data:"",enabled:!1});case"IGRAC_DOWNLOAD_ERROR":return c()({},e,{data:E,enabled:!0});default:return e}}function F(e){var t=e.resourceId,r=e.enabled,i=(e.downloading,e.error),u=e.data,a=e.onClose;return Object(n.useRef)().current={resourceId:t,data:u},o.a.createElement(y.a,{modalClassName:"gn-igrac-download-modal",title:"IGRAC Download",show:r,size:"s",fitContent:!0,enableFooter:!1,clickOutEnabled:!1,onClose:function(){return a()}},o.a.createElement("div",{style:{top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(255, 255, 255, 0.8)",zIndex:2,display:"flex",alignItems:"center",justifyContent:"center"}},i&&o.a.createElement(b.Alert,{bsStyle:"danger",style:{margin:0}},o.a.createElement("div",null,"Data cannot be fetched")),u&&o.a.createElement("div",{style:{width:"100%",height:200,paddingLeft:20,paddingRight:20},dangerouslySetInnerHTML:{__html:u}})))}F.propTypes={resourceId:u.a.oneOfType([u.a.number,u.a.string]),enabled:u.a.bool,downloading:u.a.bool,error:u.a.obj,data:u.a.string,onClose:u.a.func,onInit:u.a.func},F.defaultProps={resourceId:null,enabled:!1,downloading:!1,error:null,data:"",onClose:function(){},onInit:function(){}};var R=Object(g.connect)(Object(m.a)([function(e){var t;return null==e||null===(t=e.igracDownloadReducers)||void 0===t?void 0:t.enabled},p.i,function(e){var t;return null==e||null===(t=e.igracDownloadReducers)||void 0===t?void 0:t.data},function(e){var t;return null==e||null===(t=e.igracDownloadReducers)||void 0===t?void 0:t.isIGRACDownloading},function(e){var t;return null==e||null===(t=e.igracDownloadReducers)||void 0===t?void 0:t.error}],(function(e,t,r,n,o){return{enabled:e,resourceId:null==t?void 0:t.id,data:r,downloading:n,error:o}})),{onClose:T.bind(null)})(F);t.default=Object(f.d)("IgracDownload",{component:R,containers:{},epics:{startDownloadingIGRACData:M},reducers:{igracDownloadReducers:I,featuregrid:h.a}})}}]);