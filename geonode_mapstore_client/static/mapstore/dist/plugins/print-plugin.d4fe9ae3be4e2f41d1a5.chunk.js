(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[1633,4907],{81506:e=>{e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},59713:e=>{e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},37316:e=>{e.exports=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}},99489:e=>{function t(n,r){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},t(n,r)}e.exports=t},21914:(e,t,n)=>{"use strict";n.d(t,{XL:()=>o,km:()=>i,Ih:()=>a,Xw:()=>l,Pn:()=>c,DZ:()=>u,e8:()=>s,E0:()=>p,F9:()=>f,X_:()=>y,pb:()=>d,qb:()=>g,Re:()=>m,ih:()=>v,xy:()=>h,jL:()=>b,oz:()=>O,ph:()=>P,lF:()=>S,gG:()=>E,cb:()=>w,GI:()=>C,B1:()=>x,fv:()=>A,gc:()=>T,zX:()=>j,ZF:()=>N,Fm:()=>_,sV:()=>F,Mn:()=>I,LU:()=>L,XP:()=>k,WU:()=>R,JB:()=>M,g:()=>D,ws:()=>G,HP:()=>U,aN:()=>z,Pg:()=>B,u0:()=>Y,TM:()=>W,PM:()=>$,lK:()=>V,sv:()=>q,MO:()=>H,oO:()=>K,Mc:()=>X,Zw:()=>J,RA:()=>Q,am:()=>ee,ZM:()=>te,wm:()=>ne});var r=n(47310),o="LOAD_FEATURE_INFO",i="ERROR_FEATURE_INFO",a="EXCEPTIONS_FEATURE_INFO",l="CHANGE_MAPINFO_STATE",c="NEW_MAPINFO_REQUEST",u="PURGE_MAPINFO_RESULTS",s="CHANGE_MAPINFO_FORMAT",p="SHOW_MAPINFO_MARKER",f="HIDE_MAPINFO_MARKER",y="SHOW_REVERSE_GEOCODE",d="HIDE_REVERSE_GEOCODE",g="GET_VECTOR_INFO",m="NO_QUERYABLE_LAYERS",v="CLEAR_WARNING",h="FEATURE_INFO_CLICK",b="IDENTIFY:UPDATE_FEATURE_INFO_CLICK_POINT",O="IDENTIFY:TOGGLE_HIGHLIGHT_FEATURE",P="TOGGLE_MAPINFO_STATE",S="UPDATE_CENTER_TO_MARKER",E="IDENTIFY:CHANGE_PAGE",w="IDENTIFY:CLOSE_IDENTIFY",C="IDENTIFY:CHANGE_FORMAT",x="IDENTIFY:TOGGLE_SHOW_COORD_EDITOR",A="IDENTIFY:EDIT_LAYER_FEATURES",T="IDENTIFY:CURRENT_EDIT_FEATURE_QUERY",j="IDENTIFY:SET_MAP_TRIGGER",N="IDENTIFY:TOGGLE_EMPTY_MESSAGE_GFI";function _(e,t,n,r,i){return{type:o,data:t,reqId:e,requestParams:n,layerMetadata:r,layer:i}}function F(e,t,n,r){return{type:i,error:t,reqId:e,requestParams:n,layerMetadata:r}}function I(e,t,n,r){return{type:a,reqId:e,exceptions:t,requestParams:n,layerMetadata:r}}function L(){return{type:m}}function k(){return{type:v}}function R(e,t){return{type:c,reqId:e,request:t}}function M(e,t,n,r){return{type:g,layer:e,request:t,metadata:n,queryableLayers:r}}function D(){return{type:u}}function G(e){return{type:s,infoFormat:e}}function U(){return{type:p}}function z(){return{type:f}}function Z(e){return{type:y,reverseGeocodeData:e.data}}function B(e){return function(t){r.Z.reverseGeocode(e).then((function(e){t(Z(e))})).catch((function(e){t(Z(e))}))}}function Y(){return{type:d}}function W(){return{type:P}}function $(e){return{type:S,status:e}}function V(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return{type:h,point:e,layer:t,filterNameList:n,overrideParams:r,itemId:o}}function q(e){return{type:b,point:e}}function H(e){return{type:O,enabled:e}}function K(e){return{type:E,index:e}}var X=function(){return{type:w}},J=function(e){return{type:C,format:e}},Q=function(e){return{type:x,showCoordinateEditor:e}},ee=function(e){return{type:A,layer:e}},te=function(e){return{type:T,query:e}},ne=function(e){return{type:j,trigger:e}}},47310:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(75875),o=n.n(r),i=n(8575),a=n(27418),l=n.n(a),c={format:"json",bounded:0,polygon_geojson:1,priority:5};const u={geocode:function(e,t){var n=l()({q:e},c,t||{}),r=i.format({protocol:"https",host:"nominatim.openstreetmap.org",query:n});return o().get(r)},reverseGeocode:function(e,t){var n=l()({lat:e.lat,lon:e.lng},t||{},c),r=i.format({protocol:"https",host:"nominatim.openstreetmap.org/reverse",query:n});return o().get(r)}}},15402:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(45697),o=n.n(r),i=n(67294),a=n.n(i);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=n(37101).FormattedHTMLMessage,g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(l,e);var t,n,r,o,i=(r=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=f(r);if(o){var n=f(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return p(this,e)});function l(){return c(this,l),i.apply(this,arguments)}return t=l,(n=[{key:"render",value:function(){return this.context.intl?a().createElement(d,{id:this.props.msgId,values:this.props.msgParams}):a().createElement("span",null,this.props.msgId||"")}}])&&u(t.prototype,n),l}(a().Component);y(g,"propTypes",{msgId:o().string.isRequired,msgParams:o().object}),y(g,"contextTypes",{intl:o().object});const m=g},73378:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(45697),o=n.n(r),i=n(67294),a=n.n(i),l=(n(60654),n(34109)),c=n.n(l);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(l,e);var t,n,r,o,i=(r=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=m(r);if(o){var n=m(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return d(this,e)});function l(){var e;p(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(g(e=i.call.apply(i,[this].concat(n))),"parse",(function(t){var n=t;if(NaN!==n&&"NaN"!==n){var r=e.context&&e.context.intl&&e.context.intl.locale||"en-US",o=new Intl.NumberFormat(r),i=o.formatToParts(12345.6),a=Array.from({length:10}).map((function(e,t){return o.format(t)})),l=new Map(a.map((function(e,t){return[e,t]}))),c=new RegExp("[".concat(i.find((function(e){return"group"===e.type})).value,"]"),"g"),u=new RegExp("[".concat(i.find((function(e){return"decimal"===e.type})).value,"]")),s=new RegExp("[".concat(a.join(""),"]"),"g");return(n=n.trim().replace(c,"").replace(u,".").replace(s,(function(e){return l.get(e)})))?+n:NaN}return""})),v(g(e),"format",(function(t){if(!isNaN(t)&&"NaN"!==t){var n=e.context&&e.context.intl&&e.context.intl.locale||"en-US";return new Intl.NumberFormat(n,{minimumFractionDigits:0,maximumFractionDigits:20}).format(t)}return""})),e}return t=l,(n=[{key:"render",value:function(){var e=this,t=this.props,n=(t.onChange,t.onBlur),r=t.disabled,o=(t.type,t.step),i=t.value,l=t.defaultValue,u=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(t,["onChange","onBlur","disabled","type","step","value","defaultValue"]);return a().createElement(c(),s({id:"intl-numeric",step:o},u,void 0!==i?{value:this.format(i)}:{defaultValue:this.format(l)},{format:this.format,onKeyUp:function(e){e.target.setSelectionRange(-1,-1)},onChange:function(t){null===t?e.props.onChange(""):e.props.onChange(t.toString())},onBlur:function(t){n&&(t.target.value=e.parse(t.target.value),n(t))},disabled:r||!1,parse:this.parse,onKeyPress:function(e){null!==e.key.match(/^[a-zA-Z]*$/)&&e.preventDefault()},componentClass:"input",className:"form-control"}))}}])&&f(t.prototype,n),l}(a().Component);v(h,"propTypes",{type:o().oneOfType([o().string,o().number]),value:o().oneOfType([o().string,o().number]),defaultValue:o().oneOfType([o().string,o().number]),onChange:o().func,step:o().number,locale:o().string,disabled:o().bool,onBlur:o().func}),v(h,"contextTypes",{intl:o().object});const b=h},38560:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(30294),o=n(67294),i=n.n(o),a=n(94184),l=n.n(a);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const u=(s=r.Button,i().forwardRef((function(e,t){var n=e.disabled,r=e.className,o=e.onClick,a=void 0===o?function(){}:o,u=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["disabled","className","onClick"]);return i().createElement(s,c({ref:t,className:n?l()("disabled",r):r,onClick:function(){n||a.apply(void 0,arguments)}},u),u.children)})));var s},32425:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(45697),o=n.n(r),i=n(67294),a=n.n(i);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=function(e){return e>100?"full":e>40?"medium":"small"},p=function(e){var t=e.size,n=e.style,r=void 0===n?{}:n,o=e.className,i=e.hidden;return a().createElement("div",{className:o,style:c({width:t,height:t,overflow:"hidden"},r)},!i&&a().createElement("div",{className:"mapstore-".concat(s(t),"-size-loader")}))};p.propTypes={size:o().number,className:o().string,style:o().object};const f=p},59224:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>U}),n(97142);var r=n(61545),o=n(27418),i=n.n(o),a=n(45697),l=n.n(a),c=n(67294),u=n.n(c),s=n(30294),p=n(33664),f=n(22222),y=n(82904),d=n(86069),g=n(5346),m=n(7472),v=n(45959),h=n(75110),b=n(8316),O=n(38842),P=n(827),S=n(93152),E=n(90183),w=n(86638),C=n(52259),x=n(24262);function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function F(){return(F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?M(e):t}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const U={PrintPlugin:i()({loadPlugin:function(e){Promise.resolve().then(function(){var t=n(10947).default,o=t.Name,a=t.Description,c=t.Resolution,v=t.DefaultBackgroundOption,A=t.Sheet,T=t.LegendOption,_=t.MultiPageOption,U=t.LandscapeOption,z=t.ForceLabelsOption,Z=t.AntiAliasingOption,B=t.IconSizeOption,Y=t.LegendDpiOption,W=t.Font,$=t.MapPreview,V=t.PrintSubmit,q=t.PrintPreview,H=n(34049),K=H.preloadData,X=H.getMapfishPrintSpecification,J=H.getLayoutName,Q=H.getPrintScales,ee=H.getNearestZoom,te=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(y,e);var t,n,l,p,f=(l=y,p=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=D(l);if(p){var n=D(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return R(this,e)});function y(){var e;I(this,y);for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return G(M(e=f.call.apply(f,[this].concat(n))),"getMapSize",(function(t){var n=t||e.getLayout();return{width:e.props.mapWidth,height:n&&n.map.height/n.map.width*e.props.mapWidth||270}})),G(M(e),"getLayout",(function(t){var n=t||e.props,o=n.getLayoutName,i=n.printSpec,a=n.capabilities,l=o(i);return(0,r.head)(a.layouts.filter((function(e){return e.name===l})))})),G(M(e),"renderLayoutsAlternatives",(function(){return e.props.alternatives.map((function(t){return u().createElement(t.component,{key:"printoption_"+t.name,label:(0,w.S$)(e.context.messages,"print.alternatives."+t.name),enableRegex:t.regex})}))})),G(M(e),"renderPreviewPanel",(function(){return u().createElement(q,F({},e.props.previewOptions,{role:"body",prevPage:e.prevPage,nextPage:e.nextPage}))})),G(M(e),"renderError",(function(){return e.props.error?u().createElement(s.Row,null,u().createElement(s.Col,{xs:12},u().createElement("div",{className:"print-error"},u().createElement("span",null,e.props.error)))):null})),G(M(e),"renderWarning",(function(e){return e?null:u().createElement(s.Row,null,u().createElement(s.Col,{xs:12},u().createElement("div",{className:"print-warning"},u().createElement("span",null,u().createElement(g.Z,{msgId:"print.layoutWarning"})))))})),G(M(e),"renderPrintPanel",(function(){var t=e.getLayout(),n=e.props.getLayoutName(e.props.printSpec),r=e.getMapSize(t);return u().createElement(s.Grid,{fluid:!0,role:"body"},e.renderError(),e.renderWarning(t),u().createElement(s.Row,null,u().createElement(s.Col,{xs:12,md:6},u().createElement(o,{label:(0,w.S$)(e.context.messages,"print.title"),placeholder:(0,w.S$)(e.context.messages,"print.titleplaceholder")}),u().createElement(a,{label:(0,w.S$)(e.context.messages,"print.description"),placeholder:(0,w.S$)(e.context.messages,"print.descriptionplaceholder")}),u().createElement(s.Accordion,{defaultActiveKey:"1"},u().createElement(s.Panel,{className:"print-layout",header:(0,w.S$)(e.context.messages,"print.layout"),eventKey:"1",collapsible:!0},u().createElement(A,{key:"sheetsize",layouts:e.props.capabilities.layouts,label:(0,w.S$)(e.context.messages,"print.sheetsize")}),e.renderLayoutsAlternatives()),u().createElement(s.Panel,{className:"print-legend-options",header:(0,w.S$)(e.context.messages,"print.legendoptions"),eventKey:"2",collapsible:!0},u().createElement(W,{label:(0,w.S$)(e.context.messages,"print.legend.font")}),u().createElement(z,{label:(0,w.S$)(e.context.messages,"print.legend.forceLabels")}),u().createElement(Z,{label:(0,w.S$)(e.context.messages,"print.legend.antiAliasing")}),u().createElement(B,{label:(0,w.S$)(e.context.messages,"print.legend.iconsSize")}),u().createElement(Y,{label:(0,w.S$)(e.context.messages,"print.legend.dpi")})))),u().createElement(s.Col,{xs:12,md:6,style:{textAlign:"center"}},u().createElement(c,{label:(0,w.S$)(e.context.messages,"print.resolution")}),u().createElement($,F({width:r.width,height:r.height,mapType:e.props.mapType,onMapRefresh:function(){return e.configurePrintMap()},layout:n,layoutSize:t&&t.map||{width:10,height:10},resolutions:(0,C.getResolutions)(),useFixedScales:e.props.useFixedScales,env:e.props.localizedLayerStylesEnv},e.props.mapPreviewOptions)),e.isBackgroundIgnored()?u().createElement(v,{label:(0,w.S$)(e.context.messages,"print.defaultBackground")}):null,u().createElement(V,F({},e.props.submitConfig,{disabled:!t,onPrint:e.print})),e.renderDownload())))})),G(M(e),"renderDownload",(function(){return e.props.pdfUrl&&!e.props.usePreview?u().createElement("iframe",{src:e.props.pdfUrl,style:{visibility:"hidden",display:"none"}}):null})),G(M(e),"renderBody",(function(){return e.props.pdfUrl&&e.props.usePreview?e.renderPreviewPanel():e.renderPrintPanel()})),G(M(e),"isAllowed",(function(t){return-1===e.props.ignoreLayers.indexOf(t.type)})),G(M(e),"isBackgroundIgnored",(function(t){return(t||e.props.layers).filter((function(t){return t.visibility&&!e.isAllowed(t)})).length>0})),G(M(e),"filterLayers",(function(t,n){var r=t||e.props,o=r.printSpec,a=r.layers,l=r.defaultBackground,c=a.filter((function(t){return t.visibility&&(0,x.isInsideResolutionsLimits)(t,n)&&e.isAllowed(t)}));if(e.isBackgroundIgnored(a)&&l&&o.defaultBackground){var u=a.filter((function(e){return e.type===l}))[0];return[i()({},u,{visibility:!0})].concat(N(c))}return c})),G(M(e),"configurePrintMap",(function(t){var n=t||e.props,r=n.map,o=n.capabilities,i=n.minZoom,a=n.configurePrintMap,l=n.useFixedScales,c=n.getZoomForExtent,u=n.maxZoom,s=n.currentLocale,p=n.scales;if(r&&r.bbox&&o){var f=(0,C.dpi2dpu)(C.DEFAULT_SCREEN_DPI,r.projection),y=(0,E.reprojectBbox)([r.bbox.bounds.minx,r.bbox.bounds.miny,r.bbox.bounds.maxx,r.bbox.bounds.maxy],r.bbox.crs,r.projection),d=e.getMapSize();if(l){var g=c(y,d,i,u),m=Q(o),v=ee(r.zoom,m),h=m[v],b=h/f;a(r.center,g,v,h,e.filterLayers(t,b),r.projection,s)}else{var O=p[r.zoom],P=O/f;a(r.center,r.zoom,r.zoom,O,e.filterLayers(t,P),r.projection,s)}}})),G(M(e),"print",(function(){var t=e.props.printSpec;e.props.isLocalizedLayerStylesEnabled&&(t=j(j({},t),{},{env:e.props.localizedLayerStylesEnv,language:e.props.currentLocaleLanguage})),e.props.setPage(0),e.props.onBeforePrint(),e.props.preloadData(t).then((function(t){var n=e.props.getPrintSpecification(t);e.props.onPrint(e.props.capabilities.createURL,j(j({},n),e.props.overrideOptions))})).catch((function(t){e.props.printError("Error pre-loading data:"+t.message)}))})),e}return t=y,(n=[{key:"UNSAFE_componentWillMount",value:function(){this.configurePrintMap()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.open&&!this.props.open,n=this.props.open&&this.props.syncMapPreview&&(0,C.mapUpdated)(this.props.map,e.map),r=e.printSpec.defaultBackground!==this.props.printSpec.defaultBackground;(t||n||r)&&this.configurePrintMap(e)}},{key:"render",value:function(){return(this.props.capabilities||this.props.error)&&this.props.open?this.props.withContainer?this.props.withPanelAsContainer?u().createElement(s.Panel,{className:"mapstore-print-panel",header:u().createElement("span",null,u().createElement("span",{className:"print-panel-title"},u().createElement(g.Z,{msgId:"print.paneltitle"})),u().createElement("span",{className:"print-panel-close panel-close",onClick:this.props.toggleControl})),style:this.props.style},this.renderBody()):u().createElement(m.Z,{id:"mapstore-print-panel",style:j({left:"17%",top:"50px",zIndex:1990},this.props.style)},u().createElement("span",{role:"header"},u().createElement("span",{className:"print-panel-title"},u().createElement(g.Z,{msgId:"print.paneltitle"})),u().createElement("button",{onClick:this.props.toggleControl,className:"print-panel-close close"},this.props.closeGlyph?u().createElement(s.Glyphicon,{glyph:this.props.closeGlyph}):u().createElement("span",null,"×"))),this.renderBody()):this.renderBody():null}}])&&L(t.prototype,n),y}(u().Component);G(te,"propTypes",{map:l().object,layers:l().array,capabilities:l().object,printSpec:l().object,printSpecTemplate:l().object,withContainer:l().bool,withPanelAsContainer:l().bool,open:l().bool,pdfUrl:l().string,title:l().string,style:l().object,mapWidth:l().number,mapType:l().string,alternatives:l().array,toggleControl:l().func,onBeforePrint:l().func,setPage:l().func,onPrint:l().func,printError:l().func,configurePrintMap:l().func,preloadData:l().func,getPrintSpecification:l().func,getLayoutName:l().func,error:l().string,getZoomForExtent:l().func,minZoom:l().number,maxZoom:l().number,usePreview:l().bool,mapPreviewOptions:l().object,syncMapPreview:l().bool,useFixedScales:l().bool,scales:l().array,ignoreLayers:l().array,defaultBackground:l().string,closeGlyph:l().string,submitConfig:l().object,previewOptions:l().object,currentLocale:l().string,currentLocaleLanguage:l().string,overrideOptions:l().object,isLocalizedLayerStylesEnabled:l().bool,localizedLayerStylesEnv:l().object}),G(te,"contextTypes",{messages:l().object}),G(te,"defaultProps",{withContainer:!0,withPanelAsContainer:!1,title:"print.paneltitle",toggleControl:function(){},onBeforePrint:function(){},setPage:function(){},onPrint:function(){},configurePrintMap:function(){},printSpecTemplate:{},preloadData:K,getPrintSpecification:X,getLayoutName:J,getZoomForExtent:C.defaultGetZoomForExtent,pdfUrl:null,mapWidth:370,mapType:"leaflet",minZoom:1,maxZoom:23,alternatives:[{name:"legend",component:T,regex:/legend/},{name:"2pages",component:_,regex:/2_pages/},{name:"landscape",component:U,regex:/landscape/}],usePreview:!0,mapPreviewOptions:{enableScalebox:!1,enableRefresh:!1},syncMapPreview:!0,useFixedScales:!1,scales:[],ignoreLayers:["google","bing"],defaultBackground:"osm",closeGlyph:"1-close",submitConfig:{buttonConfig:{bsSize:"small",bsStyle:"primary"},glyph:""},previewOptions:{buttonStyle:"primary"},style:{},currentLocale:"en-US",overrideOptions:{}});var ne=(0,f.P1)([function(e){return e.controls.print&&e.controls.print.enabled||e.controls.toolbar&&"print"===e.controls.toolbar.active},function(e){return e.print&&e.print.capabilities},function(e){return e.print&&e.print.spec&&i()({},e.print.spec,e.print.map||{})},function(e){return e.print&&e.print.pdfUrl},function(e){return e.print&&e.print.error},P.Od,h.l2,P.up,function(e){return e.browser&&(!e.browser.ie||e.browser.ie11)},b.Pz,b.KV,S.$v,O.wk,O.fY],(function(e,t,n,r,o,i,a,l,c,u,s,p,f,y){return{open:e,capabilities:t,printSpec:n,pdfUrl:r,error:o,map:i,layers:a.filter((function(e){return!e.loadingError})),scales:l,usePreview:c,currentLocale:u,currentLocaleLanguage:s,mapType:p,isLocalizedLayerStylesEnabled:f,localizedLayerStylesEnv:y}})),re=(0,p.connect)(ne,{toggleControl:y.Xi.bind(null,"print",null),onPrint:d.gV,printError:d.OS,onBeforePrint:d.MW,setPage:y.Xg.bind(null,"print","currentPage"),configurePrintMap:d.h9})(te);e(re)}.bind(null,n)).catch(n.oe)},enabler:function(e){return e.print&&e.print.enabled||e.toolbar&&"print"===e.toolbar.active}},{disablePluginIf:"{state('mapType') === 'cesium' || !state('printEnabled')}",Toolbar:{name:"print",position:7,help:u().createElement(g.Z,{msgId:"helptexts.print"}),tooltip:"printbutton",icon:u().createElement(s.Glyphicon,{glyph:"print"}),exclusive:!0,panel:!0,priority:1},BurgerMenu:{name:"print",position:2,text:u().createElement(g.Z,{msgId:"printbutton"}),icon:u().createElement(s.Glyphicon,{glyph:"print"}),action:y.Xi.bind(null,"print",null),priority:2,doNotHide:!0}}),reducers:{print:v.Z}}},38842:(e,t,n)=>{"use strict";n.d(t,{wk:()=>a,c3:()=>l,fY:()=>c});var r=n(61545),o=n(22222),i=n(8316),a=function(e){return(0,r.has)(e,"localConfig.localizedLayerStyles")},l=function(e){return(0,r.get)(e,"localConfig.localizedLayerStyles.name","mapstore_language")},c=(0,o.P1)(a,l,i.KV,(function(e,t,n){var r=[];return e&&r.push({name:t,value:n}),r}))},58767:(e,t,n)=>{"use strict";n.d(t,{_P:()=>k,F7:()=>R});var r=n(23570),o=n.n(r),i=n(86638),a=n(33506),l=n(66287),c=n(61868),u=n(61545),s=n(55877),p=n.n(s),f=n(85447),y=n(27418),d=n.n(y);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O={},P={color:"#ffcc33",opacity:1,weight:3,fillColor:"#ffffff",fillOpacity:.2},S={iconGlyph:"comment",iconShape:"square",iconColor:"blue"},E={fontStyle:"normal",fontSize:"14",fontSizeUom:"px",fontFamily:"Arial",fontWeight:"normal",font:"14px Arial",textAlign:"center",color:"#000000",opacity:1,fillColor:"#000000",fillOpacity:1},w={color:"#ffcc33",opacity:1,weight:3,editing:{fill:1}},C={color:"#ffcc33",opacity:1,weight:3,fillColor:"#ffffff",fillOpacity:.2,editing:{fill:1}},x={Text:E,Point:S,Circle:P,MultiPoint:S,LineString:w,MultiLineString:w,Polygon:C,MultiPolygon:C},A="ms2-annotations",T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return-1!==e.indexOf("rgba")?"rgb".concat(e.slice(e.indexOf("("),e.lastIndexOf(",")),")"):e},j=function(e){return("start"===e?"lm":"end"===e&&"rm")||"cm"},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type,n=void 0===t?"Point":t,r=e.features,o=void 0===r?[]:r;return"FeatureCollection"===n?o.reduce((function(e,t){return e[t.geometry.type]=x[t.geometry.type],e}),{type:"FeatureCollection"}):h({},x[n])},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return h({title:"annotations.defaulttitle"!==(0,i.S$)(t,"annotations.defaulttitle")?(0,i.S$)(t,"annotations.defaulttitle"):"Default title",id:o()()},e)},F=function(e){return(0,u.isString)(e)&&e||(0,u.isArray)(e)&&e.join(" ")},I=function(e){return e.color&&e.opacity&&e.weight},L=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=t&&t[e]?t[e]:t,o=r,i=o.dashArray?F(o.dashArray):"solid";switch(e){case"MultiPolygon":case"Polygon":case"Circle":return{strokeColor:T(o.color),strokeOpacity:o.opacity,strokeWidth:o.weight,fillColor:T(o.fillColor),fillOpacity:o.fillOpacity,strokeDashstyle:i};case"LineString":case"MultiLineString":return{strokeColor:T(o.color),strokeOpacity:o.opacity,strokeWidth:o.weight,strokeDashstyle:i};case"Text":var c=I(o)?{labelOutlineColor:T(o.color),labelOutlineOpacity:o.opacity,labelOutlineWidth:o.weight}:{};return h({fontStyle:o.fontStyle,fontSize:o.fontSize,fontFamily:o.fontFamily,fontWeight:o.fontWeight,labelAlign:j(o.textAlign),fontColor:T(o.fillColor),fontOpacity:o.fillOpacity,label:n,stroke:!0,strokeColor:T(o.color),strokeOpacity:o.opacity,strokeWidth:o.weight,strokeDashstyle:i},c);case"Point":case"MultiPoint":var s=o.symbolUrl&&(0,l.fetchStyle)((0,l.hashAndStringify)(o),"base64")||a.Z.extraMarkers.markerToDataUrl(o),p=-18,f=-46;return o.iconAnchor&&(0,u.isArray)(o.iconAnchor)&&o.size&&(p="pixels"===o.anchorXUnits?-1*o.iconAnchor[0]:-1*o.size*o.iconAnchor[0],f="pixels"===o.anchorYUnits?-1*o.iconAnchor[1]:-1*o.size*o.iconAnchor[1]),s?{graphicWidth:o.size||36,graphicHeight:o.size||46,externalGraphic:s,graphicXOffset:p,graphicYOffset:f,display:!1===o.filtering&&"none"}:{fillColor:"#0000AE",fillOpacity:.5,strokeColor:"#0000FF",pointRadius:10,strokeOpacity:1,strokeWidth:1,display:!1===o.filtering&&"none"};default:return{fillColor:"#FF0000",fillOpacity:0,strokeColor:"#FF0000",pointRadius:5,strokeOpacity:1,strokeDashstyle:i,strokeWidth:1}}},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.reduce((function(e,t){return"FeatureCollection"===t.type?e.concat(t.features.map((function(e){return(0,u.castArray)(e.style||t.style||{}).filter((function(e){return!!(0,u.isNil)(e.filtering)||e.filtering})).map((function(t){return O.fromAnnotationToGeoJson(h(h({},e),{},{style:t}))}))})).reduce((function(e,t){return e.concat(t)}),[])):t.geometry&&"GeometryCollection"===t.geometry.type?e.concat(O.flattenGeometryCollection(t)):e.concat({type:"Feature",geometry:t.geometry,properties:h(h({},t.properties),{},{ms_style:L(t.geometry.type,t.style)})})}),[])},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[[[]]],t=e[0].filter(O.validateCoordsArray);return t.length>3&&(0,u.head)(t)[0]===(0,u.last)(t)[0]&&(0,u.head)(t)[1]===(0,u.last)(t)[1]};O={ANNOTATION_TYPE:A,convertGeoJSONToInternalModel:function(e){var t=e.type,n=void 0===t?"Point":t,r=e.geometries,o=void 0===r?[]:r,i=e.features,a=void 0===i?[]:i,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];switch(n){case"Point":case"MultiPoint":return{type:1===l.length?"Text":n};case"Polygon":return{type:1===c.length?"Circle":n};case"GeometryCollection":var u=o.filter((function(e){return"Point"===e.type||"MultiPoint"===e.type})),s=o.filter((function(e){return"Polygon"===e.type})),p=0,f=0;return{type:"GeometryCollection",geometries:o.map((function(e){if("Point"===e.type||"MultiPoint"===e.type){if(u.length===l.length)return{type:"Text"};if(0===l.length)return{type:e.type};if(0===p)return p++,{type:"Text"}}if("Polygon"===e.type){if(s.length===c.length)return{type:"Circle"};if(0===c.length)return{type:e.type};if(0===f)return f++,{type:"Circle"}}return{type:e.type}}))};case"FeatureCollection":var y=a.map((function(e){return e.properties&&e.properties.isCircle?{type:"Circle"}:e.properties&&e.properties.isText?{type:"Text"}:{type:e.geometry.type}}));return{type:"FeatureCollection",features:y};default:return{type:n}}},getAvailableStyler:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type,n=void 0===t?"Point":t,r=e.geometries,o=void 0===r?[]:r,i=e.features,a=void 0===i?[]:i;switch(n){case"Point":case"MultiPoint":case"Symbol":return[O.getRelativeStyler(n)];case"LineString":case"MultiLineString":return[O.getRelativeStyler(n)];case"Polygon":case"MultiPolygon":case"Text":case"Circle":return[O.getRelativeStyler(n)];case"GeometryCollection":return o.reduce((function(e,t){return-1!==e.indexOf(O.getRelativeStyler(t.type))?e:e.concat(O.getAvailableStyler(t))}),[]);case"FeatureCollection":return a.reduce((function(e,t){return-1!==e.indexOf(O.getRelativeStyler(t.type))?e:e.concat(O.getAvailableStyler(t))}),[]);default:return[]}},getRelativeStyler:function(e){switch(e){case"Point":case"MultiPoint":return"marker";case"Symbol":return"symbol";case"Circle":return"circle";case"LineString":case"MultiLineString":return"lineString";case"Polygon":case"MultiPolygon":return"polygon";case"Text":return"text";default:return""}},createFont:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.fontSize,n=void 0===t?"14":t,r=e.fontSizeUom,o=void 0===r?"px":r,i=e.fontFamily,a=void 0===i?"Arial":i,l=e.fontStyle,c=void 0===l?"normal":l,u=e.fontWeight,s=void 0===u?"normal":u;return"".concat(c," ").concat(s," ").concat(n).concat(o," ").concat(a)},DEFAULT_ANNOTATIONS_STYLES:x,STYLE_CIRCLE:P,STYLE_POINT_MARKER:S,STYLE_POINT_SYMBOL:{iconAnchor:[.5,.5],anchorXUnits:"fraction",anchorYUnits:"fraction",color:"#000000",fillColor:"#000000",opacity:1,size:64,fillOpacity:1},STYLE_TEXT:E,STYLE_LINE:w,STYLE_POLYGON:C,getGeometryType:function(e){var t,n,r;return null!=e&&null!==(t=e.properties)&&void 0!==t&&t.isCircle?"Circle":null!=e&&null!==(n=e.properties)&&void 0!==n&&n.isText?"Text":null==e||null===(r=e.geometry)||void 0===r?void 0:r.type},getGeometryGlyphInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Point",t={Point:{glyph:"point",label:"Point"},MultiPoint:{glyph:"point",label:"Point"},LineString:{glyph:"polyline",label:"Line"},MultiLineString:{glyph:"polyline",label:"Line"},Polygon:{glyph:"polygon",label:"Polygon"},MultiPolygon:{glyph:"polygon",label:"Polygon"},Text:{glyph:"font",label:"Text"},Circle:{glyph:"1-circle",label:"Circle"}};return t[e]},normalizeAnnotation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="FeatureCollection"===e.type?h({},e):{type:"Feature",geometry:e},r=N(n),o=_(n.properties,t);return h({style:r,properties:o},n)},removeDuplicate:function(e){return(0,u.values)(e.reduce((function(e,t){return h(h({},e),{},b({},t.properties.id,t))}),{}))},circlesToMultiPolygon:function(e,t){var n=e.geometries,r=void 0===n?[]:n,i=t.circles,a=void 0===i?[]:i,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:P,c=a.reduce((function(e,t){return e.concat([r[t].coordinates])}),[]);return{type:"Feature",geometry:{type:"MultiPolygon",coordinates:c},properties:{id:o()(),ms_style:L("Circle",l)}}},fromCircleToPolygon:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:P;return{type:"Feature",geometry:t.polygonGeom||e,properties:{id:t.id||o()(),ms_style:L("Circle",n)}}},fromTextToPoint:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:E;return{type:"Feature",geometry:e,properties:{id:t.id||o()(),ms_style:L("Text",n,t.valueText)}}},fromLineStringToGeodesicLineString:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w;return{type:"Feature",geometry:e.geometryGeodesic,properties:{id:e.id||o()(),ms_style:L(e.geometryGeodesic.type,t)}}},textToPoint:function(e,t){var n=e.geometries,r=void 0===n?[]:n,i=t.textGeometriesIndexes,a=void 0===i?[]:i,l=t.textValues,c=void 0===l?[]:l,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:E;return a.map((function(e,t){return{type:"Feature",geometry:r[e],properties:{id:o()(),ms_style:L("Text",u,c[t])}}}))},flattenGeometryCollection:function(e){var t=e.geometry,n=e.properties,r=e.style,i=n.circles&&O.circlesToMultiPolygon(t,n,r.Circle)||[],a=n.textGeometriesIndexes&&O.textToPoint(t,n,r.Text)||[],l=(n.circles||[]).concat(n.textGeometriesIndexes||[]);return t.geometries.filter((function(e,t){return-1===l.indexOf(t)})).map((function(e){return{type:"Feature",geometry:e,properties:{id:o()(),ms_style:L(e.type,r[e.type])}}})).concat(i,a)},createGeometryFromGeomFunction:function(e){var t=l.geometryFunctions[e.style.geometry]&&l.geometryFunctions[e.style.geometry].type||e.geometry.type,n=e.geometry.coordinates||[];switch(e.style.geometry){case"startPoint":n=(0,u.head)(n);break;case"endPoint":n=(0,u.last)(n);break;case"centerPoint":n=(0,f.Z)(e).geometry.coordinates}return{type:t,coordinates:n}},fromAnnotationToGeoJson:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.geometry,n=e.properties,r=void 0===n?{}:n,i=e.style,a=void 0===i?{}:i,l=a.geometry?O.createGeometryFromGeomFunction({geometry:t,properties:r,style:a,type:"Feature"}):t;return r.isCircle&&"Polygon"===l.type?O.fromCircleToPolygon(l,r,a):r.isText?O.fromTextToPoint(l,r,a):"LineString"===l.type&&r.useGeodesicLines&&a.filtering?O.fromLineStringToGeodesicLineString(r,a):{type:"Feature",geometry:l,properties:{id:r.id||o()(),ms_style:L(l.type,a)}}},annotationsToPrint:k,formatCoordinates:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[[]];return e.map((function(e){return{lat:e&&e[1],lon:e&&e[0]}}))},getBaseCoord:function(e){switch(e){case"Polygon":case"LineString":case"MultiPoint":return[];default:return[[{lat:"",lon:""}]]}},getComponents:function(e){var t=e.type,n=e.coordinates;switch(t){case"Polygon":return O.isCompletePolygon(n)?O.formatCoordinates((0,u.slice)(n[0],0,n[0].length-1)):O.formatCoordinates(n[0]);case"LineString":case"MultiPoint":return O.formatCoordinates(n);default:return O.formatCoordinates([n])}},addIds:function(e){return e.map((function(e){return e.properties&&e.properties.id?e:(0,c.t8)("properties.id",p().v1(),e)}))},COMPONENTS_VALIDATION:{Point:{min:1,add:!1,remove:!1,validation:"validateCoordinates",notValid:"Add a valid coordinate to complete the Point"},MultiPoint:{min:2,add:!0,remove:!0,validation:"validateCoordinates",notValid:"Add 2 valid coordinates to complete the Polyline"},Polygon:{min:3,add:!0,remove:!0,validation:"validateCoordinates",notValid:"Add 3 valid coordinates to complete the Polygon"},LineString:{min:2,add:!0,remove:!0,validation:"validateCoordinates",notValid:"Add 2 valid coordinates to complete the Polyline"},Circle:{add:!1,remove:!1,validation:"validateCircle",notValid:"Add a valid coordinate and a radius (m) to complete the Circle"},Text:{add:!1,remove:!1,validation:"validateText",notValid:"Add a valid coordinate and a Text value"}},validateCoords:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.lat,n=e.lon;return!isNaN(parseFloat(t))&&!isNaN(parseFloat(n))},validateCoordsArray:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=g(e,2),n=t[0],r=t[1];return!isNaN(parseFloat(r))&&!isNaN(parseFloat(n))},validateCoord:function(e){return!isNaN(parseFloat(e))},coordToArray:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[e.lon,e.lat]},validateCoordinates:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.components,n=void 0===t?[]:t,r=e.remove,o=void 0!==r&&r,i=e.type;if(n&&n.length){var a=n.filter(O.validateCoords);return o?a.length>O.COMPONENTS_VALIDATION[i].min&&a.length===n.length:a.length>=O.COMPONENTS_VALIDATION[i].min&&a.length===n.length}return!1},validateCircle:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.components,n=void 0===t?[]:t,r=e.properties,o=void 0===r?{radius:0}:r;if(n&&n.length){var i=(0,u.head)(n);return!isNaN(parseFloat(o.radius))&&O.validateCoords(i)}return!1},validateText:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.components,n=void 0===t?[]:t,r=e.properties,o=void 0===r?{valueText:""}:r;if(n&&n.length){var i=(0,u.head)(n);return o&&!!o.valueText&&O.validateCoords(i)}return!1},validateFeature:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.components,n=void 0===t?[[]]:t,r=e.type,o=e.remove,i=void 0!==o&&o,a=e.properties,l=void 0===a?{}:a;return!(0,u.isNil)(r)&&("Text"===r?O.validateText({components:n,properties:l}):"Circle"===r?O.validateCircle({components:n,properties:l}):O.validateCoordinates({components:n,remove:i,type:r}))},updateAllStyles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.features&&e.features.length?h(h({},e),{},{features:e.features.map((function(e){return d()({},e,{style:(0,u.castArray)(e.style).map((function(e){return d()({},e,t)}))})}))}):e},getStartEndPointsForLinestring:function(){return[h(h({},x.Point),{},{highlight:!0,iconAnchor:[.5,.5],type:"Point",title:"StartPoint Style",geometry:"startPoint",filtering:!1,id:o()()}),h(h({},x.Point),{},{highlight:!0,iconAnchor:[.5,.5],type:"Point",title:"EndPoint Style",geometry:"endPoint",filtering:!1,id:o()()})]},DEFAULT_SHAPE:"triangle",DEFAULT_PATH:"product/assets/symbols/",checkSymbolsError:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"loading_symbols_path";return e.length&&-1!==(0,u.findIndex)(e,(function(e){return e===t}))},isAMissingSymbol:function(e){return e.symbolUrlCustomized===n(70898)},isCompletePolygon:R,getDashArrayFromStyle:F,isAnnotation:function(e){return(null==e?void 0:e.type)===A||"Annotations"===(null==e?void 0:e.name)}}},66287:(e,t,n)=>{"use strict";n.r(t),n.d(t,{isAttrPresent:()=>m,isStrokeStyle:()=>v,isFillStyle:()=>h,isTextStyle:()=>b,isCircleStyle:()=>O,isMarkerStyle:()=>P,isSymbolStyle:()=>S,getStylerTitle:()=>E,geometryFunctions:()=>w,getGeometryFunction:()=>C,registerGeometryFunctions:()=>x,addOpacityToColor:()=>A,hashCode:()=>T,registerStyle:()=>N,setSymbolsStyles:()=>_,fetchStyle:()=>F,getSymbolsStyles:()=>I,hashAndStringify:()=>L,domNodeToString:()=>k,createSvgUrl:()=>R,createStylesAsync:()=>M,getStyleParser:()=>D});var r=n(61545),o=n(61868),i=n(43143),a=n(9669),l=n.n(a),c=n(42757),u=n.n(c),s=n(50436),p=n.n(s);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g={sld:new(u()),css:new(p())},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.filter((function(t){return!(0,r.isNil)(e[t])})).length>0},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["color","opacity","dashArray","dashOffset","lineCap","lineJoin","weight"];return m(e,t)},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["fillColor","fillOpacity"];return m(e,t)},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["label","font","fontFamily","fontSize","fontStyle","fontWeight","textAlign","textRotationDeg"];return m(e,t)},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["radius"];return m(e,t)},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["iconGlyph","iconShape","iconUrl"];return m(e,t)},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["symbolUrl"];return m(e,t)},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return P(e)?"Marker":S(e)?"Symbol":b(e)?"Text":O(e)||"Circle Style"===e.title?"Circle":h(e)?"Polygon":v(e)?"Polyline":""},w={centerPoint:{type:"Point",func:function(){}},lineToArc:{type:"LineString",func:function(){}},startPoint:{type:"Point",func:function(){}},endPoint:{type:"Point",func:function(){}}},C=function(e,t){return w[e]&&w[e][t]},x=function(e,t,n){if(!(e&&t&&n))throw new Error("specify all the params: functionName, func, type");w[e]={func:t,type:n}},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#FFCC33",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2;return(0,o.t8)("a",t,e)},T=function(e){var t,n=0;if(0===e.length)return n;for(t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return n},j={},N=function(e,t){if(!e||!t)throw new Error("specify all the params: sha, style");j[e]=t},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};j=e},F=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"style";return j[e]&&j[e][t]},I=function(){return j},L=function(e){if(e)return T(JSON.stringify(e));throw new Error("hashAndStringify: specify mandatory params: style")},k=function(e){var t=document.createElement("div");return t.appendChild(e),t.innerHTML},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return S(e)&&e.symbolUrl?l().get(t,{"Content-Type":"image/svg+xml;charset=utf-8"}).then((function(t){var n=window.URL||window.webkitURL||window,o=(new DOMParser).parseFromString(t.data,"image/svg+xml").firstElementChild;o.setAttribute("fill",e.fillColor||"#FFCC33"),o.setAttribute("fill-opacity",(0,r.isNil)(e.fillOpacity)?.2:e.fillOpacity),o.setAttribute("stroke",(0,i.qq)(e.color||"#FFCC33",(0,r.isNil)(e.opacity)?1:e.opacity)),o.setAttribute("stroke-opacity",(0,r.isNil)(e.opacity)?1:e.opacity),o.setAttribute("stroke-width",e.weight||1),o.setAttribute("width",e.size||32),o.setAttribute("height",e.size||32),o.setAttribute("stroke-dasharray",e.dashArray||"none");var a=new Blob([k(o)],{type:"image/svg+xml;charset=utf-8"}),l=n.createObjectURL(a),c=document.createElement("canvas");c.width=e.size,c.height=e.size;var u=c.getContext("2d"),s=new Image;s.src=l;var p="",f=L(e);return s.onload=function(){try{u.drawImage(s,c.width/2-s.width/2,c.height/2-s.height/2),p=c.toDataURL("image/png"),c=null,N(f,{style:y(y({},e),{},{symbolUrlCustomized:l}),base64:p})}catch(e){return}},N(f,{style:y(y({},e),{},{symbolUrlCustomized:l}),svg:o,base64:p}),l})).catch((function(){return n(70898)})):new Promise((function(e){e(null)}))},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){return S(e)&&!F(L(e))?R(e,e.symbolUrl||e.symbolUrlCustomized).then((function(t){return t?y(y({},e),{},{symbolUrlCustomized:t}):F(L(e))})).catch((function(){return y(y({},e),{},{symbolUrlCustomized:n(70898)})})):new Promise((function(t){t(S(e)?F(L(e)):e)}))}))},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"sld";return g[e]}},38946:(e,t,n)=>{"use strict";n.d(t,{y7:()=>b,hH:()=>O});var r=n(73800),o=n(45801),i=n(86306),a=n(18369),l=n(78516),c=n(52),u=n(48041),s=n(78653),p=n(97950),f=n(52043),y=n(44538),d=n(52329),g=n(25642),m=n(759),v=n(69669),h=n(40353),b=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.type,r=t.coordinates,o=t.radius,i=t.center;switch(n){case"Point":e=new f.Z(r||[]);break;case"LineString":e=new y.Z(r||[]);break;case"MultiPoint":e=new d.Z(r||[]);break;case"MultiLineString":e=new g.Z(r||[]);break;case"MultiPolygon":e=new m.Z(r||[]);break;default:e=o&&i?(0,h.Bb)(new v.Z([i.x,i.y],o),100):new h.ZP(r||[])}return e},O={dragPan:{options:{kinetic:!1},Instance:r.Z},keyboardPan:{options:{kinetic:!1},Instance:o.Z},mouseWheelZoom:{options:{duration:0},Instance:i.Z},doubleClickZoom:{options:{duration:0},Instance:a.Z},shiftDragZoom:{options:{duration:0},Instance:l.Z},keyboardZoom:{options:{},Instance:c.Z},pinchZoom:{options:{duration:0},Instance:u.Z},pinchRotate:{options:{},Instance:s.Z},altShiftDragRotate:{options:{},Instance:p.Z}}},64210:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l=n(87883),c=n(44020),u=n(74851);function s(e,t){return t.encode?t.strict?l(e):encodeURIComponent(e):e}function p(e,t){return t.decode?c(e):e}function f(e){return Array.isArray(e)?e.sort():"object"===r(e)?f(Object.keys(e)).sort((function(e,t){return Number(e)-Number(t)})).map((function(t){return e[t]})):e}function y(e){var t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function d(e){var t=(e=y(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function g(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function m(e,t){var n=function(e){var t;switch(e.arrayFormat){case"index":return function(e,n,r){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return function(e,n,r){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"comma":return function(e,t,n){var r="string"==typeof t&&t.split("").indexOf(",")>-1?t.split(","):t;n[e]=r};default:return function(e,t,n){void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",parseNumbers:!1,parseBooleans:!1},t)),o=Object.create(null);if("string"!=typeof e)return o;if(!(e=e.trim().replace(/^[?#&]/,"")))return o;var a,l,c,s=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=i(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return l=e.done,e},e:function(e){c=!0,a=e},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw a}}}}(e.split("&"));try{for(s.s();!(a=s.n()).done;){var y=a.value,d=(l=u(t.decode?y.replace(/\+/g," "):y,"="),c=2,function(e){if(Array.isArray(e))return e}(l)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}}(l,c)||i(l,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),m=d[0],v=d[1];v=void 0===v?null:p(v,t),n(p(m,t),v,o)}}catch(e){s.e(e)}finally{s.f()}for(var h=0,b=Object.keys(o);h<b.length;h++){var O=b[h],P=o[O];if("object"===r(P)&&null!==P)for(var S=0,E=Object.keys(P);S<E.length;S++){var w=E[S];P[w]=g(P[w],t)}else o[O]=g(P,t)}return!1===t.sort?o:(!0===t.sort?Object.keys(o).sort():Object.keys(o).sort(t.sort)).reduce((function(e,t){var n=o[t];return Boolean(n)&&"object"===r(n)&&!Array.isArray(n)?e[t]=f(n):e[t]=n,e}),Object.create(null))}t.extract=d,t.parse=m,t.stringify=function(e,t){if(!e)return"";var n=function(e){switch(e.arrayFormat){case"index":return function(t){return function(n,r){var i=n.length;return void 0===r||e.skipNull&&null===r?n:[].concat(o(n),null===r?[[s(t,e),"[",i,"]"].join("")]:[[s(t,e),"[",s(i,e),"]=",s(r,e)].join("")])}};case"bracket":return function(t){return function(n,r){return void 0===r||e.skipNull&&null===r?n:[].concat(o(n),null===r?[[s(t,e),"[]"].join("")]:[[s(t,e),"[]=",s(r,e)].join("")])}};case"comma":return function(t){return function(n,r){return null==r||0===r.length?n:0===n.length?[[s(t,e),"=",s(r,e)].join("")]:[[n,s(r,e)].join(",")]}};default:return function(t){return function(n,r){return void 0===r||e.skipNull&&null===r?n:[].concat(o(n),null===r?[s(t,e)]:[[s(t,e),"=",s(r,e)].join("")])}}}}(t=Object.assign({encode:!0,strict:!0,arrayFormat:"none"},t)),r=Object.assign({},e);if(t.skipNull)for(var i=0,a=Object.keys(r);i<a.length;i++){var l=a[i];void 0!==r[l]&&null!==r[l]||delete r[l]}var c=Object.keys(r);return!1!==t.sort&&c.sort(t.sort),c.map((function(r){var o=e[r];return void 0===o?"":null===o?s(r,t):Array.isArray(o)?o.reduce(n(r),[]).join("&"):s(r,t)+"="+s(o,t)})).filter((function(e){return e.length>0})).join("&")},t.parseUrl=function(e,t){return{url:y(e).split("?")[0]||"",query:m(d(e),t)}}},47511:(e,t,n)=>{(e.exports=n(9252)()).push([e.id,".msgapi .form-control-intl {\r\n    background-color: unset !important;\r\n}\r\n",""])},60654:(e,t,n)=>{var r=n(47511);"string"==typeof r&&(r=[[e.id,r,""]]),n(14246)(r,{}),r.locals&&(e.exports=r.locals)}}]);